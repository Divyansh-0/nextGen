var uee=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var gYe=uee((wa,_a)=>{function VU(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function il(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sc(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var HU={exports:{}},nS={},WU={exports:{}},nr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1=Symbol.for("react.element"),dee=Symbol.for("react.portal"),hee=Symbol.for("react.fragment"),fee=Symbol.for("react.strict_mode"),pee=Symbol.for("react.profiler"),mee=Symbol.for("react.provider"),gee=Symbol.for("react.context"),vee=Symbol.for("react.forward_ref"),yee=Symbol.for("react.suspense"),bee=Symbol.for("react.memo"),xee=Symbol.for("react.lazy"),dI=Symbol.iterator;function wee(e){return e===null||typeof e!="object"?null:(e=dI&&e[dI]||e["@@iterator"],typeof e=="function"?e:null)}var GU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qU=Object.assign,YU={};function Dg(e,t,r){this.props=e,this.context=t,this.refs=YU,this.updater=r||GU}Dg.prototype.isReactComponent={};Dg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function XU(){}XU.prototype=Dg.prototype;function ok(e,t,r){this.props=e,this.context=t,this.refs=YU,this.updater=r||GU}var ak=ok.prototype=new XU;ak.constructor=ok;qU(ak,Dg.prototype);ak.isPureReactComponent=!0;var hI=Array.isArray,$U=Object.prototype.hasOwnProperty,sk={current:null},KU={key:!0,ref:!0,__self:!0,__source:!0};function QU(e,t,r){var n,i={},o=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)$U.call(t,n)&&!KU.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var a=Array(c),s=0;s<c;s++)a[s]=arguments[s+2];i.children=a}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:y1,type:e,key:o,ref:l,props:i,_owner:sk.current}}function _ee(e,t){return{$$typeof:y1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lk(e){return typeof e=="object"&&e!==null&&e.$$typeof===y1}function See(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var fI=/\/+/g;function u3(e,t){return typeof e=="object"&&e!==null&&e.key!=null?See(""+e.key):t.toString(36)}function lw(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case y1:case dee:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+u3(l,0):n,hI(i)?(r="",e!=null&&(r=e.replace(fI,"$&/")+"/"),lw(i,t,r,"",function(s){return s})):i!=null&&(lk(i)&&(i=_ee(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(fI,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",hI(e))for(var c=0;c<e.length;c++){o=e[c];var a=n+u3(o,c);l+=lw(o,t,r,a,i)}else if(a=wee(e),typeof a=="function")for(e=a.call(e),c=0;!(o=e.next()).done;)o=o.value,a=n+u3(o,c++),l+=lw(o,t,r,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ab(e,t,r){if(e==null)return e;var n=[],i=0;return lw(e,n,"","",function(o){return t.call(r,o,i++)}),n}function Eee(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Eo={current:null},cw={transition:null},Aee={ReactCurrentDispatcher:Eo,ReactCurrentBatchConfig:cw,ReactCurrentOwner:sk};function JU(){throw Error("act(...) is not supported in production builds of React.")}nr.Children={map:ab,forEach:function(e,t,r){ab(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ab(e,function(){t++}),t},toArray:function(e){return ab(e,function(t){return t})||[]},only:function(e){if(!lk(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nr.Component=Dg;nr.Fragment=hee;nr.Profiler=pee;nr.PureComponent=ok;nr.StrictMode=fee;nr.Suspense=yee;nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aee;nr.act=JU;nr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=qU({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=sk.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(a in t)$U.call(t,a)&&!KU.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&c!==void 0?c[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){c=Array(a);for(var s=0;s<a;s++)c[s]=arguments[s+2];n.children=c}return{$$typeof:y1,type:e.type,key:i,ref:o,props:n,_owner:l}};nr.createContext=function(e){return e={$$typeof:gee,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mee,_context:e},e.Consumer=e};nr.createElement=QU;nr.createFactory=function(e){var t=QU.bind(null,e);return t.type=e,t};nr.createRef=function(){return{current:null}};nr.forwardRef=function(e){return{$$typeof:vee,render:e}};nr.isValidElement=lk;nr.lazy=function(e){return{$$typeof:xee,_payload:{_status:-1,_result:e},_init:Eee}};nr.memo=function(e,t){return{$$typeof:bee,type:e,compare:t===void 0?null:t}};nr.startTransition=function(e){var t=cw.transition;cw.transition={};try{e()}finally{cw.transition=t}};nr.unstable_act=JU;nr.useCallback=function(e,t){return Eo.current.useCallback(e,t)};nr.useContext=function(e){return Eo.current.useContext(e)};nr.useDebugValue=function(){};nr.useDeferredValue=function(e){return Eo.current.useDeferredValue(e)};nr.useEffect=function(e,t){return Eo.current.useEffect(e,t)};nr.useId=function(){return Eo.current.useId()};nr.useImperativeHandle=function(e,t,r){return Eo.current.useImperativeHandle(e,t,r)};nr.useInsertionEffect=function(e,t){return Eo.current.useInsertionEffect(e,t)};nr.useLayoutEffect=function(e,t){return Eo.current.useLayoutEffect(e,t)};nr.useMemo=function(e,t){return Eo.current.useMemo(e,t)};nr.useReducer=function(e,t,r){return Eo.current.useReducer(e,t,r)};nr.useRef=function(e){return Eo.current.useRef(e)};nr.useState=function(e){return Eo.current.useState(e)};nr.useSyncExternalStore=function(e,t,r){return Eo.current.useSyncExternalStore(e,t,r)};nr.useTransition=function(){return Eo.current.useTransition()};nr.version="18.3.1";WU.exports=nr;var G=WU.exports;const Et=il(G),e_=VU({__proto__:null,default:Et},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cee=G,Mee=Symbol.for("react.element"),Tee=Symbol.for("react.fragment"),Pee=Object.prototype.hasOwnProperty,kee=Cee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dee={key:!0,ref:!0,__self:!0,__source:!0};function ZU(e,t,r){var n,i={},o=null,l=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Pee.call(t,n)&&!Dee.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Mee,type:e,key:o,ref:l,props:i,_owner:kee.current}}nS.Fragment=Tee;nS.jsx=ZU;nS.jsxs=ZU;HU.exports=nS;var F=HU.exports,aT={},eV={exports:{}},Pa={},tV={exports:{}},rV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,N){var L=I.length;I.push(N);e:for(;0<L;){var B=L-1>>>1,R=I[B];if(0<i(R,N))I[B]=N,I[L]=R,L=B;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var N=I[0],L=I.pop();if(L!==N){I[0]=L;e:for(var B=0,R=I.length,z=R>>>1;B<z;){var W=2*(B+1)-1,U=I[W],H=W+1,X=I[H];if(0>i(U,L))H<R&&0>i(X,U)?(I[B]=X,I[H]=L,B=H):(I[B]=U,I[W]=L,B=W);else if(H<R&&0>i(X,L))I[B]=X,I[H]=L,B=H;else break e}}return N}function i(I,N){var L=I.sortIndex-N.sortIndex;return L!==0?L:I.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var a=[],s=[],u=1,d=null,h=3,f=!1,m=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var N=r(s);N!==null;){if(N.callback===null)n(s);else if(N.startTime<=I)n(s),N.sortIndex=N.expirationTime,t(a,N);else break;N=r(s)}}function b(I){if(p=!1,y(I),!m)if(r(a)!==null)m=!0,j(w);else{var N=r(s);N!==null&&O(b,N.startTime-I)}}function w(I,N){m=!1,p&&(p=!1,v(E),E=-1),f=!0;var L=h;try{for(y(N),d=r(a);d!==null&&(!(d.expirationTime>N)||I&&!T());){var B=d.callback;if(typeof B=="function"){d.callback=null,h=d.priorityLevel;var R=B(d.expirationTime<=N);N=e.unstable_now(),typeof R=="function"?d.callback=R:d===r(a)&&n(a),y(N)}else n(a);d=r(a)}if(d!==null)var z=!0;else{var W=r(s);W!==null&&O(b,W.startTime-N),z=!1}return z}finally{d=null,h=L,f=!1}}var _=!1,S=null,E=-1,C=5,A=-1;function T(){return!(e.unstable_now()-A<C)}function k(){if(S!==null){var I=e.unstable_now();A=I;var N=!0;try{N=S(!0,I)}finally{N?D():(_=!1,S=null)}}else _=!1}var D;if(typeof x=="function")D=function(){x(k)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,P=M.port2;M.port1.onmessage=k,D=function(){P.postMessage(null)}}else D=function(){g(k,0)};function j(I){S=I,_||(_=!0,D())}function O(I,N){E=g(function(){I(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,j(w))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var L=h;h=N;try{return I()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,N){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var L=h;h=I;try{return N()}finally{h=L}},e.unstable_scheduleCallback=function(I,N,L){var B=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?B+L:B):L=B,I){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=L+R,I={id:u++,callback:N,priorityLevel:I,startTime:L,expirationTime:R,sortIndex:-1},L>B?(I.sortIndex=L,t(s,I),r(a)===null&&I===r(s)&&(p?(v(E),E=-1):p=!0,O(b,L-B))):(I.sortIndex=R,t(a,I),m||f||(m=!0,j(w))),I},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(I){var N=h;return function(){var L=h;h=N;try{return I.apply(this,arguments)}finally{h=L}}}})(rV);tV.exports=rV;var jee=tV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iee=G,Ma=jee;function Ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nV=new Set,by={};function kf(e,t){Qm(e,t),Qm(e+"Capture",t)}function Qm(e,t){for(by[e]=t,e=0;e<t.length;e++)nV.add(t[e])}var su=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sT=Object.prototype.hasOwnProperty,Oee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pI={},mI={};function Ree(e){return sT.call(mI,e)?!0:sT.call(pI,e)?!1:Oee.test(e)?mI[e]=!0:(pI[e]=!0,!1)}function Lee(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zee(e,t,r,n){if(t===null||typeof t>"u"||Lee(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ao(e,t,r,n,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var ji={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ji[e]=new Ao(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ji[t]=new Ao(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ji[e]=new Ao(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ji[e]=new Ao(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ji[e]=new Ao(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ji[e]=new Ao(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ji[e]=new Ao(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ji[e]=new Ao(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ji[e]=new Ao(e,5,!1,e.toLowerCase(),null,!1,!1)});var ck=/[\-:]([a-z])/g;function uk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ck,uk);ji[t]=new Ao(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ck,uk);ji[t]=new Ao(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ck,uk);ji[t]=new Ao(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ji[e]=new Ao(e,1,!1,e.toLowerCase(),null,!1,!1)});ji.xlinkHref=new Ao("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ji[e]=new Ao(e,1,!1,e.toLowerCase(),null,!0,!0)});function dk(e,t,r,n){var i=ji.hasOwnProperty(t)?ji[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zee(t,r,i,n)&&(r=null),n||i===null?Ree(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var xu=Iee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sb=Symbol.for("react.element"),Wp=Symbol.for("react.portal"),Gp=Symbol.for("react.fragment"),hk=Symbol.for("react.strict_mode"),lT=Symbol.for("react.profiler"),iV=Symbol.for("react.provider"),oV=Symbol.for("react.context"),fk=Symbol.for("react.forward_ref"),cT=Symbol.for("react.suspense"),uT=Symbol.for("react.suspense_list"),pk=Symbol.for("react.memo"),Ku=Symbol.for("react.lazy"),aV=Symbol.for("react.offscreen"),gI=Symbol.iterator;function m0(e){return e===null||typeof e!="object"?null:(e=gI&&e[gI]||e["@@iterator"],typeof e=="function"?e:null)}var un=Object.assign,d3;function yv(e){if(d3===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);d3=t&&t[1]||""}return`
`+d3+e}var h3=!1;function f3(e,t){if(!e||h3)return"";h3=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var n=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){n=s}e.call(t.prototype)}else{try{throw Error()}catch(s){n=s}e()}}catch(s){if(s&&n&&typeof s.stack=="string"){for(var i=s.stack.split(`
`),o=n.stack.split(`
`),l=i.length-1,c=o.length-1;1<=l&&0<=c&&i[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(i[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||i[l]!==o[c]){var a=`
`+i[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=c);break}}}finally{h3=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?yv(e):""}function Nee(e){switch(e.tag){case 5:return yv(e.type);case 16:return yv("Lazy");case 13:return yv("Suspense");case 19:return yv("SuspenseList");case 0:case 2:case 15:return e=f3(e.type,!1),e;case 11:return e=f3(e.type.render,!1),e;case 1:return e=f3(e.type,!0),e;default:return""}}function dT(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gp:return"Fragment";case Wp:return"Portal";case lT:return"Profiler";case hk:return"StrictMode";case cT:return"Suspense";case uT:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case oV:return(e.displayName||"Context")+".Consumer";case iV:return(e._context.displayName||"Context")+".Provider";case fk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pk:return t=e.displayName||null,t!==null?t:dT(e.type)||"Memo";case Ku:t=e._payload,e=e._init;try{return dT(e(t))}catch{}}return null}function Bee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dT(t);case 8:return t===hk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ld(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sV(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fee(e){var t=sV(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lb(e){e._valueTracker||(e._valueTracker=Fee(e))}function lV(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sV(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function t_(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hT(e,t){var r=t.checked;return un({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function vI(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ld(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cV(e,t){t=t.checked,t!=null&&dk(e,"checked",t,!1)}function fT(e,t){cV(e,t);var r=Ld(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pT(e,t.type,r):t.hasOwnProperty("defaultValue")&&pT(e,t.type,Ld(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yI(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function pT(e,t,r){(t!=="number"||t_(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bv=Array.isArray;function wm(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ld(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function mT(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return un({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bI(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ge(92));if(bv(r)){if(1<r.length)throw Error(Ge(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ld(r)}}function uV(e,t){var r=Ld(t.value),n=Ld(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xI(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dV(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gT(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dV(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cb,hV=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cb=cb||document.createElement("div"),cb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xy(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Nv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uee=["Webkit","ms","Moz","O"];Object.keys(Nv).forEach(function(e){Uee.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nv[t]=Nv[e]})});function fV(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Nv.hasOwnProperty(e)&&Nv[e]?(""+t).trim():t+"px"}function pV(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=fV(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Vee=un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vT(e,t){if(t){if(Vee[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ge(62))}}function yT(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bT=null;function mk(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xT=null,_m=null,Sm=null;function wI(e){if(e=w1(e)){if(typeof xT!="function")throw Error(Ge(280));var t=e.stateNode;t&&(t=lS(t),xT(e.stateNode,e.type,t))}}function mV(e){_m?Sm?Sm.push(e):Sm=[e]:_m=e}function gV(){if(_m){var e=_m,t=Sm;if(Sm=_m=null,wI(e),t)for(e=0;e<t.length;e++)wI(t[e])}}function vV(e,t){return e(t)}function yV(){}var p3=!1;function bV(e,t,r){if(p3)return e(t,r);p3=!0;try{return vV(e,t,r)}finally{p3=!1,(_m!==null||Sm!==null)&&(yV(),gV())}}function wy(e,t){var r=e.stateNode;if(r===null)return null;var n=lS(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ge(231,t,typeof r));return r}var wT=!1;if(su)try{var g0={};Object.defineProperty(g0,"passive",{get:function(){wT=!0}}),window.addEventListener("test",g0,g0),window.removeEventListener("test",g0,g0)}catch{wT=!1}function Hee(e,t,r,n,i,o,l,c,a){var s=Array.prototype.slice.call(arguments,3);try{t.apply(r,s)}catch(u){this.onError(u)}}var Bv=!1,r_=null,n_=!1,_T=null,Wee={onError:function(e){Bv=!0,r_=e}};function Gee(e,t,r,n,i,o,l,c,a){Bv=!1,r_=null,Hee.apply(Wee,arguments)}function qee(e,t,r,n,i,o,l,c,a){if(Gee.apply(this,arguments),Bv){if(Bv){var s=r_;Bv=!1,r_=null}else throw Error(Ge(198));n_||(n_=!0,_T=s)}}function Df(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function xV(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _I(e){if(Df(e)!==e)throw Error(Ge(188))}function Yee(e){var t=e.alternate;if(!t){if(t=Df(e),t===null)throw Error(Ge(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return _I(i),e;if(o===n)return _I(i),t;o=o.sibling}throw Error(Ge(188))}if(r.return!==n.return)r=i,n=o;else{for(var l=!1,c=i.child;c;){if(c===r){l=!0,r=i,n=o;break}if(c===n){l=!0,n=i,r=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===r){l=!0,r=o,n=i;break}if(c===n){l=!0,n=o,r=i;break}c=c.sibling}if(!l)throw Error(Ge(189))}}if(r.alternate!==n)throw Error(Ge(190))}if(r.tag!==3)throw Error(Ge(188));return r.stateNode.current===r?e:t}function wV(e){return e=Yee(e),e!==null?_V(e):null}function _V(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_V(e);if(t!==null)return t;e=e.sibling}return null}var SV=Ma.unstable_scheduleCallback,SI=Ma.unstable_cancelCallback,Xee=Ma.unstable_shouldYield,$ee=Ma.unstable_requestPaint,kn=Ma.unstable_now,Kee=Ma.unstable_getCurrentPriorityLevel,gk=Ma.unstable_ImmediatePriority,EV=Ma.unstable_UserBlockingPriority,i_=Ma.unstable_NormalPriority,Qee=Ma.unstable_LowPriority,AV=Ma.unstable_IdlePriority,iS=null,Wl=null;function Jee(e){if(Wl&&typeof Wl.onCommitFiberRoot=="function")try{Wl.onCommitFiberRoot(iS,e,void 0,(e.current.flags&128)===128)}catch{}}var Qs=Math.clz32?Math.clz32:tte,Zee=Math.log,ete=Math.LN2;function tte(e){return e>>>=0,e===0?32:31-(Zee(e)/ete|0)|0}var ub=64,db=4194304;function xv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function o_(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,l=r&268435455;if(l!==0){var c=l&~i;c!==0?n=xv(c):(o&=l,o!==0&&(n=xv(o)))}else l=r&~i,l!==0?n=xv(l):o!==0&&(n=xv(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Qs(t),i=1<<r,n|=e[r],t&=~i;return n}function rte(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nte(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Qs(o),c=1<<l,a=i[l];a===-1?(!(c&r)||c&n)&&(i[l]=rte(c,t)):a<=t&&(e.expiredLanes|=c),o&=~c}}function ST(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function CV(){var e=ub;return ub<<=1,!(ub&4194240)&&(ub=64),e}function m3(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function b1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qs(t),e[t]=r}function ite(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Qs(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function vk(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Qs(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Mr=0;function MV(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var TV,yk,PV,kV,DV,ET=!1,hb=[],xd=null,wd=null,_d=null,_y=new Map,Sy=new Map,td=[],ote="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function EI(e,t){switch(e){case"focusin":case"focusout":xd=null;break;case"dragenter":case"dragleave":wd=null;break;case"mouseover":case"mouseout":_d=null;break;case"pointerover":case"pointerout":_y.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sy.delete(t.pointerId)}}function v0(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=w1(t),t!==null&&yk(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ate(e,t,r,n,i){switch(t){case"focusin":return xd=v0(xd,e,t,r,n,i),!0;case"dragenter":return wd=v0(wd,e,t,r,n,i),!0;case"mouseover":return _d=v0(_d,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return _y.set(o,v0(_y.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Sy.set(o,v0(Sy.get(o)||null,e,t,r,n,i)),!0}return!1}function jV(e){var t=Ih(e.target);if(t!==null){var r=Df(t);if(r!==null){if(t=r.tag,t===13){if(t=xV(r),t!==null){e.blockedOn=t,DV(e.priority,function(){PV(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=AT(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);bT=n,r.target.dispatchEvent(n),bT=null}else return t=w1(r),t!==null&&yk(t),e.blockedOn=r,!1;t.shift()}return!0}function AI(e,t,r){uw(e)&&r.delete(t)}function ste(){ET=!1,xd!==null&&uw(xd)&&(xd=null),wd!==null&&uw(wd)&&(wd=null),_d!==null&&uw(_d)&&(_d=null),_y.forEach(AI),Sy.forEach(AI)}function y0(e,t){e.blockedOn===t&&(e.blockedOn=null,ET||(ET=!0,Ma.unstable_scheduleCallback(Ma.unstable_NormalPriority,ste)))}function Ey(e){function t(i){return y0(i,e)}if(0<hb.length){y0(hb[0],e);for(var r=1;r<hb.length;r++){var n=hb[r];n.blockedOn===e&&(n.blockedOn=null)}}for(xd!==null&&y0(xd,e),wd!==null&&y0(wd,e),_d!==null&&y0(_d,e),_y.forEach(t),Sy.forEach(t),r=0;r<td.length;r++)n=td[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<td.length&&(r=td[0],r.blockedOn===null);)jV(r),r.blockedOn===null&&td.shift()}var Em=xu.ReactCurrentBatchConfig,a_=!0;function lte(e,t,r,n){var i=Mr,o=Em.transition;Em.transition=null;try{Mr=1,bk(e,t,r,n)}finally{Mr=i,Em.transition=o}}function cte(e,t,r,n){var i=Mr,o=Em.transition;Em.transition=null;try{Mr=4,bk(e,t,r,n)}finally{Mr=i,Em.transition=o}}function bk(e,t,r,n){if(a_){var i=AT(e,t,r,n);if(i===null)A3(e,t,n,s_,r),EI(e,n);else if(ate(i,e,t,r,n))n.stopPropagation();else if(EI(e,n),t&4&&-1<ote.indexOf(e)){for(;i!==null;){var o=w1(i);if(o!==null&&TV(o),o=AT(e,t,r,n),o===null&&A3(e,t,n,s_,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else A3(e,t,n,null,r)}}var s_=null;function AT(e,t,r,n){if(s_=null,e=mk(n),e=Ih(e),e!==null)if(t=Df(e),t===null)e=null;else if(r=t.tag,r===13){if(e=xV(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return s_=e,null}function IV(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kee()){case gk:return 1;case EV:return 4;case i_:case Qee:return 16;case AV:return 536870912;default:return 16}default:return 16}}var ld=null,xk=null,dw=null;function OV(){if(dw)return dw;var e,t=xk,r=t.length,n,i="value"in ld?ld.value:ld.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[o-n];n++);return dw=i.slice(e,1<n?1-n:void 0)}function hw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fb(){return!0}function CI(){return!1}function ka(e){function t(r,n,i,o,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?fb:CI,this.isPropagationStopped=CI,this}return un(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fb)},persist:function(){},isPersistent:fb}),t}var jg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wk=ka(jg),x1=un({},jg,{view:0,detail:0}),ute=ka(x1),g3,v3,b0,oS=un({},x1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_k,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==b0&&(b0&&e.type==="mousemove"?(g3=e.screenX-b0.screenX,v3=e.screenY-b0.screenY):v3=g3=0,b0=e),g3)},movementY:function(e){return"movementY"in e?e.movementY:v3}}),MI=ka(oS),dte=un({},oS,{dataTransfer:0}),hte=ka(dte),fte=un({},x1,{relatedTarget:0}),y3=ka(fte),pte=un({},jg,{animationName:0,elapsedTime:0,pseudoElement:0}),mte=ka(pte),gte=un({},jg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vte=ka(gte),yte=un({},jg,{data:0}),TI=ka(yte),bte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _te(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wte[e])?!!t[e]:!1}function _k(){return _te}var Ste=un({},x1,{key:function(e){if(e.key){var t=bte[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xte[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_k,charCode:function(e){return e.type==="keypress"?hw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ete=ka(Ste),Ate=un({},oS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PI=ka(Ate),Cte=un({},x1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_k}),Mte=ka(Cte),Tte=un({},jg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pte=ka(Tte),kte=un({},oS,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dte=ka(kte),jte=[9,13,27,32],Sk=su&&"CompositionEvent"in window,Fv=null;su&&"documentMode"in document&&(Fv=document.documentMode);var Ite=su&&"TextEvent"in window&&!Fv,RV=su&&(!Sk||Fv&&8<Fv&&11>=Fv),kI=" ",DI=!1;function LV(e,t){switch(e){case"keyup":return jte.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zV(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qp=!1;function Ote(e,t){switch(e){case"compositionend":return zV(t);case"keypress":return t.which!==32?null:(DI=!0,kI);case"textInput":return e=t.data,e===kI&&DI?null:e;default:return null}}function Rte(e,t){if(qp)return e==="compositionend"||!Sk&&LV(e,t)?(e=OV(),dw=xk=ld=null,qp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return RV&&t.locale!=="ko"?null:t.data;default:return null}}var Lte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lte[e.type]:t==="textarea"}function NV(e,t,r,n){mV(n),t=l_(t,"onChange"),0<t.length&&(r=new wk("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Uv=null,Ay=null;function zte(e){$V(e,0)}function aS(e){var t=$p(e);if(lV(t))return e}function Nte(e,t){if(e==="change")return t}var BV=!1;if(su){var b3;if(su){var x3="oninput"in document;if(!x3){var II=document.createElement("div");II.setAttribute("oninput","return;"),x3=typeof II.oninput=="function"}b3=x3}else b3=!1;BV=b3&&(!document.documentMode||9<document.documentMode)}function OI(){Uv&&(Uv.detachEvent("onpropertychange",FV),Ay=Uv=null)}function FV(e){if(e.propertyName==="value"&&aS(Ay)){var t=[];NV(t,Ay,e,mk(e)),bV(zte,t)}}function Bte(e,t,r){e==="focusin"?(OI(),Uv=t,Ay=r,Uv.attachEvent("onpropertychange",FV)):e==="focusout"&&OI()}function Fte(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return aS(Ay)}function Ute(e,t){if(e==="click")return aS(t)}function Vte(e,t){if(e==="input"||e==="change")return aS(t)}function Hte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var el=typeof Object.is=="function"?Object.is:Hte;function Cy(e,t){if(el(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!sT.call(t,i)||!el(e[i],t[i]))return!1}return!0}function RI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function LI(e,t){var r=RI(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=RI(r)}}function UV(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?UV(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function VV(){for(var e=window,t=t_();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=t_(e.document)}return t}function Ek(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wte(e){var t=VV(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&UV(r.ownerDocument.documentElement,r)){if(n!==null&&Ek(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=LI(r,o);var l=LI(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gte=su&&"documentMode"in document&&11>=document.documentMode,Yp=null,CT=null,Vv=null,MT=!1;function zI(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;MT||Yp==null||Yp!==t_(n)||(n=Yp,"selectionStart"in n&&Ek(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vv&&Cy(Vv,n)||(Vv=n,n=l_(CT,"onSelect"),0<n.length&&(t=new wk("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Yp)))}function pb(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xp={animationend:pb("Animation","AnimationEnd"),animationiteration:pb("Animation","AnimationIteration"),animationstart:pb("Animation","AnimationStart"),transitionend:pb("Transition","TransitionEnd")},w3={},HV={};su&&(HV=document.createElement("div").style,"AnimationEvent"in window||(delete Xp.animationend.animation,delete Xp.animationiteration.animation,delete Xp.animationstart.animation),"TransitionEvent"in window||delete Xp.transitionend.transition);function sS(e){if(w3[e])return w3[e];if(!Xp[e])return e;var t=Xp[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in HV)return w3[e]=t[r];return e}var WV=sS("animationend"),GV=sS("animationiteration"),qV=sS("animationstart"),YV=sS("transitionend"),XV=new Map,NI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wd(e,t){XV.set(e,t),kf(t,[e])}for(var _3=0;_3<NI.length;_3++){var S3=NI[_3],qte=S3.toLowerCase(),Yte=S3[0].toUpperCase()+S3.slice(1);Wd(qte,"on"+Yte)}Wd(WV,"onAnimationEnd");Wd(GV,"onAnimationIteration");Wd(qV,"onAnimationStart");Wd("dblclick","onDoubleClick");Wd("focusin","onFocus");Wd("focusout","onBlur");Wd(YV,"onTransitionEnd");Qm("onMouseEnter",["mouseout","mouseover"]);Qm("onMouseLeave",["mouseout","mouseover"]);Qm("onPointerEnter",["pointerout","pointerover"]);Qm("onPointerLeave",["pointerout","pointerover"]);kf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kf("onBeforeInput",["compositionend","keypress","textInput","paste"]);kf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xte=new Set("cancel close invalid load scroll toggle".split(" ").concat(wv));function BI(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,qee(n,t,void 0,e),e.currentTarget=null}function $V(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var l=n.length-1;0<=l;l--){var c=n[l],a=c.instance,s=c.currentTarget;if(c=c.listener,a!==o&&i.isPropagationStopped())break e;BI(i,c,s),o=a}else for(l=0;l<n.length;l++){if(c=n[l],a=c.instance,s=c.currentTarget,c=c.listener,a!==o&&i.isPropagationStopped())break e;BI(i,c,s),o=a}}}if(n_)throw e=_T,n_=!1,_T=null,e}function Gr(e,t){var r=t[jT];r===void 0&&(r=t[jT]=new Set);var n=e+"__bubble";r.has(n)||(KV(t,e,2,!1),r.add(n))}function E3(e,t,r){var n=0;t&&(n|=4),KV(r,e,n,t)}var mb="_reactListening"+Math.random().toString(36).slice(2);function My(e){if(!e[mb]){e[mb]=!0,nV.forEach(function(r){r!=="selectionchange"&&(Xte.has(r)||E3(r,!1,e),E3(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mb]||(t[mb]=!0,E3("selectionchange",!1,t))}}function KV(e,t,r,n){switch(IV(t)){case 1:var i=lte;break;case 4:i=cte;break;default:i=bk}r=i.bind(null,t,r,e),i=void 0,!wT||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function A3(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;c!==null;){if(l=Ih(c),l===null)return;if(a=l.tag,a===5||a===6){n=o=l;continue e}c=c.parentNode}}n=n.return}bV(function(){var s=o,u=mk(r),d=[];e:{var h=XV.get(e);if(h!==void 0){var f=wk,m=e;switch(e){case"keypress":if(hw(r)===0)break e;case"keydown":case"keyup":f=Ete;break;case"focusin":m="focus",f=y3;break;case"focusout":m="blur",f=y3;break;case"beforeblur":case"afterblur":f=y3;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=MI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=hte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Mte;break;case WV:case GV:case qV:f=mte;break;case YV:f=Pte;break;case"scroll":f=ute;break;case"wheel":f=Dte;break;case"copy":case"cut":case"paste":f=vte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=PI}var p=(t&4)!==0,g=!p&&e==="scroll",v=p?h!==null?h+"Capture":null:h;p=[];for(var x=s,y;x!==null;){y=x;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,v!==null&&(b=wy(x,v),b!=null&&p.push(Ty(x,b,y)))),g)break;x=x.return}0<p.length&&(h=new f(h,m,null,r,u),d.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&r!==bT&&(m=r.relatedTarget||r.fromElement)&&(Ih(m)||m[lu]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=r.relatedTarget||r.toElement,f=s,m=m?Ih(m):null,m!==null&&(g=Df(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=s),f!==m)){if(p=MI,b="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(p=PI,b="onPointerLeave",v="onPointerEnter",x="pointer"),g=f==null?h:$p(f),y=m==null?h:$p(m),h=new p(b,x+"leave",f,r,u),h.target=g,h.relatedTarget=y,b=null,Ih(u)===s&&(p=new p(v,x+"enter",m,r,u),p.target=y,p.relatedTarget=g,b=p),g=b,f&&m)t:{for(p=f,v=m,x=0,y=p;y;y=Hf(y))x++;for(y=0,b=v;b;b=Hf(b))y++;for(;0<x-y;)p=Hf(p),x--;for(;0<y-x;)v=Hf(v),y--;for(;x--;){if(p===v||v!==null&&p===v.alternate)break t;p=Hf(p),v=Hf(v)}p=null}else p=null;f!==null&&FI(d,h,f,p,!1),m!==null&&g!==null&&FI(d,g,m,p,!0)}}e:{if(h=s?$p(s):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var w=Nte;else if(jI(h))if(BV)w=Vte;else{w=Fte;var _=Bte}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=Ute);if(w&&(w=w(e,s))){NV(d,w,r,u);break e}_&&_(e,h,s),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&pT(h,"number",h.value)}switch(_=s?$p(s):window,e){case"focusin":(jI(_)||_.contentEditable==="true")&&(Yp=_,CT=s,Vv=null);break;case"focusout":Vv=CT=Yp=null;break;case"mousedown":MT=!0;break;case"contextmenu":case"mouseup":case"dragend":MT=!1,zI(d,r,u);break;case"selectionchange":if(Gte)break;case"keydown":case"keyup":zI(d,r,u)}var S;if(Sk)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else qp?LV(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(RV&&r.locale!=="ko"&&(qp||E!=="onCompositionStart"?E==="onCompositionEnd"&&qp&&(S=OV()):(ld=u,xk="value"in ld?ld.value:ld.textContent,qp=!0)),_=l_(s,E),0<_.length&&(E=new TI(E,e,null,r,u),d.push({event:E,listeners:_}),S?E.data=S:(S=zV(r),S!==null&&(E.data=S)))),(S=Ite?Ote(e,r):Rte(e,r))&&(s=l_(s,"onBeforeInput"),0<s.length&&(u=new TI("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:s}),u.data=S))}$V(d,t)})}function Ty(e,t,r){return{instance:e,listener:t,currentTarget:r}}function l_(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=wy(e,r),o!=null&&n.unshift(Ty(e,o,i)),o=wy(e,t),o!=null&&n.push(Ty(e,o,i))),e=e.return}return n}function Hf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function FI(e,t,r,n,i){for(var o=t._reactName,l=[];r!==null&&r!==n;){var c=r,a=c.alternate,s=c.stateNode;if(a!==null&&a===n)break;c.tag===5&&s!==null&&(c=s,i?(a=wy(r,o),a!=null&&l.unshift(Ty(r,a,c))):i||(a=wy(r,o),a!=null&&l.push(Ty(r,a,c)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var $te=/\r\n?/g,Kte=/\u0000|\uFFFD/g;function UI(e){return(typeof e=="string"?e:""+e).replace($te,`
`).replace(Kte,"")}function gb(e,t,r){if(t=UI(t),UI(e)!==t&&r)throw Error(Ge(425))}function c_(){}var TT=null,PT=null;function kT(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var DT=typeof setTimeout=="function"?setTimeout:void 0,Qte=typeof clearTimeout=="function"?clearTimeout:void 0,VI=typeof Promise=="function"?Promise:void 0,Jte=typeof queueMicrotask=="function"?queueMicrotask:typeof VI<"u"?function(e){return VI.resolve(null).then(e).catch(Zte)}:DT;function Zte(e){setTimeout(function(){throw e})}function C3(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ey(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ey(t)}function Sd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function HI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ig=Math.random().toString(36).slice(2),Ol="__reactFiber$"+Ig,Py="__reactProps$"+Ig,lu="__reactContainer$"+Ig,jT="__reactEvents$"+Ig,ere="__reactListeners$"+Ig,tre="__reactHandles$"+Ig;function Ih(e){var t=e[Ol];if(t)return t;for(var r=e.parentNode;r;){if(t=r[lu]||r[Ol]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=HI(e);e!==null;){if(r=e[Ol])return r;e=HI(e)}return t}e=r,r=e.parentNode}return null}function w1(e){return e=e[Ol]||e[lu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $p(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ge(33))}function lS(e){return e[Py]||null}var IT=[],Kp=-1;function Gd(e){return{current:e}}function Xr(e){0>Kp||(e.current=IT[Kp],IT[Kp]=null,Kp--)}function Hr(e,t){Kp++,IT[Kp]=e.current,e.current=t}var zd={},Qi=Gd(zd),Ho=Gd(!1),af=zd;function Jm(e,t){var r=e.type.contextTypes;if(!r)return zd;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Wo(e){return e=e.childContextTypes,e!=null}function u_(){Xr(Ho),Xr(Qi)}function WI(e,t,r){if(Qi.current!==zd)throw Error(Ge(168));Hr(Qi,t),Hr(Ho,r)}function QV(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Ge(108,Bee(e)||"Unknown",i));return un({},r,n)}function d_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zd,af=Qi.current,Hr(Qi,e),Hr(Ho,Ho.current),!0}function GI(e,t,r){var n=e.stateNode;if(!n)throw Error(Ge(169));r?(e=QV(e,t,af),n.__reactInternalMemoizedMergedChildContext=e,Xr(Ho),Xr(Qi),Hr(Qi,e)):Xr(Ho),Hr(Ho,r)}var Lc=null,cS=!1,M3=!1;function JV(e){Lc===null?Lc=[e]:Lc.push(e)}function rre(e){cS=!0,JV(e)}function qd(){if(!M3&&Lc!==null){M3=!0;var e=0,t=Mr;try{var r=Lc;for(Mr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Lc=null,cS=!1}catch(i){throw Lc!==null&&(Lc=Lc.slice(e+1)),SV(gk,qd),i}finally{Mr=t,M3=!1}}return null}var Qp=[],Jp=0,h_=null,f_=0,Qa=[],Ja=0,sf=null,Gc=1,qc="";function fh(e,t){Qp[Jp++]=f_,Qp[Jp++]=h_,h_=e,f_=t}function ZV(e,t,r){Qa[Ja++]=Gc,Qa[Ja++]=qc,Qa[Ja++]=sf,sf=e;var n=Gc;e=qc;var i=32-Qs(n)-1;n&=~(1<<i),r+=1;var o=32-Qs(t)+i;if(30<o){var l=i-i%5;o=(n&(1<<l)-1).toString(32),n>>=l,i-=l,Gc=1<<32-Qs(t)+i|r<<i|n,qc=o+e}else Gc=1<<o|r<<i|n,qc=e}function Ak(e){e.return!==null&&(fh(e,1),ZV(e,1,0))}function Ck(e){for(;e===h_;)h_=Qp[--Jp],Qp[Jp]=null,f_=Qp[--Jp],Qp[Jp]=null;for(;e===sf;)sf=Qa[--Ja],Qa[Ja]=null,qc=Qa[--Ja],Qa[Ja]=null,Gc=Qa[--Ja],Qa[Ja]=null}var Sa=null,ga=null,Jr=!1,Vs=null;function eH(e,t){var r=is(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function qI(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Sa=e,ga=Sd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Sa=e,ga=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=sf!==null?{id:Gc,overflow:qc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=is(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Sa=e,ga=null,!0):!1;default:return!1}}function OT(e){return(e.mode&1)!==0&&(e.flags&128)===0}function RT(e){if(Jr){var t=ga;if(t){var r=t;if(!qI(e,t)){if(OT(e))throw Error(Ge(418));t=Sd(r.nextSibling);var n=Sa;t&&qI(e,t)?eH(n,r):(e.flags=e.flags&-4097|2,Jr=!1,Sa=e)}}else{if(OT(e))throw Error(Ge(418));e.flags=e.flags&-4097|2,Jr=!1,Sa=e}}}function YI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Sa=e}function vb(e){if(e!==Sa)return!1;if(!Jr)return YI(e),Jr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kT(e.type,e.memoizedProps)),t&&(t=ga)){if(OT(e))throw tH(),Error(Ge(418));for(;t;)eH(e,t),t=Sd(t.nextSibling)}if(YI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ga=Sd(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ga=null}}else ga=Sa?Sd(e.stateNode.nextSibling):null;return!0}function tH(){for(var e=ga;e;)e=Sd(e.nextSibling)}function Zm(){ga=Sa=null,Jr=!1}function Mk(e){Vs===null?Vs=[e]:Vs.push(e)}var nre=xu.ReactCurrentBatchConfig;function x0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ge(309));var n=r.stateNode}if(!n)throw Error(Ge(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var c=i.refs;l===null?delete c[o]:c[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(Ge(284));if(!r._owner)throw Error(Ge(290,e))}return e}function yb(e,t){throw e=Object.prototype.toString.call(t),Error(Ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function XI(e){var t=e._init;return t(e._payload)}function rH(e){function t(v,x){if(e){var y=v.deletions;y===null?(v.deletions=[x],v.flags|=16):y.push(x)}}function r(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=Md(v,x),v.index=0,v.sibling=null,v}function o(v,x,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<x?(v.flags|=2,x):y):(v.flags|=2,x)):(v.flags|=1048576,x)}function l(v){return e&&v.alternate===null&&(v.flags|=2),v}function c(v,x,y,b){return x===null||x.tag!==6?(x=O3(y,v.mode,b),x.return=v,x):(x=i(x,y),x.return=v,x)}function a(v,x,y,b){var w=y.type;return w===Gp?u(v,x,y.props.children,b,y.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ku&&XI(w)===x.type)?(b=i(x,y.props),b.ref=x0(v,x,y),b.return=v,b):(b=bw(y.type,y.key,y.props,null,v.mode,b),b.ref=x0(v,x,y),b.return=v,b)}function s(v,x,y,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=R3(y,v.mode,b),x.return=v,x):(x=i(x,y.children||[]),x.return=v,x)}function u(v,x,y,b,w){return x===null||x.tag!==7?(x=Xh(y,v.mode,b,w),x.return=v,x):(x=i(x,y),x.return=v,x)}function d(v,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=O3(""+x,v.mode,y),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sb:return y=bw(x.type,x.key,x.props,null,v.mode,y),y.ref=x0(v,null,x),y.return=v,y;case Wp:return x=R3(x,v.mode,y),x.return=v,x;case Ku:var b=x._init;return d(v,b(x._payload),y)}if(bv(x)||m0(x))return x=Xh(x,v.mode,y,null),x.return=v,x;yb(v,x)}return null}function h(v,x,y,b){var w=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:c(v,x,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sb:return y.key===w?a(v,x,y,b):null;case Wp:return y.key===w?s(v,x,y,b):null;case Ku:return w=y._init,h(v,x,w(y._payload),b)}if(bv(y)||m0(y))return w!==null?null:u(v,x,y,b,null);yb(v,y)}return null}function f(v,x,y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(y)||null,c(x,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case sb:return v=v.get(b.key===null?y:b.key)||null,a(x,v,b,w);case Wp:return v=v.get(b.key===null?y:b.key)||null,s(x,v,b,w);case Ku:var _=b._init;return f(v,x,y,_(b._payload),w)}if(bv(b)||m0(b))return v=v.get(y)||null,u(x,v,b,w,null);yb(x,b)}return null}function m(v,x,y,b){for(var w=null,_=null,S=x,E=x=0,C=null;S!==null&&E<y.length;E++){S.index>E?(C=S,S=null):C=S.sibling;var A=h(v,S,y[E],b);if(A===null){S===null&&(S=C);break}e&&S&&A.alternate===null&&t(v,S),x=o(A,x,E),_===null?w=A:_.sibling=A,_=A,S=C}if(E===y.length)return r(v,S),Jr&&fh(v,E),w;if(S===null){for(;E<y.length;E++)S=d(v,y[E],b),S!==null&&(x=o(S,x,E),_===null?w=S:_.sibling=S,_=S);return Jr&&fh(v,E),w}for(S=n(v,S);E<y.length;E++)C=f(S,v,E,y[E],b),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?E:C.key),x=o(C,x,E),_===null?w=C:_.sibling=C,_=C);return e&&S.forEach(function(T){return t(v,T)}),Jr&&fh(v,E),w}function p(v,x,y,b){var w=m0(y);if(typeof w!="function")throw Error(Ge(150));if(y=w.call(y),y==null)throw Error(Ge(151));for(var _=w=null,S=x,E=x=0,C=null,A=y.next();S!==null&&!A.done;E++,A=y.next()){S.index>E?(C=S,S=null):C=S.sibling;var T=h(v,S,A.value,b);if(T===null){S===null&&(S=C);break}e&&S&&T.alternate===null&&t(v,S),x=o(T,x,E),_===null?w=T:_.sibling=T,_=T,S=C}if(A.done)return r(v,S),Jr&&fh(v,E),w;if(S===null){for(;!A.done;E++,A=y.next())A=d(v,A.value,b),A!==null&&(x=o(A,x,E),_===null?w=A:_.sibling=A,_=A);return Jr&&fh(v,E),w}for(S=n(v,S);!A.done;E++,A=y.next())A=f(S,v,E,A.value,b),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?E:A.key),x=o(A,x,E),_===null?w=A:_.sibling=A,_=A);return e&&S.forEach(function(k){return t(v,k)}),Jr&&fh(v,E),w}function g(v,x,y,b){if(typeof y=="object"&&y!==null&&y.type===Gp&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case sb:e:{for(var w=y.key,_=x;_!==null;){if(_.key===w){if(w=y.type,w===Gp){if(_.tag===7){r(v,_.sibling),x=i(_,y.props.children),x.return=v,v=x;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ku&&XI(w)===_.type){r(v,_.sibling),x=i(_,y.props),x.ref=x0(v,_,y),x.return=v,v=x;break e}r(v,_);break}else t(v,_);_=_.sibling}y.type===Gp?(x=Xh(y.props.children,v.mode,b,y.key),x.return=v,v=x):(b=bw(y.type,y.key,y.props,null,v.mode,b),b.ref=x0(v,x,y),b.return=v,v=b)}return l(v);case Wp:e:{for(_=y.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){r(v,x.sibling),x=i(x,y.children||[]),x.return=v,v=x;break e}else{r(v,x);break}else t(v,x);x=x.sibling}x=R3(y,v.mode,b),x.return=v,v=x}return l(v);case Ku:return _=y._init,g(v,x,_(y._payload),b)}if(bv(y))return m(v,x,y,b);if(m0(y))return p(v,x,y,b);yb(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(r(v,x.sibling),x=i(x,y),x.return=v,v=x):(r(v,x),x=O3(y,v.mode,b),x.return=v,v=x),l(v)):r(v,x)}return g}var eg=rH(!0),nH=rH(!1),p_=Gd(null),m_=null,Zp=null,Tk=null;function Pk(){Tk=Zp=m_=null}function kk(e){var t=p_.current;Xr(p_),e._currentValue=t}function LT(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Am(e,t){m_=e,Tk=Zp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(No=!0),e.firstContext=null)}function cs(e){var t=e._currentValue;if(Tk!==e)if(e={context:e,memoizedValue:t,next:null},Zp===null){if(m_===null)throw Error(Ge(308));Zp=e,m_.dependencies={lanes:0,firstContext:e}}else Zp=Zp.next=e;return t}var Oh=null;function Dk(e){Oh===null?Oh=[e]:Oh.push(e)}function iH(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Dk(t)):(r.next=i.next,i.next=r),t.interleaved=r,cu(e,n)}function cu(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Qu=!1;function jk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oH(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ed(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,fr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,cu(e,r)}return i=n.interleaved,i===null?(t.next=t,Dk(n)):(t.next=i.next,i.next=t),n.interleaved=t,cu(e,r)}function fw(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vk(e,r)}}function $I(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=l:o=o.next=l,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function g_(e,t,r,n){var i=e.updateQueue;Qu=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var a=c,s=a.next;a.next=null,l===null?o=s:l.next=s,l=a;var u=e.alternate;u!==null&&(u=u.updateQueue,c=u.lastBaseUpdate,c!==l&&(c===null?u.firstBaseUpdate=s:c.next=s,u.lastBaseUpdate=a))}if(o!==null){var d=i.baseState;l=0,u=s=a=null,c=o;do{var h=c.lane,f=c.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var m=e,p=c;switch(h=t,f=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=un({},d,h);break e;case 2:Qu=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[c]:h.push(c))}else f={eventTime:f,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},u===null?(s=u=f,a=d):u=u.next=f,l|=h;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;h=c,c=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(a=d),i.baseState=a,i.firstBaseUpdate=s,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);cf|=l,e.lanes=l,e.memoizedState=d}}function KI(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ge(191,i));i.call(n)}}}var _1={},Gl=Gd(_1),ky=Gd(_1),Dy=Gd(_1);function Rh(e){if(e===_1)throw Error(Ge(174));return e}function Ik(e,t){switch(Hr(Dy,t),Hr(ky,e),Hr(Gl,_1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gT(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gT(t,e)}Xr(Gl),Hr(Gl,t)}function tg(){Xr(Gl),Xr(ky),Xr(Dy)}function aH(e){Rh(Dy.current);var t=Rh(Gl.current),r=gT(t,e.type);t!==r&&(Hr(ky,e),Hr(Gl,r))}function Ok(e){ky.current===e&&(Xr(Gl),Xr(ky))}var an=Gd(0);function v_(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var T3=[];function Rk(){for(var e=0;e<T3.length;e++)T3[e]._workInProgressVersionPrimary=null;T3.length=0}var pw=xu.ReactCurrentDispatcher,P3=xu.ReactCurrentBatchConfig,lf=0,cn=null,ii=null,gi=null,y_=!1,Hv=!1,jy=0,ire=0;function Li(){throw Error(Ge(321))}function Lk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!el(e[r],t[r]))return!1;return!0}function zk(e,t,r,n,i,o){if(lf=o,cn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pw.current=e===null||e.memoizedState===null?lre:cre,e=r(n,i),Hv){o=0;do{if(Hv=!1,jy=0,25<=o)throw Error(Ge(301));o+=1,gi=ii=null,t.updateQueue=null,pw.current=ure,e=r(n,i)}while(Hv)}if(pw.current=b_,t=ii!==null&&ii.next!==null,lf=0,gi=ii=cn=null,y_=!1,t)throw Error(Ge(300));return e}function Nk(){var e=jy!==0;return jy=0,e}function El(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gi===null?cn.memoizedState=gi=e:gi=gi.next=e,gi}function us(){if(ii===null){var e=cn.alternate;e=e!==null?e.memoizedState:null}else e=ii.next;var t=gi===null?cn.memoizedState:gi.next;if(t!==null)gi=t,ii=e;else{if(e===null)throw Error(Ge(310));ii=e,e={memoizedState:ii.memoizedState,baseState:ii.baseState,baseQueue:ii.baseQueue,queue:ii.queue,next:null},gi===null?cn.memoizedState=gi=e:gi=gi.next=e}return gi}function Iy(e,t){return typeof t=="function"?t(e):t}function k3(e){var t=us(),r=t.queue;if(r===null)throw Error(Ge(311));r.lastRenderedReducer=e;var n=ii,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var c=l=null,a=null,s=o;do{var u=s.lane;if((lf&u)===u)a!==null&&(a=a.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),n=s.hasEagerState?s.eagerState:e(n,s.action);else{var d={lane:u,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};a===null?(c=a=d,l=n):a=a.next=d,cn.lanes|=u,cf|=u}s=s.next}while(s!==null&&s!==o);a===null?l=n:a.next=c,el(n,t.memoizedState)||(No=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=a,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,cn.lanes|=o,cf|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function D3(e){var t=us(),r=t.queue;if(r===null)throw Error(Ge(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);el(o,t.memoizedState)||(No=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function sH(){}function lH(e,t){var r=cn,n=us(),i=t(),o=!el(n.memoizedState,i);if(o&&(n.memoizedState=i,No=!0),n=n.queue,Bk(dH.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||gi!==null&&gi.memoizedState.tag&1){if(r.flags|=2048,Oy(9,uH.bind(null,r,n,i,t),void 0,null),wi===null)throw Error(Ge(349));lf&30||cH(r,t,i)}return i}function cH(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=cn.updateQueue,t===null?(t={lastEffect:null,stores:null},cn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function uH(e,t,r,n){t.value=r,t.getSnapshot=n,hH(t)&&fH(e)}function dH(e,t,r){return r(function(){hH(t)&&fH(e)})}function hH(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!el(e,r)}catch{return!0}}function fH(e){var t=cu(e,1);t!==null&&Js(t,e,1,-1)}function QI(e){var t=El();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Iy,lastRenderedState:e},t.queue=e,e=e.dispatch=sre.bind(null,cn,e),[t.memoizedState,e]}function Oy(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=cn.updateQueue,t===null?(t={lastEffect:null,stores:null},cn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function pH(){return us().memoizedState}function mw(e,t,r,n){var i=El();cn.flags|=e,i.memoizedState=Oy(1|t,r,void 0,n===void 0?null:n)}function uS(e,t,r,n){var i=us();n=n===void 0?null:n;var o=void 0;if(ii!==null){var l=ii.memoizedState;if(o=l.destroy,n!==null&&Lk(n,l.deps)){i.memoizedState=Oy(t,r,o,n);return}}cn.flags|=e,i.memoizedState=Oy(1|t,r,o,n)}function JI(e,t){return mw(8390656,8,e,t)}function Bk(e,t){return uS(2048,8,e,t)}function mH(e,t){return uS(4,2,e,t)}function gH(e,t){return uS(4,4,e,t)}function vH(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yH(e,t,r){return r=r!=null?r.concat([e]):null,uS(4,4,vH.bind(null,t,e),r)}function Fk(){}function bH(e,t){var r=us();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Lk(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xH(e,t){var r=us();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Lk(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function wH(e,t,r){return lf&21?(el(r,t)||(r=CV(),cn.lanes|=r,cf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,No=!0),e.memoizedState=r)}function ore(e,t){var r=Mr;Mr=r!==0&&4>r?r:4,e(!0);var n=P3.transition;P3.transition={};try{e(!1),t()}finally{Mr=r,P3.transition=n}}function _H(){return us().memoizedState}function are(e,t,r){var n=Cd(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},SH(e))EH(t,r);else if(r=iH(e,t,r,n),r!==null){var i=xo();Js(r,e,n,i),AH(r,t,n)}}function sre(e,t,r){var n=Cd(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(SH(e))EH(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,c=o(l,r);if(i.hasEagerState=!0,i.eagerState=c,el(c,l)){var a=t.interleaved;a===null?(i.next=i,Dk(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}r=iH(e,t,i,n),r!==null&&(i=xo(),Js(r,e,n,i),AH(r,t,n))}}function SH(e){var t=e.alternate;return e===cn||t!==null&&t===cn}function EH(e,t){Hv=y_=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function AH(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vk(e,r)}}var b_={readContext:cs,useCallback:Li,useContext:Li,useEffect:Li,useImperativeHandle:Li,useInsertionEffect:Li,useLayoutEffect:Li,useMemo:Li,useReducer:Li,useRef:Li,useState:Li,useDebugValue:Li,useDeferredValue:Li,useTransition:Li,useMutableSource:Li,useSyncExternalStore:Li,useId:Li,unstable_isNewReconciler:!1},lre={readContext:cs,useCallback:function(e,t){return El().memoizedState=[e,t===void 0?null:t],e},useContext:cs,useEffect:JI,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,mw(4194308,4,vH.bind(null,t,e),r)},useLayoutEffect:function(e,t){return mw(4194308,4,e,t)},useInsertionEffect:function(e,t){return mw(4,2,e,t)},useMemo:function(e,t){var r=El();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=El();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=are.bind(null,cn,e),[n.memoizedState,e]},useRef:function(e){var t=El();return e={current:e},t.memoizedState=e},useState:QI,useDebugValue:Fk,useDeferredValue:function(e){return El().memoizedState=e},useTransition:function(){var e=QI(!1),t=e[0];return e=ore.bind(null,e[1]),El().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=cn,i=El();if(Jr){if(r===void 0)throw Error(Ge(407));r=r()}else{if(r=t(),wi===null)throw Error(Ge(349));lf&30||cH(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,JI(dH.bind(null,n,o,e),[e]),n.flags|=2048,Oy(9,uH.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=El(),t=wi.identifierPrefix;if(Jr){var r=qc,n=Gc;r=(n&~(1<<32-Qs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=jy++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ire++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cre={readContext:cs,useCallback:bH,useContext:cs,useEffect:Bk,useImperativeHandle:yH,useInsertionEffect:mH,useLayoutEffect:gH,useMemo:xH,useReducer:k3,useRef:pH,useState:function(){return k3(Iy)},useDebugValue:Fk,useDeferredValue:function(e){var t=us();return wH(t,ii.memoizedState,e)},useTransition:function(){var e=k3(Iy)[0],t=us().memoizedState;return[e,t]},useMutableSource:sH,useSyncExternalStore:lH,useId:_H,unstable_isNewReconciler:!1},ure={readContext:cs,useCallback:bH,useContext:cs,useEffect:Bk,useImperativeHandle:yH,useInsertionEffect:mH,useLayoutEffect:gH,useMemo:xH,useReducer:D3,useRef:pH,useState:function(){return D3(Iy)},useDebugValue:Fk,useDeferredValue:function(e){var t=us();return ii===null?t.memoizedState=e:wH(t,ii.memoizedState,e)},useTransition:function(){var e=D3(Iy)[0],t=us().memoizedState;return[e,t]},useMutableSource:sH,useSyncExternalStore:lH,useId:_H,unstable_isNewReconciler:!1};function zs(e,t){if(e&&e.defaultProps){t=un({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function zT(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:un({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var dS={isMounted:function(e){return(e=e._reactInternals)?Df(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=xo(),i=Cd(e),o=Zc(n,i);o.payload=t,r!=null&&(o.callback=r),t=Ed(e,o,i),t!==null&&(Js(t,e,i,n),fw(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=xo(),i=Cd(e),o=Zc(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Ed(e,o,i),t!==null&&(Js(t,e,i,n),fw(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xo(),n=Cd(e),i=Zc(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ed(e,i,n),t!==null&&(Js(t,e,n,r),fw(t,e,n))}};function ZI(e,t,r,n,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,l):t.prototype&&t.prototype.isPureReactComponent?!Cy(r,n)||!Cy(i,o):!0}function CH(e,t,r){var n=!1,i=zd,o=t.contextType;return typeof o=="object"&&o!==null?o=cs(o):(i=Wo(t)?af:Qi.current,n=t.contextTypes,o=(n=n!=null)?Jm(e,i):zd),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dS,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function eO(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&dS.enqueueReplaceState(t,t.state,null)}function NT(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},jk(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=cs(o):(o=Wo(t)?af:Qi.current,i.context=Jm(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(zT(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&dS.enqueueReplaceState(i,i.state,null),g_(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function rg(e,t){try{var r="",n=t;do r+=Nee(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function j3(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function BT(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var dre=typeof WeakMap=="function"?WeakMap:Map;function MH(e,t,r){r=Zc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){w_||(w_=!0,$T=n),BT(e,t)},r}function TH(e,t,r){r=Zc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){BT(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){BT(e,t),typeof n!="function"&&(Ad===null?Ad=new Set([this]):Ad.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function tO(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new dre;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Are.bind(null,e,t,r),t.then(e,e))}function rO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nO(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Zc(-1,1),t.tag=2,Ed(r,t,1))),r.lanes|=1),e)}var hre=xu.ReactCurrentOwner,No=!1;function so(e,t,r,n){t.child=e===null?nH(t,null,r,n):eg(t,e.child,r,n)}function iO(e,t,r,n,i){r=r.render;var o=t.ref;return Am(t,i),n=zk(e,t,r,n,o,i),r=Nk(),e!==null&&!No?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,uu(e,t,i)):(Jr&&r&&Ak(t),t.flags|=1,so(e,t,n,i),t.child)}function oO(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!Xk(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,PH(e,t,o,n,i)):(e=bw(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(r=r.compare,r=r!==null?r:Cy,r(l,n)&&e.ref===t.ref)return uu(e,t,i)}return t.flags|=1,e=Md(o,n),e.ref=t.ref,e.return=t,t.child=e}function PH(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(Cy(o,n)&&e.ref===t.ref)if(No=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(No=!0);else return t.lanes=e.lanes,uu(e,t,i)}return FT(e,t,r,n,i)}function kH(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hr(tm,ca),ca|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Hr(tm,ca),ca|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Hr(tm,ca),ca|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Hr(tm,ca),ca|=n;return so(e,t,i,r),t.child}function DH(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function FT(e,t,r,n,i){var o=Wo(r)?af:Qi.current;return o=Jm(t,o),Am(t,i),r=zk(e,t,r,n,o,i),n=Nk(),e!==null&&!No?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,uu(e,t,i)):(Jr&&n&&Ak(t),t.flags|=1,so(e,t,r,i),t.child)}function aO(e,t,r,n,i){if(Wo(r)){var o=!0;d_(t)}else o=!1;if(Am(t,i),t.stateNode===null)gw(e,t),CH(t,r,n),NT(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var a=l.context,s=r.contextType;typeof s=="object"&&s!==null?s=cs(s):(s=Wo(r)?af:Qi.current,s=Jm(t,s));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==n||a!==s)&&eO(t,l,n,s),Qu=!1;var h=t.memoizedState;l.state=h,g_(t,n,l,i),a=t.memoizedState,c!==n||h!==a||Ho.current||Qu?(typeof u=="function"&&(zT(t,r,u,n),a=t.memoizedState),(c=Qu||ZI(t,r,c,n,h,a,s))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),l.props=n,l.state=a,l.context=s,n=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,oH(e,t),c=t.memoizedProps,s=t.type===t.elementType?c:zs(t.type,c),l.props=s,d=t.pendingProps,h=l.context,a=r.contextType,typeof a=="object"&&a!==null?a=cs(a):(a=Wo(r)?af:Qi.current,a=Jm(t,a));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==d||h!==a)&&eO(t,l,n,a),Qu=!1,h=t.memoizedState,l.state=h,g_(t,n,l,i);var m=t.memoizedState;c!==d||h!==m||Ho.current||Qu?(typeof f=="function"&&(zT(t,r,f,n),m=t.memoizedState),(s=Qu||ZI(t,r,s,n,h,m,a)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,m,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,m,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),l.props=n,l.state=m,l.context=a,n=s):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return UT(e,t,r,n,o,i)}function UT(e,t,r,n,i,o){DH(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&GI(t,r,!1),uu(e,t,o);n=t.stateNode,hre.current=t;var c=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=eg(t,e.child,null,o),t.child=eg(t,null,c,o)):so(e,t,c,o),t.memoizedState=n.state,i&&GI(t,r,!0),t.child}function jH(e){var t=e.stateNode;t.pendingContext?WI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&WI(e,t.context,!1),Ik(e,t.containerInfo)}function sO(e,t,r,n,i){return Zm(),Mk(i),t.flags|=256,so(e,t,r,n),t.child}var VT={dehydrated:null,treeContext:null,retryLane:0};function HT(e){return{baseLanes:e,cachePool:null,transitions:null}}function IH(e,t,r){var n=t.pendingProps,i=an.current,o=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Hr(an,i&1),e===null)return RT(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,o?(n=t.mode,o=t.child,l={mode:"hidden",children:l},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=pS(l,n,0,null),e=Xh(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=HT(r),t.memoizedState=VT,e):Uk(t,l));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return fre(e,t,l,n,c,i,r);if(o){o=n.fallback,l=t.mode,i=e.child,c=i.sibling;var a={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=Md(i,a),n.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=Md(c,o):(o=Xh(o,l,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,l=e.child.memoizedState,l=l===null?HT(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=VT,n}return o=e.child,e=o.sibling,n=Md(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Uk(e,t){return t=pS({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bb(e,t,r,n){return n!==null&&Mk(n),eg(t,e.child,null,r),e=Uk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fre(e,t,r,n,i,o,l){if(r)return t.flags&256?(t.flags&=-257,n=j3(Error(Ge(422))),bb(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=pS({mode:"visible",children:n.children},i,0,null),o=Xh(o,i,l,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&eg(t,e.child,null,l),t.child.memoizedState=HT(l),t.memoizedState=VT,o);if(!(t.mode&1))return bb(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var c=n.dgst;return n=c,o=Error(Ge(419)),n=j3(o,n,void 0),bb(e,t,l,n)}if(c=(l&e.childLanes)!==0,No||c){if(n=wi,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,cu(e,i),Js(n,e,i,-1))}return Yk(),n=j3(Error(Ge(421))),bb(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Cre.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ga=Sd(i.nextSibling),Sa=t,Jr=!0,Vs=null,e!==null&&(Qa[Ja++]=Gc,Qa[Ja++]=qc,Qa[Ja++]=sf,Gc=e.id,qc=e.overflow,sf=t),t=Uk(t,n.children),t.flags|=4096,t)}function lO(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),LT(e.return,t,r)}function I3(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function OH(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(so(e,t,n.children,r),n=an.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lO(e,r,t);else if(e.tag===19)lO(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Hr(an,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&v_(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),I3(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&v_(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}I3(t,!0,r,null,o);break;case"together":I3(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function uu(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),cf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ge(153));if(t.child!==null){for(e=t.child,r=Md(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Md(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function pre(e,t,r){switch(t.tag){case 3:jH(t),Zm();break;case 5:aH(t);break;case 1:Wo(t.type)&&d_(t);break;case 4:Ik(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Hr(p_,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Hr(an,an.current&1),t.flags|=128,null):r&t.child.childLanes?IH(e,t,r):(Hr(an,an.current&1),e=uu(e,t,r),e!==null?e.sibling:null);Hr(an,an.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return OH(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Hr(an,an.current),n)break;return null;case 22:case 23:return t.lanes=0,kH(e,t,r)}return uu(e,t,r)}var RH,WT,LH,zH;RH=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};WT=function(){};LH=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Rh(Gl.current);var o=null;switch(r){case"input":i=hT(e,i),n=hT(e,n),o=[];break;case"select":i=un({},i,{value:void 0}),n=un({},n,{value:void 0}),o=[];break;case"textarea":i=mT(e,i),n=mT(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=c_)}vT(r,n);var l;r=null;for(s in i)if(!n.hasOwnProperty(s)&&i.hasOwnProperty(s)&&i[s]!=null)if(s==="style"){var c=i[s];for(l in c)c.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else s!=="dangerouslySetInnerHTML"&&s!=="children"&&s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(by.hasOwnProperty(s)?o||(o=[]):(o=o||[]).push(s,null));for(s in n){var a=n[s];if(c=i!=null?i[s]:void 0,n.hasOwnProperty(s)&&a!==c&&(a!=null||c!=null))if(s==="style")if(c){for(l in c)!c.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in a)a.hasOwnProperty(l)&&c[l]!==a[l]&&(r||(r={}),r[l]=a[l])}else r||(o||(o=[]),o.push(s,r)),r=a;else s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,c=c?c.__html:void 0,a!=null&&c!==a&&(o=o||[]).push(s,a)):s==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(s,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&(by.hasOwnProperty(s)?(a!=null&&s==="onScroll"&&Gr("scroll",e),o||c===a||(o=[])):(o=o||[]).push(s,a))}r&&(o=o||[]).push("style",r);var s=o;(t.updateQueue=s)&&(t.flags|=4)}};zH=function(e,t,r,n){r!==n&&(t.flags|=4)};function w0(e,t){if(!Jr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function zi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function mre(e,t,r){var n=t.pendingProps;switch(Ck(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zi(t),null;case 1:return Wo(t.type)&&u_(),zi(t),null;case 3:return n=t.stateNode,tg(),Xr(Ho),Xr(Qi),Rk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(vb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vs!==null&&(JT(Vs),Vs=null))),WT(e,t),zi(t),null;case 5:Ok(t);var i=Rh(Dy.current);if(r=t.type,e!==null&&t.stateNode!=null)LH(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ge(166));return zi(t),null}if(e=Rh(Gl.current),vb(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Ol]=t,n[Py]=o,e=(t.mode&1)!==0,r){case"dialog":Gr("cancel",n),Gr("close",n);break;case"iframe":case"object":case"embed":Gr("load",n);break;case"video":case"audio":for(i=0;i<wv.length;i++)Gr(wv[i],n);break;case"source":Gr("error",n);break;case"img":case"image":case"link":Gr("error",n),Gr("load",n);break;case"details":Gr("toggle",n);break;case"input":vI(n,o),Gr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Gr("invalid",n);break;case"textarea":bI(n,o),Gr("invalid",n)}vT(r,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?n.textContent!==c&&(o.suppressHydrationWarning!==!0&&gb(n.textContent,c,e),i=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&gb(n.textContent,c,e),i=["children",""+c]):by.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&Gr("scroll",n)}switch(r){case"input":lb(n),yI(n,o,!0);break;case"textarea":lb(n),xI(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=c_)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dV(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Ol]=t,e[Py]=n,RH(e,t,!1,!1),t.stateNode=e;e:{switch(l=yT(r,n),r){case"dialog":Gr("cancel",e),Gr("close",e),i=n;break;case"iframe":case"object":case"embed":Gr("load",e),i=n;break;case"video":case"audio":for(i=0;i<wv.length;i++)Gr(wv[i],e);i=n;break;case"source":Gr("error",e),i=n;break;case"img":case"image":case"link":Gr("error",e),Gr("load",e),i=n;break;case"details":Gr("toggle",e),i=n;break;case"input":vI(e,n),i=hT(e,n),Gr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=un({},n,{value:void 0}),Gr("invalid",e);break;case"textarea":bI(e,n),i=mT(e,n),Gr("invalid",e);break;default:i=n}vT(r,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var a=c[o];o==="style"?pV(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&hV(e,a)):o==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&xy(e,a):typeof a=="number"&&xy(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(by.hasOwnProperty(o)?a!=null&&o==="onScroll"&&Gr("scroll",e):a!=null&&dk(e,o,a,l))}switch(r){case"input":lb(e),yI(e,n,!1);break;case"textarea":lb(e),xI(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ld(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?wm(e,!!n.multiple,o,!1):n.defaultValue!=null&&wm(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=c_)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return zi(t),null;case 6:if(e&&t.stateNode!=null)zH(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ge(166));if(r=Rh(Dy.current),Rh(Gl.current),vb(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ol]=t,(o=n.nodeValue!==r)&&(e=Sa,e!==null))switch(e.tag){case 3:gb(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gb(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ol]=t,t.stateNode=n}return zi(t),null;case 13:if(Xr(an),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Jr&&ga!==null&&t.mode&1&&!(t.flags&128))tH(),Zm(),t.flags|=98560,o=!1;else if(o=vb(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(Ge(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ge(317));o[Ol]=t}else Zm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zi(t),o=!1}else Vs!==null&&(JT(Vs),Vs=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||an.current&1?ai===0&&(ai=3):Yk())),t.updateQueue!==null&&(t.flags|=4),zi(t),null);case 4:return tg(),WT(e,t),e===null&&My(t.stateNode.containerInfo),zi(t),null;case 10:return kk(t.type._context),zi(t),null;case 17:return Wo(t.type)&&u_(),zi(t),null;case 19:if(Xr(an),o=t.memoizedState,o===null)return zi(t),null;if(n=(t.flags&128)!==0,l=o.rendering,l===null)if(n)w0(o,!1);else{if(ai!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=v_(e),l!==null){for(t.flags|=128,w0(o,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Hr(an,an.current&1|2),t.child}e=e.sibling}o.tail!==null&&kn()>ng&&(t.flags|=128,n=!0,w0(o,!1),t.lanes=4194304)}else{if(!n)if(e=v_(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),w0(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Jr)return zi(t),null}else 2*kn()-o.renderingStartTime>ng&&r!==1073741824&&(t.flags|=128,n=!0,w0(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(r=o.last,r!==null?r.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=kn(),t.sibling=null,r=an.current,Hr(an,n?r&1|2:r&1),t):(zi(t),null);case 22:case 23:return qk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ca&1073741824&&(zi(t),t.subtreeFlags&6&&(t.flags|=8192)):zi(t),null;case 24:return null;case 25:return null}throw Error(Ge(156,t.tag))}function gre(e,t){switch(Ck(t),t.tag){case 1:return Wo(t.type)&&u_(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tg(),Xr(Ho),Xr(Qi),Rk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ok(t),null;case 13:if(Xr(an),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ge(340));Zm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xr(an),null;case 4:return tg(),null;case 10:return kk(t.type._context),null;case 22:case 23:return qk(),null;case 24:return null;default:return null}}var xb=!1,Vi=!1,vre=typeof WeakSet=="function"?WeakSet:Set,dt=null;function em(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){bn(e,t,n)}else r.current=null}function GT(e,t,r){try{r()}catch(n){bn(e,t,n)}}var cO=!1;function yre(e,t){if(TT=a_,e=VV(),Ek(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var l=0,c=-1,a=-1,s=0,u=0,d=e,h=null;t:for(;;){for(var f;d!==r||i!==0&&d.nodeType!==3||(c=l+i),d!==o||n!==0&&d.nodeType!==3||(a=l+n),d.nodeType===3&&(l+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===r&&++s===i&&(c=l),h===o&&++u===n&&(a=l),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}r=c===-1||a===-1?null:{start:c,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(PT={focusedElem:e,selectionRange:r},a_=!1,dt=t;dt!==null;)if(t=dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dt=e;else for(;dt!==null;){t=dt;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,g=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:zs(t.type,p),g);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(b){bn(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,dt=e;break}dt=t.return}return m=cO,cO=!1,m}function Wv(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&GT(t,r,o)}i=i.next}while(i!==n)}}function hS(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function qT(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function NH(e){var t=e.alternate;t!==null&&(e.alternate=null,NH(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ol],delete t[Py],delete t[jT],delete t[ere],delete t[tre])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function BH(e){return e.tag===5||e.tag===3||e.tag===4}function uO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||BH(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function YT(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=c_));else if(n!==4&&(e=e.child,e!==null))for(YT(e,t,r),e=e.sibling;e!==null;)YT(e,t,r),e=e.sibling}function XT(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(XT(e,t,r),e=e.sibling;e!==null;)XT(e,t,r),e=e.sibling}var Ti=null,Fs=!1;function Mu(e,t,r){for(r=r.child;r!==null;)FH(e,t,r),r=r.sibling}function FH(e,t,r){if(Wl&&typeof Wl.onCommitFiberUnmount=="function")try{Wl.onCommitFiberUnmount(iS,r)}catch{}switch(r.tag){case 5:Vi||em(r,t);case 6:var n=Ti,i=Fs;Ti=null,Mu(e,t,r),Ti=n,Fs=i,Ti!==null&&(Fs?(e=Ti,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ti.removeChild(r.stateNode));break;case 18:Ti!==null&&(Fs?(e=Ti,r=r.stateNode,e.nodeType===8?C3(e.parentNode,r):e.nodeType===1&&C3(e,r),Ey(e)):C3(Ti,r.stateNode));break;case 4:n=Ti,i=Fs,Ti=r.stateNode.containerInfo,Fs=!0,Mu(e,t,r),Ti=n,Fs=i;break;case 0:case 11:case 14:case 15:if(!Vi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&GT(r,t,l),i=i.next}while(i!==n)}Mu(e,t,r);break;case 1:if(!Vi&&(em(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){bn(r,t,c)}Mu(e,t,r);break;case 21:Mu(e,t,r);break;case 22:r.mode&1?(Vi=(n=Vi)||r.memoizedState!==null,Mu(e,t,r),Vi=n):Mu(e,t,r);break;default:Mu(e,t,r)}}function dO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new vre),t.forEach(function(n){var i=Mre.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ss(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:Ti=c.stateNode,Fs=!1;break e;case 3:Ti=c.stateNode.containerInfo,Fs=!0;break e;case 4:Ti=c.stateNode.containerInfo,Fs=!0;break e}c=c.return}if(Ti===null)throw Error(Ge(160));FH(o,l,i),Ti=null,Fs=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(s){bn(i,t,s)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)UH(t,e),t=t.sibling}function UH(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ss(t,e),ul(e),n&4){try{Wv(3,e,e.return),hS(3,e)}catch(p){bn(e,e.return,p)}try{Wv(5,e,e.return)}catch(p){bn(e,e.return,p)}}break;case 1:Ss(t,e),ul(e),n&512&&r!==null&&em(r,r.return);break;case 5:if(Ss(t,e),ul(e),n&512&&r!==null&&em(r,r.return),e.flags&32){var i=e.stateNode;try{xy(i,"")}catch(p){bn(e,e.return,p)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=r!==null?r.memoizedProps:o,c=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&cV(i,o),yT(c,l);var s=yT(c,o);for(l=0;l<a.length;l+=2){var u=a[l],d=a[l+1];u==="style"?pV(i,d):u==="dangerouslySetInnerHTML"?hV(i,d):u==="children"?xy(i,d):dk(i,u,d,s)}switch(c){case"input":fT(i,o);break;case"textarea":uV(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?wm(i,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?wm(i,!!o.multiple,o.defaultValue,!0):wm(i,!!o.multiple,o.multiple?[]:"",!1))}i[Py]=o}catch(p){bn(e,e.return,p)}}break;case 6:if(Ss(t,e),ul(e),n&4){if(e.stateNode===null)throw Error(Ge(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(p){bn(e,e.return,p)}}break;case 3:if(Ss(t,e),ul(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ey(t.containerInfo)}catch(p){bn(e,e.return,p)}break;case 4:Ss(t,e),ul(e);break;case 13:Ss(t,e),ul(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Wk=kn())),n&4&&dO(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Vi=(s=Vi)||u,Ss(t,e),Vi=s):Ss(t,e),ul(e),n&8192){if(s=e.memoizedState!==null,(e.stateNode.isHidden=s)&&!u&&e.mode&1)for(dt=e,u=e.child;u!==null;){for(d=dt=u;dt!==null;){switch(h=dt,f=h.child,h.tag){case 0:case 11:case 14:case 15:Wv(4,h,h.return);break;case 1:em(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(p){bn(n,r,p)}}break;case 5:em(h,h.return);break;case 22:if(h.memoizedState!==null){fO(d);continue}}f!==null?(f.return=h,dt=f):fO(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,s?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=d.stateNode,a=d.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,c.style.display=fV("display",l))}catch(p){bn(e,e.return,p)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=s?"":d.memoizedProps}catch(p){bn(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ss(t,e),ul(e),n&4&&dO(e);break;case 21:break;default:Ss(t,e),ul(e)}}function ul(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(BH(r)){var n=r;break e}r=r.return}throw Error(Ge(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(xy(i,""),n.flags&=-33);var o=uO(e);XT(e,o,i);break;case 3:case 4:var l=n.stateNode.containerInfo,c=uO(e);YT(e,c,l);break;default:throw Error(Ge(161))}}catch(a){bn(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bre(e,t,r){dt=e,VH(e)}function VH(e,t,r){for(var n=(e.mode&1)!==0;dt!==null;){var i=dt,o=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||xb;if(!l){var c=i.alternate,a=c!==null&&c.memoizedState!==null||Vi;c=xb;var s=Vi;if(xb=l,(Vi=a)&&!s)for(dt=i;dt!==null;)l=dt,a=l.child,l.tag===22&&l.memoizedState!==null?pO(i):a!==null?(a.return=l,dt=a):pO(i);for(;o!==null;)dt=o,VH(o),o=o.sibling;dt=i,xb=c,Vi=s}hO(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,dt=o):hO(e)}}function hO(e){for(;dt!==null;){var t=dt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vi||hS(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Vi)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:zs(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&KI(t,o,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}KI(t,l,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var s=t.alternate;if(s!==null){var u=s.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ey(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}Vi||t.flags&512&&qT(t)}catch(h){bn(t,t.return,h)}}if(t===e){dt=null;break}if(r=t.sibling,r!==null){r.return=t.return,dt=r;break}dt=t.return}}function fO(e){for(;dt!==null;){var t=dt;if(t===e){dt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,dt=r;break}dt=t.return}}function pO(e){for(;dt!==null;){var t=dt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{hS(4,t)}catch(a){bn(t,r,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(a){bn(t,i,a)}}var o=t.return;try{qT(t)}catch(a){bn(t,o,a)}break;case 5:var l=t.return;try{qT(t)}catch(a){bn(t,l,a)}}}catch(a){bn(t,t.return,a)}if(t===e){dt=null;break}var c=t.sibling;if(c!==null){c.return=t.return,dt=c;break}dt=t.return}}var xre=Math.ceil,x_=xu.ReactCurrentDispatcher,Vk=xu.ReactCurrentOwner,os=xu.ReactCurrentBatchConfig,fr=0,wi=null,$n=null,Di=0,ca=0,tm=Gd(0),ai=0,Ry=null,cf=0,fS=0,Hk=0,Gv=null,jo=null,Wk=0,ng=1/0,kc=null,w_=!1,$T=null,Ad=null,wb=!1,cd=null,__=0,qv=0,KT=null,vw=-1,yw=0;function xo(){return fr&6?kn():vw!==-1?vw:vw=kn()}function Cd(e){return e.mode&1?fr&2&&Di!==0?Di&-Di:nre.transition!==null?(yw===0&&(yw=CV()),yw):(e=Mr,e!==0||(e=window.event,e=e===void 0?16:IV(e.type)),e):1}function Js(e,t,r,n){if(50<qv)throw qv=0,KT=null,Error(Ge(185));b1(e,r,n),(!(fr&2)||e!==wi)&&(e===wi&&(!(fr&2)&&(fS|=r),ai===4&&rd(e,Di)),Go(e,n),r===1&&fr===0&&!(t.mode&1)&&(ng=kn()+500,cS&&qd()))}function Go(e,t){var r=e.callbackNode;nte(e,t);var n=o_(e,e===wi?Di:0);if(n===0)r!==null&&SI(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&SI(r),t===1)e.tag===0?rre(mO.bind(null,e)):JV(mO.bind(null,e)),Jte(function(){!(fr&6)&&qd()}),r=null;else{switch(MV(n)){case 1:r=gk;break;case 4:r=EV;break;case 16:r=i_;break;case 536870912:r=AV;break;default:r=i_}r=KH(r,HH.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function HH(e,t){if(vw=-1,yw=0,fr&6)throw Error(Ge(327));var r=e.callbackNode;if(Cm()&&e.callbackNode!==r)return null;var n=o_(e,e===wi?Di:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=S_(e,n);else{t=n;var i=fr;fr|=2;var o=GH();(wi!==e||Di!==t)&&(kc=null,ng=kn()+500,Yh(e,t));do try{Sre();break}catch(c){WH(e,c)}while(!0);Pk(),x_.current=o,fr=i,$n!==null?t=0:(wi=null,Di=0,t=ai)}if(t!==0){if(t===2&&(i=ST(e),i!==0&&(n=i,t=QT(e,i))),t===1)throw r=Ry,Yh(e,0),rd(e,n),Go(e,kn()),r;if(t===6)rd(e,n);else{if(i=e.current.alternate,!(n&30)&&!wre(i)&&(t=S_(e,n),t===2&&(o=ST(e),o!==0&&(n=o,t=QT(e,o))),t===1))throw r=Ry,Yh(e,0),rd(e,n),Go(e,kn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Ge(345));case 2:ph(e,jo,kc);break;case 3:if(rd(e,n),(n&130023424)===n&&(t=Wk+500-kn(),10<t)){if(o_(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){xo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=DT(ph.bind(null,e,jo,kc),t);break}ph(e,jo,kc);break;case 4:if(rd(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-Qs(n);o=1<<l,l=t[l],l>i&&(i=l),n&=~o}if(n=i,n=kn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xre(n/1960))-n,10<n){e.timeoutHandle=DT(ph.bind(null,e,jo,kc),n);break}ph(e,jo,kc);break;case 5:ph(e,jo,kc);break;default:throw Error(Ge(329))}}}return Go(e,kn()),e.callbackNode===r?HH.bind(null,e):null}function QT(e,t){var r=Gv;return e.current.memoizedState.isDehydrated&&(Yh(e,t).flags|=256),e=S_(e,t),e!==2&&(t=jo,jo=r,t!==null&&JT(t)),e}function JT(e){jo===null?jo=e:jo.push.apply(jo,e)}function wre(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!el(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rd(e,t){for(t&=~Hk,t&=~fS,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Qs(t),n=1<<r;e[r]=-1,t&=~n}}function mO(e){if(fr&6)throw Error(Ge(327));Cm();var t=o_(e,0);if(!(t&1))return Go(e,kn()),null;var r=S_(e,t);if(e.tag!==0&&r===2){var n=ST(e);n!==0&&(t=n,r=QT(e,n))}if(r===1)throw r=Ry,Yh(e,0),rd(e,t),Go(e,kn()),r;if(r===6)throw Error(Ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ph(e,jo,kc),Go(e,kn()),null}function Gk(e,t){var r=fr;fr|=1;try{return e(t)}finally{fr=r,fr===0&&(ng=kn()+500,cS&&qd())}}function uf(e){cd!==null&&cd.tag===0&&!(fr&6)&&Cm();var t=fr;fr|=1;var r=os.transition,n=Mr;try{if(os.transition=null,Mr=1,e)return e()}finally{Mr=n,os.transition=r,fr=t,!(fr&6)&&qd()}}function qk(){ca=tm.current,Xr(tm)}function Yh(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Qte(r)),$n!==null)for(r=$n.return;r!==null;){var n=r;switch(Ck(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&u_();break;case 3:tg(),Xr(Ho),Xr(Qi),Rk();break;case 5:Ok(n);break;case 4:tg();break;case 13:Xr(an);break;case 19:Xr(an);break;case 10:kk(n.type._context);break;case 22:case 23:qk()}r=r.return}if(wi=e,$n=e=Md(e.current,null),Di=ca=t,ai=0,Ry=null,Hk=fS=cf=0,jo=Gv=null,Oh!==null){for(t=0;t<Oh.length;t++)if(r=Oh[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var l=o.next;o.next=i,n.next=l}r.pending=n}Oh=null}return e}function WH(e,t){do{var r=$n;try{if(Pk(),pw.current=b_,y_){for(var n=cn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}y_=!1}if(lf=0,gi=ii=cn=null,Hv=!1,jy=0,Vk.current=null,r===null||r.return===null){ai=1,Ry=t,$n=null;break}e:{var o=e,l=r.return,c=r,a=t;if(t=Di,c.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var s=a,u=c,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=rO(l);if(f!==null){f.flags&=-257,nO(f,l,c,o,t),f.mode&1&&tO(o,s,t),t=f,a=s;var m=t.updateQueue;if(m===null){var p=new Set;p.add(a),t.updateQueue=p}else m.add(a);break e}else{if(!(t&1)){tO(o,s,t),Yk();break e}a=Error(Ge(426))}}else if(Jr&&c.mode&1){var g=rO(l);if(g!==null){!(g.flags&65536)&&(g.flags|=256),nO(g,l,c,o,t),Mk(rg(a,c));break e}}o=a=rg(a,c),ai!==4&&(ai=2),Gv===null?Gv=[o]:Gv.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=MH(o,a,t);$I(o,v);break e;case 1:c=a;var x=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ad===null||!Ad.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=TH(o,c,t);$I(o,b);break e}}o=o.return}while(o!==null)}YH(r)}catch(w){t=w,$n===r&&r!==null&&($n=r=r.return);continue}break}while(!0)}function GH(){var e=x_.current;return x_.current=b_,e===null?b_:e}function Yk(){(ai===0||ai===3||ai===2)&&(ai=4),wi===null||!(cf&268435455)&&!(fS&268435455)||rd(wi,Di)}function S_(e,t){var r=fr;fr|=2;var n=GH();(wi!==e||Di!==t)&&(kc=null,Yh(e,t));do try{_re();break}catch(i){WH(e,i)}while(!0);if(Pk(),fr=r,x_.current=n,$n!==null)throw Error(Ge(261));return wi=null,Di=0,ai}function _re(){for(;$n!==null;)qH($n)}function Sre(){for(;$n!==null&&!Xee();)qH($n)}function qH(e){var t=$H(e.alternate,e,ca);e.memoizedProps=e.pendingProps,t===null?YH(e):$n=t,Vk.current=null}function YH(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=gre(r,t),r!==null){r.flags&=32767,$n=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ai=6,$n=null;return}}else if(r=mre(r,t,ca),r!==null){$n=r;return}if(t=t.sibling,t!==null){$n=t;return}$n=t=e}while(t!==null);ai===0&&(ai=5)}function ph(e,t,r){var n=Mr,i=os.transition;try{os.transition=null,Mr=1,Ere(e,t,r,n)}finally{os.transition=i,Mr=n}return null}function Ere(e,t,r,n){do Cm();while(cd!==null);if(fr&6)throw Error(Ge(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ge(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(ite(e,o),e===wi&&($n=wi=null,Di=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||wb||(wb=!0,KH(i_,function(){return Cm(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=os.transition,os.transition=null;var l=Mr;Mr=1;var c=fr;fr|=4,Vk.current=null,yre(e,r),UH(r,e),Wte(PT),a_=!!TT,PT=TT=null,e.current=r,bre(r),$ee(),fr=c,Mr=l,os.transition=o}else e.current=r;if(wb&&(wb=!1,cd=e,__=i),o=e.pendingLanes,o===0&&(Ad=null),Jee(r.stateNode),Go(e,kn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(w_)throw w_=!1,e=$T,$T=null,e;return __&1&&e.tag!==0&&Cm(),o=e.pendingLanes,o&1?e===KT?qv++:(qv=0,KT=e):qv=0,qd(),null}function Cm(){if(cd!==null){var e=MV(__),t=os.transition,r=Mr;try{if(os.transition=null,Mr=16>e?16:e,cd===null)var n=!1;else{if(e=cd,cd=null,__=0,fr&6)throw Error(Ge(331));var i=fr;for(fr|=4,dt=e.current;dt!==null;){var o=dt,l=o.child;if(dt.flags&16){var c=o.deletions;if(c!==null){for(var a=0;a<c.length;a++){var s=c[a];for(dt=s;dt!==null;){var u=dt;switch(u.tag){case 0:case 11:case 15:Wv(8,u,o)}var d=u.child;if(d!==null)d.return=u,dt=d;else for(;dt!==null;){u=dt;var h=u.sibling,f=u.return;if(NH(u),u===s){dt=null;break}if(h!==null){h.return=f,dt=h;break}dt=f}}}var m=o.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}dt=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,dt=l;else e:for(;dt!==null;){if(o=dt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Wv(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,dt=v;break e}dt=o.return}}var x=e.current;for(dt=x;dt!==null;){l=dt;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,dt=y;else e:for(l=x;dt!==null;){if(c=dt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:hS(9,c)}}catch(w){bn(c,c.return,w)}if(c===l){dt=null;break e}var b=c.sibling;if(b!==null){b.return=c.return,dt=b;break e}dt=c.return}}if(fr=i,qd(),Wl&&typeof Wl.onPostCommitFiberRoot=="function")try{Wl.onPostCommitFiberRoot(iS,e)}catch{}n=!0}return n}finally{Mr=r,os.transition=t}}return!1}function gO(e,t,r){t=rg(r,t),t=MH(e,t,1),e=Ed(e,t,1),t=xo(),e!==null&&(b1(e,1,t),Go(e,t))}function bn(e,t,r){if(e.tag===3)gO(e,e,r);else for(;t!==null;){if(t.tag===3){gO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ad===null||!Ad.has(n))){e=rg(r,e),e=TH(t,e,1),t=Ed(t,e,1),e=xo(),t!==null&&(b1(t,1,e),Go(t,e));break}}t=t.return}}function Are(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=xo(),e.pingedLanes|=e.suspendedLanes&r,wi===e&&(Di&r)===r&&(ai===4||ai===3&&(Di&130023424)===Di&&500>kn()-Wk?Yh(e,0):Hk|=r),Go(e,t)}function XH(e,t){t===0&&(e.mode&1?(t=db,db<<=1,!(db&130023424)&&(db=4194304)):t=1);var r=xo();e=cu(e,t),e!==null&&(b1(e,t,r),Go(e,r))}function Cre(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),XH(e,r)}function Mre(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ge(314))}n!==null&&n.delete(t),XH(e,r)}var $H;$H=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ho.current)No=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return No=!1,pre(e,t,r);No=!!(e.flags&131072)}else No=!1,Jr&&t.flags&1048576&&ZV(t,f_,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;gw(e,t),e=t.pendingProps;var i=Jm(t,Qi.current);Am(t,r),i=zk(null,t,n,e,i,r);var o=Nk();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wo(n)?(o=!0,d_(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jk(t),i.updater=dS,t.stateNode=i,i._reactInternals=t,NT(t,n,e,r),t=UT(null,t,n,!0,o,r)):(t.tag=0,Jr&&o&&Ak(t),so(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(gw(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Pre(n),e=zs(n,e),i){case 0:t=FT(null,t,n,e,r);break e;case 1:t=aO(null,t,n,e,r);break e;case 11:t=iO(null,t,n,e,r);break e;case 14:t=oO(null,t,n,zs(n.type,e),r);break e}throw Error(Ge(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:zs(n,i),FT(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:zs(n,i),aO(e,t,n,i,r);case 3:e:{if(jH(t),e===null)throw Error(Ge(387));n=t.pendingProps,o=t.memoizedState,i=o.element,oH(e,t),g_(t,n,null,r);var l=t.memoizedState;if(n=l.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=rg(Error(Ge(423)),t),t=sO(e,t,n,r,i);break e}else if(n!==i){i=rg(Error(Ge(424)),t),t=sO(e,t,n,r,i);break e}else for(ga=Sd(t.stateNode.containerInfo.firstChild),Sa=t,Jr=!0,Vs=null,r=nH(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zm(),n===i){t=uu(e,t,r);break e}so(e,t,n,r)}t=t.child}return t;case 5:return aH(t),e===null&&RT(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,kT(n,i)?l=null:o!==null&&kT(n,o)&&(t.flags|=32),DH(e,t),so(e,t,l,r),t.child;case 6:return e===null&&RT(t),null;case 13:return IH(e,t,r);case 4:return Ik(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=eg(t,null,n,r):so(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:zs(n,i),iO(e,t,n,i,r);case 7:return so(e,t,t.pendingProps,r),t.child;case 8:return so(e,t,t.pendingProps.children,r),t.child;case 12:return so(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,Hr(p_,n._currentValue),n._currentValue=l,o!==null)if(el(o.value,l)){if(o.children===i.children&&!Ho.current){t=uu(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var a=c.firstContext;a!==null;){if(a.context===n){if(o.tag===1){a=Zc(-1,r&-r),a.tag=2;var s=o.updateQueue;if(s!==null){s=s.shared;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}}o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),LT(o.return,r,t),c.lanes|=r;break}a=a.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(Ge(341));l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),LT(l,r,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}so(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Am(t,r),i=cs(i),n=n(i),t.flags|=1,so(e,t,n,r),t.child;case 14:return n=t.type,i=zs(n,t.pendingProps),i=zs(n.type,i),oO(e,t,n,i,r);case 15:return PH(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:zs(n,i),gw(e,t),t.tag=1,Wo(n)?(e=!0,d_(t)):e=!1,Am(t,r),CH(t,n,i),NT(t,n,i,r),UT(null,t,n,!0,e,r);case 19:return OH(e,t,r);case 22:return kH(e,t,r)}throw Error(Ge(156,t.tag))};function KH(e,t){return SV(e,t)}function Tre(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(e,t,r,n){return new Tre(e,t,r,n)}function Xk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pre(e){if(typeof e=="function")return Xk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fk)return 11;if(e===pk)return 14}return 2}function Md(e,t){var r=e.alternate;return r===null?(r=is(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function bw(e,t,r,n,i,o){var l=2;if(n=e,typeof e=="function")Xk(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Gp:return Xh(r.children,i,o,t);case hk:l=8,i|=8;break;case lT:return e=is(12,r,t,i|2),e.elementType=lT,e.lanes=o,e;case cT:return e=is(13,r,t,i),e.elementType=cT,e.lanes=o,e;case uT:return e=is(19,r,t,i),e.elementType=uT,e.lanes=o,e;case aV:return pS(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case iV:l=10;break e;case oV:l=9;break e;case fk:l=11;break e;case pk:l=14;break e;case Ku:l=16,n=null;break e}throw Error(Ge(130,e==null?e:typeof e,""))}return t=is(l,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Xh(e,t,r,n){return e=is(7,e,n,t),e.lanes=r,e}function pS(e,t,r,n){return e=is(22,e,n,t),e.elementType=aV,e.lanes=r,e.stateNode={isHidden:!1},e}function O3(e,t,r){return e=is(6,e,null,t),e.lanes=r,e}function R3(e,t,r){return t=is(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kre(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=m3(0),this.expirationTimes=m3(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=m3(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $k(e,t,r,n,i,o,l,c,a){return e=new kre(e,t,r,c,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=is(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jk(o),e}function Dre(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wp,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function QH(e){if(!e)return zd;e=e._reactInternals;e:{if(Df(e)!==e||e.tag!==1)throw Error(Ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ge(171))}if(e.tag===1){var r=e.type;if(Wo(r))return QV(e,r,t)}return t}function JH(e,t,r,n,i,o,l,c,a){return e=$k(r,n,!0,e,i,o,l,c,a),e.context=QH(null),r=e.current,n=xo(),i=Cd(r),o=Zc(n,i),o.callback=t??null,Ed(r,o,i),e.current.lanes=i,b1(e,i,n),Go(e,n),e}function mS(e,t,r,n){var i=t.current,o=xo(),l=Cd(i);return r=QH(r),t.context===null?t.context=r:t.pendingContext=r,t=Zc(o,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ed(i,t,l),e!==null&&(Js(e,i,l,o),fw(e,i,l)),l}function E_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Kk(e,t){vO(e,t),(e=e.alternate)&&vO(e,t)}function jre(){return null}var ZH=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qk(e){this._internalRoot=e}gS.prototype.render=Qk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ge(409));mS(e,t,null,null)};gS.prototype.unmount=Qk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uf(function(){mS(null,e,null,null)}),t[lu]=null}};function gS(e){this._internalRoot=e}gS.prototype.unstable_scheduleHydration=function(e){if(e){var t=kV();e={blockedOn:null,target:e,priority:t};for(var r=0;r<td.length&&t!==0&&t<td[r].priority;r++);td.splice(r,0,e),r===0&&jV(e)}};function Jk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yO(){}function Ire(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var s=E_(l);o.call(s)}}var l=JH(t,n,e,0,null,!1,!1,"",yO);return e._reactRootContainer=l,e[lu]=l.current,My(e.nodeType===8?e.parentNode:e),uf(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var c=n;n=function(){var s=E_(a);c.call(s)}}var a=$k(e,0,!1,null,null,!1,!1,"",yO);return e._reactRootContainer=a,e[lu]=a.current,My(e.nodeType===8?e.parentNode:e),uf(function(){mS(t,a,r,n)}),a}function yS(e,t,r,n,i){var o=r._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var c=i;i=function(){var a=E_(l);c.call(a)}}mS(t,l,e,i)}else l=Ire(r,t,e,i,n);return E_(l)}TV=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=xv(t.pendingLanes);r!==0&&(vk(t,r|1),Go(t,kn()),!(fr&6)&&(ng=kn()+500,qd()))}break;case 13:uf(function(){var n=cu(e,1);if(n!==null){var i=xo();Js(n,e,1,i)}}),Kk(e,1)}};yk=function(e){if(e.tag===13){var t=cu(e,134217728);if(t!==null){var r=xo();Js(t,e,134217728,r)}Kk(e,134217728)}};PV=function(e){if(e.tag===13){var t=Cd(e),r=cu(e,t);if(r!==null){var n=xo();Js(r,e,t,n)}Kk(e,t)}};kV=function(){return Mr};DV=function(e,t){var r=Mr;try{return Mr=e,t()}finally{Mr=r}};xT=function(e,t,r){switch(t){case"input":if(fT(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=lS(n);if(!i)throw Error(Ge(90));lV(n),fT(n,i)}}}break;case"textarea":uV(e,r);break;case"select":t=r.value,t!=null&&wm(e,!!r.multiple,t,!1)}};vV=Gk;yV=uf;var Ore={usingClientEntryPoint:!1,Events:[w1,$p,lS,mV,gV,Gk]},_0={findFiberByHostInstance:Ih,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rre={bundleType:_0.bundleType,version:_0.version,rendererPackageName:_0.rendererPackageName,rendererConfig:_0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wV(e),e===null?null:e.stateNode},findFiberByHostInstance:_0.findFiberByHostInstance||jre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_b.isDisabled&&_b.supportsFiber)try{iS=_b.inject(Rre),Wl=_b}catch{}}Pa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ore;Pa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jk(t))throw Error(Ge(200));return Dre(e,t,null,r)};Pa.createRoot=function(e,t){if(!Jk(e))throw Error(Ge(299));var r=!1,n="",i=ZH;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=$k(e,1,!1,null,null,r,!1,n,i),e[lu]=t.current,My(e.nodeType===8?e.parentNode:e),new Qk(t)};Pa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ge(188)):(e=Object.keys(e).join(","),Error(Ge(268,e)));return e=wV(t),e=e===null?null:e.stateNode,e};Pa.flushSync=function(e){return uf(e)};Pa.hydrate=function(e,t,r){if(!vS(t))throw Error(Ge(200));return yS(null,e,t,!0,r)};Pa.hydrateRoot=function(e,t,r){if(!Jk(e))throw Error(Ge(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",l=ZH;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=JH(t,null,e,1,r??null,i,!1,o,l),e[lu]=t.current,My(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new gS(t)};Pa.render=function(e,t,r){if(!vS(t))throw Error(Ge(200));return yS(null,e,t,!1,r)};Pa.unmountComponentAtNode=function(e){if(!vS(e))throw Error(Ge(40));return e._reactRootContainer?(uf(function(){yS(null,null,e,!1,function(){e._reactRootContainer=null,e[lu]=null})}),!0):!1};Pa.unstable_batchedUpdates=Gk;Pa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vS(r))throw Error(Ge(200));if(e==null||e._reactInternals===void 0)throw Error(Ge(38));return yS(e,t,r,!1,n)};Pa.version="18.3.1-next-f1338f8080-20240426";function eW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eW)}catch(e){console.error(e)}}eW(),eV.exports=Pa;var Og=eV.exports;const _v=il(Og),Lre=VU({__proto__:null,default:_v},[Og]);var bO=Og;aT.createRoot=bO.createRoot,aT.hydrateRoot=bO.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function on(){return on=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},on.apply(this,arguments)}var Hn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hn||(Hn={}));const xO="popstate";function zre(e){e===void 0&&(e={});function t(n,i){let{pathname:o,search:l,hash:c}=n.location;return Ly("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:df(i)}return Bre(t,r,null,e)}function tr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ig(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Nre(){return Math.random().toString(36).substr(2,8)}function wO(e,t){return{usr:e.state,key:e.key,idx:t}}function Ly(e,t,r,n){return r===void 0&&(r=null),on({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yd(t):t,{state:r,key:t&&t.key||n||Nre()})}function df(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Bre(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,l=i.history,c=Hn.Pop,a=null,s=u();s==null&&(s=0,l.replaceState(on({},l.state,{idx:s}),""));function u(){return(l.state||{idx:null}).idx}function d(){c=Hn.Pop;let g=u(),v=g==null?null:g-s;s=g,a&&a({action:c,location:p.location,delta:v})}function h(g,v){c=Hn.Push;let x=Ly(p.location,g,v);s=u()+1;let y=wO(x,s),b=p.createHref(x);try{l.pushState(y,"",b)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(b)}o&&a&&a({action:c,location:p.location,delta:1})}function f(g,v){c=Hn.Replace;let x=Ly(p.location,g,v);s=u();let y=wO(x,s),b=p.createHref(x);l.replaceState(y,"",b),o&&a&&a({action:c,location:p.location,delta:0})}function m(g){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof g=="string"?g:df(g);return x=x.replace(/ $/,"%20"),tr(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let p={get action(){return c},get location(){return e(i,l)},listen(g){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(xO,d),a=g,()=>{i.removeEventListener(xO,d),a=null}},createHref(g){return t(i,g)},createURL:m,encodeLocation(g){let v=m(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:f,go(g){return l.go(g)}};return p}var Qr;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Qr||(Qr={}));const Fre=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ure(e){return e.index===!0}function ZT(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((i,o)=>{let l=[...r,o],c=typeof i.id=="string"?i.id:l.join("-");if(tr(i.index!==!0||!i.children,"Cannot specify children on an index route"),tr(!n[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),Ure(i)){let a=on({},i,t(i),{id:c});return n[c]=a,a}else{let a=on({},i,t(i),{id:c,children:void 0});return n[c]=a,i.children&&(a.children=ZT(i.children,t,l,n)),a}})}function rm(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?Yd(t):t,i=Rg(n.pathname||"/",r);if(i==null)return null;let o=tW(e);Hre(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let a=tne(i);l=Jre(o[c],a)}return l}function Vre(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],handle:r.handle}}function tW(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,l,c)=>{let a={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};a.relativePath.startsWith("/")&&(tr(a.relativePath.startsWith(n),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(n.length));let s=eu([n,a.relativePath]),u=r.concat(a);o.children&&o.children.length>0&&(tr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+s+'".')),tW(o.children,t,u,s)),!(o.path==null&&!o.index)&&t.push({path:s,score:Kre(s,o.index),routesMeta:u})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let a of rW(o.path))i(o,l,a)}),t}function rW(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let l=rW(n.join("/")),c=[];return c.push(...l.map(a=>a===""?o:[o,a].join("/"))),i&&c.push(...l),c.map(a=>e.startsWith("/")&&a===""?"/":a)}function Hre(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Qre(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Wre=/^:[\w-]+$/,Gre=3,qre=2,Yre=1,Xre=10,$re=-2,_O=e=>e==="*";function Kre(e,t){let r=e.split("/"),n=r.length;return r.some(_O)&&(n+=$re),t&&(n+=qre),r.filter(i=>!_O(i)).reduce((i,o)=>i+(Wre.test(o)?Gre:o===""?Yre:Xre),n)}function Qre(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Jre(e,t){let{routesMeta:r}=e,n={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],a=l===r.length-1,s=i==="/"?t:t.slice(i.length)||"/",u=Zre({path:c.relativePath,caseSensitive:c.caseSensitive,end:a},s);if(!u)return null;Object.assign(n,u.params);let d=c.route;o.push({params:n,pathname:eu([i,u.pathname]),pathnameBase:ine(eu([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=eu([i,u.pathnameBase]))}return o}function Zre(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ene(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((s,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let p=c[d]||"";l=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const m=c[d];return f&&!m?s[h]=void 0:s[h]=(m||"").replace(/%2F/g,"/"),s},{}),pathname:o,pathnameBase:l,pattern:e}}function ene(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ig(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,a)=>(n.push({paramName:c,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function tne(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ig(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function rne(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Yd(e):e;return{pathname:r?r.startsWith("/")?r:nne(r,t):t,search:one(n),hash:ane(i)}}function nne(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function L3(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nW(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Zk(e,t){let r=nW(e);return t?r.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function eD(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Yd(e):(i=on({},e),tr(!i.pathname||!i.pathname.includes("?"),L3("?","pathname","search",i)),tr(!i.pathname||!i.pathname.includes("#"),L3("#","pathname","hash",i)),tr(!i.search||!i.search.includes("#"),L3("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=r;else{let d=t.length-1;if(!n&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}c=d>=0?t[d]:"/"}let a=rne(i,c),s=l&&l!=="/"&&l.endsWith("/"),u=(o||l===".")&&r.endsWith("/");return!a.pathname.endsWith("/")&&(s||u)&&(a.pathname+="/"),a}const eu=e=>e.join("/").replace(/\/\/+/g,"/"),ine=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),one=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ane=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class tD{constructor(t,r,n,i){i===void 0&&(i=!1),this.status=t,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function rD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const iW=["post","put","patch","delete"],sne=new Set(iW),lne=["get",...iW],cne=new Set(lne),une=new Set([301,302,303,307,308]),dne=new Set([307,308]),z3={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hne={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},S0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fne=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),oW="remix-router-transitions";function pne(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;tr(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let se=e.detectErrorBoundary;i=ge=>({hasErrorBoundary:se(ge)})}else i=fne;let o={},l=ZT(e.routes,i,void 0,o),c,a=e.basename||"/",s=e.unstable_dataStrategy||yne,u=on({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),d=null,h=new Set,f=null,m=null,p=null,g=e.hydrationData!=null,v=rm(l,e.history.location,a),x=null;if(v==null){let se=Ga(404,{pathname:e.history.location.pathname}),{matches:ge,route:Se}=jO(l);v=ge,x={[Se.id]:se}}let y,b=v.some(se=>se.route.lazy),w=v.some(se=>se.route.loader);if(b)y=!1;else if(!w)y=!0;else if(u.v7_partialHydration){let se=e.hydrationData?e.hydrationData.loaderData:null,ge=e.hydrationData?e.hydrationData.errors:null,Se=Pe=>Pe.route.loader?typeof Pe.route.loader=="function"&&Pe.route.loader.hydrate===!0?!1:se&&se[Pe.route.id]!==void 0||ge&&ge[Pe.route.id]!==void 0:!0;if(ge){let Pe=v.findIndex(Je=>ge[Je.route.id]!==void 0);y=v.slice(0,Pe+1).every(Se)}else y=v.every(Se)}else y=e.hydrationData!=null;let _,S={historyAction:e.history.action,location:e.history.location,matches:v,initialized:y,navigation:z3,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||x,fetchers:new Map,blockers:new Map},E=Hn.Pop,C=!1,A,T=!1,k=new Map,D=null,M=!1,P=!1,j=[],O=[],I=new Map,N=0,L=-1,B=new Map,R=new Set,z=new Map,W=new Map,U=new Set,H=new Map,X=new Map,K=!1;function Q(){if(d=e.history.listen(se=>{let{action:ge,location:Se,delta:Pe}=se;if(K){K=!1;return}ig(X.size===0||Pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Je=He({currentLocation:S.location,nextLocation:Se,historyAction:ge});if(Je&&Pe!=null){K=!0,e.history.go(Pe*-1),We(Je,{state:"blocked",location:Se,proceed(){We(Je,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),e.history.go(Pe)},reset(){let et=new Map(S.blockers);et.set(Je,S0),J({blockers:et})}});return}return je(ge,Se)}),r){kne(t,k);let se=()=>Dne(t,k);t.addEventListener("pagehide",se),D=()=>t.removeEventListener("pagehide",se)}return S.initialized||je(Hn.Pop,S.location,{initialHydration:!0}),_}function Y(){d&&d(),D&&D(),h.clear(),A&&A.abort(),S.fetchers.forEach((se,ge)=>fe(ge)),S.blockers.forEach((se,ge)=>Ke(ge))}function $(se){return h.add(se),()=>h.delete(se)}function J(se,ge){ge===void 0&&(ge={}),S=on({},S,se);let Se=[],Pe=[];u.v7_fetcherPersist&&S.fetchers.forEach((Je,et)=>{Je.state==="idle"&&(U.has(et)?Pe.push(et):Se.push(et))}),[...h].forEach(Je=>Je(S,{deletedFetchers:Pe,unstable_viewTransitionOpts:ge.viewTransitionOpts,unstable_flushSync:ge.flushSync===!0})),u.v7_fetcherPersist&&(Se.forEach(Je=>S.fetchers.delete(Je)),Pe.forEach(Je=>fe(Je)))}function ie(se,ge,Se){var Pe,Je;let{flushSync:et}=Se===void 0?{}:Se,tt=S.actionData!=null&&S.navigation.formMethod!=null&&Us(S.navigation.formMethod)&&S.navigation.state==="loading"&&((Pe=se.state)==null?void 0:Pe._isRedirect)!==!0,nt;ge.actionData?Object.keys(ge.actionData).length>0?nt=ge.actionData:nt=null:tt?nt=S.actionData:nt=null;let ct=ge.loaderData?kO(S.loaderData,ge.loaderData,ge.matches||[],ge.errors):S.loaderData,ot=S.blockers;ot.size>0&&(ot=new Map(ot),ot.forEach((he,me)=>ot.set(me,S0)));let Z=C===!0||S.navigation.formMethod!=null&&Us(S.navigation.formMethod)&&((Je=se.state)==null?void 0:Je._isRedirect)!==!0;c&&(l=c,c=void 0),M||E===Hn.Pop||(E===Hn.Push?e.history.push(se,se.state):E===Hn.Replace&&e.history.replace(se,se.state));let pe;if(E===Hn.Pop){let he=k.get(S.location.pathname);he&&he.has(se.pathname)?pe={currentLocation:S.location,nextLocation:se}:k.has(se.pathname)&&(pe={currentLocation:se,nextLocation:S.location})}else if(T){let he=k.get(S.location.pathname);he?he.add(se.pathname):(he=new Set([se.pathname]),k.set(S.location.pathname,he)),pe={currentLocation:S.location,nextLocation:se}}J(on({},ge,{actionData:nt,loaderData:ct,historyAction:E,location:se,initialized:!0,navigation:z3,revalidation:"idle",restoreScrollPosition:mt(se,ge.matches||S.matches),preventScrollReset:Z,blockers:ot}),{viewTransitionOpts:pe,flushSync:et===!0}),E=Hn.Pop,C=!1,T=!1,M=!1,P=!1,j=[],O=[]}async function ne(se,ge){if(typeof se=="number"){e.history.go(se);return}let Se=e4(S.location,S.matches,a,u.v7_prependBasename,se,u.v7_relativeSplatPath,ge==null?void 0:ge.fromRouteId,ge==null?void 0:ge.relative),{path:Pe,submission:Je,error:et}=SO(u.v7_normalizeFormMethod,!1,Se,ge),tt=S.location,nt=Ly(S.location,Pe,ge&&ge.state);nt=on({},nt,e.history.encodeLocation(nt));let ct=ge&&ge.replace!=null?ge.replace:void 0,ot=Hn.Push;ct===!0?ot=Hn.Replace:ct===!1||Je!=null&&Us(Je.formMethod)&&Je.formAction===S.location.pathname+S.location.search&&(ot=Hn.Replace);let Z=ge&&"preventScrollReset"in ge?ge.preventScrollReset===!0:void 0,pe=(ge&&ge.unstable_flushSync)===!0,he=He({currentLocation:tt,nextLocation:nt,historyAction:ot});if(he){We(he,{state:"blocked",location:nt,proceed(){We(he,{state:"proceeding",proceed:void 0,reset:void 0,location:nt}),ne(se,ge)},reset(){let me=new Map(S.blockers);me.set(he,S0),J({blockers:me})}});return}return await je(ot,nt,{submission:Je,pendingError:et,preventScrollReset:Z,replace:ge&&ge.replace,enableViewTransition:ge&&ge.unstable_viewTransition,flushSync:pe})}function ae(){if(Te(),J({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){je(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}je(E||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function je(se,ge,Se){A&&A.abort(),A=null,E=se,M=(Se&&Se.startUninterruptedRevalidation)===!0,Ue(S.location,S.matches),C=(Se&&Se.preventScrollReset)===!0,T=(Se&&Se.enableViewTransition)===!0;let Pe=c||l,Je=Se&&Se.overrideNavigation,et=rm(Pe,ge,a),tt=(Se&&Se.flushSync)===!0;if(!et){let he=Ga(404,{pathname:ge.pathname}),{matches:me,route:ve}=jO(Pe);re(),ie(ge,{matches:me,loaderData:{},errors:{[ve.id]:he}},{flushSync:tt});return}if(S.initialized&&!P&&Ene(S.location,ge)&&!(Se&&Se.submission&&Us(Se.submission.formMethod))){ie(ge,{matches:et},{flushSync:tt});return}A=new AbortController;let nt=Wf(e.history,ge,A.signal,Se&&Se.submission),ct;if(Se&&Se.pendingError)ct=[Yv(et).route.id,{type:Qr.error,error:Se.pendingError}];else if(Se&&Se.submission&&Us(Se.submission.formMethod)){let he=await Ee(nt,ge,Se.submission,et,{replace:Se.replace,flushSync:tt});if(he.shortCircuited)return;ct=he.pendingActionResult,Je=N3(ge,Se.submission),tt=!1,nt=Wf(e.history,nt.url,nt.signal)}let{shortCircuited:ot,loaderData:Z,errors:pe}=await we(nt,ge,et,Je,Se&&Se.submission,Se&&Se.fetcherSubmission,Se&&Se.replace,Se&&Se.initialHydration===!0,tt,ct);ot||(A=null,ie(ge,on({matches:et},DO(ct),{loaderData:Z,errors:pe})))}async function Ee(se,ge,Se,Pe,Je){Je===void 0&&(Je={}),Te();let et=Tne(ge,Se);J({navigation:et},{flushSync:Je.flushSync===!0});let tt,nt=r4(Pe,ge);if(!nt.route.action&&!nt.route.lazy)tt={type:Qr.error,error:Ga(405,{method:se.method,pathname:ge.pathname,routeId:nt.route.id})};else if(tt=(await q("action",se,[nt],Pe))[0],se.signal.aborted)return{shortCircuited:!0};if(zh(tt)){let ct;return Je&&Je.replace!=null?ct=Je.replace:ct=MO(tt.response.headers.get("Location"),new URL(se.url),a)===S.location.pathname+S.location.search,await ee(se,tt,{submission:Se,replace:ct}),{shortCircuited:!0}}if(Lh(tt))throw Ga(400,{type:"defer-action"});if(Za(tt)){let ct=Yv(Pe,nt.route.id);return(Je&&Je.replace)!==!0&&(E=Hn.Push),{pendingActionResult:[ct.route.id,tt]}}return{pendingActionResult:[nt.route.id,tt]}}async function we(se,ge,Se,Pe,Je,et,tt,nt,ct,ot){let Z=Pe||N3(ge,Je),pe=Je||et||RO(Z),he=c||l,[me,ve]=EO(e.history,S,Se,pe,ge,u.v7_partialHydration&&nt===!0,u.unstable_skipActionErrorRevalidation,P,j,O,U,z,R,he,a,ot);if(re(Ot=>!(Se&&Se.some(Lr=>Lr.route.id===Ot))||me&&me.some(Lr=>Lr.route.id===Ot)),L=++N,me.length===0&&ve.length===0){let Ot=_e();return ie(ge,on({matches:Se,loaderData:{},errors:ot&&Za(ot[1])?{[ot[0]]:ot[1].error}:null},DO(ot),Ot?{fetchers:new Map(S.fetchers)}:{}),{flushSync:ct}),{shortCircuited:!0}}if(!M&&(!u.v7_partialHydration||!nt)){ve.forEach(Lr=>{let er=S.fetchers.get(Lr.key),yt=E0(void 0,er?er.data:void 0);S.fetchers.set(Lr.key,yt)});let Ot;ot&&!Za(ot[1])?Ot={[ot[0]]:ot[1].data}:S.actionData&&(Object.keys(S.actionData).length===0?Ot=null:Ot=S.actionData),J(on({navigation:Z},Ot!==void 0?{actionData:Ot}:{},ve.length>0?{fetchers:new Map(S.fetchers)}:{}),{flushSync:ct})}ve.forEach(Ot=>{I.has(Ot.key)&&Fe(Ot.key),Ot.controller&&I.set(Ot.key,Ot.controller)});let Ye=()=>ve.forEach(Ot=>Fe(Ot.key));A&&A.signal.addEventListener("abort",Ye);let{loaderResults:gt,fetcherResults:st}=await le(S.matches,Se,me,ve,se);if(se.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Ye),ve.forEach(Ot=>I.delete(Ot.key));let ut=IO([...gt,...st]);if(ut){if(ut.idx>=me.length){let Ot=ve[ut.idx-me.length].key;R.add(Ot)}return await ee(se,ut.result,{replace:tt}),{shortCircuited:!0}}let{loaderData:Gt,errors:Ct}=PO(S,Se,me,gt,ot,ve,st,H);H.forEach((Ot,Lr)=>{Ot.subscribe(er=>{(er||Ot.done)&&H.delete(Lr)})}),u.v7_partialHydration&&nt&&S.errors&&Object.entries(S.errors).filter(Ot=>{let[Lr]=Ot;return!me.some(er=>er.route.id===Lr)}).forEach(Ot=>{let[Lr,er]=Ot;Ct=Object.assign(Ct||{},{[Lr]:er})});let It=_e(),wr=Ve(L),Rr=It||wr||ve.length>0;return on({loaderData:Gt,errors:Ct},Rr?{fetchers:new Map(S.fetchers)}:{})}function De(se,ge,Se,Pe){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");I.has(se)&&Fe(se);let Je=(Pe&&Pe.unstable_flushSync)===!0,et=c||l,tt=e4(S.location,S.matches,a,u.v7_prependBasename,Se,u.v7_relativeSplatPath,ge,Pe==null?void 0:Pe.relative),nt=rm(et,tt,a);if(!nt){ce(se,ge,Ga(404,{pathname:tt}),{flushSync:Je});return}let{path:ct,submission:ot,error:Z}=SO(u.v7_normalizeFormMethod,!0,tt,Pe);if(Z){ce(se,ge,Z,{flushSync:Je});return}let pe=r4(nt,ct);if(C=(Pe&&Pe.preventScrollReset)===!0,ot&&Us(ot.formMethod)){Le(se,ge,ct,pe,nt,Je,ot);return}z.set(se,{routeId:ge,path:ct}),Ie(se,ge,ct,pe,nt,Je,ot)}async function Le(se,ge,Se,Pe,Je,et,tt){if(Te(),z.delete(se),!Pe.route.action&&!Pe.route.lazy){let yt=Ga(405,{method:tt.formMethod,pathname:Se,routeId:ge});ce(se,ge,yt,{flushSync:et});return}let nt=S.fetchers.get(se);te(se,Pne(tt,nt),{flushSync:et});let ct=new AbortController,ot=Wf(e.history,Se,ct.signal,tt);I.set(se,ct);let Z=N,he=(await q("action",ot,[Pe],Je))[0];if(ot.signal.aborted){I.get(se)===ct&&I.delete(se);return}if(u.v7_fetcherPersist&&U.has(se)){if(zh(he)||Za(he)){te(se,Yu(void 0));return}}else{if(zh(he))if(I.delete(se),L>Z){te(se,Yu(void 0));return}else return R.add(se),te(se,E0(tt)),ee(ot,he,{fetcherSubmission:tt});if(Za(he)){ce(se,ge,he.error);return}}if(Lh(he))throw Ga(400,{type:"defer-action"});let me=S.navigation.location||S.location,ve=Wf(e.history,me,ct.signal),Ye=c||l,gt=S.navigation.state!=="idle"?rm(Ye,S.navigation.location,a):S.matches;tr(gt,"Didn't find any matches after fetcher action");let st=++N;B.set(se,st);let ut=E0(tt,he.data);S.fetchers.set(se,ut);let[Gt,Ct]=EO(e.history,S,gt,tt,me,!1,u.unstable_skipActionErrorRevalidation,P,j,O,U,z,R,Ye,a,[Pe.route.id,he]);Ct.filter(yt=>yt.key!==se).forEach(yt=>{let ra=yt.key,cl=S.fetchers.get(ra),na=E0(void 0,cl?cl.data:void 0);S.fetchers.set(ra,na),I.has(ra)&&Fe(ra),yt.controller&&I.set(ra,yt.controller)}),J({fetchers:new Map(S.fetchers)});let It=()=>Ct.forEach(yt=>Fe(yt.key));ct.signal.addEventListener("abort",It);let{loaderResults:wr,fetcherResults:Rr}=await le(S.matches,gt,Gt,Ct,ve);if(ct.signal.aborted)return;ct.signal.removeEventListener("abort",It),B.delete(se),I.delete(se),Ct.forEach(yt=>I.delete(yt.key));let Ot=IO([...wr,...Rr]);if(Ot){if(Ot.idx>=Gt.length){let yt=Ct[Ot.idx-Gt.length].key;R.add(yt)}return ee(ve,Ot.result)}let{loaderData:Lr,errors:er}=PO(S,S.matches,Gt,wr,void 0,Ct,Rr,H);if(S.fetchers.has(se)){let yt=Yu(he.data);S.fetchers.set(se,yt)}Ve(st),S.navigation.state==="loading"&&st>L?(tr(E,"Expected pending action"),A&&A.abort(),ie(S.navigation.location,{matches:gt,loaderData:Lr,errors:er,fetchers:new Map(S.fetchers)})):(J({errors:er,loaderData:kO(S.loaderData,Lr,gt,er),fetchers:new Map(S.fetchers)}),P=!1)}async function Ie(se,ge,Se,Pe,Je,et,tt){let nt=S.fetchers.get(se);te(se,E0(tt,nt?nt.data:void 0),{flushSync:et});let ct=new AbortController,ot=Wf(e.history,Se,ct.signal);I.set(se,ct);let Z=N,he=(await q("loader",ot,[Pe],Je))[0];if(Lh(he)&&(he=await cW(he,ot.signal,!0)||he),I.get(se)===ct&&I.delete(se),!ot.signal.aborted){if(U.has(se)){te(se,Yu(void 0));return}if(zh(he))if(L>Z){te(se,Yu(void 0));return}else{R.add(se),await ee(ot,he);return}if(Za(he)){ce(se,ge,he.error);return}tr(!Lh(he),"Unhandled fetcher deferred data"),te(se,Yu(he.data))}}async function ee(se,ge,Se){let{submission:Pe,fetcherSubmission:Je,replace:et}=Se===void 0?{}:Se;ge.response.headers.has("X-Remix-Revalidate")&&(P=!0);let tt=ge.response.headers.get("Location");tr(tt,"Expected a Location header on the redirect Response"),tt=MO(tt,new URL(se.url),a);let nt=Ly(S.location,tt,{_isRedirect:!0});if(r){let me=!1;if(ge.response.headers.has("X-Remix-Reload-Document"))me=!0;else if(nD.test(tt)){const ve=e.history.createURL(tt);me=ve.origin!==t.location.origin||Rg(ve.pathname,a)==null}if(me){et?t.location.replace(tt):t.location.assign(tt);return}}A=null;let ct=et===!0?Hn.Replace:Hn.Push,{formMethod:ot,formAction:Z,formEncType:pe}=S.navigation;!Pe&&!Je&&ot&&Z&&pe&&(Pe=RO(S.navigation));let he=Pe||Je;if(dne.has(ge.response.status)&&he&&Us(he.formMethod))await je(ct,nt,{submission:on({},he,{formAction:tt}),preventScrollReset:C});else{let me=N3(nt,Pe);await je(ct,nt,{overrideNavigation:me,fetcherSubmission:Je,preventScrollReset:C})}}async function q(se,ge,Se,Pe){try{let Je=await bne(s,se,ge,Se,Pe,o,i);return await Promise.all(Je.map((et,tt)=>{if(Ane(et)){let nt=et.result;return{type:Qr.redirect,response:_ne(nt,ge,Se[tt].route.id,Pe,a,u.v7_relativeSplatPath)}}return wne(et)}))}catch(Je){return Se.map(()=>({type:Qr.error,error:Je}))}}async function le(se,ge,Se,Pe,Je){let[et,...tt]=await Promise.all([Se.length?q("loader",Je,Se,ge):[],...Pe.map(nt=>{if(nt.matches&&nt.match&&nt.controller){let ct=Wf(e.history,nt.path,nt.controller.signal);return q("loader",ct,[nt.match],nt.matches).then(ot=>ot[0])}else return Promise.resolve({type:Qr.error,error:Ga(404,{pathname:nt.path})})})]);return await Promise.all([OO(se,Se,et,et.map(()=>Je.signal),!1,S.loaderData),OO(se,Pe.map(nt=>nt.match),tt,Pe.map(nt=>nt.controller?nt.controller.signal:null),!0)]),{loaderResults:et,fetcherResults:tt}}function Te(){P=!0,j.push(...re()),z.forEach((se,ge)=>{I.has(ge)&&(O.push(ge),Fe(ge))})}function te(se,ge,Se){Se===void 0&&(Se={}),S.fetchers.set(se,ge),J({fetchers:new Map(S.fetchers)},{flushSync:(Se&&Se.flushSync)===!0})}function ce(se,ge,Se,Pe){Pe===void 0&&(Pe={});let Je=Yv(S.matches,ge);fe(se),J({errors:{[Je.route.id]:Se},fetchers:new Map(S.fetchers)},{flushSync:(Pe&&Pe.flushSync)===!0})}function Ce(se){return u.v7_fetcherPersist&&(W.set(se,(W.get(se)||0)+1),U.has(se)&&U.delete(se)),S.fetchers.get(se)||hne}function fe(se){let ge=S.fetchers.get(se);I.has(se)&&!(ge&&ge.state==="loading"&&B.has(se))&&Fe(se),z.delete(se),B.delete(se),R.delete(se),U.delete(se),S.fetchers.delete(se)}function de(se){if(u.v7_fetcherPersist){let ge=(W.get(se)||0)-1;ge<=0?(W.delete(se),U.add(se)):W.set(se,ge)}else fe(se);J({fetchers:new Map(S.fetchers)})}function Fe(se){let ge=I.get(se);tr(ge,"Expected fetch controller: "+se),ge.abort(),I.delete(se)}function Be(se){for(let ge of se){let Se=Ce(ge),Pe=Yu(Se.data);S.fetchers.set(ge,Pe)}}function _e(){let se=[],ge=!1;for(let Se of R){let Pe=S.fetchers.get(Se);tr(Pe,"Expected fetcher: "+Se),Pe.state==="loading"&&(R.delete(Se),se.push(Se),ge=!0)}return Be(se),ge}function Ve(se){let ge=[];for(let[Se,Pe]of B)if(Pe<se){let Je=S.fetchers.get(Se);tr(Je,"Expected fetcher: "+Se),Je.state==="loading"&&(Fe(Se),B.delete(Se),ge.push(Se))}return Be(ge),ge.length>0}function Re(se,ge){let Se=S.blockers.get(se)||S0;return X.get(se)!==ge&&X.set(se,ge),Se}function Ke(se){S.blockers.delete(se),X.delete(se)}function We(se,ge){let Se=S.blockers.get(se)||S0;tr(Se.state==="unblocked"&&ge.state==="blocked"||Se.state==="blocked"&&ge.state==="blocked"||Se.state==="blocked"&&ge.state==="proceeding"||Se.state==="blocked"&&ge.state==="unblocked"||Se.state==="proceeding"&&ge.state==="unblocked","Invalid blocker state transition: "+Se.state+" -> "+ge.state);let Pe=new Map(S.blockers);Pe.set(se,ge),J({blockers:Pe})}function He(se){let{currentLocation:ge,nextLocation:Se,historyAction:Pe}=se;if(X.size===0)return;X.size>1&&ig(!1,"A router only supports one blocker at a time");let Je=Array.from(X.entries()),[et,tt]=Je[Je.length-1],nt=S.blockers.get(et);if(!(nt&&nt.state==="proceeding")&&tt({currentLocation:ge,nextLocation:Se,historyAction:Pe}))return et}function re(se){let ge=[];return H.forEach((Se,Pe)=>{(!se||se(Pe))&&(Se.cancel(),ge.push(Pe),H.delete(Pe))}),ge}function be(se,ge,Se){if(f=se,p=ge,m=Se||null,!g&&S.navigation===z3){g=!0;let Pe=mt(S.location,S.matches);Pe!=null&&J({restoreScrollPosition:Pe})}return()=>{f=null,p=null,m=null}}function Ae(se,ge){return m&&m(se,ge.map(Pe=>Vre(Pe,S.loaderData)))||se.key}function Ue(se,ge){if(f&&p){let Se=Ae(se,ge);f[Se]=p()}}function mt(se,ge){if(f){let Se=Ae(se,ge),Pe=f[Se];if(typeof Pe=="number")return Pe}return null}function ht(se){o={},c=ZT(se,i,void 0,o)}return _={get basename(){return a},get future(){return u},get state(){return S},get routes(){return l},get window(){return t},initialize:Q,subscribe:$,enableScrollRestoration:be,navigate:ne,fetch:De,revalidate:ae,createHref:se=>e.history.createHref(se),encodeLocation:se=>e.history.encodeLocation(se),getFetcher:Ce,deleteFetcher:de,dispose:Y,getBlocker:Re,deleteBlocker:Ke,_internalFetchControllers:I,_internalActiveDeferreds:H,_internalSetRoutes:ht},_}function mne(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function e4(e,t,r,n,i,o,l,c){let a,s;if(l){a=[];for(let d of t)if(a.push(d),d.route.id===l){s=d;break}}else a=t,s=t[t.length-1];let u=eD(i||".",Zk(a,o),Rg(e.pathname,r)||e.pathname,c==="path");return i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&s&&s.route.index&&!iD(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(u.pathname=u.pathname==="/"?r:eu([r,u.pathname])),df(u)}function SO(e,t,r,n){if(!n||!mne(n))return{path:r};if(n.formMethod&&!Mne(n.formMethod))return{path:r,error:Ga(405,{method:n.formMethod})};let i=()=>({path:r,error:Ga(400,{type:"invalid-body"})}),o=n.formMethod||"get",l=e?o.toUpperCase():o.toLowerCase(),c=sW(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Us(l))return i();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((f,m)=>{let[p,g]=m;return""+f+p+"="+g+`
`},""):String(n.body);return{path:r,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!Us(l))return i();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}tr(typeof FormData=="function","FormData is not available in this environment");let a,s;if(n.formData)a=t4(n.formData),s=n.formData;else if(n.body instanceof FormData)a=t4(n.body),s=n.body;else if(n.body instanceof URLSearchParams)a=n.body,s=TO(a);else if(n.body==null)a=new URLSearchParams,s=new FormData;else try{a=new URLSearchParams(n.body),s=TO(a)}catch{return i()}let u={formMethod:l,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(Us(u.formMethod))return{path:r,submission:u};let d=Yd(r);return t&&d.search&&iD(d.search)&&a.append("index",""),d.search="?"+a,{path:df(d),submission:u}}function gne(e,t){let r=e;if(t){let n=e.findIndex(i=>i.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function EO(e,t,r,n,i,o,l,c,a,s,u,d,h,f,m,p){let g=p?Za(p[1])?p[1].error:p[1].data:void 0,v=e.createURL(t.location),x=e.createURL(i),y=p&&Za(p[1])?p[0]:void 0,b=y?gne(r,y):r,w=p?p[1].statusCode:void 0,_=l&&w&&w>=400,S=b.filter((C,A)=>{let{route:T}=C;if(T.lazy)return!0;if(T.loader==null)return!1;if(o)return typeof T.loader!="function"||T.loader.hydrate?!0:t.loaderData[T.id]===void 0&&(!t.errors||t.errors[T.id]===void 0);if(vne(t.loaderData,t.matches[A],C)||a.some(M=>M===C.route.id))return!0;let k=t.matches[A],D=C;return AO(C,on({currentUrl:v,currentParams:k.params,nextUrl:x,nextParams:D.params},n,{actionResult:g,unstable_actionStatus:w,defaultShouldRevalidate:_?!1:c||v.pathname+v.search===x.pathname+x.search||v.search!==x.search||aW(k,D)}))}),E=[];return d.forEach((C,A)=>{if(o||!r.some(P=>P.route.id===C.routeId)||u.has(A))return;let T=rm(f,C.path,m);if(!T){E.push({key:A,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let k=t.fetchers.get(A),D=r4(T,C.path),M=!1;h.has(A)?M=!1:s.includes(A)?M=!0:k&&k.state!=="idle"&&k.data===void 0?M=c:M=AO(D,on({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:x,nextParams:r[r.length-1].params},n,{actionResult:g,unstable_actionStatus:w,defaultShouldRevalidate:_?!1:c})),M&&E.push({key:A,routeId:C.routeId,path:C.path,matches:T,match:D,controller:new AbortController})}),[S,E]}function vne(e,t,r){let n=!t||r.route.id!==t.route.id,i=e[r.route.id]===void 0;return n||i}function aW(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function AO(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function CO(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let i=r[e.id];tr(i,"No route found in manifest");let o={};for(let l in n){let a=i[l]!==void 0&&l!=="hasErrorBoundary";ig(!a,'Route "'+i.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!a&&!Fre.has(l)&&(o[l]=n[l])}Object.assign(i,o),Object.assign(i,on({},t(i),{lazy:void 0}))}function yne(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function bne(e,t,r,n,i,o,l,c){let a=n.reduce((d,h)=>d.add(h.route.id),new Set),s=new Set,u=await e({matches:i.map(d=>{let h=a.has(d.route.id);return on({},d,{shouldLoad:h,resolve:m=>(s.add(d.route.id),h?xne(t,r,d,o,l,m,c):Promise.resolve({type:Qr.data,result:void 0}))})}),request:r,params:i[0].params,context:c});return i.forEach(d=>tr(s.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),u.filter((d,h)=>a.has(i[h].route.id))}async function xne(e,t,r,n,i,o,l){let c,a,s=u=>{let d,h=new Promise((p,g)=>d=g);a=()=>d(),t.signal.addEventListener("abort",a);let f=p=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):u({request:t,params:r.params,context:l},...p!==void 0?[p]:[]),m;return o?m=o(p=>f(p)):m=(async()=>{try{return{type:"data",result:await f()}}catch(p){return{type:"error",result:p}}})(),Promise.race([m,h])};try{let u=r.route[e];if(r.route.lazy)if(u){let d,[h]=await Promise.all([s(u).catch(f=>{d=f}),CO(r.route,i,n)]);if(d!==void 0)throw d;c=h}else if(await CO(r.route,i,n),u=r.route[e],u)c=await s(u);else if(e==="action"){let d=new URL(t.url),h=d.pathname+d.search;throw Ga(405,{method:t.method,pathname:h,routeId:r.route.id})}else return{type:Qr.data,result:void 0};else if(u)c=await s(u);else{let d=new URL(t.url),h=d.pathname+d.search;throw Ga(404,{pathname:h})}tr(c.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Qr.error,result:u}}finally{a&&t.signal.removeEventListener("abort",a)}return c}async function wne(e){let{result:t,type:r,status:n}=e;if(lW(t)){let l;try{let c=t.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?t.body==null?l=null:l=await t.json():l=await t.text()}catch(c){return{type:Qr.error,error:c}}return r===Qr.error?{type:Qr.error,error:new tD(t.status,t.statusText,l),statusCode:t.status,headers:t.headers}:{type:Qr.data,data:l,statusCode:t.status,headers:t.headers}}if(r===Qr.error)return{type:Qr.error,error:t,statusCode:rD(t)?t.status:n};if(Cne(t)){var i,o;return{type:Qr.deferred,deferredData:t,statusCode:(i=t.init)==null?void 0:i.status,headers:((o=t.init)==null?void 0:o.headers)&&new Headers(t.init.headers)}}return{type:Qr.data,data:t,statusCode:n}}function _ne(e,t,r,n,i,o){let l=e.headers.get("Location");if(tr(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!nD.test(l)){let c=n.slice(0,n.findIndex(a=>a.route.id===r)+1);l=e4(new URL(t.url),c,i,!0,l,o),e.headers.set("Location",l)}return e}function MO(e,t,r){if(nD.test(e)){let n=e,i=n.startsWith("//")?new URL(t.protocol+n):new URL(n),o=Rg(i.pathname,r)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function Wf(e,t,r,n){let i=e.createURL(sW(t)).toString(),o={signal:r};if(n&&Us(n.formMethod)){let{formMethod:l,formEncType:c}=n;o.method=l.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(n.json)):c==="text/plain"?o.body=n.text:c==="application/x-www-form-urlencoded"&&n.formData?o.body=t4(n.formData):o.body=n.formData}return new Request(i,o)}function t4(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function TO(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function Sne(e,t,r,n,i,o){let l={},c=null,a,s=!1,u={},d=n&&Za(n[1])?n[1].error:void 0;return r.forEach((h,f)=>{let m=t[f].route.id;if(tr(!zh(h),"Cannot handle redirect results in processLoaderData"),Za(h)){let p=h.error;d!==void 0&&(p=d,d=void 0),c=c||{};{let g=Yv(e,m);c[g.route.id]==null&&(c[g.route.id]=p)}l[m]=void 0,s||(s=!0,a=rD(h.error)?h.error.status:500),h.headers&&(u[m]=h.headers)}else Lh(h)?(i.set(m,h.deferredData),l[m]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!s&&(a=h.statusCode),h.headers&&(u[m]=h.headers)):(l[m]=h.data,h.statusCode&&h.statusCode!==200&&!s&&(a=h.statusCode),h.headers&&(u[m]=h.headers))}),d!==void 0&&n&&(c={[n[0]]:d},l[n[0]]=void 0),{loaderData:l,errors:c,statusCode:a||200,loaderHeaders:u}}function PO(e,t,r,n,i,o,l,c){let{loaderData:a,errors:s}=Sne(t,r,n,i,c);for(let u=0;u<o.length;u++){let{key:d,match:h,controller:f}=o[u];tr(l!==void 0&&l[u]!==void 0,"Did not find corresponding fetcher result");let m=l[u];if(!(f&&f.signal.aborted))if(Za(m)){let p=Yv(e.matches,h==null?void 0:h.route.id);s&&s[p.route.id]||(s=on({},s,{[p.route.id]:m.error})),e.fetchers.delete(d)}else if(zh(m))tr(!1,"Unhandled fetcher revalidation redirect");else if(Lh(m))tr(!1,"Unhandled fetcher deferred data");else{let p=Yu(m.data);e.fetchers.set(d,p)}}return{loaderData:a,errors:s}}function kO(e,t,r,n){let i=on({},t);for(let o of r){let l=o.route.id;if(t.hasOwnProperty(l)?t[l]!==void 0&&(i[l]=t[l]):e[l]!==void 0&&o.route.loader&&(i[l]=e[l]),n&&n.hasOwnProperty(l))break}return i}function DO(e){return e?Za(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Yv(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function jO(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ga(e,t){let{pathname:r,routeId:n,method:i,type:o}=t===void 0?{}:t,l="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(l="Bad Request",i&&r&&n?c="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"?c="defer() is not supported in actions":o==="invalid-body"&&(c="Unable to encode submission body")):e===403?(l="Forbidden",c='Route "'+n+'" does not match URL "'+r+'"'):e===404?(l="Not Found",c='No route matches URL "'+r+'"'):e===405&&(l="Method Not Allowed",i&&r&&n?c="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(c='Invalid request method "'+i.toUpperCase()+'"')),new tD(e||500,l,new Error(c),!0)}function IO(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(zh(r))return{result:r,idx:t}}}function sW(e){let t=typeof e=="string"?Yd(e):e;return df(on({},t,{hash:""}))}function Ene(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Ane(e){return lW(e.result)&&une.has(e.result.status)}function Lh(e){return e.type===Qr.deferred}function Za(e){return e.type===Qr.error}function zh(e){return(e&&e.type)===Qr.redirect}function Cne(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function lW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Mne(e){return cne.has(e.toLowerCase())}function Us(e){return sne.has(e.toLowerCase())}async function OO(e,t,r,n,i,o){for(let l=0;l<r.length;l++){let c=r[l],a=t[l];if(!a)continue;let s=e.find(d=>d.route.id===a.route.id),u=s!=null&&!aW(s,a)&&(o&&o[a.route.id])!==void 0;if(Lh(c)&&(i||u)){let d=n[l];tr(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await cW(c,d,i).then(h=>{h&&(r[l]=h||r[l])})}}}async function cW(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:Qr.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Qr.error,error:i}}return{type:Qr.data,data:e.deferredData.data}}}function iD(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function r4(e,t){let r=typeof t=="string"?Yd(t).search:t.search;if(e[e.length-1].route.index&&iD(r||""))return e[e.length-1];let n=nW(e);return n[n.length-1]}function RO(e){let{formMethod:t,formAction:r,formEncType:n,text:i,formData:o,json:l}=e;if(!(!t||!r||!n)){if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:r,formEncType:n,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:l,text:void 0}}}function N3(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Tne(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function E0(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Pne(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Yu(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kne(e,t){try{let r=e.sessionStorage.getItem(oW);if(r){let n=JSON.parse(r);for(let[i,o]of Object.entries(n||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function Dne(e,t){if(t.size>0){let r={};for(let[n,i]of t)r[n]=[...i];try{e.sessionStorage.setItem(oW,JSON.stringify(r))}catch(n){ig(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function A_(){return A_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A_.apply(this,arguments)}const bS=G.createContext(null),uW=G.createContext(null),jf=G.createContext(null),oD=G.createContext(null),Xd=G.createContext({outlet:null,matches:[],isDataRoute:!1}),dW=G.createContext(null);function jne(e,t){let{relative:r}=t===void 0?{}:t;S1()||tr(!1);let{basename:n,navigator:i}=G.useContext(jf),{hash:o,pathname:l,search:c}=fW(e,{relative:r}),a=l;return n!=="/"&&(a=l==="/"?n:eu([n,l])),i.createHref({pathname:a,search:c,hash:o})}function S1(){return G.useContext(oD)!=null}function xS(){return S1()||tr(!1),G.useContext(oD).location}function hW(e){G.useContext(jf).static||G.useLayoutEffect(e)}function Lg(){let{isDataRoute:e}=G.useContext(Xd);return e?qne():Ine()}function Ine(){S1()||tr(!1);let e=G.useContext(bS),{basename:t,future:r,navigator:n}=G.useContext(jf),{matches:i}=G.useContext(Xd),{pathname:o}=xS(),l=JSON.stringify(Zk(i,r.v7_relativeSplatPath)),c=G.useRef(!1);return hW(()=>{c.current=!0}),G.useCallback(function(s,u){if(u===void 0&&(u={}),!c.current)return;if(typeof s=="number"){n.go(s);return}let d=eD(s,JSON.parse(l),o,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:eu([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,l,o,e])}const One=G.createContext(null);function Rne(e){let t=G.useContext(Xd).outlet;return t&&G.createElement(One.Provider,{value:e},t)}function fW(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=G.useContext(jf),{matches:i}=G.useContext(Xd),{pathname:o}=xS(),l=JSON.stringify(Zk(i,n.v7_relativeSplatPath));return G.useMemo(()=>eD(e,JSON.parse(l),o,r==="path"),[e,l,o,r])}function Lne(e,t,r,n){S1()||tr(!1);let{navigator:i}=G.useContext(jf),{matches:o}=G.useContext(Xd),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let a=l?l.pathnameBase:"/";l&&l.route;let s=xS(),u;u=s;let d=u.pathname||"/",h=d;if(a!=="/"){let p=a.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(p.length).join("/")}let f=rm(e,{pathname:h});return Une(f&&f.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:eu([a,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?a:eu([a,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,r,n)}function zne(){let e=Gne(),t=rD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),r?G.createElement("pre",{style:i},r):null,null)}const Nne=G.createElement(zne,null);class Bne extends G.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?G.createElement(Xd.Provider,{value:this.props.routeContext},G.createElement(dW.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fne(e){let{routeContext:t,match:r,children:n}=e,i=G.useContext(bS);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),G.createElement(Xd.Provider,{value:t},n)}function Une(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if((o=r)!=null&&o.errors)e=r.matches;else return null}let l=e,c=(i=r)==null?void 0:i.errors;if(c!=null){let u=l.findIndex(d=>d.route.id&&(c==null?void 0:c[d.route.id])!==void 0);u>=0||tr(!1),l=l.slice(0,Math.min(l.length,u+1))}let a=!1,s=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<l.length;u++){let d=l[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(s=u),d.route.id){let{loaderData:h,errors:f}=r,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){a=!0,s>=0?l=l.slice(0,s+1):l=[l[0]];break}}}return l.reduceRight((u,d,h)=>{let f,m=!1,p=null,g=null;r&&(f=c&&d.route.id?c[d.route.id]:void 0,p=d.route.errorElement||Nne,a&&(s<0&&h===0?(Yne("route-fallback"),m=!0,g=null):s===h&&(m=!0,g=d.route.hydrateFallbackElement||null)));let v=t.concat(l.slice(0,h+1)),x=()=>{let y;return f?y=p:m?y=g:d.route.Component?y=G.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=u,G.createElement(Fne,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:y})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?G.createElement(Bne,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var pW=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(pW||{}),C_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(C_||{});function Vne(e){let t=G.useContext(bS);return t||tr(!1),t}function Hne(e){let t=G.useContext(uW);return t||tr(!1),t}function Wne(e){let t=G.useContext(Xd);return t||tr(!1),t}function mW(e){let t=Wne(),r=t.matches[t.matches.length-1];return r.route.id||tr(!1),r.route.id}function Gne(){var e;let t=G.useContext(dW),r=Hne(C_.UseRouteError),n=mW(C_.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function qne(){let{router:e}=Vne(pW.UseNavigateStable),t=mW(C_.UseNavigateStable),r=G.useRef(!1);return hW(()=>{r.current=!0}),G.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,A_({fromRouteId:t},o)))},[e,t])}const LO={};function Yne(e,t,r){LO[e]||(LO[e]=!0)}function Xne(e){return Rne(e.context)}function $ne(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Hn.Pop,navigator:o,static:l=!1,future:c}=e;S1()&&tr(!1);let a=t.replace(/^\/*/,"/"),s=G.useMemo(()=>({basename:a,navigator:o,static:l,future:A_({v7_relativeSplatPath:!1},c)}),[a,c,o,l]);typeof n=="string"&&(n=Yd(n));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=n,p=G.useMemo(()=>{let g=Rg(u,a);return g==null?null:{location:{pathname:g,search:d,hash:h,state:f,key:m},navigationType:i}},[a,u,d,h,f,m,i]);return p==null?null:G.createElement(jf.Provider,{value:s},G.createElement(oD.Provider,{children:r,value:p}))}new Promise(()=>{});function Kne(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:G.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:G.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:G.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(this,arguments)}function Qne(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Jne(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Zne(e,t){return e.button===0&&(!t||t==="_self")&&!Jne(e)}const eie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],tie="6";try{window.__reactRouterVersion=tie}catch{}function rie(e,t){return pne({basename:void 0,future:zy({},void 0,{v7_prependBasename:!0}),history:zre({window:void 0}),hydrationData:nie(),routes:e,mapRouteProperties:Kne,unstable_dataStrategy:void 0,window:void 0}).initialize()}function nie(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=zy({},t,{errors:iie(t.errors)})),t}function iie(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")r[n]=new tD(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let l=new o(i.message);l.stack="",r[n]=l}catch{}}if(r[n]==null){let o=new Error(i.message);o.stack="",r[n]=o}}else r[n]=i;return r}const oie=G.createContext({isTransitioning:!1}),aie=G.createContext(new Map),sie="startTransition",zO=e_[sie],lie="flushSync",NO=Lre[lie];function cie(e){zO?zO(e):e()}function A0(e){NO?NO(e):e()}class uie{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function die(e){let{fallbackElement:t,router:r,future:n}=e,[i,o]=G.useState(r.state),[l,c]=G.useState(),[a,s]=G.useState({isTransitioning:!1}),[u,d]=G.useState(),[h,f]=G.useState(),[m,p]=G.useState(),g=G.useRef(new Map),{v7_startTransition:v}=n||{},x=G.useCallback(S=>{v?cie(S):S()},[v]),y=G.useCallback((S,E)=>{let{deletedFetchers:C,unstable_flushSync:A,unstable_viewTransitionOpts:T}=E;C.forEach(D=>g.current.delete(D)),S.fetchers.forEach((D,M)=>{D.data!==void 0&&g.current.set(M,D.data)});let k=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!T||k){A?A0(()=>o(S)):x(()=>o(S));return}if(A){A0(()=>{h&&(u&&u.resolve(),h.skipTransition()),s({isTransitioning:!0,flushSync:!0,currentLocation:T.currentLocation,nextLocation:T.nextLocation})});let D=r.window.document.startViewTransition(()=>{A0(()=>o(S))});D.finished.finally(()=>{A0(()=>{d(void 0),f(void 0),c(void 0),s({isTransitioning:!1})})}),A0(()=>f(D));return}h?(u&&u.resolve(),h.skipTransition(),p({state:S,currentLocation:T.currentLocation,nextLocation:T.nextLocation})):(c(S),s({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}))},[r.window,h,u,g,x]);G.useLayoutEffect(()=>r.subscribe(y),[r,y]),G.useEffect(()=>{a.isTransitioning&&!a.flushSync&&d(new uie)},[a]),G.useEffect(()=>{if(u&&l&&r.window){let S=l,E=u.promise,C=r.window.document.startViewTransition(async()=>{x(()=>o(S)),await E});C.finished.finally(()=>{d(void 0),f(void 0),c(void 0),s({isTransitioning:!1})}),f(C)}},[x,l,u,r.window]),G.useEffect(()=>{u&&l&&i.location.key===l.location.key&&u.resolve()},[u,h,i.location,l]),G.useEffect(()=>{!a.isTransitioning&&m&&(c(m.state),s({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),p(void 0))},[a.isTransitioning,m]),G.useEffect(()=>{},[]);let b=G.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:S=>r.navigate(S),push:(S,E,C)=>r.navigate(S,{state:E,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(S,E,C)=>r.navigate(S,{replace:!0,state:E,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[r]),w=r.basename||"/",_=G.useMemo(()=>({router:r,navigator:b,static:!1,basename:w}),[r,b,w]);return G.createElement(G.Fragment,null,G.createElement(bS.Provider,{value:_},G.createElement(uW.Provider,{value:i},G.createElement(aie.Provider,{value:g.current},G.createElement(oie.Provider,{value:a},G.createElement($ne,{basename:w,location:i.location,navigationType:i.historyAction,navigator:b,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},i.initialized||r.future.v7_partialHydration?G.createElement(hie,{routes:r.routes,future:r.future,state:i}):t))))),null)}function hie(e){let{routes:t,future:r,state:n}=e;return Lne(t,void 0,n,r)}const fie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$h=G.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:o,replace:l,state:c,target:a,to:s,preventScrollReset:u,unstable_viewTransition:d}=t,h=Qne(t,eie),{basename:f}=G.useContext(jf),m,p=!1;if(typeof s=="string"&&pie.test(s)&&(m=s,fie))try{let y=new URL(window.location.href),b=s.startsWith("//")?new URL(y.protocol+s):new URL(s),w=Rg(b.pathname,f);b.origin===y.origin&&w!=null?s=w+b.search+b.hash:p=!0}catch{}let g=jne(s,{relative:i}),v=mie(s,{replace:l,state:c,target:a,preventScrollReset:u,relative:i,unstable_viewTransition:d});function x(y){n&&n(y),y.defaultPrevented||v(y)}return G.createElement("a",zy({},h,{href:m||g,onClick:p||o?n:x,ref:r,target:a}))});var BO;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(BO||(BO={}));var FO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(FO||(FO={}));function mie(e,t){let{target:r,replace:n,state:i,preventScrollReset:o,relative:l,unstable_viewTransition:c}=t===void 0?{}:t,a=Lg(),s=xS(),u=fW(e,{relative:l});return G.useCallback(d=>{if(Zne(d,r)){d.preventDefault();let h=n!==void 0?n:df(s)===df(u);a(e,{replace:h,state:i,preventScrollReset:o,relative:l,unstable_viewTransition:c})}},[s,a,u,n,i,r,e,o,l,c])}const gW=G.createContext(),vW=({children:e})=>{const[t,r]=G.useState(null),n=o=>{r(o)},i=()=>{r(null)};return F.jsx(gW.Provider,{value:{user:t,signIn:n,signOut:i},children:e})},wS=()=>{const e=G.useContext(gW);if(!e)throw new Error("useUser must be used within a UserProvider");return e};var aD={exports:{}};const gie={},vie=Object.freeze(Object.defineProperty({__proto__:null,default:gie},Symbol.toStringTag,{value:"Module"})),yie=sc(vie);aD.exports;(function(e){(function(t,r){function n(D,M){if(!D)throw new Error(M||"Assertion failed")}function i(D,M){D.super_=M;var P=function(){};P.prototype=M.prototype,D.prototype=new P,D.prototype.constructor=D}function o(D,M,P){if(o.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&((M==="le"||M==="be")&&(P=M,M=10),this._init(D||0,M||10,P||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=yie.Buffer}catch{}o.isBN=function(M){return M instanceof o?!0:M!==null&&typeof M=="object"&&M.constructor.wordSize===o.wordSize&&Array.isArray(M.words)},o.max=function(M,P){return M.cmp(P)>0?M:P},o.min=function(M,P){return M.cmp(P)<0?M:P},o.prototype._init=function(M,P,j){if(typeof M=="number")return this._initNumber(M,P,j);if(typeof M=="object")return this._initArray(M,P,j);P==="hex"&&(P=16),n(P===(P|0)&&P>=2&&P<=36),M=M.toString().replace(/\s+/g,"");var O=0;M[0]==="-"&&(O++,this.negative=1),O<M.length&&(P===16?this._parseHex(M,O,j):(this._parseBase(M,P,O),j==="le"&&this._initArray(this.toArray(),P,j)))},o.prototype._initNumber=function(M,P,j){M<0&&(this.negative=1,M=-M),M<67108864?(this.words=[M&67108863],this.length=1):M<4503599627370496?(this.words=[M&67108863,M/67108864&67108863],this.length=2):(n(M<9007199254740992),this.words=[M&67108863,M/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),P,j)},o.prototype._initArray=function(M,P,j){if(n(typeof M.length=="number"),M.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(M.length/3),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var I,N,L=0;if(j==="be")for(O=M.length-1,I=0;O>=0;O-=3)N=M[O]|M[O-1]<<8|M[O-2]<<16,this.words[I]|=N<<L&67108863,this.words[I+1]=N>>>26-L&67108863,L+=24,L>=26&&(L-=26,I++);else if(j==="le")for(O=0,I=0;O<M.length;O+=3)N=M[O]|M[O+1]<<8|M[O+2]<<16,this.words[I]|=N<<L&67108863,this.words[I+1]=N>>>26-L&67108863,L+=24,L>=26&&(L-=26,I++);return this._strip()};function c(D,M){var P=D.charCodeAt(M);if(P>=48&&P<=57)return P-48;if(P>=65&&P<=70)return P-55;if(P>=97&&P<=102)return P-87;n(!1,"Invalid character in "+D)}function a(D,M,P){var j=c(D,P);return P-1>=M&&(j|=c(D,P-1)<<4),j}o.prototype._parseHex=function(M,P,j){this.length=Math.ceil((M.length-P)/6),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var I=0,N=0,L;if(j==="be")for(O=M.length-1;O>=P;O-=2)L=a(M,P,O)<<I,this.words[N]|=L&67108863,I>=18?(I-=18,N+=1,this.words[N]|=L>>>26):I+=8;else{var B=M.length-P;for(O=B%2===0?P+1:P;O<M.length;O+=2)L=a(M,P,O)<<I,this.words[N]|=L&67108863,I>=18?(I-=18,N+=1,this.words[N]|=L>>>26):I+=8}this._strip()};function s(D,M,P,j){for(var O=0,I=0,N=Math.min(D.length,P),L=M;L<N;L++){var B=D.charCodeAt(L)-48;O*=j,B>=49?I=B-49+10:B>=17?I=B-17+10:I=B,n(B>=0&&I<j,"Invalid character"),O+=I}return O}o.prototype._parseBase=function(M,P,j){this.words=[0],this.length=1;for(var O=0,I=1;I<=67108863;I*=P)O++;O--,I=I/P|0;for(var N=M.length-j,L=N%O,B=Math.min(N,N-L)+j,R=0,z=j;z<B;z+=O)R=s(M,z,z+O,P),this.imuln(I),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R);if(L!==0){var W=1;for(R=s(M,z,M.length,P),z=0;z<L;z++)W*=P;this.imuln(W),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R)}this._strip()},o.prototype.copy=function(M){M.words=new Array(this.length);for(var P=0;P<this.length;P++)M.words[P]=this.words[P];M.length=this.length,M.negative=this.negative,M.red=this.red};function u(D,M){D.words=M.words,D.length=M.length,D.negative=M.negative,D.red=M.red}if(o.prototype._move=function(M){u(M,this)},o.prototype.clone=function(){var M=new o(null);return this.copy(M),M},o.prototype._expand=function(M){for(;this.length<M;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(M,P){M=M||10,P=P|0||1;var j;if(M===16||M==="hex"){j="";for(var O=0,I=0,N=0;N<this.length;N++){var L=this.words[N],B=((L<<O|I)&16777215).toString(16);I=L>>>24-O&16777215,O+=2,O>=26&&(O-=26,N--),I!==0||N!==this.length-1?j=h[6-B.length]+B+j:j=B+j}for(I!==0&&(j=I.toString(16)+j);j.length%P!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(M===(M|0)&&M>=2&&M<=36){var R=f[M],z=m[M];j="";var W=this.clone();for(W.negative=0;!W.isZero();){var U=W.modrn(z).toString(M);W=W.idivn(z),W.isZero()?j=U+j:j=h[R-U.length]+U+j}for(this.isZero()&&(j="0"+j);j.length%P!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var M=this.words[0];return this.length===2?M+=this.words[1]*67108864:this.length===3&&this.words[2]===1?M+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-M:M},o.prototype.toJSON=function(){return this.toString(16,2)},l&&(o.prototype.toBuffer=function(M,P){return this.toArrayLike(l,M,P)}),o.prototype.toArray=function(M,P){return this.toArrayLike(Array,M,P)};var p=function(M,P){return M.allocUnsafe?M.allocUnsafe(P):new M(P)};o.prototype.toArrayLike=function(M,P,j){this._strip();var O=this.byteLength(),I=j||Math.max(1,O);n(O<=I,"byte array longer than desired length"),n(I>0,"Requested array length <= 0");var N=p(M,I),L=P==="le"?"LE":"BE";return this["_toArrayLike"+L](N,O),N},o.prototype._toArrayLikeLE=function(M,P){for(var j=0,O=0,I=0,N=0;I<this.length;I++){var L=this.words[I]<<N|O;M[j++]=L&255,j<M.length&&(M[j++]=L>>8&255),j<M.length&&(M[j++]=L>>16&255),N===6?(j<M.length&&(M[j++]=L>>24&255),O=0,N=0):(O=L>>>24,N+=2)}if(j<M.length)for(M[j++]=O;j<M.length;)M[j++]=0},o.prototype._toArrayLikeBE=function(M,P){for(var j=M.length-1,O=0,I=0,N=0;I<this.length;I++){var L=this.words[I]<<N|O;M[j--]=L&255,j>=0&&(M[j--]=L>>8&255),j>=0&&(M[j--]=L>>16&255),N===6?(j>=0&&(M[j--]=L>>24&255),O=0,N=0):(O=L>>>24,N+=2)}if(j>=0)for(M[j--]=O;j>=0;)M[j--]=0},Math.clz32?o.prototype._countBits=function(M){return 32-Math.clz32(M)}:o.prototype._countBits=function(M){var P=M,j=0;return P>=4096&&(j+=13,P>>>=13),P>=64&&(j+=7,P>>>=7),P>=8&&(j+=4,P>>>=4),P>=2&&(j+=2,P>>>=2),j+P},o.prototype._zeroBits=function(M){if(M===0)return 26;var P=M,j=0;return P&8191||(j+=13,P>>>=13),P&127||(j+=7,P>>>=7),P&15||(j+=4,P>>>=4),P&3||(j+=2,P>>>=2),P&1||j++,j},o.prototype.bitLength=function(){var M=this.words[this.length-1],P=this._countBits(M);return(this.length-1)*26+P};function g(D){for(var M=new Array(D.bitLength()),P=0;P<M.length;P++){var j=P/26|0,O=P%26;M[P]=D.words[j]>>>O&1}return M}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var M=0,P=0;P<this.length;P++){var j=this._zeroBits(this.words[P]);if(M+=j,j!==26)break}return M},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(M){return this.negative!==0?this.abs().inotn(M).iaddn(1):this.clone()},o.prototype.fromTwos=function(M){return this.testn(M-1)?this.notn(M).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(M){for(;this.length<M.length;)this.words[this.length++]=0;for(var P=0;P<M.length;P++)this.words[P]=this.words[P]|M.words[P];return this._strip()},o.prototype.ior=function(M){return n((this.negative|M.negative)===0),this.iuor(M)},o.prototype.or=function(M){return this.length>M.length?this.clone().ior(M):M.clone().ior(this)},o.prototype.uor=function(M){return this.length>M.length?this.clone().iuor(M):M.clone().iuor(this)},o.prototype.iuand=function(M){var P;this.length>M.length?P=M:P=this;for(var j=0;j<P.length;j++)this.words[j]=this.words[j]&M.words[j];return this.length=P.length,this._strip()},o.prototype.iand=function(M){return n((this.negative|M.negative)===0),this.iuand(M)},o.prototype.and=function(M){return this.length>M.length?this.clone().iand(M):M.clone().iand(this)},o.prototype.uand=function(M){return this.length>M.length?this.clone().iuand(M):M.clone().iuand(this)},o.prototype.iuxor=function(M){var P,j;this.length>M.length?(P=this,j=M):(P=M,j=this);for(var O=0;O<j.length;O++)this.words[O]=P.words[O]^j.words[O];if(this!==P)for(;O<P.length;O++)this.words[O]=P.words[O];return this.length=P.length,this._strip()},o.prototype.ixor=function(M){return n((this.negative|M.negative)===0),this.iuxor(M)},o.prototype.xor=function(M){return this.length>M.length?this.clone().ixor(M):M.clone().ixor(this)},o.prototype.uxor=function(M){return this.length>M.length?this.clone().iuxor(M):M.clone().iuxor(this)},o.prototype.inotn=function(M){n(typeof M=="number"&&M>=0);var P=Math.ceil(M/26)|0,j=M%26;this._expand(P),j>0&&P--;for(var O=0;O<P;O++)this.words[O]=~this.words[O]&67108863;return j>0&&(this.words[O]=~this.words[O]&67108863>>26-j),this._strip()},o.prototype.notn=function(M){return this.clone().inotn(M)},o.prototype.setn=function(M,P){n(typeof M=="number"&&M>=0);var j=M/26|0,O=M%26;return this._expand(j+1),P?this.words[j]=this.words[j]|1<<O:this.words[j]=this.words[j]&~(1<<O),this._strip()},o.prototype.iadd=function(M){var P;if(this.negative!==0&&M.negative===0)return this.negative=0,P=this.isub(M),this.negative^=1,this._normSign();if(this.negative===0&&M.negative!==0)return M.negative=0,P=this.isub(M),M.negative=1,P._normSign();var j,O;this.length>M.length?(j=this,O=M):(j=M,O=this);for(var I=0,N=0;N<O.length;N++)P=(j.words[N]|0)+(O.words[N]|0)+I,this.words[N]=P&67108863,I=P>>>26;for(;I!==0&&N<j.length;N++)P=(j.words[N]|0)+I,this.words[N]=P&67108863,I=P>>>26;if(this.length=j.length,I!==0)this.words[this.length]=I,this.length++;else if(j!==this)for(;N<j.length;N++)this.words[N]=j.words[N];return this},o.prototype.add=function(M){var P;return M.negative!==0&&this.negative===0?(M.negative=0,P=this.sub(M),M.negative^=1,P):M.negative===0&&this.negative!==0?(this.negative=0,P=M.sub(this),this.negative=1,P):this.length>M.length?this.clone().iadd(M):M.clone().iadd(this)},o.prototype.isub=function(M){if(M.negative!==0){M.negative=0;var P=this.iadd(M);return M.negative=1,P._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(M),this.negative=1,this._normSign();var j=this.cmp(M);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;var O,I;j>0?(O=this,I=M):(O=M,I=this);for(var N=0,L=0;L<I.length;L++)P=(O.words[L]|0)-(I.words[L]|0)+N,N=P>>26,this.words[L]=P&67108863;for(;N!==0&&L<O.length;L++)P=(O.words[L]|0)+N,N=P>>26,this.words[L]=P&67108863;if(N===0&&L<O.length&&O!==this)for(;L<O.length;L++)this.words[L]=O.words[L];return this.length=Math.max(this.length,L),O!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(M){return this.clone().isub(M)};function v(D,M,P){P.negative=M.negative^D.negative;var j=D.length+M.length|0;P.length=j,j=j-1|0;var O=D.words[0]|0,I=M.words[0]|0,N=O*I,L=N&67108863,B=N/67108864|0;P.words[0]=L;for(var R=1;R<j;R++){for(var z=B>>>26,W=B&67108863,U=Math.min(R,M.length-1),H=Math.max(0,R-D.length+1);H<=U;H++){var X=R-H|0;O=D.words[X]|0,I=M.words[H]|0,N=O*I+W,z+=N/67108864|0,W=N&67108863}P.words[R]=W|0,B=z|0}return B!==0?P.words[R]=B|0:P.length--,P._strip()}var x=function(M,P,j){var O=M.words,I=P.words,N=j.words,L=0,B,R,z,W=O[0]|0,U=W&8191,H=W>>>13,X=O[1]|0,K=X&8191,Q=X>>>13,Y=O[2]|0,$=Y&8191,J=Y>>>13,ie=O[3]|0,ne=ie&8191,ae=ie>>>13,je=O[4]|0,Ee=je&8191,we=je>>>13,De=O[5]|0,Le=De&8191,Ie=De>>>13,ee=O[6]|0,q=ee&8191,le=ee>>>13,Te=O[7]|0,te=Te&8191,ce=Te>>>13,Ce=O[8]|0,fe=Ce&8191,de=Ce>>>13,Fe=O[9]|0,Be=Fe&8191,_e=Fe>>>13,Ve=I[0]|0,Re=Ve&8191,Ke=Ve>>>13,We=I[1]|0,He=We&8191,re=We>>>13,be=I[2]|0,Ae=be&8191,Ue=be>>>13,mt=I[3]|0,ht=mt&8191,se=mt>>>13,ge=I[4]|0,Se=ge&8191,Pe=ge>>>13,Je=I[5]|0,et=Je&8191,tt=Je>>>13,nt=I[6]|0,ct=nt&8191,ot=nt>>>13,Z=I[7]|0,pe=Z&8191,he=Z>>>13,me=I[8]|0,ve=me&8191,Ye=me>>>13,gt=I[9]|0,st=gt&8191,ut=gt>>>13;j.negative=M.negative^P.negative,j.length=19,B=Math.imul(U,Re),R=Math.imul(U,Ke),R=R+Math.imul(H,Re)|0,z=Math.imul(H,Ke);var Gt=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,B=Math.imul(K,Re),R=Math.imul(K,Ke),R=R+Math.imul(Q,Re)|0,z=Math.imul(Q,Ke),B=B+Math.imul(U,He)|0,R=R+Math.imul(U,re)|0,R=R+Math.imul(H,He)|0,z=z+Math.imul(H,re)|0;var Ct=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,B=Math.imul($,Re),R=Math.imul($,Ke),R=R+Math.imul(J,Re)|0,z=Math.imul(J,Ke),B=B+Math.imul(K,He)|0,R=R+Math.imul(K,re)|0,R=R+Math.imul(Q,He)|0,z=z+Math.imul(Q,re)|0,B=B+Math.imul(U,Ae)|0,R=R+Math.imul(U,Ue)|0,R=R+Math.imul(H,Ae)|0,z=z+Math.imul(H,Ue)|0;var It=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(It>>>26)|0,It&=67108863,B=Math.imul(ne,Re),R=Math.imul(ne,Ke),R=R+Math.imul(ae,Re)|0,z=Math.imul(ae,Ke),B=B+Math.imul($,He)|0,R=R+Math.imul($,re)|0,R=R+Math.imul(J,He)|0,z=z+Math.imul(J,re)|0,B=B+Math.imul(K,Ae)|0,R=R+Math.imul(K,Ue)|0,R=R+Math.imul(Q,Ae)|0,z=z+Math.imul(Q,Ue)|0,B=B+Math.imul(U,ht)|0,R=R+Math.imul(U,se)|0,R=R+Math.imul(H,ht)|0,z=z+Math.imul(H,se)|0;var wr=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(wr>>>26)|0,wr&=67108863,B=Math.imul(Ee,Re),R=Math.imul(Ee,Ke),R=R+Math.imul(we,Re)|0,z=Math.imul(we,Ke),B=B+Math.imul(ne,He)|0,R=R+Math.imul(ne,re)|0,R=R+Math.imul(ae,He)|0,z=z+Math.imul(ae,re)|0,B=B+Math.imul($,Ae)|0,R=R+Math.imul($,Ue)|0,R=R+Math.imul(J,Ae)|0,z=z+Math.imul(J,Ue)|0,B=B+Math.imul(K,ht)|0,R=R+Math.imul(K,se)|0,R=R+Math.imul(Q,ht)|0,z=z+Math.imul(Q,se)|0,B=B+Math.imul(U,Se)|0,R=R+Math.imul(U,Pe)|0,R=R+Math.imul(H,Se)|0,z=z+Math.imul(H,Pe)|0;var Rr=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,B=Math.imul(Le,Re),R=Math.imul(Le,Ke),R=R+Math.imul(Ie,Re)|0,z=Math.imul(Ie,Ke),B=B+Math.imul(Ee,He)|0,R=R+Math.imul(Ee,re)|0,R=R+Math.imul(we,He)|0,z=z+Math.imul(we,re)|0,B=B+Math.imul(ne,Ae)|0,R=R+Math.imul(ne,Ue)|0,R=R+Math.imul(ae,Ae)|0,z=z+Math.imul(ae,Ue)|0,B=B+Math.imul($,ht)|0,R=R+Math.imul($,se)|0,R=R+Math.imul(J,ht)|0,z=z+Math.imul(J,se)|0,B=B+Math.imul(K,Se)|0,R=R+Math.imul(K,Pe)|0,R=R+Math.imul(Q,Se)|0,z=z+Math.imul(Q,Pe)|0,B=B+Math.imul(U,et)|0,R=R+Math.imul(U,tt)|0,R=R+Math.imul(H,et)|0,z=z+Math.imul(H,tt)|0;var Ot=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,B=Math.imul(q,Re),R=Math.imul(q,Ke),R=R+Math.imul(le,Re)|0,z=Math.imul(le,Ke),B=B+Math.imul(Le,He)|0,R=R+Math.imul(Le,re)|0,R=R+Math.imul(Ie,He)|0,z=z+Math.imul(Ie,re)|0,B=B+Math.imul(Ee,Ae)|0,R=R+Math.imul(Ee,Ue)|0,R=R+Math.imul(we,Ae)|0,z=z+Math.imul(we,Ue)|0,B=B+Math.imul(ne,ht)|0,R=R+Math.imul(ne,se)|0,R=R+Math.imul(ae,ht)|0,z=z+Math.imul(ae,se)|0,B=B+Math.imul($,Se)|0,R=R+Math.imul($,Pe)|0,R=R+Math.imul(J,Se)|0,z=z+Math.imul(J,Pe)|0,B=B+Math.imul(K,et)|0,R=R+Math.imul(K,tt)|0,R=R+Math.imul(Q,et)|0,z=z+Math.imul(Q,tt)|0,B=B+Math.imul(U,ct)|0,R=R+Math.imul(U,ot)|0,R=R+Math.imul(H,ct)|0,z=z+Math.imul(H,ot)|0;var Lr=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,B=Math.imul(te,Re),R=Math.imul(te,Ke),R=R+Math.imul(ce,Re)|0,z=Math.imul(ce,Ke),B=B+Math.imul(q,He)|0,R=R+Math.imul(q,re)|0,R=R+Math.imul(le,He)|0,z=z+Math.imul(le,re)|0,B=B+Math.imul(Le,Ae)|0,R=R+Math.imul(Le,Ue)|0,R=R+Math.imul(Ie,Ae)|0,z=z+Math.imul(Ie,Ue)|0,B=B+Math.imul(Ee,ht)|0,R=R+Math.imul(Ee,se)|0,R=R+Math.imul(we,ht)|0,z=z+Math.imul(we,se)|0,B=B+Math.imul(ne,Se)|0,R=R+Math.imul(ne,Pe)|0,R=R+Math.imul(ae,Se)|0,z=z+Math.imul(ae,Pe)|0,B=B+Math.imul($,et)|0,R=R+Math.imul($,tt)|0,R=R+Math.imul(J,et)|0,z=z+Math.imul(J,tt)|0,B=B+Math.imul(K,ct)|0,R=R+Math.imul(K,ot)|0,R=R+Math.imul(Q,ct)|0,z=z+Math.imul(Q,ot)|0,B=B+Math.imul(U,pe)|0,R=R+Math.imul(U,he)|0,R=R+Math.imul(H,pe)|0,z=z+Math.imul(H,he)|0;var er=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(er>>>26)|0,er&=67108863,B=Math.imul(fe,Re),R=Math.imul(fe,Ke),R=R+Math.imul(de,Re)|0,z=Math.imul(de,Ke),B=B+Math.imul(te,He)|0,R=R+Math.imul(te,re)|0,R=R+Math.imul(ce,He)|0,z=z+Math.imul(ce,re)|0,B=B+Math.imul(q,Ae)|0,R=R+Math.imul(q,Ue)|0,R=R+Math.imul(le,Ae)|0,z=z+Math.imul(le,Ue)|0,B=B+Math.imul(Le,ht)|0,R=R+Math.imul(Le,se)|0,R=R+Math.imul(Ie,ht)|0,z=z+Math.imul(Ie,se)|0,B=B+Math.imul(Ee,Se)|0,R=R+Math.imul(Ee,Pe)|0,R=R+Math.imul(we,Se)|0,z=z+Math.imul(we,Pe)|0,B=B+Math.imul(ne,et)|0,R=R+Math.imul(ne,tt)|0,R=R+Math.imul(ae,et)|0,z=z+Math.imul(ae,tt)|0,B=B+Math.imul($,ct)|0,R=R+Math.imul($,ot)|0,R=R+Math.imul(J,ct)|0,z=z+Math.imul(J,ot)|0,B=B+Math.imul(K,pe)|0,R=R+Math.imul(K,he)|0,R=R+Math.imul(Q,pe)|0,z=z+Math.imul(Q,he)|0,B=B+Math.imul(U,ve)|0,R=R+Math.imul(U,Ye)|0,R=R+Math.imul(H,ve)|0,z=z+Math.imul(H,Ye)|0;var yt=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(yt>>>26)|0,yt&=67108863,B=Math.imul(Be,Re),R=Math.imul(Be,Ke),R=R+Math.imul(_e,Re)|0,z=Math.imul(_e,Ke),B=B+Math.imul(fe,He)|0,R=R+Math.imul(fe,re)|0,R=R+Math.imul(de,He)|0,z=z+Math.imul(de,re)|0,B=B+Math.imul(te,Ae)|0,R=R+Math.imul(te,Ue)|0,R=R+Math.imul(ce,Ae)|0,z=z+Math.imul(ce,Ue)|0,B=B+Math.imul(q,ht)|0,R=R+Math.imul(q,se)|0,R=R+Math.imul(le,ht)|0,z=z+Math.imul(le,se)|0,B=B+Math.imul(Le,Se)|0,R=R+Math.imul(Le,Pe)|0,R=R+Math.imul(Ie,Se)|0,z=z+Math.imul(Ie,Pe)|0,B=B+Math.imul(Ee,et)|0,R=R+Math.imul(Ee,tt)|0,R=R+Math.imul(we,et)|0,z=z+Math.imul(we,tt)|0,B=B+Math.imul(ne,ct)|0,R=R+Math.imul(ne,ot)|0,R=R+Math.imul(ae,ct)|0,z=z+Math.imul(ae,ot)|0,B=B+Math.imul($,pe)|0,R=R+Math.imul($,he)|0,R=R+Math.imul(J,pe)|0,z=z+Math.imul(J,he)|0,B=B+Math.imul(K,ve)|0,R=R+Math.imul(K,Ye)|0,R=R+Math.imul(Q,ve)|0,z=z+Math.imul(Q,Ye)|0,B=B+Math.imul(U,st)|0,R=R+Math.imul(U,ut)|0,R=R+Math.imul(H,st)|0,z=z+Math.imul(H,ut)|0;var ra=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(ra>>>26)|0,ra&=67108863,B=Math.imul(Be,He),R=Math.imul(Be,re),R=R+Math.imul(_e,He)|0,z=Math.imul(_e,re),B=B+Math.imul(fe,Ae)|0,R=R+Math.imul(fe,Ue)|0,R=R+Math.imul(de,Ae)|0,z=z+Math.imul(de,Ue)|0,B=B+Math.imul(te,ht)|0,R=R+Math.imul(te,se)|0,R=R+Math.imul(ce,ht)|0,z=z+Math.imul(ce,se)|0,B=B+Math.imul(q,Se)|0,R=R+Math.imul(q,Pe)|0,R=R+Math.imul(le,Se)|0,z=z+Math.imul(le,Pe)|0,B=B+Math.imul(Le,et)|0,R=R+Math.imul(Le,tt)|0,R=R+Math.imul(Ie,et)|0,z=z+Math.imul(Ie,tt)|0,B=B+Math.imul(Ee,ct)|0,R=R+Math.imul(Ee,ot)|0,R=R+Math.imul(we,ct)|0,z=z+Math.imul(we,ot)|0,B=B+Math.imul(ne,pe)|0,R=R+Math.imul(ne,he)|0,R=R+Math.imul(ae,pe)|0,z=z+Math.imul(ae,he)|0,B=B+Math.imul($,ve)|0,R=R+Math.imul($,Ye)|0,R=R+Math.imul(J,ve)|0,z=z+Math.imul(J,Ye)|0,B=B+Math.imul(K,st)|0,R=R+Math.imul(K,ut)|0,R=R+Math.imul(Q,st)|0,z=z+Math.imul(Q,ut)|0;var cl=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(cl>>>26)|0,cl&=67108863,B=Math.imul(Be,Ae),R=Math.imul(Be,Ue),R=R+Math.imul(_e,Ae)|0,z=Math.imul(_e,Ue),B=B+Math.imul(fe,ht)|0,R=R+Math.imul(fe,se)|0,R=R+Math.imul(de,ht)|0,z=z+Math.imul(de,se)|0,B=B+Math.imul(te,Se)|0,R=R+Math.imul(te,Pe)|0,R=R+Math.imul(ce,Se)|0,z=z+Math.imul(ce,Pe)|0,B=B+Math.imul(q,et)|0,R=R+Math.imul(q,tt)|0,R=R+Math.imul(le,et)|0,z=z+Math.imul(le,tt)|0,B=B+Math.imul(Le,ct)|0,R=R+Math.imul(Le,ot)|0,R=R+Math.imul(Ie,ct)|0,z=z+Math.imul(Ie,ot)|0,B=B+Math.imul(Ee,pe)|0,R=R+Math.imul(Ee,he)|0,R=R+Math.imul(we,pe)|0,z=z+Math.imul(we,he)|0,B=B+Math.imul(ne,ve)|0,R=R+Math.imul(ne,Ye)|0,R=R+Math.imul(ae,ve)|0,z=z+Math.imul(ae,Ye)|0,B=B+Math.imul($,st)|0,R=R+Math.imul($,ut)|0,R=R+Math.imul(J,st)|0,z=z+Math.imul(J,ut)|0;var na=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(na>>>26)|0,na&=67108863,B=Math.imul(Be,ht),R=Math.imul(Be,se),R=R+Math.imul(_e,ht)|0,z=Math.imul(_e,se),B=B+Math.imul(fe,Se)|0,R=R+Math.imul(fe,Pe)|0,R=R+Math.imul(de,Se)|0,z=z+Math.imul(de,Pe)|0,B=B+Math.imul(te,et)|0,R=R+Math.imul(te,tt)|0,R=R+Math.imul(ce,et)|0,z=z+Math.imul(ce,tt)|0,B=B+Math.imul(q,ct)|0,R=R+Math.imul(q,ot)|0,R=R+Math.imul(le,ct)|0,z=z+Math.imul(le,ot)|0,B=B+Math.imul(Le,pe)|0,R=R+Math.imul(Le,he)|0,R=R+Math.imul(Ie,pe)|0,z=z+Math.imul(Ie,he)|0,B=B+Math.imul(Ee,ve)|0,R=R+Math.imul(Ee,Ye)|0,R=R+Math.imul(we,ve)|0,z=z+Math.imul(we,Ye)|0,B=B+Math.imul(ne,st)|0,R=R+Math.imul(ne,ut)|0,R=R+Math.imul(ae,st)|0,z=z+Math.imul(ae,ut)|0;var Vf=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(Vf>>>26)|0,Vf&=67108863,B=Math.imul(Be,Se),R=Math.imul(Be,Pe),R=R+Math.imul(_e,Se)|0,z=Math.imul(_e,Pe),B=B+Math.imul(fe,et)|0,R=R+Math.imul(fe,tt)|0,R=R+Math.imul(de,et)|0,z=z+Math.imul(de,tt)|0,B=B+Math.imul(te,ct)|0,R=R+Math.imul(te,ot)|0,R=R+Math.imul(ce,ct)|0,z=z+Math.imul(ce,ot)|0,B=B+Math.imul(q,pe)|0,R=R+Math.imul(q,he)|0,R=R+Math.imul(le,pe)|0,z=z+Math.imul(le,he)|0,B=B+Math.imul(Le,ve)|0,R=R+Math.imul(Le,Ye)|0,R=R+Math.imul(Ie,ve)|0,z=z+Math.imul(Ie,Ye)|0,B=B+Math.imul(Ee,st)|0,R=R+Math.imul(Ee,ut)|0,R=R+Math.imul(we,st)|0,z=z+Math.imul(we,ut)|0;var pc=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(pc>>>26)|0,pc&=67108863,B=Math.imul(Be,et),R=Math.imul(Be,tt),R=R+Math.imul(_e,et)|0,z=Math.imul(_e,tt),B=B+Math.imul(fe,ct)|0,R=R+Math.imul(fe,ot)|0,R=R+Math.imul(de,ct)|0,z=z+Math.imul(de,ot)|0,B=B+Math.imul(te,pe)|0,R=R+Math.imul(te,he)|0,R=R+Math.imul(ce,pe)|0,z=z+Math.imul(ce,he)|0,B=B+Math.imul(q,ve)|0,R=R+Math.imul(q,Ye)|0,R=R+Math.imul(le,ve)|0,z=z+Math.imul(le,Ye)|0,B=B+Math.imul(Le,st)|0,R=R+Math.imul(Le,ut)|0,R=R+Math.imul(Ie,st)|0,z=z+Math.imul(Ie,ut)|0;var th=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(th>>>26)|0,th&=67108863,B=Math.imul(Be,ct),R=Math.imul(Be,ot),R=R+Math.imul(_e,ct)|0,z=Math.imul(_e,ot),B=B+Math.imul(fe,pe)|0,R=R+Math.imul(fe,he)|0,R=R+Math.imul(de,pe)|0,z=z+Math.imul(de,he)|0,B=B+Math.imul(te,ve)|0,R=R+Math.imul(te,Ye)|0,R=R+Math.imul(ce,ve)|0,z=z+Math.imul(ce,Ye)|0,B=B+Math.imul(q,st)|0,R=R+Math.imul(q,ut)|0,R=R+Math.imul(le,st)|0,z=z+Math.imul(le,ut)|0;var En=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(En>>>26)|0,En&=67108863,B=Math.imul(Be,pe),R=Math.imul(Be,he),R=R+Math.imul(_e,pe)|0,z=Math.imul(_e,he),B=B+Math.imul(fe,ve)|0,R=R+Math.imul(fe,Ye)|0,R=R+Math.imul(de,ve)|0,z=z+Math.imul(de,Ye)|0,B=B+Math.imul(te,st)|0,R=R+Math.imul(te,ut)|0,R=R+Math.imul(ce,st)|0,z=z+Math.imul(ce,ut)|0;var _s=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(_s>>>26)|0,_s&=67108863,B=Math.imul(Be,ve),R=Math.imul(Be,Ye),R=R+Math.imul(_e,ve)|0,z=Math.imul(_e,Ye),B=B+Math.imul(fe,st)|0,R=R+Math.imul(fe,ut)|0,R=R+Math.imul(de,st)|0,z=z+Math.imul(de,ut)|0;var rh=(L+B|0)+((R&8191)<<13)|0;L=(z+(R>>>13)|0)+(rh>>>26)|0,rh&=67108863,B=Math.imul(Be,st),R=Math.imul(Be,ut),R=R+Math.imul(_e,st)|0,z=Math.imul(_e,ut);var Ci=(L+B|0)+((R&8191)<<13)|0;return L=(z+(R>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,N[0]=Gt,N[1]=Ct,N[2]=It,N[3]=wr,N[4]=Rr,N[5]=Ot,N[6]=Lr,N[7]=er,N[8]=yt,N[9]=ra,N[10]=cl,N[11]=na,N[12]=Vf,N[13]=pc,N[14]=th,N[15]=En,N[16]=_s,N[17]=rh,N[18]=Ci,L!==0&&(N[19]=L,j.length++),j};Math.imul||(x=v);function y(D,M,P){P.negative=M.negative^D.negative,P.length=D.length+M.length;for(var j=0,O=0,I=0;I<P.length-1;I++){var N=O;O=0;for(var L=j&67108863,B=Math.min(I,M.length-1),R=Math.max(0,I-D.length+1);R<=B;R++){var z=I-R,W=D.words[z]|0,U=M.words[R]|0,H=W*U,X=H&67108863;N=N+(H/67108864|0)|0,X=X+L|0,L=X&67108863,N=N+(X>>>26)|0,O+=N>>>26,N&=67108863}P.words[I]=L,j=N,N=O}return j!==0?P.words[I]=j:P.length--,P._strip()}function b(D,M,P){return y(D,M,P)}o.prototype.mulTo=function(M,P){var j,O=this.length+M.length;return this.length===10&&M.length===10?j=x(this,M,P):O<63?j=v(this,M,P):O<1024?j=y(this,M,P):j=b(this,M,P),j},o.prototype.mul=function(M){var P=new o(null);return P.words=new Array(this.length+M.length),this.mulTo(M,P)},o.prototype.mulf=function(M){var P=new o(null);return P.words=new Array(this.length+M.length),b(this,M,P)},o.prototype.imul=function(M){return this.clone().mulTo(M,this)},o.prototype.imuln=function(M){var P=M<0;P&&(M=-M),n(typeof M=="number"),n(M<67108864);for(var j=0,O=0;O<this.length;O++){var I=(this.words[O]|0)*M,N=(I&67108863)+(j&67108863);j>>=26,j+=I/67108864|0,j+=N>>>26,this.words[O]=N&67108863}return j!==0&&(this.words[O]=j,this.length++),P?this.ineg():this},o.prototype.muln=function(M){return this.clone().imuln(M)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(M){var P=g(M);if(P.length===0)return new o(1);for(var j=this,O=0;O<P.length&&P[O]===0;O++,j=j.sqr());if(++O<P.length)for(var I=j.sqr();O<P.length;O++,I=I.sqr())P[O]!==0&&(j=j.mul(I));return j},o.prototype.iushln=function(M){n(typeof M=="number"&&M>=0);var P=M%26,j=(M-P)/26,O=67108863>>>26-P<<26-P,I;if(P!==0){var N=0;for(I=0;I<this.length;I++){var L=this.words[I]&O,B=(this.words[I]|0)-L<<P;this.words[I]=B|N,N=L>>>26-P}N&&(this.words[I]=N,this.length++)}if(j!==0){for(I=this.length-1;I>=0;I--)this.words[I+j]=this.words[I];for(I=0;I<j;I++)this.words[I]=0;this.length+=j}return this._strip()},o.prototype.ishln=function(M){return n(this.negative===0),this.iushln(M)},o.prototype.iushrn=function(M,P,j){n(typeof M=="number"&&M>=0);var O;P?O=(P-P%26)/26:O=0;var I=M%26,N=Math.min((M-I)/26,this.length),L=67108863^67108863>>>I<<I,B=j;if(O-=N,O=Math.max(0,O),B){for(var R=0;R<N;R++)B.words[R]=this.words[R];B.length=N}if(N!==0)if(this.length>N)for(this.length-=N,R=0;R<this.length;R++)this.words[R]=this.words[R+N];else this.words[0]=0,this.length=1;var z=0;for(R=this.length-1;R>=0&&(z!==0||R>=O);R--){var W=this.words[R]|0;this.words[R]=z<<26-I|W>>>I,z=W&L}return B&&z!==0&&(B.words[B.length++]=z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(M,P,j){return n(this.negative===0),this.iushrn(M,P,j)},o.prototype.shln=function(M){return this.clone().ishln(M)},o.prototype.ushln=function(M){return this.clone().iushln(M)},o.prototype.shrn=function(M){return this.clone().ishrn(M)},o.prototype.ushrn=function(M){return this.clone().iushrn(M)},o.prototype.testn=function(M){n(typeof M=="number"&&M>=0);var P=M%26,j=(M-P)/26,O=1<<P;if(this.length<=j)return!1;var I=this.words[j];return!!(I&O)},o.prototype.imaskn=function(M){n(typeof M=="number"&&M>=0);var P=M%26,j=(M-P)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(P!==0&&j++,this.length=Math.min(j,this.length),P!==0){var O=67108863^67108863>>>P<<P;this.words[this.length-1]&=O}return this._strip()},o.prototype.maskn=function(M){return this.clone().imaskn(M)},o.prototype.iaddn=function(M){return n(typeof M=="number"),n(M<67108864),M<0?this.isubn(-M):this.negative!==0?this.length===1&&(this.words[0]|0)<=M?(this.words[0]=M-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(M),this.negative=1,this):this._iaddn(M)},o.prototype._iaddn=function(M){this.words[0]+=M;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},o.prototype.isubn=function(M){if(n(typeof M=="number"),n(M<67108864),M<0)return this.iaddn(-M);if(this.negative!==0)return this.negative=0,this.iaddn(M),this.negative=1,this;if(this.words[0]-=M,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this._strip()},o.prototype.addn=function(M){return this.clone().iaddn(M)},o.prototype.subn=function(M){return this.clone().isubn(M)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(M,P,j){var O=M.length+j,I;this._expand(O);var N,L=0;for(I=0;I<M.length;I++){N=(this.words[I+j]|0)+L;var B=(M.words[I]|0)*P;N-=B&67108863,L=(N>>26)-(B/67108864|0),this.words[I+j]=N&67108863}for(;I<this.length-j;I++)N=(this.words[I+j]|0)+L,L=N>>26,this.words[I+j]=N&67108863;if(L===0)return this._strip();for(n(L===-1),L=0,I=0;I<this.length;I++)N=-(this.words[I]|0)+L,L=N>>26,this.words[I]=N&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(M,P){var j=this.length-M.length,O=this.clone(),I=M,N=I.words[I.length-1]|0,L=this._countBits(N);j=26-L,j!==0&&(I=I.ushln(j),O.iushln(j),N=I.words[I.length-1]|0);var B=O.length-I.length,R;if(P!=="mod"){R=new o(null),R.length=B+1,R.words=new Array(R.length);for(var z=0;z<R.length;z++)R.words[z]=0}var W=O.clone()._ishlnsubmul(I,1,B);W.negative===0&&(O=W,R&&(R.words[B]=1));for(var U=B-1;U>=0;U--){var H=(O.words[I.length+U]|0)*67108864+(O.words[I.length+U-1]|0);for(H=Math.min(H/N|0,67108863),O._ishlnsubmul(I,H,U);O.negative!==0;)H--,O.negative=0,O._ishlnsubmul(I,1,U),O.isZero()||(O.negative^=1);R&&(R.words[U]=H)}return R&&R._strip(),O._strip(),P!=="div"&&j!==0&&O.iushrn(j),{div:R||null,mod:O}},o.prototype.divmod=function(M,P,j){if(n(!M.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var O,I,N;return this.negative!==0&&M.negative===0?(N=this.neg().divmod(M,P),P!=="mod"&&(O=N.div.neg()),P!=="div"&&(I=N.mod.neg(),j&&I.negative!==0&&I.iadd(M)),{div:O,mod:I}):this.negative===0&&M.negative!==0?(N=this.divmod(M.neg(),P),P!=="mod"&&(O=N.div.neg()),{div:O,mod:N.mod}):this.negative&M.negative?(N=this.neg().divmod(M.neg(),P),P!=="div"&&(I=N.mod.neg(),j&&I.negative!==0&&I.isub(M)),{div:N.div,mod:I}):M.length>this.length||this.cmp(M)<0?{div:new o(0),mod:this}:M.length===1?P==="div"?{div:this.divn(M.words[0]),mod:null}:P==="mod"?{div:null,mod:new o(this.modrn(M.words[0]))}:{div:this.divn(M.words[0]),mod:new o(this.modrn(M.words[0]))}:this._wordDiv(M,P)},o.prototype.div=function(M){return this.divmod(M,"div",!1).div},o.prototype.mod=function(M){return this.divmod(M,"mod",!1).mod},o.prototype.umod=function(M){return this.divmod(M,"mod",!0).mod},o.prototype.divRound=function(M){var P=this.divmod(M);if(P.mod.isZero())return P.div;var j=P.div.negative!==0?P.mod.isub(M):P.mod,O=M.ushrn(1),I=M.andln(1),N=j.cmp(O);return N<0||I===1&&N===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},o.prototype.modrn=function(M){var P=M<0;P&&(M=-M),n(M<=67108863);for(var j=(1<<26)%M,O=0,I=this.length-1;I>=0;I--)O=(j*O+(this.words[I]|0))%M;return P?-O:O},o.prototype.modn=function(M){return this.modrn(M)},o.prototype.idivn=function(M){var P=M<0;P&&(M=-M),n(M<=67108863);for(var j=0,O=this.length-1;O>=0;O--){var I=(this.words[O]|0)+j*67108864;this.words[O]=I/M|0,j=I%M}return this._strip(),P?this.ineg():this},o.prototype.divn=function(M){return this.clone().idivn(M)},o.prototype.egcd=function(M){n(M.negative===0),n(!M.isZero());var P=this,j=M.clone();P.negative!==0?P=P.umod(M):P=P.clone();for(var O=new o(1),I=new o(0),N=new o(0),L=new o(1),B=0;P.isEven()&&j.isEven();)P.iushrn(1),j.iushrn(1),++B;for(var R=j.clone(),z=P.clone();!P.isZero();){for(var W=0,U=1;!(P.words[0]&U)&&W<26;++W,U<<=1);if(W>0)for(P.iushrn(W);W-- >0;)(O.isOdd()||I.isOdd())&&(O.iadd(R),I.isub(z)),O.iushrn(1),I.iushrn(1);for(var H=0,X=1;!(j.words[0]&X)&&H<26;++H,X<<=1);if(H>0)for(j.iushrn(H);H-- >0;)(N.isOdd()||L.isOdd())&&(N.iadd(R),L.isub(z)),N.iushrn(1),L.iushrn(1);P.cmp(j)>=0?(P.isub(j),O.isub(N),I.isub(L)):(j.isub(P),N.isub(O),L.isub(I))}return{a:N,b:L,gcd:j.iushln(B)}},o.prototype._invmp=function(M){n(M.negative===0),n(!M.isZero());var P=this,j=M.clone();P.negative!==0?P=P.umod(M):P=P.clone();for(var O=new o(1),I=new o(0),N=j.clone();P.cmpn(1)>0&&j.cmpn(1)>0;){for(var L=0,B=1;!(P.words[0]&B)&&L<26;++L,B<<=1);if(L>0)for(P.iushrn(L);L-- >0;)O.isOdd()&&O.iadd(N),O.iushrn(1);for(var R=0,z=1;!(j.words[0]&z)&&R<26;++R,z<<=1);if(R>0)for(j.iushrn(R);R-- >0;)I.isOdd()&&I.iadd(N),I.iushrn(1);P.cmp(j)>=0?(P.isub(j),O.isub(I)):(j.isub(P),I.isub(O))}var W;return P.cmpn(1)===0?W=O:W=I,W.cmpn(0)<0&&W.iadd(M),W},o.prototype.gcd=function(M){if(this.isZero())return M.abs();if(M.isZero())return this.abs();var P=this.clone(),j=M.clone();P.negative=0,j.negative=0;for(var O=0;P.isEven()&&j.isEven();O++)P.iushrn(1),j.iushrn(1);do{for(;P.isEven();)P.iushrn(1);for(;j.isEven();)j.iushrn(1);var I=P.cmp(j);if(I<0){var N=P;P=j,j=N}else if(I===0||j.cmpn(1)===0)break;P.isub(j)}while(!0);return j.iushln(O)},o.prototype.invm=function(M){return this.egcd(M).a.umod(M)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(M){return this.words[0]&M},o.prototype.bincn=function(M){n(typeof M=="number");var P=M%26,j=(M-P)/26,O=1<<P;if(this.length<=j)return this._expand(j+1),this.words[j]|=O,this;for(var I=O,N=j;I!==0&&N<this.length;N++){var L=this.words[N]|0;L+=I,I=L>>>26,L&=67108863,this.words[N]=L}return I!==0&&(this.words[N]=I,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(M){var P=M<0;if(this.negative!==0&&!P)return-1;if(this.negative===0&&P)return 1;this._strip();var j;if(this.length>1)j=1;else{P&&(M=-M),n(M<=67108863,"Number is too big");var O=this.words[0]|0;j=O===M?0:O<M?-1:1}return this.negative!==0?-j|0:j},o.prototype.cmp=function(M){if(this.negative!==0&&M.negative===0)return-1;if(this.negative===0&&M.negative!==0)return 1;var P=this.ucmp(M);return this.negative!==0?-P|0:P},o.prototype.ucmp=function(M){if(this.length>M.length)return 1;if(this.length<M.length)return-1;for(var P=0,j=this.length-1;j>=0;j--){var O=this.words[j]|0,I=M.words[j]|0;if(O!==I){O<I?P=-1:O>I&&(P=1);break}}return P},o.prototype.gtn=function(M){return this.cmpn(M)===1},o.prototype.gt=function(M){return this.cmp(M)===1},o.prototype.gten=function(M){return this.cmpn(M)>=0},o.prototype.gte=function(M){return this.cmp(M)>=0},o.prototype.ltn=function(M){return this.cmpn(M)===-1},o.prototype.lt=function(M){return this.cmp(M)===-1},o.prototype.lten=function(M){return this.cmpn(M)<=0},o.prototype.lte=function(M){return this.cmp(M)<=0},o.prototype.eqn=function(M){return this.cmpn(M)===0},o.prototype.eq=function(M){return this.cmp(M)===0},o.red=function(M){return new T(M)},o.prototype.toRed=function(M){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),M.convertTo(this)._forceRed(M)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(M){return this.red=M,this},o.prototype.forceRed=function(M){return n(!this.red,"Already a number in reduction context"),this._forceRed(M)},o.prototype.redAdd=function(M){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,M)},o.prototype.redIAdd=function(M){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,M)},o.prototype.redSub=function(M){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,M)},o.prototype.redISub=function(M){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,M)},o.prototype.redShl=function(M){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,M)},o.prototype.redMul=function(M){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.mul(this,M)},o.prototype.redIMul=function(M){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.imul(this,M)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(M){return n(this.red&&!M.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,M)};var w={k256:null,p224:null,p192:null,p25519:null};function _(D,M){this.name=D,this.p=new o(M,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}_.prototype._tmp=function(){var M=new o(null);return M.words=new Array(Math.ceil(this.n/13)),M},_.prototype.ireduce=function(M){var P=M,j;do this.split(P,this.tmp),P=this.imulK(P),P=P.iadd(this.tmp),j=P.bitLength();while(j>this.n);var O=j<this.n?-1:P.ucmp(this.p);return O===0?(P.words[0]=0,P.length=1):O>0?P.isub(this.p):P.strip!==void 0?P.strip():P._strip(),P},_.prototype.split=function(M,P){M.iushrn(this.n,0,P)},_.prototype.imulK=function(M){return M.imul(this.k)};function S(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(S,_),S.prototype.split=function(M,P){for(var j=4194303,O=Math.min(M.length,9),I=0;I<O;I++)P.words[I]=M.words[I];if(P.length=O,M.length<=9){M.words[0]=0,M.length=1;return}var N=M.words[9];for(P.words[P.length++]=N&j,I=10;I<M.length;I++){var L=M.words[I]|0;M.words[I-10]=(L&j)<<4|N>>>22,N=L}N>>>=22,M.words[I-10]=N,N===0&&M.length>10?M.length-=10:M.length-=9},S.prototype.imulK=function(M){M.words[M.length]=0,M.words[M.length+1]=0,M.length+=2;for(var P=0,j=0;j<M.length;j++){var O=M.words[j]|0;P+=O*977,M.words[j]=P&67108863,P=O*64+(P/67108864|0)}return M.words[M.length-1]===0&&(M.length--,M.words[M.length-1]===0&&M.length--),M};function E(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(E,_);function C(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(C,_);function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(A,_),A.prototype.imulK=function(M){for(var P=0,j=0;j<M.length;j++){var O=(M.words[j]|0)*19+P,I=O&67108863;O>>>=26,M.words[j]=I,P=O}return P!==0&&(M.words[M.length++]=P),M},o._prime=function(M){if(w[M])return w[M];var P;if(M==="k256")P=new S;else if(M==="p224")P=new E;else if(M==="p192")P=new C;else if(M==="p25519")P=new A;else throw new Error("Unknown prime "+M);return w[M]=P,P};function T(D){if(typeof D=="string"){var M=o._prime(D);this.m=M.p,this.prime=M}else n(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}T.prototype._verify1=function(M){n(M.negative===0,"red works only with positives"),n(M.red,"red works only with red numbers")},T.prototype._verify2=function(M,P){n((M.negative|P.negative)===0,"red works only with positives"),n(M.red&&M.red===P.red,"red works only with red numbers")},T.prototype.imod=function(M){return this.prime?this.prime.ireduce(M)._forceRed(this):(u(M,M.umod(this.m)._forceRed(this)),M)},T.prototype.neg=function(M){return M.isZero()?M.clone():this.m.sub(M)._forceRed(this)},T.prototype.add=function(M,P){this._verify2(M,P);var j=M.add(P);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},T.prototype.iadd=function(M,P){this._verify2(M,P);var j=M.iadd(P);return j.cmp(this.m)>=0&&j.isub(this.m),j},T.prototype.sub=function(M,P){this._verify2(M,P);var j=M.sub(P);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},T.prototype.isub=function(M,P){this._verify2(M,P);var j=M.isub(P);return j.cmpn(0)<0&&j.iadd(this.m),j},T.prototype.shl=function(M,P){return this._verify1(M),this.imod(M.ushln(P))},T.prototype.imul=function(M,P){return this._verify2(M,P),this.imod(M.imul(P))},T.prototype.mul=function(M,P){return this._verify2(M,P),this.imod(M.mul(P))},T.prototype.isqr=function(M){return this.imul(M,M.clone())},T.prototype.sqr=function(M){return this.mul(M,M)},T.prototype.sqrt=function(M){if(M.isZero())return M.clone();var P=this.m.andln(3);if(n(P%2===1),P===3){var j=this.m.add(new o(1)).iushrn(2);return this.pow(M,j)}for(var O=this.m.subn(1),I=0;!O.isZero()&&O.andln(1)===0;)I++,O.iushrn(1);n(!O.isZero());var N=new o(1).toRed(this),L=N.redNeg(),B=this.m.subn(1).iushrn(1),R=this.m.bitLength();for(R=new o(2*R*R).toRed(this);this.pow(R,B).cmp(L)!==0;)R.redIAdd(L);for(var z=this.pow(R,O),W=this.pow(M,O.addn(1).iushrn(1)),U=this.pow(M,O),H=I;U.cmp(N)!==0;){for(var X=U,K=0;X.cmp(N)!==0;K++)X=X.redSqr();n(K<H);var Q=this.pow(z,new o(1).iushln(H-K-1));W=W.redMul(Q),z=Q.redSqr(),U=U.redMul(z),H=K}return W},T.prototype.invm=function(M){var P=M._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},T.prototype.pow=function(M,P){if(P.isZero())return new o(1).toRed(this);if(P.cmpn(1)===0)return M.clone();var j=4,O=new Array(1<<j);O[0]=new o(1).toRed(this),O[1]=M;for(var I=2;I<O.length;I++)O[I]=this.mul(O[I-1],M);var N=O[0],L=0,B=0,R=P.bitLength()%26;for(R===0&&(R=26),I=P.length-1;I>=0;I--){for(var z=P.words[I],W=R-1;W>=0;W--){var U=z>>W&1;if(N!==O[0]&&(N=this.sqr(N)),U===0&&L===0){B=0;continue}L<<=1,L|=U,B++,!(B!==j&&(I!==0||W!==0))&&(N=this.mul(N,O[L]),B=0,L=0)}R=26}return N},T.prototype.convertTo=function(M){var P=M.umod(this.m);return P===M?P.clone():P},T.prototype.convertFrom=function(M){var P=M.clone();return P.red=null,P},o.mont=function(M){return new k(M)};function k(D){T.call(this,D),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(k,T),k.prototype.convertTo=function(M){return this.imod(M.ushln(this.shift))},k.prototype.convertFrom=function(M){var P=this.imod(M.mul(this.rinv));return P.red=null,P},k.prototype.imul=function(M,P){if(M.isZero()||P.isZero())return M.words[0]=0,M.length=1,M;var j=M.imul(P),O=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=j.isub(O).iushrn(this.shift),N=I;return I.cmp(this.m)>=0?N=I.isub(this.m):I.cmpn(0)<0&&(N=I.iadd(this.m)),N._forceRed(this)},k.prototype.mul=function(M,P){if(M.isZero()||P.isZero())return new o(0)._forceRed(this);var j=M.mul(P),O=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=j.isub(O).iushrn(this.shift),N=I;return I.cmp(this.m)>=0?N=I.isub(this.m):I.cmpn(0)<0&&(N=I.iadd(this.m)),N._forceRed(this)},k.prototype.invm=function(M){var P=this.imod(M._invmp(this.m).mul(this.r2));return P._forceRed(this)}})(e,Zw)})(aD);var bie=aD.exports;const qt=il(bie),xie="logger/5.7.0";let UO=!1,VO=!1;const xw={debug:1,default:2,info:2,warning:3,error:4,off:5};let HO=xw.default,B3=null;function wie(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(e){return e.message}return null}const WO=wie();var n4;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(n4||(n4={}));var Ns;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(Ns||(Ns={}));const GO="0123456789abcdef";class xe{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const n=t.toLowerCase();xw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(HO>xw[n])&&console.log.apply(console,r)}debug(...t){this._log(xe.levels.DEBUG,t)}info(...t){this._log(xe.levels.INFO,t)}warn(...t){this._log(xe.levels.WARNING,t)}makeError(t,r,n){if(VO)return this.makeError("censored error",r,{});r||(r=xe.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(a=>{const s=n[a];try{if(s instanceof Uint8Array){let u="";for(let d=0;d<s.length;d++)u+=GO[s[d]>>4],u+=GO[s[d]&15];i.push(a+"=Uint8Array(0x"+u+")")}else i.push(a+"="+JSON.stringify(s))}catch{i.push(a+"="+JSON.stringify(n[a].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const o=t;let l="";switch(r){case Ns.NUMERIC_FAULT:{l="NUMERIC_FAULT";const a=t;switch(a){case"overflow":case"underflow":case"division-by-zero":l+="-"+a;break;case"negative-power":case"negative-width":l+="-unsupported";break;case"unbound-bitwise-result":l+="-unbound-result";break}break}case Ns.CALL_EXCEPTION:case Ns.INSUFFICIENT_FUNDS:case Ns.MISSING_NEW:case Ns.NONCE_EXPIRED:case Ns.REPLACEMENT_UNDERPRICED:case Ns.TRANSACTION_REPLACED:case Ns.UNPREDICTABLE_GAS_LIMIT:l=r;break}l&&(t+=" [ See: https://links.ethers.org/v5-errors-"+l+" ]"),i.length&&(t+=" ("+i.join(", ")+")");const c=new Error(t);return c.reason=o,c.code=r,Object.keys(n).forEach(function(a){c[a]=n[a]}),c}throwError(t,r,n){throw this.makeError(t,r,n)}throwArgumentError(t,r,n){return this.throwError(t,xe.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(t,r,n,i){t||this.throwError(r,n,i)}assertArgument(t,r,n,i){t||this.throwArgumentError(r,n,i)}checkNormalize(t){WO&&this.throwError("platform missing String.prototype.normalize",xe.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:WO})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,xe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,xe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,n){n?n=": "+n:n="",t<r&&this.throwError("missing argument"+n,xe.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,xe.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",xe.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",xe.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",xe.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return B3||(B3=new xe(xie)),B3}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",xe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),UO){if(!t)return;this.globalLogger().throwError("error censorship permanent",xe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}VO=!!t,UO=!!r}static setLogLevel(t){const r=xw[t.toLowerCase()];if(r==null){xe.globalLogger().warn("invalid log level - "+t);return}HO=r}static from(t){return new xe(t)}}xe.errors=Ns;xe.levels=n4;const _ie="bytes/5.7.0",yn=new xe(_ie);function yW(e){return!!e.toHexString}function Mm(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Mm(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function sD(e){return br(e)&&!(e.length%2)||_S(e)}function qO(e){return typeof e=="number"&&e==e&&e%1===0}function _S(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!qO(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!qO(r)||r<0||r>=256)return!1}return!0}function Dt(e,t){if(t||(t={}),typeof e=="number"){yn.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),Mm(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),yW(e)&&(e=e.toHexString()),br(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":yn.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Mm(new Uint8Array(n))}return _S(e)?Mm(new Uint8Array(e)):yn.throwArgumentError("invalid arrayify value","value",e)}function va(e){const t=e.map(i=>Dt(i)),r=t.reduce((i,o)=>i+o.length,0),n=new Uint8Array(r);return t.reduce((i,o)=>(n.set(o,i),i+o.length),0),Mm(n)}function og(e){let t=Dt(e);if(t.length===0)return t;let r=0;for(;r<t.length&&t[r]===0;)r++;return r&&(t=t.slice(r)),t}function Sie(e,t){e=Dt(e),e.length>t&&yn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),Mm(r)}function br(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const F3="0123456789abcdef";function xt(e,t){if(t||(t={}),typeof e=="number"){yn.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=F3[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),yW(e))return e.toHexString();if(br(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":yn.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(_S(e)){let r="0x";for(let n=0;n<e.length;n++){let i=e[n];r+=F3[(i&240)>>4]+F3[i&15]}return r}return yn.throwArgumentError("invalid hexlify value","value",e)}function hf(e){if(typeof e!="string")e=xt(e);else if(!br(e)||e.length%2)return null;return(e.length-2)/2}function Ui(e,t,r){return typeof e!="string"?e=xt(e):(!br(e)||e.length%2)&&yn.throwArgumentError("invalid hexData","value",e),t=2+2*t,r!=null?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function Ro(e){let t="0x";return e.forEach(r=>{t+=xt(r).substring(2)}),t}function lD(e){const t=Eie(xt(e,{hexPad:"left"}));return t==="0x"?"0x0":t}function Eie(e){typeof e!="string"&&(e=xt(e)),br(e)||yn.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&e[t]==="0";)t++;return"0x"+e.substring(t)}function Sn(e,t){for(typeof e!="string"?e=xt(e):br(e)||yn.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&yn.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function SS(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(sD(e)){let r=Dt(e);r.length===64?(t.v=27+(r[32]>>7),r[32]&=127,t.r=xt(r.slice(0,32)),t.s=xt(r.slice(32,64))):r.length===65?(t.r=xt(r.slice(0,32)),t.s=xt(r.slice(32,64)),t.v=r[64]):yn.throwArgumentError("invalid signature string","signature",e),t.v<27&&(t.v===0||t.v===1?t.v+=27:yn.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=xt(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,t._vs!=null){const i=Sie(Dt(t._vs),32);t._vs=xt(i);const o=i[0]>=128?1:0;t.recoveryParam==null?t.recoveryParam=o:t.recoveryParam!==o&&yn.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),i[0]&=127;const l=xt(i);t.s==null?t.s=l:t.s!==l&&yn.throwArgumentError("signature v mismatch _vs","signature",e)}if(t.recoveryParam==null)t.v==null?yn.throwArgumentError("signature missing v and recoveryParam","signature",e):t.v===0||t.v===1?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(t.v==null)t.v=27+t.recoveryParam;else{const i=t.v===0||t.v===1?t.v:1-t.v%2;t.recoveryParam!==i&&yn.throwArgumentError("signature recoveryParam mismatch v","signature",e)}t.r==null||!br(t.r)?yn.throwArgumentError("signature missing or invalid r","signature",e):t.r=Sn(t.r,32),t.s==null||!br(t.s)?yn.throwArgumentError("signature missing or invalid s","signature",e):t.s=Sn(t.s,32);const r=Dt(t.s);r[0]>=128&&yn.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=xt(r);t._vs&&(br(t._vs)||yn.throwArgumentError("signature invalid _vs","signature",e),t._vs=Sn(t._vs,32)),t._vs==null?t._vs=n:t._vs!==n&&yn.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}const Aie="bignumber/5.7.0";var M_=qt.BN;const Dc=new xe(Aie),U3={},YO=9007199254740991;let XO=!1;class rt{constructor(t,r){t!==U3&&Dc.throwError("cannot call constructor directly; use BigNumber.from",xe.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Mo(ir(this).fromTwos(t))}toTwos(t){return Mo(ir(this).toTwos(t))}abs(){return this._hex[0]==="-"?rt.from(this._hex.substring(1)):this}add(t){return Mo(ir(this).add(ir(t)))}sub(t){return Mo(ir(this).sub(ir(t)))}div(t){return rt.from(t).isZero()&&Ia("division-by-zero","div"),Mo(ir(this).div(ir(t)))}mul(t){return Mo(ir(this).mul(ir(t)))}mod(t){const r=ir(t);return r.isNeg()&&Ia("division-by-zero","mod"),Mo(ir(this).umod(r))}pow(t){const r=ir(t);return r.isNeg()&&Ia("negative-power","pow"),Mo(ir(this).pow(r))}and(t){const r=ir(t);return(this.isNegative()||r.isNeg())&&Ia("unbound-bitwise-result","and"),Mo(ir(this).and(r))}or(t){const r=ir(t);return(this.isNegative()||r.isNeg())&&Ia("unbound-bitwise-result","or"),Mo(ir(this).or(r))}xor(t){const r=ir(t);return(this.isNegative()||r.isNeg())&&Ia("unbound-bitwise-result","xor"),Mo(ir(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&Ia("negative-width","mask"),Mo(ir(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Ia("negative-width","shl"),Mo(ir(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Ia("negative-width","shr"),Mo(ir(this).shrn(t))}eq(t){return ir(this).eq(ir(t))}lt(t){return ir(this).lt(ir(t))}lte(t){return ir(this).lte(ir(t))}gt(t){return ir(this).gt(ir(t))}gte(t){return ir(this).gte(ir(t))}isNegative(){return this._hex[0]==="-"}isZero(){return ir(this).isZero()}toNumber(){try{return ir(this).toNumber()}catch{Ia("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Dc.throwError("this platform does not support BigInt",xe.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?XO||(XO=!0,Dc.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Dc.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",xe.errors.UNEXPECTED_ARGUMENT,{}):Dc.throwError("BigNumber.toString does not accept parameters",xe.errors.UNEXPECTED_ARGUMENT,{})),ir(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof rt)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new rt(U3,Ny(t)):t.match(/^-?[0-9]+$/)?new rt(U3,Ny(new M_(t))):Dc.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&Ia("underflow","BigNumber.from",t),(t>=YO||t<=-YO)&&Ia("overflow","BigNumber.from",t),rt.from(String(t));const r=t;if(typeof r=="bigint")return rt.from(r.toString());if(_S(r))return rt.from(xt(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return rt.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(br(n)||n[0]==="-"&&br(n.substring(1))))return rt.from(n)}return Dc.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function Ny(e){if(typeof e!="string")return Ny(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&Dc.throwArgumentError("invalid hex","value",e),e=Ny(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Mo(e){return rt.from(Ny(e))}function ir(e){const t=rt.from(e).toHexString();return t[0]==="-"?new M_("-"+t.substring(3),16):new M_(t.substring(2),16)}function Ia(e,t,r){const n={fault:e,operation:t};return r!=null&&(n.value=r),Dc.throwError(e,xe.errors.NUMERIC_FAULT,n)}function Cie(e){return new M_(e,36).toString(16)}const Mie="properties/5.7.0";var Tie=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function c(u){try{s(n.next(u))}catch(d){l(d)}}function a(u){try{s(n.throw(u))}catch(d){l(d)}}function s(u){u.done?o(u.value):i(u.value).then(c,a)}s((n=n.apply(e,t||[])).next())})};const T_=new xe(Mie);function Xe(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function Ul(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||typeof e.prototype!="object")break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function Gn(e){return Tie(this,void 0,void 0,function*(){const t=Object.keys(e).map(n=>{const i=e[n];return Promise.resolve(i).then(o=>({key:n,value:o}))});return(yield Promise.all(t)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Pie(e,t){(!e||typeof e!="object")&&T_.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(r=>{t[r]||T_.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)})}function si(e){const t={};for(const r in e)t[r]=e[r];return t}const kie={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function bW(e){if(e==null||kie[typeof e])return!0;if(Array.isArray(e)||typeof e=="object"){if(!Object.isFrozen(e))return!1;const t=Object.keys(e);for(let r=0;r<t.length;r++){let n=null;try{n=e[t[r]]}catch{continue}if(!bW(n))return!1}return!0}return T_.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function Die(e){if(bW(e))return e;if(Array.isArray(e))return Object.freeze(e.map(t=>du(t)));if(typeof e=="object"){const t={};for(const r in e){const n=e[r];n!==void 0&&Xe(t,r,du(n))}return t}return T_.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function du(e){return Die(e)}class E1{constructor(t){for(const r in t)this[r]=du(t[r])}}const A1="abi/5.7.0",dr=new xe(A1),ff={};let $O={calldata:!0,memory:!0,storage:!0},jie={calldata:!0,memory:!0};function Sb(e,t){if(e==="bytes"||e==="string"){if($O[t])return!0}else if(e==="address"){if(t==="payable")return!0}else if((e.indexOf("[")>=0||e==="tuple")&&jie[t])return!0;return($O[t]||t==="payable")&&dr.throwArgumentError("invalid modifier","name",t),!1}function Iie(e,t){let r=e;function n(c){dr.throwArgumentError(`unexpected character at position ${c}`,"param",e)}e=e.replace(/\s/g," ");function i(c){let a={type:"",name:"",parent:c,state:{allowType:!0}};return t&&(a.indexed=!1),a}let o={type:"",name:"",state:{allowType:!0}},l=o;for(let c=0;c<e.length;c++){let a=e[c];switch(a){case"(":l.state.allowType&&l.type===""?l.type="tuple":l.state.allowParams||n(c),l.state.allowType=!1,l.type=Rp(l.type),l.components=[i(l)],l=l.components[0];break;case")":delete l.state,l.name==="indexed"&&(t||n(c),l.indexed=!0,l.name=""),Sb(l.type,l.name)&&(l.name=""),l.type=Rp(l.type);let s=l;l=l.parent,l||n(c),delete s.parent,l.state.allowParams=!1,l.state.allowName=!0,l.state.allowArray=!0;break;case",":delete l.state,l.name==="indexed"&&(t||n(c),l.indexed=!0,l.name=""),Sb(l.type,l.name)&&(l.name=""),l.type=Rp(l.type);let u=i(l.parent);l.parent.components.push(u),delete l.parent,l=u;break;case" ":l.state.allowType&&l.type!==""&&(l.type=Rp(l.type),delete l.state.allowType,l.state.allowName=!0,l.state.allowParams=!0),l.state.allowName&&l.name!==""&&(l.name==="indexed"?(t||n(c),l.indexed&&n(c),l.indexed=!0,l.name=""):Sb(l.type,l.name)?l.name="":l.state.allowName=!1);break;case"[":l.state.allowArray||n(c),l.type+=a,l.state.allowArray=!1,l.state.allowName=!1,l.state.readArray=!0;break;case"]":l.state.readArray||n(c),l.type+=a,l.state.readArray=!1,l.state.allowArray=!0,l.state.allowName=!0;break;default:l.state.allowType?(l.type+=a,l.state.allowParams=!0,l.state.allowArray=!0):l.state.allowName?(l.name+=a,delete l.state.allowArray):l.state.readArray?l.type+=a:n(c)}}return l.parent&&dr.throwArgumentError("unexpected eof","param",e),delete o.state,l.name==="indexed"?(t||n(r.length-7),l.indexed&&n(r.length-7),l.indexed=!0,l.name=""):Sb(l.type,l.name)&&(l.name=""),o.type=Rp(o.type),o}function ww(e,t){for(let r in t)Xe(e,r,t[r])}const pr=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Oie=new RegExp(/^(.*)\[([0-9]*)\]$/);class vi{constructor(t,r){t!==ff&&dr.throwError("use fromString",xe.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),ww(this,r);let n=this.type.match(Oie);n?ww(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:vi.fromObject({type:n[1],components:this.components}),baseType:"array"}):ww(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=pr.sighash),pr[t]||dr.throwArgumentError("invalid format type","format",t),t===pr.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(t)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(t),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(t!==pr.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(t)).join(t===pr.full?", ":",")+")"):r+=this.type,t!==pr.sighash&&(this.indexed===!0&&(r+=" indexed"),t===pr.full&&this.name&&(r+=" "+this.name)),r}static from(t,r){return typeof t=="string"?vi.fromString(t,r):vi.fromObject(t)}static fromObject(t){return vi.isParamType(t)?t:new vi(ff,{name:t.name||null,type:Rp(t.type),indexed:t.indexed==null?null:!!t.indexed,components:t.components?t.components.map(vi.fromObject):null})}static fromString(t,r){function n(i){return vi.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(Iie(t,!!r))}static isParamType(t){return!!(t!=null&&t._isParamType)}}function By(e,t){return Lie(e).map(r=>vi.fromString(r,t))}class Yc{constructor(t,r){t!==ff&&dr.throwError("use a static from method",xe.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),ww(this,r),this._isFragment=!0,Object.freeze(this)}static from(t){return Yc.isFragment(t)?t:typeof t=="string"?Yc.fromString(t):Yc.fromObject(t)}static fromObject(t){if(Yc.isFragment(t))return t;switch(t.type){case"function":return Ll.fromObject(t);case"event":return Uc.fromObject(t);case"constructor":return Rl.fromObject(t);case"error":return nd.fromObject(t);case"fallback":case"receive":return null}return dr.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return t=t.replace(/\s/g," "),t=t.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),t=t.trim(),t.split(" ")[0]==="event"?Uc.fromString(t.substring(5).trim()):t.split(" ")[0]==="function"?Ll.fromString(t.substring(8).trim()):t.split("(")[0].trim()==="constructor"?Rl.fromString(t.trim()):t.split(" ")[0]==="error"?nd.fromString(t.substring(5).trim()):dr.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!!(t&&t._isFragment)}}class Uc extends Yc{format(t){if(t||(t=pr.sighash),pr[t]||dr.throwArgumentError("invalid format type","format",t),t===pr.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});let r="";return t!==pr.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(t)).join(t===pr.full?", ":",")+") ",t!==pr.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(t){return typeof t=="string"?Uc.fromString(t):Uc.fromObject(t)}static fromObject(t){if(Uc.isEventFragment(t))return t;t.type!=="event"&&dr.throwArgumentError("invalid event object","value",t);const r={name:Fy(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(vi.fromObject):[],type:"event"};return new Uc(ff,r)}static fromString(t){let r=t.match(Uy);r||dr.throwArgumentError("invalid event string","value",t);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:dr.warn("unknown modifier: "+i)}}),Uc.fromObject({name:r[1].trim(),anonymous:n,inputs:By(r[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&t.type==="event"}}function xW(e,t){t.gas=null;let r=e.split("@");return r.length!==1?(r.length>2&&dr.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||dr.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=rt.from(r[1]),r[0]):e}function wW(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(r=>{switch(r.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function _W(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return e.stateMutability!=null?(t.stateMutability=e.stateMutability,t.constant=t.stateMutability==="view"||t.stateMutability==="pure",e.constant!=null&&!!e.constant!==t.constant&&dr.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable=t.stateMutability==="payable",e.payable!=null&&!!e.payable!==t.payable&&dr.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):e.payable!=null?(t.payable=!!e.payable,e.constant==null&&!t.payable&&e.type!=="constructor"&&dr.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&dr.throwArgumentError("cannot have constant payable function","value",e)):e.constant!=null?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):e.type!=="constructor"&&dr.throwArgumentError("unable to determine stateMutability","value",e),t}class Rl extends Yc{format(t){if(t||(t=pr.sighash),pr[t]||dr.throwArgumentError("invalid format type","format",t),t===pr.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});t===pr.sighash&&dr.throwError("cannot format a constructor for sighash",xe.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(t)).join(t===pr.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(t){return typeof t=="string"?Rl.fromString(t):Rl.fromObject(t)}static fromObject(t){if(Rl.isConstructorFragment(t))return t;t.type!=="constructor"&&dr.throwArgumentError("invalid constructor object","value",t);let r=_W(t);r.constant&&dr.throwArgumentError("constructor cannot be constant","value",t);const n={name:null,type:t.type,inputs:t.inputs?t.inputs.map(vi.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:t.gas?rt.from(t.gas):null};return new Rl(ff,n)}static fromString(t){let r={type:"constructor"};t=xW(t,r);let n=t.match(Uy);return(!n||n[1].trim()!=="constructor")&&dr.throwArgumentError("invalid constructor string","value",t),r.inputs=By(n[2].trim(),!1),wW(n[3].trim(),r),Rl.fromObject(r)}static isConstructorFragment(t){return t&&t._isFragment&&t.type==="constructor"}}class Ll extends Rl{format(t){if(t||(t=pr.sighash),pr[t]||dr.throwArgumentError("invalid format type","format",t),t===pr.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t))),outputs:this.outputs.map(n=>JSON.parse(n.format(t)))});let r="";return t!==pr.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(t)).join(t===pr.full?", ":",")+") ",t!==pr.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(t)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(t){return typeof t=="string"?Ll.fromString(t):Ll.fromObject(t)}static fromObject(t){if(Ll.isFunctionFragment(t))return t;t.type!=="function"&&dr.throwArgumentError("invalid function object","value",t);let r=_W(t);const n={type:t.type,name:Fy(t.name),constant:r.constant,inputs:t.inputs?t.inputs.map(vi.fromObject):[],outputs:t.outputs?t.outputs.map(vi.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:t.gas?rt.from(t.gas):null};return new Ll(ff,n)}static fromString(t){let r={type:"function"};t=xW(t,r);let n=t.split(" returns ");n.length>2&&dr.throwArgumentError("invalid function string","value",t);let i=n[0].match(Uy);if(i||dr.throwArgumentError("invalid function signature","value",t),r.name=i[1].trim(),r.name&&Fy(r.name),r.inputs=By(i[2],!1),wW(i[3].trim(),r),n.length>1){let o=n[1].match(Uy);(o[1].trim()!=""||o[3].trim()!="")&&dr.throwArgumentError("unexpected tokens","value",t),r.outputs=By(o[2],!1)}else r.outputs=[];return Ll.fromObject(r)}static isFunctionFragment(t){return t&&t._isFragment&&t.type==="function"}}function KO(e){const t=e.format();return(t==="Error(string)"||t==="Panic(uint256)")&&dr.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class nd extends Yc{format(t){if(t||(t=pr.sighash),pr[t]||dr.throwArgumentError("invalid format type","format",t),t===pr.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});let r="";return t!==pr.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(t)).join(t===pr.full?", ":",")+") ",r.trim()}static from(t){return typeof t=="string"?nd.fromString(t):nd.fromObject(t)}static fromObject(t){if(nd.isErrorFragment(t))return t;t.type!=="error"&&dr.throwArgumentError("invalid error object","value",t);const r={type:t.type,name:Fy(t.name),inputs:t.inputs?t.inputs.map(vi.fromObject):[]};return KO(new nd(ff,r))}static fromString(t){let r={type:"error"},n=t.match(Uy);return n||dr.throwArgumentError("invalid error signature","value",t),r.name=n[1].trim(),r.name&&Fy(r.name),r.inputs=By(n[2],!1),KO(nd.fromObject(r))}static isErrorFragment(t){return t&&t._isFragment&&t.type==="error"}}function Rp(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}const Rie=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Fy(e){return(!e||!e.match(Rie))&&dr.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}const Uy=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Lie(e){e=e.trim();let t=[],r="",n=0;for(let i=0;i<e.length;i++){let o=e[i];o===","&&n===0?(t.push(r),r=""):(r+=o,o==="("?n++:o===")"&&(n--,n===-1&&dr.throwArgumentError("unbalanced parenthesis","value",e)))}return r&&t.push(r),t}const cD=new xe(A1);function zie(e){const t=[],r=function(n,i){if(Array.isArray(i))for(let o in i){const l=n.slice();l.push(o);try{r(l,i[o])}catch(c){t.push({path:l,error:c})}}};return r([],e),t}class wu{constructor(t,r,n,i){this.name=t,this.type=r,this.localName=n,this.dynamic=i}_throwError(t,r){cD.throwArgumentError(t,this.localName,r)}}class i4{constructor(t){Xe(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return Ro(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData(va(t._data))}writeBytes(t){let r=Dt(t);const n=r.length%this.wordSize;return n&&(r=va([r,this._padding.slice(n)])),this._writeData(r)}_getValue(t){let r=Dt(rt.from(t));return r.length>this.wordSize&&cD.throwError("value out-of-bounds",xe.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=va([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[t]=this._getValue(r)}}}class P_{constructor(t,r,n,i){Xe(this,"_data",Dt(t)),Xe(this,"wordSize",r||32),Xe(this,"_coerceFunc",n),Xe(this,"allowLoose",i),this._offset=0}get data(){return xt(this._data)}get consumed(){return this._offset}static coerce(t,r){let n=t.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(t,r){return this._coerceFunc?this._coerceFunc(t,r):P_.coerce(t,r)}_peekBytes(t,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:cD.throwError("data out-of-bounds",xe.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(t){return new P_(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,r){let n=this._peekBytes(0,t,!!r);return this._offset+=n.length,n.slice(0,t)}readValue(){return rt.from(this.readBytes(this.wordSize))}}var SW={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(e){(function(){var t="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&typeof self=="object",l=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;l?i=Zw:o&&(i=self);var c=!i.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,a=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",s="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],h=[1,256,65536,16777216],f=[6,1536,393216,100663296],m=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],g=[224,256,384,512],v=[128,256],x=["hex","buffer","arrayBuffer","array","digest"],y={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(U){return Object.prototype.toString.call(U)==="[object Array]"}),a&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(U){return typeof U=="object"&&U.buffer&&U.buffer.constructor===ArrayBuffer});for(var b=function(U,H,X){return function(K){return new R(U,H,U).update(K)[X]()}},w=function(U,H,X){return function(K,Q){return new R(U,H,Q).update(K)[X]()}},_=function(U,H,X){return function(K,Q,Y,$){return M["cshake"+U].update(K,Q,Y,$)[X]()}},S=function(U,H,X){return function(K,Q,Y,$){return M["kmac"+U].update(K,Q,Y,$)[X]()}},E=function(U,H,X,K){for(var Q=0;Q<x.length;++Q){var Y=x[Q];U[Y]=H(X,K,Y)}return U},C=function(U,H){var X=b(U,H,"hex");return X.create=function(){return new R(U,H,U)},X.update=function(K){return X.create().update(K)},E(X,b,U,H)},A=function(U,H){var X=w(U,H,"hex");return X.create=function(K){return new R(U,H,K)},X.update=function(K,Q){return X.create(Q).update(K)},E(X,w,U,H)},T=function(U,H){var X=y[U],K=_(U,H,"hex");return K.create=function(Q,Y,$){return!Y&&!$?M["shake"+U].create(Q):new R(U,H,Q).bytepad([Y,$],X)},K.update=function(Q,Y,$,J){return K.create(Y,$,J).update(Q)},E(K,_,U,H)},k=function(U,H){var X=y[U],K=S(U,H,"hex");return K.create=function(Q,Y,$){return new z(U,H,Y).bytepad(["KMAC",$],X).bytepad([Q],X)},K.update=function(Q,Y,$,J){return K.create(Q,$,J).update(Y)},E(K,S,U,H)},D=[{name:"keccak",padding:h,bits:g,createMethod:C},{name:"sha3",padding:f,bits:g,createMethod:C},{name:"shake",padding:u,bits:v,createMethod:A},{name:"cshake",padding:d,bits:v,createMethod:T},{name:"kmac",padding:d,bits:v,createMethod:k}],M={},P=[],j=0;j<D.length;++j)for(var O=D[j],I=O.bits,N=0;N<I.length;++N){var L=O.name+"_"+I[N];if(P.push(L),M[L]=O.createMethod(I[N],O.padding),O.name!=="sha3"){var B=O.name+I[N];P.push(B),M[B]=M[L]}}function R(U,H,X){this.blocks=[],this.s=[],this.padding=H,this.outputBits=X,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(U<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=X>>5,this.extraBytes=(X&31)>>3;for(var K=0;K<50;++K)this.s[K]=0}R.prototype.update=function(U){if(this.finalized)throw new Error(r);var H,X=typeof U;if(X!=="string"){if(X==="object"){if(U===null)throw new Error(t);if(a&&U.constructor===ArrayBuffer)U=new Uint8Array(U);else if(!Array.isArray(U)&&(!a||!ArrayBuffer.isView(U)))throw new Error(t)}else throw new Error(t);H=!0}for(var K=this.blocks,Q=this.byteCount,Y=U.length,$=this.blockCount,J=0,ie=this.s,ne,ae;J<Y;){if(this.reset)for(this.reset=!1,K[0]=this.block,ne=1;ne<$+1;++ne)K[ne]=0;if(H)for(ne=this.start;J<Y&&ne<Q;++J)K[ne>>2]|=U[J]<<m[ne++&3];else for(ne=this.start;J<Y&&ne<Q;++J)ae=U.charCodeAt(J),ae<128?K[ne>>2]|=ae<<m[ne++&3]:ae<2048?(K[ne>>2]|=(192|ae>>6)<<m[ne++&3],K[ne>>2]|=(128|ae&63)<<m[ne++&3]):ae<55296||ae>=57344?(K[ne>>2]|=(224|ae>>12)<<m[ne++&3],K[ne>>2]|=(128|ae>>6&63)<<m[ne++&3],K[ne>>2]|=(128|ae&63)<<m[ne++&3]):(ae=65536+((ae&1023)<<10|U.charCodeAt(++J)&1023),K[ne>>2]|=(240|ae>>18)<<m[ne++&3],K[ne>>2]|=(128|ae>>12&63)<<m[ne++&3],K[ne>>2]|=(128|ae>>6&63)<<m[ne++&3],K[ne>>2]|=(128|ae&63)<<m[ne++&3]);if(this.lastByteIndex=ne,ne>=Q){for(this.start=ne-Q,this.block=K[$],ne=0;ne<$;++ne)ie[ne]^=K[ne];W(ie),this.reset=!0}else this.start=ne}return this},R.prototype.encode=function(U,H){var X=U&255,K=1,Q=[X];for(U=U>>8,X=U&255;X>0;)Q.unshift(X),U=U>>8,X=U&255,++K;return H?Q.push(K):Q.unshift(K),this.update(Q),Q.length},R.prototype.encodeString=function(U){var H,X=typeof U;if(X!=="string"){if(X==="object"){if(U===null)throw new Error(t);if(a&&U.constructor===ArrayBuffer)U=new Uint8Array(U);else if(!Array.isArray(U)&&(!a||!ArrayBuffer.isView(U)))throw new Error(t)}else throw new Error(t);H=!0}var K=0,Q=U.length;if(H)K=Q;else for(var Y=0;Y<U.length;++Y){var $=U.charCodeAt(Y);$<128?K+=1:$<2048?K+=2:$<55296||$>=57344?K+=3:($=65536+(($&1023)<<10|U.charCodeAt(++Y)&1023),K+=4)}return K+=this.encode(K*8),this.update(U),K},R.prototype.bytepad=function(U,H){for(var X=this.encode(H),K=0;K<U.length;++K)X+=this.encodeString(U[K]);var Q=H-X%H,Y=[];return Y.length=Q,this.update(Y),this},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var U=this.blocks,H=this.lastByteIndex,X=this.blockCount,K=this.s;if(U[H>>2]|=this.padding[H&3],this.lastByteIndex===this.byteCount)for(U[0]=U[X],H=1;H<X+1;++H)U[H]=0;for(U[X-1]|=2147483648,H=0;H<X;++H)K[H]^=U[H];W(K)}},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var U=this.blockCount,H=this.s,X=this.outputBlocks,K=this.extraBytes,Q=0,Y=0,$="",J;Y<X;){for(Q=0;Q<U&&Y<X;++Q,++Y)J=H[Q],$+=s[J>>4&15]+s[J&15]+s[J>>12&15]+s[J>>8&15]+s[J>>20&15]+s[J>>16&15]+s[J>>28&15]+s[J>>24&15];Y%U===0&&(W(H),Q=0)}return K&&(J=H[Q],$+=s[J>>4&15]+s[J&15],K>1&&($+=s[J>>12&15]+s[J>>8&15]),K>2&&($+=s[J>>20&15]+s[J>>16&15])),$},R.prototype.arrayBuffer=function(){this.finalize();var U=this.blockCount,H=this.s,X=this.outputBlocks,K=this.extraBytes,Q=0,Y=0,$=this.outputBits>>3,J;K?J=new ArrayBuffer(X+1<<2):J=new ArrayBuffer($);for(var ie=new Uint32Array(J);Y<X;){for(Q=0;Q<U&&Y<X;++Q,++Y)ie[Y]=H[Q];Y%U===0&&W(H)}return K&&(ie[Q]=H[Q],J=J.slice(0,$)),J},R.prototype.buffer=R.prototype.arrayBuffer,R.prototype.digest=R.prototype.array=function(){this.finalize();for(var U=this.blockCount,H=this.s,X=this.outputBlocks,K=this.extraBytes,Q=0,Y=0,$=[],J,ie;Y<X;){for(Q=0;Q<U&&Y<X;++Q,++Y)J=Y<<2,ie=H[Q],$[J]=ie&255,$[J+1]=ie>>8&255,$[J+2]=ie>>16&255,$[J+3]=ie>>24&255;Y%U===0&&W(H)}return K&&(J=Y<<2,ie=H[Q],$[J]=ie&255,K>1&&($[J+1]=ie>>8&255),K>2&&($[J+2]=ie>>16&255)),$};function z(U,H,X){R.call(this,U,H,X)}z.prototype=new R,z.prototype.finalize=function(){return this.encode(this.outputBits,!0),R.prototype.finalize.call(this)};var W=function(U){var H,X,K,Q,Y,$,J,ie,ne,ae,je,Ee,we,De,Le,Ie,ee,q,le,Te,te,ce,Ce,fe,de,Fe,Be,_e,Ve,Re,Ke,We,He,re,be,Ae,Ue,mt,ht,se,ge,Se,Pe,Je,et,tt,nt,ct,ot,Z,pe,he,me,ve,Ye,gt,st,ut,Gt,Ct,It,wr,Rr;for(K=0;K<48;K+=2)Q=U[0]^U[10]^U[20]^U[30]^U[40],Y=U[1]^U[11]^U[21]^U[31]^U[41],$=U[2]^U[12]^U[22]^U[32]^U[42],J=U[3]^U[13]^U[23]^U[33]^U[43],ie=U[4]^U[14]^U[24]^U[34]^U[44],ne=U[5]^U[15]^U[25]^U[35]^U[45],ae=U[6]^U[16]^U[26]^U[36]^U[46],je=U[7]^U[17]^U[27]^U[37]^U[47],Ee=U[8]^U[18]^U[28]^U[38]^U[48],we=U[9]^U[19]^U[29]^U[39]^U[49],H=Ee^($<<1|J>>>31),X=we^(J<<1|$>>>31),U[0]^=H,U[1]^=X,U[10]^=H,U[11]^=X,U[20]^=H,U[21]^=X,U[30]^=H,U[31]^=X,U[40]^=H,U[41]^=X,H=Q^(ie<<1|ne>>>31),X=Y^(ne<<1|ie>>>31),U[2]^=H,U[3]^=X,U[12]^=H,U[13]^=X,U[22]^=H,U[23]^=X,U[32]^=H,U[33]^=X,U[42]^=H,U[43]^=X,H=$^(ae<<1|je>>>31),X=J^(je<<1|ae>>>31),U[4]^=H,U[5]^=X,U[14]^=H,U[15]^=X,U[24]^=H,U[25]^=X,U[34]^=H,U[35]^=X,U[44]^=H,U[45]^=X,H=ie^(Ee<<1|we>>>31),X=ne^(we<<1|Ee>>>31),U[6]^=H,U[7]^=X,U[16]^=H,U[17]^=X,U[26]^=H,U[27]^=X,U[36]^=H,U[37]^=X,U[46]^=H,U[47]^=X,H=ae^(Q<<1|Y>>>31),X=je^(Y<<1|Q>>>31),U[8]^=H,U[9]^=X,U[18]^=H,U[19]^=X,U[28]^=H,U[29]^=X,U[38]^=H,U[39]^=X,U[48]^=H,U[49]^=X,De=U[0],Le=U[1],tt=U[11]<<4|U[10]>>>28,nt=U[10]<<4|U[11]>>>28,_e=U[20]<<3|U[21]>>>29,Ve=U[21]<<3|U[20]>>>29,Ct=U[31]<<9|U[30]>>>23,It=U[30]<<9|U[31]>>>23,Se=U[40]<<18|U[41]>>>14,Pe=U[41]<<18|U[40]>>>14,re=U[2]<<1|U[3]>>>31,be=U[3]<<1|U[2]>>>31,Ie=U[13]<<12|U[12]>>>20,ee=U[12]<<12|U[13]>>>20,ct=U[22]<<10|U[23]>>>22,ot=U[23]<<10|U[22]>>>22,Re=U[33]<<13|U[32]>>>19,Ke=U[32]<<13|U[33]>>>19,wr=U[42]<<2|U[43]>>>30,Rr=U[43]<<2|U[42]>>>30,ve=U[5]<<30|U[4]>>>2,Ye=U[4]<<30|U[5]>>>2,Ae=U[14]<<6|U[15]>>>26,Ue=U[15]<<6|U[14]>>>26,q=U[25]<<11|U[24]>>>21,le=U[24]<<11|U[25]>>>21,Z=U[34]<<15|U[35]>>>17,pe=U[35]<<15|U[34]>>>17,We=U[45]<<29|U[44]>>>3,He=U[44]<<29|U[45]>>>3,fe=U[6]<<28|U[7]>>>4,de=U[7]<<28|U[6]>>>4,gt=U[17]<<23|U[16]>>>9,st=U[16]<<23|U[17]>>>9,mt=U[26]<<25|U[27]>>>7,ht=U[27]<<25|U[26]>>>7,Te=U[36]<<21|U[37]>>>11,te=U[37]<<21|U[36]>>>11,he=U[47]<<24|U[46]>>>8,me=U[46]<<24|U[47]>>>8,Je=U[8]<<27|U[9]>>>5,et=U[9]<<27|U[8]>>>5,Fe=U[18]<<20|U[19]>>>12,Be=U[19]<<20|U[18]>>>12,ut=U[29]<<7|U[28]>>>25,Gt=U[28]<<7|U[29]>>>25,se=U[38]<<8|U[39]>>>24,ge=U[39]<<8|U[38]>>>24,ce=U[48]<<14|U[49]>>>18,Ce=U[49]<<14|U[48]>>>18,U[0]=De^~Ie&q,U[1]=Le^~ee&le,U[10]=fe^~Fe&_e,U[11]=de^~Be&Ve,U[20]=re^~Ae&mt,U[21]=be^~Ue&ht,U[30]=Je^~tt&ct,U[31]=et^~nt&ot,U[40]=ve^~gt&ut,U[41]=Ye^~st&Gt,U[2]=Ie^~q&Te,U[3]=ee^~le&te,U[12]=Fe^~_e&Re,U[13]=Be^~Ve&Ke,U[22]=Ae^~mt&se,U[23]=Ue^~ht&ge,U[32]=tt^~ct&Z,U[33]=nt^~ot&pe,U[42]=gt^~ut&Ct,U[43]=st^~Gt&It,U[4]=q^~Te&ce,U[5]=le^~te&Ce,U[14]=_e^~Re&We,U[15]=Ve^~Ke&He,U[24]=mt^~se&Se,U[25]=ht^~ge&Pe,U[34]=ct^~Z&he,U[35]=ot^~pe&me,U[44]=ut^~Ct&wr,U[45]=Gt^~It&Rr,U[6]=Te^~ce&De,U[7]=te^~Ce&Le,U[16]=Re^~We&fe,U[17]=Ke^~He&de,U[26]=se^~Se&re,U[27]=ge^~Pe&be,U[36]=Z^~he&Je,U[37]=pe^~me&et,U[46]=Ct^~wr&ve,U[47]=It^~Rr&Ye,U[8]=ce^~De&Ie,U[9]=Ce^~Le&ee,U[18]=We^~fe&Fe,U[19]=He^~de&Be,U[28]=Se^~re&Ae,U[29]=Pe^~be&Ue,U[38]=he^~Je&tt,U[39]=me^~et&nt,U[48]=wr^~ve&gt,U[49]=Rr^~Ye&st,U[0]^=p[K],U[1]^=p[K+1]};if(c)e.exports=M;else for(j=0;j<P.length;++j)i[P[j]]=M[P[j]]})()})(SW);var Nie=SW.exports;const Bie=il(Nie);function oi(e){return"0x"+Bie.keccak_256(Dt(e))}const Fie="rlp/5.7.0",Ml=new xe(Fie);function QO(e){const t=[];for(;e;)t.unshift(e&255),e>>=8;return t}function JO(e,t,r){let n=0;for(let i=0;i<r;i++)n=n*256+e[t+i];return n}function EW(e){if(Array.isArray(e)){let n=[];if(e.forEach(function(o){n=n.concat(EW(o))}),n.length<=55)return n.unshift(192+n.length),n;const i=QO(n.length);return i.unshift(247+i.length),i.concat(n)}sD(e)||Ml.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call(Dt(e));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=QO(t.length);return r.unshift(183+r.length),r.concat(t)}function ES(e){return xt(EW(e))}function ZO(e,t,r,n){const i=[];for(;r<t+1+n;){const o=AW(e,r);i.push(o.result),r+=o.consumed,r>t+1+n&&Ml.throwError("child data too short",xe.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function AW(e,t){if(e.length===0&&Ml.throwError("data too short",xe.errors.BUFFER_OVERRUN,{}),e[t]>=248){const r=e[t]-247;t+1+r>e.length&&Ml.throwError("data short segment too short",xe.errors.BUFFER_OVERRUN,{});const n=JO(e,t+1,r);return t+1+r+n>e.length&&Ml.throwError("data long segment too short",xe.errors.BUFFER_OVERRUN,{}),ZO(e,t,t+1+r,r+n)}else if(e[t]>=192){const r=e[t]-192;return t+1+r>e.length&&Ml.throwError("data array too short",xe.errors.BUFFER_OVERRUN,{}),ZO(e,t,t+1,r)}else if(e[t]>=184){const r=e[t]-183;t+1+r>e.length&&Ml.throwError("data array too short",xe.errors.BUFFER_OVERRUN,{});const n=JO(e,t+1,r);t+1+r+n>e.length&&Ml.throwError("data array too short",xe.errors.BUFFER_OVERRUN,{});const i=xt(e.slice(t+1+r,t+1+r+n));return{consumed:1+r+n,result:i}}else if(e[t]>=128){const r=e[t]-128;t+1+r>e.length&&Ml.throwError("data too short",xe.errors.BUFFER_OVERRUN,{});const n=xt(e.slice(t+1,t+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:xt(e[t])}}function uD(e){const t=Dt(e),r=AW(t,0);return r.consumed!==t.length&&Ml.throwArgumentError("invalid rlp data","data",e),r.result}const Uie="address/5.7.0",nm=new xe(Uie);function eR(e){br(e,20)||nm.throwArgumentError("invalid address","address",e),e=e.toLowerCase();const t=e.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=Dt(oi(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(n[i>>1]&15)>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const Vie=9007199254740991;function Hie(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}const dD={};for(let e=0;e<10;e++)dD[String(e)]=String(e);for(let e=0;e<26;e++)dD[String.fromCharCode(65+e)]=String(10+e);const tR=Math.floor(Hie(Vie));function Wie(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(n=>dD[n]).join("");for(;t.length>=tR;){let n=t.substring(0,tR);t=parseInt(n,10)%97+t.substring(n.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function Ii(e){let t=null;if(typeof e!="string"&&nm.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))e.substring(0,2)!=="0x"&&(e="0x"+e),t=eR(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&nm.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==Wie(e)&&nm.throwArgumentError("bad icap checksum","address",e),t=Cie(e.substring(4));t.length<40;)t="0"+t;t=eR("0x"+t)}else nm.throwArgumentError("invalid address","address",e);return t}function CW(e){let t=null;try{t=Ii(e.from)}catch{nm.throwArgumentError("missing from address","transaction",e)}const r=og(Dt(rt.from(e.nonce).toHexString()));return Ii(Ui(oi(ES([t,r])),12))}class Gie extends wu{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,r){try{r=Ii(r)}catch(n){this._throwError(n.message,r)}return t.writeValue(r)}decode(t){return Ii(Sn(t.readValue().toHexString(),20))}}class qie extends wu{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,r){return this.coder.encode(t,r)}decode(t){return this.coder.decode(t)}}const im=new xe(A1);function MW(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let a={};n=t.map(s=>{const u=s.localName;return u||im.throwError("cannot encode object for signature with missing names",xe.errors.INVALID_ARGUMENT,{argument:"values",coder:s,value:r}),a[u]&&im.throwError("cannot encode object for signature with duplicate names",xe.errors.INVALID_ARGUMENT,{argument:"values",coder:s,value:r}),a[u]=!0,r[u]})}else im.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&im.throwArgumentError("types/value length mismatch","tuple",r);let i=new i4(e.wordSize),o=new i4(e.wordSize),l=[];t.forEach((a,s)=>{let u=n[s];if(a.dynamic){let d=o.length;a.encode(o,u);let h=i.writeUpdatableValue();l.push(f=>{h(f+d)})}else a.encode(i,u)}),l.forEach(a=>{a(i.length)});let c=e.appendWriter(i);return c+=e.appendWriter(o),c}function TW(e,t){let r=[],n=e.subReader(0);t.forEach(o=>{let l=null;if(o.dynamic){let c=e.readValue(),a=n.subReader(c.toNumber());try{l=o.decode(a)}catch(s){if(s.code===xe.errors.BUFFER_OVERRUN)throw s;l=s,l.baseType=o.name,l.name=o.localName,l.type=o.type}}else try{l=o.decode(e)}catch(c){if(c.code===xe.errors.BUFFER_OVERRUN)throw c;l=c,l.baseType=o.name,l.name=o.localName,l.type=o.type}l!=null&&r.push(l)});const i=t.reduce((o,l)=>{const c=l.localName;return c&&(o[c]||(o[c]=0),o[c]++),o},{});t.forEach((o,l)=>{let c=o.localName;if(!c||i[c]!==1||(c==="length"&&(c="_length"),r[c]!=null))return;const a=r[l];a instanceof Error?Object.defineProperty(r,c,{enumerable:!0,get:()=>{throw a}}):r[c]=a});for(let o=0;o<r.length;o++){const l=r[o];l instanceof Error&&Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw l}})}return Object.freeze(r)}class Yie extends wu{constructor(t,r,n){const i=t.type+"["+(r>=0?r:"")+"]",o=r===-1||t.dynamic;super("array",i,n,o),this.coder=t,this.length=r}defaultValue(){const t=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(t);return r}encode(t,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,t.writeValue(r.length)),im.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let o=0;o<r.length;o++)i.push(this.coder);return MW(t,i,r)}decode(t){let r=this.length;r===-1&&(r=t.readValue().toNumber(),r*32>t._data.length&&im.throwError("insufficient data length",xe.errors.BUFFER_OVERRUN,{length:t._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new qie(this.coder));return t.coerce(this.name,TW(t,n))}}class Xie extends wu{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,r){return t.writeValue(r?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class PW extends wu{constructor(t,r){super(t,t,r,!0)}defaultValue(){return"0x"}encode(t,r){r=Dt(r);let n=t.writeValue(r.length);return n+=t.writeBytes(r),n}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class $ie extends PW{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,xt(super.decode(t)))}}class Kie extends wu{constructor(t,r){let n="bytes"+String(t);super(n,n,r,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,r){let n=Dt(r);return n.length!==this.size&&this._throwError("incorrect data length",r),t.writeBytes(n)}decode(t){return t.coerce(this.name,xt(t.readBytes(this.size)))}}class Qie extends wu{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,r){return r!=null&&this._throwError("not null",r),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const Jie="0x0000000000000000000000000000000000000000",Zie=rt.from(-1),kW=rt.from(0),eoe=rt.from(1),toe=rt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),roe="0x0000000000000000000000000000000000000000000000000000000000000000";class noe extends wu{constructor(t,r,n){const i=(r?"int":"uint")+t*8;super(i,i,n,!1),this.size=t,this.signed=r}defaultValue(){return 0}encode(t,r){let n=rt.from(r),i=toe.mask(t.wordSize*8);if(this.signed){let o=i.mask(this.size*8-1);(n.gt(o)||n.lt(o.add(eoe).mul(Zie)))&&this._throwError("value out-of-bounds",r)}else(n.lt(kW)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*t.wordSize)),t.writeValue(n)}decode(t){let r=t.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),t.coerce(this.name,r)}}const ioe="strings/5.7.0",DW=new xe(ioe);var Vy;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(Vy||(Vy={}));var ua;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(ua||(ua={}));function ooe(e,t,r,n,i){return DW.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function jW(e,t,r,n,i){if(e===ua.BAD_PREFIX||e===ua.UNEXPECTED_CONTINUE){let o=0;for(let l=t+1;l<r.length&&r[l]>>6===2;l++)o++;return o}return e===ua.OVERRUN?r.length-t-1:0}function aoe(e,t,r,n,i){return e===ua.OVERLONG?(n.push(i),0):(n.push(65533),jW(e,t,r))}const soe=Object.freeze({error:ooe,ignore:jW,replace:aoe});function IW(e,t){t==null&&(t=soe.error),e=Dt(e);const r=[];let n=0;for(;n<e.length;){const i=e[n++];if(!(i>>7)){r.push(i);continue}let o=null,l=null;if((i&224)===192)o=1,l=127;else if((i&240)===224)o=2,l=2047;else if((i&248)===240)o=3,l=65535;else{(i&192)===128?n+=t(ua.UNEXPECTED_CONTINUE,n-1,e,r):n+=t(ua.BAD_PREFIX,n-1,e,r);continue}if(n-1+o>=e.length){n+=t(ua.OVERRUN,n-1,e,r);continue}let c=i&(1<<8-o-1)-1;for(let a=0;a<o;a++){let s=e[n];if((s&192)!=128){n+=t(ua.MISSING_CONTINUE,n,e,r),c=null;break}c=c<<6|s&63,n++}if(c!==null){if(c>1114111){n+=t(ua.OUT_OF_RANGE,n-1-o,e,r,c);continue}if(c>=55296&&c<=57343){n+=t(ua.UTF16_SURROGATE,n-1-o,e,r,c);continue}if(c<=l){n+=t(ua.OVERLONG,n-1-o,e,r,c);continue}r.push(c)}}return r}function Jl(e,t=Vy.current){t!=Vy.current&&(DW.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const o=e.charCodeAt(n);if(n>=e.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");const l=65536+((i&1023)<<10)+(o&1023);r.push(l>>18|240),r.push(l>>12&63|128),r.push(l>>6&63|128),r.push(l&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Dt(r)}function loe(e){return e.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function C1(e,t){return loe(IW(e,t))}function coe(e,t=Vy.current){return IW(Jl(e,t))}class uoe extends PW{constructor(t){super("string",t)}defaultValue(){return""}encode(t,r){return super.encode(t,Jl(r))}decode(t){return C1(super.decode(t))}}class Eb extends wu{constructor(t,r){let n=!1;const i=[];t.forEach(l=>{l.dynamic&&(n=!0),i.push(l.type)});const o="tuple("+i.join(",")+")";super("tuple",o,r,n),this.coders=t}defaultValue(){const t=[];this.coders.forEach(n=>{t.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const o=i.localName;return o&&(n[o]||(n[o]=0),n[o]++),n},{});return this.coders.forEach((n,i)=>{let o=n.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),t[o]==null&&(t[o]=t[i]))}),Object.freeze(t)}encode(t,r){return MW(t,this.coders,r)}decode(t){return t.coerce(this.name,TW(t,this.coders))}}const Ab=new xe(A1),doe=new RegExp(/^bytes([0-9]*)$/),hoe=new RegExp(/^(u?int)([0-9]*)$/);class foe{constructor(t){Xe(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new Gie(t.name);case"bool":return new Xie(t.name);case"string":return new uoe(t.name);case"bytes":return new $ie(t.name);case"array":return new Yie(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new Eb((t.components||[]).map(n=>this._getCoder(n)),t.name);case"":return new Qie(t.name)}let r=t.type.match(hoe);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Ab.throwArgumentError("invalid "+r[1]+" bit length","param",t),new noe(n/8,r[1]==="int",t.name)}if(r=t.type.match(doe),r){let n=parseInt(r[1]);return(n===0||n>32)&&Ab.throwArgumentError("invalid bytes length","param",t),new Kie(n,t.name)}return Ab.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,r){return new P_(t,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new i4(this._getWordSize())}getDefaultValue(t){const r=t.map(i=>this._getCoder(vi.from(i)));return new Eb(r,"_").defaultValue()}encode(t,r){t.length!==r.length&&Ab.throwError("types/values length mismatch",xe.errors.INVALID_ARGUMENT,{count:{types:t.length,values:r.length},value:{types:t,values:r}});const n=t.map(l=>this._getCoder(vi.from(l))),i=new Eb(n,"_"),o=this._getWriter();return i.encode(o,r),o.data}decode(t,r,n){const i=t.map(l=>this._getCoder(vi.from(l)));return new Eb(i,"_").decode(this._getReader(Dt(r),n))}}const poe=new foe;function om(e){return oi(Jl(e))}const OW="hash/5.7.0";function RW(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return Dt(t)}function LW(e){e=Dt(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function zW(e,t){t==null&&(t=1);const r=[],n=r.forEach,i=function(o,l){n.call(o,function(c){l>0&&Array.isArray(c)?i(c,l-1):r.push(c)})};return i(e,t),r}function moe(e){const t={};for(let r=0;r<e.length;r++){const n=e[r];t[n[0]]=n[1]}return t}function goe(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,o=[0,1];for(let w=1;w<n;w++)o.push(i+=r());let l=r(),c=t;t+=l;let a=0,s=0;function u(){return a==0&&(s=s<<8|e[t++],a=8),s>>--a&1}const d=31,h=Math.pow(2,d),f=h>>>1,m=f>>1,p=h-1;let g=0;for(let w=0;w<d;w++)g=g<<1|u();let v=[],x=0,y=h;for(;;){let w=Math.floor(((g-x+1)*i-1)/y),_=0,S=n;for(;S-_>1;){let A=_+S>>>1;w<o[A]?S=A:_=A}if(_==0)break;v.push(_);let E=x+Math.floor(y*o[_]/i),C=x+Math.floor(y*o[_+1]/i)-1;for(;!((E^C)&f);)g=g<<1&p|u(),E=E<<1&p,C=C<<1&p|1;for(;E&~C&m;)g=g&f|g<<1&p>>>1|u(),E=E<<1^f,C=(C^f)<<1|f|1;x=E,y=1+C-E}let b=n-4;return v.map(w=>{switch(w-b){case 3:return b+65792+(e[c++]<<16|e[c++]<<8|e[c++]);case 2:return b+256+(e[c++]<<8|e[c++]);case 1:return b+e[c++];default:return w-1}})}function voe(e){let t=0;return()=>e[t++]}function yoe(e){return voe(goe(e))}function boe(e){return e&1?~e>>1:e>>1}function xoe(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}function rR(e,t){let r=Array(e);for(let n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function woe(e,t){let r=Array(e);for(let n=0,i=0;n<e;n++)r[n]=i+=boe(t());return r}function k_(e,t){let r=rR(e(),e),n=e(),i=rR(n,e),o=xoe(n,e);for(let l=0;l<n;l++)for(let c=0;c<o[l];c++)r.push(i[l]+c);return t?r.map(l=>t[l]):r}function _oe(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(Eoe(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(Aoe(r,e))}return moe(zW(t))}function Soe(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function NW(e,t,r){let n=Array(e).fill(void 0).map(()=>[]);for(let i=0;i<t;i++)woe(e,r).forEach((o,l)=>n[l].push(o));return n}function Eoe(e,t){let r=1+t(),n=t(),i=Soe(t),o=NW(i.length,1+e,t);return zW(o.map((l,c)=>{const a=l[0],s=l.slice(1);return Array(i[c]).fill(void 0).map((u,d)=>{let h=d*n;return[a+d*r,s.map(f=>f+h)]})}))}function Aoe(e,t){let r=1+t();return NW(r,1+e,t).map(i=>[i[0],i.slice(1)])}function Coe(e){let t=k_(e).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let s=k_(e,t);if(s.length==0)break;n.push({set:new Set(s),node:r()})}n.sort((s,u)=>u.set.size-s.set.size);let i=e(),o=i%3;i=i/3|0;let l=!!(i&1);i>>=1;let c=i==1,a=i==2;return{branches:n,valid:o,fe0f:l,save:c,check:a}}}function Moe(){return yoe(RW("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const AS=Moe(),Toe=new Set(k_(AS)),Poe=new Set(k_(AS)),koe=_oe(AS),Doe=Coe(AS),nR=45,iR=95;function BW(e){return coe(e)}function joe(e){return e.filter(t=>t!=65039)}function FW(e){for(let t of e.split(".")){let r=BW(t);try{for(let n=r.lastIndexOf(iR)-1;n>=0;n--)if(r[n]!==iR)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===nR&&r[3]===nR)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${t}": ${n.message}`)}}return e}function Ioe(e){return FW(Ooe(e,joe))}function Ooe(e,t){let r=BW(e).reverse(),n=[];for(;r.length;){let i=Loe(r);if(i){n.push(...t(i));continue}let o=r.pop();if(Toe.has(o)){n.push(o);continue}if(Poe.has(o))continue;let l=koe[o];if(l){n.push(...l);continue}throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`)}return FW(Roe(String.fromCodePoint(...n)))}function Roe(e){return e.normalize("NFC")}function Loe(e,t){var r;let n=Doe,i,o,l=[],c=e.length;for(;c;){let a=e[--c];if(n=(r=n.branches.find(s=>s.set.has(a)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)o=a;else if(n.check&&a===o)break;l.push(a),n.fe0f&&(l.push(65039),c>0&&e[c-1]==65039&&c--),n.valid&&(i=l.slice(),n.valid==2&&i.splice(1,1),e.length=c)}return i}const zoe=new xe(OW),UW=new Uint8Array(32);UW.fill(0);function oR(e){if(e.length===0)throw new Error("invalid ENS name; empty component");return e}function VW(e){const t=Jl(Ioe(e)),r=[];if(e.length===0)return r;let n=0;for(let i=0;i<t.length;i++)t[i]===46&&(r.push(oR(t.slice(n,i))),n=i+1);if(n>=t.length)throw new Error("invalid ENS name; empty component");return r.push(oR(t.slice(n))),r}function _w(e){typeof e!="string"&&zoe.throwArgumentError("invalid ENS name; not a string","name",e);let t=UW;const r=VW(e);for(;r.length;)t=oi(va([t,oi(r.pop())]));return xt(t)}function Noe(e){return xt(va(VW(e).map(t=>{if(t.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r})))+"00"}var Boe=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function c(u){try{s(n.next(u))}catch(d){l(d)}}function a(u){try{s(n.throw(u))}catch(d){l(d)}}function s(u){u.done?o(u.value):i(u.value).then(c,a)}s((n=n.apply(e,t||[])).next())})};const nn=new xe(OW),HW=new Uint8Array(32);HW.fill(0);const Foe=rt.from(-1),WW=rt.from(0),GW=rt.from(1),Uoe=rt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Voe(e){const t=Dt(e),r=t.length%32;return r?Ro([t,HW.slice(r)]):xt(t)}const Hoe=Sn(GW.toHexString(),32),Woe=Sn(WW.toHexString(),32),aR={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},V3=["name","version","chainId","verifyingContract","salt"];function sR(e){return function(t){return typeof t!="string"&&nn.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const Goe={name:sR("name"),version:sR("version"),chainId:function(e){try{return rt.from(e).toString()}catch{}return nn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return Ii(e).toLowerCase()}catch{}return nn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{const t=Dt(e);if(t.length!==32)throw new Error("bad length");return xt(t)}catch{}return nn.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function H3(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const r=t[1]==="",n=parseInt(t[2]||"256");(n%8!==0||n>256||t[2]&&t[2]!==String(n))&&nn.throwArgumentError("invalid numeric width","type",e);const i=Uoe.mask(r?n-1:n),o=r?i.add(GW).mul(Foe):WW;return function(l){const c=rt.from(l);return(c.lt(o)||c.gt(i))&&nn.throwArgumentError(`value out-of-bounds for ${e}`,"value",l),Sn(c.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return(r===0||r>32||t[1]!==String(r))&&nn.throwArgumentError("invalid bytes width","type",e),function(n){return Dt(n).length!==r&&nn.throwArgumentError(`invalid length for ${e}`,"value",n),Voe(n)}}}switch(e){case"address":return function(t){return Sn(Ii(t),32)};case"bool":return function(t){return t?Hoe:Woe};case"bytes":return function(t){return oi(t)};case"string":return function(t){return om(t)}}return null}function lR(e,t){return`${e}(${t.map(({name:r,type:n})=>n+" "+r).join(",")})`}class la{constructor(t){Xe(this,"types",Object.freeze(du(t))),Xe(this,"_encoderCache",{}),Xe(this,"_types",{});const r={},n={},i={};Object.keys(t).forEach(c=>{r[c]={},n[c]=[],i[c]={}});for(const c in t){const a={};t[c].forEach(s=>{a[s.name]&&nn.throwArgumentError(`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(c)}`,"types",t),a[s.name]=!0;const u=s.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===c&&nn.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",t),!H3(u)&&(n[u]||nn.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",t),n[u].push(c),r[c][u]=!0)})}const o=Object.keys(n).filter(c=>n[c].length===0);o.length===0?nn.throwArgumentError("missing primary type","types",t):o.length>1&&nn.throwArgumentError(`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",t),Xe(this,"primaryType",o[0]);function l(c,a){a[c]&&nn.throwArgumentError(`circular type reference to ${JSON.stringify(c)}`,"types",t),a[c]=!0,Object.keys(r[c]).forEach(s=>{n[s]&&(l(s,a),Object.keys(a).forEach(u=>{i[u][s]=!0}))}),delete a[c]}l(this.primaryType,{});for(const c in i){const a=Object.keys(i[c]);a.sort(),this._types[c]=lR(c,t[c])+a.map(s=>lR(s,t[s])).join("")}}getEncoder(t){let r=this._encoderCache[t];return r||(r=this._encoderCache[t]=this._getEncoder(t)),r}_getEncoder(t){{const i=H3(t);if(i)return i}const r=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],o=this.getEncoder(i),l=parseInt(r[3]);return c=>{l>=0&&c.length!==l&&nn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",c);let a=c.map(o);return this._types[i]&&(a=a.map(oi)),oi(Ro(a))}}const n=this.types[t];if(n){const i=om(this._types[t]);return o=>{const l=n.map(({name:c,type:a})=>{const s=this.getEncoder(a)(o[c]);return this._types[a]?oi(s):s});return l.unshift(i),Ro(l)}}return nn.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const r=this._types[t];return r||nn.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),r}encodeData(t,r){return this.getEncoder(t)(r)}hashStruct(t,r){return oi(this.encodeData(t,r))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,r,n){if(H3(t))return n(t,r);const i=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const l=i[1],c=parseInt(i[3]);return c>=0&&r.length!==c&&nn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(a=>this._visit(l,a,n))}const o=this.types[t];return o?o.reduce((l,{name:c,type:a})=>(l[c]=this._visit(a,r[c],n),l),{}):nn.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,r){return this._visit(this.primaryType,t,r)}static from(t){return new la(t)}static getPrimaryType(t){return la.from(t).primaryType}static hashStruct(t,r,n){return la.from(r).hashStruct(t,n)}static hashDomain(t){const r=[];for(const n in t){const i=aR[n];i||nn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",t),r.push({name:n,type:i})}return r.sort((n,i)=>V3.indexOf(n.name)-V3.indexOf(i.name)),la.hashStruct("EIP712Domain",{EIP712Domain:r},t)}static encode(t,r,n){return Ro(["0x1901",la.hashDomain(t),la.from(r).hash(n)])}static hash(t,r,n){return oi(la.encode(t,r,n))}static resolveNames(t,r,n,i){return Boe(this,void 0,void 0,function*(){t=si(t);const o={};t.verifyingContract&&!br(t.verifyingContract,20)&&(o[t.verifyingContract]="0x");const l=la.from(r);l.visit(n,(c,a)=>(c==="address"&&!br(a,20)&&(o[a]="0x"),a));for(const c in o)o[c]=yield i(c);return t.verifyingContract&&o[t.verifyingContract]&&(t.verifyingContract=o[t.verifyingContract]),n=l.visit(n,(c,a)=>c==="address"&&o[a]?o[a]:a),{domain:t,value:n}})}static getPayload(t,r,n){la.hashDomain(t);const i={},o=[];V3.forEach(a=>{const s=t[a];s!=null&&(i[a]=Goe[a](s),o.push({name:a,type:aR[a]}))});const l=la.from(r),c=si(r);return c.EIP712Domain?nn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):c.EIP712Domain=o,l.encode(n),{types:c,domain:i,primaryType:l.primaryType,message:l.visit(n,(a,s)=>{if(a.match(/^bytes(\d*)/))return xt(Dt(s));if(a.match(/^u?int/))return rt.from(s).toString();switch(a){case"address":return s.toLowerCase();case"bool":return!!s;case"string":return typeof s!="string"&&nn.throwArgumentError("invalid string","value",s),s}return nn.throwArgumentError("unsupported type","type",a)})}}}const tn=new xe(A1);class qoe extends E1{}class Yoe extends E1{}class Xoe extends E1{}class o4 extends E1{static isIndexed(t){return!!(t&&t._isIndexed)}}const $oe={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function cR(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class uR{constructor(t){let r=[];typeof t=="string"?r=JSON.parse(t):r=t,Xe(this,"fragments",r.map(n=>Yc.from(n)).filter(n=>n!=null)),Xe(this,"_abiCoder",Ul(new.target,"getAbiCoder")()),Xe(this,"functions",{}),Xe(this,"errors",{}),Xe(this,"events",{}),Xe(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){tn.warn("duplicate definition - constructor");return}Xe(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let o=n.format();if(i[o]){tn.warn("duplicate definition - "+o);return}i[o]=n}),this.deploy||Xe(this,"deploy",Rl.from({payable:!1,type:"constructor"})),Xe(this,"_isInterface",!0)}format(t){t||(t=pr.full),t===pr.sighash&&tn.throwArgumentError("interface does not support formatting sighash","format",t);const r=this.fragments.map(n=>n.format(t));return t===pr.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return poe}static getAddress(t){return Ii(t)}static getSighash(t){return Ui(om(t.format()),0,4)}static getEventTopic(t){return om(t.format())}getFunction(t){if(br(t)){for(const n in this.functions)if(t===this.getSighash(n))return this.functions[n];tn.throwArgumentError("no matching function","sighash",t)}if(t.indexOf("(")===-1){const n=t.trim(),i=Object.keys(this.functions).filter(o=>o.split("(")[0]===n);return i.length===0?tn.throwArgumentError("no matching function","name",n):i.length>1&&tn.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[Ll.fromString(t).format()];return r||tn.throwArgumentError("no matching function","signature",t),r}getEvent(t){if(br(t)){const n=t.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];tn.throwArgumentError("no matching event","topichash",n)}if(t.indexOf("(")===-1){const n=t.trim(),i=Object.keys(this.events).filter(o=>o.split("(")[0]===n);return i.length===0?tn.throwArgumentError("no matching event","name",n):i.length>1&&tn.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[Uc.fromString(t).format()];return r||tn.throwArgumentError("no matching event","signature",t),r}getError(t){if(br(t)){const n=Ul(this.constructor,"getSighash");for(const i in this.errors){const o=this.errors[i];if(t===n(o))return this.errors[i]}tn.throwArgumentError("no matching error","sighash",t)}if(t.indexOf("(")===-1){const n=t.trim(),i=Object.keys(this.errors).filter(o=>o.split("(")[0]===n);return i.length===0?tn.throwArgumentError("no matching error","name",n):i.length>1&&tn.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[Ll.fromString(t).format()];return r||tn.throwArgumentError("no matching error","signature",t),r}getSighash(t){if(typeof t=="string")try{t=this.getFunction(t)}catch(r){try{t=this.getError(t)}catch{throw r}}return Ul(this.constructor,"getSighash")(t)}getEventTopic(t){return typeof t=="string"&&(t=this.getEvent(t)),Ul(this.constructor,"getEventTopic")(t)}_decodeParams(t,r){return this._abiCoder.decode(t,r)}_encodeParams(t,r){return this._abiCoder.encode(t,r)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,r){typeof t=="string"&&(t=this.getError(t));const n=Dt(r);return xt(n.slice(0,4))!==this.getSighash(t)&&tn.throwArgumentError(`data signature does not match error ${t.name}.`,"data",xt(n)),this._decodeParams(t.inputs,n.slice(4))}encodeErrorResult(t,r){return typeof t=="string"&&(t=this.getError(t)),xt(va([this.getSighash(t),this._encodeParams(t.inputs,r||[])]))}decodeFunctionData(t,r){typeof t=="string"&&(t=this.getFunction(t));const n=Dt(r);return xt(n.slice(0,4))!==this.getSighash(t)&&tn.throwArgumentError(`data signature does not match function ${t.name}.`,"data",xt(n)),this._decodeParams(t.inputs,n.slice(4))}encodeFunctionData(t,r){return typeof t=="string"&&(t=this.getFunction(t)),xt(va([this.getSighash(t),this._encodeParams(t.inputs,r||[])]))}decodeFunctionResult(t,r){typeof t=="string"&&(t=this.getFunction(t));let n=Dt(r),i=null,o="",l=null,c=null,a=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,n)}catch{}break;case 4:{const s=xt(n.slice(0,4)),u=$oe[s];if(u)l=this._abiCoder.decode(u.inputs,n.slice(4)),c=u.name,a=u.signature,u.reason&&(i=l[0]),c==="Error"?o=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(l[0])}`:c==="Panic"&&(o=`; VM Exception while processing transaction: reverted with panic code ${l[0]}`);else try{const d=this.getError(s);l=this._abiCoder.decode(d.inputs,n.slice(4)),c=d.name,a=d.format()}catch{}break}}return tn.throwError("call revert exception"+o,xe.errors.CALL_EXCEPTION,{method:t.format(),data:xt(r),errorArgs:l,errorName:c,errorSignature:a,reason:i})}encodeFunctionResult(t,r){return typeof t=="string"&&(t=this.getFunction(t)),xt(this._abiCoder.encode(t.outputs,r||[]))}encodeFilterTopics(t,r){typeof t=="string"&&(t=this.getEvent(t)),r.length>t.inputs.length&&tn.throwError("too many arguments for "+t.format(),xe.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];t.anonymous||n.push(this.getEventTopic(t));const i=(o,l)=>o.type==="string"?om(l):o.type==="bytes"?oi(xt(l)):(o.type==="bool"&&typeof l=="boolean"&&(l=l?"0x01":"0x00"),o.type.match(/^u?int/)&&(l=rt.from(l).toHexString()),o.type==="address"&&this._abiCoder.encode(["address"],[l]),Sn(xt(l),32));for(r.forEach((o,l)=>{let c=t.inputs[l];if(!c.indexed){o!=null&&tn.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+c.name,o);return}o==null?n.push(null):c.baseType==="array"||c.baseType==="tuple"?tn.throwArgumentError("filtering with tuples or arrays not supported","contract."+c.name,o):Array.isArray(o)?n.push(o.map(a=>i(c,a))):n.push(i(c,o))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(t,r){typeof t=="string"&&(t=this.getEvent(t));const n=[],i=[],o=[];return t.anonymous||n.push(this.getEventTopic(t)),r.length!==t.inputs.length&&tn.throwArgumentError("event arguments/values mismatch","values",r),t.inputs.forEach((l,c)=>{const a=r[c];if(l.indexed)if(l.type==="string")n.push(om(a));else if(l.type==="bytes")n.push(oi(a));else{if(l.baseType==="tuple"||l.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([l.type],[a]))}else i.push(l),o.push(a)}),{data:this._abiCoder.encode(i,o),topics:n}}decodeEventLog(t,r,n){if(typeof t=="string"&&(t=this.getEvent(t)),n!=null&&!t.anonymous){let h=this.getEventTopic(t);(!br(n[0],32)||n[0].toLowerCase()!==h)&&tn.throwError("fragment/topic mismatch",xe.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:h,value:n[0]}),n=n.slice(1)}let i=[],o=[],l=[];t.inputs.forEach((h,f)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(i.push(vi.fromObject({type:"bytes32",name:h.name})),l.push(!0)):(i.push(h),l.push(!1)):(o.push(h),l.push(!1))});let c=n!=null?this._abiCoder.decode(i,va(n)):null,a=this._abiCoder.decode(o,r,!0),s=[],u=0,d=0;t.inputs.forEach((h,f)=>{if(h.indexed)if(c==null)s[f]=new o4({_isIndexed:!0,hash:null});else if(l[f])s[f]=new o4({_isIndexed:!0,hash:c[d++]});else try{s[f]=c[d++]}catch(m){s[f]=m}else try{s[f]=a[u++]}catch(m){s[f]=m}if(h.name&&s[h.name]==null){const m=s[f];m instanceof Error?Object.defineProperty(s,h.name,{enumerable:!0,get:()=>{throw cR(`property ${JSON.stringify(h.name)}`,m)}}):s[h.name]=m}});for(let h=0;h<s.length;h++){const f=s[h];f instanceof Error&&Object.defineProperty(s,h,{enumerable:!0,get:()=>{throw cR(`index ${h}`,f)}})}return Object.freeze(s)}parseTransaction(t){let r=this.getFunction(t.data.substring(0,10).toLowerCase());return r?new Yoe({args:this._abiCoder.decode(r.inputs,"0x"+t.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:rt.from(t.value||"0")}):null}parseLog(t){let r=this.getEvent(t.topics[0]);return!r||r.anonymous?null:new qoe({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,t.data,t.topics)})}parseError(t){const r=xt(t);let n=this.getError(r.substring(0,10).toLowerCase());return n?new Xoe({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(t){return!!(t&&t._isInterface)}}const Koe="abstract-provider/5.7.0";var Qoe=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function c(u){try{s(n.next(u))}catch(d){l(d)}}function a(u){try{s(n.throw(u))}catch(d){l(d)}}function s(u){u.done?o(u.value):i(u.value).then(c,a)}s((n=n.apply(e,t||[])).next())})};const Joe=new xe(Koe);class Zoe extends E1{static isForkEvent(t){return!!(t&&t._isForkEvent)}}class CS{constructor(){Joe.checkAbstract(new.target,CS),Xe(this,"_isProvider",!0)}getFeeData(){return Qoe(this,void 0,void 0,function*(){const{block:t,gasPrice:r}=yield Gn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(l=>null)});let n=null,i=null,o=null;return t&&t.baseFeePerGas&&(n=t.baseFeePerGas,o=rt.from("1500000000"),i=t.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:r}})}addListener(t,r){return this.on(t,r)}removeListener(t,r){return this.off(t,r)}static isProvider(t){return!!(t&&t._isProvider)}}const eae="abstract-signer/5.7.0";var Es=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function c(u){try{s(n.next(u))}catch(d){l(d)}}function a(u){try{s(n.throw(u))}catch(d){l(d)}}function s(u){u.done?o(u.value):i(u.value).then(c,a)}s((n=n.apply(e,t||[])).next())})};const Va=new xe(eae),tae=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],rae=[xe.errors.INSUFFICIENT_FUNDS,xe.errors.NONCE_EXPIRED,xe.errors.REPLACEMENT_UNDERPRICED];class M1{constructor(){Va.checkAbstract(new.target,M1),Xe(this,"_isSigner",!0)}getBalance(t){return Es(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)})}getTransactionCount(t){return Es(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)})}estimateGas(t){return Es(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield Gn(this.checkTransaction(t));return yield this.provider.estimateGas(r)})}call(t,r){return Es(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield Gn(this.checkTransaction(t));return yield this.provider.call(n,r)})}sendTransaction(t){return Es(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(t),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Es(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Es(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Es(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(t){return Es(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)})}checkTransaction(t){for(const n in t)tae.indexOf(n)===-1&&Va.throwArgumentError("invalid transaction key: "+n,"transaction",t);const r=si(t);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Va.throwArgumentError("from address mismatch","transaction",t),n[0])),r}populateTransaction(t){return Es(this,void 0,void 0,function*(){const r=yield Gn(this.checkTransaction(t));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Es(this,void 0,void 0,function*(){if(i==null)return null;const o=yield this.resolveName(i);return o==null&&Va.throwArgumentError("provided ENS name resolves to null","tx.to",i),o})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Va.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t):(r.type===0||r.type===1)&&n&&Va.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const o=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Va.throwError("network does not support EIP-1559",xe.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Va.throwError("failed to get consistent fee data",xe.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(rae.indexOf(i.code)>=0)throw i;return Va.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",xe.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Va.throwArgumentError("chainId address mismatch","transaction",t),i[0])),yield Gn(r)})}_checkProvider(t){this.provider||Va.throwError("missing provider",xe.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!!(t&&t._isSigner)}}class hD extends M1{constructor(t,r){super(),Xe(this,"address",t),Xe(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,r){return Promise.resolve().then(()=>{Va.throwError(t,xe.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new hD(this.address,t)}}var qW={},sr={},T1=YW;function YW(e,t){if(!e)throw new Error(t||"Assertion failed")}YW.equal=function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var a4={exports:{}};typeof Object.create=="function"?a4.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:a4.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var nae=a4.exports,iae=T1,oae=nae;sr.inherits=oae;function aae(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function sae(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):aae(e,i)?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128)}else for(i=0;i<e.length;i++)r[i]=e[i]|0;return r}sr.toArray=sae;function lae(e){for(var t="",r=0;r<e.length;r++)t+=$W(e[r].toString(16));return t}sr.toHex=lae;function XW(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}sr.htonl=XW;function cae(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];t==="little"&&(i=XW(i)),r+=KW(i.toString(16))}return r}sr.toHex32=cae;function $W(e){return e.length===1?"0"+e:e}sr.zero2=$W;function KW(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}sr.zero8=KW;function uae(e,t,r,n){var i=r-t;iae(i%4===0);for(var o=new Array(i/4),l=0,c=t;l<o.length;l++,c+=4){var a;n==="big"?a=e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:a=e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],o[l]=a>>>0}return o}sr.join32=uae;function dae(e,t){for(var r=new Array(e.length*4),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];t==="big"?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=o&255):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=o&255)}return r}sr.split32=dae;function hae(e,t){return e>>>t|e<<32-t}sr.rotr32=hae;function fae(e,t){return e<<t|e>>>32-t}sr.rotl32=fae;function pae(e,t){return e+t>>>0}sr.sum32=pae;function mae(e,t,r){return e+t+r>>>0}sr.sum32_3=mae;function gae(e,t,r,n){return e+t+r+n>>>0}sr.sum32_4=gae;function vae(e,t,r,n,i){return e+t+r+n+i>>>0}sr.sum32_5=vae;function yae(e,t,r,n){var i=e[t],o=e[t+1],l=n+o>>>0,c=(l<n?1:0)+r+i;e[t]=c>>>0,e[t+1]=l}sr.sum64=yae;function bae(e,t,r,n){var i=t+n>>>0,o=(i<t?1:0)+e+r;return o>>>0}sr.sum64_hi=bae;function xae(e,t,r,n){var i=t+n;return i>>>0}sr.sum64_lo=xae;function wae(e,t,r,n,i,o,l,c){var a=0,s=t;s=s+n>>>0,a+=s<t?1:0,s=s+o>>>0,a+=s<o?1:0,s=s+c>>>0,a+=s<c?1:0;var u=e+r+i+l+a;return u>>>0}sr.sum64_4_hi=wae;function _ae(e,t,r,n,i,o,l,c){var a=t+n+o+c;return a>>>0}sr.sum64_4_lo=_ae;function Sae(e,t,r,n,i,o,l,c,a,s){var u=0,d=t;d=d+n>>>0,u+=d<t?1:0,d=d+o>>>0,u+=d<o?1:0,d=d+c>>>0,u+=d<c?1:0,d=d+s>>>0,u+=d<s?1:0;var h=e+r+i+l+a+u;return h>>>0}sr.sum64_5_hi=Sae;function Eae(e,t,r,n,i,o,l,c,a,s){var u=t+n+o+c+s;return u>>>0}sr.sum64_5_lo=Eae;function Aae(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}sr.rotr64_hi=Aae;function Cae(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}sr.rotr64_lo=Cae;function Mae(e,t,r){return e>>>r}sr.shr64_hi=Mae;function Tae(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}sr.shr64_lo=Tae;var zg={},dR=sr,Pae=T1;function MS(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}zg.BlockHash=MS;MS.prototype.update=function(t,r){if(t=dR.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),this.pending.length===0&&(this.pending=null),t=dR.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this};MS.prototype.digest=function(t){return this.update(this._pad()),Pae(this.pending===null),this._digest(t)};MS.prototype._pad=function(){var t=this.pendingTotal,r=this._delta8,n=r-(t+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var o=1;o<n;o++)i[o]=0;if(t<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=t>>>24&255,i[o++]=t>>>16&255,i[o++]=t>>>8&255,i[o++]=t&255}else for(i[o++]=t&255,i[o++]=t>>>8&255,i[o++]=t>>>16&255,i[o++]=t>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,l=8;l<this.padLength;l++)i[o++]=0;return i};var Ng={},lc={},kae=sr,ql=kae.rotr32;function Dae(e,t,r,n){if(e===0)return QW(t,r,n);if(e===1||e===3)return ZW(t,r,n);if(e===2)return JW(t,r,n)}lc.ft_1=Dae;function QW(e,t,r){return e&t^~e&r}lc.ch32=QW;function JW(e,t,r){return e&t^e&r^t&r}lc.maj32=JW;function ZW(e,t,r){return e^t^r}lc.p32=ZW;function jae(e){return ql(e,2)^ql(e,13)^ql(e,22)}lc.s0_256=jae;function Iae(e){return ql(e,6)^ql(e,11)^ql(e,25)}lc.s1_256=Iae;function Oae(e){return ql(e,7)^ql(e,18)^e>>>3}lc.g0_256=Oae;function Rae(e){return ql(e,17)^ql(e,19)^e>>>10}lc.g1_256=Rae;var ag=sr,Lae=zg,zae=lc,W3=ag.rotl32,C0=ag.sum32,Nae=ag.sum32_5,Bae=zae.ft_1,eG=Lae.BlockHash,Fae=[1518500249,1859775393,2400959708,3395469782];function Zl(){if(!(this instanceof Zl))return new Zl;eG.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ag.inherits(Zl,eG);var Uae=Zl;Zl.blockSize=512;Zl.outSize=160;Zl.hmacStrength=80;Zl.padLength=64;Zl.prototype._update=function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=W3(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var o=this.h[0],l=this.h[1],c=this.h[2],a=this.h[3],s=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),d=Nae(W3(o,5),Bae(u,l,c,a),s,n[i],Fae[u]);s=a,a=c,c=W3(l,30),l=o,o=d}this.h[0]=C0(this.h[0],o),this.h[1]=C0(this.h[1],l),this.h[2]=C0(this.h[2],c),this.h[3]=C0(this.h[3],a),this.h[4]=C0(this.h[4],s)};Zl.prototype._digest=function(t){return t==="hex"?ag.toHex32(this.h,"big"):ag.split32(this.h,"big")};var sg=sr,Vae=zg,Bg=lc,Hae=T1,As=sg.sum32,Wae=sg.sum32_4,Gae=sg.sum32_5,qae=Bg.ch32,Yae=Bg.maj32,Xae=Bg.s0_256,$ae=Bg.s1_256,Kae=Bg.g0_256,Qae=Bg.g1_256,tG=Vae.BlockHash,Jae=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ec(){if(!(this instanceof ec))return new ec;tG.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Jae,this.W=new Array(64)}sg.inherits(ec,tG);var rG=ec;ec.blockSize=512;ec.outSize=256;ec.hmacStrength=192;ec.padLength=64;ec.prototype._update=function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=Wae(Qae(n[i-2]),n[i-7],Kae(n[i-15]),n[i-16]);var o=this.h[0],l=this.h[1],c=this.h[2],a=this.h[3],s=this.h[4],u=this.h[5],d=this.h[6],h=this.h[7];for(Hae(this.k.length===n.length),i=0;i<n.length;i++){var f=Gae(h,$ae(s),qae(s,u,d),this.k[i],n[i]),m=As(Xae(o),Yae(o,l,c));h=d,d=u,u=s,s=As(a,f),a=c,c=l,l=o,o=As(f,m)}this.h[0]=As(this.h[0],o),this.h[1]=As(this.h[1],l),this.h[2]=As(this.h[2],c),this.h[3]=As(this.h[3],a),this.h[4]=As(this.h[4],s),this.h[5]=As(this.h[5],u),this.h[6]=As(this.h[6],d),this.h[7]=As(this.h[7],h)};ec.prototype._digest=function(t){return t==="hex"?sg.toHex32(this.h,"big"):sg.split32(this.h,"big")};var s4=sr,nG=rG;function hu(){if(!(this instanceof hu))return new hu;nG.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s4.inherits(hu,nG);var Zae=hu;hu.blockSize=512;hu.outSize=224;hu.hmacStrength=192;hu.padLength=64;hu.prototype._digest=function(t){return t==="hex"?s4.toHex32(this.h.slice(0,7),"big"):s4.split32(this.h.slice(0,7),"big")};var $o=sr,ese=zg,tse=T1,Yl=$o.rotr64_hi,Xl=$o.rotr64_lo,iG=$o.shr64_hi,oG=$o.shr64_lo,Tu=$o.sum64,G3=$o.sum64_hi,q3=$o.sum64_lo,rse=$o.sum64_4_hi,nse=$o.sum64_4_lo,ise=$o.sum64_5_hi,ose=$o.sum64_5_lo,aG=ese.BlockHash,ase=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function tl(){if(!(this instanceof tl))return new tl;aG.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ase,this.W=new Array(160)}$o.inherits(tl,aG);var sG=tl;tl.blockSize=1024;tl.outSize=512;tl.hmacStrength=192;tl.padLength=128;tl.prototype._prepareBlock=function(t,r){for(var n=this.W,i=0;i<32;i++)n[i]=t[r+i];for(;i<n.length;i+=2){var o=vse(n[i-4],n[i-3]),l=yse(n[i-4],n[i-3]),c=n[i-14],a=n[i-13],s=mse(n[i-30],n[i-29]),u=gse(n[i-30],n[i-29]),d=n[i-32],h=n[i-31];n[i]=rse(o,l,c,a,s,u,d,h),n[i+1]=nse(o,l,c,a,s,u,d,h)}};tl.prototype._update=function(t,r){this._prepareBlock(t,r);var n=this.W,i=this.h[0],o=this.h[1],l=this.h[2],c=this.h[3],a=this.h[4],s=this.h[5],u=this.h[6],d=this.h[7],h=this.h[8],f=this.h[9],m=this.h[10],p=this.h[11],g=this.h[12],v=this.h[13],x=this.h[14],y=this.h[15];tse(this.k.length===n.length);for(var b=0;b<n.length;b+=2){var w=x,_=y,S=fse(h,f),E=pse(h,f),C=sse(h,f,m,p,g),A=lse(h,f,m,p,g,v),T=this.k[b],k=this.k[b+1],D=n[b],M=n[b+1],P=ise(w,_,S,E,C,A,T,k,D,M),j=ose(w,_,S,E,C,A,T,k,D,M);w=dse(i,o),_=hse(i,o),S=cse(i,o,l,c,a),E=use(i,o,l,c,a,s);var O=G3(w,_,S,E),I=q3(w,_,S,E);x=g,y=v,g=m,v=p,m=h,p=f,h=G3(u,d,P,j),f=q3(d,d,P,j),u=a,d=s,a=l,s=c,l=i,c=o,i=G3(P,j,O,I),o=q3(P,j,O,I)}Tu(this.h,0,i,o),Tu(this.h,2,l,c),Tu(this.h,4,a,s),Tu(this.h,6,u,d),Tu(this.h,8,h,f),Tu(this.h,10,m,p),Tu(this.h,12,g,v),Tu(this.h,14,x,y)};tl.prototype._digest=function(t){return t==="hex"?$o.toHex32(this.h,"big"):$o.split32(this.h,"big")};function sse(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function lse(e,t,r,n,i,o){var l=t&n^~t&o;return l<0&&(l+=4294967296),l}function cse(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function use(e,t,r,n,i,o){var l=t&n^t&o^n&o;return l<0&&(l+=4294967296),l}function dse(e,t){var r=Yl(e,t,28),n=Yl(t,e,2),i=Yl(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function hse(e,t){var r=Xl(e,t,28),n=Xl(t,e,2),i=Xl(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function fse(e,t){var r=Yl(e,t,14),n=Yl(e,t,18),i=Yl(t,e,9),o=r^n^i;return o<0&&(o+=4294967296),o}function pse(e,t){var r=Xl(e,t,14),n=Xl(e,t,18),i=Xl(t,e,9),o=r^n^i;return o<0&&(o+=4294967296),o}function mse(e,t){var r=Yl(e,t,1),n=Yl(e,t,8),i=iG(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function gse(e,t){var r=Xl(e,t,1),n=Xl(e,t,8),i=oG(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function vse(e,t){var r=Yl(e,t,19),n=Yl(t,e,29),i=iG(e,t,6),o=r^n^i;return o<0&&(o+=4294967296),o}function yse(e,t){var r=Xl(e,t,19),n=Xl(t,e,29),i=oG(e,t,6),o=r^n^i;return o<0&&(o+=4294967296),o}var l4=sr,lG=sG;function fu(){if(!(this instanceof fu))return new fu;lG.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}l4.inherits(fu,lG);var bse=fu;fu.blockSize=1024;fu.outSize=384;fu.hmacStrength=192;fu.padLength=128;fu.prototype._digest=function(t){return t==="hex"?l4.toHex32(this.h.slice(0,12),"big"):l4.split32(this.h.slice(0,12),"big")};Ng.sha1=Uae;Ng.sha224=Zae;Ng.sha256=rG;Ng.sha384=bse;Ng.sha512=sG;var cG={},pf=sr,xse=zg,Cb=pf.rotl32,hR=pf.sum32,M0=pf.sum32_3,fR=pf.sum32_4,uG=xse.BlockHash;function tc(){if(!(this instanceof tc))return new tc;uG.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}pf.inherits(tc,uG);cG.ripemd160=tc;tc.blockSize=512;tc.outSize=160;tc.hmacStrength=192;tc.padLength=64;tc.prototype._update=function(t,r){for(var n=this.h[0],i=this.h[1],o=this.h[2],l=this.h[3],c=this.h[4],a=n,s=i,u=o,d=l,h=c,f=0;f<80;f++){var m=hR(Cb(fR(n,pR(f,i,o,l),t[Sse[f]+r],wse(f)),Ase[f]),c);n=c,c=l,l=Cb(o,10),o=i,i=m,m=hR(Cb(fR(a,pR(79-f,s,u,d),t[Ese[f]+r],_se(f)),Cse[f]),h),a=h,h=d,d=Cb(u,10),u=s,s=m}m=M0(this.h[1],o,d),this.h[1]=M0(this.h[2],l,h),this.h[2]=M0(this.h[3],c,a),this.h[3]=M0(this.h[4],n,s),this.h[4]=M0(this.h[0],i,u),this.h[0]=m};tc.prototype._digest=function(t){return t==="hex"?pf.toHex32(this.h,"little"):pf.split32(this.h,"little")};function pR(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function wse(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function _se(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var Sse=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ese=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ase=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Cse=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Mse=sr,Tse=T1;function lg(e,t,r){if(!(this instanceof lg))return new lg(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(Mse.toArray(t,r))}var Pse=lg;lg.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),Tse(t.length<=this.blockSize);for(var r=t.length;r<this.blockSize;r++)t.push(0);for(r=0;r<t.length;r++)t[r]^=54;for(this.inner=new this.Hash().update(t),r=0;r<t.length;r++)t[r]^=106;this.outer=new this.Hash().update(t)};lg.prototype.update=function(t,r){return this.inner.update(t,r),this};lg.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(e){var t=e;t.utils=sr,t.common=zg,t.sha=Ng,t.ripemd=cG,t.hmac=Pse,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(qW);const Al=il(qW);function Fg(e,t,r){return r={path:t,exports:{},require:function(n,i){return kse(n,i??r.path)}},e(r,r.exports),r.exports}function kse(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var fD=dG;function dG(e,t){if(!e)throw new Error(t||"Assertion failed")}dG.equal=function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var Gs=Fg(function(e,t){var r=t;function n(l,c){if(Array.isArray(l))return l.slice();if(!l)return[];var a=[];if(typeof l!="string"){for(var s=0;s<l.length;s++)a[s]=l[s]|0;return a}if(c==="hex"){l=l.replace(/[^a-z0-9]+/ig,""),l.length%2!==0&&(l="0"+l);for(var s=0;s<l.length;s+=2)a.push(parseInt(l[s]+l[s+1],16))}else for(var s=0;s<l.length;s++){var u=l.charCodeAt(s),d=u>>8,h=u&255;d?a.push(d,h):a.push(h)}return a}r.toArray=n;function i(l){return l.length===1?"0"+l:l}r.zero2=i;function o(l){for(var c="",a=0;a<l.length;a++)c+=i(l[a].toString(16));return c}r.toHex=o,r.encode=function(c,a){return a==="hex"?o(c):c}}),Da=Fg(function(e,t){var r=t;r.assert=fD,r.toArray=Gs.toArray,r.zero2=Gs.zero2,r.toHex=Gs.toHex,r.encode=Gs.encode;function n(a,s,u){var d=new Array(Math.max(a.bitLength(),u)+1);d.fill(0);for(var h=1<<s+1,f=a.clone(),m=0;m<d.length;m++){var p,g=f.andln(h-1);f.isOdd()?(g>(h>>1)-1?p=(h>>1)-g:p=g,f.isubn(p)):p=0,d[m]=p,f.iushrn(1)}return d}r.getNAF=n;function i(a,s){var u=[[],[]];a=a.clone(),s=s.clone();for(var d=0,h=0,f;a.cmpn(-d)>0||s.cmpn(-h)>0;){var m=a.andln(3)+d&3,p=s.andln(3)+h&3;m===3&&(m=-1),p===3&&(p=-1);var g;m&1?(f=a.andln(7)+d&7,(f===3||f===5)&&p===2?g=-m:g=m):g=0,u[0].push(g);var v;p&1?(f=s.andln(7)+h&7,(f===3||f===5)&&m===2?v=-p:v=p):v=0,u[1].push(v),2*d===g+1&&(d=1-d),2*h===v+1&&(h=1-h),a.iushrn(1),s.iushrn(1)}return u}r.getJSF=i;function o(a,s,u){var d="_"+s;a.prototype[s]=function(){return this[d]!==void 0?this[d]:this[d]=u.call(this)}}r.cachedProperty=o;function l(a){return typeof a=="string"?r.toArray(a,"hex"):a}r.parseBytes=l;function c(a){return new qt(a,"hex","le")}r.intFromLE=c}),D_=Da.getNAF,Dse=Da.getJSF,j_=Da.assert;function $d(e,t){this.type=e,this.p=new qt(t.p,16),this.red=t.prime?qt.red(t.prime):qt.mont(this.p),this.zero=new qt(0).toRed(this.red),this.one=new qt(1).toRed(this.red),this.two=new qt(2).toRed(this.red),this.n=t.n&&new qt(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var If=$d;$d.prototype.point=function(){throw new Error("Not implemented")};$d.prototype.validate=function(){throw new Error("Not implemented")};$d.prototype._fixedNafMul=function(t,r){j_(t.precomputed);var n=t._getDoubles(),i=D_(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var l=[],c,a;for(c=0;c<i.length;c+=n.step){a=0;for(var s=c+n.step-1;s>=c;s--)a=(a<<1)+i[s];l.push(a)}for(var u=this.jpoint(null,null,null),d=this.jpoint(null,null,null),h=o;h>0;h--){for(c=0;c<l.length;c++)a=l[c],a===h?d=d.mixedAdd(n.points[c]):a===-h&&(d=d.mixedAdd(n.points[c].neg()));u=u.add(d)}return u.toP()};$d.prototype._wnafMul=function(t,r){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var o=i.points,l=D_(r,n,this._bitLength),c=this.jpoint(null,null,null),a=l.length-1;a>=0;a--){for(var s=0;a>=0&&l[a]===0;a--)s++;if(a>=0&&s++,c=c.dblp(s),a<0)break;var u=l[a];j_(u!==0),t.type==="affine"?u>0?c=c.mixedAdd(o[u-1>>1]):c=c.mixedAdd(o[-u-1>>1].neg()):u>0?c=c.add(o[u-1>>1]):c=c.add(o[-u-1>>1].neg())}return t.type==="affine"?c.toP():c};$d.prototype._wnafMulAdd=function(t,r,n,i,o){var l=this._wnafT1,c=this._wnafT2,a=this._wnafT3,s=0,u,d,h;for(u=0;u<i;u++){h=r[u];var f=h._getNAFPoints(t);l[u]=f.wnd,c[u]=f.points}for(u=i-1;u>=1;u-=2){var m=u-1,p=u;if(l[m]!==1||l[p]!==1){a[m]=D_(n[m],l[m],this._bitLength),a[p]=D_(n[p],l[p],this._bitLength),s=Math.max(a[m].length,s),s=Math.max(a[p].length,s);continue}var g=[r[m],null,null,r[p]];r[m].y.cmp(r[p].y)===0?(g[1]=r[m].add(r[p]),g[2]=r[m].toJ().mixedAdd(r[p].neg())):r[m].y.cmp(r[p].y.redNeg())===0?(g[1]=r[m].toJ().mixedAdd(r[p]),g[2]=r[m].add(r[p].neg())):(g[1]=r[m].toJ().mixedAdd(r[p]),g[2]=r[m].toJ().mixedAdd(r[p].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],x=Dse(n[m],n[p]);for(s=Math.max(x[0].length,s),a[m]=new Array(s),a[p]=new Array(s),d=0;d<s;d++){var y=x[0][d]|0,b=x[1][d]|0;a[m][d]=v[(y+1)*3+(b+1)],a[p][d]=0,c[m]=g}}var w=this.jpoint(null,null,null),_=this._wnafT4;for(u=s;u>=0;u--){for(var S=0;u>=0;){var E=!0;for(d=0;d<i;d++)_[d]=a[d][u]|0,_[d]!==0&&(E=!1);if(!E)break;S++,u--}if(u>=0&&S++,w=w.dblp(S),u<0)break;for(d=0;d<i;d++){var C=_[d];C!==0&&(C>0?h=c[d][C-1>>1]:C<0&&(h=c[d][-C-1>>1].neg()),h.type==="affine"?w=w.mixedAdd(h):w=w.add(h))}}for(u=0;u<i;u++)c[u]=null;return o?w:w.toP()};function gs(e,t){this.curve=e,this.type=t,this.precomputed=null}$d.BasePoint=gs;gs.prototype.eq=function(){throw new Error("Not implemented")};gs.prototype.validate=function(){return this.curve.validate(this)};$d.prototype.decodePoint=function(t,r){t=Da.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?j_(t[t.length-1]%2===0):t[0]===7&&j_(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};gs.prototype.encodeCompressed=function(t){return this.encode(t,!0)};gs.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};gs.prototype.encode=function(t,r){return Da.encode(this._encode(r),t)};gs.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};gs.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};gs.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=t){for(var l=0;l<t;l++)i=i.dbl();n.push(i)}return{step:t,points:n}};gs.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:t,points:r}};gs.prototype._getBeta=function(){return null};gs.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var pD=Fg(function(e){typeof Object.create=="function"?e.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),jse=Da.assert;function vs(e){If.call(this,"short",e),this.a=new qt(e.a,16).toRed(this.red),this.b=new qt(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}pD(vs,If);var Ise=vs;vs.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new qt(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(t.lambda)n=new qt(t.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],jse(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var l;return t.basis?l=t.basis.map(function(c){return{a:new qt(c.a,16),b:new qt(c.b,16)}}):l=this._getEndoBasis(n),{beta:r,lambda:n,basis:l}}};vs.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:qt.mont(t),n=new qt(2).toRed(r).redInvm(),i=n.redNeg(),o=new qt(3).toRed(r).redNeg().redSqrt().redMul(n),l=i.redAdd(o).fromRed(),c=i.redSub(o).fromRed();return[l,c]};vs.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),o=new qt(1),l=new qt(0),c=new qt(0),a=new qt(1),s,u,d,h,f,m,p,g=0,v,x;n.cmpn(0)!==0;){var y=i.div(n);v=i.sub(y.mul(n)),x=c.sub(y.mul(o));var b=a.sub(y.mul(l));if(!d&&v.cmp(r)<0)s=p.neg(),u=o,d=v.neg(),h=x;else if(d&&++g===2)break;p=v,i=n,n=v,c=o,o=x,a=l,l=b}f=v.neg(),m=x;var w=d.sqr().add(h.sqr()),_=f.sqr().add(m.sqr());return _.cmp(w)>=0&&(f=s,m=u),d.negative&&(d=d.neg(),h=h.neg()),f.negative&&(f=f.neg(),m=m.neg()),[{a:d,b:h},{a:f,b:m}]};vs.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(t).divRound(this.n),l=n.b.neg().mul(t).divRound(this.n),c=o.mul(n.a),a=l.mul(i.a),s=o.mul(n.b),u=l.mul(i.b),d=t.sub(c).sub(a),h=s.add(u).neg();return{k1:d,k2:h}};vs.prototype.pointFromX=function(t,r){t=new qt(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(t,i)};vs.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};vs.prototype._endoWnafMulAdd=function(t,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,l=0;l<t.length;l++){var c=this._endoSplit(r[l]),a=t[l],s=a._getBeta();c.k1.negative&&(c.k1.ineg(),a=a.neg(!0)),c.k2.negative&&(c.k2.ineg(),s=s.neg(!0)),i[l*2]=a,i[l*2+1]=s,o[l*2]=c.k1,o[l*2+1]=c.k2}for(var u=this._wnafMulAdd(1,i,o,l*2,n),d=0;d<l*2;d++)i[d]=null,o[d]=null;return u};function Si(e,t,r,n){If.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new qt(t,16),this.y=new qt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}pD(Si,If.BasePoint);vs.prototype.point=function(t,r,n){return new Si(this,t,r,n)};vs.prototype.pointFromJSON=function(t,r){return Si.fromJSON(this,t,r)};Si.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r}};Si.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Si.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=t.point(r[0],r[1],n);if(!r[2])return i;function o(c){return t.point(c[0],c[1],n)}var l=r[2];return i.precomputed={beta:null,doubles:l.doubles&&{step:l.doubles.step,points:[i].concat(l.doubles.points.map(o))},naf:l.naf&&{wnd:l.naf.wnd,points:[i].concat(l.naf.points.map(o))}},i};Si.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Si.prototype.isInfinity=function(){return this.inf};Si.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Si.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),l=o.redSqr().redISub(this.x.redAdd(this.x)),c=o.redMul(this.x.redSub(l)).redISub(this.y);return this.curve.point(l,c)};Si.prototype.getX=function(){return this.x.fromRed()};Si.prototype.getY=function(){return this.y.fromRed()};Si.prototype.mul=function(t){return t=new qt(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};Si.prototype.mulAdd=function(t,r,n){var i=[this,r],o=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};Si.prototype.jmulAdd=function(t,r,n){var i=[this,r],o=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};Si.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};Si.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Si.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function Oi(e,t,r,n){If.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new qt(0)):(this.x=new qt(t,16),this.y=new qt(r,16),this.z=new qt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}pD(Oi,If.BasePoint);vs.prototype.jpoint=function(t,r,n){return new Oi(this,t,r,n)};Oi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)};Oi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Oi.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=t.x.redMul(n),l=this.y.redMul(r.redMul(t.z)),c=t.y.redMul(n.redMul(this.z)),a=i.redSub(o),s=l.redSub(c);if(a.cmpn(0)===0)return s.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),d=u.redMul(a),h=i.redMul(u),f=s.redSqr().redIAdd(d).redISub(h).redISub(h),m=s.redMul(h.redISub(f)).redISub(l.redMul(d)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,m,p)};Oi.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=t.x.redMul(r),o=this.y,l=t.y.redMul(r).redMul(this.z),c=n.redSub(i),a=o.redSub(l);if(c.cmpn(0)===0)return a.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var s=c.redSqr(),u=s.redMul(c),d=n.redMul(s),h=a.redSqr().redIAdd(u).redISub(d).redISub(d),f=a.redMul(d.redISub(h)).redISub(o.redMul(u)),m=this.z.redMul(c);return this.curve.jpoint(h,f,m)};Oi.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,l=this.x,c=this.y,a=this.z,s=a.redSqr().redSqr(),u=c.redAdd(c);for(r=0;r<t;r++){var d=l.redSqr(),h=u.redSqr(),f=h.redSqr(),m=d.redAdd(d).redIAdd(d).redIAdd(i.redMul(s)),p=l.redMul(h),g=m.redSqr().redISub(p.redAdd(p)),v=p.redISub(g),x=m.redMul(v);x=x.redIAdd(x).redISub(f);var y=u.redMul(a);r+1<t&&(s=s.redMul(f)),l=g,a=y,u=x}return this.curve.jpoint(l,u.redMul(o),a)};Oi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Oi.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),l=o.redSqr(),c=this.x.redAdd(o).redSqr().redISub(i).redISub(l);c=c.redIAdd(c);var a=i.redAdd(i).redIAdd(i),s=a.redSqr().redISub(c).redISub(c),u=l.redIAdd(l);u=u.redIAdd(u),u=u.redIAdd(u),t=s,r=a.redMul(c.redISub(s)).redISub(u),n=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),m=this.x.redAdd(h).redSqr().redISub(d).redISub(f);m=m.redIAdd(m);var p=d.redAdd(d).redIAdd(d),g=p.redSqr(),v=f.redIAdd(f);v=v.redIAdd(v),v=v.redIAdd(v),t=g.redISub(m).redISub(m),r=p.redMul(m.redISub(t)).redISub(v),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};Oi.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),l=o.redSqr(),c=this.x.redAdd(o).redSqr().redISub(i).redISub(l);c=c.redIAdd(c);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),s=a.redSqr().redISub(c).redISub(c);t=s;var u=l.redIAdd(l);u=u.redIAdd(u),u=u.redIAdd(u),r=a.redMul(c.redISub(s)).redISub(u),n=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),m=this.x.redSub(d).redMul(this.x.redAdd(d));m=m.redAdd(m).redIAdd(m);var p=f.redIAdd(f);p=p.redIAdd(p);var g=p.redAdd(p);t=m.redSqr().redISub(g),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(d);var v=h.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v),r=m.redMul(p.redISub(t)).redISub(v)}return this.curve.jpoint(t,r,n)};Oi.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),l=r.redSqr(),c=n.redSqr(),a=l.redAdd(l).redIAdd(l).redIAdd(t.redMul(o)),s=r.redAdd(r);s=s.redIAdd(s);var u=s.redMul(c),d=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(d),f=c.redSqr();f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var m=a.redMul(h).redISub(f),p=n.redAdd(n).redMul(i);return this.curve.jpoint(d,m,p)};Oi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=t.redAdd(t).redIAdd(t),l=o.redSqr(),c=this.x.redAdd(r).redSqr().redISub(t).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(l);var a=c.redSqr(),s=i.redIAdd(i);s=s.redIAdd(s),s=s.redIAdd(s),s=s.redIAdd(s);var u=o.redIAdd(c).redSqr().redISub(l).redISub(a).redISub(s),d=r.redMul(u);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.x.redMul(a).redISub(d);h=h.redIAdd(h),h=h.redIAdd(h);var f=this.y.redMul(u.redMul(s.redISub(u)).redISub(c.redMul(a)));f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var m=this.z.redAdd(c).redSqr().redISub(n).redISub(a);return this.curve.jpoint(h,f,m)};Oi.prototype.mul=function(t,r){return t=new qt(t,r),this.curve._wnafMul(this,t)};Oi.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(t.z);return this.y.redMul(o).redISub(t.y.redMul(i)).cmpn(0)===0};Oi.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Oi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Oi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Sw=Fg(function(e,t){var r=t;r.base=If,r.short=Ise,r.mont=null,r.edwards=null}),Ew=Fg(function(e,t){var r=t,n=Da.assert;function i(c){c.type==="short"?this.curve=new Sw.short(c):c.type==="edwards"?this.curve=new Sw.edwards(c):this.curve=new Sw.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function o(c,a){Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:function(){var s=new i(a);return Object.defineProperty(r,c,{configurable:!0,enumerable:!0,value:s}),s}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Al.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Al.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Al.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Al.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Al.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Al.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Al.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var l;try{l=null.crash()}catch{l=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Al.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})});function Nd(e){if(!(this instanceof Nd))return new Nd(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Gs.toArray(e.entropy,e.entropyEnc||"hex"),r=Gs.toArray(e.nonce,e.nonceEnc||"hex"),n=Gs.toArray(e.pers,e.persEnc||"hex");fD(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var hG=Nd;Nd.prototype._init=function(t,r,n){var i=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Nd.prototype._hmac=function(){return new Al.hmac(this.hash,this.K)};Nd.prototype._update=function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};Nd.prototype.reseed=function(t,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),t=Gs.toArray(t,r),n=Gs.toArray(n,i),fD(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1};Nd.prototype.generate=function(t,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Gs.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var l=o.slice(0,t);return this._update(n),this._reseed++,Gs.encode(l,r)};var c4=Da.assert;function Xi(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var mD=Xi;Xi.fromPublic=function(t,r,n){return r instanceof Xi?r:new Xi(t,{pub:r,pubEnc:n})};Xi.fromPrivate=function(t,r,n){return r instanceof Xi?r:new Xi(t,{priv:r,privEnc:n})};Xi.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Xi.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};Xi.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};Xi.prototype._importPrivate=function(t,r){this.priv=new qt(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Xi.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?c4(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&c4(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};Xi.prototype.derive=function(t){return t.validate()||c4(t.validate(),"public point not validated"),t.mul(this.priv).getX()};Xi.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};Xi.prototype.verify=function(t,r){return this.ec.verify(t,r,this)};Xi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Ose=Da.assert;function TS(e,t){if(e instanceof TS)return e;this._importDER(e,t)||(Ose(e.r&&e.s,"Signature without r or s"),this.r=new qt(e.r,16),this.s=new qt(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var PS=TS;function Rse(){this.place=0}function Y3(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,o=0,l=t.place;o<n;o++,l++)i<<=8,i|=e[l],i>>>=0;return i<=127?!1:(t.place=l,i)}function mR(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}TS.prototype._importDER=function(t,r){t=Da.toArray(t,r);var n=new Rse;if(t[n.place++]!==48)return!1;var i=Y3(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var o=Y3(t,n);if(o===!1)return!1;var l=t.slice(n.place,o+n.place);if(n.place+=o,t[n.place++]!==2)return!1;var c=Y3(t,n);if(c===!1||t.length!==c+n.place)return!1;var a=t.slice(n.place,c+n.place);if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;return this.r=new qt(l),this.s=new qt(a),this.recoveryParam=null,!0};function X3(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}TS.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=mR(r),n=mR(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];X3(i,r.length),i=i.concat(r),i.push(2),X3(i,n.length);var o=i.concat(n),l=[48];return X3(l,o.length),l=l.concat(o),Da.encode(l,t)};var Lse=function(){throw new Error("unsupported")},fG=Da.assert;function ds(e){if(!(this instanceof ds))return new ds(e);typeof e=="string"&&(fG(Object.prototype.hasOwnProperty.call(Ew,e),"Unknown curve "+e),e=Ew[e]),e instanceof Ew.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var zse=ds;ds.prototype.keyPair=function(t){return new mD(this,t)};ds.prototype.keyFromPrivate=function(t,r){return mD.fromPrivate(this,t,r)};ds.prototype.keyFromPublic=function(t,r){return mD.fromPublic(this,t,r)};ds.prototype.genKeyPair=function(t){t||(t={});for(var r=new hG({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Lse(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new qt(2));;){var o=new qt(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};ds.prototype._truncateToN=function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};ds.prototype.sign=function(t,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),t=this._truncateToN(new qt(t,16));for(var o=this.n.byteLength(),l=r.getPrivate().toArray("be",o),c=t.toArray("be",o),a=new hG({hash:this.hash,entropy:l,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),s=this.n.sub(new qt(1)),u=0;;u++){var d=i.k?i.k(u):new qt(a.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(s)>=0)){var h=this.g.mul(d);if(!h.isInfinity()){var f=h.getX(),m=f.umod(this.n);if(m.cmpn(0)!==0){var p=d.invm(this.n).mul(m.mul(r.getPrivate()).iadd(t));if(p=p.umod(this.n),p.cmpn(0)!==0){var g=(h.getY().isOdd()?1:0)|(f.cmp(m)!==0?2:0);return i.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new PS({r:m,s:p,recoveryParam:g})}}}}}};ds.prototype.verify=function(t,r,n,i){t=this._truncateToN(new qt(t,16)),n=this.keyFromPublic(n,i),r=new PS(r,"hex");var o=r.r,l=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||l.cmpn(1)<0||l.cmp(this.n)>=0)return!1;var c=l.invm(this.n),a=c.mul(t).umod(this.n),s=c.mul(o).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(a,n.getPublic(),s),u.isInfinity()?!1:u.eqXToP(o)):(u=this.g.mulAdd(a,n.getPublic(),s),u.isInfinity()?!1:u.getX().umod(this.n).cmp(o)===0)};ds.prototype.recoverPubKey=function(e,t,r,n){fG((3&r)===r,"The recovery param is more than two bits"),t=new PS(t,n);var i=this.n,o=new qt(e),l=t.r,c=t.s,a=r&1,s=r>>1;if(l.cmp(this.curve.p.umod(this.curve.n))>=0&&s)throw new Error("Unable to find sencond key candinate");s?l=this.curve.pointFromX(l.add(this.curve.n),a):l=this.curve.pointFromX(l,a);var u=t.r.invm(i),d=i.sub(o).mul(u).umod(i),h=c.mul(u).umod(i);return this.g.mulAdd(d,l,h)};ds.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new PS(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Nse=Fg(function(e,t){var r=t;r.version="6.5.4",r.utils=Da,r.rand=function(){throw new Error("unsupported")},r.curve=Sw,r.curves=Ew,r.ec=zse,r.eddsa=null}),Bse=Nse.ec;const Fse="signing-key/5.7.0",u4=new xe(Fse);let $3=null;function Ju(){return $3||($3=new Bse("secp256k1")),$3}class Use{constructor(t){Xe(this,"curve","secp256k1"),Xe(this,"privateKey",xt(t)),hf(this.privateKey)!==32&&u4.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Ju().keyFromPrivate(Dt(this.privateKey));Xe(this,"publicKey","0x"+r.getPublic(!1,"hex")),Xe(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Xe(this,"_isSigningKey",!0)}_addPoint(t){const r=Ju().keyFromPublic(Dt(this.publicKey)),n=Ju().keyFromPublic(Dt(t));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(t){const r=Ju().keyFromPrivate(Dt(this.privateKey)),n=Dt(t);n.length!==32&&u4.throwArgumentError("bad digest length","digest",t);const i=r.sign(n,{canonical:!0});return SS({recoveryParam:i.recoveryParam,r:Sn("0x"+i.r.toString(16),32),s:Sn("0x"+i.s.toString(16),32)})}computeSharedSecret(t){const r=Ju().keyFromPrivate(Dt(this.privateKey)),n=Ju().keyFromPublic(Dt(pG(t)));return Sn("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}}function Vse(e,t){const r=SS(t),n={r:Dt(r.r),s:Dt(r.s)};return"0x"+Ju().recoverPubKey(Dt(e),n,r.recoveryParam).encode("hex",!1)}function pG(e,t){const r=Dt(e);return r.length===32?new Use(r).publicKey:r.length===33?"0x"+Ju().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?xt(r):u4.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Hse="transactions/5.7.0",_u=new xe(Hse);var gR;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(gR||(gR={}));function gD(e){return e==="0x"?null:Ii(e)}function Hi(e){return e==="0x"?kW:rt.from(e)}function Wse(e){const t=pG(e);return Ii(Ui(oi(Ui(t,1)),12))}function mG(e,t){return Wse(Vse(Dt(e),t))}function da(e,t){const r=og(rt.from(e).toHexString());return r.length>32&&_u.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function K3(e,t){return{address:Ii(e),storageKeys:(t||[]).map((r,n)=>(hf(r)!==32&&_u.throwArgumentError("invalid access list storageKey",`accessList[${e}:${n}]`,r),r.toLowerCase()))}}function Ug(e){if(Array.isArray(e))return e.map((r,n)=>Array.isArray(r)?(r.length>2&&_u.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),K3(r[0],r[1])):K3(r.address,r.storageKeys));const t=Object.keys(e).map(r=>{const n=e[r].reduce((i,o)=>(i[o]=!0,i),{});return K3(r,Object.keys(n).sort())});return t.sort((r,n)=>r.address.localeCompare(n.address)),t}function gG(e){return Ug(e).map(t=>[t.address,t.storageKeys])}function Gse(e,t){if(e.gasPrice!=null){const n=rt.from(e.gasPrice),i=rt.from(e.maxFeePerGas||0);n.eq(i)||_u.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[da(e.chainId||0,"chainId"),da(e.nonce||0,"nonce"),da(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),da(e.maxFeePerGas||0,"maxFeePerGas"),da(e.gasLimit||0,"gasLimit"),e.to!=null?Ii(e.to):"0x",da(e.value||0,"value"),e.data||"0x",gG(e.accessList||[])];if(t){const n=SS(t);r.push(da(n.recoveryParam,"recoveryParam")),r.push(og(n.r)),r.push(og(n.s))}return Ro(["0x02",ES(r)])}function qse(e,t){const r=[da(e.chainId||0,"chainId"),da(e.nonce||0,"nonce"),da(e.gasPrice||0,"gasPrice"),da(e.gasLimit||0,"gasLimit"),e.to!=null?Ii(e.to):"0x",da(e.value||0,"value"),e.data||"0x",gG(e.accessList||[])];if(t){const n=SS(t);r.push(da(n.recoveryParam,"recoveryParam")),r.push(og(n.r)),r.push(og(n.s))}return Ro(["0x01",ES(r)])}function vG(e,t,r){try{const n=Hi(t[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");e.v=n}catch{_u.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=Sn(t[1],32),e.s=Sn(t[2],32);try{const n=oi(r(e));e.from=mG(n,{r:e.r,s:e.s,recoveryParam:e.v})}catch{}}function Yse(e){const t=uD(e.slice(1));t.length!==9&&t.length!==12&&_u.throwArgumentError("invalid component count for transaction type: 2","payload",xt(e));const r=Hi(t[2]),n=Hi(t[3]),i={type:2,chainId:Hi(t[0]).toNumber(),nonce:Hi(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Hi(t[4]),to:gD(t[5]),value:Hi(t[6]),data:t[7],accessList:Ug(t[8])};return t.length===9||(i.hash=oi(e),vG(i,t.slice(9),Gse)),i}function Xse(e){const t=uD(e.slice(1));t.length!==8&&t.length!==11&&_u.throwArgumentError("invalid component count for transaction type: 1","payload",xt(e));const r={type:1,chainId:Hi(t[0]).toNumber(),nonce:Hi(t[1]).toNumber(),gasPrice:Hi(t[2]),gasLimit:Hi(t[3]),to:gD(t[4]),value:Hi(t[5]),data:t[6],accessList:Ug(t[7])};return t.length===8||(r.hash=oi(e),vG(r,t.slice(8),qse)),r}function $se(e){const t=uD(e);t.length!==9&&t.length!==6&&_u.throwArgumentError("invalid raw transaction","rawTransaction",e);const r={nonce:Hi(t[0]).toNumber(),gasPrice:Hi(t[1]),gasLimit:Hi(t[2]),to:gD(t[3]),value:Hi(t[4]),data:t[5],chainId:0};if(t.length===6)return r;try{r.v=rt.from(t[6]).toNumber()}catch{return r}if(r.r=Sn(t[7],32),r.s=Sn(t[8],32),rt.from(r.r).isZero()&&rt.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=t.slice(0,6);r.chainId!==0&&(i.push(xt(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const o=oi(ES(i));try{r.from=mG(o,{r:xt(r.r),s:xt(r.s),recoveryParam:n})}catch{}r.hash=oi(e)}return r.type=null,r}function Kse(e){const t=Dt(e);if(t[0]>127)return $se(t);switch(t[0]){case 1:return Xse(t);case 2:return Yse(t)}return _u.throwError(`unsupported transaction type: ${t[0]}`,xe.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}const Qse="contracts/5.7.0";var mf=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function c(u){try{s(n.next(u))}catch(d){l(d)}}function a(u){try{s(n.throw(u))}catch(d){l(d)}}function s(u){u.done?o(u.value):i(u.value).then(c,a)}s((n=n.apply(e,t||[])).next())})};const Pn=new xe(Qse);function I_(e,t){return mf(this,void 0,void 0,function*(){const r=yield t;typeof r!="string"&&Pn.throwArgumentError("invalid address or ENS name","name",r);try{return Ii(r)}catch{}e||Pn.throwError("a provider or signer is needed to resolve ENS names",xe.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield e.resolveName(r);return n==null&&Pn.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function Aw(e,t,r){return mf(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>Aw(e,Array.isArray(t)?t[i]:t[n.name],n))):r.type==="address"?yield I_(e,t):r.type==="tuple"?yield Aw(e,t,r.components):r.baseType==="array"?Array.isArray(t)?yield Promise.all(t.map(n=>Aw(e,n,r.arrayChildren))):Promise.reject(Pn.makeError("invalid value for array",xe.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t})}function kS(e,t,r){return mf(this,void 0,void 0,function*(){let n={};r.length===t.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=si(r.pop())),Pn.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?n.from?n.from=Gn({override:I_(e.signer,n.from),signer:e.signer.getAddress()}).then(s=>mf(this,void 0,void 0,function*(){return Ii(s.signer)!==s.override&&Pn.throwError("Contract with a Signer cannot override from",xe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),s.override})):n.from=e.signer.getAddress():n.from&&(n.from=I_(e.provider,n.from));const i=yield Gn({args:Aw(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:Gn(n)||{}}),o=e.interface.encodeFunctionData(t,i.args),l={data:o,to:i.address},c=i.overrides;if(c.nonce!=null&&(l.nonce=rt.from(c.nonce).toNumber()),c.gasLimit!=null&&(l.gasLimit=rt.from(c.gasLimit)),c.gasPrice!=null&&(l.gasPrice=rt.from(c.gasPrice)),c.maxFeePerGas!=null&&(l.maxFeePerGas=rt.from(c.maxFeePerGas)),c.maxPriorityFeePerGas!=null&&(l.maxPriorityFeePerGas=rt.from(c.maxPriorityFeePerGas)),c.from!=null&&(l.from=c.from),c.type!=null&&(l.type=c.type),c.accessList!=null&&(l.accessList=Ug(c.accessList)),l.gasLimit==null&&t.gas!=null){let s=21e3;const u=Dt(o);for(let d=0;d<u.length;d++)s+=4,u[d]&&(s+=64);l.gasLimit=rt.from(t.gas).add(s)}if(c.value){const s=rt.from(c.value);!s.isZero()&&!t.payable&&Pn.throwError("non-payable method cannot override value",xe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),l.value=s}c.customData&&(l.customData=si(c.customData)),c.ccipReadEnabled&&(l.ccipReadEnabled=!!c.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const a=Object.keys(n).filter(s=>n[s]!=null);return a.length&&Pn.throwError(`cannot override ${a.map(s=>JSON.stringify(s)).join(",")}`,xe.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:a}),l})}function Jse(e,t){return function(...r){return kS(e,t,r)}}function Zse(e,t){const r=e.signer||e.provider;return function(...n){return mf(this,void 0,void 0,function*(){r||Pn.throwError("estimate require a provider or signer",xe.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield kS(e,t,n);return yield r.estimateGas(i)})}}function ele(e,t){const r=t.wait.bind(t);t.wait=n=>r(n).then(i=>(i.events=i.logs.map(o=>{let l=du(o),c=null;try{c=e.interface.parseLog(o)}catch{}return c&&(l.args=c.args,l.decode=(a,s)=>e.interface.decodeEventLog(c.eventFragment,a,s),l.event=c.name,l.eventSignature=c.signature),l.removeListener=()=>e.provider,l.getBlock=()=>e.provider.getBlock(i.blockHash),l.getTransaction=()=>e.provider.getTransaction(i.transactionHash),l.getTransactionReceipt=()=>Promise.resolve(i),l}),i))}function yG(e,t,r){const n=e.signer||e.provider;return function(...i){return mf(this,void 0,void 0,function*(){let o;if(i.length===t.inputs.length+1&&typeof i[i.length-1]=="object"){const a=si(i.pop());a.blockTag!=null&&(o=yield a.blockTag),delete a.blockTag,i.push(a)}e.deployTransaction!=null&&(yield e._deployed(o));const l=yield kS(e,t,i),c=yield n.call(l,o);try{let a=e.interface.decodeFunctionResult(t,c);return r&&t.outputs.length===1&&(a=a[0]),a}catch(a){throw a.code===xe.errors.CALL_EXCEPTION&&(a.address=e.address,a.args=i,a.transaction=l),a}})}}function tle(e,t){return function(...r){return mf(this,void 0,void 0,function*(){e.signer||Pn.throwError("sending a transaction requires a signer",xe.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),e.deployTransaction!=null&&(yield e._deployed());const n=yield kS(e,t,r),i=yield e.signer.sendTransaction(n);return ele(e,i),i})}}function vR(e,t,r){return t.constant?yG(e,t,r):tle(e,t)}function bG(e){return e.address&&(e.topics==null||e.topics.length===0)?"*":(e.address||"*")+"@"+(e.topics?e.topics.map(t=>Array.isArray(t)?t.join("|"):t).join(":"):"")}class Hy{constructor(t,r){Xe(this,"tag",t),Xe(this,"filter",r),this._listeners=[]}addListener(t,r){this._listeners.push({listener:t,once:r})}removeListener(t){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==t?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(t=>t.listener)}listenerCount(){return this._listeners.length}run(t){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=t.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(t){}getEmit(t){return[t]}}class rle extends Hy{constructor(){super("error",null)}}class yR extends Hy{constructor(t,r,n,i){const o={address:t};let l=r.getEventTopic(n);i?(l!==i[0]&&Pn.throwArgumentError("topic mismatch","topics",i),o.topics=i.slice()):o.topics=[l],super(bG(o),o),Xe(this,"address",t),Xe(this,"interface",r),Xe(this,"fragment",n)}prepareEvent(t){super.prepareEvent(t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(r){t.args=null,t.decodeError=r}}getEmit(t){const r=zie(t.args);if(r.length)throw r[0].error;const n=(t.args||[]).slice();return n.push(t),n}}class bR extends Hy{constructor(t,r){super("*",{address:t}),Xe(this,"address",t),Xe(this,"interface",r)}prepareEvent(t){super.prepareEvent(t);try{const r=this.interface.parseLog(t);t.event=r.name,t.eventSignature=r.signature,t.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),t.args=r.args}catch{}}}class nle{constructor(t,r,n){Xe(this,"interface",Ul(new.target,"getInterface")(r)),n==null?(Xe(this,"provider",null),Xe(this,"signer",null)):M1.isSigner(n)?(Xe(this,"provider",n.provider||null),Xe(this,"signer",n)):CS.isProvider(n)?(Xe(this,"provider",n),Xe(this,"signer",null)):Pn.throwArgumentError("invalid signer or provider","signerOrProvider",n),Xe(this,"callStatic",{}),Xe(this,"estimateGas",{}),Xe(this,"functions",{}),Xe(this,"populateTransaction",{}),Xe(this,"filters",{});{const l={};Object.keys(this.interface.events).forEach(c=>{const a=this.interface.events[c];Xe(this.filters,c,(...s)=>({address:this.address,topics:this.interface.encodeFilterTopics(a,s)})),l[a.name]||(l[a.name]=[]),l[a.name].push(c)}),Object.keys(l).forEach(c=>{const a=l[c];a.length===1?Xe(this.filters,c,this.filters[a[0]]):Pn.warn(`Duplicate definition of ${c} (${a.join(", ")})`)})}if(Xe(this,"_runningEvents",{}),Xe(this,"_wrappedEmits",{}),t==null&&Pn.throwArgumentError("invalid contract address or ENS name","addressOrName",t),Xe(this,"address",t),this.provider)Xe(this,"resolvedAddress",I_(this.provider,t));else try{Xe(this,"resolvedAddress",Promise.resolve(Ii(t)))}catch{Pn.throwError("provider is required to use ENS name as contract address",xe.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(l=>{});const i={},o={};Object.keys(this.interface.functions).forEach(l=>{const c=this.interface.functions[l];if(o[l]){Pn.warn(`Duplicate ABI entry for ${JSON.stringify(l)}`);return}o[l]=!0;{const a=c.name;i[`%${a}`]||(i[`%${a}`]=[]),i[`%${a}`].push(l)}this[l]==null&&Xe(this,l,vR(this,c,!0)),this.functions[l]==null&&Xe(this.functions,l,vR(this,c,!1)),this.callStatic[l]==null&&Xe(this.callStatic,l,yG(this,c,!0)),this.populateTransaction[l]==null&&Xe(this.populateTransaction,l,Jse(this,c)),this.estimateGas[l]==null&&Xe(this.estimateGas,l,Zse(this,c))}),Object.keys(i).forEach(l=>{const c=i[l];if(c.length>1)return;l=l.substring(1);const a=c[0];try{this[l]==null&&Xe(this,l,this[a])}catch{}this.functions[l]==null&&Xe(this.functions,l,this.functions[a]),this.callStatic[l]==null&&Xe(this.callStatic,l,this.callStatic[a]),this.populateTransaction[l]==null&&Xe(this.populateTransaction,l,this.populateTransaction[a]),this.estimateGas[l]==null&&Xe(this.estimateGas,l,this.estimateGas[a])})}static getContractAddress(t){return CW(t)}static getInterface(t){return uR.isInterface(t)?t:new uR(t)}deployed(){return this._deployed()}_deployed(t){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,t).then(r=>(r==="0x"&&Pn.throwError("contract not deployed",xe.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(t){this.signer||Pn.throwError("sending a transactions require a signer",xe.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=si(t||{});return["from","to"].forEach(function(n){r[n]!=null&&Pn.throwError("cannot override "+n,xe.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(t){typeof t=="string"&&(t=new hD(t,this.provider));const r=new this.constructor(this.address,this.interface,t);return this.deployTransaction&&Xe(r,"deployTransaction",this.deployTransaction),r}attach(t){return new this.constructor(t,this.interface,this.signer||this.provider)}static isIndexed(t){return o4.isIndexed(t)}_normalizeRunningEvent(t){return this._runningEvents[t.tag]?this._runningEvents[t.tag]:t}_getRunningEvent(t){if(typeof t=="string"){if(t==="error")return this._normalizeRunningEvent(new rle);if(t==="event")return this._normalizeRunningEvent(new Hy("event",null));if(t==="*")return this._normalizeRunningEvent(new bR(this.address,this.interface));const r=this.interface.getEvent(t);return this._normalizeRunningEvent(new yR(this.address,this.interface,r))}if(t.topics&&t.topics.length>0){try{const n=t.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new yR(this.address,this.interface,i,t.topics))}catch{}const r={address:this.address,topics:t.topics};return this._normalizeRunningEvent(new Hy(bG(r),r))}return this._normalizeRunningEvent(new bR(this.address,this.interface))}_checkRunningEvents(t){if(t.listenerCount()===0){delete this._runningEvents[t.tag];const r=this._wrappedEmits[t.tag];r&&t.filter&&(this.provider.off(t.filter,r),delete this._wrappedEmits[t.tag])}}_wrapEvent(t,r,n){const i=du(r);return i.removeListener=()=>{n&&(t.removeListener(n),this._checkRunningEvents(t))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),t.prepareEvent(i),i}_addEventListener(t,r,n){if(this.provider||Pn.throwError("events require a provider or a signer with a provider",xe.errors.UNSUPPORTED_OPERATION,{operation:"once"}),t.addListener(r,n),this._runningEvents[t.tag]=t,!this._wrappedEmits[t.tag]){const i=o=>{let l=this._wrapEvent(t,o,r);if(l.decodeError==null)try{const c=t.getEmit(l);this.emit(t.filter,...c)}catch(c){l.decodeError=c.error}t.filter!=null&&this.emit("event",l),l.decodeError!=null&&this.emit("error",l.decodeError,l)};this._wrappedEmits[t.tag]=i,t.filter!=null&&this.provider.on(t.filter,i)}}queryFilter(t,r,n){const i=this._getRunningEvent(t),o=si(i.filter);return typeof r=="string"&&br(r,32)?(n!=null&&Pn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),o.blockHash=r):(o.fromBlock=r??0,o.toBlock=n??"latest"),this.provider.getLogs(o).then(l=>l.map(c=>this._wrapEvent(i,c,null)))}on(t,r){return this._addEventListener(this._getRunningEvent(t),r,!1),this}once(t,r){return this._addEventListener(this._getRunningEvent(t),r,!0),this}emit(t,...r){if(!this.provider)return!1;const n=this._getRunningEvent(t),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(t){return this.provider?t==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(t).listenerCount():0}listeners(t){if(!this.provider)return[];if(t==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(t).listeners()}removeAllListeners(t){if(!this.provider)return this;if(t==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(t);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(t,r){if(!this.provider)return this;const n=this._getRunningEvent(t);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(t,r){return this.off(t,r)}}class ile extends nle{}class xG{constructor(t){Xe(this,"alphabet",t),Xe(this,"base",t.length),Xe(this,"_alphabetMap",{}),Xe(this,"_leader",t.charAt(0));for(let r=0;r<t.length;r++)this._alphabetMap[t.charAt(r)]=r}encode(t){let r=Dt(t);if(r.length===0)return"";let n=[0];for(let o=0;o<r.length;++o){let l=r[o];for(let c=0;c<n.length;++c)l+=n[c]<<8,n[c]=l%this.base,l=l/this.base|0;for(;l>0;)n.push(l%this.base),l=l/this.base|0}let i="";for(let o=0;r[o]===0&&o<r.length-1;++o)i+=this._leader;for(let o=n.length-1;o>=0;--o)i+=this.alphabet[n[o]];return i}decode(t){if(typeof t!="string")throw new TypeError("Expected String");let r=[];if(t.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<t.length;n++){let i=this._alphabetMap[t[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let o=i;for(let l=0;l<r.length;++l)o+=r[l]*this.base,r[l]=o&255,o>>=8;for(;o>0;)r.push(o&255),o>>=8}for(let n=0;t[n]===this._leader&&n<t.length-1;++n)r.push(0);return Dt(new Uint8Array(r.reverse()))}}new xG("abcdefghijklmnopqrstuvwxyz234567");const d4=new xG("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function xR(e){return"0x"+Al.sha256().update(Dt(e)).digest("hex")}const ole="networks/5.7.1",wR=new xe(ole);function ale(e){return e&&typeof e.renetwork=="function"}function zc(e){const t=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(e,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(e,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(e,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const o=["goerli","ropsten","rinkeby","sepolia"];try{const l=new r.PocketProvider(e,n.pocket);l.network&&o.indexOf(l.network.name)===-1&&i.push(l)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(e))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const o=["ropsten"],l=new r.AnkrProvider(e,n.ankr);l.network&&o.indexOf(l.network.name)===-1&&i.push(l)}catch{}if(i.length===0)return null;if(r.FallbackProvider){let o=1;return n.quorum!=null?o=n.quorum:e==="homestead"&&(o=2),new r.FallbackProvider(i,o)}return i[0]};return t.renetwork=function(r){return zc(r)},t}function O_(e,t){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(e,t):null};return r.renetwork=function(n){return O_(e,n)},r}const _R={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:zc("homestead")},SR={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:zc("ropsten")},ER={chainId:63,name:"classicMordor",_defaultProvider:O_("https://www.ethercluster.com/mordor","classicMordor")},Mb={unspecified:{chainId:0,name:"unspecified"},homestead:_R,mainnet:_R,morden:{chainId:2,name:"morden"},ropsten:SR,testnet:SR,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:zc("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:zc("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:zc("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:zc("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:O_("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:ER,classicTestnet:ER,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:O_("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:zc("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:zc("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function sle(e){if(e==null)return null;if(typeof e=="number"){for(const n in Mb){const i=Mb[n];if(i.chainId===e)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:e,name:"unknown"}}if(typeof e=="string"){const n=Mb[e];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const t=Mb[e.name];if(!t)return typeof e.chainId!="number"&&wR.throwArgumentError("invalid network chainId","network",e),e;e.chainId!==0&&e.chainId!==t.chainId&&wR.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;return r==null&&t._defaultProvider&&(ale(t._defaultProvider)?r=t._defaultProvider.renetwork(e):r=t._defaultProvider),{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}const lle="web/5.7.1";var cle=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function c(u){try{s(n.next(u))}catch(d){l(d)}}function a(u){try{s(n.throw(u))}catch(d){l(d)}}function s(u){u.done?o(u.value):i(u.value).then(c,a)}s((n=n.apply(e,t||[])).next())})};function ule(e,t){return cle(this,void 0,void 0,function*(){t==null&&(t={});const r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(t.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),t.fetchOptions!=null){const l=t.fetchOptions;l.mode&&(r.mode=l.mode),l.cache&&(r.cache=l.cache),l.credentials&&(r.credentials=l.credentials),l.redirect&&(r.redirect=l.redirect),l.referrer&&(r.referrer=l.referrer)}const n=yield fetch(e,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach((l,c)=>{o[c.toLowerCase()]=l}):n.headers.keys().forEach(l=>{o[l.toLowerCase()]=n.headers.get(l)}),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:Dt(new Uint8Array(i))}})}var dle=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function c(u){try{s(n.next(u))}catch(d){l(d)}}function a(u){try{s(n.throw(u))}catch(d){l(d)}}function s(u){u.done?o(u.value):i(u.value).then(c,a)}s((n=n.apply(e,t||[])).next())})};const Ls=new xe(lle);function AR(e){return new Promise(t=>{setTimeout(t,e)})}function Pu(e,t){if(e==null)return null;if(typeof e=="string")return e;if(sD(e)){if(t&&(t.split("/")[0]==="text"||t.split(";")[0].trim()==="application/json"))try{return C1(e)}catch{}return xt(e)}return e}function hle(e){return Jl(e.replace(/%([0-9a-f][0-9a-f])/gi,(t,r)=>String.fromCharCode(parseInt(r,16))))}function fle(e,t,r){const n=typeof e=="object"&&e.throttleLimit!=null?e.throttleLimit:12;Ls.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof e=="object"?e.throttleCallback:null,o=typeof e=="object"&&typeof e.throttleSlotInterval=="number"?e.throttleSlotInterval:100;Ls.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const l=typeof e=="object"?!!e.errorPassThrough:!1,c={};let a=null;const s={method:"GET"};let u=!1,d=2*60*1e3;if(typeof e=="string")a=e;else if(typeof e=="object"){if((e==null||e.url==null)&&Ls.throwArgumentError("missing URL","connection.url",e),a=e.url,typeof e.timeout=="number"&&e.timeout>0&&(d=e.timeout),e.headers)for(const v in e.headers)c[v.toLowerCase()]={key:v,value:String(e.headers[v])},["if-none-match","if-modified-since"].indexOf(v.toLowerCase())>=0&&(u=!0);if(s.allowGzip=!!e.allowGzip,e.user!=null&&e.password!=null){a.substring(0,6)!=="https:"&&e.allowInsecureAuthentication!==!0&&Ls.throwError("basic authentication requires a secure https url",xe.errors.INVALID_ARGUMENT,{argument:"url",url:a,user:e.user,password:"[REDACTED]"});const v=e.user+":"+e.password;c.authorization={key:"Authorization",value:"Basic "+LW(Jl(v))}}e.skipFetchSetup!=null&&(s.skipFetchSetup=!!e.skipFetchSetup),e.fetchOptions!=null&&(s.fetchOptions=si(e.fetchOptions))}const h=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),f=a?a.match(h):null;if(f)try{const v={statusCode:200,statusMessage:"OK",headers:{"content-type":f[1]||"text/plain"},body:f[2]?RW(f[3]):hle(f[3])};let x=v.body;return r&&(x=r(v.body,v)),Promise.resolve(x)}catch(v){Ls.throwError("processing response error",xe.errors.SERVER_ERROR,{body:Pu(f[1],f[2]),error:v,requestBody:null,requestMethod:"GET",url:a})}t&&(s.method="POST",s.body=t,c["content-type"]==null&&(c["content-type"]={key:"Content-Type",value:"application/octet-stream"}),c["content-length"]==null&&(c["content-length"]={key:"Content-Length",value:String(t.length)}));const m={};Object.keys(c).forEach(v=>{const x=c[v];m[x.key]=x.value}),s.headers=m;const p=function(){let v=null;return{promise:new Promise(function(b,w){d&&(v=setTimeout(()=>{v!=null&&(v=null,w(Ls.makeError("timeout",xe.errors.TIMEOUT,{requestBody:Pu(s.body,m["content-type"]),requestMethod:s.method,timeout:d,url:a})))},d))}),cancel:function(){v!=null&&(clearTimeout(v),v=null)}}}(),g=function(){return dle(this,void 0,void 0,function*(){for(let v=0;v<n;v++){let x=null;try{if(x=yield ule(a,s),v<n){if(x.statusCode===301||x.statusCode===302){const b=x.headers.location||"";if(s.method==="GET"&&b.match(/^https:/)){a=x.headers.location;continue}}else if(x.statusCode===429){let b=!0;if(i&&(b=yield i(v,a)),b){let w=0;const _=x.headers["retry-after"];typeof _=="string"&&_.match(/^[1-9][0-9]*$/)?w=parseInt(_)*1e3:w=o*parseInt(String(Math.random()*Math.pow(2,v))),yield AR(w);continue}}}}catch(b){x=b.response,x==null&&(p.cancel(),Ls.throwError("missing response",xe.errors.SERVER_ERROR,{requestBody:Pu(s.body,m["content-type"]),requestMethod:s.method,serverError:b,url:a}))}let y=x.body;if(u&&x.statusCode===304?y=null:!l&&(x.statusCode<200||x.statusCode>=300)&&(p.cancel(),Ls.throwError("bad response",xe.errors.SERVER_ERROR,{status:x.statusCode,headers:x.headers,body:Pu(y,x.headers?x.headers["content-type"]:null),requestBody:Pu(s.body,m["content-type"]),requestMethod:s.method,url:a})),r)try{const b=yield r(y,x);return p.cancel(),b}catch(b){if(b.throttleRetry&&v<n){let w=!0;if(i&&(w=yield i(v,a)),w){const _=o*parseInt(String(Math.random()*Math.pow(2,v)));yield AR(_);continue}}p.cancel(),Ls.throwError("processing response error",xe.errors.SERVER_ERROR,{body:Pu(y,x.headers?x.headers["content-type"]:null),error:b,requestBody:Pu(s.body,m["content-type"]),requestMethod:s.method,url:a})}return p.cancel(),y}return Ls.throwError("failed response",xe.errors.SERVER_ERROR,{requestBody:Pu(s.body,m["content-type"]),requestMethod:s.method,url:a})})}();return Promise.race([p.promise,g])}function vD(e,t,r){let n=(o,l)=>{let c=null;if(o!=null)try{c=JSON.parse(C1(o))}catch(a){Ls.throwError("invalid JSON",xe.errors.SERVER_ERROR,{body:o,error:a})}return r&&(c=r(c,l)),c},i=null;if(t!=null){i=Jl(t);const o=typeof e=="string"?{url:e}:si(e);o.headers?Object.keys(o.headers).filter(c=>c.toLowerCase()==="content-type").length!==0||(o.headers=si(o.headers),o.headers["content-type"]="application/json"):o.headers={"content-type":"application/json"},e=o}return fle(e,i,n)}function Sv(e,t){return t||(t={}),t=si(t),t.floor==null&&(t.floor=0),t.ceiling==null&&(t.ceiling=1e4),t.interval==null&&(t.interval=250),new Promise(function(r,n){let i=null,o=!1;const l=()=>o?!1:(o=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout(()=>{l()&&n(new Error("timeout"))},t.timeout));const c=t.retryLimit;let a=0;function s(){return e().then(function(u){if(u!==void 0)l()&&r(u);else if(t.oncePoll)t.oncePoll.once("poll",s);else if(t.onceBlock)t.onceBlock.once("block",s);else if(!o){if(a++,a>c){l()&&n(new Error("retry limit reached"));return}let d=t.interval*parseInt(String(Math.random()*Math.pow(2,a)));d<t.floor&&(d=t.floor),d>t.ceiling&&(d=t.ceiling),setTimeout(s,d)}return null},function(u){l()&&n(u)})}s()})}var R_="qpzry9x8gf2tvdw0s3jn54khce6mua7l",h4={};for(var Tb=0;Tb<R_.length;Tb++){var Q3=R_.charAt(Tb);if(h4[Q3]!==void 0)throw new TypeError(Q3+" is ambiguous");h4[Q3]=Tb}function Tm(e){var t=e>>25;return(e&33554431)<<5^-(t>>0&1)&996825010^-(t>>1&1)&642813549^-(t>>2&1)&513874426^-(t>>3&1)&1027748829^-(t>>4&1)&705979059}function wG(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=Tm(t)^n>>5}for(t=Tm(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=Tm(t)^i&31}return t}function ple(e,t,r){if(r=r||90,e.length+7+t.length>r)throw new TypeError("Exceeds length limit");e=e.toLowerCase();var n=wG(e);if(typeof n=="string")throw new Error(n);for(var i=e+"1",o=0;o<t.length;++o){var l=t[o];if(l>>5)throw new Error("Non 5-bit word");n=Tm(n)^l,i+=R_.charAt(l)}for(o=0;o<6;++o)n=Tm(n);for(n^=1,o=0;o<6;++o){var c=n>>(5-o)*5&31;i+=R_.charAt(c)}return i}function _G(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;e=r;var i=e.lastIndexOf("1");if(i===-1)return"No separator character for "+e;if(i===0)return"Missing prefix for "+e;var o=e.slice(0,i),l=e.slice(i+1);if(l.length<6)return"Data too short";var c=wG(o);if(typeof c=="string")return c;for(var a=[],s=0;s<l.length;++s){var u=l.charAt(s),d=h4[u];if(d===void 0)return"Unknown character "+u;c=Tm(c)^d,!(s+6>=l.length)&&a.push(d)}return c!==1?"Invalid checksum for "+e:{prefix:o,words:a}}function mle(){var e=_G.apply(null,arguments);if(typeof e=="object")return e}function gle(e){var t=_G.apply(null,arguments);if(typeof t=="object")return t;throw new Error(t)}function DS(e,t,r,n){for(var i=0,o=0,l=(1<<r)-1,c=[],a=0;a<e.length;++a)for(i=i<<t|e[a],o+=t;o>=r;)o-=r,c.push(i>>o&l);if(n)o>0&&c.push(i<<r-o&l);else{if(o>=t)return"Excess padding";if(i<<r-o&l)return"Non-zero padding"}return c}function vle(e){var t=DS(e,8,5,!0);if(Array.isArray(t))return t}function yle(e){var t=DS(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)}function ble(e){var t=DS(e,5,8,!1);if(Array.isArray(t))return t}function xle(e){var t=DS(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}var wle={decodeUnsafe:mle,decode:gle,encode:ple,toWordsUnsafe:vle,toWords:yle,fromWordsUnsafe:ble,fromWords:xle};const CR=il(wle),jS="providers/5.7.2",T0=new xe(jS);class ft{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),o=this.data.bind(this),l=this.hash.bind(this),c=this.hex.bind(this),a=this.number.bind(this),s=this.type.bind(this),u=d=>this.data(d,!0);return t.transaction={hash:l,type:s,accessList:ft.allowNull(this.accessList.bind(this),null),blockHash:ft.allowNull(l,null),blockNumber:ft.allowNull(a,null),transactionIndex:ft.allowNull(a,null),confirmations:ft.allowNull(a,null),from:r,gasPrice:ft.allowNull(n),maxPriorityFeePerGas:ft.allowNull(n),maxFeePerGas:ft.allowNull(n),gasLimit:n,to:ft.allowNull(r,null),value:n,nonce:a,data:o,r:ft.allowNull(this.uint256),s:ft.allowNull(this.uint256),v:ft.allowNull(a),creates:ft.allowNull(r,null),raw:ft.allowNull(o)},t.transactionRequest={from:ft.allowNull(r),nonce:ft.allowNull(a),gasLimit:ft.allowNull(n),gasPrice:ft.allowNull(n),maxPriorityFeePerGas:ft.allowNull(n),maxFeePerGas:ft.allowNull(n),to:ft.allowNull(r),value:ft.allowNull(n),data:ft.allowNull(u),type:ft.allowNull(a),accessList:ft.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:l,address:r,topics:ft.arrayOf(l),data:o,logIndex:a,blockHash:l},t.receipt={to:ft.allowNull(this.address,null),from:ft.allowNull(this.address,null),contractAddress:ft.allowNull(r,null),transactionIndex:a,root:ft.allowNull(c),gasUsed:n,logsBloom:ft.allowNull(o),blockHash:l,transactionHash:l,logs:ft.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:ft.allowNull(a,null),cumulativeGasUsed:n,effectiveGasPrice:ft.allowNull(n),status:ft.allowNull(a),type:s},t.block={hash:ft.allowNull(l),parentHash:l,number:a,timestamp:a,nonce:ft.allowNull(c),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:ft.allowNull(r),extraData:o,transactions:ft.allowNull(ft.arrayOf(l)),baseFeePerGas:ft.allowNull(n)},t.blockWithTransactions=si(t.block),t.blockWithTransactions.transactions=ft.allowNull(ft.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:ft.allowNull(i,void 0),toBlock:ft.allowNull(i,void 0),blockHash:ft.allowNull(l,void 0),address:ft.allowNull(r,void 0),topics:ft.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:ft.allowNull(a),blockHash:ft.allowNull(l),transactionIndex:a,removed:ft.allowNull(this.boolean.bind(this)),address:r,data:ft.allowFalsish(o,"0x"),topics:ft.arrayOf(l),transactionHash:l,logIndex:a},t}accessList(t){return Ug(t||[])}number(t){return t==="0x"?0:rt.from(t).toNumber()}type(t){return t==="0x"||t==null?0:rt.from(t).toNumber()}bigNumber(t){return rt.from(t)}boolean(t){if(typeof t=="boolean")return t;if(typeof t=="string"){if(t=t.toLowerCase(),t==="true")return!0;if(t==="false")return!1}throw new Error("invalid boolean - "+t)}hex(t,r){return typeof t=="string"&&(!r&&t.substring(0,2)!=="0x"&&(t="0x"+t),br(t))?t.toLowerCase():T0.throwArgumentError("invalid hash","value",t)}data(t,r){const n=this.hex(t,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+t);return n}address(t){return Ii(t)}callAddress(t){if(!br(t,32))return null;const r=Ii(Ui(t,12));return r===Jie?null:r}contractAddress(t){return CW(t)}blockTag(t){if(t==null)return"latest";if(t==="earliest")return"0x0";switch(t){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return t}if(typeof t=="number"||br(t))return lD(t);throw new Error("invalid blockTag")}hash(t,r){const n=this.hex(t,r);return hf(n)!==32?T0.throwArgumentError("invalid hash","value",t):n}difficulty(t){if(t==null)return null;const r=rt.from(t);try{return r.toNumber()}catch{}return null}uint256(t){if(!br(t))throw new Error("invalid uint256");return Sn(t,32)}_block(t,r){t.author!=null&&t.miner==null&&(t.miner=t.author);const n=t._difficulty!=null?t._difficulty:t.difficulty,i=ft.check(r,t);return i._difficulty=n==null?null:rt.from(n),i}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return ft.check(this.formats.transactionRequest,t)}transactionResponse(t){t.gas!=null&&t.gasLimit==null&&(t.gasLimit=t.gas),t.to&&rt.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),t.input!=null&&t.data==null&&(t.data=t.input),t.to==null&&t.creates==null&&(t.creates=this.contractAddress(t)),(t.type===1||t.type===2)&&t.accessList==null&&(t.accessList=[]);const r=ft.check(this.formats.transaction,t);if(t.chainId!=null){let n=t.chainId;br(n)&&(n=rt.from(n).toNumber()),r.chainId=n}else{let n=t.networkId;n==null&&r.v==null&&(n=t.chainId),br(n)&&(n=rt.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(t){return Kse(t)}receiptLog(t){return ft.check(this.formats.receiptLog,t)}receipt(t){const r=ft.check(this.formats.receipt,t);if(r.root!=null)if(r.root.length<=4){const n=rt.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&T0.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):T0.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&T0.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(t){return Array.isArray(t)?t.map(r=>this.topics(r)):t!=null?this.hash(t,!0):null}filter(t){return ft.check(this.formats.filter,t)}filterLog(t){return ft.check(this.formats.filterLog,t)}static check(t,r){const n={};for(const i in t)try{const o=t[i](r[i]);o!==void 0&&(n[i]=o)}catch(o){throw o.checkKey=i,o.checkValue=r[i],o}return n}static allowNull(t,r){return function(n){return n==null?r:t(n)}}static allowFalsish(t,r){return function(n){return n?t(n):r}}static arrayOf(t){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(t(i))}),n}}}var Ht=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function c(u){try{s(n.next(u))}catch(d){l(d)}}function a(u){try{s(n.throw(u))}catch(d){l(d)}}function s(u){u.done?o(u.value):i(u.value).then(c,a)}s((n=n.apply(e,t||[])).next())})};const Zt=new xe(jS),_le=10;function MR(e){return e==null?"null":(hf(e)!==32&&Zt.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function TR(e){for(e=e.slice();e.length>0&&e[e.length-1]==null;)e.pop();return e.map(t=>{if(Array.isArray(t)){const r={};t.forEach(i=>{r[MR(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return MR(t)}).join("&")}function Sle(e){return e===""?[]:e.split(/&/g).map(t=>{if(t==="")return[];const r=t.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function Gf(e){if(typeof e=="string"){if(e=e.toLowerCase(),hf(e)===32)return"tx:"+e;if(e.indexOf(":")===-1)return e}else{if(Array.isArray(e))return"filter:*:"+TR(e);if(Zoe.isForkEvent(e))throw Zt.warn("not implemented"),new Error("not implemented");if(e&&typeof e=="object")return"filter:"+(e.address||"*")+":"+TR(e.topics||[])}throw new Error("invalid event - "+e)}function P0(){return new Date().getTime()}function PR(e){return new Promise(t=>{setTimeout(t,e)})}const Ele=["block","network","pending","poll"];let Ale=class{constructor(t,r,n){Xe(this,"tag",t),Xe(this,"listener",r),Xe(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return t[0]!=="tx"?null:t[1]}get filter(){const t=this.tag.split(":");if(t[0]!=="filter")return null;const r=t[1],n=Sle(t[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||Ele.indexOf(this.tag)>=0}};const Cle={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function J3(e){return Sn(rt.from(e).toHexString(),32)}function kR(e){return d4.encode(va([e,Ui(xR(xR(e)),0,4)]))}const SG=new RegExp("^(ipfs)://(.*)$","i"),DR=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),SG,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Cw(e,t){try{return C1(Wy(e,t))}catch{}return null}function Wy(e,t){if(e==="0x")return null;const r=rt.from(Ui(e,t,t+32)).toNumber(),n=rt.from(Ui(e,r,r+32)).toNumber();return Ui(e,r+32,r+32+n)}function Z3(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):Zt.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function jR(e){const t=Dt(e);if(t.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(t,32-t.length),r}function Mle(e){if(e.length%32===0)return e;const t=new Uint8Array(Math.ceil(e.length/32)*32);return t.set(e),t}function EG(e){const t=[];let r=0;for(let n=0;n<e.length;n++)t.push(null),r+=32;for(let n=0;n<e.length;n++){const i=Dt(e[n]);t[n]=jR(r),t.push(jR(i.length)),t.push(Mle(i)),r+=32+Math.ceil(i.length/32)*32}return Ro(t)}class IR{constructor(t,r,n,i){Xe(this,"provider",t),Xe(this,"name",n),Xe(this,"address",t.formatter.address(r)),Xe(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(t=>rt.from(t).eq(1)).catch(t=>{if(t.code===xe.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,t})),this._supportsEip2544}_fetch(t,r){return Ht(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Ro([t,_w(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Ro(["0x9061b923",EG([Noe(this.name),n.data])]));try{let o=yield this.provider.call(n);return Dt(o).length%32===4&&Zt.throwError("resolver threw error",xe.errors.CALL_EXCEPTION,{transaction:n,data:o}),i&&(o=Wy(o,0)),o}catch(o){if(o.code===xe.errors.CALL_EXCEPTION)return null;throw o}})}_fetchBytes(t,r){return Ht(this,void 0,void 0,function*(){const n=yield this._fetch(t,r);return n!=null?Wy(n,0):null})}_getAddress(t,r){const n=Cle[String(t)];if(n==null&&Zt.throwError(`unsupported coin type: ${t}`,xe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=Dt(r);if(n.p2pkh!=null){const o=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(o){const l=parseInt(o[1],16);if(o[2].length===l*2&&l>=1&&l<=75)return kR(va([[n.p2pkh],"0x"+o[2]]))}}if(n.p2sh!=null){const o=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){const l=parseInt(o[1],16);if(o[2].length===l*2&&l>=1&&l<=75)return kR(va([[n.p2sh],"0x"+o[2]]))}}if(n.prefix!=null){const o=i[1];let l=i[0];if(l===0?o!==20&&o!==32&&(l=-1):l=-1,l>=0&&i.length===2+o&&o>=1&&o<=75){const c=CR.toWords(i.slice(2));return c.unshift(l),CR.encode(n.prefix,c)}}return null}getAddress(t){return Ht(this,void 0,void 0,function*(){if(t==null&&(t=60),t===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===roe?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===xe.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",J3(t));if(r==null||r==="0x")return null;const n=this._getAddress(t,r);return n==null&&Zt.throwError("invalid or unsupported coin data",xe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:r}),n})}getAvatar(){return Ht(this,void 0,void 0,function*(){const t=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<DR.length;n++){const i=r.match(DR[n]);if(i==null)continue;const o=i[1].toLowerCase();switch(o){case"https":return t.push({type:"url",content:r}),{linkage:t,url:r};case"data":return t.push({type:"data",content:r}),{linkage:t,url:r};case"ipfs":return t.push({type:"ipfs",content:r}),{linkage:t,url:Z3(r)};case"erc721":case"erc1155":{const l=o==="erc721"?"0xc87b56dd":"0x0e89341c";t.push({type:o,content:r});const c=this._resolvedAddress||(yield this.getAddress()),a=(i[2]||"").split("/");if(a.length!==2)return null;const s=yield this.provider.formatter.address(a[0]),u=Sn(rt.from(a[1]).toHexString(),32);if(o==="erc721"){const p=this.provider.formatter.callAddress(yield this.provider.call({to:s,data:Ro(["0x6352211e",u])}));if(c!==p)return null;t.push({type:"owner",content:p})}else if(o==="erc1155"){const p=rt.from(yield this.provider.call({to:s,data:Ro(["0x00fdd58e",Sn(c,32),u])}));if(p.isZero())return null;t.push({type:"balance",content:p.toString()})}const d={to:this.provider.formatter.address(a[0]),data:Ro([l,u])};let h=Cw(yield this.provider.call(d),0);if(h==null)return null;t.push({type:"metadata-url-base",content:h}),o==="erc1155"&&(h=h.replace("{id}",u.substring(2)),t.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=Z3(h)),t.push({type:"metadata-url",content:h});const f=yield vD(h);if(!f)return null;t.push({type:"metadata",content:JSON.stringify(f)});let m=f.image;if(typeof m!="string")return null;if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(SG)==null)return null;t.push({type:"url-ipfs",content:m}),m=Z3(m)}return t.push({type:"url",content:m}),{linkage:t,url:m}}}}}catch{}return null})}getContentHash(){return Ht(this,void 0,void 0,function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(t==null||t==="0x")return null;const r=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const l=parseInt(r[3],16);if(r[4].length===l*2)return"ipfs://"+d4.encode("0x"+r[1])}const n=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const l=parseInt(n[3],16);if(n[4].length===l*2)return"ipns://"+d4.encode("0x"+n[1])}const i=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const o=t.match(/^0x90b2c605([0-9a-f]*)$/);if(o&&o[1].length===34*2){const l={"=":"","+":"-","/":"_"};return"sia://"+LW("0x"+o[1]).replace(/[=+\/]/g,a=>l[a])}return Zt.throwError("invalid or unsupported content hash data",xe.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})})}getText(t){return Ht(this,void 0,void 0,function*(){let r=Jl(t);r=va([J3(64),J3(r.length),r]),r.length%32!==0&&(r=va([r,Sn("0x",32-t.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",xt(r));return n==null||n==="0x"?null:C1(n)})}}let eA=null,Tle=1;class Ple extends CS{constructor(t){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Xe(this,"anyNetwork",t==="any"),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch(r=>{}),this._ready().catch(r=>{});else{const r=Ul(new.target,"getNetwork")(t);r?(Xe(this,"_network",r),this.emit("network",r,null)):Zt.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Ht(this,void 0,void 0,function*(){if(this._network==null){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch{}t==null&&(t=yield this.detectNetwork()),t||Zt.throwError("no network detected",xe.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=t:Xe(this,"_network",t),this.emit("network",t,null))}return this._network})}get ready(){return Sv(()=>this._ready().then(t=>t,t=>{if(!(t.code===xe.errors.NETWORK_ERROR&&t.event==="noNetwork"))throw t}))}static getFormatter(){return eA==null&&(eA=new ft),eA}static getNetwork(t){return sle(t??"homestead")}ccipReadFetch(t,r,n){return Ht(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=t.to.toLowerCase(),o=r.toLowerCase(),l=[];for(let c=0;c<n.length;c++){const a=n[c],s=a.replace("{sender}",i).replace("{data}",o),u=a.indexOf("{data}")>=0?null:JSON.stringify({data:o,sender:i}),d=yield vD({url:s,errorPassThrough:!0},u,(f,m)=>(f.status=m.statusCode,f));if(d.data)return d.data;const h=d.message||"unknown error";if(d.status>=400&&d.status<500)return Zt.throwError(`response not found during CCIP fetch: ${h}`,xe.errors.SERVER_ERROR,{url:a,errorMessage:h});l.push(h)}return Zt.throwError(`error encountered during CCIP fetch: ${l.map(c=>JSON.stringify(c)).join(", ")}`,xe.errors.SERVER_ERROR,{urls:n,errorMessages:l})})}_getInternalBlockNumber(t){return Ht(this,void 0,void 0,function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const o=yield i;if(P0()-o.respTime<=t)return o.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=P0(),n=Gn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:o})=>{if(o)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),o;const l=P0();return i=rt.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:l}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return Ht(this,void 0,void 0,function*(){const t=Tle++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",t,n),n===this._lastBlockNumber){this.emit("didPoll",t);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Zt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Zt.makeError("network block skew detected",xe.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const o=this._emitted[i];o!=="pending"&&n-o>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const o=i.hash;let l=this.getTransactionReceipt(o).then(c=>(!c||c.blockNumber==null||(this._emitted["t:"+o]=c.blockNumber,this.emit(o,c)),null)).catch(c=>{this.emit("error",c)});r.push(l);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const o=i.filter;o.fromBlock=i._lastBlockNumber+1,o.toBlock=n;const l=o.toBlock-this._maxFilterBlockRange;l>o.fromBlock&&(o.fromBlock=l),o.fromBlock<0&&(o.fromBlock=0);const c=this.getLogs(o).then(a=>{i._inflight=!1,a.length!==0&&a.forEach(s=>{s.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=s.blockNumber),this._emitted["b:"+s.blockHash]=s.blockNumber,this._emitted["t:"+s.transactionHash]=s.blockNumber,this.emit(o,s)})}).catch(a=>{this.emit("error",a),i._inflight=!1});r.push(c)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",t)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Ht(this,void 0,void 0,function*(){return Zt.throwError("provider does not support network detection",xe.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Ht(this,void 0,void 0,function*(){const t=yield this._ready(),r=yield this.detectNetwork();if(t.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,t),yield PR(0),this._network;const n=Zt.makeError("underlying network changed",xe.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:r});throw this.emit("error",n),n}return t})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(t=>{this._setFastBlockNumber(t)},t=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(t){t&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if(typeof t!="number"||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const t=P0();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(t){this._fastBlockNumber!=null&&t<this._fastBlockNumber||(this._fastQueryDate=P0(),(this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,r,n){return Ht(this,void 0,void 0,function*(){return this._waitForTransaction(t,r??1,n||0,null)})}_waitForTransaction(t,r,n,i){return Ht(this,void 0,void 0,function*(){const o=yield this.getTransactionReceipt(t);return(o?o.confirmations:0)>=r?o:new Promise((l,c)=>{const a=[];let s=!1;const u=function(){return s?!0:(s=!0,a.forEach(h=>{h()}),!1)},d=h=>{h.confirmations<r||u()||l(h)};if(this.on(t,d),a.push(()=>{this.removeListener(t,d)}),i){let h=i.startBlock,f=null;const m=p=>Ht(this,void 0,void 0,function*(){s||(yield PR(1e3),this.getTransactionCount(i.from).then(g=>Ht(this,void 0,void 0,function*(){if(!s){if(g<=i.nonce)h=p;else{{const v=yield this.getTransaction(t);if(v&&v.blockNumber!=null)return}for(f==null&&(f=h-3,f<i.startBlock&&(f=i.startBlock));f<=p;){if(s)return;const v=yield this.getBlockWithTransactions(f);for(let x=0;x<v.transactions.length;x++){const y=v.transactions[x];if(y.hash===t)return;if(y.from===i.from&&y.nonce===i.nonce){if(s)return;const b=yield this.waitForTransaction(y.hash,r);if(u())return;let w="replaced";y.data===i.data&&y.to===i.to&&y.value.eq(i.value)?w="repriced":y.data==="0x"&&y.from===y.to&&y.value.isZero()&&(w="cancelled"),c(Zt.makeError("transaction was replaced",xe.errors.TRANSACTION_REPLACED,{cancelled:w==="replaced"||w==="cancelled",reason:w,replacement:this._wrapTransaction(y),hash:t,receipt:b}));return}}f++}}s||this.once("block",m)}}),g=>{s||this.once("block",m)}))});if(s)return;this.once("block",m),a.push(()=>{this.removeListener("block",m)})}if(typeof n=="number"&&n>0){const h=setTimeout(()=>{u()||c(Zt.makeError("timeout exceeded",xe.errors.TIMEOUT,{timeout:n}))},n);h.unref&&h.unref(),a.push(()=>{clearTimeout(h)})}})})}getBlockNumber(){return Ht(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Ht(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return rt.from(t)}catch(r){return Zt.throwError("bad result from backend",xe.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:r})}})}getBalance(t,r){return Ht(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Gn({address:this._getAddress(t),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return rt.from(i)}catch(o){return Zt.throwError("bad result from backend",xe.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:o})}})}getTransactionCount(t,r){return Ht(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Gn({address:this._getAddress(t),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return rt.from(i).toNumber()}catch(o){return Zt.throwError("bad result from backend",xe.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:o})}})}getCode(t,r){return Ht(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Gn({address:this._getAddress(t),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return xt(i)}catch(o){return Zt.throwError("bad result from backend",xe.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:o})}})}getStorageAt(t,r,n){return Ht(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Gn({address:this._getAddress(t),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(l=>lD(l))}),o=yield this.perform("getStorageAt",i);try{return xt(o)}catch(l){return Zt.throwError("bad result from backend",xe.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:o,error:l})}})}_wrapTransaction(t,r,n){if(r!=null&&hf(r)!==32)throw new Error("invalid response - sendTransaction");const i=t;return r!=null&&t.hash!==r&&Zt.throwError("Transaction hash mismatch from Provider.sendTransaction.",xe.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:r}),i.wait=(o,l)=>Ht(this,void 0,void 0,function*(){o==null&&(o=1),l==null&&(l=0);let c;o!==0&&n!=null&&(c={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:n});const a=yield this._waitForTransaction(t.hash,o,l,c);return a==null&&o===0?null:(this._emitted["t:"+t.hash]=a.blockNumber,a.status===0&&Zt.throwError("transaction failed",xe.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:a}),a)}),i}sendTransaction(t){return Ht(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(t).then(o=>xt(o)),n=this.formatter.transaction(t);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const o=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,o,i)}catch(o){throw o.transaction=n,o.transactionHash=n.hash,o}})}_getTransactionRequest(t){return Ht(this,void 0,void 0,function*(){const r=yield t,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?this._getAddress(o):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?rt.from(o):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?xt(o):null))}),this.formatter.transactionRequest(yield Gn(n))})}_getFilter(t){return Ht(this,void 0,void 0,function*(){t=yield t;const r={};return t.address!=null&&(r.address=this._getAddress(t.address)),["blockHash","topics"].forEach(n=>{t[n]!=null&&(r[n]=t[n])}),["fromBlock","toBlock"].forEach(n=>{t[n]!=null&&(r[n]=this._getBlockTag(t[n]))}),this.formatter.filter(yield Gn(r))})}_call(t,r,n){return Ht(this,void 0,void 0,function*(){n>=_le&&Zt.throwError("CCIP read exceeded maximum redirections",xe.errors.SERVER_ERROR,{redirects:n,transaction:t});const i=t.to,o=yield this.perform("call",{transaction:t,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&o.substring(0,10)==="0x556f1830"&&hf(o)%32===4)try{const l=Ui(o,4),c=Ui(l,0,32);rt.from(c).eq(i)||Zt.throwError("CCIP Read sender did not match",xe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:o});const a=[],s=rt.from(Ui(l,32,64)).toNumber(),u=rt.from(Ui(l,s,s+32)).toNumber(),d=Ui(l,s+32);for(let v=0;v<u;v++){const x=Cw(d,v*32);x==null&&Zt.throwError("CCIP Read contained corrupt URL string",xe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:o}),a.push(x)}const h=Wy(l,64);rt.from(Ui(l,100,128)).isZero()||Zt.throwError("CCIP Read callback selector included junk",xe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:o});const f=Ui(l,96,100),m=Wy(l,128),p=yield this.ccipReadFetch(t,h,a);p==null&&Zt.throwError("CCIP Read disabled or provided no URLs",xe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:o});const g={to:i,data:Ro([f,EG([p,m])])};return this._call(g,r,n+1)}catch(l){if(l.code===xe.errors.SERVER_ERROR)throw l}try{return xt(o)}catch(l){return Zt.throwError("bad result from backend",xe.errors.SERVER_ERROR,{method:"call",params:{transaction:t,blockTag:r},result:o,error:l})}})}call(t,r){return Ht(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Gn({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(t.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(t){return Ht(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Gn({transaction:this._getTransactionRequest(t)}),n=yield this.perform("estimateGas",r);try{return rt.from(n)}catch(i){return Zt.throwError("bad result from backend",xe.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(t){return Ht(this,void 0,void 0,function*(){t=yield t,typeof t!="string"&&Zt.throwArgumentError("invalid address or ENS name","name",t);const r=yield this.resolveName(t);return r==null&&Zt.throwError("ENS name not configured",xe.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),r})}_getBlock(t,r){return Ht(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;let n=-128;const i={includeTransactions:!!r};if(br(t,32))i.blockHash=t;else try{i.blockTag=yield this._getBlockTag(t),br(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Zt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return Sv(()=>Ht(this,void 0,void 0,function*(){const o=yield this.perform("getBlock",i);if(o==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let l=null;for(let a=0;a<o.transactions.length;a++){const s=o.transactions[a];if(s.blockNumber==null)s.confirmations=0;else if(s.confirmations==null){l==null&&(l=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=l-s.blockNumber+1;u<=0&&(u=1),s.confirmations=u}}const c=this.formatter.blockWithTransactions(o);return c.transactions=c.transactions.map(a=>this._wrapTransaction(a)),c}return this.formatter.block(o)}),{oncePoll:this})})}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return Ht(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;const r={transactionHash:this.formatter.hash(t,!0)};return Sv(()=>Ht(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+t]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let l=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;l<=0&&(l=1),i.confirmations=l}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(t){return Ht(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;const r={transactionHash:this.formatter.hash(t,!0)};return Sv(()=>Ht(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+t]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let l=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;l<=0&&(l=1),i.confirmations=l}return i}),{oncePoll:this})})}getLogs(t){return Ht(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Gn({filter:this._getFilter(t)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),ft.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return Ht(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(t){return Ht(this,void 0,void 0,function*(){if(t=yield t,typeof t=="number"&&t<0){t%1&&Zt.throwArgumentError("invalid BlockTag","blockTag",t);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=t,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(t)})}getResolver(t){return Ht(this,void 0,void 0,function*(){let r=t;for(;;){if(r===""||r==="."||t!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new IR(this,n,t);return r!==t&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(t,r){return Ht(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||Zt.throwError("network does not support ENS",xe.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+_w(t).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(t){return Ht(this,void 0,void 0,function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(n){if(br(t))throw n}typeof t!="string"&&Zt.throwArgumentError("invalid ENS name","name",t);const r=yield this.getResolver(t);return r?yield r.getAddress():null})}lookupAddress(t){return Ht(this,void 0,void 0,function*(){t=yield t,t=this.formatter.address(t);const r=t.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=Cw(yield this.call({to:n,data:"0x691f3431"+_w(r).substring(2)}),0);return(yield this.resolveName(i))!=t?null:i})}getAvatar(t){return Ht(this,void 0,void 0,function*(){let r=null;if(br(t)){const o=this.formatter.address(t).substring(2).toLowerCase()+".addr.reverse",l=yield this._getResolver(o,"getAvatar");if(!l)return null;r=new IR(this,l,o);try{const c=yield r.getAvatar();if(c)return c.url}catch(c){if(c.code!==xe.errors.CALL_EXCEPTION)throw c}try{const c=Cw(yield this.call({to:l,data:"0x691f3431"+_w(o).substring(2)}),0);r=yield this.getResolver(c)}catch(c){if(c.code!==xe.errors.CALL_EXCEPTION)throw c;return null}}else if(r=yield this.getResolver(t),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(t,r){return Zt.throwError(t+" not implemented",xe.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(t){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(t,r,n){const i=new Ale(Gf(t),r,n);return this._events.push(i),this._startEvent(i),this}on(t,r){return this._addEventListener(t,r,!1)}once(t,r){return this._addEventListener(t,r,!0)}emit(t,...r){let n=!1,i=[],o=Gf(t);return this._events=this._events.filter(l=>l.tag!==o?!0:(setTimeout(()=>{l.listener.apply(this,r)},0),n=!0,l.once?(i.push(l),!1):!0)),i.forEach(l=>{this._stopEvent(l)}),n}listenerCount(t){if(!t)return this._events.length;let r=Gf(t);return this._events.filter(n=>n.tag===r).length}listeners(t){if(t==null)return this._events.map(n=>n.listener);let r=Gf(t);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(t,r){if(r==null)return this.removeAllListeners(t);const n=[];let i=!1,o=Gf(t);return this._events=this._events.filter(l=>l.tag!==o||l.listener!=r||i?!0:(i=!0,n.push(l),!1)),n.forEach(l=>{this._stopEvent(l)}),this}removeAllListeners(t){let r=[];if(t==null)r=this._events,this._events=[];else{const n=Gf(t);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var jc=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function c(u){try{s(n.next(u))}catch(d){l(d)}}function a(u){try{s(n.throw(u))}catch(d){l(d)}}function s(u){u.done?o(u.value):i(u.value).then(c,a)}s((n=n.apply(e,t||[])).next())})};const qn=new xe(jS),kle=["call","estimateGas"];function Xv(e,t){if(e==null)return null;if(typeof e.message=="string"&&e.message.match("reverted")){const r=br(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if(typeof e=="object"){for(const r in e){const n=Xv(e[r],t);if(n)return n}return null}if(typeof e=="string")try{return Xv(JSON.parse(e),t)}catch{}return null}function AG(e,t,r){const n=r.transaction||r.signedTransaction;if(e==="call"){const o=Xv(t,!0);if(o)return o.data;qn.throwError("missing revert data in call exception; Transaction reverted without a reason string",xe.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if(e==="estimateGas"){let o=Xv(t.body,!1);o==null&&(o=Xv(t,!1)),o&&qn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",xe.errors.UNPREDICTABLE_GAS_LIMIT,{reason:o.message,method:e,transaction:n,error:t})}let i=t.message;throw t.code===xe.errors.SERVER_ERROR&&t.error&&typeof t.error.message=="string"?i=t.error.message:typeof t.body=="string"?i=t.body:typeof t.responseText=="string"&&(i=t.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&qn.throwError("insufficient funds for intrinsic transaction cost",xe.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),i.match(/nonce (is )?too low/i)&&qn.throwError("nonce has already been used",xe.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&qn.throwError("replacement fee too low",xe.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),i.match(/only replay-protected/i)&&qn.throwError("legacy pre-eip-155 transactions not supported",xe.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),kle.indexOf(e)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&qn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",xe.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function OR(e){return new Promise(function(t){setTimeout(t,e)})}function Dle(e){if(e.error){const t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function k0(e){return e&&e.toLowerCase()}const f4={};class CG extends M1{constructor(t,r,n){if(super(),t!==f4)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Xe(this,"provider",r),n==null&&(n=0),typeof n=="string"?(Xe(this,"_address",this.provider.formatter.address(n)),Xe(this,"_index",null)):typeof n=="number"?(Xe(this,"_index",n),Xe(this,"_address",null)):qn.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(t){return qn.throwError("cannot alter JSON-RPC Signer connection",xe.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new jle(f4,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(t=>(t.length<=this._index&&qn.throwError("unknown account #"+this._index,xe.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index])))}sendUncheckedTransaction(t){t=si(t);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(t.gasLimit==null){const n=si(t);n.from=r,t.gasLimit=this.provider.estimateGas(n)}return t.to!=null&&(t.to=Promise.resolve(t.to).then(n=>jc(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&qn.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),Gn({tx:Gn(t),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&qn.throwArgumentError("from address mismatch","transaction",t):n.from=i;const o=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[o]).then(l=>l,l=>(typeof l.message=="string"&&l.message.match(/user denied/i)&&qn.throwError("user rejected transaction",xe.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),AG("sendTransaction",l,o)))})}signTransaction(t){return qn.throwError("signing transactions is unsupported",xe.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return jc(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(t);try{return yield Sv(()=>jc(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(t){return jc(this,void 0,void 0,function*(){const r=typeof t=="string"?Jl(t):t,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[xt(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&qn.throwError("user rejected signing",xe.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:t}),i}})}_legacySignMessage(t){return jc(this,void 0,void 0,function*(){const r=typeof t=="string"?Jl(t):t,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),xt(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&qn.throwError("user rejected signing",xe.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:t}),i}})}_signTypedData(t,r,n){return jc(this,void 0,void 0,function*(){const i=yield la.resolveNames(t,r,n,l=>this.provider.resolveName(l)),o=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(la.getPayload(i.domain,r,i.value))])}catch(l){throw typeof l.message=="string"&&l.message.match(/user denied/i)&&qn.throwError("user rejected signing",xe.errors.ACTION_REJECTED,{action:"_signTypedData",from:o,messageData:{domain:i.domain,types:r,value:i.value}}),l}})}unlock(t){return jc(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),t,null])})}}class jle extends CG{sendTransaction(t){return this.sendUncheckedTransaction(t).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const Ile={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Ole extends Ple{constructor(t,r){let n=r;n==null&&(n=new Promise((i,o)=>{setTimeout(()=>{this.detectNetwork().then(l=>{i(l)},l=>{o(l)})},0)})),super(n),t||(t=Ul(this.constructor,"defaultUrl")()),typeof t=="string"?Xe(this,"connection",Object.freeze({url:t})):Xe(this,"connection",Object.freeze(si(t))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return jc(this,void 0,void 0,function*(){yield OR(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch{try{t=yield this.send("net_version",[])}catch{}}if(t!=null){const r=Ul(this.constructor,"getNetwork");try{return r(rt.from(t).toNumber())}catch(n){return qn.throwError("could not detect network",xe.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:n})}}return qn.throwError("could not detect network",xe.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(t){return new CG(f4,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(t=>t.map(r=>this.formatter.address(r)))}send(t,r){const n={method:t,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:du(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(i&&this._cache[t])return this._cache[t];const o=vD(this.connection,JSON.stringify(n),Dle).then(l=>(this.emit("debug",{action:"response",request:n,response:l,provider:this}),l),l=>{throw this.emit("debug",{action:"response",error:l,request:n,provider:this}),l});return i&&(this._cache[t]=o,setTimeout(()=>{this._cache[t]=null},0)),o}prepareRequest(t,r){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[k0(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[k0(r.address),r.blockTag]];case"getCode":return["eth_getCode",[k0(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[k0(r.address),Sn(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Ul(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Ul(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=k0(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(t,r){return jc(this,void 0,void 0,function*(){if(t==="call"||t==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&rt.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const o=yield this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(r=si(r),r.transaction=si(i),delete r.transaction.type)}}const n=this.prepareRequest(t,r);n==null&&qn.throwError(t+" not implemented",xe.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(n[0],n[1])}catch(i){return AG(t,i,r)}})}_startEvent(t){t.tag==="pending"&&this._startPending(),super._startEvent(t)}_startPending(){if(this._pendingFilter!=null)return;const t=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){t.send("eth_getFilterChanges",[n]).then(function(o){if(t._pendingFilter!=r)return null;let l=Promise.resolve();return o.forEach(function(c){t._emitted["t:"+c.toLowerCase()]="pending",l=l.then(function(){return t.getTransaction(c).then(function(a){return t.emit("pending",a),null})})}),l.then(function(){return OR(1e3)})}).then(function(){if(t._pendingFilter!=r){t.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(o=>{})}return i(),n}).catch(n=>{})}_stopEvent(t){t.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,r){const n=si(Ile);if(r)for(const o in r)r[o]&&(n[o]=!0);Pie(t,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(o){if(t[o]==null)return;const l=lD(rt.from(t[o]));o==="gasLimit"&&(o="gas"),i[o]=l}),["from","to","data"].forEach(function(o){t[o]!=null&&(i[o]=xt(t[o]))}),t.accessList&&(i.accessList=Ug(t.accessList)),i}}const RR=new xe(jS);let Rle=1;function LR(e,t){const r="Web3LegacyFetcher";return function(n,i){const o={method:n,params:i,id:Rle++,jsonrpc:"2.0"};return new Promise((l,c)=>{this.emit("debug",{action:"request",fetcher:r,request:du(o),provider:this}),t(o,(a,s)=>{if(a)return this.emit("debug",{action:"response",fetcher:r,error:a,request:o,provider:this}),c(a);if(this.emit("debug",{action:"response",fetcher:r,request:o,response:s,provider:this}),s.error){const u=new Error(s.error.message);return u.code=s.error.code,u.data=s.error.data,c(u)}l(s.result)})})}}function Lle(e){return function(t,r){r==null&&(r=[]);const n={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:du(n),provider:this}),e.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class tA extends Ole{constructor(t,r){t==null&&RR.throwArgumentError("missing provider","provider",t);let n=null,i=null,o=null;typeof t=="function"?(n="unknown:",i=t):(n=t.host||t.path||"",!n&&t.isMetaMask&&(n="metamask"),o=t,t.request?(n===""&&(n="eip-1193:"),i=Lle(t)):t.sendAsync?i=LR(t,t.sendAsync.bind(t)):t.send?i=LR(t,t.send.bind(t)):RR.throwArgumentError("unsupported provider","provider",t),n||(n="unknown:")),super(n,r),Xe(this,"jsonRpcFetchFunc",i),Xe(this,"provider",o)}send(t,r){return this.jsonRpcFetchFunc(t,r)}}const zle="/bg.jpg";var MG={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zR=Et.createContext&&Et.createContext(MG),Td=function(){return Td=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Td.apply(this,arguments)},Nle=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function TG(e){return e&&e.map(function(t,r){return Et.createElement(t.tag,Td({key:r},t.attr),TG(t.child))})}function Br(e){return function(t){return Et.createElement(Ble,Td({attr:Td({},e.attr)},t),TG(e.child))}}function Ble(e){var t=function(r){var n=e.attr,i=e.size,o=e.title,l=Nle(e,["attr","size","title"]),c=i||r.size||"1em",a;return r.className&&(a=r.className),e.className&&(a=(a?a+" ":"")+e.className),Et.createElement("svg",Td({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,l,{className:a,style:Td(Td({color:e.color||r.color},r.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Et.createElement("title",null,o),e.children)};return zR!==void 0?Et.createElement(zR.Consumer,null,function(r){return t(r)}):t(MG)}function Fle(e){return Br({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"}}]})(e)}function Ule(e){return Br({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(e)}function Vle(e){return Br({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"}}]})(e)}function PG(e){return Br({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function Hle(e){return Br({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}function yD(e){return Br({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function kG(e){return Br({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"}}]})(e)}function DG(e){return Br({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"}}]})(e)}function Wle(e){return Br({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M96 480h320V128h-32V80c0-26.51-21.49-48-48-48H176c-26.51 0-48 21.49-48 48v48H96v352zm96-384h128v32H192V96zm320 80v256c0 26.51-21.49 48-48 48h-16V128h16c26.51 0 48 21.49 48 48zM64 480H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v352zm288-208v32c0 8.837-7.163 16-16 16h-48v48c0 8.837-7.163 16-16 16h-32c-8.837 0-16-7.163-16-16v-48h-48c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h48v-48c0-8.837 7.163-16 16-16h32c8.837 0 16 7.163 16 16v48h48c8.837 0 16 7.163 16 16z"}}]})(e)}function Gle(e){return Br({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M136.6 138.79a64.003 64.003 0 0 0-43.31 41.35L0 460l14.69 14.69L164.8 324.58c-2.99-6.26-4.8-13.18-4.8-20.58 0-26.51 21.49-48 48-48s48 21.49 48 48-21.49 48-48 48c-7.4 0-14.32-1.81-20.58-4.8L37.31 497.31 52 512l279.86-93.29a64.003 64.003 0 0 0 41.35-43.31L416 224 288 96l-151.4 42.79zm361.34-64.62l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.75 18.75-49.15 0-67.91z"}}]})(e)}function qle(e){return Br({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"}}]})(e)}function Yle(e){return Br({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"}}]})(e)}function Xle(e){return Br({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function $le(e){return Br({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"}}]})(e)}function Kle(e){return Br({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 224h13.5c24.7 56.5 80.9 96 146.5 96s121.8-39.5 146.5-96H384c8.8 0 16-7.2 16-16v-96c0-8.8-7.2-16-16-16h-13.5C345.8 39.5 289.6 0 224 0S102.2 39.5 77.5 96H64c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16zm40-88c0-22.1 21.5-40 48-40h144c26.5 0 48 17.9 48 40v24c0 53-43 96-96 96h-48c-53 0-96-43-96-96v-24zm72 72l12-36 36-12-36-12-12-36-12 36-36 12 36 12 12 36zm151.6 113.4C297.7 340.7 262.2 352 224 352s-73.7-11.3-103.6-30.6C52.9 328.5 0 385 0 454.4v9.6c0 26.5 21.5 48 48 48h80v-64c0-17.7 14.3-32 32-32h128c17.7 0 32 14.3 32 32v64h80c26.5 0 48-21.5 48-48v-9.6c0-69.4-52.9-125.9-120.4-133zM272 448c-8.8 0-16 7.2-16 16s7.2 16 16 16 16-7.2 16-16-7.2-16-16-16zm-96 0c-8.8 0-16 7.2-16 16v48h32v-48c0-8.8-7.2-16-16-16z"}}]})(e)}function NR(e){return Br({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"}}]})(e)}function Qle(e){return Br({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function Jle(e){return Br({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}}]})(e)}function Zle(e){return Br({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"}}]})(e)}function ece(e){return Br({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}}]})(e)}const jG=G.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),IS=G.createContext({}),bD=G.createContext(null),OS=typeof document<"u",tce=OS?G.useLayoutEffect:G.useEffect,IG=G.createContext({strict:!1}),xD=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),rce="framerAppearId",OG="data-"+xD(rce);function nce(e,t,r,n){const{visualElement:i}=G.useContext(IS),o=G.useContext(IG),l=G.useContext(bD),c=G.useContext(jG).reducedMotion,a=G.useRef();n=n||o.renderer,!a.current&&n&&(a.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const s=a.current;G.useInsertionEffect(()=>{s&&s.update(r,l)});const u=G.useRef(!!(r[OG]&&!window.HandoffComplete));return tce(()=>{s&&(s.render(),u.current&&s.animationState&&s.animationState.animateChanges())}),G.useEffect(()=>{s&&(s.updateFeatures(),!u.current&&s.animationState&&s.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),s}function am(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ice(e,t,r){return G.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):am(r)&&(r.current=n))},[t])}function Gy(e){return typeof e=="string"||Array.isArray(e)}function RS(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const wD=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_D=["initial",...wD];function LS(e){return RS(e.animate)||_D.some(t=>Gy(e[t]))}function RG(e){return!!(LS(e)||e.variants)}function oce(e,t){if(LS(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Gy(r)?r:void 0,animate:Gy(n)?n:void 0}}return e.inherit!==!1?t:{}}function ace(e){const{initial:t,animate:r}=oce(e,G.useContext(IS));return G.useMemo(()=>({initial:t,animate:r}),[BR(t),BR(r)])}function BR(e){return Array.isArray(e)?e.join(" "):e}const FR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qy={};for(const e in FR)qy[e]={isEnabled:t=>FR[e].some(r=>!!t[r])};function sce(e){for(const t in e)qy[t]={...qy[t],...e[t]}}const LG=G.createContext({}),zG=G.createContext({}),lce=Symbol.for("motionComponentSymbol");function cce({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){e&&sce(e);function o(c,a){let s;const u={...G.useContext(jG),...c,layoutId:uce(c)},{isStatic:d}=u,h=ace(c),f=n(c,d);if(!d&&OS){h.visualElement=nce(i,f,u,t);const m=G.useContext(zG),p=G.useContext(IG).strict;h.visualElement&&(s=h.visualElement.loadFeatures(u,p,e,m))}return G.createElement(IS.Provider,{value:h},s&&h.visualElement?G.createElement(s,{visualElement:h.visualElement,...u}):null,r(i,c,ice(f,h.visualElement,a),f,d,h.visualElement))}const l=G.forwardRef(o);return l[lce]=i,l}function uce({layoutId:e}){const t=G.useContext(LG).id;return t&&e!==void 0?t+"-"+e:e}function dce(e){function t(n,i={}){return cce(e(n,i))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,i)=>(r.has(i)||r.set(i,t(i)),r.get(i))})}const hce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function SD(e){return typeof e!="string"||e.includes("-")?!1:!!(hce.indexOf(e)>-1||/[A-Z]/.test(e))}const L_={};function fce(e){Object.assign(L_,e)}const P1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Of=new Set(P1);function NG(e,{layout:t,layoutId:r}){return Of.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!L_[e]||e==="opacity")}const Ko=e=>!!(e&&e.getVelocity),pce={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mce=P1.length;function gce(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,i){let o="";for(let l=0;l<mce;l++){const c=P1[l];if(e[c]!==void 0){const a=pce[c]||c;o+=`${a}(${e[c]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,n?"":o):r&&n&&(o="none"),o}const BG=e=>t=>typeof t=="string"&&t.startsWith(e),FG=BG("--"),p4=BG("var(--"),vce=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,yce=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Bd=(e,t,r)=>Math.min(Math.max(r,e),t),Rf={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$v={...Rf,transform:e=>Bd(0,1,e)},Pb={...Rf,default:1},Kv=e=>Math.round(e*1e5)/1e5,zS=/(-)?([\d]*\.?[\d])+/g,UG=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,bce=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function k1(e){return typeof e=="string"}const D1=e=>({test:t=>k1(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xu=D1("deg"),$l=D1("%"),jt=D1("px"),xce=D1("vh"),wce=D1("vw"),UR={...$l,parse:e=>$l.parse(e)/100,transform:e=>$l.transform(e*100)},VR={...Rf,transform:Math.round},VG={borderWidth:jt,borderTopWidth:jt,borderRightWidth:jt,borderBottomWidth:jt,borderLeftWidth:jt,borderRadius:jt,radius:jt,borderTopLeftRadius:jt,borderTopRightRadius:jt,borderBottomRightRadius:jt,borderBottomLeftRadius:jt,width:jt,maxWidth:jt,height:jt,maxHeight:jt,size:jt,top:jt,right:jt,bottom:jt,left:jt,padding:jt,paddingTop:jt,paddingRight:jt,paddingBottom:jt,paddingLeft:jt,margin:jt,marginTop:jt,marginRight:jt,marginBottom:jt,marginLeft:jt,rotate:Xu,rotateX:Xu,rotateY:Xu,rotateZ:Xu,scale:Pb,scaleX:Pb,scaleY:Pb,scaleZ:Pb,skew:Xu,skewX:Xu,skewY:Xu,distance:jt,translateX:jt,translateY:jt,translateZ:jt,x:jt,y:jt,z:jt,perspective:jt,transformPerspective:jt,opacity:$v,originX:UR,originY:UR,originZ:jt,zIndex:VR,fillOpacity:$v,strokeOpacity:$v,numOctaves:VR};function ED(e,t,r,n){const{style:i,vars:o,transform:l,transformOrigin:c}=e;let a=!1,s=!1,u=!0;for(const d in t){const h=t[d];if(FG(d)){o[d]=h;continue}const f=VG[d],m=yce(h,f);if(Of.has(d)){if(a=!0,l[d]=m,!u)continue;h!==(f.default||0)&&(u=!1)}else d.startsWith("origin")?(s=!0,c[d]=m):i[d]=m}if(t.transform||(a||n?i.transform=gce(e.transform,r,u,n):i.transform&&(i.transform="none")),s){const{originX:d="50%",originY:h="50%",originZ:f=0}=c;i.transformOrigin=`${d} ${h} ${f}`}}const AD=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HG(e,t,r){for(const n in t)!Ko(t[n])&&!NG(n,r)&&(e[n]=t[n])}function _ce({transformTemplate:e},t,r){return G.useMemo(()=>{const n=AD();return ED(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function Sce(e,t,r){const n=e.style||{},i={};return HG(i,n,e),Object.assign(i,_ce(e,t,r)),e.transformValues?e.transformValues(i):i}function Ece(e,t,r){const n={},i=Sce(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const Ace=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function z_(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ace.has(e)}let WG=e=>!z_(e);function Cce(e){e&&(WG=t=>t.startsWith("on")?!z_(t):e(t))}try{Cce(require("@emotion/is-prop-valid").default)}catch{}function Mce(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(WG(i)||r===!0&&z_(i)||!t&&!z_(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function HR(e,t,r){return typeof e=="string"?e:jt.transform(t+r*e)}function Tce(e,t,r){const n=HR(t,e.x,e.width),i=HR(r,e.y,e.height);return`${n} ${i}`}const Pce={offset:"stroke-dashoffset",array:"stroke-dasharray"},kce={offset:"strokeDashoffset",array:"strokeDasharray"};function Dce(e,t,r=1,n=0,i=!0){e.pathLength=1;const o=i?Pce:kce;e[o.offset]=jt.transform(-n);const l=jt.transform(t),c=jt.transform(r);e[o.array]=`${l} ${c}`}function CD(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:a=0,...s},u,d,h){if(ED(e,s,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:p}=e;f.transform&&(p&&(m.transform=f.transform),delete f.transform),p&&(i!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=Tce(p,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),l!==void 0&&Dce(f,l,c,a,!1)}const GG=()=>({...AD(),attrs:{}}),MD=e=>typeof e=="string"&&e.toLowerCase()==="svg";function jce(e,t,r,n){const i=G.useMemo(()=>{const o=GG();return CD(o,t,{enableHardwareAcceleration:!1},MD(n),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};HG(o,e.style,e),i.style={...o,...i.style}}return i}function Ice(e=!1){return(r,n,i,{latestValues:o},l)=>{const a=(SD(r)?jce:Ece)(n,o,l,r),u={...Mce(n,typeof r=="string",e),...a,ref:i},{children:d}=n,h=G.useMemo(()=>Ko(d)?d.get():d,[d]);return G.createElement(r,{...u,children:h})}}function qG(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const o in r)e.style.setProperty(o,r[o])}const YG=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XG(e,t,r,n){qG(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(YG.has(i)?i:xD(i),t.attrs[i])}function TD(e,t){const{style:r}=e,n={};for(const i in r)(Ko(r[i])||t.style&&Ko(t.style[i])||NG(i,e))&&(n[i]=r[i]);return n}function $G(e,t){const r=TD(e,t);for(const n in e)if(Ko(e[n])||Ko(t[n])){const i=P1.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=e[n]}return r}function PD(e,t,r,n={},i={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,i)),t}function Oce(e){const t=G.useRef(null);return t.current===null&&(t.current=e()),t.current}const N_=e=>Array.isArray(e),Rce=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Lce=e=>N_(e)?e[e.length-1]||0:e;function Mw(e){const t=Ko(e)?e.get():e;return Rce(t)?t.toValue():t}function zce({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,i,o){const l={latestValues:Nce(n,i,o,e),renderState:t()};return r&&(l.mount=c=>r(n,c,l)),l}const KG=e=>(t,r)=>{const n=G.useContext(IS),i=G.useContext(bD),o=()=>zce(e,t,n,i);return r?o():Oce(o)};function Nce(e,t,r,n){const i={},o=n(e,{});for(const h in o)i[h]=Mw(o[h]);let{initial:l,animate:c}=e;const a=LS(e),s=RG(e);t&&s&&!a&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let u=r?r.initial===!1:!1;u=u||l===!1;const d=u?c:l;return d&&typeof d!="boolean"&&!RS(d)&&(Array.isArray(d)?d:[d]).forEach(f=>{const m=PD(e,f);if(!m)return;const{transitionEnd:p,transition:g,...v}=m;for(const x in v){let y=v[x];if(Array.isArray(y)){const b=u?y.length-1:0;y=y[b]}y!==null&&(i[x]=y)}for(const x in p)i[x]=p[x]}),i}const Dn=e=>e;class WR{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Bce(e){let t=new WR,r=new WR,n=0,i=!1,o=!1;const l=new WeakSet,c={schedule:(a,s=!1,u=!1)=>{const d=u&&i,h=d?t:r;return s&&l.add(a),h.add(a)&&d&&i&&(n=t.order.length),a},cancel:a=>{r.remove(a),l.delete(a)},process:a=>{if(i){o=!0;return}if(i=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let s=0;s<n;s++){const u=t.order[s];u(a),l.has(u)&&(c.schedule(u),e())}i=!1,o&&(o=!1,c.process(a))}};return c}const kb=["prepare","read","update","preRender","render","postRender"],Fce=40;function Uce(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=kb.reduce((d,h)=>(d[h]=Bce(()=>r=!0),d),{}),l=d=>o[d].process(i),c=()=>{const d=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(d-i.timestamp,Fce),1),i.timestamp=d,i.isProcessing=!0,kb.forEach(l),i.isProcessing=!1,r&&t&&(n=!1,e(c))},a=()=>{r=!0,n=!0,i.isProcessing||e(c)};return{schedule:kb.reduce((d,h)=>{const f=o[h];return d[h]=(m,p=!1,g=!1)=>(r||a(),f.schedule(m,p,g)),d},{}),cancel:d=>kb.forEach(h=>o[h].cancel(d)),state:i,steps:o}}const{schedule:$r,cancel:pu,state:Fi,steps:rA}=Uce(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dn,!0),Vce={useVisualState:KG({scrapeMotionValuesFromProps:$G,createRenderState:GG,onMount:(e,t,{renderState:r,latestValues:n})=>{$r.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),$r.render(()=>{CD(r,n,{enableHardwareAcceleration:!1},MD(t.tagName),e.transformTemplate),XG(t,r)})}})},Hce={useVisualState:KG({scrapeMotionValuesFromProps:TD,createRenderState:AD})};function Wce(e,{forwardMotionProps:t=!1},r,n){return{...SD(e)?Vce:Hce,preloadedFeatures:r,useRender:Ice(t),createVisualElement:n,Component:e}}function Xc(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const QG=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function NS(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Gce=e=>t=>QG(t)&&e(t,NS(t));function tu(e,t,r,n){return Xc(e,t,Gce(r),n)}const qce=(e,t)=>r=>t(e(r)),Pd=(...e)=>e.reduce(qce);function JG(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const GR=JG("dragHorizontal"),qR=JG("dragVertical");function ZG(e){let t=!1;if(e==="y")t=qR();else if(e==="x")t=GR();else{const r=GR(),n=qR();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function eq(){const e=ZG(!0);return e?(e(),!1):!0}let Kd=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};function YR(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),i=(o,l)=>{if(o.pointerType==="touch"||eq())return;const c=e.getProps();e.animationState&&c.whileHover&&e.animationState.setActive("whileHover",t),c[n]&&$r.update(()=>c[n](o,l))};return tu(e.current,r,i,{passive:!e.getProps()[n]})}class Yce extends Kd{mount(){this.unmount=Pd(YR(this.node,!0),YR(this.node,!1))}unmount(){}}class Xce extends Kd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pd(Xc(this.node.current,"focus",()=>this.onFocus()),Xc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const tq=(e,t)=>t?e===t?!0:tq(e,t.parentElement):!1;function nA(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,NS(r))}class $ce extends Kd{constructor(){super(...arguments),this.removeStartListeners=Dn,this.removeEndListeners=Dn,this.removeAccessibleListeners=Dn,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),o=tu(window,"pointerup",(c,a)=>{if(!this.checkPressEnd())return;const{onTap:s,onTapCancel:u,globalTapTarget:d}=this.node.getProps();$r.update(()=>{!d&&!tq(this.node.current,c.target)?u&&u(c,a):s&&s(c,a)})},{passive:!(n.onTap||n.onPointerUp)}),l=tu(window,"pointercancel",(c,a)=>this.cancelPress(c,a),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Pd(o,l),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const l=c=>{c.key!=="Enter"||!this.checkPressEnd()||nA("up",(a,s)=>{const{onTap:u}=this.node.getProps();u&&$r.update(()=>u(a,s))})};this.removeEndListeners(),this.removeEndListeners=Xc(this.node.current,"keyup",l),nA("down",(c,a)=>{this.startPress(c,a)})},r=Xc(this.node.current,"keydown",t),n=()=>{this.isPressing&&nA("cancel",(o,l)=>this.cancelPress(o,l))},i=Xc(this.node.current,"blur",n);this.removeAccessibleListeners=Pd(r,i)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&$r.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!eq()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&$r.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=tu(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Xc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Pd(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const m4=new WeakMap,iA=new WeakMap,Kce=e=>{const t=m4.get(e.target);t&&t(e)},Qce=e=>{e.forEach(Kce)};function Jce({root:e,...t}){const r=e||document;iA.has(r)||iA.set(r,{});const n=iA.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(Qce,{root:e,...t})),n[i]}function Zce(e,t,r){const n=Jce(t);return m4.set(e,r),n.observe(e),()=>{m4.delete(e),n.unobserve(e)}}const eue={some:0,all:1};class tue extends Kd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:o}=t,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:eue[i]},c=a=>{const{isIntersecting:s}=a;if(this.isInView===s||(this.isInView=s,o&&!s&&this.hasEnteredView))return;s&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",s);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=s?u:d;h&&h(a)};return Zce(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(rue(t,r))&&this.startObserver()}unmount(){}}function rue({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const nue={inView:{Feature:tue},tap:{Feature:$ce},focus:{Feature:Xce},hover:{Feature:Yce}};function rq(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function iue(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function oue(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function BS(e,t,r){const n=e.getProps();return PD(n,t,r!==void 0?r:n.custom,iue(e),oue(e))}let B_=Dn;const Kh=e=>e*1e3,ru=e=>e/1e3,aue={current:!1},nq=e=>Array.isArray(e)&&typeof e[0]=="number";function iq(e){return!!(!e||typeof e=="string"&&oq[e]||nq(e)||Array.isArray(e)&&e.every(iq))}const Ev=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,oq={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ev([0,.65,.55,1]),circOut:Ev([.55,0,1,.45]),backIn:Ev([.31,.01,.66,-.59]),backOut:Ev([.33,1.53,.69,.99])};function aq(e){if(e)return nq(e)?Ev(e):Array.isArray(e)?e.map(aq):oq[e]}function sue(e,t,r,{delay:n=0,duration:i,repeat:o=0,repeatType:l="loop",ease:c,times:a}={}){const s={[t]:r};a&&(s.offset=a);const u=aq(c);return Array.isArray(u)&&(s.easing=u),e.animate(s,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}function lue(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const sq=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,cue=1e-7,uue=12;function due(e,t,r,n,i){let o,l,c=0;do l=t+(r-t)/2,o=sq(l,n,i)-e,o>0?r=l:t=l;while(Math.abs(o)>cue&&++c<uue);return l}function j1(e,t,r,n){if(e===t&&r===n)return Dn;const i=o=>due(o,0,1,e,r);return o=>o===0||o===1?o:sq(i(o),t,n)}const hue=j1(.42,0,1,1),fue=j1(0,0,.58,1),lq=j1(.42,0,.58,1),pue=e=>Array.isArray(e)&&typeof e[0]!="number",cq=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,uq=e=>t=>1-e(1-t),kD=e=>1-Math.sin(Math.acos(e)),dq=uq(kD),mue=cq(kD),hq=j1(.33,1.53,.69,.99),DD=uq(hq),gue=cq(DD),vue=e=>(e*=2)<1?.5*DD(e):.5*(2-Math.pow(2,-10*(e-1))),XR={linear:Dn,easeIn:hue,easeInOut:lq,easeOut:fue,circIn:kD,circInOut:mue,circOut:dq,backIn:DD,backInOut:gue,backOut:hq,anticipate:vue},$R=e=>{if(Array.isArray(e)){B_(e.length===4);const[t,r,n,i]=e;return j1(t,r,n,i)}else if(typeof e=="string")return B_(XR[e]!==void 0),XR[e];return e},jD=(e,t)=>r=>!!(k1(r)&&bce.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),fq=(e,t,r)=>n=>{if(!k1(n))return n;const[i,o,l,c]=n.match(zS);return{[e]:parseFloat(i),[t]:parseFloat(o),[r]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},yue=e=>Bd(0,255,e),oA={...Rf,transform:e=>Math.round(yue(e))},Nh={test:jD("rgb","red"),parse:fq("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+oA.transform(e)+", "+oA.transform(t)+", "+oA.transform(r)+", "+Kv($v.transform(n))+")"};function bue(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const g4={test:jD("#"),parse:bue,transform:Nh.transform},sm={test:jD("hsl","hue"),parse:fq("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+$l.transform(Kv(t))+", "+$l.transform(Kv(r))+", "+Kv($v.transform(n))+")"},ao={test:e=>Nh.test(e)||g4.test(e)||sm.test(e),parse:e=>Nh.test(e)?Nh.parse(e):sm.test(e)?sm.parse(e):g4.parse(e),transform:e=>k1(e)?e:e.hasOwnProperty("red")?Nh.transform(e):sm.transform(e)},sn=(e,t,r)=>-r*e+r*t+e;function aA(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function xue({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,o=0,l=0;if(!t)i=o=l=r;else{const c=r<.5?r*(1+t):r+t-r*t,a=2*r-c;i=aA(a,c,e+1/3),o=aA(a,c,e),l=aA(a,c,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:n}}const sA=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},wue=[g4,Nh,sm],_ue=e=>wue.find(t=>t.test(e));function KR(e){const t=_ue(e);let r=t.parse(e);return t===sm&&(r=xue(r)),r}const pq=(e,t)=>{const r=KR(e),n=KR(t),i={...r};return o=>(i.red=sA(r.red,n.red,o),i.green=sA(r.green,n.green,o),i.blue=sA(r.blue,n.blue,o),i.alpha=sn(r.alpha,n.alpha,o),Nh.transform(i))};function Sue(e){var t,r;return isNaN(e)&&k1(e)&&(((t=e.match(zS))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(UG))===null||r===void 0?void 0:r.length)||0)>0}const mq={regex:vce,countKey:"Vars",token:"${v}",parse:Dn},gq={regex:UG,countKey:"Colors",token:"${c}",parse:ao.parse},vq={regex:zS,countKey:"Numbers",token:"${n}",parse:Rf.parse};function lA(e,{regex:t,countKey:r,token:n,parse:i}){const o=e.tokenised.match(t);o&&(e["num"+r]=o.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...o.map(i)))}function F_(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&lA(r,mq),lA(r,gq),lA(r,vq),r}function yq(e){return F_(e).values}function bq(e){const{values:t,numColors:r,numVars:n,tokenised:i}=F_(e),o=t.length;return l=>{let c=i;for(let a=0;a<o;a++)a<n?c=c.replace(mq.token,l[a]):a<n+r?c=c.replace(gq.token,ao.transform(l[a])):c=c.replace(vq.token,Kv(l[a]));return c}}const Eue=e=>typeof e=="number"?0:e;function Aue(e){const t=yq(e);return bq(e)(t.map(Eue))}const Fd={test:Sue,parse:yq,createTransformer:bq,getAnimatableNone:Aue},xq=(e,t)=>r=>`${r>0?t:e}`;function wq(e,t){return typeof e=="number"?r=>sn(e,t,r):ao.test(e)?pq(e,t):e.startsWith("var(")?xq(e,t):Sq(e,t)}const _q=(e,t)=>{const r=[...e],n=r.length,i=e.map((o,l)=>wq(o,t[l]));return o=>{for(let l=0;l<n;l++)r[l]=i[l](o);return r}},Cue=(e,t)=>{const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=wq(e[i],t[i]));return i=>{for(const o in n)r[o]=n[o](i);return r}},Sq=(e,t)=>{const r=Fd.createTransformer(t),n=F_(e),i=F_(t);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?Pd(_q(n.values,i.values),r):xq(e,t)},Yy=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},QR=(e,t)=>r=>sn(e,t,r);function Mue(e){return typeof e=="number"?QR:typeof e=="string"?ao.test(e)?pq:Sq:Array.isArray(e)?_q:typeof e=="object"?Cue:QR}function Tue(e,t,r){const n=[],i=r||Mue(e[0]),o=e.length-1;for(let l=0;l<o;l++){let c=i(e[l],e[l+1]);if(t){const a=Array.isArray(t)?t[l]||Dn:t;c=Pd(a,c)}n.push(c)}return n}function Eq(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const o=e.length;if(B_(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Tue(t,n,i),c=l.length,a=s=>{let u=0;if(c>1)for(;u<e.length-2&&!(s<e[u+1]);u++);const d=Yy(e[u],e[u+1],s);return l[u](d)};return r?s=>a(Bd(e[0],e[o-1],s)):a}function Pue(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Yy(0,t,n);e.push(sn(r,1,i))}}function kue(e){const t=[0];return Pue(t,e.length-1),t}function Due(e,t){return e.map(r=>r*t)}function jue(e,t){return e.map(()=>t||lq).splice(0,e.length-1)}function U_({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=pue(n)?n.map($R):$R(n),o={done:!1,value:t[0]},l=Due(r&&r.length===t.length?r:kue(t),e),c=Eq(l,t,{ease:Array.isArray(i)?i:jue(t,i)});return{calculatedDuration:e,next:a=>(o.value=c(a),o.done=a>=e,o)}}function Aq(e,t){return t?e*(1e3/t):0}const Iue=5;function Cq(e,t,r){const n=Math.max(t-Iue,0);return Aq(r-e(n),t-n)}const cA=.001,Oue=.01,Rue=10,Lue=.05,zue=1;function Nue({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let i,o,l=1-t;l=Bd(Lue,zue,l),e=Bd(Oue,Rue,ru(e)),l<1?(i=s=>{const u=s*l,d=u*e,h=u-r,f=v4(s,l),m=Math.exp(-d);return cA-h/f*m},o=s=>{const d=s*l*e,h=d*r+r,f=Math.pow(l,2)*Math.pow(s,2)*e,m=Math.exp(-d),p=v4(Math.pow(s,2),l);return(-i(s)+cA>0?-1:1)*((h-f)*m)/p}):(i=s=>{const u=Math.exp(-s*e),d=(s-r)*e+1;return-cA+u*d},o=s=>{const u=Math.exp(-s*e),d=(r-s)*(e*e);return u*d});const c=5/e,a=Fue(i,o,c);if(e=Kh(e),isNaN(a))return{stiffness:100,damping:10,duration:e};{const s=Math.pow(a,2)*n;return{stiffness:s,damping:l*2*Math.sqrt(n*s),duration:e}}}const Bue=12;function Fue(e,t,r){let n=r;for(let i=1;i<Bue;i++)n=n-e(n)/t(n);return n}function v4(e,t){return e*Math.sqrt(1-t*t)}const Uue=["duration","bounce"],Vue=["stiffness","damping","mass"];function JR(e,t){return t.some(r=>e[r]!==void 0)}function Hue(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!JR(e,Vue)&&JR(e,Uue)){const r=Nue(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function Mq({keyframes:e,restDelta:t,restSpeed:r,...n}){const i=e[0],o=e[e.length-1],l={done:!1,value:i},{stiffness:c,damping:a,mass:s,duration:u,velocity:d,isResolvedFromDuration:h}=Hue({...n,velocity:-ru(n.velocity||0)}),f=d||0,m=a/(2*Math.sqrt(c*s)),p=o-i,g=ru(Math.sqrt(c/s)),v=Math.abs(p)<5;r||(r=v?.01:2),t||(t=v?.005:.5);let x;if(m<1){const y=v4(g,m);x=b=>{const w=Math.exp(-m*g*b);return o-w*((f+m*g*p)/y*Math.sin(y*b)+p*Math.cos(y*b))}}else if(m===1)x=y=>o-Math.exp(-g*y)*(p+(f+g*p)*y);else{const y=g*Math.sqrt(m*m-1);x=b=>{const w=Math.exp(-m*g*b),_=Math.min(y*b,300);return o-w*((f+m*g*p)*Math.sinh(_)+y*p*Math.cosh(_))/y}}return{calculatedDuration:h&&u||null,next:y=>{const b=x(y);if(h)l.done=y>=u;else{let w=f;y!==0&&(m<1?w=Cq(x,y,b):w=0);const _=Math.abs(w)<=r,S=Math.abs(o-b)<=t;l.done=_&&S}return l.value=l.done?o:b,l}}}function ZR({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:a,restDelta:s=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},f=E=>c!==void 0&&E<c||a!==void 0&&E>a,m=E=>c===void 0?a:a===void 0||Math.abs(c-E)<Math.abs(a-E)?c:a;let p=r*t;const g=d+p,v=l===void 0?g:l(g);v!==g&&(p=v-d);const x=E=>-p*Math.exp(-E/n),y=E=>v+x(E),b=E=>{const C=x(E),A=y(E);h.done=Math.abs(C)<=s,h.value=h.done?v:A};let w,_;const S=E=>{f(h.value)&&(w=E,_=Mq({keyframes:[h.value,m(h.value)],velocity:Cq(y,E,h.value),damping:i,stiffness:o,restDelta:s,restSpeed:u}))};return S(0),{calculatedDuration:null,next:E=>{let C=!1;return!_&&w===void 0&&(C=!0,b(E),S(E)),w!==void 0&&E>w?_.next(E-w):(!C&&b(E),h)}}}const Wue=e=>{const t=({timestamp:r})=>e(r);return{start:()=>$r.update(t,!0),stop:()=>pu(t),now:()=>Fi.isProcessing?Fi.timestamp:performance.now()}},e8=2e4;function t8(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<e8;)t+=r,n=e.next(t);return t>=e8?1/0:t}const Gue={decay:ZR,inertia:ZR,tween:U_,keyframes:U_,spring:Mq};function V_({autoplay:e=!0,delay:t=0,driver:r=Wue,keyframes:n,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",onPlay:a,onStop:s,onComplete:u,onUpdate:d,...h}){let f=1,m=!1,p,g;const v=()=>{g=new Promise(B=>{p=B})};v();let x;const y=Gue[i]||U_;let b;y!==U_&&typeof n[0]!="number"&&(b=Eq([0,100],n,{clamp:!1}),n=[0,100]);const w=y({...h,keyframes:n});let _;c==="mirror"&&(_=y({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let S="idle",E=null,C=null,A=null;w.calculatedDuration===null&&o&&(w.calculatedDuration=t8(w));const{calculatedDuration:T}=w;let k=1/0,D=1/0;T!==null&&(k=T+l,D=k*(o+1)-l);let M=0;const P=B=>{if(C===null)return;f>0&&(C=Math.min(C,B)),f<0&&(C=Math.min(B-D/f,C)),E!==null?M=E:M=Math.round(B-C)*f;const R=M-t*(f>=0?1:-1),z=f>=0?R<0:R>D;M=Math.max(R,0),S==="finished"&&E===null&&(M=D);let W=M,U=w;if(o){const Q=Math.min(M,D)/k;let Y=Math.floor(Q),$=Q%1;!$&&Q>=1&&($=1),$===1&&Y--,Y=Math.min(Y,o+1),!!(Y%2)&&(c==="reverse"?($=1-$,l&&($-=l/k)):c==="mirror"&&(U=_)),W=Bd(0,1,$)*k}const H=z?{done:!1,value:n[0]}:U.next(W);b&&(H.value=b(H.value));let{done:X}=H;!z&&T!==null&&(X=f>=0?M>=D:M<=0);const K=E===null&&(S==="finished"||S==="running"&&X);return d&&d(H.value),K&&I(),H},j=()=>{x&&x.stop(),x=void 0},O=()=>{S="idle",j(),p(),v(),C=A=null},I=()=>{S="finished",u&&u(),j(),p()},N=()=>{if(m)return;x||(x=r(P));const B=x.now();a&&a(),E!==null?C=B-E:(!C||S==="finished")&&(C=B),S==="finished"&&v(),A=C,E=null,S="running",x.start()};e&&N();const L={then(B,R){return g.then(B,R)},get time(){return ru(M)},set time(B){B=Kh(B),M=B,E!==null||!x||f===0?E=B:C=x.now()-B/f},get duration(){const B=w.calculatedDuration===null?t8(w):w.calculatedDuration;return ru(B)},get speed(){return f},set speed(B){B===f||!x||(f=B,L.time=ru(M))},get state(){return S},play:N,pause:()=>{S="paused",E=M},stop:()=>{m=!0,S!=="idle"&&(S="idle",s&&s(),O())},cancel:()=>{A!==null&&P(A),O()},complete:()=>{S="finished"},sample:B=>(C=0,P(B))};return L}function que(e){let t;return()=>(t===void 0&&(t=e()),t)}const Yue=que(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Xue=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Db=10,$ue=2e4,Kue=(e,t)=>t.type==="spring"||e==="backgroundColor"||!iq(t.ease);function Que(e,t,{onUpdate:r,onComplete:n,...i}){if(!(Yue()&&Xue.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let l=!1,c,a,s=!1;const u=()=>{a=new Promise(y=>{c=y})};u();let{keyframes:d,duration:h=300,ease:f,times:m}=i;if(Kue(t,i)){const y=V_({...i,repeat:0,delay:0});let b={done:!1,value:d[0]};const w=[];let _=0;for(;!b.done&&_<$ue;)b=y.sample(_),w.push(b.value),_+=Db;m=void 0,d=w,h=_-Db,f="linear"}const p=sue(e.owner.current,t,d,{...i,duration:h,ease:f,times:m}),g=()=>{s=!1,p.cancel()},v=()=>{s=!0,$r.update(g),c(),u()};return p.onfinish=()=>{s||(e.set(lue(d,i)),n&&n(),v())},{then(y,b){return a.then(y,b)},attachTimeline(y){return p.timeline=y,p.onfinish=null,Dn},get time(){return ru(p.currentTime||0)},set time(y){p.currentTime=Kh(y)},get speed(){return p.playbackRate},set speed(y){p.playbackRate=y},get duration(){return ru(h)},play:()=>{l||(p.play(),pu(g))},pause:()=>p.pause(),stop:()=>{if(l=!0,p.playState==="idle")return;const{currentTime:y}=p;if(y){const b=V_({...i,autoplay:!1});e.setWithVelocity(b.sample(y-Db).value,b.sample(y).value,Db)}v()},complete:()=>{s||p.finish()},cancel:v}}function Jue({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const i=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Dn,pause:Dn,stop:Dn,then:o=>(o(),Promise.resolve()),cancel:Dn,complete:Dn});return t?V_({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Zue={type:"spring",stiffness:500,damping:25,restSpeed:10},ede=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),tde={type:"keyframes",duration:.8},rde={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nde=(e,{keyframes:t})=>t.length>2?tde:Of.has(e)?e.startsWith("scale")?ede(t[1]):Zue:rde,y4=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fd.test(t)||t==="0")&&!t.startsWith("url(")),ide=new Set(["brightness","contrast","saturate","opacity"]);function ode(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(zS)||[];if(!n)return e;const i=r.replace(n,"");let o=ide.has(t)?1:0;return n!==r&&(o*=100),t+"("+o+i+")"}const ade=/([a-z-]*)\(.*?\)/g,b4={...Fd,getAnimatableNone:e=>{const t=e.match(ade);return t?t.map(ode).join(" "):e}},sde={...VG,color:ao,backgroundColor:ao,outlineColor:ao,fill:ao,stroke:ao,borderColor:ao,borderTopColor:ao,borderRightColor:ao,borderBottomColor:ao,borderLeftColor:ao,filter:b4,WebkitFilter:b4},ID=e=>sde[e];function Tq(e,t){let r=ID(e);return r!==b4&&(r=Fd),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Pq=e=>/^0[^.\s]+$/.test(e);function lde(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Pq(e)}function cde(e,t,r,n){const i=y4(t,r);let o;Array.isArray(r)?o=[...r]:o=[null,r];const l=n.from!==void 0?n.from:e.get();let c;const a=[];for(let s=0;s<o.length;s++)o[s]===null&&(o[s]=s===0?l:o[s-1]),lde(o[s])&&a.push(s),typeof o[s]=="string"&&o[s]!=="none"&&o[s]!=="0"&&(c=o[s]);if(i&&a.length&&c)for(let s=0;s<a.length;s++){const u=a[s];o[u]=Tq(t,c)}return o}function ude({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:a,elapsed:s,...u}){return!!Object.keys(u).length}function OD(e,t){return e[t]||e.default||e}const dde={skipAnimations:!1},RD=(e,t,r,n={})=>i=>{const o=OD(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Kh(l);const a=cde(t,e,r,o),s=a[0],u=a[a.length-1],d=y4(e,s),h=y4(e,u);let f={keyframes:a,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-c,onUpdate:m=>{t.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(ude(o)||(f={...f,...nde(e,f)}),f.duration&&(f.duration=Kh(f.duration)),f.repeatDelay&&(f.repeatDelay=Kh(f.repeatDelay)),!d||!h||aue.current||o.type===!1||dde.skipAnimations)return Jue(f);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const m=Que(t,e,f);if(m)return m}return V_(f)};function H_(e){return!!(Ko(e)&&e.add)}const kq=e=>/^\-?\d*\.?\d+$/.test(e);function LD(e,t){e.indexOf(t)===-1&&e.push(t)}function zD(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class ND{constructor(){this.subscriptions=[]}add(t){return LD(this.subscriptions,t),()=>zD(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hde=e=>!isNaN(parseFloat(e));class fde{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:o,timestamp:l}=Fi;this.lastUpdated!==l&&(this.timeDelta=o,this.lastUpdated=l,$r.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>$r.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=hde(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new ND);const n=this.events[t].add(r);return t==="change"?()=>{n(),$r.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Aq(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cg(e,t){return new fde(e,t)}const Dq=e=>t=>t.test(e),pde={test:e=>e==="auto",parse:e=>e},jq=[Rf,jt,$l,Xu,wce,xce,pde],D0=e=>jq.find(Dq(e)),mde=[...jq,ao,Fd],gde=e=>mde.find(Dq(e));function vde(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,cg(r))}function yde(e,t){const r=BS(e,t);let{transitionEnd:n={},transition:i={},...o}=r?e.makeTargetAnimatable(r,!1):{};o={...o,...n};for(const l in o){const c=Lce(o[l]);vde(e,l,c)}}function bde(e,t,r){var n,i;const o=Object.keys(t).filter(c=>!e.hasValue(c)),l=o.length;if(l)for(let c=0;c<l;c++){const a=o[c],s=t[a];let u=null;Array.isArray(s)&&(u=s[0]),u===null&&(u=(i=(n=r[a])!==null&&n!==void 0?n:e.readValue(a))!==null&&i!==void 0?i:t[a]),u!=null&&(typeof u=="string"&&(kq(u)||Pq(u))?u=parseFloat(u):!gde(u)&&Fd.test(s)&&(u=Tq(a,s)),e.addValue(a,cg(u,{owner:e})),r[a]===void 0&&(r[a]=u),u!==null&&e.setBaseTarget(a,u))}}function xde(e,t){return t?(t[e]||t.default||t).from:void 0}function wde(e,t,r){const n={};for(const i in e){const o=xde(i,t);if(o!==void 0)n[i]=o;else{const l=r.getValue(i);l&&(n[i]=l.get())}}return n}function _de({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Sde(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function Iq(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=e.makeTargetAnimatable(t);const a=e.getValue("willChange");n&&(o=n);const s=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in c){const h=e.getValue(d),f=c[d];if(!h||f===void 0||u&&_de(u,d))continue;const m={delay:r,elapsed:0,...OD(o||{},d)};if(window.HandoffAppearAnimations){const v=e.getProps()[OG];if(v){const x=window.HandoffAppearAnimations(v,d,h,$r);x!==null&&(m.elapsed=x,m.isHandoff=!0)}}let p=!m.isHandoff&&!Sde(h,f);if(m.type==="spring"&&(h.getVelocity()||m.velocity)&&(p=!1),h.animation&&(p=!1),p)continue;h.start(RD(d,h,f,e.shouldReduceMotion&&Of.has(d)?{type:!1}:m));const g=h.animation;H_(a)&&(a.add(d),g.then(()=>a.remove(d))),s.push(g)}return l&&Promise.all(s).then(()=>{l&&yde(e,l)}),s}function x4(e,t,r={}){const n=BS(e,t,r.custom);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const o=n?()=>Promise.all(Iq(e,n,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(a=0)=>{const{delayChildren:s=0,staggerChildren:u,staggerDirection:d}=i;return Ede(e,t,s+a,u,d,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[a,s]=c==="beforeChildren"?[o,l]:[l,o];return a().then(()=>s())}else return Promise.all([o(),l(r.delay)])}function Ede(e,t,r=0,n=0,i=1,o){const l=[],c=(e.variantChildren.size-1)*n,a=i===1?(s=0)=>s*n:(s=0)=>c-s*n;return Array.from(e.variantChildren).sort(Ade).forEach((s,u)=>{s.notify("AnimationStart",t),l.push(x4(s,t,{...o,delay:r+a(u)}).then(()=>s.notify("AnimationComplete",t)))}),Promise.all(l)}function Ade(e,t){return e.sortNodePosition(t)}function Cde(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(o=>x4(e,o,r));n=Promise.all(i)}else if(typeof t=="string")n=x4(e,t,r);else{const i=typeof t=="function"?BS(e,t,r.custom):t;n=Promise.all(Iq(e,i,r))}return n.then(()=>e.notify("AnimationComplete",t))}const Mde=[...wD].reverse(),Tde=wD.length;function Pde(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Cde(e,r,n)))}function kde(e){let t=Pde(e);const r=jde();let n=!0;const i=(a,s)=>{const u=BS(e,s);if(u){const{transition:d,transitionEnd:h,...f}=u;a={...a,...f,...h}}return a};function o(a){t=a(e)}function l(a,s){const u=e.getProps(),d=e.getVariantContext(!0)||{},h=[],f=new Set;let m={},p=1/0;for(let v=0;v<Tde;v++){const x=Mde[v],y=r[x],b=u[x]!==void 0?u[x]:d[x],w=Gy(b),_=x===s?y.isActive:null;_===!1&&(p=v);let S=b===d[x]&&b!==u[x]&&w;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...m},!y.isActive&&_===null||!b&&!y.prevProp||RS(b)||typeof b=="boolean")continue;let C=Dde(y.prevProp,b)||x===s&&y.isActive&&!S&&w||v>p&&w,A=!1;const T=Array.isArray(b)?b:[b];let k=T.reduce(i,{});_===!1&&(k={});const{prevResolvedValues:D={}}=y,M={...D,...k},P=j=>{C=!0,f.has(j)&&(A=!0,f.delete(j)),y.needsAnimating[j]=!0};for(const j in M){const O=k[j],I=D[j];if(m.hasOwnProperty(j))continue;let N=!1;N_(O)&&N_(I)?N=!rq(O,I):N=O!==I,N?O!==void 0?P(j):f.add(j):O!==void 0&&f.has(j)?P(j):y.protectedKeys[j]=!0}y.prevProp=b,y.prevResolvedValues=k,y.isActive&&(m={...m,...k}),n&&e.blockInitialAnimation&&(C=!1),C&&(!S||A)&&h.push(...T.map(j=>({animation:j,options:{type:x,...a}})))}if(f.size){const v={};f.forEach(x=>{const y=e.getBaseTarget(x);y!==void 0&&(v[x]=y)}),h.push({animation:v})}let g=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(h):Promise.resolve()}function c(a,s,u){var d;if(r[a].isActive===s)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(a,s)}),r[a].isActive=s;const h=l(u,a);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>r}}function Dde(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!rq(t,e):!1}function nh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jde(){return{animate:nh(!0),whileInView:nh(),whileHover:nh(),whileTap:nh(),whileDrag:nh(),whileFocus:nh(),exit:nh()}}class Ide extends Kd{constructor(t){super(t),t.animationState||(t.animationState=kde(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),RS(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let Ode=0;class Rde extends Kd{constructor(){super(...arguments),this.id=Ode++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&o.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Lde={animation:{Feature:Ide},exit:{Feature:Rde}},r8=(e,t)=>Math.abs(e-t);function zde(e,t){const r=r8(e.x,t.x),n=r8(e.y,t.y);return Math.sqrt(r**2+n**2)}class Oq{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=dA(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=zde(d.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:m}=d,{timestamp:p}=Fi;this.history.push({...m,timestamp:p});const{onStart:g,onMove:v}=this.handlers;h||(g&&g(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=uA(h,this.transformPagePoint),$r.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:f,onSessionEnd:m,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=dA(d.type==="pointercancel"?this.lastMoveEventInfo:uA(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,g),m&&m(d,g)},!QG(t))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const l=NS(t),c=uA(l,this.transformPagePoint),{point:a}=c,{timestamp:s}=Fi;this.history=[{...a,timestamp:s}];const{onSessionStart:u}=r;u&&u(t,dA(c,this.history)),this.removeListeners=Pd(tu(this.contextWindow,"pointermove",this.handlePointerMove),tu(this.contextWindow,"pointerup",this.handlePointerUp),tu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),pu(this.updatePoint)}}function uA(e,t){return t?{point:t(e.point)}:e}function n8(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dA({point:e},t){return{point:e,delta:n8(e,Rq(t)),offset:n8(e,Nde(t)),velocity:Bde(t,.1)}}function Nde(e){return e[0]}function Rq(e){return e[e.length-1]}function Bde(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=Rq(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Kh(t)));)r--;if(!n)return{x:0,y:0};const o=ru(i.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Ta(e){return e.max-e.min}function w4(e,t=0,r=.01){return Math.abs(e-t)<=r}function i8(e,t,r,n=.5){e.origin=n,e.originPoint=sn(t.min,t.max,e.origin),e.scale=Ta(r)/Ta(t),(w4(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=sn(r.min,r.max,e.origin)-e.originPoint,(w4(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Qv(e,t,r,n){i8(e.x,t.x,r.x,n?n.originX:void 0),i8(e.y,t.y,r.y,n?n.originY:void 0)}function o8(e,t,r){e.min=r.min+t.min,e.max=e.min+Ta(t)}function Fde(e,t,r){o8(e.x,t.x,r.x),o8(e.y,t.y,r.y)}function a8(e,t,r){e.min=t.min-r.min,e.max=e.min+Ta(t)}function Jv(e,t,r){a8(e.x,t.x,r.x),a8(e.y,t.y,r.y)}function Ude(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?sn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?sn(r,e,n.max):Math.min(e,r)),e}function s8(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Vde(e,{top:t,left:r,bottom:n,right:i}){return{x:s8(e.x,r,i),y:s8(e.y,t,n)}}function l8(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Hde(e,t){return{x:l8(e.x,t.x),y:l8(e.y,t.y)}}function Wde(e,t){let r=.5;const n=Ta(e),i=Ta(t);return i>n?r=Yy(t.min,t.max-n,e.min):n>i&&(r=Yy(e.min,e.max-i,t.min)),Bd(0,1,r)}function Gde(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const _4=.35;function qde(e=_4){return e===!1?e=0:e===!0&&(e=_4),{x:c8(e,"left","right"),y:c8(e,"top","bottom")}}function c8(e,t,r){return{min:u8(e,t),max:u8(e,r)}}function u8(e,t){return typeof e=="number"?e:e[t]||0}const d8=()=>({translate:0,scale:1,origin:0,originPoint:0}),lm=()=>({x:d8(),y:d8()}),h8=()=>({min:0,max:0}),Un=()=>({x:h8(),y:h8()});function Ha(e){return[e("x"),e("y")]}function Lq({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Yde({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Xde(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function hA(e){return e===void 0||e===1}function S4({scale:e,scaleX:t,scaleY:r}){return!hA(e)||!hA(t)||!hA(r)}function mh(e){return S4(e)||zq(e)||e.z||e.rotate||e.rotateX||e.rotateY}function zq(e){return f8(e.x)||f8(e.y)}function f8(e){return e&&e!=="0%"}function W_(e,t,r){const n=e-r,i=t*n;return r+i}function p8(e,t,r,n,i){return i!==void 0&&(e=W_(e,i,n)),W_(e,r,n)+t}function E4(e,t=0,r=1,n,i){e.min=p8(e.min,t,r,n,i),e.max=p8(e.max,t,r,n,i)}function Nq(e,{x:t,y:r}){E4(e.x,t.translate,t.scale,t.originPoint),E4(e.y,r.translate,r.scale,r.originPoint)}function $de(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let o,l;for(let c=0;c<i;c++){o=r[c],l=o.projectionDelta;const a=o.instance;a&&a.style&&a.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&cm(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Nq(e,l)),n&&mh(o.latestValues)&&cm(e,o.latestValues))}t.x=m8(t.x),t.y=m8(t.y)}function m8(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Zu(e,t){e.min=e.min+t,e.max=e.max+t}function g8(e,t,[r,n,i]){const o=t[i]!==void 0?t[i]:.5,l=sn(e.min,e.max,o);E4(e,t[r],t[n],l,t.scale)}const Kde=["x","scaleX","originX"],Qde=["y","scaleY","originY"];function cm(e,t){g8(e.x,t,Kde),g8(e.y,t,Qde)}function Bq(e,t){return Lq(Xde(e.getBoundingClientRect(),t))}function Jde(e,t,r){const n=Bq(e,r),{scroll:i}=t;return i&&(Zu(n.x,i.offset.x),Zu(n.y,i.offset.y)),n}const Fq=({current:e})=>e?e.ownerDocument.defaultView:null,Zde=new WeakMap;class ehe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Un(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(NS(u,"page").point)},o=(u,d)=>{const{drag:h,dragPropagation:f,onDragStart:m}=this.getProps();if(h&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ZG(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ha(g=>{let v=this.getAxisMotionValue(g).get()||0;if($l.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const y=x.layout.layoutBox[g];y&&(v=Ta(y)*(parseFloat(v)/100))}}this.originPoint[g]=v}),m&&$r.update(()=>m(u,d),!1,!0);const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},l=(u,d)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:m,onDrag:p}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:g}=d;if(f&&this.currentDirection===null){this.currentDirection=the(g),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,g),this.updateAxis("y",d.point,g),this.visualElement.render(),p&&p(u,d)},c=(u,d)=>this.stop(u,d),a=()=>Ha(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:s}=this.getProps();this.panSession=new Oq(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,contextWindow:Fq(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&$r.update(()=>o(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!jb(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=Ude(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;r&&am(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=Vde(i.layoutBox,r):this.constraints=!1,this.elastic=qde(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ha(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=Gde(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!am(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Jde(n,i.root,this.visualElement.getTransformPagePoint());let l=Hde(i.layout.layoutBox,o);if(r){const c=r(Yde(l));this.hasMutatedConstraints=!!c,c&&(l=Lq(c))}return l}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),a=this.constraints||{},s=Ha(u=>{if(!jb(u,r,this.currentDirection))return;let d=a&&a[u]||{};l&&(d={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,m={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(s).then(c)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(RD(t,n,0,r))}stopAnimation(){Ha(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ha(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ha(r=>{const{drag:n}=this.getProps();if(!jb(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(r);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[r];o.set(t[r]-sn(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!am(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ha(l=>{const c=this.getAxisMotionValue(l);if(c){const a=c.get();i[l]=Wde({min:a,max:a},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ha(l=>{if(!jb(l,t,null))return;const c=this.getAxisMotionValue(l),{min:a,max:s}=this.constraints[l];c.set(sn(a,s,i[l]))})}addListeners(){if(!this.visualElement.current)return;Zde.set(this.visualElement,this);const t=this.visualElement.current,r=tu(t,"pointerdown",a=>{const{drag:s,dragListener:u=!0}=this.getProps();s&&u&&this.start(a)}),n=()=>{const{dragConstraints:a}=this.getProps();am(a)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const l=Xc(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:a,hasLayoutChanged:s})=>{this.isDragging&&s&&(Ha(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=a[u].translate,d.set(d.get()+a[u].translate))}),this.visualElement.render())});return()=>{l(),r(),o(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=_4,dragMomentum:c=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function jb(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function the(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class rhe extends Kd{constructor(t){super(t),this.removeGroupControls=Dn,this.removeListeners=Dn,this.controls=new ehe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dn}unmount(){this.removeGroupControls(),this.removeListeners()}}const v8=e=>(t,r)=>{e&&$r.update(()=>e(t,r))};class nhe extends Kd{constructor(){super(...arguments),this.removePointerDownListener=Dn}onPointerDown(t){this.session=new Oq(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Fq(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:v8(t),onStart:v8(r),onMove:n,onEnd:(o,l)=>{delete this.session,i&&$r.update(()=>i(o,l))}}}mount(){this.removePointerDownListener=tu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function ihe(){const e=G.useContext(bD);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,i=G.useId();return G.useEffect(()=>n(i),[]),!t&&r?[!1,()=>r&&r(i)]:[!0]}const Tw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function y8(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const j0={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(jt.test(e))e=parseFloat(e);else return e;const r=y8(e,t.target.x),n=y8(e,t.target.y);return`${r}% ${n}%`}},ohe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Fd.parse(e);if(i.length>5)return n;const o=Fd.createTransformer(e),l=typeof i[0]!="number"?1:0,c=r.x.scale*t.x,a=r.y.scale*t.y;i[0+l]/=c,i[1+l]/=a;const s=sn(c,a,.5);return typeof i[2+l]=="number"&&(i[2+l]/=s),typeof i[3+l]=="number"&&(i[3+l]/=s),o(i)}};class ahe extends Et.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=t;fce(she),o&&(r.group&&r.group.add(o),n&&n.register&&i&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Tw.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:o}=this.props,l=n.projection;return l&&(l.isPresent=o,i||t.layoutDependency!==r||r===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||$r.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Uq(e){const[t,r]=ihe(),n=G.useContext(LG);return Et.createElement(ahe,{...e,layoutGroup:n,switchLayoutGroup:G.useContext(zG),isPresent:t,safeToRemove:r})}const she={borderRadius:{...j0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:j0,borderTopRightRadius:j0,borderBottomLeftRadius:j0,borderBottomRightRadius:j0,boxShadow:ohe},Vq=["TopLeft","TopRight","BottomLeft","BottomRight"],lhe=Vq.length,b8=e=>typeof e=="string"?parseFloat(e):e,x8=e=>typeof e=="number"||jt.test(e);function che(e,t,r,n,i,o){i?(e.opacity=sn(0,r.opacity!==void 0?r.opacity:1,uhe(n)),e.opacityExit=sn(t.opacity!==void 0?t.opacity:1,0,dhe(n))):o&&(e.opacity=sn(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let l=0;l<lhe;l++){const c=`border${Vq[l]}Radius`;let a=w8(t,c),s=w8(r,c);if(a===void 0&&s===void 0)continue;a||(a=0),s||(s=0),a===0||s===0||x8(a)===x8(s)?(e[c]=Math.max(sn(b8(a),b8(s),n),0),($l.test(s)||$l.test(a))&&(e[c]+="%")):e[c]=s}(t.rotate||r.rotate)&&(e.rotate=sn(t.rotate||0,r.rotate||0,n))}function w8(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const uhe=Hq(0,.5,dq),dhe=Hq(.5,.95,Dn);function Hq(e,t,r){return n=>n<e?0:n>t?1:r(Yy(e,t,n))}function _8(e,t){e.min=t.min,e.max=t.max}function Oa(e,t){_8(e.x,t.x),_8(e.y,t.y)}function S8(e,t,r,n,i){return e-=t,e=W_(e,1/r,n),i!==void 0&&(e=W_(e,1/i,n)),e}function hhe(e,t=0,r=1,n=.5,i,o=e,l=e){if($l.test(t)&&(t=parseFloat(t),t=sn(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=sn(o.min,o.max,n);e===o&&(c-=t),e.min=S8(e.min,t,r,c,i),e.max=S8(e.max,t,r,c,i)}function E8(e,t,[r,n,i],o,l){hhe(e,t[r],t[n],t[i],t.scale,o,l)}const fhe=["x","scaleX","originX"],phe=["y","scaleY","originY"];function A8(e,t,r,n){E8(e.x,t,fhe,r?r.x:void 0,n?n.x:void 0),E8(e.y,t,phe,r?r.y:void 0,n?n.y:void 0)}function C8(e){return e.translate===0&&e.scale===1}function Wq(e){return C8(e.x)&&C8(e.y)}function mhe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Gq(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function M8(e){return Ta(e.x)/Ta(e.y)}class ghe{constructor(){this.members=[]}add(t){LD(this.members,t),t.scheduleRender()}remove(t){if(zD(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function T8(e,t,r){let n="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(n=`translate3d(${i}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:a,rotateX:s,rotateY:u}=r;a&&(n+=`rotate(${a}deg) `),s&&(n+=`rotateX(${s}deg) `),u&&(n+=`rotateY(${u}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const vhe=(e,t)=>e.depth-t.depth;class yhe{constructor(){this.children=[],this.isDirty=!1}add(t){LD(this.children,t),this.isDirty=!0}remove(t){zD(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vhe),this.isDirty=!1,this.children.forEach(t)}}function bhe(e,t){const r=performance.now(),n=({timestamp:i})=>{const o=i-r;o>=t&&(pu(n),e(o-t))};return $r.read(n,!0),()=>pu(n)}function xhe(e){window.MotionDebug&&window.MotionDebug.record(e)}function whe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function _he(e,t,r){const n=Ko(e)?e:cg(e);return n.start(RD("",n,t,r)),n.animation}const P8=["","X","Y","Z"],She={visibility:"hidden"},k8=1e3;let Ehe=0;const gh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function qq({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(l={},c=t==null?void 0:t()){this.id=Ehe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,gh.totalNodes=gh.resolvedTargetDeltas=gh.recalculatedProjection=0,this.nodes.forEach(Mhe),this.nodes.forEach(jhe),this.nodes.forEach(Ihe),this.nodes.forEach(The),xhe(gh)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new yhe)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new ND),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const a=this.eventHandlers.get(l);a&&a.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=whe(l),this.instance=l;const{layoutId:a,layout:s,visualElement:u}=this.options;if(u&&!u.current&&u.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(s||a)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=bhe(h,250),Tw.hasAnimatedSinceResize&&(Tw.hasAnimatedSinceResize=!1,this.nodes.forEach(j8))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||s)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||Nhe,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=u.getProps(),x=!this.targetLayout||!Gq(this.targetLayout,m)||f,y=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,y);const b={...OD(p,"layout"),onPlay:g,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||j8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ohe),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:c,layout:a}=this.options;if(c===void 0&&!a)return;const s=this.getTransformTemplate();this.prevTransformTemplateValue=s?s(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(D8);return}this.isUpdating||this.nodes.forEach(khe),this.isUpdating=!1,this.nodes.forEach(Dhe),this.nodes.forEach(Ahe),this.nodes.forEach(Che),this.clearAllSnapshots();const c=performance.now();Fi.delta=Bd(0,1e3/60,c-Fi.timestamp),Fi.timestamp=c,Fi.isProcessing=!0,rA.update.process(Fi),rA.preRender.process(Fi),rA.render.process(Fi),Fi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Phe),this.sharedNodes.forEach(Rhe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$r.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$r.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Un(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!Wq(this.projectionDelta),a=this.getTransformTemplate(),s=a?a(this.latestValues,""):void 0,u=s!==this.prevTransformTemplateValue;l&&(c||mh(this.latestValues)||u)&&(i(this.instance,s),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let a=this.removeElementScroll(c);return l&&(a=this.removeTransform(a)),Bhe(a),{animationId:this.root.animationId,measuredBox:c,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Un();const c=l.measureViewportBox(),{scroll:a}=this.root;return a&&(Zu(c.x,a.offset.x),Zu(c.y,a.offset.y)),c}removeElementScroll(l){const c=Un();Oa(c,l);for(let a=0;a<this.path.length;a++){const s=this.path[a],{scroll:u,options:d}=s;if(s!==this.root&&u&&d.layoutScroll){if(u.isRoot){Oa(c,l);const{scroll:h}=this.root;h&&(Zu(c.x,-h.offset.x),Zu(c.y,-h.offset.y))}Zu(c.x,u.offset.x),Zu(c.y,u.offset.y)}}return c}applyTransform(l,c=!1){const a=Un();Oa(a,l);for(let s=0;s<this.path.length;s++){const u=this.path[s];!c&&u.options.layoutScroll&&u.scroll&&u!==u.root&&cm(a,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),mh(u.latestValues)&&cm(a,u.latestValues)}return mh(this.latestValues)&&cm(a,this.latestValues),a}removeTransform(l){const c=Un();Oa(c,l);for(let a=0;a<this.path.length;a++){const s=this.path[a];if(!s.instance||!mh(s.latestValues))continue;S4(s.latestValues)&&s.updateSnapshot();const u=Un(),d=s.measurePageBox();Oa(u,d),A8(c,s.latestValues,s.snapshot?s.snapshot.layoutBox:void 0,u)}return mh(this.latestValues)&&A8(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const s=!!this.resumingFrom||this!==a;if(!(l||s&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Fi.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Un(),this.relativeTargetOrigin=Un(),Jv(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Oa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Un(),this.targetWithTransforms=Un()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Fde(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Oa(this.target,this.layout.layoutBox),Nq(this.target,this.targetDelta)):Oa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Un(),this.relativeTargetOrigin=Un(),Jv(this.relativeTargetOrigin,this.target,f.target),Oa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}gh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||S4(this.parent.latestValues)||zq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),a=!!this.resumingFrom||this!==c;let s=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(s=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(s=!1),this.resolvedRelativeTargetAt===Fi.timestamp&&(s=!1),s)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Oa(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;$de(this.layoutCorrected,this.treeScale,this.path,a),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox);const{target:m}=c;if(!m){this.projectionTransform&&(this.projectionDelta=lm(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=lm(),this.projectionDeltaWithTransform=lm());const p=this.projectionTransform;Qv(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=T8(this.projectionDelta,this.treeScale),(this.projectionTransform!==p||this.treeScale.x!==h||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),gh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,c=!1){const a=this.snapshot,s=a?a.latestValues:{},u={...this.latestValues},d=lm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const h=Un(),f=a?a.source:void 0,m=this.layout?this.layout.source:void 0,p=f!==m,g=this.getStack(),v=!g||g.members.length<=1,x=!!(p&&!v&&this.options.crossfade===!0&&!this.path.some(zhe));this.animationProgress=0;let y;this.mixTargetDelta=b=>{const w=b/1e3;I8(d.x,l.x,w),I8(d.y,l.y,w),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jv(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Lhe(this.relativeTarget,this.relativeTargetOrigin,h,w),y&&mhe(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Un()),Oa(y,this.relativeTarget)),p&&(this.animationValues=u,che(u,s,this.latestValues,w,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$r.update(()=>{Tw.hasAnimatedSinceResize=!0,this.currentAnimation=_he(0,k8,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(k8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:a,layout:s,latestValues:u}=l;if(!(!c||!a||!s)){if(this!==l&&this.layout&&s&&Yq(this.options.animationType,this.layout.layoutBox,s.layoutBox)){a=this.target||Un();const d=Ta(this.layout.layoutBox.x);a.x.min=l.target.x.min,a.x.max=a.x.min+d;const h=Ta(this.layout.layoutBox.y);a.y.min=l.target.y.min,a.y.max=a.y.min+h}Oa(c,a),cm(c,u),Qv(this.projectionDeltaWithTransform,this.layoutCorrected,c,u)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new ghe),this.sharedNodes.get(l).add(c);const s=c.options.initialPromotionConfig;c.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:a}={}){const s=this.getStack();s&&s.promote(this,a),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:a}=l;if((a.rotate||a.rotateX||a.rotateY||a.rotateZ)&&(c=!0),!c)return;const s={};for(let u=0;u<P8.length;u++){const d="rotate"+P8[u];a[d]&&(s[d]=a[d],l.setStaticValue(d,0))}l.render();for(const u in s)l.setStaticValue(u,s[u]);l.scheduleRender()}getProjectionStyles(l){var c,a;if(!this.instance||this.isSVG)return;if(!this.isVisible)return She;const s={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=Mw(l==null?void 0:l.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none",s;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Mw(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!mh(this.latestValues)&&(p.transform=u?u({},""):"none",this.hasProjected=!1),p}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),s.transform=T8(this.projectionDeltaWithTransform,this.treeScale,h),u&&(s.transform=u(h,s.transform));const{x:f,y:m}=this.projectionDelta;s.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,d.animationValues?s.opacity=d===this?(a=(c=h.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:s.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const p in L_){if(h[p]===void 0)continue;const{correct:g,applyTo:v}=L_[p],x=s.transform==="none"?h[p]:g(h[p],d);if(v){const y=v.length;for(let b=0;b<y;b++)s[v[b]]=x}else s[p]=x}return this.options.layoutId&&(s.pointerEvents=d===this?Mw(l==null?void 0:l.pointerEvents)||"":"none"),s}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(D8),this.root.sharedNodes.clear()}}}function Ahe(e){e.updateLayout()}function Che(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:o}=e.options,l=r.source!==e.layout.source;o==="size"?Ha(d=>{const h=l?r.measuredBox[d]:r.layoutBox[d],f=Ta(h);h.min=n[d].min,h.max=h.min+f}):Yq(o,r.layoutBox,n)&&Ha(d=>{const h=l?r.measuredBox[d]:r.layoutBox[d],f=Ta(n[d]);h.max=h.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+f)});const c=lm();Qv(c,n,r.layoutBox);const a=lm();l?Qv(a,e.applyTransform(i,!0),r.measuredBox):Qv(a,n,r.layoutBox);const s=!Wq(c);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const m=Un();Jv(m,r.layoutBox,h.layoutBox);const p=Un();Jv(p,n,f.layoutBox),Gq(m,p)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:a,layoutDelta:c,hasLayoutChanged:s,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Mhe(e){gh.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function The(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Phe(e){e.clearSnapshot()}function D8(e){e.clearMeasurements()}function khe(e){e.isLayoutDirty=!1}function Dhe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function j8(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function jhe(e){e.resolveTargetDelta()}function Ihe(e){e.calcProjection()}function Ohe(e){e.resetRotation()}function Rhe(e){e.removeLeadSnapshot()}function I8(e,t,r){e.translate=sn(t.translate,0,r),e.scale=sn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function O8(e,t,r,n){e.min=sn(t.min,r.min,n),e.max=sn(t.max,r.max,n)}function Lhe(e,t,r,n){O8(e.x,t.x,r.x,n),O8(e.y,t.y,r.y,n)}function zhe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Nhe={duration:.45,ease:[.4,0,.1,1]},R8=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),L8=R8("applewebkit/")&&!R8("chrome/")?Math.round:Dn;function z8(e){e.min=L8(e.min),e.max=L8(e.max)}function Bhe(e){z8(e.x),z8(e.y)}function Yq(e,t,r){return e==="position"||e==="preserve-aspect"&&!w4(M8(t),M8(r),.2)}const Fhe=qq({attachResizeListener:(e,t)=>Xc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fA={current:void 0},Xq=qq({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!fA.current){const e=new Fhe({});e.mount(window),e.setOptions({layoutScroll:!0}),fA.current=e}return fA.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Uhe={pan:{Feature:nhe},drag:{Feature:rhe,ProjectionNode:Xq,MeasureLayout:Uq}},Vhe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Hhe(e){const t=Vhe.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function A4(e,t,r=1){const[n,i]=Hhe(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const l=o.trim();return kq(l)?parseFloat(l):l}else return p4(i)?A4(i,t,r+1):i}function Whe(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(i=>{const o=i.get();if(!p4(o))return;const l=A4(o,n);l&&i.set(l)});for(const i in t){const o=t[i];if(!p4(o))continue;const l=A4(o,n);l&&(t[i]=l,r||(r={}),r[i]===void 0&&(r[i]=o))}return{target:t,transitionEnd:r}}const Ghe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),$q=e=>Ghe.has(e),qhe=e=>Object.keys(e).some($q),N8=e=>e===Rf||e===jt,B8=(e,t)=>parseFloat(e.split(", ")[t]),F8=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return B8(i[1],t);{const o=n.match(/^matrix\((.+)\)$/);return o?B8(o[1],e):0}},Yhe=new Set(["x","y","z"]),Xhe=P1.filter(e=>!Yhe.has(e));function $he(e){const t=[];return Xhe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const ug={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:F8(4,13),y:F8(5,14)};ug.translateX=ug.x;ug.translateY=ug.y;const Khe=(e,t,r)=>{const n=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:l}=o,c={};l==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(s=>{c[s]=ug[s](n,o)}),t.render();const a=t.measureViewportBox();return r.forEach(s=>{const u=t.getValue(s);u&&u.jump(c[s]),e[s]=ug[s](a,o)}),e},Qhe=(e,t,r={},n={})=>{t={...t},n={...n};const i=Object.keys(t).filter($q);let o=[],l=!1;const c=[];if(i.forEach(a=>{const s=e.getValue(a);if(!e.hasValue(a))return;let u=r[a],d=D0(u);const h=t[a];let f;if(N_(h)){const m=h.length,p=h[0]===null?1:0;u=h[p],d=D0(u);for(let g=p;g<m&&h[g]!==null;g++)f?B_(D0(h[g])===f):f=D0(h[g])}else f=D0(h);if(d!==f)if(N8(d)&&N8(f)){const m=s.get();typeof m=="string"&&s.set(parseFloat(m)),typeof h=="string"?t[a]=parseFloat(h):Array.isArray(h)&&f===jt&&(t[a]=h.map(parseFloat))}else d!=null&&d.transform&&(f!=null&&f.transform)&&(u===0||h===0)?u===0?s.set(f.transform(u)):t[a]=d.transform(h):(l||(o=$he(e),l=!0),c.push(a),n[a]=n[a]!==void 0?n[a]:t[a],s.jump(h))}),c.length){const a=c.indexOf("height")>=0?window.pageYOffset:null,s=Khe(t,e,c);return o.length&&o.forEach(([u,d])=>{e.getValue(u).set(d)}),e.render(),OS&&a!==null&&window.scrollTo({top:a}),{target:s,transitionEnd:n}}else return{target:t,transitionEnd:n}};function Jhe(e,t,r,n){return qhe(t)?Qhe(e,t,r,n):{target:t,transitionEnd:n}}const Zhe=(e,t,r,n)=>{const i=Whe(e,t,n);return t=i.target,n=i.transitionEnd,Jhe(e,t,r,n)},C4={current:null},Kq={current:!1};function efe(){if(Kq.current=!0,!!OS)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>C4.current=e.matches;e.addListener(t),t()}else C4.current=!1}function tfe(e,t,r){const{willChange:n}=t;for(const i in t){const o=t[i],l=r[i];if(Ko(o))e.addValue(i,o),H_(n)&&n.add(i);else if(Ko(l))e.addValue(i,cg(o,{owner:e})),H_(n)&&n.remove(i);else if(l!==o)if(e.hasValue(i)){const c=e.getValue(i);!c.hasAnimated&&c.set(o)}else{const c=e.getStaticValue(i);e.addValue(i,cg(c!==void 0?c:o,{owner:e}))}}for(const i in r)t[i]===void 0&&e.removeValue(i);return t}const U8=new WeakMap,Qq=Object.keys(qy),rfe=Qq.length,V8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],nfe=_D.length;class ife{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>$r.render(this.render,!1,!0);const{latestValues:c,renderState:a}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=a,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.isControllingVariants=LS(r),this.isVariantNode=RG(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:s,...u}=this.scrapeMotionValuesFromProps(r,{});for(const d in u){const h=u[d];c[d]!==void 0&&Ko(h)&&(h.set(c[d],!1),H_(s)&&s.add(d))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,U8.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Kq.current||efe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:C4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){U8.delete(this.current),this.projection&&this.projection.unmount(),pu(this.notifyUpdate),pu(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Of.has(t),i=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&$r.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,i,o){let l,c;for(let a=0;a<rfe;a++){const s=Qq[a],{isEnabled:u,Feature:d,ProjectionNode:h,MeasureLayout:f}=qy[s];h&&(l=h),u(r)&&(!this.features[s]&&d&&(this.features[s]=new d(this)),f&&(c=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:a,layout:s,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:f}=r;this.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!u||d&&am(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof s=="string"?s:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:f})}return c}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Un()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<V8.length;n++){const i=V8[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=t["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=tfe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<nfe;n++){const i=_D[n],o=this.props[i];(Gy(o)||o===!1)&&(r[i]=o)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=cg(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=PD(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Ko(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new ND),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Jq extends ife{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:i},o){let l=wde(n,t||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),l&&(l=i(l))),o){bde(this,n,l);const c=Zhe(this,n,l,r);r=c.transitionEnd,n=c.target}return{transition:t,transitionEnd:r,...n}}}function ofe(e){return window.getComputedStyle(e)}class afe extends Jq{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Of.has(r)){const n=ID(r);return n&&n.default||0}else{const n=ofe(t),i=(FG(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Bq(t,r)}build(t,r,n,i){ED(t,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,r){return TD(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ko(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,i){qG(t,r,n,i)}}class sfe extends Jq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Of.has(r)){const n=ID(r);return n&&n.default||0}return r=YG.has(r)?r:xD(r),t.getAttribute(r)}measureInstanceViewportBox(){return Un()}scrapeMotionValuesFromProps(t,r){return $G(t,r)}build(t,r,n,i){CD(t,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,r,n,i){XG(t,r,n,i)}mount(t){this.isSVGTag=MD(t.tagName),super.mount(t)}}const lfe=(e,t)=>SD(e)?new sfe(t,{enableHardwareAcceleration:!1}):new afe(t,{enableHardwareAcceleration:!0}),cfe={layout:{ProjectionNode:Xq,MeasureLayout:Uq}},ufe={...Lde,...nue,...Uhe,...cfe},$u=dce((e,t)=>Wce(e,t,ufe,lfe)),dfe=({data:e})=>{if(!e||e.length===0)return null;const t=e[0];return F.jsxs("div",{className:"cont-project",children:[F.jsxs("div",{className:"left",children:[F.jsx($u.span,{initial:{x:"250%",y:"50%"},animate:{x:"10%"},transition:{type:"easein",delay:"0.1",duration:"0.7"},className:"addon",children:F.jsx(Ule,{className:"icon-pro"})}),F.jsx($u.span,{initial:{x:"250%",y:"50%"},animate:{x:"10%"},transition:{type:"easein",delay:"0.1",duration:"0.7"},className:"addon",children:F.jsx($le,{className:"icon-pro"})}),F.jsx($u.span,{initial:{x:"250%",y:"50%"},animate:{x:"10%"},transition:{duration:"0.7"},className:"addon",children:F.jsx(yD,{className:"icon-pro"})})]}),F.jsxs("div",{className:"center",children:[F.jsx("h1",{children:t[0]}),F.jsxs("div",{className:"made",children:[" ",F.jsx("h3",{children:"Built by "})," ",F.jsx("span",{children:" Dev"})]}),F.jsxs($u.div,{className:"card-pro",initial:{scale:"0.9",rotate:"-5deg"},animate:{rotate:"0deg"},whileHover:{scale:"1",rotateZ:"2deg"},transition:{delay:"0.2"},children:[F.jsx("img",{src:zle,alt:""}),F.jsxs("div",{className:"text-pro",children:[F.jsx("h1",{children:t[0]}),F.jsx("p",{children:t[1]})]}),F.jsxs("div",{className:"end-pro",children:[F.jsx("div",{className:"end-pro-left",children:F.jsx("span",{children:"link to project"})}),F.jsxs("div",{className:"end-pro-right",children:[F.jsx(ece,{className:"icon-like"}),F.jsx(Zle,{className:"icon-like"})]})]})]})]}),F.jsxs("div",{className:"right",children:[F.jsx($u.span,{initial:{x:"-250%"},animate:{x:"-10%"},transition:{duration:"0.7"},className:"addon",children:F.jsx(Wle,{className:"icon-pro"})}),F.jsx($u.span,{initial:{x:"-250%"},animate:{x:"-10%"},transition:{duration:"0.7"},className:"addon",children:F.jsx(NR,{className:"icon-pro"})}),F.jsx($u.span,{initial:{x:"-250%",rotate:"0deg"},animate:{x:"-10%",rotateX:"5deg"},transition:{type:"easein",delay:"0.1",duration:"0.7"},className:"addon",children:F.jsx(NR,{className:"icon-pro"})})]})]})},hfe=({onClose:e})=>{G.useState(""),G.useState("");const[t,r]=G.useState(""),[n,i]=G.useState(""),[o,l]=G.useState(""),[c,a]=G.useState(""),[s,u]=G.useState(!1),[d,h]=G.useState(""),[f,m]=G.useState(!1),[p,g]=G.useState("");G.useEffect(()=>{(async()=>{try{await w()}catch(S){console.error("Error fetching data:",S)}})()},[]);const v=async()=>{try{if(window.ethereum){await window.ethereum.request({method:"eth_requestAccounts"});const S=(await window.ethereum.request({method:"eth_accounts"}))[0];console.log("Connected to MetaMask. Account:",S)}else console.error("MetaMask is not installed!")}catch(_){console.error("Error connecting to MetaMask:",_.message)}};let x;const y=async()=>{const _="0x350f1246bDcb60Dca95727E77F440Deede54a036",S=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"projectOwner",type:"address"},{indexed:!1,internalType:"string",name:"title",type:"string"}],name:"ProjectAdded",type:"event"},{inputs:[{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"pictureLink",type:"string"},{internalType:"string",name:"githubLink",type:"string"},{internalType:"bool",name:"allowContributions",type:"bool"},{internalType:"string",name:"domain",type:"string"},{internalType:"bool",name:"isDeployed",type:"bool"}],name:"addProject",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"projectOwner",type:"address"}],name:"getAllProjects",outputs:[{components:[{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"pictureLink",type:"string"},{internalType:"string",name:"githubLink",type:"string"},{internalType:"bool",name:"allowContributions",type:"bool"},{internalType:"string",name:"domain",type:"string"},{internalType:"bool",name:"isDeployed",type:"bool"}],internalType:"struct Project.ProjectData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"projects",outputs:[{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"pictureLink",type:"string"},{internalType:"string",name:"githubLink",type:"string"},{internalType:"bool",name:"allowContributions",type:"bool"},{internalType:"string",name:"domain",type:"string"},{internalType:"bool",name:"isDeployed",type:"bool"}],stateMutability:"view",type:"function"}],C=new tA(window.ethereum).getSigner();x=new ile(_,S,C),console.log(x.address)},b=async _=>{_.preventDefault();try{const E=new tA(window.ethereum).getSigner();await x.connect(E).addProject(t,n,o,c,s,d,f),console.log("Project added successfully!")}catch(S){console.error("Error adding project:",S.message)}},w=async _=>{try{const E=new tA(window.ethereum).getSigner();console.log(x);const A=await x.connect(E).getAllProjects("0x906AE658f4e996FAB721b9C2722276De5eDc056d");console.log(A),console.log(A.title),g(A)}catch(S){console.log(S)}};return F.jsxs("div",{className:"addpro-cont",tabIndex:"-1",role:"dialog",children:[F.jsxs("div",{className:"registerp",children:[F.jsxs("form",{className:"registerp-form",children:[F.jsx("div",{className:"line-reg",children:F.jsx("h1",{children:"Add a project"})}),F.jsxs("div",{className:"leftformpro",children:[F.jsxs("div",{className:"addpro-left",children:[F.jsx("label",{htmlFor:"title",children:"Project Title"}),F.jsx("input",{name:"title",type:"text",placeholder:"PROJECT",value:t,onChange:_=>r(_.target.value)}),F.jsx("label",{htmlFor:"desc",children:"Write Project Description"}),F.jsx("textarea",{placeholder:"A short description of your project",name:"desc",value:n,onChange:_=>i(_.target.value),cols:"30",rows:"10"})]}),F.jsxs("div",{className:"addpro-right",children:[" ",F.jsx("label",{htmlFor:"pictureLink",children:"Project Picture"}),F.jsx("input",{type:"file",onChange:_=>l(_.target.files[0])}),F.jsx("label",{htmlFor:"githubLink",children:"Github Link"}),F.jsx("input",{name:"githubLink",type:"text",placeholder:"Link",value:c,onChange:_=>a(_.target.value)}),F.jsxs("div",{className:"toggle",children:[F.jsx("label",{htmlFor:"allowContributions",children:"Want People to contribute?"}),F.jsxs("label",{className:"switch",children:[F.jsx("input",{type:"checkbox",checked:s,onChange:_=>u(_.target.checked)}),F.jsx("span",{className:"slider round"})]})]}),F.jsx("label",{htmlFor:"domain",children:"Select Your Project Domain"}),F.jsxs("select",{name:"domain",id:"",value:d,onChange:_=>h(_.target.value),children:[F.jsx("option",{value:"medical",children:"Medical"}),F.jsx("option",{value:"fintech",children:"Fintech"}),F.jsx("option",{value:"industry",children:"Industry"}),F.jsx("option",{value:"environment",children:"Environment"})]}),F.jsxs("div",{className:"toggle",children:[F.jsx("label",{htmlFor:"isDeployed",children:"Is it deployed?"}),F.jsxs("label",{className:"switch",children:[F.jsx("input",{type:"checkbox",checked:f,onChange:_=>m(_.target.checked)}),F.jsx("span",{className:"slider round"})]})]}),F.jsx("button",{onClick:b,children:"Save and Add"})]})]})]}),F.jsxs("div",{className:"but-addpro",children:[" ",F.jsx("button",{onClick:v,className:"form-add-but",children:"Connect To MetaMask"}),F.jsx("button",{onClick:y,className:"form-add-but",children:"Initiate Contract"})]})]}),F.jsx("button",{onClick:w,className:"pro-but-fet",children:"See Project"}),F.jsx("div",{className:"see-pro-cont",style:{width:"100%"},children:F.jsx(dfe,{data:p})})]})},G_=({title:e,img:t,desc:r,socialLinks:n})=>F.jsxs("div",{className:"card-cont",children:[e&&F.jsx("div",{className:"card-head",children:e}),t&&F.jsx("div",{className:"card-img",children:F.jsx("img",{src:t,alt:""})}),r&&F.jsx("div",{className:"card-desc",children:r}),n&&F.jsx("div",{className:"card-social-links",children:n.map((i,o)=>F.jsxs("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",children:[i.icon==="twitter"&&F.jsx(Hle,{}),i.icon==="linkedIn"&&F.jsx(Vle,{})]},o))})]}),ffe=()=>{const[e,t]=G.useState(""),r=Lg(),n={name:"John Doe",desc:"Software Engineer",img:"user1.jpg",email:"john.doe@example.com",country:"USA",contact:"+1 123-456-7890",linkedin:"https://www.linkedin.com/in/johndoe",github:"https://github.com/johndoe"},i=[{index:1,title:"Farm Financer",img:"/bg.jpg",desc:"A one stop solution to deal with all the financial hassales for farmers"},{index:2,title:"Athena Data Analytics",img:"/pr2.png",desc:"Leveraging machine learning to transform big data into actionable insights for businesses"},{index:3,title:"Green Horizon Energy",img:"/pr3.png",desc:"Developing sustainable, renewable energy solutions to combat climate change"},{index:4,title:"Urban Agriculture Revolution",img:"/pr4.png",desc:"Implementing vertical farming techniques to create food security in urban environments"}],o=()=>{r("/addproject")},l=()=>{t(!1)};return F.jsxs(F.Fragment,{children:[e&&F.jsx("div",{className:"modal-overlay",children:F.jsx("div",{className:"centre-user",tabIndex:"-1",role:"dialog",children:F.jsx(AddProject,{onClose:l})})}),F.jsxs("div",{className:"cont-userpro",children:[F.jsxs("div",{className:"left-user",children:[F.jsx("div",{className:"user-img",children:F.jsx("img",{src:n.img,alt:""})}),F.jsx("div",{className:"user-desc",children:F.jsx("p",{children:n.desc})}),F.jsxs("div",{className:"user-social",children:[F.jsxs("div",{className:"u-link",children:[F.jsx("span",{className:"icon",children:F.jsx(PG,{})}),F.jsx("span",{className:"link",children:n.linkedin})]}),F.jsxs("div",{className:"u-link",children:[F.jsx("span",{className:"icon",children:F.jsx(Jle,{})}),F.jsx("span",{className:"link",children:n.github})]})]})]}),F.jsxs("div",{className:"right-user",children:[F.jsxs("div",{className:"user-header",children:[F.jsx("div",{className:"user-head",children:F.jsxs("h1",{children:["Hello , It's ",F.jsx("span",{className:"head-name",children:n.name})," "]})}),F.jsx("div",{className:"user-edit",children:F.jsx(qle,{})})]}),F.jsxs("div",{className:"user-deets",children:[F.jsx("span",{className:"user-info",children:n.desc}),F.jsx("span",{className:"user-info",children:n.email}),F.jsx("span",{className:"user-info",children:n.country}),F.jsx("span",{className:"user-info",children:n.contact}),F.jsx("span",{className:"user-info",children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Mollitia dolores accusamus laborum."})]}),F.jsxs("div",{className:"user-project-sec",children:[F.jsx("div",{className:"user-projects",children:i.map(c=>F.jsx(G_,{title:c.title,img:c.img},c.index))}),F.jsx("div",{className:"user-add-pro",onClick:o,children:F.jsx(G_,{title:F.jsx(Xle,{})})})]})]})]})]})};var BD={exports:{}},Zq=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}};/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var pfe=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)},mfe=Zq,gfe=pfe,Vg=Object.prototype.toString;function eY(e){return Vg.call(e)==="[object Array]"}function vfe(e){return Vg.call(e)==="[object ArrayBuffer]"}function yfe(e){return typeof FormData<"u"&&e instanceof FormData}function bfe(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function xfe(e){return typeof e=="string"}function wfe(e){return typeof e=="number"}function _fe(e){return typeof e>"u"}function tY(e){return e!==null&&typeof e=="object"}function Sfe(e){return Vg.call(e)==="[object Date]"}function Efe(e){return Vg.call(e)==="[object File]"}function Afe(e){return Vg.call(e)==="[object Blob]"}function rY(e){return Vg.call(e)==="[object Function]"}function Cfe(e){return tY(e)&&rY(e.pipe)}function Mfe(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function Tfe(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function Pfe(){return typeof navigator<"u"&&navigator.product==="ReactNative"?!1:typeof window<"u"&&typeof document<"u"}function FD(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),eY(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function nY(){var e={};function t(i,o){typeof e[o]=="object"&&typeof i=="object"?e[o]=nY(e[o],i):e[o]=i}for(var r=0,n=arguments.length;r<n;r++)FD(arguments[r],t);return e}function kfe(e,t,r){return FD(t,function(i,o){r&&typeof i=="function"?e[o]=mfe(i,r):e[o]=i}),e}var ys={isArray:eY,isArrayBuffer:vfe,isBuffer:gfe,isFormData:yfe,isArrayBufferView:bfe,isString:xfe,isNumber:wfe,isObject:tY,isUndefined:_fe,isDate:Sfe,isFile:Efe,isBlob:Afe,isFunction:rY,isStream:Cfe,isURLSearchParams:Mfe,isStandardBrowserEnv:Pfe,forEach:FD,merge:nY,extend:kfe,trim:Tfe},Dfe=ys,jfe=function(t,r){Dfe.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},pA,H8;function Ife(){return H8||(H8=1,pA=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t}),pA}var mA,W8;function iY(){if(W8)return mA;W8=1;var e=Ife();return mA=function(r,n,i,o,l){var c=new Error(r);return e(c,n,i,o,l)},mA}var gA,G8;function Ofe(){if(G8)return gA;G8=1;var e=iY();return gA=function(r,n,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?r(i):n(e("Request failed with status code "+i.status,i.config,null,i.request,i))},gA}var vA,q8;function Rfe(){if(q8)return vA;q8=1;var e=ys;function t(r){return encodeURIComponent(r).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return vA=function(n,i,o){if(!i)return n;var l;if(o)l=o(i);else if(e.isURLSearchParams(i))l=i.toString();else{var c=[];e.forEach(i,function(s,u){s===null||typeof s>"u"||(e.isArray(s)?u=u+"[]":s=[s],e.forEach(s,function(h){e.isDate(h)?h=h.toISOString():e.isObject(h)&&(h=JSON.stringify(h)),c.push(t(u)+"="+t(h))}))}),l=c.join("&")}return l&&(n+=(n.indexOf("?")===-1?"?":"&")+l),n},vA}var yA,Y8;function Lfe(){if(Y8)return yA;Y8=1;var e=ys,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return yA=function(n){var i={},o,l,c;return n&&e.forEach(n.split(`
`),function(s){if(c=s.indexOf(":"),o=e.trim(s.substr(0,c)).toLowerCase(),l=e.trim(s.substr(c+1)),o){if(i[o]&&t.indexOf(o)>=0)return;o==="set-cookie"?i[o]=(i[o]?i[o]:[]).concat([l]):i[o]=i[o]?i[o]+", "+l:l}}),i},yA}var bA,X8;function zfe(){if(X8)return bA;X8=1;var e=ys;return bA=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function o(l){var c=l;return r&&(n.setAttribute("href",c),c=n.href),n.setAttribute("href",c),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=o(window.location.href),function(c){var a=e.isString(c)?o(c):c;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}(),bA}var xA,$8;function Nfe(){if($8)return xA;$8=1;var e=ys;return xA=e.isStandardBrowserEnv()?function(){return{write:function(n,i,o,l,c,a){var s=[];s.push(n+"="+encodeURIComponent(i)),e.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),e.isString(l)&&s.push("path="+l),e.isString(c)&&s.push("domain="+c),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),xA}var wA,K8;function Q8(){if(K8)return wA;K8=1;var e=ys,t=Ofe(),r=Rfe(),n=Lfe(),i=zfe(),o=iY();return wA=function(c){return new Promise(function(s,u){var d=c.data,h=c.headers;e.isFormData(d)&&delete h["Content-Type"];var f=new XMLHttpRequest;if(c.auth){var m=c.auth.username||"",p=c.auth.password||"";h.Authorization="Basic "+btoa(m+":"+p)}if(f.open(c.method.toUpperCase(),r(c.url,c.params,c.paramsSerializer),!0),f.timeout=c.timeout,f.onreadystatechange=function(){if(!(!f||f.readyState!==4)&&!(f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0))){var y="getAllResponseHeaders"in f?n(f.getAllResponseHeaders()):null,b=!c.responseType||c.responseType==="text"?f.responseText:f.response,w={data:b,status:f.status,statusText:f.statusText,headers:y,config:c,request:f};t(s,u,w),f=null}},f.onerror=function(){u(o("Network Error",c,null,f)),f=null},f.ontimeout=function(){u(o("timeout of "+c.timeout+"ms exceeded",c,"ECONNABORTED",f)),f=null},e.isStandardBrowserEnv()){var g=Nfe(),v=(c.withCredentials||i(c.url))&&c.xsrfCookieName?g.read(c.xsrfCookieName):void 0;v&&(h[c.xsrfHeaderName]=v)}if("setRequestHeader"in f&&e.forEach(h,function(y,b){typeof d>"u"&&b.toLowerCase()==="content-type"?delete h[b]:f.setRequestHeader(b,y)}),c.withCredentials&&(f.withCredentials=!0),c.responseType)try{f.responseType=c.responseType}catch(x){if(c.responseType!=="json")throw x}typeof c.onDownloadProgress=="function"&&f.addEventListener("progress",c.onDownloadProgress),typeof c.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",c.onUploadProgress),c.cancelToken&&c.cancelToken.promise.then(function(y){f&&(f.abort(),u(y),f=null)}),d===void 0&&(d=null),f.send(d)})},wA}var ko=ys,Bfe=jfe,Ffe={"Content-Type":"application/x-www-form-urlencoded"};function J8(e,t){!ko.isUndefined(e)&&ko.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Ufe(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u")&&(e=Q8()),e}var FS={adapter:Ufe(),transformRequest:[function(t,r){return Bfe(r,"Content-Type"),ko.isFormData(t)||ko.isArrayBuffer(t)||ko.isBuffer(t)||ko.isStream(t)||ko.isFile(t)||ko.isBlob(t)?t:ko.isArrayBufferView(t)?t.buffer:ko.isURLSearchParams(t)?(J8(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):ko.isObject(t)?(J8(r,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if(typeof t=="string")try{t=JSON.parse(t)}catch{}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};FS.headers={common:{Accept:"application/json, text/plain, */*"}};ko.forEach(["delete","get","head"],function(t){FS.headers[t]={}});ko.forEach(["post","put","patch"],function(t){FS.headers[t]=ko.merge(Ffe)});var UD=FS,Vfe=ys;function US(){this.handlers=[]}US.prototype.use=function(t,r){return this.handlers.push({fulfilled:t,rejected:r}),this.handlers.length-1};US.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};US.prototype.forEach=function(t){Vfe.forEach(this.handlers,function(n){n!==null&&t(n)})};var Hfe=US,Wfe=ys,Gfe=function(t,r,n){return Wfe.forEach(n,function(o){t=o(t,r)}),t},_A,Z8;function oY(){return Z8||(Z8=1,_A=function(t){return!!(t&&t.__CANCEL__)}),_A}var qfe=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},Yfe=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},eL=ys,SA=Gfe,Xfe=oY(),$fe=UD,Kfe=qfe,Qfe=Yfe;function EA(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var Jfe=function(t){EA(t),t.baseURL&&!Kfe(t.url)&&(t.url=Qfe(t.baseURL,t.url)),t.headers=t.headers||{},t.data=SA(t.data,t.headers,t.transformRequest),t.headers=eL.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),eL.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||$fe.adapter;return r(t).then(function(i){return EA(t),i.data=SA(i.data,i.headers,t.transformResponse),i},function(i){return Xfe(i)||(EA(t),i&&i.response&&(i.response.data=SA(i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},Zfe=UD,dg=ys,tL=Hfe,epe=Jfe;function VS(e){this.defaults=e,this.interceptors={request:new tL,response:new tL}}VS.prototype.request=function(t){typeof t=="string"&&(t=dg.merge({url:arguments[0]},arguments[1])),t=dg.merge(Zfe,{method:"get"},this.defaults,t),t.method=t.method.toLowerCase();var r=[epe,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(o){r.unshift(o.fulfilled,o.rejected)}),this.interceptors.response.forEach(function(o){r.push(o.fulfilled,o.rejected)});r.length;)n=n.then(r.shift(),r.shift());return n};dg.forEach(["delete","get","head","options"],function(t){VS.prototype[t]=function(r,n){return this.request(dg.merge(n||{},{method:t,url:r}))}});dg.forEach(["post","put","patch"],function(t){VS.prototype[t]=function(r,n,i){return this.request(dg.merge(i||{},{method:t,url:r,data:n}))}});var tpe=VS,AA,rL;function aY(){if(rL)return AA;rL=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,AA=e,AA}var CA,nL;function rpe(){if(nL)return CA;nL=1;var e=aY();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(l){n=l});var i=this;r(function(l){i.reason||(i.reason=new e(l),n(i.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.source=function(){var n,i=new t(function(l){n=l});return{token:i,cancel:n}},CA=t,CA}var MA,iL;function npe(){return iL||(iL=1,MA=function(t){return function(n){return t.apply(null,n)}}),MA}var M4=ys,ipe=Zq,Pw=tpe,sY=UD;function lY(e){var t=new Pw(e),r=ipe(Pw.prototype.request,t);return M4.extend(r,Pw.prototype,t),M4.extend(r,t),r}var Su=lY(sY);Su.Axios=Pw;Su.create=function(t){return lY(M4.merge(sY,t))};Su.Cancel=aY();Su.CancelToken=rpe();Su.isCancel=oY();Su.all=function(t){return Promise.all(t)};Su.spread=npe();BD.exports=Su;BD.exports.default=Su;var ope=BD.exports,ape=ope;const Eu=il(ape);function spe(){const e=Lg(),[t,r]=G.useState(null),[n,i]=G.useState(null),[o,l]=G.useState({username:"",email:"",password:"",img:"",country:"",name:"",contact:"",resume:" ",isSeller:!1,desc:""}),c=u=>{l(d=>({...d,[u.target.name]:u.target.value}))},a=async u=>{u.preventDefault(),e("/sign");try{console.log(o);const d=new FormData;d.append("username",o.username),d.append("email",o.email),d.append("password",o.password),d.append("img",t),d.append("country",o.country),d.append("name",o.name),d.append("contact",o.contact),d.append("resume",n),d.append("isSeller",o.isSeller),d.append("desc",o.desc),await Eu.post("http://localhost:3000/api/v1/users/register",d),console.log("User created successfully")}catch(d){console.log(d)}},s={hover:{scale:1.025},tap:{scale:.975}};return F.jsx("div",{className:"register",children:F.jsxs("div",{className:"cont-reg",children:[F.jsxs("div",{className:"nav-main-reg",children:[F.jsxs("div",{className:"opt-reg",children:[F.jsx("span",{className:"red"}),F.jsx("span",{className:"yellow"}),F.jsx("span",{className:"green"})]}),F.jsx("span",{className:"textreg",children:"register@admin.dev"})]}),F.jsxs("form",{onSubmit:a,children:[F.jsxs("div",{className:"leftform",children:[F.jsxs("div",{className:"line-reg",children:[F.jsx(Qle,{className:"icon-reg"})," ",F.jsx("h1",{children:"Create new account"})]}),F.jsx("label",{htmlFor:"",children:"Username"}),F.jsx("input",{name:"username",type:"text",placeholder:"johndoe",onChange:c}),F.jsx("label",{htmlFor:"",children:"Email"}),F.jsx("input",{name:"email",type:"email",placeholder:"email",onChange:c}),F.jsx("label",{htmlFor:"",children:"Password"}),F.jsx("input",{name:"password",type:"password",onChange:c}),F.jsx("label",{htmlFor:"",children:"Profile Picture"}),F.jsx("input",{type:"file",onChange:u=>r(u.target.files[0])}),F.jsx("label",{htmlFor:"",children:"Country"}),F.jsx("input",{name:"country",type:"text",placeholder:"Uttar Pradesh",onChange:c}),F.jsx($u.button,{variants:s,whileHover:"hover",whileTap:"tap",type:"submit",children:"Register"})]}),F.jsxs("div",{className:"rightform",children:[F.jsxs("div",{className:"line-reg",children:[F.jsx(Gle,{className:"icon-reg"})," ",F.jsx("h1",{children:"Basic Information"})]}),F.jsx("label",{htmlFor:"",children:"Name"}),F.jsx("input",{name:"name",type:"text",placeholder:"dev",onChange:c}),F.jsx("label",{htmlFor:"",children:"Add Resume"}),F.jsx("input",{type:"file",onChange:u=>i(u.target.files[0])}),F.jsx("label",{htmlFor:"",children:"Phone Number"}),F.jsx("input",{name:"phone",type:"text",placeholder:"+1 234 567 89",onChange:c}),F.jsx("label",{htmlFor:"",children:"Write about Yourself "}),F.jsx("textarea",{placeholder:"A short description of yourself",name:"desc",id:"",cols:"30",rows:"10",onChange:c})]})]})]})})}const lpe=()=>{const e=[{index:1,title:"Farm Financer",img:"/bg.jpg",desc:"A one stop solution to deal with all the financial hassales for farmers"},{index:2,title:"Athena Data Analytics",img:"/pr2.png",desc:"Leveraging machine learning to transform big data into actionable insights for businesses"},{index:3,title:"Green Horizon Energy",img:"/pr3.png",desc:"Developing sustainable, renewable energy solutions to combat climate change"},{index:4,title:"Urban Agriculture Revolution",img:"/pr4.png",desc:"Implementing vertical farming techniques to create food security in urban environments"}];return F.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:e.map(t=>F.jsx(G_,{title:t.title,img:t.img,desc:t.desc},t.index))})},Xy={black:"#000",white:"#fff"},qf={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Yf={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Xf={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},$f={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Kf={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},I0={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},cpe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function gf(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const upe=Object.freeze(Object.defineProperty({__proto__:null,default:gf},Symbol.toStringTag,{value:"Module"})),I1="$$material";function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ue.apply(null,arguments)}function Lt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cY(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var dpe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,hpe=cY(function(e){return dpe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function fpe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function ppe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var mpe=function(){function e(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ppe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=fpe(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Bi="-ms-",q_="-moz-",vr="-webkit-",uY="comm",VD="rule",HD="decl",gpe="@import",dY="@keyframes",vpe="@layer",ype=Math.abs,HS=String.fromCharCode,bpe=Object.assign;function xpe(e,t){return ki(e,0)^45?(((t<<2^ki(e,0))<<2^ki(e,1))<<2^ki(e,2))<<2^ki(e,3):0}function hY(e){return e.trim()}function wpe(e,t){return(e=t.exec(e))?e[0]:e}function yr(e,t,r){return e.replace(t,r)}function T4(e,t){return e.indexOf(t)}function ki(e,t){return e.charCodeAt(t)|0}function $y(e,t,r){return e.slice(t,r)}function Pl(e){return e.length}function WD(e){return e.length}function Ib(e,t){return t.push(e),e}function _pe(e,t){return e.map(t).join("")}var WS=1,hg=1,fY=0,Qo=0,Yn=0,Hg="";function GS(e,t,r,n,i,o,l){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:WS,column:hg,length:l,return:""}}function O0(e,t){return bpe(GS("",null,null,"",null,null,0),e,{length:-e.length},t)}function Spe(){return Yn}function Epe(){return Yn=Qo>0?ki(Hg,--Qo):0,hg--,Yn===10&&(hg=1,WS--),Yn}function Ea(){return Yn=Qo<fY?ki(Hg,Qo++):0,hg++,Yn===10&&(hg=1,WS++),Yn}function Kl(){return ki(Hg,Qo)}function kw(){return Qo}function O1(e,t){return $y(Hg,e,t)}function Ky(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pY(e){return WS=hg=1,fY=Pl(Hg=e),Qo=0,[]}function mY(e){return Hg="",e}function Dw(e){return hY(O1(Qo-1,P4(e===91?e+2:e===40?e+1:e)))}function Ape(e){for(;(Yn=Kl())&&Yn<33;)Ea();return Ky(e)>2||Ky(Yn)>3?"":" "}function Cpe(e,t){for(;--t&&Ea()&&!(Yn<48||Yn>102||Yn>57&&Yn<65||Yn>70&&Yn<97););return O1(e,kw()+(t<6&&Kl()==32&&Ea()==32))}function P4(e){for(;Ea();)switch(Yn){case e:return Qo;case 34:case 39:e!==34&&e!==39&&P4(Yn);break;case 40:e===41&&P4(e);break;case 92:Ea();break}return Qo}function Mpe(e,t){for(;Ea()&&e+Yn!==57;)if(e+Yn===84&&Kl()===47)break;return"/*"+O1(t,Qo-1)+"*"+HS(e===47?e:Ea())}function Tpe(e){for(;!Ky(Kl());)Ea();return O1(e,Qo)}function Ppe(e){return mY(jw("",null,null,null,[""],e=pY(e),0,[0],e))}function jw(e,t,r,n,i,o,l,c,a){for(var s=0,u=0,d=l,h=0,f=0,m=0,p=1,g=1,v=1,x=0,y="",b=i,w=o,_=n,S=y;g;)switch(m=x,x=Ea()){case 40:if(m!=108&&ki(S,d-1)==58){T4(S+=yr(Dw(x),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:S+=Dw(x);break;case 9:case 10:case 13:case 32:S+=Ape(m);break;case 92:S+=Cpe(kw()-1,7);continue;case 47:switch(Kl()){case 42:case 47:Ib(kpe(Mpe(Ea(),kw()),t,r),a);break;default:S+="/"}break;case 123*p:c[s++]=Pl(S)*v;case 125*p:case 59:case 0:switch(x){case 0:case 125:g=0;case 59+u:v==-1&&(S=yr(S,/\f/g,"")),f>0&&Pl(S)-d&&Ib(f>32?aL(S+";",n,r,d-1):aL(yr(S," ","")+";",n,r,d-2),a);break;case 59:S+=";";default:if(Ib(_=oL(S,t,r,s,u,i,c,y,b=[],w=[],d),o),x===123)if(u===0)jw(S,t,_,_,b,o,d,c,w);else switch(h===99&&ki(S,3)===110?100:h){case 100:case 108:case 109:case 115:jw(e,_,_,n&&Ib(oL(e,_,_,0,0,i,c,y,i,b=[],d),w),i,w,d,c,n?b:w);break;default:jw(S,_,_,_,[""],w,0,c,w)}}s=u=f=0,p=v=1,y=S="",d=l;break;case 58:d=1+Pl(S),f=m;default:if(p<1){if(x==123)--p;else if(x==125&&p++==0&&Epe()==125)continue}switch(S+=HS(x),x*p){case 38:v=u>0?1:(S+="\f",-1);break;case 44:c[s++]=(Pl(S)-1)*v,v=1;break;case 64:Kl()===45&&(S+=Dw(Ea())),h=Kl(),u=d=Pl(y=S+=Tpe(kw())),x++;break;case 45:m===45&&Pl(S)==2&&(p=0)}}return o}function oL(e,t,r,n,i,o,l,c,a,s,u){for(var d=i-1,h=i===0?o:[""],f=WD(h),m=0,p=0,g=0;m<n;++m)for(var v=0,x=$y(e,d+1,d=ype(p=l[m])),y=e;v<f;++v)(y=hY(p>0?h[v]+" "+x:yr(x,/&\f/g,h[v])))&&(a[g++]=y);return GS(e,t,r,i===0?VD:c,a,s,u)}function kpe(e,t,r){return GS(e,t,r,uY,HS(Spe()),$y(e,2,-2),0)}function aL(e,t,r,n){return GS(e,t,r,HD,$y(e,0,n),$y(e,n+1,-1),n)}function Pm(e,t){for(var r="",n=WD(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function Dpe(e,t,r,n){switch(e.type){case vpe:if(e.children.length)break;case gpe:case HD:return e.return=e.return||e.value;case uY:return"";case dY:return e.return=e.value+"{"+Pm(e.children,n)+"}";case VD:e.value=e.props.join(",")}return Pl(r=Pm(e.children,n))?e.return=e.value+"{"+r+"}":""}function jpe(e){var t=WD(e);return function(r,n,i,o){for(var l="",c=0;c<t;c++)l+=e[c](r,n,i,o)||"";return l}}function Ipe(e){return function(t){t.root||(t=t.return)&&e(t)}}var Ope=function(t,r,n){for(var i=0,o=0;i=o,o=Kl(),i===38&&o===12&&(r[n]=1),!Ky(o);)Ea();return O1(t,Qo)},Rpe=function(t,r){var n=-1,i=44;do switch(Ky(i)){case 0:i===38&&Kl()===12&&(r[n]=1),t[n]+=Ope(Qo-1,r,n);break;case 2:t[n]+=Dw(i);break;case 4:if(i===44){t[++n]=Kl()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=HS(i)}while(i=Ea());return t},Lpe=function(t,r){return mY(Rpe(pY(t),r))},sL=new WeakMap,zpe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!sL.get(n))&&!i){sL.set(t,!0);for(var o=[],l=Lpe(r,o),c=n.props,a=0,s=0;a<l.length;a++)for(var u=0;u<c.length;u++,s++)t.props[s]=o[a]?l[a].replace(/&\f/g,c[u]):c[u]+" "+l[a]}}},Npe=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function gY(e,t){switch(xpe(e,t)){case 5103:return vr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return vr+e+q_+e+Bi+e+e;case 6828:case 4268:return vr+e+Bi+e+e;case 6165:return vr+e+Bi+"flex-"+e+e;case 5187:return vr+e+yr(e,/(\w+).+(:[^]+)/,vr+"box-$1$2"+Bi+"flex-$1$2")+e;case 5443:return vr+e+Bi+"flex-item-"+yr(e,/flex-|-self/,"")+e;case 4675:return vr+e+Bi+"flex-line-pack"+yr(e,/align-content|flex-|-self/,"")+e;case 5548:return vr+e+Bi+yr(e,"shrink","negative")+e;case 5292:return vr+e+Bi+yr(e,"basis","preferred-size")+e;case 6060:return vr+"box-"+yr(e,"-grow","")+vr+e+Bi+yr(e,"grow","positive")+e;case 4554:return vr+yr(e,/([^-])(transform)/g,"$1"+vr+"$2")+e;case 6187:return yr(yr(yr(e,/(zoom-|grab)/,vr+"$1"),/(image-set)/,vr+"$1"),e,"")+e;case 5495:case 3959:return yr(e,/(image-set\([^]*)/,vr+"$1$`$1");case 4968:return yr(yr(e,/(.+:)(flex-)?(.*)/,vr+"box-pack:$3"+Bi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vr+e+e;case 4095:case 3583:case 4068:case 2532:return yr(e,/(.+)-inline(.+)/,vr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Pl(e)-1-t>6)switch(ki(e,t+1)){case 109:if(ki(e,t+4)!==45)break;case 102:return yr(e,/(.+:)(.+)-([^]+)/,"$1"+vr+"$2-$3$1"+q_+(ki(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~T4(e,"stretch")?gY(yr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ki(e,t+1)!==115)break;case 6444:switch(ki(e,Pl(e)-3-(~T4(e,"!important")&&10))){case 107:return yr(e,":",":"+vr)+e;case 101:return yr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+vr+(ki(e,14)===45?"inline-":"")+"box$3$1"+vr+"$2$3$1"+Bi+"$2box$3")+e}break;case 5936:switch(ki(e,t+11)){case 114:return vr+e+Bi+yr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return vr+e+Bi+yr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return vr+e+Bi+yr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return vr+e+Bi+e+e}return e}var Bpe=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case HD:t.return=gY(t.value,t.length);break;case dY:return Pm([O0(t,{value:yr(t.value,"@","@"+vr)})],i);case VD:if(t.length)return _pe(t.props,function(o){switch(wpe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Pm([O0(t,{props:[yr(o,/:(read-\w+)/,":"+q_+"$1")]})],i);case"::placeholder":return Pm([O0(t,{props:[yr(o,/:(plac\w+)/,":"+vr+"input-$1")]}),O0(t,{props:[yr(o,/:(plac\w+)/,":"+q_+"$1")]}),O0(t,{props:[yr(o,/:(plac\w+)/,Bi+"input-$1")]})],i)}return""})}},Fpe=[Bpe],vY=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(p){var g=p.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var i=t.stylisPlugins||Fpe,o={},l,c=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(p){for(var g=p.getAttribute("data-emotion").split(" "),v=1;v<g.length;v++)o[g[v]]=!0;c.push(p)});var a,s=[zpe,Npe];{var u,d=[Dpe,Ipe(function(p){u.insert(p)})],h=jpe(s.concat(i,d)),f=function(g){return Pm(Ppe(g),h)};a=function(g,v,x,y){u=x,f(g?g+"{"+v.styles+"}":v.styles),y&&(m.inserted[v.name]=!0)}}var m={key:r,sheet:new mpe({key:r,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:a};return m.sheet.hydrate(c),m},yY={exports:{}},Pr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=typeof Symbol=="function"&&Symbol.for,GD=Ei?Symbol.for("react.element"):60103,qD=Ei?Symbol.for("react.portal"):60106,qS=Ei?Symbol.for("react.fragment"):60107,YS=Ei?Symbol.for("react.strict_mode"):60108,XS=Ei?Symbol.for("react.profiler"):60114,$S=Ei?Symbol.for("react.provider"):60109,KS=Ei?Symbol.for("react.context"):60110,YD=Ei?Symbol.for("react.async_mode"):60111,QS=Ei?Symbol.for("react.concurrent_mode"):60111,JS=Ei?Symbol.for("react.forward_ref"):60112,ZS=Ei?Symbol.for("react.suspense"):60113,Upe=Ei?Symbol.for("react.suspense_list"):60120,eE=Ei?Symbol.for("react.memo"):60115,tE=Ei?Symbol.for("react.lazy"):60116,Vpe=Ei?Symbol.for("react.block"):60121,Hpe=Ei?Symbol.for("react.fundamental"):60117,Wpe=Ei?Symbol.for("react.responder"):60118,Gpe=Ei?Symbol.for("react.scope"):60119;function ja(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case GD:switch(e=e.type,e){case YD:case QS:case qS:case XS:case YS:case ZS:return e;default:switch(e=e&&e.$$typeof,e){case KS:case JS:case tE:case eE:case $S:return e;default:return t}}case qD:return t}}}function bY(e){return ja(e)===QS}Pr.AsyncMode=YD;Pr.ConcurrentMode=QS;Pr.ContextConsumer=KS;Pr.ContextProvider=$S;Pr.Element=GD;Pr.ForwardRef=JS;Pr.Fragment=qS;Pr.Lazy=tE;Pr.Memo=eE;Pr.Portal=qD;Pr.Profiler=XS;Pr.StrictMode=YS;Pr.Suspense=ZS;Pr.isAsyncMode=function(e){return bY(e)||ja(e)===YD};Pr.isConcurrentMode=bY;Pr.isContextConsumer=function(e){return ja(e)===KS};Pr.isContextProvider=function(e){return ja(e)===$S};Pr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===GD};Pr.isForwardRef=function(e){return ja(e)===JS};Pr.isFragment=function(e){return ja(e)===qS};Pr.isLazy=function(e){return ja(e)===tE};Pr.isMemo=function(e){return ja(e)===eE};Pr.isPortal=function(e){return ja(e)===qD};Pr.isProfiler=function(e){return ja(e)===XS};Pr.isStrictMode=function(e){return ja(e)===YS};Pr.isSuspense=function(e){return ja(e)===ZS};Pr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===qS||e===QS||e===XS||e===YS||e===ZS||e===Upe||typeof e=="object"&&e!==null&&(e.$$typeof===tE||e.$$typeof===eE||e.$$typeof===$S||e.$$typeof===KS||e.$$typeof===JS||e.$$typeof===Hpe||e.$$typeof===Wpe||e.$$typeof===Gpe||e.$$typeof===Vpe)};Pr.typeOf=ja;yY.exports=Pr;var qpe=yY.exports,xY=qpe,Ype={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Xpe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wY={};wY[xY.ForwardRef]=Ype;wY[xY.Memo]=Xpe;var $pe=!0;function Kpe(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):n+=i+" "}),n}var _Y=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||$pe===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},SY=function(t,r,n){_Y(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var o=r;do t.insert(r===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Qpe(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Jpe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Zpe=/[A-Z]|^ms/g,eme=/_EMO_([^_]+?)_([^]*?)_EMO_/g,EY=function(t){return t.charCodeAt(1)===45},lL=function(t){return t!=null&&typeof t!="boolean"},TA=cY(function(e){return EY(e)?e:e.replace(Zpe,"-$&").toLowerCase()}),cL=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(eme,function(n,i,o){return kl={name:i,styles:o,next:kl},i})}return Jpe[t]!==1&&!EY(t)&&typeof r=="number"&&r!==0?r+"px":r};function Qy(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return kl={name:r.name,styles:r.styles,next:kl},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)kl={name:n.name,styles:n.styles,next:kl},n=n.next;var i=r.styles+";";return i}return tme(e,t,r)}case"function":{if(e!==void 0){var o=kl,l=r(e);return kl=o,Qy(e,t,l)}break}}if(t==null)return r;var c=t[r];return c!==void 0?c:r}function tme(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Qy(e,t,r[i])+";";else for(var o in r){var l=r[o];if(typeof l!="object")t!=null&&t[l]!==void 0?n+=o+"{"+t[l]+"}":lL(l)&&(n+=TA(o)+":"+cL(o,l)+";");else if(Array.isArray(l)&&typeof l[0]=="string"&&(t==null||t[l[0]]===void 0))for(var c=0;c<l.length;c++)lL(l[c])&&(n+=TA(o)+":"+cL(o,l[c])+";");else{var a=Qy(e,t,l);switch(o){case"animation":case"animationName":{n+=TA(o)+":"+a+";";break}default:n+=o+"{"+a+"}"}}}return n}var uL=/label:\s*([^\s;\n{]+)\s*(;|$)/g,kl,XD=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";kl=void 0;var l=t[0];l==null||l.raw===void 0?(i=!1,o+=Qy(n,r,l)):o+=l[0];for(var c=1;c<t.length;c++)o+=Qy(n,r,t[c]),i&&(o+=l[c]);uL.lastIndex=0;for(var a="",s;(s=uL.exec(o))!==null;)a+="-"+s[1];var u=Qpe(o)+a;return{name:u,styles:o,next:kl}},rme=function(t){return t()},AY=e_.useInsertionEffect?e_.useInsertionEffect:!1,nme=AY||rme,dL=AY||G.useLayoutEffect,CY=G.createContext(typeof HTMLElement<"u"?vY({key:"css"}):null),ime=CY.Provider,MY=function(t){return G.forwardRef(function(r,n){var i=G.useContext(CY);return t(r,i,n)})},rE=G.createContext({}),PA={exports:{}},hL;function TY(){return hL||(hL=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)({}).hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(PA)),PA.exports}TY();var ome=MY(function(e,t){var r=e.styles,n=XD([r],void 0,G.useContext(rE)),i=G.useRef();return dL(function(){var o=t.key+"-global",l=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),c=!1,a=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return t.sheet.tags.length&&(l.before=t.sheet.tags[0]),a!==null&&(c=!0,a.setAttribute("data-emotion",o),l.hydrate([a])),i.current=[l,c],function(){l.flush()}},[t]),dL(function(){var o=i.current,l=o[0],c=o[1];if(c){o[1]=!1;return}if(n.next!==void 0&&SY(t,n.next,!0),l.tags.length){var a=l.tags[l.tags.length-1].nextElementSibling;l.before=a,l.flush()}t.insert("",n,l,!1)},[t,n.name]),null});function PY(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return XD(t)}var nE=function(){var t=PY.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},ame=hpe,sme=function(t){return t!=="theme"},fL=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?ame:sme},pL=function(t,r,n){var i;if(r){var o=r.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(l){return t.__emotion_forwardProp(l)&&o(l)}:o}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i},lme=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return _Y(r,n,i),nme(function(){return SY(r,n,i)}),null},cme=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,o,l;r!==void 0&&(o=r.label,l=r.target);var c=pL(t,r,n),a=c||fL(i),s=!a("as");return function(){var u=arguments,d=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,f=1;f<h;f++)d.push(u[f],u[0][f])}var m=MY(function(p,g,v){var x=s&&p.as||i,y="",b=[],w=p;if(p.theme==null){w={};for(var _ in p)w[_]=p[_];w.theme=G.useContext(rE)}typeof p.className=="string"?y=Kpe(g.registered,b,p.className):p.className!=null&&(y=p.className+" ");var S=XD(d.concat(b),g.registered,w);y+=g.key+"-"+S.name,l!==void 0&&(y+=" "+l);var E=s&&c===void 0?fL(x):a,C={};for(var A in p)s&&A==="as"||E(A)&&(C[A]=p[A]);return C.className=y,C.ref=v,G.createElement(G.Fragment,null,G.createElement(lme,{cache:g,serialized:S,isStringTag:typeof x=="string"}),G.createElement(x,C))});return m.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=c,Object.defineProperty(m,"toString",{value:function(){return"."+l}}),m.withComponent=function(p,g){return e(p,ue({},r,g,{shouldForwardProp:pL(m,g,!0)})).apply(void 0,d)},m}},ume=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],k4=cme.bind();ume.forEach(function(e){k4[e]=k4(e)});var kY={exports:{}},dme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hme=dme,fme=hme;function DY(){}function jY(){}jY.resetWarningCache=DY;var pme=function(){function e(n,i,o,l,c,a){if(a!==fme){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:jY,resetWarningCache:DY};return r.PropTypes=r,r};kY.exports=pme();var R1=kY.exports;const $e=il(R1);let D4;typeof document=="object"&&(D4=vY({key:"css",prepend:!0}));function mme(e){const{injectFirst:t,children:r}=e;return t&&D4?F.jsx(ime,{value:D4,children:r}):r}function gme(e){return e==null||Object.keys(e).length===0}function IY(e){const{styles:t,defaultTheme:r={}}=e,n=typeof t=="function"?i=>t(gme(i)?r:i):t;return F.jsx(ome,{styles:n})}function $D(e,t){return k4(e,t)}const OY=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},vme=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:IY,StyledEngineProvider:mme,ThemeContext:rE,css:PY,default:$D,internal_processStyles:OY,keyframes:nE},Symbol.toStringTag,{value:"Module"}));function Vc(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function RY(e){if(!Vc(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=RY(e[r])}),t}function Aa(e,t,r={clone:!0}){const n=r.clone?ue({},e):e;return Vc(e)&&Vc(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(Vc(t[i])&&i in e&&Vc(e[i])?n[i]=Aa(e[i],t[i],r):r.clone?n[i]=Vc(t[i])?RY(t[i]):t[i]:n[i]=t[i])}),n}const yme=Object.freeze(Object.defineProperty({__proto__:null,default:Aa,isPlainObject:Vc},Symbol.toStringTag,{value:"Module"})),bme=["values","unit","step"],xme=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>ue({},r,{[n.key]:n.val}),{})};function LY(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,i=Lt(e,bme),o=xme(t),l=Object.keys(o);function c(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${r})`}function a(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-n/100}${r})`}function s(h,f){const m=l.indexOf(f);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${r}) and (max-width:${(m!==-1&&typeof t[l[m]]=="number"?t[l[m]]:f)-n/100}${r})`}function u(h){return l.indexOf(h)+1<l.length?s(h,l[l.indexOf(h)+1]):c(h)}function d(h){const f=l.indexOf(h);return f===0?c(l[1]):f===l.length-1?a(l[f]):s(h,l[l.indexOf(h)+1]).replace("@media","@media not all and")}return ue({keys:l,values:o,up:c,down:a,between:s,only:u,not:d,unit:r},i)}const wme={borderRadius:4};function Zv(e,t){return t?Aa(e,t,{clone:!1}):e}const KD={xs:0,sm:600,md:900,lg:1200,xl:1536},mL={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${KD[e]}px)`};function hs(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const o=n.breakpoints||mL;return t.reduce((l,c,a)=>(l[o.up(o.keys[a])]=r(t[a]),l),{})}if(typeof t=="object"){const o=n.breakpoints||mL;return Object.keys(t).reduce((l,c)=>{if(Object.keys(o.values||KD).indexOf(c)!==-1){const a=o.up(c);l[a]=r(t[c],c)}else{const a=c;l[a]=t[a]}return l},{})}return r(t)}function _me(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,i)=>{const o=e.up(i);return n[o]={},n},{}))||{}}function Sme(e,t){return e.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},t)}function Eme(e,t){if(typeof e!="object")return{};const r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((i,o)=>{o<e.length&&(r[i]=!0)}):n.forEach(i=>{e[i]!=null&&(r[i]=!0)}),r}function iE({values:e,breakpoints:t,base:r}){const n=r||Eme(e,t),i=Object.keys(n);if(i.length===0)return e;let o;return i.reduce((l,c,a)=>(Array.isArray(e)?(l[c]=e[a]!=null?e[a]:e[o],o=a):typeof e=="object"?(l[c]=e[c]!=null?e[c]:e[o],o=c):l[c]=e,l),{})}function ar(e){if(typeof e!="string")throw new Error(gf(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Ame=Object.freeze(Object.defineProperty({__proto__:null,default:ar},Symbol.toStringTag,{value:"Module"}));function oE(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(n!=null)return n}return t.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,e)}function Y_(e,t,r,n=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||n:i=oE(e,r)||n,t&&(i=t(i,n,e)),i}function zn(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,o=l=>{if(l[t]==null)return null;const c=l[t],a=l.theme,s=oE(a,n)||{};return hs(l,c,d=>{let h=Y_(s,i,d);return d===h&&typeof d=="string"&&(h=Y_(s,i,`${t}${d==="default"?"":ar(d)}`,d)),r===!1?h:{[r]:h}})};return o.propTypes={},o.filterProps=[t],o}function Cme(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const Mme={m:"margin",p:"padding"},Tme={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},gL={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Pme=Cme(e=>{if(e.length>2)if(gL[e])e=gL[e];else return[e];const[t,r]=e.split(""),n=Mme[t],i=Tme[r]||"";return Array.isArray(i)?i.map(o=>n+o):[n+i]}),QD=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],JD=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...QD,...JD];function L1(e,t,r,n){var i;const o=(i=oE(e,t,!1))!=null?i:r;return typeof o=="number"?l=>typeof l=="string"?l:o*l:Array.isArray(o)?l=>typeof l=="string"?l:o[l]:typeof o=="function"?o:()=>{}}function zY(e){return L1(e,"spacing",8)}function z1(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function kme(e,t){return r=>e.reduce((n,i)=>(n[i]=z1(t,r),n),{})}function Dme(e,t,r,n){if(t.indexOf(r)===-1)return null;const i=Pme(r),o=kme(i,n),l=e[r];return hs(e,l,o)}function NY(e,t){const r=zY(e.theme);return Object.keys(e).map(n=>Dme(e,t,n,r)).reduce(Zv,{})}function pn(e){return NY(e,QD)}pn.propTypes={};pn.filterProps=QD;function mn(e){return NY(e,JD)}mn.propTypes={};mn.filterProps=JD;function jme(e=8){if(e.mui)return e;const t=zY({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(o=>{const l=t(o);return typeof l=="number"?`${l}px`:l}).join(" ");return r.mui=!0,r}function aE(...e){const t=e.reduce((n,i)=>(i.filterProps.forEach(o=>{n[o]=i}),n),{}),r=n=>Object.keys(n).reduce((i,o)=>t[o]?Zv(i,t[o](n)):i,{});return r.propTypes={},r.filterProps=e.reduce((n,i)=>n.concat(i.filterProps),[]),r}function es(e){return typeof e!="number"?e:`${e}px solid`}function bs(e,t){return zn({prop:e,themeKey:"borders",transform:t})}const Ime=bs("border",es),Ome=bs("borderTop",es),Rme=bs("borderRight",es),Lme=bs("borderBottom",es),zme=bs("borderLeft",es),Nme=bs("borderColor"),Bme=bs("borderTopColor"),Fme=bs("borderRightColor"),Ume=bs("borderBottomColor"),Vme=bs("borderLeftColor"),Hme=bs("outline",es),Wme=bs("outlineColor"),sE=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=L1(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:z1(t,n)});return hs(e,e.borderRadius,r)}return null};sE.propTypes={};sE.filterProps=["borderRadius"];aE(Ime,Ome,Rme,Lme,zme,Nme,Bme,Fme,Ume,Vme,sE,Hme,Wme);const lE=e=>{if(e.gap!==void 0&&e.gap!==null){const t=L1(e.theme,"spacing",8),r=n=>({gap:z1(t,n)});return hs(e,e.gap,r)}return null};lE.propTypes={};lE.filterProps=["gap"];const cE=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=L1(e.theme,"spacing",8),r=n=>({columnGap:z1(t,n)});return hs(e,e.columnGap,r)}return null};cE.propTypes={};cE.filterProps=["columnGap"];const uE=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=L1(e.theme,"spacing",8),r=n=>({rowGap:z1(t,n)});return hs(e,e.rowGap,r)}return null};uE.propTypes={};uE.filterProps=["rowGap"];const Gme=zn({prop:"gridColumn"}),qme=zn({prop:"gridRow"}),Yme=zn({prop:"gridAutoFlow"}),Xme=zn({prop:"gridAutoColumns"}),$me=zn({prop:"gridAutoRows"}),Kme=zn({prop:"gridTemplateColumns"}),Qme=zn({prop:"gridTemplateRows"}),Jme=zn({prop:"gridTemplateAreas"}),Zme=zn({prop:"gridArea"});aE(lE,cE,uE,Gme,qme,Yme,Xme,$me,Kme,Qme,Jme,Zme);function km(e,t){return t==="grey"?t:e}const ege=zn({prop:"color",themeKey:"palette",transform:km}),tge=zn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:km}),rge=zn({prop:"backgroundColor",themeKey:"palette",transform:km});aE(ege,tge,rge);function pa(e){return e<=1&&e!==0?`${e*100}%`:e}const nge=zn({prop:"width",transform:pa}),ZD=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n,i;const o=((n=e.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||KD[r];return o?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:pa(r)}};return hs(e,e.maxWidth,t)}return null};ZD.filterProps=["maxWidth"];const ige=zn({prop:"minWidth",transform:pa}),oge=zn({prop:"height",transform:pa}),age=zn({prop:"maxHeight",transform:pa}),sge=zn({prop:"minHeight",transform:pa});zn({prop:"size",cssProperty:"width",transform:pa});zn({prop:"size",cssProperty:"height",transform:pa});const lge=zn({prop:"boxSizing"});aE(nge,ZD,ige,oge,age,sge,lge);const N1={border:{themeKey:"borders",transform:es},borderTop:{themeKey:"borders",transform:es},borderRight:{themeKey:"borders",transform:es},borderBottom:{themeKey:"borders",transform:es},borderLeft:{themeKey:"borders",transform:es},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:es},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:sE},color:{themeKey:"palette",transform:km},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:km},backgroundColor:{themeKey:"palette",transform:km},p:{style:mn},pt:{style:mn},pr:{style:mn},pb:{style:mn},pl:{style:mn},px:{style:mn},py:{style:mn},padding:{style:mn},paddingTop:{style:mn},paddingRight:{style:mn},paddingBottom:{style:mn},paddingLeft:{style:mn},paddingX:{style:mn},paddingY:{style:mn},paddingInline:{style:mn},paddingInlineStart:{style:mn},paddingInlineEnd:{style:mn},paddingBlock:{style:mn},paddingBlockStart:{style:mn},paddingBlockEnd:{style:mn},m:{style:pn},mt:{style:pn},mr:{style:pn},mb:{style:pn},ml:{style:pn},mx:{style:pn},my:{style:pn},margin:{style:pn},marginTop:{style:pn},marginRight:{style:pn},marginBottom:{style:pn},marginLeft:{style:pn},marginX:{style:pn},marginY:{style:pn},marginInline:{style:pn},marginInlineStart:{style:pn},marginInlineEnd:{style:pn},marginBlock:{style:pn},marginBlockStart:{style:pn},marginBlockEnd:{style:pn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:lE},rowGap:{style:uE},columnGap:{style:cE},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:pa},maxWidth:{style:ZD},minWidth:{transform:pa},height:{transform:pa},maxHeight:{transform:pa},minHeight:{transform:pa},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function cge(...e){const t=e.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function uge(e,t){return typeof e=="function"?e(t):e}function BY(){function e(r,n,i,o){const l={[r]:n,theme:i},c=o[r];if(!c)return{[r]:n};const{cssProperty:a=r,themeKey:s,transform:u,style:d}=c;if(n==null)return null;if(s==="typography"&&n==="inherit")return{[r]:n};const h=oE(i,s)||{};return d?d(l):hs(l,n,m=>{let p=Y_(h,u,m);return m===p&&typeof m=="string"&&(p=Y_(h,u,`${r}${m==="default"?"":ar(m)}`,m)),a===!1?p:{[a]:p}})}function t(r){var n;const{sx:i,theme:o={}}=r||{};if(!i)return null;const l=(n=o.unstable_sxConfig)!=null?n:N1;function c(a){let s=a;if(typeof a=="function")s=a(o);else if(typeof a!="object")return a;if(!s)return null;const u=_me(o.breakpoints),d=Object.keys(u);let h=u;return Object.keys(s).forEach(f=>{const m=uge(s[f],o);if(m!=null)if(typeof m=="object")if(l[f])h=Zv(h,e(f,m,o,l));else{const p=hs({theme:o},m,g=>({[f]:g}));cge(p,m)?h[f]=t({sx:m,theme:o}):h=Zv(h,p)}else h=Zv(h,e(f,m,o,l))}),Sme(d,h)}return Array.isArray(i)?i.map(c):c(i)}return t}const Wg=BY();Wg.filterProps=["sx"];function FY(e,t){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:r.palette.mode===e?t:{}}const dge=["breakpoints","palette","spacing","shape"];function B1(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:o={}}=e,l=Lt(e,dge),c=LY(r),a=jme(i);let s=Aa({breakpoints:c,direction:"ltr",components:{},palette:ue({mode:"light"},n),spacing:a,shape:ue({},wme,o)},l);return s.applyStyles=FY,s=t.reduce((u,d)=>Aa(u,d),s),s.unstable_sxConfig=ue({},N1,l==null?void 0:l.unstable_sxConfig),s.unstable_sx=function(d){return Wg({sx:d,theme:this})},s}const hge=Object.freeze(Object.defineProperty({__proto__:null,default:B1,private_createBreakpoints:LY,unstable_applyStyles:FY},Symbol.toStringTag,{value:"Module"}));function fge(e){return Object.keys(e).length===0}function pge(e=null){const t=G.useContext(rE);return!t||fge(t)?e:t}const mge=B1();function dE(e=mge){return pge(e)}function gge({styles:e,themeId:t,defaultTheme:r={}}){const n=dE(r),i=typeof e=="function"?e(t&&n[t]||n):e;return F.jsx(IY,{styles:i})}const vge=["sx"],yge=e=>{var t,r;const n={systemProps:{},otherProps:{}},i=(t=e==null||(r=e.theme)==null?void 0:r.unstable_sxConfig)!=null?t:N1;return Object.keys(e).forEach(o=>{i[o]?n.systemProps[o]=e[o]:n.otherProps[o]=e[o]}),n};function hE(e){const{sx:t}=e,r=Lt(e,vge),{systemProps:n,otherProps:i}=yge(r);let o;return Array.isArray(t)?o=[n,...t]:typeof t=="function"?o=(...l)=>{const c=t(...l);return Vc(c)?ue({},n,c):n}:o=ue({},n,t),ue({},i,{sx:o})}const bge=Object.freeze(Object.defineProperty({__proto__:null,default:Wg,extendSxProp:hE,unstable_createStyleFunctionSx:BY,unstable_defaultSxConfig:N1},Symbol.toStringTag,{value:"Module"})),vL=e=>e,xge=()=>{let e=vL;return{configure(t){e=t},generate(t){return e(t)},reset(){e=vL}}},UY=xge();function VY(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=VY(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function rr(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=VY(e))&&(n&&(n+=" "),n+=t);return n}const wge=["className","component"];function _ge(e={}){const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=e,o=$D("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(Wg);return G.forwardRef(function(a,s){const u=dE(r),d=hE(a),{className:h,component:f="div"}=d,m=Lt(d,wge);return F.jsx(o,ue({as:f,ref:s,className:rr(h,i?i(n):n),theme:t&&u[t]||u},m))})}const Sge={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Zr(e,t,r="Mui"){const n=Sge[t];return n?`${r}-${n}`:`${UY.generate(e)}-${t}`}function en(e,t,r="Mui"){const n={};return t.forEach(i=>{n[i]=Zr(e,i,r)}),n}var HY={exports:{}},kr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ej=Symbol.for("react.element"),tj=Symbol.for("react.portal"),fE=Symbol.for("react.fragment"),pE=Symbol.for("react.strict_mode"),mE=Symbol.for("react.profiler"),gE=Symbol.for("react.provider"),vE=Symbol.for("react.context"),Ege=Symbol.for("react.server_context"),yE=Symbol.for("react.forward_ref"),bE=Symbol.for("react.suspense"),xE=Symbol.for("react.suspense_list"),wE=Symbol.for("react.memo"),_E=Symbol.for("react.lazy"),Age=Symbol.for("react.offscreen"),WY;WY=Symbol.for("react.module.reference");function xs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ej:switch(e=e.type,e){case fE:case mE:case pE:case bE:case xE:return e;default:switch(e=e&&e.$$typeof,e){case Ege:case vE:case yE:case _E:case wE:case gE:return e;default:return t}}case tj:return t}}}kr.ContextConsumer=vE;kr.ContextProvider=gE;kr.Element=ej;kr.ForwardRef=yE;kr.Fragment=fE;kr.Lazy=_E;kr.Memo=wE;kr.Portal=tj;kr.Profiler=mE;kr.StrictMode=pE;kr.Suspense=bE;kr.SuspenseList=xE;kr.isAsyncMode=function(){return!1};kr.isConcurrentMode=function(){return!1};kr.isContextConsumer=function(e){return xs(e)===vE};kr.isContextProvider=function(e){return xs(e)===gE};kr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ej};kr.isForwardRef=function(e){return xs(e)===yE};kr.isFragment=function(e){return xs(e)===fE};kr.isLazy=function(e){return xs(e)===_E};kr.isMemo=function(e){return xs(e)===wE};kr.isPortal=function(e){return xs(e)===tj};kr.isProfiler=function(e){return xs(e)===mE};kr.isStrictMode=function(e){return xs(e)===pE};kr.isSuspense=function(e){return xs(e)===bE};kr.isSuspenseList=function(e){return xs(e)===xE};kr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===fE||e===mE||e===pE||e===bE||e===xE||e===Age||typeof e=="object"&&e!==null&&(e.$$typeof===_E||e.$$typeof===wE||e.$$typeof===gE||e.$$typeof===vE||e.$$typeof===yE||e.$$typeof===WY||e.getModuleId!==void 0)};kr.typeOf=xs;HY.exports=kr;var yL=HY.exports;const Cge=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function GY(e){const t=`${e}`.match(Cge);return t&&t[1]||""}function qY(e,t=""){return e.displayName||e.name||GY(e)||t}function bL(e,t,r){const n=qY(t);return e.displayName||(n!==""?`${r}(${n})`:r)}function Mge(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return qY(e,"Component");if(typeof e=="object")switch(e.$$typeof){case yL.ForwardRef:return bL(e,e.render,"ForwardRef");case yL.Memo:return bL(e,e.type,"memo");default:return}}}const Tge=Object.freeze(Object.defineProperty({__proto__:null,default:Mge,getFunctionName:GY},Symbol.toStringTag,{value:"Module"})),Pge=["ownerState"],kge=["variants"],Dge=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function jge(e){return Object.keys(e).length===0}function Ige(e){return typeof e=="string"&&e.charCodeAt(0)>96}function kA(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Oge=B1(),Rge=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Ob({defaultTheme:e,theme:t,themeId:r}){return jge(t)?e:t[r]||t}function Lge(e){return e?(t,r)=>r[e]:null}function Iw(e,t){let{ownerState:r}=t,n=Lt(t,Pge);const i=typeof e=="function"?e(ue({ownerState:r},n)):e;if(Array.isArray(i))return i.flatMap(o=>Iw(o,ue({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let c=Lt(i,kge);return o.forEach(a=>{let s=!0;typeof a.props=="function"?s=a.props(ue({ownerState:r},n,r)):Object.keys(a.props).forEach(u=>{(r==null?void 0:r[u])!==a.props[u]&&n[u]!==a.props[u]&&(s=!1)}),s&&(Array.isArray(c)||(c=[c]),c.push(typeof a.style=="function"?a.style(ue({ownerState:r},n,r)):a.style))}),c}return i}function zge(e={}){const{themeId:t,defaultTheme:r=Oge,rootShouldForwardProp:n=kA,slotShouldForwardProp:i=kA}=e,o=l=>Wg(ue({},l,{theme:Ob(ue({},l,{defaultTheme:r,themeId:t}))}));return o.__mui_systemSx=!0,(l,c={})=>{OY(l,w=>w.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:a,slot:s,skipVariantsResolver:u,skipSx:d,overridesResolver:h=Lge(Rge(s))}=c,f=Lt(c,Dge),m=u!==void 0?u:s&&s!=="Root"&&s!=="root"||!1,p=d||!1;let g,v=kA;s==="Root"||s==="root"?v=n:s?v=i:Ige(l)&&(v=void 0);const x=$D(l,ue({shouldForwardProp:v,label:g},f)),y=w=>typeof w=="function"&&w.__emotion_real!==w||Vc(w)?_=>Iw(w,ue({},_,{theme:Ob({theme:_.theme,defaultTheme:r,themeId:t})})):w,b=(w,..._)=>{let S=y(w);const E=_?_.map(y):[];a&&h&&E.push(T=>{const k=Ob(ue({},T,{defaultTheme:r,themeId:t}));if(!k.components||!k.components[a]||!k.components[a].styleOverrides)return null;const D=k.components[a].styleOverrides,M={};return Object.entries(D).forEach(([P,j])=>{M[P]=Iw(j,ue({},T,{theme:k}))}),h(T,M)}),a&&!m&&E.push(T=>{var k;const D=Ob(ue({},T,{defaultTheme:r,themeId:t})),M=D==null||(k=D.components)==null||(k=k[a])==null?void 0:k.variants;return Iw({variants:M},ue({},T,{theme:D}))}),p||E.push(o);const C=E.length-_.length;if(Array.isArray(w)&&C>0){const T=new Array(C).fill("");S=[...w,...T],S.raw=[...w.raw,...T]}const A=x(S,...E);return l.muiName&&(A.muiName=l.muiName),A};return x.withConfig&&(b.withConfig=x.withConfig),b}}const Nge=zge();function rj(e,t){const r=ue({},t);return Object.keys(e).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=ue({},e[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=e[n]||{},o=t[n];r[n]={},!o||!Object.keys(o)?r[n]=i:!i||!Object.keys(i)?r[n]=o:(r[n]=ue({},o),Object.keys(i).forEach(l=>{r[n][l]=rj(i[l],o[l])}))}else r[n]===void 0&&(r[n]=e[n])}),r}function Bge(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:rj(t.components[r].defaultProps,n)}function YY({props:e,name:t,defaultTheme:r,themeId:n}){let i=dE(r);return n&&(i=i[n]||i),Bge({theme:i,name:t,props:e})}const vf=typeof window<"u"?G.useLayoutEffect:G.useEffect;function Fge(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}const Uge=Object.freeze(Object.defineProperty({__proto__:null,default:Fge},Symbol.toStringTag,{value:"Module"}));function xL(...e){return e.reduce((t,r)=>r==null?t:function(...i){t.apply(this,i),r.apply(this,i)},()=>{})}function XY(e,t=166){let r;function n(...i){const o=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(o,t)}return n.clear=()=>{clearTimeout(r)},n}function DA(e,t){var r,n;return G.isValidElement(e)&&t.indexOf((r=e.type.muiName)!=null?r:(n=e.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function Ca(e){return e&&e.ownerDocument||document}function yf(e){return Ca(e).defaultView||window}function j4(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let wL=0;function Vge(e){const[t,r]=G.useState(e),n=e||t;return G.useEffect(()=>{t==null&&(wL+=1,r(`mui-${wL}`))},[t]),n}const _L=e_.useId;function $Y(e){if(_L!==void 0){const t=_L();return e??t}return Vge(e)}function SL({controlled:e,default:t,name:r,state:n="value"}){const{current:i}=G.useRef(e!==void 0),[o,l]=G.useState(t),c=i?e:o,a=G.useCallback(s=>{i||l(s)},[]);return[c,a]}function um(e){const t=G.useRef(e);return vf(()=>{t.current=e}),G.useRef((...r)=>(0,t.current)(...r)).current}function Jo(...e){return G.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{j4(r,t)})},e)}const EL={};function Hge(e,t){const r=G.useRef(EL);return r.current===EL&&(r.current=e(t)),r}const Wge=[];function Gge(e){G.useEffect(e,Wge)}class SE{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new SE}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}}function KY(){const e=Hge(SE.create).current;return Gge(e.disposeEffect),e}let EE=!0,I4=!1;const qge=new SE,Yge={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Xge(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&Yge[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function $ge(e){e.metaKey||e.altKey||e.ctrlKey||(EE=!0)}function jA(){EE=!1}function Kge(){this.visibilityState==="hidden"&&I4&&(EE=!0)}function Qge(e){e.addEventListener("keydown",$ge,!0),e.addEventListener("mousedown",jA,!0),e.addEventListener("pointerdown",jA,!0),e.addEventListener("touchstart",jA,!0),e.addEventListener("visibilitychange",Kge,!0)}function Jge(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return EE||Xge(t)}function Zge(){const e=G.useCallback(i=>{i!=null&&Qge(i.ownerDocument)},[]),t=G.useRef(!1);function r(){return t.current?(I4=!0,qge.start(100,()=>{I4=!1}),t.current=!1,!0):!1}function n(i){return Jge(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:n,onBlur:r,ref:e}}function QY(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function dn(e,t,r=void 0){const n={};return Object.keys(e).forEach(i=>{n[i]=e[i].reduce((o,l)=>{if(l){const c=t(l);c!==""&&o.push(c),r&&r[l]&&o.push(r[l])}return o},[]).join(" ")}),n}const e0e=G.createContext(),t0e=()=>{const e=G.useContext(e0e);return e??!1},r0e=["className","component","disableGutters","fixed","maxWidth","classes"],n0e=B1(),i0e=Nge("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${ar(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),o0e=e=>YY({props:e,name:"MuiContainer",defaultTheme:n0e}),a0e=(e,t)=>{const r=a=>Zr(t,a),{classes:n,fixed:i,disableGutters:o,maxWidth:l}=e,c={root:["root",l&&`maxWidth${ar(String(l))}`,i&&"fixed",o&&"disableGutters"]};return dn(c,r,n)};function s0e(e={}){const{createStyledComponent:t=i0e,useThemeProps:r=o0e,componentName:n="MuiContainer"}=e,i=t(({theme:l,ownerState:c})=>ue({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!c.disableGutters&&{paddingLeft:l.spacing(2),paddingRight:l.spacing(2),[l.breakpoints.up("sm")]:{paddingLeft:l.spacing(3),paddingRight:l.spacing(3)}}),({theme:l,ownerState:c})=>c.fixed&&Object.keys(l.breakpoints.values).reduce((a,s)=>{const u=s,d=l.breakpoints.values[u];return d!==0&&(a[l.breakpoints.up(u)]={maxWidth:`${d}${l.breakpoints.unit}`}),a},{}),({theme:l,ownerState:c})=>ue({},c.maxWidth==="xs"&&{[l.breakpoints.up("xs")]:{maxWidth:Math.max(l.breakpoints.values.xs,444)}},c.maxWidth&&c.maxWidth!=="xs"&&{[l.breakpoints.up(c.maxWidth)]:{maxWidth:`${l.breakpoints.values[c.maxWidth]}${l.breakpoints.unit}`}}));return G.forwardRef(function(c,a){const s=r(c),{className:u,component:d="div",disableGutters:h=!1,fixed:f=!1,maxWidth:m="lg"}=s,p=Lt(s,r0e),g=ue({},s,{component:d,disableGutters:h,fixed:f,maxWidth:m}),v=a0e(g,n);return F.jsx(i,ue({as:d,ownerState:g,className:rr(v.root,u),ref:a},p))})}function l0e(e,t){return ue({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Nn={},JY={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(JY);var nj=JY.exports;const c0e=sc(upe),u0e=sc(Uge);var ZY=nj;Object.defineProperty(Nn,"__esModule",{value:!0});var dm=Nn.alpha=nX;Nn.blend=S0e;Nn.colorChannel=void 0;var d0e=Nn.darken=oj;Nn.decomposeColor=fs;Nn.emphasize=iX;var h0e=Nn.getContrastRatio=y0e;Nn.getLuminance=X_;Nn.hexToRgb=eX;Nn.hslToRgb=rX;var f0e=Nn.lighten=aj;Nn.private_safeAlpha=b0e;Nn.private_safeColorChannel=void 0;Nn.private_safeDarken=x0e;Nn.private_safeEmphasize=_0e;Nn.private_safeLighten=w0e;Nn.recomposeColor=Gg;Nn.rgbToHex=v0e;var AL=ZY(c0e),p0e=ZY(u0e);function ij(e,t=0,r=1){return(0,p0e.default)(e,t,r)}function eX(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function m0e(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function fs(e){if(e.type)return e;if(e.charAt(0)==="#")return fs(eX(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error((0,AL.default)(9,e));let n=e.substring(t+1,e.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,AL.default)(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:r,values:n,colorSpace:i}}const tX=e=>{const t=fs(e);return t.values.slice(0,3).map((r,n)=>t.type.indexOf("hsl")!==-1&&n!==0?`${r}%`:r).join(" ")};Nn.colorChannel=tX;const g0e=(e,t)=>{try{return tX(e)}catch{return e}};Nn.private_safeColorChannel=g0e;function Gg(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function v0e(e){if(e.indexOf("#")===0)return e;const{values:t}=fs(e);return`#${t.map((r,n)=>m0e(n===3?Math.round(255*r):r)).join("")}`}function rX(e){e=fs(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,o=n*Math.min(i,1-i),l=(s,u=(s+r/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let c="rgb";const a=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return e.type==="hsla"&&(c+="a",a.push(t[3])),Gg({type:c,values:a})}function X_(e){e=fs(e);let t=e.type==="hsl"||e.type==="hsla"?fs(rX(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function y0e(e,t){const r=X_(e),n=X_(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function nX(e,t){return e=fs(e),t=ij(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Gg(e)}function b0e(e,t,r){try{return nX(e,t)}catch{return e}}function oj(e,t){if(e=fs(e),t=ij(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return Gg(e)}function x0e(e,t,r){try{return oj(e,t)}catch{return e}}function aj(e,t){if(e=fs(e),t=ij(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Gg(e)}function w0e(e,t,r){try{return aj(e,t)}catch{return e}}function iX(e,t=.15){return X_(e)>.5?oj(e,t):aj(e,t)}function _0e(e,t,r){try{return iX(e,t)}catch{return e}}function S0e(e,t,r,n=1){const i=(a,s)=>Math.round((a**(1/n)*(1-r)+s**(1/n)*r)**n),o=fs(e),l=fs(t),c=[i(o.values[0],l.values[0]),i(o.values[1],l.values[1]),i(o.values[2],l.values[2])];return Gg({type:"rgb",values:c})}const E0e=["mode","contrastThreshold","tonalOffset"],CL={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Xy.white,default:Xy.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},IA={text:{primary:Xy.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Xy.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ML(e,t,r,n){const i=n.light||n,o=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=f0e(e.main,i):t==="dark"&&(e.dark=d0e(e.main,o)))}function A0e(e="light"){return e==="dark"?{main:Xf[200],light:Xf[50],dark:Xf[400]}:{main:Xf[700],light:Xf[400],dark:Xf[800]}}function C0e(e="light"){return e==="dark"?{main:Yf[200],light:Yf[50],dark:Yf[400]}:{main:Yf[500],light:Yf[300],dark:Yf[700]}}function M0e(e="light"){return e==="dark"?{main:qf[500],light:qf[300],dark:qf[700]}:{main:qf[700],light:qf[400],dark:qf[800]}}function T0e(e="light"){return e==="dark"?{main:$f[400],light:$f[300],dark:$f[700]}:{main:$f[700],light:$f[500],dark:$f[900]}}function P0e(e="light"){return e==="dark"?{main:Kf[400],light:Kf[300],dark:Kf[700]}:{main:Kf[800],light:Kf[500],dark:Kf[900]}}function k0e(e="light"){return e==="dark"?{main:I0[400],light:I0[300],dark:I0[700]}:{main:"#ed6c02",light:I0[500],dark:I0[900]}}function D0e(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,i=Lt(e,E0e),o=e.primary||A0e(t),l=e.secondary||C0e(t),c=e.error||M0e(t),a=e.info||T0e(t),s=e.success||P0e(t),u=e.warning||k0e(t);function d(p){return h0e(p,IA.text.primary)>=r?IA.text.primary:CL.text.primary}const h=({color:p,name:g,mainShade:v=500,lightShade:x=300,darkShade:y=700})=>{if(p=ue({},p),!p.main&&p[v]&&(p.main=p[v]),!p.hasOwnProperty("main"))throw new Error(gf(11,g?` (${g})`:"",v));if(typeof p.main!="string")throw new Error(gf(12,g?` (${g})`:"",JSON.stringify(p.main)));return ML(p,"light",x,n),ML(p,"dark",y,n),p.contrastText||(p.contrastText=d(p.main)),p},f={dark:IA,light:CL};return Aa(ue({common:ue({},Xy),mode:t,primary:h({color:o,name:"primary"}),secondary:h({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:c,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:a,name:"info"}),success:h({color:s,name:"success"}),grey:cpe,contrastThreshold:r,getContrastText:d,augmentColor:h,tonalOffset:n},f[t]),i)}const j0e=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function I0e(e){return Math.round(e*1e5)/1e5}const TL={textTransform:"uppercase"},PL='"Roboto", "Helvetica", "Arial", sans-serif';function O0e(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=PL,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:l=400,fontWeightMedium:c=500,fontWeightBold:a=700,htmlFontSize:s=16,allVariants:u,pxToRem:d}=r,h=Lt(r,j0e),f=i/14,m=d||(v=>`${v/s*f}rem`),p=(v,x,y,b,w)=>ue({fontFamily:n,fontWeight:v,fontSize:m(x),lineHeight:y},n===PL?{letterSpacing:`${I0e(b/x)}em`}:{},w,u),g={h1:p(o,96,1.167,-1.5),h2:p(o,60,1.2,-.5),h3:p(l,48,1.167,0),h4:p(l,34,1.235,.25),h5:p(l,24,1.334,0),h6:p(c,20,1.6,.15),subtitle1:p(l,16,1.75,.15),subtitle2:p(c,14,1.57,.1),body1:p(l,16,1.5,.15),body2:p(l,14,1.43,.15),button:p(c,14,1.75,.4,TL),caption:p(l,12,1.66,.4),overline:p(l,12,2.66,1,TL),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Aa(ue({htmlFontSize:s,pxToRem:m,fontFamily:n,fontSize:i,fontWeightLight:o,fontWeightRegular:l,fontWeightMedium:c,fontWeightBold:a},g),h,{clone:!1})}const R0e=.2,L0e=.14,z0e=.12;function Kr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${R0e})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${L0e})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${z0e})`].join(",")}const N0e=["none",Kr(0,2,1,-1,0,1,1,0,0,1,3,0),Kr(0,3,1,-2,0,2,2,0,0,1,5,0),Kr(0,3,3,-2,0,3,4,0,0,1,8,0),Kr(0,2,4,-1,0,4,5,0,0,1,10,0),Kr(0,3,5,-1,0,5,8,0,0,1,14,0),Kr(0,3,5,-1,0,6,10,0,0,1,18,0),Kr(0,4,5,-2,0,7,10,1,0,2,16,1),Kr(0,5,5,-3,0,8,10,1,0,3,14,2),Kr(0,5,6,-3,0,9,12,1,0,3,16,2),Kr(0,6,6,-3,0,10,14,1,0,4,18,3),Kr(0,6,7,-4,0,11,15,1,0,4,20,3),Kr(0,7,8,-4,0,12,17,2,0,5,22,4),Kr(0,7,8,-4,0,13,19,2,0,5,24,4),Kr(0,7,9,-4,0,14,21,2,0,5,26,4),Kr(0,8,9,-5,0,15,22,2,0,6,28,5),Kr(0,8,10,-5,0,16,24,2,0,6,30,5),Kr(0,8,11,-5,0,17,26,2,0,6,32,5),Kr(0,9,11,-5,0,18,28,2,0,7,34,6),Kr(0,9,12,-6,0,19,29,2,0,7,36,6),Kr(0,10,13,-6,0,20,31,3,0,8,38,7),Kr(0,10,13,-6,0,21,33,3,0,8,40,7),Kr(0,10,14,-6,0,22,35,3,0,8,42,7),Kr(0,11,14,-7,0,23,36,3,0,9,44,8),Kr(0,11,15,-7,0,24,38,3,0,9,46,8)],B0e=["duration","easing","delay"],F0e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},U0e={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function kL(e){return`${Math.round(e)}ms`}function V0e(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function H0e(e){const t=ue({},F0e,e.easing),r=ue({},U0e,e.duration);return ue({getAutoHeightDuration:V0e,create:(i=["all"],o={})=>{const{duration:l=r.standard,easing:c=t.easeInOut,delay:a=0}=o;return Lt(o,B0e),(Array.isArray(i)?i:[i]).map(s=>`${s} ${typeof l=="string"?l:kL(l)} ${c} ${typeof a=="string"?a:kL(a)}`).join(",")}},e,{easing:t,duration:r})}const W0e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},G0e=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function oX(e={},...t){const{mixins:r={},palette:n={},transitions:i={},typography:o={}}=e,l=Lt(e,G0e);if(e.vars)throw new Error(gf(18));const c=D0e(n),a=B1(e);let s=Aa(a,{mixins:l0e(a.breakpoints,r),palette:c,shadows:N0e.slice(),typography:O0e(c,o),transitions:H0e(i),zIndex:ue({},W0e)});return s=Aa(s,l),s=t.reduce((u,d)=>Aa(u,d),s),s.unstable_sxConfig=ue({},N1,l==null?void 0:l.unstable_sxConfig),s.unstable_sx=function(d){return Wg({sx:d,theme:this})},s}const AE=oX();function sj(){const e=dE(AE);return e[I1]||e}function hn({props:e,name:t}){return YY({props:e,name:t,defaultTheme:AE,themeId:I1})}var F1={},OA={exports:{}},DL;function q0e(){return DL||(DL=1,function(e){function t(r,n){if(r==null)return{};var i={};for(var o in r)if({}.hasOwnProperty.call(r,o)){if(n.indexOf(o)>=0)continue;i[o]=r[o]}return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(OA)),OA.exports}const Y0e=sc(vme),X0e=sc(yme),$0e=sc(Ame),K0e=sc(Tge),Q0e=sc(hge),J0e=sc(bge);var qg=nj;Object.defineProperty(F1,"__esModule",{value:!0});var Z0e=F1.default=hve;F1.shouldForwardProp=Ow;F1.systemDefaultTheme=void 0;var qa=qg(TY()),O4=qg(q0e()),jL=ave(Y0e),eve=X0e;qg($0e);qg(K0e);var tve=qg(Q0e),rve=qg(J0e);const nve=["ownerState"],ive=["variants"],ove=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function aX(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(aX=function(n){return n?r:t})(e)}function ave(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=aX(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function sve(e){return Object.keys(e).length===0}function lve(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Ow(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const cve=F1.systemDefaultTheme=(0,tve.default)(),uve=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Rb({defaultTheme:e,theme:t,themeId:r}){return sve(t)?e:t[r]||t}function dve(e){return e?(t,r)=>r[e]:null}function Rw(e,t){let{ownerState:r}=t,n=(0,O4.default)(t,nve);const i=typeof e=="function"?e((0,qa.default)({ownerState:r},n)):e;if(Array.isArray(i))return i.flatMap(o=>Rw(o,(0,qa.default)({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let c=(0,O4.default)(i,ive);return o.forEach(a=>{let s=!0;typeof a.props=="function"?s=a.props((0,qa.default)({ownerState:r},n,r)):Object.keys(a.props).forEach(u=>{(r==null?void 0:r[u])!==a.props[u]&&n[u]!==a.props[u]&&(s=!1)}),s&&(Array.isArray(c)||(c=[c]),c.push(typeof a.style=="function"?a.style((0,qa.default)({ownerState:r},n,r)):a.style))}),c}return i}function hve(e={}){const{themeId:t,defaultTheme:r=cve,rootShouldForwardProp:n=Ow,slotShouldForwardProp:i=Ow}=e,o=l=>(0,rve.default)((0,qa.default)({},l,{theme:Rb((0,qa.default)({},l,{defaultTheme:r,themeId:t}))}));return o.__mui_systemSx=!0,(l,c={})=>{(0,jL.internal_processStyles)(l,w=>w.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:a,slot:s,skipVariantsResolver:u,skipSx:d,overridesResolver:h=dve(uve(s))}=c,f=(0,O4.default)(c,ove),m=u!==void 0?u:s&&s!=="Root"&&s!=="root"||!1,p=d||!1;let g,v=Ow;s==="Root"||s==="root"?v=n:s?v=i:lve(l)&&(v=void 0);const x=(0,jL.default)(l,(0,qa.default)({shouldForwardProp:v,label:g},f)),y=w=>typeof w=="function"&&w.__emotion_real!==w||(0,eve.isPlainObject)(w)?_=>Rw(w,(0,qa.default)({},_,{theme:Rb({theme:_.theme,defaultTheme:r,themeId:t})})):w,b=(w,..._)=>{let S=y(w);const E=_?_.map(y):[];a&&h&&E.push(T=>{const k=Rb((0,qa.default)({},T,{defaultTheme:r,themeId:t}));if(!k.components||!k.components[a]||!k.components[a].styleOverrides)return null;const D=k.components[a].styleOverrides,M={};return Object.entries(D).forEach(([P,j])=>{M[P]=Rw(j,(0,qa.default)({},T,{theme:k}))}),h(T,M)}),a&&!m&&E.push(T=>{var k;const D=Rb((0,qa.default)({},T,{defaultTheme:r,themeId:t})),M=D==null||(k=D.components)==null||(k=k[a])==null?void 0:k.variants;return Rw({variants:M},(0,qa.default)({},T,{theme:D}))}),p||E.push(o);const C=E.length-_.length;if(Array.isArray(w)&&C>0){const T=new Array(C).fill("");S=[...w,...T],S.raw=[...w.raw,...T]}const A=x(S,...E);return l.muiName&&(A.muiName=l.muiName),A};return x.withConfig&&(b.withConfig=x.withConfig),b}}function sX(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const ol=e=>sX(e)&&e!=="classes",Vt=Z0e({themeId:I1,defaultTheme:AE,rootShouldForwardProp:ol}),IL=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function fve(e){return Zr("MuiSvgIcon",e)}en("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const pve=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],mve=e=>{const{color:t,fontSize:r,classes:n}=e,i={root:["root",t!=="inherit"&&`color${ar(t)}`,`fontSize${ar(r)}`]};return dn(i,fve,n)},gve=Vt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${ar(r.color)}`],t[`fontSize${ar(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,n,i,o,l,c,a,s,u,d,h,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(l=o.pxToRem)==null?void 0:l.call(o,20))||"1.25rem",medium:((c=e.typography)==null||(a=c.pxToRem)==null?void 0:a.call(c,24))||"1.5rem",large:((s=e.typography)==null||(u=s.pxToRem)==null?void 0:u.call(s,35))||"2.1875rem"}[t.fontSize],color:(d=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?d:{action:(f=(e.vars||e).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[t.color]}}),R4=G.forwardRef(function(t,r){const n=hn({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:l="inherit",component:c="svg",fontSize:a="medium",htmlColor:s,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=n,f=Lt(n,pve),m=G.isValidElement(i)&&i.type==="svg",p=ue({},n,{color:l,component:c,fontSize:a,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:m}),g={};u||(g.viewBox=h);const v=mve(p);return F.jsxs(gve,ue({as:c,className:rr(v.root,o),focusable:"false",color:s,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:r},g,f,m&&i.props,{ownerState:p,children:[m?i.props.children:i,d?F.jsx("title",{children:d}):null]}))});R4.muiName="SvgIcon";function vve(e,t){function r(n,i){return F.jsx(R4,ue({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return r.muiName=R4.muiName,G.memo(G.forwardRef(r))}function L4(e,t){return L4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},L4(e,t)}function lX(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,L4(e,t)}const OL={disabled:!1},$_=Et.createContext(null);var yve=function(t){return t.scrollTop},Av="unmounted",vh="exited",yh="entering",Lp="entered",z4="exiting",cc=function(e){lX(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var l=i,c=l&&!l.isMounting?n.enter:n.appear,a;return o.appearStatus=null,n.in?c?(a=vh,o.appearStatus=yh):a=Lp:n.unmountOnExit||n.mountOnEnter?a=Av:a=vh,o.state={status:a},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===Av?{status:vh}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==yh&&l!==Lp&&(o=yh):(l===yh||l===Lp)&&(o=z4)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,l,c;return o=l=c=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:c}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===yh){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:_v.findDOMNode(this);l&&yve(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vh&&this.setState({status:Av})},r.performEnter=function(i){var o=this,l=this.props.enter,c=this.context?this.context.isMounting:i,a=this.props.nodeRef?[c]:[_v.findDOMNode(this),c],s=a[0],u=a[1],d=this.getTimeouts(),h=c?d.appear:d.enter;if(!i&&!l||OL.disabled){this.safeSetState({status:Lp},function(){o.props.onEntered(s)});return}this.props.onEnter(s,u),this.safeSetState({status:yh},function(){o.props.onEntering(s,u),o.onTransitionEnd(h,function(){o.safeSetState({status:Lp},function(){o.props.onEntered(s,u)})})})},r.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:_v.findDOMNode(this);if(!o||OL.disabled){this.safeSetState({status:vh},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:z4},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:vh},function(){i.props.onExited(c)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,o.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},r.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:_v.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],s=a[0],u=a[1];this.props.addEndListener(s,u)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===Av)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=Lt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Et.createElement($_.Provider,{value:null},typeof l=="function"?l(i,c):Et.cloneElement(Et.Children.only(l),c))},t}(Et.Component);cc.contextType=$_;cc.propTypes={};function Qf(){}cc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Qf,onEntering:Qf,onEntered:Qf,onExit:Qf,onExiting:Qf,onExited:Qf};cc.UNMOUNTED=Av;cc.EXITED=vh;cc.ENTERING=yh;cc.ENTERED=Lp;cc.EXITING=z4;function bve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lj(e,t){var r=function(o){return t&&G.isValidElement(o)?t(o):o},n=Object.create(null);return e&&G.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function xve(e,t){e=e||{},t=t||{};function r(u){return u in t?t[u]:e[u]}var n=Object.create(null),i=[];for(var o in e)o in t?i.length&&(n[o]=i,i=[]):i.push(o);var l,c={};for(var a in t){if(n[a])for(l=0;l<n[a].length;l++){var s=n[a][l];c[n[a][l]]=r(s)}c[a]=r(a)}for(l=0;l<i.length;l++)c[i[l]]=r(i[l]);return c}function Bh(e,t,r){return r[t]!=null?r[t]:e.props[t]}function wve(e,t){return lj(e.children,function(r){return G.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Bh(r,"appear",e),enter:Bh(r,"enter",e),exit:Bh(r,"exit",e)})})}function _ve(e,t,r){var n=lj(e.children),i=xve(t,n);return Object.keys(i).forEach(function(o){var l=i[o];if(G.isValidElement(l)){var c=o in t,a=o in n,s=t[o],u=G.isValidElement(s)&&!s.props.in;a&&(!c||u)?i[o]=G.cloneElement(l,{onExited:r.bind(null,l),in:!0,exit:Bh(l,"exit",e),enter:Bh(l,"enter",e)}):!a&&c&&!u?i[o]=G.cloneElement(l,{in:!1}):a&&c&&G.isValidElement(s)&&(i[o]=G.cloneElement(l,{onExited:r.bind(null,l),in:s.props.in,exit:Bh(l,"exit",e),enter:Bh(l,"enter",e)}))}}),i}var Sve=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Eve={component:"div",childFactory:function(t){return t}},cj=function(e){lX(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var l=o.handleExited.bind(bve(o));return o.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},o}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var l=o.children,c=o.handleExited,a=o.firstRender;return{children:a?wve(i,c):_ve(i,l,c),firstRender:!1}},r.handleExited=function(i,o){var l=lj(this.props.children);i.key in l||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(c){var a=ue({},c.children);return delete a[i.key],{children:a}}))},r.render=function(){var i=this.props,o=i.component,l=i.childFactory,c=Lt(i,["component","childFactory"]),a=this.state.contextValue,s=Sve(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,o===null?Et.createElement($_.Provider,{value:a},s):Et.createElement($_.Provider,{value:a},Et.createElement(o,c,s))},t}(Et.Component);cj.propTypes={};cj.defaultProps=Eve;const cX=e=>e.scrollTop;function K_(e,t){var r,n;const{timeout:i,easing:o,style:l={}}=e;return{duration:(r=l.transitionDuration)!=null?r:typeof i=="number"?i:i[t.mode]||0,easing:(n=l.transitionTimingFunction)!=null?n:typeof o=="object"?o[t.mode]:o,delay:l.transitionDelay}}function Ave(e){return Zr("MuiPaper",e)}en("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Cve=["className","component","elevation","square","variant"],Mve=e=>{const{square:t,elevation:r,variant:n,classes:i}=e,o={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return dn(o,Ave,i)},Tve=Vt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(({theme:e,ownerState:t})=>{var r;return ue({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&ue({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${dm("#fff",IL(t.elevation))}, ${dm("#fff",IL(t.elevation))})`},e.vars&&{backgroundImage:(r=e.vars.overlays)==null?void 0:r[t.elevation]}))}),uX=G.forwardRef(function(t,r){const n=hn({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:l=1,square:c=!1,variant:a="elevation"}=n,s=Lt(n,Cve),u=ue({},n,{component:o,elevation:l,square:c,variant:a}),d=Mve(u);return F.jsx(Tve,ue({as:o,ownerState:u,className:rr(d.root,i),ref:r},s))});function Q_(e){return typeof e=="string"}function Pve(e,t,r){return e===void 0||Q_(e)?t:ue({},t,{ownerState:ue({},t.ownerState,r)})}function dX(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function kve(e,t,r){return typeof e=="function"?e(t,r):e}function RL(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function Dve(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=e;if(!t){const f=rr(r==null?void 0:r.className,o,i==null?void 0:i.className,n==null?void 0:n.className),m=ue({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),p=ue({},r,i,n);return f.length>0&&(p.className=f),Object.keys(m).length>0&&(p.style=m),{props:p,internalRef:void 0}}const l=dX(ue({},i,n)),c=RL(n),a=RL(i),s=t(l),u=rr(s==null?void 0:s.className,r==null?void 0:r.className,o,i==null?void 0:i.className,n==null?void 0:n.className),d=ue({},s==null?void 0:s.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),h=ue({},s,r,a,c);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:s.ref}}const jve=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function fg(e){var t;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:o=!1}=e,l=Lt(e,jve),c=o?{}:kve(n,i),{props:a,internalRef:s}=Dve(ue({},l,{externalSlotProps:c})),u=Jo(s,c==null?void 0:c.ref,(t=e.additionalProps)==null?void 0:t.ref);return Pve(r,ue({},a,{ref:u}),i)}function Ive(e){const{className:t,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:l,in:c,onExited:a,timeout:s}=e,[u,d]=G.useState(!1),h=rr(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),f={width:l,height:l,top:-(l/2)+o,left:-(l/2)+i},m=rr(r.child,u&&r.childLeaving,n&&r.childPulsate);return!c&&!u&&d(!0),G.useEffect(()=>{if(!c&&a!=null){const p=setTimeout(a,s);return()=>{clearTimeout(p)}}},[a,c,s]),F.jsx("span",{className:h,style:f,children:F.jsx("span",{className:m})})}const $a=en("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ove=["center","classes","className"];let CE=e=>e,LL,zL,NL,BL;const N4=550,Rve=80,Lve=nE(LL||(LL=CE`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),zve=nE(zL||(zL=CE`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Nve=nE(NL||(NL=CE`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Bve=Vt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Fve=Vt(Ive,{name:"MuiTouchRipple",slot:"Ripple"})(BL||(BL=CE`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),$a.rippleVisible,Lve,N4,({theme:e})=>e.transitions.easing.easeInOut,$a.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,$a.child,$a.childLeaving,zve,N4,({theme:e})=>e.transitions.easing.easeInOut,$a.childPulsate,Nve,({theme:e})=>e.transitions.easing.easeInOut),Uve=G.forwardRef(function(t,r){const n=hn({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:l}=n,c=Lt(n,Ove),[a,s]=G.useState([]),u=G.useRef(0),d=G.useRef(null);G.useEffect(()=>{d.current&&(d.current(),d.current=null)},[a]);const h=G.useRef(!1),f=KY(),m=G.useRef(null),p=G.useRef(null),g=G.useCallback(b=>{const{pulsate:w,rippleX:_,rippleY:S,rippleSize:E,cb:C}=b;s(A=>[...A,F.jsx(Fve,{classes:{ripple:rr(o.ripple,$a.ripple),rippleVisible:rr(o.rippleVisible,$a.rippleVisible),ripplePulsate:rr(o.ripplePulsate,$a.ripplePulsate),child:rr(o.child,$a.child),childLeaving:rr(o.childLeaving,$a.childLeaving),childPulsate:rr(o.childPulsate,$a.childPulsate)},timeout:N4,pulsate:w,rippleX:_,rippleY:S,rippleSize:E},u.current)]),u.current+=1,d.current=C},[o]),v=G.useCallback((b={},w={},_=()=>{})=>{const{pulsate:S=!1,center:E=i||w.pulsate,fakeElement:C=!1}=w;if((b==null?void 0:b.type)==="mousedown"&&h.current){h.current=!1;return}(b==null?void 0:b.type)==="touchstart"&&(h.current=!0);const A=C?null:p.current,T=A?A.getBoundingClientRect():{width:0,height:0,left:0,top:0};let k,D,M;if(E||b===void 0||b.clientX===0&&b.clientY===0||!b.clientX&&!b.touches)k=Math.round(T.width/2),D=Math.round(T.height/2);else{const{clientX:P,clientY:j}=b.touches&&b.touches.length>0?b.touches[0]:b;k=Math.round(P-T.left),D=Math.round(j-T.top)}if(E)M=Math.sqrt((2*T.width**2+T.height**2)/3),M%2===0&&(M+=1);else{const P=Math.max(Math.abs((A?A.clientWidth:0)-k),k)*2+2,j=Math.max(Math.abs((A?A.clientHeight:0)-D),D)*2+2;M=Math.sqrt(P**2+j**2)}b!=null&&b.touches?m.current===null&&(m.current=()=>{g({pulsate:S,rippleX:k,rippleY:D,rippleSize:M,cb:_})},f.start(Rve,()=>{m.current&&(m.current(),m.current=null)})):g({pulsate:S,rippleX:k,rippleY:D,rippleSize:M,cb:_})},[i,g,f]),x=G.useCallback(()=>{v({},{pulsate:!0})},[v]),y=G.useCallback((b,w)=>{if(f.clear(),(b==null?void 0:b.type)==="touchend"&&m.current){m.current(),m.current=null,f.start(0,()=>{y(b,w)});return}m.current=null,s(_=>_.length>0?_.slice(1):_),d.current=w},[f]);return G.useImperativeHandle(r,()=>({pulsate:x,start:v,stop:y}),[x,v,y]),F.jsx(Bve,ue({className:rr($a.root,o.root,l),ref:p},c,{children:F.jsx(cj,{component:null,exit:!0,children:a})}))});function Vve(e){return Zr("MuiButtonBase",e)}const Hve=en("MuiButtonBase",["root","disabled","focusVisible"]),Wve=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Gve=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:i}=e,l=dn({root:["root",t&&"disabled",r&&"focusVisible"]},Vve,i);return r&&n&&(l.root+=` ${n}`),l},qve=Vt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Hve.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Yve=G.forwardRef(function(t,r){const n=hn({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:l,className:c,component:a="button",disabled:s=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:m,onClick:p,onContextMenu:g,onDragLeave:v,onFocus:x,onFocusVisible:y,onKeyDown:b,onKeyUp:w,onMouseDown:_,onMouseLeave:S,onMouseUp:E,onTouchEnd:C,onTouchMove:A,onTouchStart:T,tabIndex:k=0,TouchRippleProps:D,touchRippleRef:M,type:P}=n,j=Lt(n,Wve),O=G.useRef(null),I=G.useRef(null),N=Jo(I,M),{isFocusVisibleRef:L,onFocus:B,onBlur:R,ref:z}=Zge(),[W,U]=G.useState(!1);s&&W&&U(!1),G.useImperativeHandle(i,()=>({focusVisible:()=>{U(!0),O.current.focus()}}),[]);const[H,X]=G.useState(!1);G.useEffect(()=>{X(!0)},[]);const K=H&&!u&&!s;G.useEffect(()=>{W&&h&&!u&&H&&I.current.pulsate()},[u,h,W,H]);function Q(fe,de,Fe=d){return um(Be=>(de&&de(Be),!Fe&&I.current&&I.current[fe](Be),!0))}const Y=Q("start",_),$=Q("stop",g),J=Q("stop",v),ie=Q("stop",E),ne=Q("stop",fe=>{W&&fe.preventDefault(),S&&S(fe)}),ae=Q("start",T),je=Q("stop",C),Ee=Q("stop",A),we=Q("stop",fe=>{R(fe),L.current===!1&&U(!1),m&&m(fe)},!1),De=um(fe=>{O.current||(O.current=fe.currentTarget),B(fe),L.current===!0&&(U(!0),y&&y(fe)),x&&x(fe)}),Le=()=>{const fe=O.current;return a&&a!=="button"&&!(fe.tagName==="A"&&fe.href)},Ie=G.useRef(!1),ee=um(fe=>{h&&!Ie.current&&W&&I.current&&fe.key===" "&&(Ie.current=!0,I.current.stop(fe,()=>{I.current.start(fe)})),fe.target===fe.currentTarget&&Le()&&fe.key===" "&&fe.preventDefault(),b&&b(fe),fe.target===fe.currentTarget&&Le()&&fe.key==="Enter"&&!s&&(fe.preventDefault(),p&&p(fe))}),q=um(fe=>{h&&fe.key===" "&&I.current&&W&&!fe.defaultPrevented&&(Ie.current=!1,I.current.stop(fe,()=>{I.current.pulsate(fe)})),w&&w(fe),p&&fe.target===fe.currentTarget&&Le()&&fe.key===" "&&!fe.defaultPrevented&&p(fe)});let le=a;le==="button"&&(j.href||j.to)&&(le=f);const Te={};le==="button"?(Te.type=P===void 0?"button":P,Te.disabled=s):(!j.href&&!j.to&&(Te.role="button"),s&&(Te["aria-disabled"]=s));const te=Jo(r,z,O),ce=ue({},n,{centerRipple:o,component:a,disabled:s,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:k,focusVisible:W}),Ce=Gve(ce);return F.jsxs(qve,ue({as:le,className:rr(Ce.root,c),ownerState:ce,onBlur:we,onClick:p,onContextMenu:$,onFocus:De,onKeyDown:ee,onKeyUp:q,onMouseDown:Y,onMouseLeave:ne,onMouseUp:ie,onDragLeave:J,onTouchEnd:je,onTouchMove:Ee,onTouchStart:ae,ref:te,tabIndex:s?-1:k,type:P},Te,j,{children:[l,K?F.jsx(Uve,ue({ref:N,center:o},D)):null]}))});function Xve(e){return Zr("MuiTypography",e)}en("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const $ve=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Kve=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:l}=e,c={root:["root",o,e.align!=="inherit"&&`align${ar(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return dn(c,Xve,l)},Qve=Vt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${ar(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>ue({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),FL={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Jve={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Zve=e=>Jve[e]||e,eye=G.forwardRef(function(t,r){const n=hn({props:t,name:"MuiTypography"}),i=Zve(n.color),o=hE(ue({},n,{color:i})),{align:l="inherit",className:c,component:a,gutterBottom:s=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=FL}=o,m=Lt(o,$ve),p=ue({},o,{align:l,color:i,className:c,component:a,gutterBottom:s,noWrap:u,paragraph:d,variant:h,variantMapping:f}),g=a||(d?"p":f[h]||FL[h])||"span",v=Kve(p);return F.jsx(Qve,ue({as:g,ref:r,ownerState:p,className:rr(v.root,c)},m))}),tye=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function rye(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function nye(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function iye(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||nye(e))}function oye(e){const t=[],r=[];return Array.from(e.querySelectorAll(tye)).forEach((n,i)=>{const o=rye(n);o===-1||!iye(n)||(o===0?t.push(n):r.push({documentOrder:i,tabIndex:o,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(t)}function aye(){return!0}function sye(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=oye,isEnabled:l=aye,open:c}=e,a=G.useRef(!1),s=G.useRef(null),u=G.useRef(null),d=G.useRef(null),h=G.useRef(null),f=G.useRef(!1),m=G.useRef(null),p=Jo(t.ref,m),g=G.useRef(null);G.useEffect(()=>{!c||!m.current||(f.current=!r)},[r,c]),G.useEffect(()=>{if(!c||!m.current)return;const y=Ca(m.current);return m.current.contains(y.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(a.current=!0,d.current.focus()),d.current=null)}},[c]),G.useEffect(()=>{if(!c||!m.current)return;const y=Ca(m.current),b=S=>{g.current=S,!(n||!l()||S.key!=="Tab")&&y.activeElement===m.current&&S.shiftKey&&(a.current=!0,u.current&&u.current.focus())},w=()=>{const S=m.current;if(S===null)return;if(!y.hasFocus()||!l()||a.current){a.current=!1;return}if(S.contains(y.activeElement)||n&&y.activeElement!==s.current&&y.activeElement!==u.current)return;if(y.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let E=[];if((y.activeElement===s.current||y.activeElement===u.current)&&(E=o(m.current)),E.length>0){var C,A;const T=!!((C=g.current)!=null&&C.shiftKey&&((A=g.current)==null?void 0:A.key)==="Tab"),k=E[0],D=E[E.length-1];typeof k!="string"&&typeof D!="string"&&(T?D.focus():k.focus())}else S.focus()};y.addEventListener("focusin",w),y.addEventListener("keydown",b,!0);const _=setInterval(()=>{y.activeElement&&y.activeElement.tagName==="BODY"&&w()},50);return()=>{clearInterval(_),y.removeEventListener("focusin",w),y.removeEventListener("keydown",b,!0)}},[r,n,i,l,c,o]);const v=y=>{d.current===null&&(d.current=y.relatedTarget),f.current=!0,h.current=y.target;const b=t.props.onFocus;b&&b(y)},x=y=>{d.current===null&&(d.current=y.relatedTarget),f.current=!0};return F.jsxs(G.Fragment,{children:[F.jsx("div",{tabIndex:c?0:-1,onFocus:x,ref:s,"data-testid":"sentinelStart"}),G.cloneElement(t,{ref:p,onFocus:v}),F.jsx("div",{tabIndex:c?0:-1,onFocus:x,ref:u,"data-testid":"sentinelEnd"})]})}function lye(e){return typeof e=="function"?e():e}const cye=G.forwardRef(function(t,r){const{children:n,container:i,disablePortal:o=!1}=t,[l,c]=G.useState(null),a=Jo(G.isValidElement(n)?n.ref:null,r);if(vf(()=>{o||c(lye(i)||document.body)},[i,o]),vf(()=>{if(l&&!o)return j4(r,l),()=>{j4(r,null)}},[r,l,o]),o){if(G.isValidElement(n)){const s={ref:a};return G.cloneElement(n,s)}return F.jsx(G.Fragment,{children:n})}return F.jsx(G.Fragment,{children:l&&Og.createPortal(n,l)})});function uye(e){const t=Ca(e);return t.body===e?yf(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function ey(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function UL(e){return parseInt(yf(e).getComputedStyle(e).paddingRight,10)||0}function dye(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function VL(e,t,r,n,i){const o=[t,r,...n];[].forEach.call(e.children,l=>{const c=o.indexOf(l)===-1,a=!dye(l);c&&a&&ey(l,i)})}function RA(e,t){let r=-1;return e.some((n,i)=>t(n)?(r=i,!0):!1),r}function hye(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(uye(n)){const l=QY(Ca(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${UL(n)+l}px`;const c=Ca(n).querySelectorAll(".mui-fixed");[].forEach.call(c,a=>{r.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${UL(a)+l}px`})}let o;if(n.parentNode instanceof DocumentFragment)o=Ca(n).body;else{const l=n.parentElement,c=yf(n);o=(l==null?void 0:l.nodeName)==="HTML"&&c.getComputedStyle(l).overflowY==="scroll"?l:n}r.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{r.forEach(({value:o,el:l,property:c})=>{o?l.style.setProperty(c,o):l.style.removeProperty(c)})}}function fye(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class pye{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,r){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&ey(t.modalRef,!1);const i=fye(r);VL(r,t.mount,t.modalRef,i,!0);const o=RA(this.containers,l=>l.container===r);return o!==-1?(this.containers[o].modals.push(t),n):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:i}),n)}mount(t,r){const n=RA(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[n];i.restore||(i.restore=hye(i,r))}remove(t,r=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const i=RA(this.containers,l=>l.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(n,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&ey(t.modalRef,r),VL(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const l=o.modals[o.modals.length-1];l.modalRef&&ey(l.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function mye(e){return typeof e=="function"?e():e}function gye(e){return e?e.props.hasOwnProperty("in"):!1}const vye=new pye;function yye(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,manager:i=vye,closeAfterTransition:o=!1,onTransitionEnter:l,onTransitionExited:c,children:a,onClose:s,open:u,rootRef:d}=e,h=G.useRef({}),f=G.useRef(null),m=G.useRef(null),p=Jo(m,d),[g,v]=G.useState(!u),x=gye(a);let y=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(y=!1);const b=()=>Ca(f.current),w=()=>(h.current.modalRef=m.current,h.current.mount=f.current,h.current),_=()=>{i.mount(w(),{disableScrollLock:n}),m.current&&(m.current.scrollTop=0)},S=um(()=>{const j=mye(t)||b().body;i.add(w(),j),m.current&&_()}),E=G.useCallback(()=>i.isTopModal(w()),[i]),C=um(j=>{f.current=j,j&&(u&&E()?_():m.current&&ey(m.current,y))}),A=G.useCallback(()=>{i.remove(w(),y)},[y,i]);G.useEffect(()=>()=>{A()},[A]),G.useEffect(()=>{u?S():(!x||!o)&&A()},[u,A,x,o,S]);const T=j=>O=>{var I;(I=j.onKeyDown)==null||I.call(j,O),!(O.key!=="Escape"||O.which===229||!E())&&(r||(O.stopPropagation(),s&&s(O,"escapeKeyDown")))},k=j=>O=>{var I;(I=j.onClick)==null||I.call(j,O),O.target===O.currentTarget&&s&&s(O,"backdropClick")};return{getRootProps:(j={})=>{const O=dX(e);delete O.onTransitionEnter,delete O.onTransitionExited;const I=ue({},O,j);return ue({role:"presentation"},I,{onKeyDown:T(I),ref:p})},getBackdropProps:(j={})=>{const O=j;return ue({"aria-hidden":!0},O,{onClick:k(O),open:u})},getTransitionProps:()=>{const j=()=>{v(!1),l&&l()},O=()=>{v(!0),c&&c(),o&&A()};return{onEnter:xL(j,a==null?void 0:a.props.onEnter),onExited:xL(O,a==null?void 0:a.props.onExited)}},rootRef:p,portalRef:C,isTopModal:E,exited:g,hasTransition:x}}const bye=["onChange","maxRows","minRows","style","value"];function Lb(e){return parseInt(e,10)||0}const xye={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function wye(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflowing}const _ye=G.forwardRef(function(t,r){const{onChange:n,maxRows:i,minRows:o=1,style:l,value:c}=t,a=Lt(t,bye),{current:s}=G.useRef(c!=null),u=G.useRef(null),d=Jo(r,u),h=G.useRef(null),f=G.useCallback(()=>{const g=u.current,x=yf(g).getComputedStyle(g);if(x.width==="0px")return{outerHeightStyle:0,overflowing:!1};const y=h.current;y.style.width=x.width,y.value=g.value||t.placeholder||"x",y.value.slice(-1)===`
`&&(y.value+=" ");const b=x.boxSizing,w=Lb(x.paddingBottom)+Lb(x.paddingTop),_=Lb(x.borderBottomWidth)+Lb(x.borderTopWidth),S=y.scrollHeight;y.value="x";const E=y.scrollHeight;let C=S;o&&(C=Math.max(Number(o)*E,C)),i&&(C=Math.min(Number(i)*E,C)),C=Math.max(C,E);const A=C+(b==="border-box"?w+_:0),T=Math.abs(C-S)<=1;return{outerHeightStyle:A,overflowing:T}},[i,o,t.placeholder]),m=G.useCallback(()=>{const g=f();if(wye(g))return;const v=u.current;v.style.height=`${g.outerHeightStyle}px`,v.style.overflow=g.overflowing?"hidden":""},[f]);vf(()=>{const g=()=>{m()};let v;const x=XY(g),y=u.current,b=yf(y);b.addEventListener("resize",x);let w;return typeof ResizeObserver<"u"&&(w=new ResizeObserver(g),w.observe(y)),()=>{x.clear(),cancelAnimationFrame(v),b.removeEventListener("resize",x),w&&w.disconnect()}},[f,m]),vf(()=>{m()});const p=g=>{s||m(),n&&n(g)};return F.jsxs(G.Fragment,{children:[F.jsx("textarea",ue({value:c,onChange:p,ref:d,rows:o,style:l},a)),F.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:h,tabIndex:-1,style:ue({},xye.shadow,l,{paddingTop:0,paddingBottom:0})})]})});function Yg({props:e,states:t,muiFormControl:r}){return t.reduce((n,i)=>(n[i]=e[i],r&&typeof e[i]>"u"&&(n[i]=r[i]),n),{})}const uj=G.createContext(void 0);function Xg(){return G.useContext(uj)}function Sye(e){return F.jsx(gge,ue({},e,{defaultTheme:AE,themeId:I1}))}function HL(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function J_(e,t=!1){return e&&(HL(e.value)&&e.value!==""||t&&HL(e.defaultValue)&&e.defaultValue!=="")}function Eye(e){return e.startAdornment}function Aye(e){return Zr("MuiInputBase",e)}const pg=en("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Cye=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],ME=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${ar(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},TE=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},Mye=e=>{const{classes:t,color:r,disabled:n,error:i,endAdornment:o,focused:l,formControl:c,fullWidth:a,hiddenLabel:s,multiline:u,readOnly:d,size:h,startAdornment:f,type:m}=e,p={root:["root",`color${ar(r)}`,n&&"disabled",i&&"error",a&&"fullWidth",l&&"focused",c&&"formControl",h&&h!=="medium"&&`size${ar(h)}`,u&&"multiline",f&&"adornedStart",o&&"adornedEnd",s&&"hiddenLabel",d&&"readOnly"],input:["input",n&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",s&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return dn(p,Aye,t)},PE=Vt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ME})(({theme:e,ownerState:t})=>ue({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${pg.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&ue({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),kE=Vt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:TE})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light",n=ue({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return ue({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${pg.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${pg.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),Tye=F.jsx(Sye,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Pye=G.forwardRef(function(t,r){var n;const i=hn({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:l,autoFocus:c,className:a,components:s={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:m,fullWidth:p=!1,id:g,inputComponent:v="input",inputProps:x={},inputRef:y,maxRows:b,minRows:w,multiline:_=!1,name:S,onBlur:E,onChange:C,onClick:A,onFocus:T,onKeyDown:k,onKeyUp:D,placeholder:M,readOnly:P,renderSuffix:j,rows:O,slotProps:I={},slots:N={},startAdornment:L,type:B="text",value:R}=i,z=Lt(i,Cye),W=x.value!=null?x.value:R,{current:U}=G.useRef(W!=null),H=G.useRef(),X=G.useCallback(Ce=>{},[]),K=Jo(H,y,x.ref,X),[Q,Y]=G.useState(!1),$=Xg(),J=Yg({props:i,muiFormControl:$,states:["color","disabled","error","hiddenLabel","size","required","filled"]});J.focused=$?$.focused:Q,G.useEffect(()=>{!$&&h&&Q&&(Y(!1),E&&E())},[$,h,Q,E]);const ie=$&&$.onFilled,ne=$&&$.onEmpty,ae=G.useCallback(Ce=>{J_(Ce)?ie&&ie():ne&&ne()},[ie,ne]);vf(()=>{U&&ae({value:W})},[W,ae,U]);const je=Ce=>{if(J.disabled){Ce.stopPropagation();return}T&&T(Ce),x.onFocus&&x.onFocus(Ce),$&&$.onFocus?$.onFocus(Ce):Y(!0)},Ee=Ce=>{E&&E(Ce),x.onBlur&&x.onBlur(Ce),$&&$.onBlur?$.onBlur(Ce):Y(!1)},we=(Ce,...fe)=>{if(!U){const de=Ce.target||H.current;if(de==null)throw new Error(gf(1));ae({value:de.value})}x.onChange&&x.onChange(Ce,...fe),C&&C(Ce,...fe)};G.useEffect(()=>{ae(H.current)},[]);const De=Ce=>{H.current&&Ce.currentTarget===Ce.target&&H.current.focus(),A&&A(Ce)};let Le=v,Ie=x;_&&Le==="input"&&(O?Ie=ue({type:void 0,minRows:O,maxRows:O},Ie):Ie=ue({type:void 0,maxRows:b,minRows:w},Ie),Le=_ye);const ee=Ce=>{ae(Ce.animationName==="mui-auto-fill-cancel"?H.current:{value:"x"})};G.useEffect(()=>{$&&$.setAdornedStart(!!L)},[$,L]);const q=ue({},i,{color:J.color||"primary",disabled:J.disabled,endAdornment:m,error:J.error,focused:J.focused,formControl:$,fullWidth:p,hiddenLabel:J.hiddenLabel,multiline:_,size:J.size,startAdornment:L,type:B}),le=Mye(q),Te=N.root||s.Root||PE,te=I.root||u.root||{},ce=N.input||s.Input||kE;return Ie=ue({},Ie,(n=I.input)!=null?n:u.input),F.jsxs(G.Fragment,{children:[!f&&Tye,F.jsxs(Te,ue({},te,!Q_(Te)&&{ownerState:ue({},q,te.ownerState)},{ref:r,onClick:De},z,{className:rr(le.root,te.className,a,P&&"MuiInputBase-readOnly"),children:[L,F.jsx(uj.Provider,{value:null,children:F.jsx(ce,ue({ownerState:q,"aria-invalid":J.error,"aria-describedby":o,autoComplete:l,autoFocus:c,defaultValue:d,disabled:J.disabled,id:g,onAnimationStart:ee,name:S,placeholder:M,readOnly:P,required:J.required,rows:O,value:W,onKeyDown:k,onKeyUp:D,type:B},Ie,!Q_(ce)&&{as:Le,ownerState:ue({},q,Ie.ownerState)},{ref:K,className:rr(le.input,Ie.className,P&&"MuiInputBase-readOnly"),onBlur:Ee,onChange:we,onFocus:je}))}),m,j?j(ue({},J,{startAdornment:L})):null]}))]})}),dj=Pye;function kye(e){return Zr("MuiInput",e)}const R0=ue({},pg,en("MuiInput",["root","underline","input"]));function Dye(e){return Zr("MuiOutlinedInput",e)}const ku=ue({},pg,en("MuiOutlinedInput",["root","notchedOutline","input"]));function jye(e){return Zr("MuiFilledInput",e)}const ih=ue({},pg,en("MuiFilledInput",["root","underline","input"])),Iye=vve(F.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Oye=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Rye={entering:{opacity:1},entered:{opacity:1}},Lye=G.forwardRef(function(t,r){const n=sj(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:c,easing:a,in:s,onEnter:u,onEntered:d,onEntering:h,onExit:f,onExited:m,onExiting:p,style:g,timeout:v=i,TransitionComponent:x=cc}=t,y=Lt(t,Oye),b=G.useRef(null),w=Jo(b,c.ref,r),_=M=>P=>{if(M){const j=b.current;P===void 0?M(j):M(j,P)}},S=_(h),E=_((M,P)=>{cX(M);const j=K_({style:g,timeout:v,easing:a},{mode:"enter"});M.style.webkitTransition=n.transitions.create("opacity",j),M.style.transition=n.transitions.create("opacity",j),u&&u(M,P)}),C=_(d),A=_(p),T=_(M=>{const P=K_({style:g,timeout:v,easing:a},{mode:"exit"});M.style.webkitTransition=n.transitions.create("opacity",P),M.style.transition=n.transitions.create("opacity",P),f&&f(M)}),k=_(m),D=M=>{o&&o(b.current,M)};return F.jsx(x,ue({appear:l,in:s,nodeRef:b,onEnter:E,onEntered:C,onEntering:S,onExit:T,onExited:k,onExiting:A,addEndListener:D,timeout:v},y,{children:(M,P)=>G.cloneElement(c,ue({style:ue({opacity:0,visibility:M==="exited"&&!s?"hidden":void 0},Rye[M],g,c.props.style),ref:w},P))}))});function zye(e){return Zr("MuiBackdrop",e)}en("MuiBackdrop",["root","invisible"]);const Nye=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Bye=e=>{const{classes:t,invisible:r}=e;return dn({root:["root",r&&"invisible"]},zye,t)},Fye=Vt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})(({ownerState:e})=>ue({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),Uye=G.forwardRef(function(t,r){var n,i,o;const l=hn({props:t,name:"MuiBackdrop"}),{children:c,className:a,component:s="div",components:u={},componentsProps:d={},invisible:h=!1,open:f,slotProps:m={},slots:p={},TransitionComponent:g=Lye,transitionDuration:v}=l,x=Lt(l,Nye),y=ue({},l,{component:s,invisible:h}),b=Bye(y),w=(n=m.root)!=null?n:d.root;return F.jsx(g,ue({in:f,timeout:v},x,{children:F.jsx(Fye,ue({"aria-hidden":!0},w,{as:(i=(o=p.root)!=null?o:u.Root)!=null?i:s,className:rr(b.root,a,w==null?void 0:w.className),ownerState:ue({},y,w==null?void 0:w.ownerState),classes:b,ref:r,children:c}))}))}),Vye=en("MuiBox",["root"]),Hye=oX(),Wye=_ge({themeId:I1,defaultTheme:Hye,defaultClassName:Vye.root,generateClassName:UY.generate});function Gye(e){return Zr("MuiButton",e)}const zb=en("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),qye=G.createContext({}),Yye=G.createContext(void 0),Xye=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],$ye=e=>{const{color:t,disableElevation:r,fullWidth:n,size:i,variant:o,classes:l}=e,c={root:["root",o,`${o}${ar(t)}`,`size${ar(i)}`,`${o}Size${ar(i)}`,`color${ar(t)}`,r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${ar(i)}`],endIcon:["icon","endIcon",`iconSize${ar(i)}`]},a=dn(c,Gye,l);return ue({},l,a)},hX=e=>ue({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Kye=Vt(Yve,{shouldForwardProp:e=>ol(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${ar(r.color)}`],t[`size${ar(r.size)}`],t[`${r.variant}Size${ar(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var r,n;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],o=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return ue({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":ue({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:dm(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:dm(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:dm(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":ue({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${zb.focusVisible}`]:ue({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${zb.disabled}`]:ue({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${dm(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(r=(n=e.palette).getContrastText)==null?void 0:r.call(n,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${zb.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${zb.disabled}`]:{boxShadow:"none"}}),Qye=Vt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${ar(r.size)}`]]}})(({ownerState:e})=>ue({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},hX(e))),Jye=Vt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${ar(r.size)}`]]}})(({ownerState:e})=>ue({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},hX(e))),Zye=G.forwardRef(function(t,r){const n=G.useContext(qye),i=G.useContext(Yye),o=rj(n,t),l=hn({props:o,name:"MuiButton"}),{children:c,color:a="primary",component:s="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:m,focusVisibleClassName:p,fullWidth:g=!1,size:v="medium",startIcon:x,type:y,variant:b="text"}=l,w=Lt(l,Xye),_=ue({},l,{color:a,component:s,disabled:d,disableElevation:h,disableFocusRipple:f,fullWidth:g,size:v,type:y,variant:b}),S=$ye(_),E=x&&F.jsx(Qye,{className:S.startIcon,ownerState:_,children:x}),C=m&&F.jsx(Jye,{className:S.endIcon,ownerState:_,children:m}),A=i||"";return F.jsxs(Kye,ue({ownerState:_,className:rr(n.className,S.root,u,A),component:s,disabled:d,focusRipple:!f,focusVisibleClassName:rr(S.focusVisible,p),ref:r,type:y},w,{classes:S,children:[E,c,C]}))}),e1e=s0e({createStyledComponent:Vt("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${ar(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>hn({props:e,name:"MuiContainer"})});function t1e(e){return Zr("MuiModal",e)}en("MuiModal",["root","hidden","backdrop"]);const r1e=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],n1e=e=>{const{open:t,exited:r,classes:n}=e;return dn({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},t1e,n)},i1e=Vt("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(({theme:e,ownerState:t})=>ue({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),o1e=Vt(Uye,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),a1e=G.forwardRef(function(t,r){var n,i,o,l,c,a;const s=hn({name:"MuiModal",props:t}),{BackdropComponent:u=o1e,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:m,container:p,component:g,components:v={},componentsProps:x={},disableAutoFocus:y=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:w=!1,disablePortal:_=!1,disableRestoreFocus:S=!1,disableScrollLock:E=!1,hideBackdrop:C=!1,keepMounted:A=!1,onBackdropClick:T,open:k,slotProps:D,slots:M}=s,P=Lt(s,r1e),j=ue({},s,{closeAfterTransition:f,disableAutoFocus:y,disableEnforceFocus:b,disableEscapeKeyDown:w,disablePortal:_,disableRestoreFocus:S,disableScrollLock:E,hideBackdrop:C,keepMounted:A}),{getRootProps:O,getBackdropProps:I,getTransitionProps:N,portalRef:L,isTopModal:B,exited:R,hasTransition:z}=yye(ue({},j,{rootRef:r})),W=ue({},j,{exited:R}),U=n1e(W),H={};if(m.props.tabIndex===void 0&&(H.tabIndex="-1"),z){const{onEnter:ie,onExited:ne}=N();H.onEnter=ie,H.onExited=ne}const X=(n=(i=M==null?void 0:M.root)!=null?i:v.Root)!=null?n:i1e,K=(o=(l=M==null?void 0:M.backdrop)!=null?l:v.Backdrop)!=null?o:u,Q=(c=D==null?void 0:D.root)!=null?c:x.root,Y=(a=D==null?void 0:D.backdrop)!=null?a:x.backdrop,$=fg({elementType:X,externalSlotProps:Q,externalForwardedProps:P,getSlotProps:O,additionalProps:{ref:r,as:g},ownerState:W,className:rr(h,Q==null?void 0:Q.className,U==null?void 0:U.root,!W.open&&W.exited&&(U==null?void 0:U.hidden))}),J=fg({elementType:K,externalSlotProps:Y,additionalProps:d,getSlotProps:ie=>I(ue({},ie,{onClick:ne=>{T&&T(ne),ie!=null&&ie.onClick&&ie.onClick(ne)}})),className:rr(Y==null?void 0:Y.className,d==null?void 0:d.className,U==null?void 0:U.backdrop),ownerState:W});return!A&&!k&&(!z||R)?null:F.jsx(cye,{ref:L,container:p,disablePortal:_,children:F.jsxs(X,ue({},$,{children:[!C&&u?F.jsx(K,ue({},J)):null,F.jsx(sye,{disableEnforceFocus:b,disableAutoFocus:y,disableRestoreFocus:S,isEnabled:B,open:k,children:G.cloneElement(m,H)})]}))})}),s1e=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],l1e=e=>{const{classes:t,disableUnderline:r}=e,i=dn({root:["root",!r&&"underline"],input:["input"]},jye,t);return ue({},t,i)},c1e=Vt(PE,{shouldForwardProp:e=>ol(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...ME(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var r;const n=e.palette.mode==="light",i=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",c=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return ue({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${ih.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${ih.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:c}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(r=(e.vars||e).palette[t.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ih.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ih.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ih.disabled}, .${ih.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${ih.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&ue({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),u1e=Vt(kE,{name:"MuiFilledInput",slot:"Input",overridesResolver:TE})(({theme:e,ownerState:t})=>ue({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),hj=G.forwardRef(function(t,r){var n,i,o,l;const c=hn({props:t,name:"MuiFilledInput"}),{components:a={},componentsProps:s,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:m={},type:p="text"}=c,g=Lt(c,s1e),v=ue({},c,{fullWidth:u,inputComponent:d,multiline:h,type:p}),x=l1e(c),y={root:{ownerState:v},input:{ownerState:v}},b=f??s?Aa(y,f??s):y,w=(n=(i=m.root)!=null?i:a.Root)!=null?n:c1e,_=(o=(l=m.input)!=null?l:a.Input)!=null?o:u1e;return F.jsx(dj,ue({slots:{root:w,input:_},componentsProps:b,fullWidth:u,inputComponent:d,multiline:h,ref:r,type:p},g,{classes:x}))});hj.muiName="Input";function d1e(e){return Zr("MuiFormControl",e)}en("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const h1e=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],f1e=e=>{const{classes:t,margin:r,fullWidth:n}=e,i={root:["root",r!=="none"&&`margin${ar(r)}`,n&&"fullWidth"]};return dn(i,d1e,t)},p1e=Vt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>ue({},t.root,t[`margin${ar(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>ue({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),m1e=G.forwardRef(function(t,r){const n=hn({props:t,name:"MuiFormControl"}),{children:i,className:o,color:l="primary",component:c="div",disabled:a=!1,error:s=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:m=!1,size:p="medium",variant:g="outlined"}=n,v=Lt(n,h1e),x=ue({},n,{color:l,component:c,disabled:a,error:s,fullWidth:d,hiddenLabel:h,margin:f,required:m,size:p,variant:g}),y=f1e(x),[b,w]=G.useState(()=>{let D=!1;return i&&G.Children.forEach(i,M=>{if(!DA(M,["Input","Select"]))return;const P=DA(M,["Select"])?M.props.input:M;P&&Eye(P.props)&&(D=!0)}),D}),[_,S]=G.useState(()=>{let D=!1;return i&&G.Children.forEach(i,M=>{DA(M,["Input","Select"])&&(J_(M.props,!0)||J_(M.props.inputProps,!0))&&(D=!0)}),D}),[E,C]=G.useState(!1);a&&E&&C(!1);const A=u!==void 0&&!a?u:E;let T;const k=G.useMemo(()=>({adornedStart:b,setAdornedStart:w,color:l,disabled:a,error:s,filled:_,focused:A,fullWidth:d,hiddenLabel:h,size:p,onBlur:()=>{C(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{C(!0)},registerEffect:T,required:m,variant:g}),[b,l,a,s,_,A,d,h,T,m,p,g]);return F.jsx(uj.Provider,{value:k,children:F.jsx(p1e,ue({as:c,ownerState:x,className:rr(y.root,o),ref:r},v,{children:i}))})});function g1e(e){return Zr("MuiFormHelperText",e)}const WL=en("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var GL;const v1e=["children","className","component","disabled","error","filled","focused","margin","required","variant"],y1e=e=>{const{classes:t,contained:r,size:n,disabled:i,error:o,filled:l,focused:c,required:a}=e,s={root:["root",i&&"disabled",o&&"error",n&&`size${ar(n)}`,r&&"contained",c&&"focused",l&&"filled",a&&"required"]};return dn(s,g1e,t)},b1e=Vt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${ar(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(({theme:e,ownerState:t})=>ue({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${WL.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${WL.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),x1e=G.forwardRef(function(t,r){const n=hn({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:l="p"}=n,c=Lt(n,v1e),a=Xg(),s=Yg({props:n,muiFormControl:a,states:["variant","size","disabled","error","filled","focused","required"]}),u=ue({},n,{component:l,contained:s.variant==="filled"||s.variant==="outlined",variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),d=y1e(u);return F.jsx(b1e,ue({as:l,ownerState:u,className:rr(d.root,o),ref:r},c,{children:i===" "?GL||(GL=F.jsx("span",{className:"notranslate",children:""})):i}))});function w1e(e){return Zr("MuiFormLabel",e)}const ty=en("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),_1e=["children","className","color","component","disabled","error","filled","focused","required"],S1e=e=>{const{classes:t,color:r,focused:n,disabled:i,error:o,filled:l,required:c}=e,a={root:["root",`color${ar(r)}`,i&&"disabled",o&&"error",l&&"filled",n&&"focused",c&&"required"],asterisk:["asterisk",o&&"error"]};return dn(a,w1e,t)},E1e=Vt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>ue({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>ue({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${ty.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${ty.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${ty.error}`]:{color:(e.vars||e).palette.error.main}})),A1e=Vt("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${ty.error}`]:{color:(e.vars||e).palette.error.main}})),C1e=G.forwardRef(function(t,r){const n=hn({props:t,name:"MuiFormLabel"}),{children:i,className:o,component:l="label"}=n,c=Lt(n,_1e),a=Xg(),s=Yg({props:n,muiFormControl:a,states:["color","required","focused","disabled","error","filled"]}),u=ue({},n,{color:s.color||"primary",component:l,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),d=S1e(u);return F.jsxs(E1e,ue({as:l,ownerState:u,className:rr(d.root,o),ref:r},c,{children:[i,s.required&&F.jsxs(A1e,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),qL=G.createContext();function M1e(e){return Zr("MuiGrid",e)}const T1e=[0,1,2,3,4,5,6,7,8,9,10],P1e=["column-reverse","column","row-reverse","row"],k1e=["nowrap","wrap-reverse","wrap"],L0=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Jy=en("MuiGrid",["root","container","item","zeroMinWidth",...T1e.map(e=>`spacing-xs-${e}`),...P1e.map(e=>`direction-xs-${e}`),...k1e.map(e=>`wrap-xs-${e}`),...L0.map(e=>`grid-xs-${e}`),...L0.map(e=>`grid-sm-${e}`),...L0.map(e=>`grid-md-${e}`),...L0.map(e=>`grid-lg-${e}`),...L0.map(e=>`grid-xl-${e}`)]),D1e=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Dm(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function j1e({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((n,i)=>{let o={};if(t[i]&&(r=t[i]),!r)return n;if(r===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const l=iE({values:t.columns,breakpoints:e.breakpoints.values}),c=typeof l=="object"?l[i]:l;if(c==null)return n;const a=`${Math.round(r/c*1e8)/1e6}%`;let s={};if(t.container&&t.item&&t.columnSpacing!==0){const u=e.spacing(t.columnSpacing);if(u!=="0px"){const d=`calc(${a} + ${Dm(u)})`;s={flexBasis:d,maxWidth:d}}}o=ue({flexBasis:a,flexGrow:0,maxWidth:a},s)}return e.breakpoints.values[i]===0?Object.assign(n,o):n[e.breakpoints.up(i)]=o,n},{})}function I1e({theme:e,ownerState:t}){const r=iE({values:t.direction,breakpoints:e.breakpoints.values});return hs({theme:e},r,n=>{const i={flexDirection:n};return n.indexOf("column")===0&&(i[`& > .${Jy.item}`]={maxWidth:"none"}),i})}function fX({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(i=>{r===""&&t[i]!==0&&(r=i)});const n=Object.keys(e).sort((i,o)=>e[i]-e[o]);return n.slice(0,n.indexOf(r))}function O1e({theme:e,ownerState:t}){const{container:r,rowSpacing:n}=t;let i={};if(r&&n!==0){const o=iE({values:n,breakpoints:e.breakpoints.values});let l;typeof o=="object"&&(l=fX({breakpoints:e.breakpoints.values,values:o})),i=hs({theme:e},o,(c,a)=>{var s;const u=e.spacing(c);return u!=="0px"?{marginTop:`-${Dm(u)}`,[`& > .${Jy.item}`]:{paddingTop:Dm(u)}}:(s=l)!=null&&s.includes(a)?{}:{marginTop:0,[`& > .${Jy.item}`]:{paddingTop:0}}})}return i}function R1e({theme:e,ownerState:t}){const{container:r,columnSpacing:n}=t;let i={};if(r&&n!==0){const o=iE({values:n,breakpoints:e.breakpoints.values});let l;typeof o=="object"&&(l=fX({breakpoints:e.breakpoints.values,values:o})),i=hs({theme:e},o,(c,a)=>{var s;const u=e.spacing(c);return u!=="0px"?{width:`calc(100% + ${Dm(u)})`,marginLeft:`-${Dm(u)}`,[`& > .${Jy.item}`]:{paddingLeft:Dm(u)}}:(s=l)!=null&&s.includes(a)?{}:{width:"100%",marginLeft:0,[`& > .${Jy.item}`]:{paddingLeft:0}}})}return i}function L1e(e,t,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const n=[];return t.forEach(i=>{const o=e[i];Number(o)>0&&n.push(r[`spacing-${i}-${String(o)}`])}),n}const z1e=Vt("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:n,direction:i,item:o,spacing:l,wrap:c,zeroMinWidth:a,breakpoints:s}=r;let u=[];n&&(u=L1e(l,s,t));const d=[];return s.forEach(h=>{const f=r[h];f&&d.push(t[`grid-${h}-${String(f)}`])}),[t.root,n&&t.container,o&&t.item,a&&t.zeroMinWidth,...u,i!=="row"&&t[`direction-xs-${String(i)}`],c!=="wrap"&&t[`wrap-xs-${String(c)}`],...d]}})(({ownerState:e})=>ue({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),I1e,O1e,R1e,j1e);function N1e(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return t.forEach(n=>{const i=e[n];if(Number(i)>0){const o=`spacing-${n}-${String(i)}`;r.push(o)}}),r}const B1e=e=>{const{classes:t,container:r,direction:n,item:i,spacing:o,wrap:l,zeroMinWidth:c,breakpoints:a}=e;let s=[];r&&(s=N1e(o,a));const u=[];a.forEach(h=>{const f=e[h];f&&u.push(`grid-${h}-${String(f)}`)});const d={root:["root",r&&"container",i&&"item",c&&"zeroMinWidth",...s,n!=="row"&&`direction-xs-${String(n)}`,l!=="wrap"&&`wrap-xs-${String(l)}`,...u]};return dn(d,M1e,t)},LA=G.forwardRef(function(t,r){const n=hn({props:t,name:"MuiGrid"}),{breakpoints:i}=sj(),o=hE(n),{className:l,columns:c,columnSpacing:a,component:s="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:f,spacing:m=0,wrap:p="wrap",zeroMinWidth:g=!1}=o,v=Lt(o,D1e),x=f||m,y=a||m,b=G.useContext(qL),w=u?c||12:b,_={},S=ue({},v);i.keys.forEach(A=>{v[A]!=null&&(_[A]=v[A],delete S[A])});const E=ue({},o,{columns:w,container:u,direction:d,item:h,rowSpacing:x,columnSpacing:y,wrap:p,zeroMinWidth:g,spacing:m},_,{breakpoints:i.keys}),C=B1e(E);return F.jsx(qL.Provider,{value:w,children:F.jsx(z1e,ue({ownerState:E,className:rr(C.root,l),as:s,ref:r},S))})}),F1e=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function B4(e){return`scale(${e}, ${e**2})`}const U1e={entering:{opacity:1,transform:B4(1)},entered:{opacity:1,transform:"none"}},zA=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),pX=G.forwardRef(function(t,r){const{addEndListener:n,appear:i=!0,children:o,easing:l,in:c,onEnter:a,onEntered:s,onEntering:u,onExit:d,onExited:h,onExiting:f,style:m,timeout:p="auto",TransitionComponent:g=cc}=t,v=Lt(t,F1e),x=KY(),y=G.useRef(),b=sj(),w=G.useRef(null),_=Jo(w,o.ref,r),S=P=>j=>{if(P){const O=w.current;j===void 0?P(O):P(O,j)}},E=S(u),C=S((P,j)=>{cX(P);const{duration:O,delay:I,easing:N}=K_({style:m,timeout:p,easing:l},{mode:"enter"});let L;p==="auto"?(L=b.transitions.getAutoHeightDuration(P.clientHeight),y.current=L):L=O,P.style.transition=[b.transitions.create("opacity",{duration:L,delay:I}),b.transitions.create("transform",{duration:zA?L:L*.666,delay:I,easing:N})].join(","),a&&a(P,j)}),A=S(s),T=S(f),k=S(P=>{const{duration:j,delay:O,easing:I}=K_({style:m,timeout:p,easing:l},{mode:"exit"});let N;p==="auto"?(N=b.transitions.getAutoHeightDuration(P.clientHeight),y.current=N):N=j,P.style.transition=[b.transitions.create("opacity",{duration:N,delay:O}),b.transitions.create("transform",{duration:zA?N:N*.666,delay:zA?O:O||N*.333,easing:I})].join(","),P.style.opacity=0,P.style.transform=B4(.75),d&&d(P)}),D=S(h),M=P=>{p==="auto"&&x.start(y.current||0,P),n&&n(w.current,P)};return F.jsx(g,ue({appear:i,in:c,nodeRef:w,onEnter:C,onEntered:A,onEntering:E,onExit:k,onExited:D,onExiting:T,addEndListener:M,timeout:p==="auto"?null:p},v,{children:(P,j)=>G.cloneElement(o,ue({style:ue({opacity:0,transform:B4(.75),visibility:P==="exited"&&!c?"hidden":void 0},U1e[P],m,o.props.style),ref:_},j))}))});pX.muiSupportAuto=!0;const V1e=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],H1e=e=>{const{classes:t,disableUnderline:r}=e,i=dn({root:["root",!r&&"underline"],input:["input"]},kye,t);return ue({},t,i)},W1e=Vt(PE,{shouldForwardProp:e=>ol(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...ME(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),ue({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${R0.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${R0.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${R0.disabled}, .${R0.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${R0.disabled}:before`]:{borderBottomStyle:"dotted"}})}),G1e=Vt(kE,{name:"MuiInput",slot:"Input",overridesResolver:TE})({}),fj=G.forwardRef(function(t,r){var n,i,o,l;const c=hn({props:t,name:"MuiInput"}),{disableUnderline:a,components:s={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:m,slots:p={},type:g="text"}=c,v=Lt(c,V1e),x=H1e(c),b={root:{ownerState:{disableUnderline:a}}},w=m??u?Aa(m??u,b):b,_=(n=(i=p.root)!=null?i:s.Root)!=null?n:W1e,S=(o=(l=p.input)!=null?l:s.Input)!=null?o:G1e;return F.jsx(dj,ue({slots:{root:_,input:S},slotProps:w,fullWidth:d,inputComponent:h,multiline:f,ref:r,type:g},v,{classes:x}))});fj.muiName="Input";function q1e(e){return Zr("MuiInputLabel",e)}en("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Y1e=["disableAnimation","margin","shrink","variant","className"],X1e=e=>{const{classes:t,formControl:r,size:n,shrink:i,disableAnimation:o,variant:l,required:c}=e,a={root:["root",r&&"formControl",!o&&"animated",i&&"shrink",n&&n!=="normal"&&`size${ar(n)}`,l],asterisk:[c&&"asterisk"]},s=dn(a,q1e,t);return ue({},t,s)},$1e=Vt(C1e,{shouldForwardProp:e=>ol(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${ty.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})(({theme:e,ownerState:t})=>ue({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&ue({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&ue({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&ue({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),K1e=G.forwardRef(function(t,r){const n=hn({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:o,className:l}=n,c=Lt(n,Y1e),a=Xg();let s=o;typeof s>"u"&&a&&(s=a.filled||a.focused||a.adornedStart);const u=Yg({props:n,muiFormControl:a,states:["size","variant","required","focused"]}),d=ue({},n,{disableAnimation:i,formControl:a,shrink:s,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),h=X1e(d);return F.jsx($1e,ue({"data-shrink":s,ownerState:d,ref:r,className:rr(h.root,l)},c,{classes:h}))}),Q1e=G.createContext({});function J1e(e){return Zr("MuiList",e)}en("MuiList",["root","padding","dense","subheader"]);const Z1e=["children","className","component","dense","disablePadding","subheader"],ebe=e=>{const{classes:t,disablePadding:r,dense:n,subheader:i}=e;return dn({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},J1e,t)},tbe=Vt("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})(({ownerState:e})=>ue({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),rbe=G.forwardRef(function(t,r){const n=hn({props:t,name:"MuiList"}),{children:i,className:o,component:l="ul",dense:c=!1,disablePadding:a=!1,subheader:s}=n,u=Lt(n,Z1e),d=G.useMemo(()=>({dense:c}),[c]),h=ue({},n,{component:l,dense:c,disablePadding:a}),f=ebe(h);return F.jsx(Q1e.Provider,{value:d,children:F.jsxs(tbe,ue({as:l,className:rr(f.root,o),ref:r,ownerState:h},u,{children:[s,i]}))})}),nbe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function NA(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function YL(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function mX(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.indexOf(t.keys.join(""))===0}function z0(e,t,r,n,i,o){let l=!1,c=i(e,t,t?r:!1);for(;c;){if(c===e.firstChild){if(l)return!1;l=!0}const a=n?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!mX(c,o)||a)c=i(e,c,r);else return c.focus(),!0}return!1}const ibe=G.forwardRef(function(t,r){const{actions:n,autoFocus:i=!1,autoFocusItem:o=!1,children:l,className:c,disabledItemsFocusable:a=!1,disableListWrap:s=!1,onKeyDown:u,variant:d="selectedMenu"}=t,h=Lt(t,nbe),f=G.useRef(null),m=G.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});vf(()=>{i&&f.current.focus()},[i]),G.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(y,{direction:b})=>{const w=!f.current.style.width;if(y.clientHeight<f.current.clientHeight&&w){const _=`${QY(Ca(y))}px`;f.current.style[b==="rtl"?"paddingLeft":"paddingRight"]=_,f.current.style.width=`calc(100% + ${_})`}return f.current}}),[]);const p=y=>{const b=f.current,w=y.key,_=Ca(b).activeElement;if(w==="ArrowDown")y.preventDefault(),z0(b,_,s,a,NA);else if(w==="ArrowUp")y.preventDefault(),z0(b,_,s,a,YL);else if(w==="Home")y.preventDefault(),z0(b,null,s,a,NA);else if(w==="End")y.preventDefault(),z0(b,null,s,a,YL);else if(w.length===1){const S=m.current,E=w.toLowerCase(),C=performance.now();S.keys.length>0&&(C-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&E!==S.keys[0]&&(S.repeating=!1)),S.lastTime=C,S.keys.push(E);const A=_&&!S.repeating&&mX(_,S);S.previousKeyMatched&&(A||z0(b,_,!1,a,NA,S))?y.preventDefault():S.previousKeyMatched=!1}u&&u(y)},g=Jo(f,r);let v=-1;G.Children.forEach(l,(y,b)=>{if(!G.isValidElement(y)){v===b&&(v+=1,v>=l.length&&(v=-1));return}y.props.disabled||(d==="selectedMenu"&&y.props.selected||v===-1)&&(v=b),v===b&&(y.props.disabled||y.props.muiSkipListHighlight||y.type.muiSkipListHighlight)&&(v+=1,v>=l.length&&(v=-1))});const x=G.Children.map(l,(y,b)=>{if(b===v){const w={};return o&&(w.autoFocus=!0),y.props.tabIndex===void 0&&d==="selectedMenu"&&(w.tabIndex=0),G.cloneElement(y,w)}return y});return F.jsx(rbe,ue({role:"menu",ref:g,className:c,onKeyDown:p,tabIndex:i?0:-1},h,{children:x}))});function obe(e){return Zr("MuiPopover",e)}en("MuiPopover",["root","paper"]);const abe=["onEntering"],sbe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],lbe=["slotProps"];function XL(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function $L(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function KL(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function BA(e){return typeof e=="function"?e():e}const cbe=e=>{const{classes:t}=e;return dn({root:["root"],paper:["paper"]},obe,t)},ube=Vt(a1e,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),gX=Vt(uX,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),dbe=G.forwardRef(function(t,r){var n,i,o;const l=hn({props:t,name:"MuiPopover"}),{action:c,anchorEl:a,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:f,container:m,elevation:p=8,marginThreshold:g=16,open:v,PaperProps:x={},slots:y,slotProps:b,transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:_=pX,transitionDuration:S="auto",TransitionProps:{onEntering:E}={},disableScrollLock:C=!1}=l,A=Lt(l.TransitionProps,abe),T=Lt(l,sbe),k=(n=b==null?void 0:b.paper)!=null?n:x,D=G.useRef(),M=Jo(D,k.ref),P=ue({},l,{anchorOrigin:s,anchorReference:d,elevation:p,marginThreshold:g,externalPaperSlotProps:k,transformOrigin:w,TransitionComponent:_,transitionDuration:S,TransitionProps:A}),j=cbe(P),O=G.useCallback(()=>{if(d==="anchorPosition")return u;const ie=BA(a),ae=(ie&&ie.nodeType===1?ie:Ca(D.current).body).getBoundingClientRect();return{top:ae.top+XL(ae,s.vertical),left:ae.left+$L(ae,s.horizontal)}},[a,s.horizontal,s.vertical,u,d]),I=G.useCallback(ie=>({vertical:XL(ie,w.vertical),horizontal:$L(ie,w.horizontal)}),[w.horizontal,w.vertical]),N=G.useCallback(ie=>{const ne={width:ie.offsetWidth,height:ie.offsetHeight},ae=I(ne);if(d==="none")return{top:null,left:null,transformOrigin:KL(ae)};const je=O();let Ee=je.top-ae.vertical,we=je.left-ae.horizontal;const De=Ee+ne.height,Le=we+ne.width,Ie=yf(BA(a)),ee=Ie.innerHeight-g,q=Ie.innerWidth-g;if(g!==null&&Ee<g){const le=Ee-g;Ee-=le,ae.vertical+=le}else if(g!==null&&De>ee){const le=De-ee;Ee-=le,ae.vertical+=le}if(g!==null&&we<g){const le=we-g;we-=le,ae.horizontal+=le}else if(Le>q){const le=Le-q;we-=le,ae.horizontal+=le}return{top:`${Math.round(Ee)}px`,left:`${Math.round(we)}px`,transformOrigin:KL(ae)}},[a,d,O,I,g]),[L,B]=G.useState(v),R=G.useCallback(()=>{const ie=D.current;if(!ie)return;const ne=N(ie);ne.top!==null&&(ie.style.top=ne.top),ne.left!==null&&(ie.style.left=ne.left),ie.style.transformOrigin=ne.transformOrigin,B(!0)},[N]);G.useEffect(()=>(C&&window.addEventListener("scroll",R),()=>window.removeEventListener("scroll",R)),[a,C,R]);const z=(ie,ne)=>{E&&E(ie,ne),R()},W=()=>{B(!1)};G.useEffect(()=>{v&&R()}),G.useImperativeHandle(c,()=>v?{updatePosition:()=>{R()}}:null,[v,R]),G.useEffect(()=>{if(!v)return;const ie=XY(()=>{R()}),ne=yf(a);return ne.addEventListener("resize",ie),()=>{ie.clear(),ne.removeEventListener("resize",ie)}},[a,v,R]);let U=S;S==="auto"&&!_.muiSupportAuto&&(U=void 0);const H=m||(a?Ca(BA(a)).body:void 0),X=(i=y==null?void 0:y.root)!=null?i:ube,K=(o=y==null?void 0:y.paper)!=null?o:gX,Q=fg({elementType:K,externalSlotProps:ue({},k,{style:L?k.style:ue({},k.style,{opacity:0})}),additionalProps:{elevation:p,ref:M},ownerState:P,className:rr(j.paper,k==null?void 0:k.className)}),Y=fg({elementType:X,externalSlotProps:(b==null?void 0:b.root)||{},externalForwardedProps:T,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:H,open:v},ownerState:P,className:rr(j.root,f)}),{slotProps:$}=Y,J=Lt(Y,lbe);return F.jsx(X,ue({},J,!Q_(X)&&{slotProps:$,disableScrollLock:C},{children:F.jsx(_,ue({appear:!0,in:v,onEntering:z,onExited:W,timeout:U},A,{children:F.jsx(K,ue({},Q,{children:h}))}))}))});function hbe(e){return Zr("MuiMenu",e)}en("MuiMenu",["root","paper","list"]);const fbe=["onEntering"],pbe=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],mbe={vertical:"top",horizontal:"right"},gbe={vertical:"top",horizontal:"left"},vbe=e=>{const{classes:t}=e;return dn({root:["root"],paper:["paper"],list:["list"]},hbe,t)},ybe=Vt(dbe,{shouldForwardProp:e=>ol(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),bbe=Vt(gX,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),xbe=Vt(ibe,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),wbe=G.forwardRef(function(t,r){var n,i;const o=hn({props:t,name:"MuiMenu"}),{autoFocus:l=!0,children:c,className:a,disableAutoFocusItem:s=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:f={},PopoverClasses:m,transitionDuration:p="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:x={},slotProps:y={}}=o,b=Lt(o.TransitionProps,fbe),w=Lt(o,pbe),_=t0e(),S=ue({},o,{autoFocus:l,disableAutoFocusItem:s,MenuListProps:u,onEntering:g,PaperProps:f,transitionDuration:p,TransitionProps:b,variant:v}),E=vbe(S),C=l&&!s&&h,A=G.useRef(null),T=(I,N)=>{A.current&&A.current.adjustStyleForScrollbar(I,{direction:_?"rtl":"ltr"}),g&&g(I,N)},k=I=>{I.key==="Tab"&&(I.preventDefault(),d&&d(I,"tabKeyDown"))};let D=-1;G.Children.map(c,(I,N)=>{G.isValidElement(I)&&(I.props.disabled||(v==="selectedMenu"&&I.props.selected||D===-1)&&(D=N))});const M=(n=x.paper)!=null?n:bbe,P=(i=y.paper)!=null?i:f,j=fg({elementType:x.root,externalSlotProps:y.root,ownerState:S,className:[E.root,a]}),O=fg({elementType:M,externalSlotProps:P,ownerState:S,className:E.paper});return F.jsx(ybe,ue({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?mbe:gbe,slots:{paper:M,root:x.root},slotProps:{root:j,paper:O},open:h,ref:r,transitionDuration:p,TransitionProps:ue({onEntering:T},b),ownerState:S},w,{classes:m,children:F.jsx(xbe,ue({onKeyDown:k,actions:A,autoFocus:l&&(D===-1||s),autoFocusItem:C,variant:v},u,{className:rr(E.list,u.className),children:c}))}))});function _be(e){return Zr("MuiNativeSelect",e)}const pj=en("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Sbe=["className","disabled","error","IconComponent","inputRef","variant"],Ebe=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o,error:l}=e,c={select:["select",r,n&&"disabled",i&&"multiple",l&&"error"],icon:["icon",`icon${ar(r)}`,o&&"iconOpen",n&&"disabled"]};return dn(c,_be,t)},vX=({ownerState:e,theme:t})=>ue({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":ue({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${pj.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),Abe=Vt("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ol,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${pj.multiple}`]:t.multiple}]}})(vX),yX=({ownerState:e,theme:t})=>ue({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${pj.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),Cbe=Vt("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${ar(r.variant)}`],r.open&&t.iconOpen]}})(yX),Mbe=G.forwardRef(function(t,r){const{className:n,disabled:i,error:o,IconComponent:l,inputRef:c,variant:a="standard"}=t,s=Lt(t,Sbe),u=ue({},t,{disabled:i,variant:a,error:o}),d=Ebe(u);return F.jsxs(G.Fragment,{children:[F.jsx(Abe,ue({ownerState:u,className:rr(d.select,n),disabled:i,ref:c||r},s)),t.multiple?null:F.jsx(Cbe,{as:l,ownerState:u,className:d.icon})]})});var QL;const Tbe=["children","classes","className","label","notched"],Pbe=Vt("fieldset",{shouldForwardProp:ol})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),kbe=Vt("legend",{shouldForwardProp:ol})(({ownerState:e,theme:t})=>ue({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&ue({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function Dbe(e){const{className:t,label:r,notched:n}=e,i=Lt(e,Tbe),o=r!=null&&r!=="",l=ue({},e,{notched:n,withLabel:o});return F.jsx(Pbe,ue({"aria-hidden":!0,className:t,ownerState:l},i,{children:F.jsx(kbe,{ownerState:l,children:o?F.jsx("span",{children:r}):QL||(QL=F.jsx("span",{className:"notranslate",children:""}))})}))}const jbe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Ibe=e=>{const{classes:t}=e,n=dn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Dye,t);return ue({},t,n)},Obe=Vt(PE,{shouldForwardProp:e=>ol(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:ME})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return ue({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${ku.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${ku.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${ku.focused} .${ku.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${ku.error} .${ku.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${ku.disabled} .${ku.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&ue({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),Rbe=Vt(Dbe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),Lbe=Vt(kE,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:TE})(({theme:e,ownerState:t})=>ue({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),mj=G.forwardRef(function(t,r){var n,i,o,l,c;const a=hn({props:t,name:"MuiOutlinedInput"}),{components:s={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:m,slots:p={},type:g="text"}=a,v=Lt(a,jbe),x=Ibe(a),y=Xg(),b=Yg({props:a,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w=ue({},a,{color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:y,fullWidth:u,hiddenLabel:b.hiddenLabel,multiline:f,size:b.size,type:g}),_=(n=(i=p.root)!=null?i:s.Root)!=null?n:Obe,S=(o=(l=p.input)!=null?l:s.Input)!=null?o:Lbe;return F.jsx(dj,ue({slots:{root:_,input:S},renderSuffix:E=>F.jsx(Rbe,{ownerState:w,className:x.notchedOutline,label:h!=null&&h!==""&&b.required?c||(c=F.jsxs(G.Fragment,{children:[h,"","*"]})):h,notched:typeof m<"u"?m:!!(E.startAdornment||E.filled||E.focused)}),fullWidth:u,inputComponent:d,multiline:f,ref:r,type:g},v,{classes:ue({},x,{notchedOutline:null})}))});mj.muiName="Input";function zbe(e){return Zr("MuiSelect",e)}const N0=en("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var JL;const Nbe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Bbe=Vt("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${N0.select}`]:t.select},{[`&.${N0.select}`]:t[r.variant]},{[`&.${N0.error}`]:t.error},{[`&.${N0.multiple}`]:t.multiple}]}})(vX,{[`&.${N0.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Fbe=Vt("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${ar(r.variant)}`],r.open&&t.iconOpen]}})(yX),Ube=Vt("input",{shouldForwardProp:e=>sX(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function ZL(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function Vbe(e){return e==null||typeof e=="string"&&!e.trim()}const Hbe=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o,error:l}=e,c={select:["select",r,n&&"disabled",i&&"multiple",l&&"error"],icon:["icon",`icon${ar(r)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return dn(c,zbe,t)},Wbe=G.forwardRef(function(t,r){var n;const{"aria-describedby":i,"aria-label":o,autoFocus:l,autoWidth:c,children:a,className:s,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:f,error:m=!1,IconComponent:p,inputRef:g,labelId:v,MenuProps:x={},multiple:y,name:b,onBlur:w,onChange:_,onClose:S,onFocus:E,onOpen:C,open:A,readOnly:T,renderValue:k,SelectDisplayProps:D={},tabIndex:M,value:P,variant:j="standard"}=t,O=Lt(t,Nbe),[I,N]=SL({controlled:P,default:d,name:"Select"}),[L,B]=SL({controlled:A,default:u,name:"Select"}),R=G.useRef(null),z=G.useRef(null),[W,U]=G.useState(null),{current:H}=G.useRef(A!=null),[X,K]=G.useState(),Q=Jo(r,g),Y=G.useCallback(_e=>{z.current=_e,_e&&U(_e)},[]),$=W==null?void 0:W.parentNode;G.useImperativeHandle(Q,()=>({focus:()=>{z.current.focus()},node:R.current,value:I}),[I]),G.useEffect(()=>{u&&L&&W&&!H&&(K(c?null:$.clientWidth),z.current.focus())},[W,c]),G.useEffect(()=>{l&&z.current.focus()},[l]),G.useEffect(()=>{if(!v)return;const _e=Ca(z.current).getElementById(v);if(_e){const Ve=()=>{getSelection().isCollapsed&&z.current.focus()};return _e.addEventListener("click",Ve),()=>{_e.removeEventListener("click",Ve)}}},[v]);const J=(_e,Ve)=>{_e?C&&C(Ve):S&&S(Ve),H||(K(c?null:$.clientWidth),B(_e))},ie=_e=>{_e.button===0&&(_e.preventDefault(),z.current.focus(),J(!0,_e))},ne=_e=>{J(!1,_e)},ae=G.Children.toArray(a),je=_e=>{const Ve=ae.find(Re=>Re.props.value===_e.target.value);Ve!==void 0&&(N(Ve.props.value),_&&_(_e,Ve))},Ee=_e=>Ve=>{let Re;if(Ve.currentTarget.hasAttribute("tabindex")){if(y){Re=Array.isArray(I)?I.slice():[];const Ke=I.indexOf(_e.props.value);Ke===-1?Re.push(_e.props.value):Re.splice(Ke,1)}else Re=_e.props.value;if(_e.props.onClick&&_e.props.onClick(Ve),I!==Re&&(N(Re),_)){const Ke=Ve.nativeEvent||Ve,We=new Ke.constructor(Ke.type,Ke);Object.defineProperty(We,"target",{writable:!0,value:{value:Re,name:b}}),_(We,_e)}y||J(!1,Ve)}},we=_e=>{T||[" ","ArrowUp","ArrowDown","Enter"].indexOf(_e.key)!==-1&&(_e.preventDefault(),J(!0,_e))},De=W!==null&&L,Le=_e=>{!De&&w&&(Object.defineProperty(_e,"target",{writable:!0,value:{value:I,name:b}}),w(_e))};delete O["aria-invalid"];let Ie,ee;const q=[];let le=!1;(J_({value:I})||f)&&(k?Ie=k(I):le=!0);const Te=ae.map(_e=>{if(!G.isValidElement(_e))return null;let Ve;if(y){if(!Array.isArray(I))throw new Error(gf(2));Ve=I.some(Re=>ZL(Re,_e.props.value)),Ve&&le&&q.push(_e.props.children)}else Ve=ZL(I,_e.props.value),Ve&&le&&(ee=_e.props.children);return G.cloneElement(_e,{"aria-selected":Ve?"true":"false",onClick:Ee(_e),onKeyUp:Re=>{Re.key===" "&&Re.preventDefault(),_e.props.onKeyUp&&_e.props.onKeyUp(Re)},role:"option",selected:Ve,value:void 0,"data-value":_e.props.value})});le&&(y?q.length===0?Ie=null:Ie=q.reduce((_e,Ve,Re)=>(_e.push(Ve),Re<q.length-1&&_e.push(", "),_e),[]):Ie=ee);let te=X;!c&&H&&W&&(te=$.clientWidth);let ce;typeof M<"u"?ce=M:ce=h?null:0;const Ce=D.id||(b?`mui-component-select-${b}`:void 0),fe=ue({},t,{variant:j,value:I,open:De,error:m}),de=Hbe(fe),Fe=ue({},x.PaperProps,(n=x.slotProps)==null?void 0:n.paper),Be=$Y();return F.jsxs(G.Fragment,{children:[F.jsx(Bbe,ue({ref:Y,tabIndex:ce,role:"combobox","aria-controls":Be,"aria-disabled":h?"true":void 0,"aria-expanded":De?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,Ce].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:we,onMouseDown:h||T?null:ie,onBlur:Le,onFocus:E},D,{ownerState:fe,className:rr(D.className,de.select,s),id:Ce,children:Vbe(Ie)?JL||(JL=F.jsx("span",{className:"notranslate",children:""})):Ie})),F.jsx(Ube,ue({"aria-invalid":m,value:Array.isArray(I)?I.join(","):I,name:b,ref:R,"aria-hidden":!0,onChange:je,tabIndex:-1,disabled:h,className:de.nativeInput,autoFocus:l,ownerState:fe},O)),F.jsx(Fbe,{as:p,className:de.icon,ownerState:fe}),F.jsx(wbe,ue({id:`menu-${b||""}`,anchorEl:$,open:De,onClose:ne,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},x,{MenuListProps:ue({"aria-labelledby":v,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:Be},x.MenuListProps),slotProps:ue({},x.slotProps,{paper:ue({},Fe,{style:ue({minWidth:te},Fe!=null?Fe.style:null)})}),children:Te}))]})}),Gbe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],qbe=["root"],Ybe=e=>{const{classes:t}=e;return t},gj={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>ol(e)&&e!=="variant",slot:"Root"},Xbe=Vt(fj,gj)(""),$be=Vt(mj,gj)(""),Kbe=Vt(hj,gj)(""),bX=G.forwardRef(function(t,r){const n=hn({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:l={},className:c,defaultOpen:a=!1,displayEmpty:s=!1,IconComponent:u=Iye,id:d,input:h,inputProps:f,label:m,labelId:p,MenuProps:g,multiple:v=!1,native:x=!1,onClose:y,onOpen:b,open:w,renderValue:_,SelectDisplayProps:S,variant:E="outlined"}=n,C=Lt(n,Gbe),A=x?Mbe:Wbe,T=Xg(),k=Yg({props:n,muiFormControl:T,states:["variant","error"]}),D=k.variant||E,M=ue({},n,{variant:D,classes:l}),P=Ybe(M),j=Lt(P,qbe),O=h||{standard:F.jsx(Xbe,{ownerState:M}),outlined:F.jsx($be,{label:m,ownerState:M}),filled:F.jsx(Kbe,{ownerState:M})}[D],I=Jo(r,O.ref);return F.jsx(G.Fragment,{children:G.cloneElement(O,ue({inputComponent:A,inputProps:ue({children:o,error:k.error,IconComponent:u,variant:D,type:void 0,multiple:v},x?{id:d}:{autoWidth:i,defaultOpen:a,displayEmpty:s,labelId:p,MenuProps:g,onClose:y,onOpen:b,open:w,renderValue:_,SelectDisplayProps:ue({id:d},S)},f,{classes:f?Aa(j,f.classes):j},h?h.props.inputProps:{})},(v&&x||s)&&D==="outlined"?{notched:!0}:{},{ref:I,className:rr(O.props.className,c,P.root)},!h&&{variant:D},C))})});bX.muiName="Select";function Qbe(e){return Zr("MuiTextField",e)}en("MuiTextField",["root"]);const Jbe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Zbe={standard:fj,filled:hj,outlined:mj},exe=e=>{const{classes:t}=e;return dn({root:["root"]},Qbe,t)},txe=Vt(m1e,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),rxe=G.forwardRef(function(t,r){const n=hn({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:l,className:c,color:a="primary",defaultValue:s,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:m,id:p,InputLabelProps:g,inputProps:v,InputProps:x,inputRef:y,label:b,maxRows:w,minRows:_,multiline:S=!1,name:E,onBlur:C,onChange:A,onFocus:T,placeholder:k,required:D=!1,rows:M,select:P=!1,SelectProps:j,type:O,value:I,variant:N="outlined"}=n,L=Lt(n,Jbe),B=ue({},n,{autoFocus:o,color:a,disabled:u,error:d,fullWidth:f,multiline:S,required:D,select:P,variant:N}),R=exe(B),z={};N==="outlined"&&(g&&typeof g.shrink<"u"&&(z.notched=g.shrink),z.label=b),P&&((!j||!j.native)&&(z.id=void 0),z["aria-describedby"]=void 0);const W=$Y(p),U=m&&W?`${W}-helper-text`:void 0,H=b&&W?`${W}-label`:void 0,X=Zbe[N],K=F.jsx(X,ue({"aria-describedby":U,autoComplete:i,autoFocus:o,defaultValue:s,fullWidth:f,multiline:S,name:E,rows:M,maxRows:w,minRows:_,type:O,value:I,id:W,inputRef:y,onBlur:C,onChange:A,onFocus:T,placeholder:k,inputProps:v},z,x));return F.jsxs(txe,ue({className:rr(R.root,c),disabled:u,error:d,fullWidth:f,ref:r,required:D,color:a,variant:N,ownerState:B},L,{children:[b!=null&&b!==""&&F.jsx(K1e,ue({htmlFor:W,id:H},g,{children:b})),P?F.jsx(bX,ue({"aria-describedby":U,id:W,labelId:H,value:I,input:K},j,{children:l})):K,m&&F.jsx(x1e,ue({id:U},h,{children:m}))]}))}),xX="/infobot.jpg",nxe=()=>F.jsx("div",{className:"carrer-cont",children:F.jsxs("div",{className:"carrer-cont-hero",children:[F.jsx("p",{style:{visibility:"hidden"},className:"hid",children:"orem ipsum dolor sit amet consectetur adipisicing elit. Corporis ex laboriosam corrupti sint, numquam sit commodi repellendus et maxime explicabo, a natus omnis animi aliquid officiis vel sunt doloribus officia nam quo earum, nemo quia aspernatur cumque. Eveniet cupiditate magnam vitae natus? Modi enim quos ducimus amet ipsum laudantium consequatur laborum. Vel sint temporibus explicabo facere ipsum perspiciatis modi earum ex, numquam, distinctio ab? Quae minus eum omnis nemo? In repudiandae vel eaque praesentium porro illum, aspernatur facilis."}),F.jsxs("div",{className:"carrer-cont-card",children:[F.jsx("h1",{className:"dark-text",children:"Presenting to You "}),F.jsxs("div",{className:"carrer-card-desc",children:[F.jsx("p",{className:"dark-text",children:"A unbiased, informative and more than an assistant. A guide to all your queries"}),F.jsx("img",{src:xX,alt:"",className:"carrer-chat",style:{height:"70px",borderRadius:"50%"}})," ",F.jsx("span",{className:"dark-text",children:F.jsx("a",{href:"https://carrer-guide.streamlit.app",rel:"noreferrer noopener",target:"_blank",children:"Click to Chat"})})]})]})]})}),ixe=[{jobTitle:"Software Engineer",jobLocation:"San Francisco, CA",jobTimings:"Full-time",jobDescription:"Join our dynamic team as a Software Engineer and work on cutting-edge projects.",interviewDetails:"Interviews will be conducted remotely via video calls.",minExperience:"2 years",maxExperience:"5 years",monthlySalary:"$5000 - $7000",preferredLanguage:"JavaScript",skills:"React, Node.js, MongoDB"},{jobTitle:"Data Scientist",jobLocation:"New York, NY",jobTimings:"Part-time",jobDescription:"We are seeking a talented Data Scientist to join our analytics team.",interviewDetails:"Candidates will be required to complete a technical assessment.",minExperience:"3 years",maxExperience:"7 years",monthlySalary:"$6000 - $8000",preferredLanguage:"Python",skills:"Machine Learning, SQL, Pandas"},{jobTitle:"UX/UI Designer",jobLocation:"Seattle, WA",jobTimings:"Full-time",jobDescription:"Exciting opportunity for a creative UX/UI Designer to join our design team.",interviewDetails:"Portfolio review will be part of the interview process.",minExperience:"2 years",maxExperience:"4 years",monthlySalary:"$4500 - $6500",preferredLanguage:"HTML, CSS, JavaScript",skills:"Adobe XD, Sketch, Figma"},{jobTitle:"Marketing Manager",jobLocation:"Chicago, IL",jobTimings:"Full-time",jobDescription:"We are looking for an experienced Marketing Manager to develop and execute marketing strategies.",interviewDetails:"Candidates should be prepared to present their marketing plans.",minExperience:"5 years",maxExperience:"8 years",monthlySalary:"$7000 - $9000",preferredLanguage:"N/A",skills:"Strategic planning, Social media marketing, SEO"},{jobTitle:"Customer Support Representative",jobLocation:"Austin, TX",jobTimings:"Full-time",jobDescription:"Join our customer support team and provide exceptional service to our clients.",interviewDetails:"Candidates will undergo a customer service skills assessment.",minExperience:"1 year",maxExperience:"3 years",monthlySalary:"$3500 - $5000",preferredLanguage:"English",skills:"Communication, Problem-solving, Empathy"}],oxe=[{name:"Alice Smith",desc:"Software Developer",resume:"https://example.com/alice_smith_resume.pdf",country:"United States",email:"alice.smith@example.com"},{name:"Bob Johnson",desc:"Data Scientist",resume:"https://example.com/bob_johnson_resume.pdf",country:"Canada",email:"bob.johnson@example.com"},{name:"Charlie Brown",desc:"Web Designer",resume:"https://example.com/charlie_brown_resume.pdf",country:"United Kingdom",email:"charlie.brown@example.com"},{name:"David Lee",desc:"Project Manager",resume:"https://example.com/david_lee_resume.pdf",country:"Australia",email:"david.lee@example.com"},{name:"Emily Wang",desc:"Marketing Specialist",resume:"https://example.com/emily_wang_resume.pdf",country:"Germany",email:"emily.wang@example.com"},{name:"Frank Miller",desc:"UX/UI Designer",resume:"https://example.com/frank_miller_resume.pdf",country:"France",email:"frank.miller@example.com"},{name:"Grace Taylor",desc:"Frontend Developer",resume:"https://example.com/grace_taylor_resume.pdf",country:"Spain",email:"grace.taylor@example.com"},{name:"Hannah Clark",desc:"HR Manager",resume:"https://example.com/hannah_clark_resume.pdf",country:"Italy",email:"hannah.clark@example.com"},{name:"Ian Wilson",desc:"Technical Writer",resume:"https://example.com/ian_wilson_resume.pdf",country:"Japan",email:"ian.wilson@example.com"}],ez=[{title:"The Impact of Artificial Intelligence on Healthcare",desc:"Artificial intelligence (AI) is revolutionizing healthcare by enabling faster and more accurate diagnoses, personalized treatment plans, and improved patient outcomes. From medical imaging analysis to predictive analytics, AI is transforming every aspect of the healthcare industry.",image:"ai_healthcare.jpg"},{title:"The Future of Remote Work: Trends and Challenges",desc:"Remote work has become increasingly prevalent, driven by advancements in technology and shifting workplace dynamics. While remote work offers flexibility and increased productivity, it also presents challenges such as maintaining work-life balance, ensuring effective communication, and addressing cybersecurity concerns.",image:"remote_work.jpg"},{title:"Blockchain: Transforming Industries Beyond Cryptocurrency",desc:"Blockchain technology, best known for its role in cryptocurrencies like Bitcoin, has far-reaching implications beyond finance. From supply chain management to digital identity verification, blockchain is revolutionizing various industries by providing transparency, security, and decentralized control.",image:"blockchain.jpg"}],axe=({job:e,user:t,flag:r})=>{const{jobTitle:n="AI Developer",jobLocation:i="Luxemberg , US",jobTimings:o="9:00 AM - 4:00 PM",jobDescription:l="This is a Dummy Description",interviewDetails:c="Remote",minExperience:a="2",maxExperience:s="5",monthlySalary:u="35000",preferredLanguage:d="English",skills:h="Tensorflow/Pytorch , Python"}=e,f=async m=>{m.preventDefault()};return F.jsxs("div",{className:"job-post-card",children:[F.jsx("h2",{children:n}),F.jsxs("div",{className:"top-line",children:[F.jsxs("p",{children:[F.jsx(DG,{})," ",F.jsx("span",{children:i})]}),F.jsxs("p",{children:[F.jsx(yD,{})," ",o]})]}),F.jsx("p",{children:l}),F.jsx("p",{children:c}),F.jsxs("div",{className:"top-line",children:[F.jsxs("p",{children:["Experience: ",a," - ",s]}),F.jsxs("p",{children:[" ",F.jsx(kG,{})," ",F.jsx("span",{children:u})," "]})," "]}),F.jsxs("p",{children:["Preferred Language: ",d]}),F.jsxs("p",{children:["Skills: ",h]}),F.jsx("button",{onClick:f,className:"smart-but",children:"Smart Apply"})]})},sxe=()=>{const[e,t]=G.useState([]),[r,n]=G.useState(!1),{user:i}=wS(),o=()=>{n(!0),setTimeout(()=>{n(!1)},2200)};return G.useEffect(()=>{(async c=>{try{const a=await Eu.post("http://localhost:3000/api/v1/job/fetchAllJobs",{headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"http://localhost:5173/"}});console.log(a.data.data),t(a.data.data),console.log(i)}catch(a){console.log(a)}})()},[]),F.jsxs("div",{children:[F.jsx("hr",{}),F.jsxs($h,{to:"/userProfile",children:[" ",F.jsx("span",{className:"n-text",children:" Welcome back"}),F.jsx("span",{className:"hi-text",children:i?i.name:"DEV"})," ",F.jsxs("span",{className:"n-text",children:[" ",F.jsx(Kle,{})]})," "]})," ",F.jsx("hr",{}),F.jsx("h3",{className:"my-projects",children:"My Projects"}),F.jsx(lpe,{}),F.jsx("h3",{className:"my-projects",children:"Job Listings"}),F.jsx("div",{className:"job-gallery",children:ixe.map((l,c)=>F.jsx(axe,{job:l,user:i,flag:o},c))}),r&&F.jsx("div",{className:"popup",children:F.jsx("p",{children:"Applied for Job Successfully!"})}),F.jsx(nxe,{})]})};Eu.defaults.withCredentials=!0;const lxe=()=>{const e=Lg(),{signIn:t,user:r}=wS(),[n,i]=G.useState({username:"",email:"",password:""}),o=c=>{i(a=>({...a,[c.target.name]:c.target.value}))},l=async c=>{c.preventDefault();try{e("/user");const a=await Eu.post("http://localhost:3000/api/v1/users/login",n,{headers:{"Content-Type":"application/json"}});t(a.data.data),console.log("User loggedIn successfully"),console.log(a.data.data),console.log(a.data.data.username)}catch(a){console.log(a)}};return F.jsx("div",{className:"sign-cont",children:F.jsxs("form",{action:"",className:"sign",onSubmit:l,children:[F.jsxs("div",{className:"sign-main-reg",children:[F.jsxs("div",{className:"opt-reg",children:[F.jsx("span",{className:"red"}),F.jsx("span",{className:"yellow"}),F.jsx("span",{className:"green"})]}),F.jsx("span",{className:"textreg",children:"sign@admin.dev"})]}),F.jsxs("div",{className:"sign-field",children:[" ",F.jsxs("label",{htmlFor:"'",children:["Email:",F.jsx("input",{name:"email",type:"email",onChange:o})]}),F.jsxs("label",{htmlFor:"'",children:["Username:",F.jsx("input",{name:"username",type:"text",onChange:o})]}),F.jsxs("label",{htmlFor:"'",children:["Password:",F.jsx("input",{name:"password",type:"password",onChange:o})]})]}),F.jsxs("div",{className:"sign-button-field",children:[" ",F.jsx("button",{className:"sign-button",type:"submit",children:"Submit"}),F.jsx("button",{className:"sign-button",children:"Sign Up"})]})]})})},cxe="modulepreload",uxe=function(e){return"/"+e},tz={},U1=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(r.map(c=>{if(c=uxe(c),c in tz)return;tz[c]=!0;const a=c.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${s}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":cxe,a||(u.as="script",u.crossOrigin=""),u.href=c,l&&u.setAttribute("nonce",l),document.head.appendChild(u),a)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}return i.then(()=>t()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})};var dxe=Object.create,DE=Object.defineProperty,hxe=Object.getOwnPropertyDescriptor,fxe=Object.getOwnPropertyNames,pxe=Object.getPrototypeOf,mxe=Object.prototype.hasOwnProperty,gxe=(e,t,r)=>t in e?DE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Zi=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),vxe=(e,t)=>{for(var r in t)DE(e,r,{get:t[r],enumerable:!0})},yxe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of fxe(t))!mxe.call(e,i)&&i!==r&&DE(e,i,{get:()=>t[i],enumerable:!(n=hxe(t,i))||n.enumerable});return e},Ai=(e,t,r)=>(r=e!=null?dxe(pxe(e)):{},yxe(t||!e||!e.__esModule?DE(r,"default",{value:e,enumerable:!0}):r,e)),lo=(e,t,r)=>(gxe(e,typeof t!="symbol"?t+"":t,r),r),bxe=Zi((e,t)=>{(function(r,n){typeof e=="object"?t.exports=n():typeof define=="function"&&define.amd?define(n):r.Alea=n()})(e,function(){return r.importState=function(i){var o=new r;return o.importState(i),o},r;function r(){return function(i){var o=0,l=0,c=0,a=1;i.length==0&&(i=[+new Date]);var s=n();o=s(" "),l=s(" "),c=s(" ");for(var u=0;u<i.length;u++)o-=s(i[u]),o<0&&(o+=1),l-=s(i[u]),l<0&&(l+=1),c-=s(i[u]),c<0&&(c+=1);s=null;var d=function(){var h=2091639*o+a*23283064365386963e-26;return o=l,l=c,c=h-(a=h|0)};return d.next=d,d.uint32=function(){return d()*4294967296},d.fract53=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.version="Alea 0.9",d.args=i,d.exportState=function(){return[o,l,c,a]},d.importState=function(h){o=+h[0]||0,l=+h[1]||0,c=+h[2]||0,a=+h[3]||0},d}(Array.prototype.slice.call(arguments))}function n(){var i=4022871197,o=function(l){l=l.toString();for(var c=0;c<l.length;c++){i+=l.charCodeAt(c);var a=.02519603282416938*i;i=a>>>0,a-=i,a*=i,i=a>>>0,a-=i,i+=a*4294967296}return(i>>>0)*23283064365386963e-26};return o.version="Mash 0.9",o}})}),wX=Zi((e,t)=>{(function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n((r=typeof globalThis<"u"?globalThis:r||self).SVDJS={})})(e,function(r){r.SVD=function(n,i,o,l,c){if(i=i===void 0||i,o=o===void 0||o,c=1e-64/(l=l||Math.pow(2,-52)),!n)throw new TypeError("Matrix a is not defined");var a,s,u,d,h,f,m,p,g,v,x,y,b=n[0].length,w=n.length;if(w<b)throw new TypeError("Invalid matrix: m < n");for(var _=[],S=[],E=[],C=i==="f"?w:b,A=v=m=0;A<w;A++)S[A]=new Array(C).fill(0);for(A=0;A<b;A++)E[A]=new Array(b).fill(0);var T,k=new Array(b).fill(0);for(A=0;A<w;A++)for(a=0;a<b;a++)S[A][a]=n[A][a];for(A=0;A<b;A++){for(_[A]=m,g=0,u=A+1,a=A;a<w;a++)g+=Math.pow(S[a][A],2);if(g<c)m=0;else for(p=(f=S[A][A])*(m=f<0?Math.sqrt(g):-Math.sqrt(g))-g,S[A][A]=f-m,a=u;a<b;a++){for(g=0,s=A;s<w;s++)g+=S[s][A]*S[s][a];for(f=g/p,s=A;s<w;s++)S[s][a]=S[s][a]+f*S[s][A]}for(k[A]=m,g=0,a=u;a<b;a++)g+=Math.pow(S[A][a],2);if(g<c)m=0;else{for(p=(f=S[A][A+1])*(m=f<0?Math.sqrt(g):-Math.sqrt(g))-g,S[A][A+1]=f-m,a=u;a<b;a++)_[a]=S[A][a]/p;for(a=u;a<w;a++){for(g=0,s=u;s<b;s++)g+=S[a][s]*S[A][s];for(s=u;s<b;s++)S[a][s]=S[a][s]+g*_[s]}}v<(x=Math.abs(k[A])+Math.abs(_[A]))&&(v=x)}if(o)for(A=b-1;0<=A;A--){if(m!==0){for(p=S[A][A+1]*m,a=u;a<b;a++)E[a][A]=S[A][a]/p;for(a=u;a<b;a++){for(g=0,s=u;s<b;s++)g+=S[A][s]*E[s][a];for(s=u;s<b;s++)E[s][a]=E[s][a]+g*E[s][A]}}for(a=u;a<b;a++)E[A][a]=0,E[a][A]=0;E[A][A]=1,m=_[A],u=A}if(i){if(i==="f")for(A=b;A<w;A++){for(a=b;a<w;a++)S[A][a]=0;S[A][A]=1}for(A=b-1;0<=A;A--){for(u=A+1,m=k[A],a=u;a<C;a++)S[A][a]=0;if(m!==0){for(p=S[A][A]*m,a=u;a<C;a++){for(g=0,s=u;s<w;s++)g+=S[s][A]*S[s][a];for(f=g/p,s=A;s<w;s++)S[s][a]=S[s][a]+f*S[s][A]}for(a=A;a<w;a++)S[a][A]=S[a][A]/m}else for(a=A;a<w;a++)S[a][A]=0;S[A][A]=S[A][A]+1}}for(l*=v,s=b-1;0<=s;s--)for(var D=0;D<50;D++){for(T=!1,u=s;0<=u;u--){if(Math.abs(_[u])<=l){T=!0;break}if(Math.abs(k[u-1])<=l)break}if(!T){for(h=0,d=u-(g=1),A=u;A<s+1&&(f=g*_[A],_[A]=h*_[A],!(Math.abs(f)<=l));A++)if(m=k[A],k[A]=Math.sqrt(f*f+m*m),h=m/(p=k[A]),g=-f/p,i)for(a=0;a<w;a++)x=S[a][d],y=S[a][A],S[a][d]=x*h+y*g,S[a][A]=-x*g+y*h}if(y=k[s],u===s){if(y<0&&(k[s]=-y,o))for(a=0;a<b;a++)E[a][s]=-E[a][s];break}for(v=k[u],f=(((x=k[s-1])-y)*(x+y)+((m=_[s-1])-(p=_[s]))*(m+p))/(2*p*x),m=Math.sqrt(f*f+1),f=((v-y)*(v+y)+p*(x/(f<0?f-m:f+m)-p))/v,A=u+(g=h=1);A<s+1;A++){if(m=_[A],x=k[A],p=g*m,m*=h,y=Math.sqrt(f*f+p*p),f=v*(h=f/(_[A-1]=y))+m*(g=p/y),m=-v*g+m*h,p=x*g,x*=h,o)for(a=0;a<b;a++)v=E[a][A-1],y=E[a][A],E[a][A-1]=v*h+y*g,E[a][A]=-v*g+y*h;if(y=Math.sqrt(f*f+p*p),f=(h=f/(k[A-1]=y))*m+(g=p/y)*x,v=-g*m+h*x,i)for(a=0;a<w;a++)x=S[a][A-1],y=S[a][A],S[a][A-1]=x*h+y*g,S[a][A]=-x*g+y*h}_[u]=0,_[s]=f,k[s]=v}for(A=0;A<b;A++)k[A]<l&&(k[A]=0);return{u:S,q:k,v:E}},r.VERSION="1.1.1",Object.defineProperty(r,"__esModule",{value:!0})})}),xxe=Zi((e,t)=>{(function(r,n){typeof e=="object"&&typeof t<"u"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=r||self,r.TinyQueue=n())})(e,function(){var r=function(i,o){if(i===void 0&&(i=[]),o===void 0&&(o=n),this.data=i,this.length=this.data.length,this.compare=o,this.length>0)for(var l=(this.length>>1)-1;l>=0;l--)this._down(l)};r.prototype.push=function(i){this.data.push(i),this.length++,this._up(this.length-1)},r.prototype.pop=function(){if(this.length!==0){var i=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),i}},r.prototype.peek=function(){return this.data[0]},r.prototype._up=function(i){for(var o=this,l=o.data,c=o.compare,a=l[i];i>0;){var s=i-1>>1,u=l[s];if(c(a,u)>=0)break;l[i]=u,i=s}l[i]=a},r.prototype._down=function(i){for(var o=this,l=o.data,c=o.compare,a=this.length>>1,s=l[i];i<a;){var u=(i<<1)+1,d=l[u],h=u+1;if(h<this.length&&c(l[h],d)<0&&(u=h,d=l[h]),c(d,s)>=0)break;l[i]=d,i=u}l[i]=s};function n(i,o){return i<o?-1:i>o?1:0}return r})}),wxe=Zi((e,t)=>{var r=xxe();r.default&&(r=r.default),t.exports=n,t.exports.default=n;function n(s,u,d){u=u||1;for(var h,f,m,p,g=0;g<s[0].length;g++){var v=s[0][g];(!g||v[0]<h)&&(h=v[0]),(!g||v[1]<f)&&(f=v[1]),(!g||v[0]>m)&&(m=v[0]),(!g||v[1]>p)&&(p=v[1])}var x=m-h,y=p-f,b=Math.min(x,y),w=b/2;if(b===0){var _=[h,f];return _.distance=0,_}for(var S=new r(void 0,i),E=h;E<m;E+=b)for(var C=f;C<p;C+=b)S.push(new o(E+w,C+w,w,s));var A=c(s),T=new o(h+x/2,f+y/2,0,s);T.d>A.d&&(A=T);for(var k=S.length;S.length;){var D=S.pop();D.d>A.d&&(A=D,d&&console.log("found best %d after %d probes",Math.round(1e4*D.d)/1e4,k)),!(D.max-A.d<=u)&&(w=D.h/2,S.push(new o(D.x-w,D.y-w,w,s)),S.push(new o(D.x+w,D.y-w,w,s)),S.push(new o(D.x-w,D.y+w,w,s)),S.push(new o(D.x+w,D.y+w,w,s)),k+=4)}d&&(console.log("num probes: "+k),console.log("best distance: "+A.d));var M=[A.x,A.y];return M.distance=A.d,M}function i(s,u){return u.max-s.max}function o(s,u,d,h){this.x=s,this.y=u,this.h=d,this.d=l(s,u,h),this.max=this.d+this.h*Math.SQRT2}function l(s,u,d){for(var h=!1,f=1/0,m=0;m<d.length;m++)for(var p=d[m],g=0,v=p.length,x=v-1;g<v;x=g++){var y=p[g],b=p[x];y[1]>u!=b[1]>u&&s<(b[0]-y[0])*(u-y[1])/(b[1]-y[1])+y[0]&&(h=!h),f=Math.min(f,a(s,u,y,b))}return f===0?0:(h?1:-1)*Math.sqrt(f)}function c(s){for(var u=0,d=0,h=0,f=s[0],m=0,p=f.length,g=p-1;m<p;g=m++){var v=f[m],x=f[g],y=v[0]*x[1]-x[0]*v[1];d+=(v[0]+x[0])*y,h+=(v[1]+x[1])*y,u+=y*3}return u===0?new o(f[0][0],f[0][1],0,s):new o(d/u,h/u,0,s)}function a(s,u,d,h){var f=d[0],m=d[1],p=h[0]-f,g=h[1]-m;if(p!==0||g!==0){var v=((s-f)*p+(u-m)*g)/(p*p+g*g);v>1?(f=h[0],m=h[1]):v>0&&(f+=p*v,m+=g*v)}return p=s-f,g=u-m,p*p+g*g}}),_xe=Zi((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){if(n===null||n===!0||n===!1)return NaN;var i=Number(n);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default}),Sxe=Zi((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){var i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),n.getTime()-i.getTime()}t.exports=e.default}),Exe=Zi(e=>{(function(){var t=function(){this.init()};t.prototype={init:function(){var d=this||r;return d._counter=1e3,d._html5AudioPool=[],d.html5PoolSize=10,d._codecs={},d._howls=[],d._muted=!1,d._volume=1,d._canPlayEvent="canplaythrough",d._navigator=typeof window<"u"&&window.navigator?window.navigator:null,d.masterGain=null,d.noAudio=!1,d.usingWebAudio=!0,d.autoSuspend=!0,d.ctx=null,d.autoUnlock=!0,d._setup(),d},volume:function(d){var h=this||r;if(d=parseFloat(d),h.ctx||u(),typeof d<"u"&&d>=0&&d<=1){if(h._volume=d,h._muted)return h;h.usingWebAudio&&h.masterGain.gain.setValueAtTime(d,r.ctx.currentTime);for(var f=0;f<h._howls.length;f++)if(!h._howls[f]._webAudio)for(var m=h._howls[f]._getSoundIds(),p=0;p<m.length;p++){var g=h._howls[f]._soundById(m[p]);g&&g._node&&(g._node.volume=g._volume*d)}return h}return h._volume},mute:function(d){var h=this||r;h.ctx||u(),h._muted=d,h.usingWebAudio&&h.masterGain.gain.setValueAtTime(d?0:h._volume,r.ctx.currentTime);for(var f=0;f<h._howls.length;f++)if(!h._howls[f]._webAudio)for(var m=h._howls[f]._getSoundIds(),p=0;p<m.length;p++){var g=h._howls[f]._soundById(m[p]);g&&g._node&&(g._node.muted=d?!0:g._muted)}return h},stop:function(){for(var d=this||r,h=0;h<d._howls.length;h++)d._howls[h].stop();return d},unload:function(){for(var d=this||r,h=d._howls.length-1;h>=0;h--)d._howls[h].unload();return d.usingWebAudio&&d.ctx&&typeof d.ctx.close<"u"&&(d.ctx.close(),d.ctx=null,u()),d},codecs:function(d){return(this||r)._codecs[d.replace(/^x-/,"")]},_setup:function(){var d=this||r;if(d.state=d.ctx&&d.ctx.state||"suspended",d._autoSuspend(),!d.usingWebAudio)if(typeof Audio<"u")try{var h=new Audio;typeof h.oncanplaythrough>"u"&&(d._canPlayEvent="canplay")}catch{d.noAudio=!0}else d.noAudio=!0;try{var h=new Audio;h.muted&&(d.noAudio=!0)}catch{}return d.noAudio||d._setupCodecs(),d},_setupCodecs:function(){var d=this||r,h=null;try{h=typeof Audio<"u"?new Audio:null}catch{return d}if(!h||typeof h.canPlayType!="function")return d;var f=h.canPlayType("audio/mpeg;").replace(/^no$/,""),m=d._navigator?d._navigator.userAgent:"",p=m.match(/OPR\/([0-6].)/g),g=p&&parseInt(p[0].split("/")[1],10)<33,v=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,x=m.match(/Version\/(.*?) /),y=v&&x&&parseInt(x[1],10)<15;return d._codecs={mp3:!!(!g&&(f||h.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!f,opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(h.canPlayType('audio/wav; codecs="1"')||h.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!h.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!h.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(h.canPlayType("audio/x-m4b;")||h.canPlayType("audio/m4b;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(h.canPlayType("audio/x-mp4;")||h.canPlayType("audio/mp4;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!y&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!y&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!h.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(h.canPlayType("audio/x-flac;")||h.canPlayType("audio/flac;")).replace(/^no$/,"")},d},_unlockAudio:function(){var d=this||r;if(!(d._audioUnlocked||!d.ctx)){d._audioUnlocked=!1,d.autoUnlock=!1,!d._mobileUnloaded&&d.ctx.sampleRate!==44100&&(d._mobileUnloaded=!0,d.unload()),d._scratchBuffer=d.ctx.createBuffer(1,1,22050);var h=function(f){for(;d._html5AudioPool.length<d.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,d._releaseHtml5Audio(m)}catch{d.noAudio=!0;break}for(var p=0;p<d._howls.length;p++)if(!d._howls[p]._webAudio)for(var g=d._howls[p]._getSoundIds(),v=0;v<g.length;v++){var x=d._howls[p]._soundById(g[v]);x&&x._node&&!x._node._unlocked&&(x._node._unlocked=!0,x._node.load())}d._autoResume();var y=d.ctx.createBufferSource();y.buffer=d._scratchBuffer,y.connect(d.ctx.destination),typeof y.start>"u"?y.noteOn(0):y.start(0),typeof d.ctx.resume=="function"&&d.ctx.resume(),y.onended=function(){y.disconnect(0),d._audioUnlocked=!0,document.removeEventListener("touchstart",h,!0),document.removeEventListener("touchend",h,!0),document.removeEventListener("click",h,!0),document.removeEventListener("keydown",h,!0);for(var b=0;b<d._howls.length;b++)d._howls[b]._emit("unlock")}};return document.addEventListener("touchstart",h,!0),document.addEventListener("touchend",h,!0),document.addEventListener("click",h,!0),document.addEventListener("keydown",h,!0),d}},_obtainHtml5Audio:function(){var d=this||r;if(d._html5AudioPool.length)return d._html5AudioPool.pop();var h=new Audio().play();return h&&typeof Promise<"u"&&(h instanceof Promise||typeof h.then=="function")&&h.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(d){var h=this||r;return d._unlocked&&h._html5AudioPool.push(d),h},_autoSuspend:function(){var d=this;if(!(!d.autoSuspend||!d.ctx||typeof d.ctx.suspend>"u"||!r.usingWebAudio)){for(var h=0;h<d._howls.length;h++)if(d._howls[h]._webAudio){for(var f=0;f<d._howls[h]._sounds.length;f++)if(!d._howls[h]._sounds[f]._paused)return d}return d._suspendTimer&&clearTimeout(d._suspendTimer),d._suspendTimer=setTimeout(function(){if(d.autoSuspend){d._suspendTimer=null,d.state="suspending";var m=function(){d.state="suspended",d._resumeAfterSuspend&&(delete d._resumeAfterSuspend,d._autoResume())};d.ctx.suspend().then(m,m)}},3e4),d}},_autoResume:function(){var d=this;if(!(!d.ctx||typeof d.ctx.resume>"u"||!r.usingWebAudio))return d.state==="running"&&d.ctx.state!=="interrupted"&&d._suspendTimer?(clearTimeout(d._suspendTimer),d._suspendTimer=null):d.state==="suspended"||d.state==="running"&&d.ctx.state==="interrupted"?(d.ctx.resume().then(function(){d.state="running";for(var h=0;h<d._howls.length;h++)d._howls[h]._emit("resume")}),d._suspendTimer&&(clearTimeout(d._suspendTimer),d._suspendTimer=null)):d.state==="suspending"&&(d._resumeAfterSuspend=!0),d}};var r=new t,n=function(d){var h=this;if(!d.src||d.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}h.init(d)};n.prototype={init:function(d){var h=this;return r.ctx||u(),h._autoplay=d.autoplay||!1,h._format=typeof d.format!="string"?d.format:[d.format],h._html5=d.html5||!1,h._muted=d.mute||!1,h._loop=d.loop||!1,h._pool=d.pool||5,h._preload=typeof d.preload=="boolean"||d.preload==="metadata"?d.preload:!0,h._rate=d.rate||1,h._sprite=d.sprite||{},h._src=typeof d.src!="string"?d.src:[d.src],h._volume=d.volume!==void 0?d.volume:1,h._xhr={method:d.xhr&&d.xhr.method?d.xhr.method:"GET",headers:d.xhr&&d.xhr.headers?d.xhr.headers:null,withCredentials:d.xhr&&d.xhr.withCredentials?d.xhr.withCredentials:!1},h._duration=0,h._state="unloaded",h._sounds=[],h._endTimers={},h._queue=[],h._playLock=!1,h._onend=d.onend?[{fn:d.onend}]:[],h._onfade=d.onfade?[{fn:d.onfade}]:[],h._onload=d.onload?[{fn:d.onload}]:[],h._onloaderror=d.onloaderror?[{fn:d.onloaderror}]:[],h._onplayerror=d.onplayerror?[{fn:d.onplayerror}]:[],h._onpause=d.onpause?[{fn:d.onpause}]:[],h._onplay=d.onplay?[{fn:d.onplay}]:[],h._onstop=d.onstop?[{fn:d.onstop}]:[],h._onmute=d.onmute?[{fn:d.onmute}]:[],h._onvolume=d.onvolume?[{fn:d.onvolume}]:[],h._onrate=d.onrate?[{fn:d.onrate}]:[],h._onseek=d.onseek?[{fn:d.onseek}]:[],h._onunlock=d.onunlock?[{fn:d.onunlock}]:[],h._onresume=[],h._webAudio=r.usingWebAudio&&!h._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(h),h._autoplay&&h._queue.push({event:"play",action:function(){h.play()}}),h._preload&&h._preload!=="none"&&h.load(),h},load:function(){var d=this,h=null;if(r.noAudio){d._emit("loaderror",null,"No audio support.");return}typeof d._src=="string"&&(d._src=[d._src]);for(var f=0;f<d._src.length;f++){var m,p;if(d._format&&d._format[f])m=d._format[f];else{if(p=d._src[f],typeof p!="string"){d._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(p),m||(m=/\.([^.]+)$/.exec(p.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&r.codecs(m)){h=d._src[f];break}}if(!h){d._emit("loaderror",null,"No codec support for selected audio sources.");return}return d._src=h,d._state="loading",window.location.protocol==="https:"&&h.slice(0,5)==="http:"&&(d._html5=!0,d._webAudio=!1),new i(d),d._webAudio&&l(d),d},play:function(d,h){var f=this,m=null;if(typeof d=="number")m=d,d=null;else{if(typeof d=="string"&&f._state==="loaded"&&!f._sprite[d])return null;if(typeof d>"u"&&(d="__default",!f._playLock)){for(var p=0,g=0;g<f._sounds.length;g++)f._sounds[g]._paused&&!f._sounds[g]._ended&&(p++,m=f._sounds[g]._id);p===1?d=null:m=null}}var v=m?f._soundById(m):f._inactiveSound();if(!v)return null;if(m&&!d&&(d=v._sprite||"__default"),f._state!=="loaded"){v._sprite=d,v._ended=!1;var x=v._id;return f._queue.push({event:"play",action:function(){f.play(x)}}),x}if(m&&!v._paused)return h||f._loadQueue("play"),v._id;f._webAudio&&r._autoResume();var y=Math.max(0,v._seek>0?v._seek:f._sprite[d][0]/1e3),b=Math.max(0,(f._sprite[d][0]+f._sprite[d][1])/1e3-y),w=b*1e3/Math.abs(v._rate),_=f._sprite[d][0]/1e3,S=(f._sprite[d][0]+f._sprite[d][1])/1e3;v._sprite=d,v._ended=!1;var E=function(){v._paused=!1,v._seek=y,v._start=_,v._stop=S,v._loop=!!(v._loop||f._sprite[d][2])};if(y>=S){f._ended(v);return}var C=v._node;if(f._webAudio){var A=function(){f._playLock=!1,E(),f._refreshBuffer(v);var M=v._muted||f._muted?0:v._volume;C.gain.setValueAtTime(M,r.ctx.currentTime),v._playStart=r.ctx.currentTime,typeof C.bufferSource.start>"u"?v._loop?C.bufferSource.noteGrainOn(0,y,86400):C.bufferSource.noteGrainOn(0,y,b):v._loop?C.bufferSource.start(0,y,86400):C.bufferSource.start(0,y,b),w!==1/0&&(f._endTimers[v._id]=setTimeout(f._ended.bind(f,v),w)),h||setTimeout(function(){f._emit("play",v._id),f._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?A():(f._playLock=!0,f.once("resume",A),f._clearTimer(v._id))}else{var T=function(){C.currentTime=y,C.muted=v._muted||f._muted||r._muted||C.muted,C.volume=v._volume*r.volume(),C.playbackRate=v._rate;try{var M=C.play();if(M&&typeof Promise<"u"&&(M instanceof Promise||typeof M.then=="function")?(f._playLock=!0,E(),M.then(function(){f._playLock=!1,C._unlocked=!0,h?f._loadQueue():f._emit("play",v._id)}).catch(function(){f._playLock=!1,f._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),v._ended=!0,v._paused=!0})):h||(f._playLock=!1,E(),f._emit("play",v._id)),C.playbackRate=v._rate,C.paused){f._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}d!=="__default"||v._loop?f._endTimers[v._id]=setTimeout(f._ended.bind(f,v),w):(f._endTimers[v._id]=function(){f._ended(v),C.removeEventListener("ended",f._endTimers[v._id],!1)},C.addEventListener("ended",f._endTimers[v._id],!1))}catch(P){f._emit("playerror",v._id,P)}};C.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(C.src=f._src,C.load());var k=window&&window.ejecta||!C.readyState&&r._navigator.isCocoonJS;if(C.readyState>=3||k)T();else{f._playLock=!0,f._state="loading";var D=function(){f._state="loaded",T(),C.removeEventListener(r._canPlayEvent,D,!1)};C.addEventListener(r._canPlayEvent,D,!1),f._clearTimer(v._id)}}return v._id},pause:function(d){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"pause",action:function(){h.pause(d)}}),h;for(var f=h._getSoundIds(d),m=0;m<f.length;m++){h._clearTimer(f[m]);var p=h._soundById(f[m]);if(p&&!p._paused&&(p._seek=h.seek(f[m]),p._rateSeek=0,p._paused=!0,h._stopFade(f[m]),p._node))if(h._webAudio){if(!p._node.bufferSource)continue;typeof p._node.bufferSource.stop>"u"?p._node.bufferSource.noteOff(0):p._node.bufferSource.stop(0),h._cleanBuffer(p._node)}else(!isNaN(p._node.duration)||p._node.duration===1/0)&&p._node.pause();arguments[1]||h._emit("pause",p?p._id:null)}return h},stop:function(d,h){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"stop",action:function(){f.stop(d)}}),f;for(var m=f._getSoundIds(d),p=0;p<m.length;p++){f._clearTimer(m[p]);var g=f._soundById(m[p]);g&&(g._seek=g._start||0,g._rateSeek=0,g._paused=!0,g._ended=!0,f._stopFade(m[p]),g._node&&(f._webAudio?g._node.bufferSource&&(typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),f._cleanBuffer(g._node)):(!isNaN(g._node.duration)||g._node.duration===1/0)&&(g._node.currentTime=g._start||0,g._node.pause(),g._node.duration===1/0&&f._clearSound(g._node))),h||f._emit("stop",g._id))}return f},mute:function(d,h){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"mute",action:function(){f.mute(d,h)}}),f;if(typeof h>"u")if(typeof d=="boolean")f._muted=d;else return f._muted;for(var m=f._getSoundIds(h),p=0;p<m.length;p++){var g=f._soundById(m[p]);g&&(g._muted=d,g._interval&&f._stopFade(g._id),f._webAudio&&g._node?g._node.gain.setValueAtTime(d?0:g._volume,r.ctx.currentTime):g._node&&(g._node.muted=r._muted?!0:d),f._emit("mute",g._id))}return f},volume:function(){var d=this,h=arguments,f,m;if(h.length===0)return d._volume;if(h.length===1||h.length===2&&typeof h[1]>"u"){var p=d._getSoundIds(),g=p.indexOf(h[0]);g>=0?m=parseInt(h[0],10):f=parseFloat(h[0])}else h.length>=2&&(f=parseFloat(h[0]),m=parseInt(h[1],10));var v;if(typeof f<"u"&&f>=0&&f<=1){if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"volume",action:function(){d.volume.apply(d,h)}}),d;typeof m>"u"&&(d._volume=f),m=d._getSoundIds(m);for(var x=0;x<m.length;x++)v=d._soundById(m[x]),v&&(v._volume=f,h[2]||d._stopFade(m[x]),d._webAudio&&v._node&&!v._muted?v._node.gain.setValueAtTime(f,r.ctx.currentTime):v._node&&!v._muted&&(v._node.volume=f*r.volume()),d._emit("volume",v._id))}else return v=m?d._soundById(m):d._sounds[0],v?v._volume:0;return d},fade:function(d,h,f,m){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"fade",action:function(){p.fade(d,h,f,m)}}),p;d=Math.min(Math.max(0,parseFloat(d)),1),h=Math.min(Math.max(0,parseFloat(h)),1),f=parseFloat(f),p.volume(d,m);for(var g=p._getSoundIds(m),v=0;v<g.length;v++){var x=p._soundById(g[v]);if(x){if(m||p._stopFade(g[v]),p._webAudio&&!x._muted){var y=r.ctx.currentTime,b=y+f/1e3;x._volume=d,x._node.gain.setValueAtTime(d,y),x._node.gain.linearRampToValueAtTime(h,b)}p._startFadeInterval(x,d,h,f,g[v],typeof m>"u")}}return p},_startFadeInterval:function(d,h,f,m,p,g){var v=this,x=h,y=f-h,b=Math.abs(y/.01),w=Math.max(4,b>0?m/b:m),_=Date.now();d._fadeTo=f,d._interval=setInterval(function(){var S=(Date.now()-_)/m;_=Date.now(),x+=y*S,x=Math.round(x*100)/100,y<0?x=Math.max(f,x):x=Math.min(f,x),v._webAudio?d._volume=x:v.volume(x,d._id,!0),g&&(v._volume=x),(f<h&&x<=f||f>h&&x>=f)&&(clearInterval(d._interval),d._interval=null,d._fadeTo=null,v.volume(f,d._id),v._emit("fade",d._id))},w)},_stopFade:function(d){var h=this,f=h._soundById(d);return f&&f._interval&&(h._webAudio&&f._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(f._interval),f._interval=null,h.volume(f._fadeTo,d),f._fadeTo=null,h._emit("fade",d)),h},loop:function(){var d=this,h=arguments,f,m,p;if(h.length===0)return d._loop;if(h.length===1)if(typeof h[0]=="boolean")f=h[0],d._loop=f;else return p=d._soundById(parseInt(h[0],10)),p?p._loop:!1;else h.length===2&&(f=h[0],m=parseInt(h[1],10));for(var g=d._getSoundIds(m),v=0;v<g.length;v++)p=d._soundById(g[v]),p&&(p._loop=f,d._webAudio&&p._node&&p._node.bufferSource&&(p._node.bufferSource.loop=f,f&&(p._node.bufferSource.loopStart=p._start||0,p._node.bufferSource.loopEnd=p._stop,d.playing(g[v])&&(d.pause(g[v],!0),d.play(g[v],!0)))));return d},rate:function(){var d=this,h=arguments,f,m;if(h.length===0)m=d._sounds[0]._id;else if(h.length===1){var p=d._getSoundIds(),g=p.indexOf(h[0]);g>=0?m=parseInt(h[0],10):f=parseFloat(h[0])}else h.length===2&&(f=parseFloat(h[0]),m=parseInt(h[1],10));var v;if(typeof f=="number"){if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"rate",action:function(){d.rate.apply(d,h)}}),d;typeof m>"u"&&(d._rate=f),m=d._getSoundIds(m);for(var x=0;x<m.length;x++)if(v=d._soundById(m[x]),v){d.playing(m[x])&&(v._rateSeek=d.seek(m[x]),v._playStart=d._webAudio?r.ctx.currentTime:v._playStart),v._rate=f,d._webAudio&&v._node&&v._node.bufferSource?v._node.bufferSource.playbackRate.setValueAtTime(f,r.ctx.currentTime):v._node&&(v._node.playbackRate=f);var y=d.seek(m[x]),b=(d._sprite[v._sprite][0]+d._sprite[v._sprite][1])/1e3-y,w=b*1e3/Math.abs(v._rate);(d._endTimers[m[x]]||!v._paused)&&(d._clearTimer(m[x]),d._endTimers[m[x]]=setTimeout(d._ended.bind(d,v),w)),d._emit("rate",v._id)}}else return v=d._soundById(m),v?v._rate:d._rate;return d},seek:function(){var d=this,h=arguments,f,m;if(h.length===0)d._sounds.length&&(m=d._sounds[0]._id);else if(h.length===1){var p=d._getSoundIds(),g=p.indexOf(h[0]);g>=0?m=parseInt(h[0],10):d._sounds.length&&(m=d._sounds[0]._id,f=parseFloat(h[0]))}else h.length===2&&(f=parseFloat(h[0]),m=parseInt(h[1],10));if(typeof m>"u")return 0;if(typeof f=="number"&&(d._state!=="loaded"||d._playLock))return d._queue.push({event:"seek",action:function(){d.seek.apply(d,h)}}),d;var v=d._soundById(m);if(v)if(typeof f=="number"&&f>=0){var x=d.playing(m);x&&d.pause(m,!0),v._seek=f,v._ended=!1,d._clearTimer(m),!d._webAudio&&v._node&&!isNaN(v._node.duration)&&(v._node.currentTime=f);var y=function(){x&&d.play(m,!0),d._emit("seek",m)};if(x&&!d._webAudio){var b=function(){d._playLock?setTimeout(b,0):y()};setTimeout(b,0)}else y()}else if(d._webAudio){var w=d.playing(m)?r.ctx.currentTime-v._playStart:0,_=v._rateSeek?v._rateSeek-v._seek:0;return v._seek+(_+w*Math.abs(v._rate))}else return v._node.currentTime;return d},playing:function(d){var h=this;if(typeof d=="number"){var f=h._soundById(d);return f?!f._paused:!1}for(var m=0;m<h._sounds.length;m++)if(!h._sounds[m]._paused)return!0;return!1},duration:function(d){var h=this,f=h._duration,m=h._soundById(d);return m&&(f=h._sprite[m._sprite][1]/1e3),f},state:function(){return this._state},unload:function(){for(var d=this,h=d._sounds,f=0;f<h.length;f++)h[f]._paused||d.stop(h[f]._id),d._webAudio||(d._clearSound(h[f]._node),h[f]._node.removeEventListener("error",h[f]._errorFn,!1),h[f]._node.removeEventListener(r._canPlayEvent,h[f]._loadFn,!1),h[f]._node.removeEventListener("ended",h[f]._endFn,!1),r._releaseHtml5Audio(h[f]._node)),delete h[f]._node,d._clearTimer(h[f]._id);var m=r._howls.indexOf(d);m>=0&&r._howls.splice(m,1);var p=!0;for(f=0;f<r._howls.length;f++)if(r._howls[f]._src===d._src||d._src.indexOf(r._howls[f]._src)>=0){p=!1;break}return o&&p&&delete o[d._src],r.noAudio=!1,d._state="unloaded",d._sounds=[],d=null,null},on:function(d,h,f,m){var p=this,g=p["_on"+d];return typeof h=="function"&&g.push(m?{id:f,fn:h,once:m}:{id:f,fn:h}),p},off:function(d,h,f){var m=this,p=m["_on"+d],g=0;if(typeof h=="number"&&(f=h,h=null),h||f)for(g=0;g<p.length;g++){var v=f===p[g].id;if(h===p[g].fn&&v||!h&&v){p.splice(g,1);break}}else if(d)m["_on"+d]=[];else{var x=Object.keys(m);for(g=0;g<x.length;g++)x[g].indexOf("_on")===0&&Array.isArray(m[x[g]])&&(m[x[g]]=[])}return m},once:function(d,h,f){var m=this;return m.on(d,h,f,1),m},_emit:function(d,h,f){for(var m=this,p=m["_on"+d],g=p.length-1;g>=0;g--)(!p[g].id||p[g].id===h||d==="load")&&(setTimeout((function(v){v.call(this,h,f)}).bind(m,p[g].fn),0),p[g].once&&m.off(d,p[g].fn,p[g].id));return m._loadQueue(d),m},_loadQueue:function(d){var h=this;if(h._queue.length>0){var f=h._queue[0];f.event===d&&(h._queue.shift(),h._loadQueue()),d||f.action()}return h},_ended:function(d){var h=this,f=d._sprite;if(!h._webAudio&&d._node&&!d._node.paused&&!d._node.ended&&d._node.currentTime<d._stop)return setTimeout(h._ended.bind(h,d),100),h;var m=!!(d._loop||h._sprite[f][2]);if(h._emit("end",d._id),!h._webAudio&&m&&h.stop(d._id,!0).play(d._id),h._webAudio&&m){h._emit("play",d._id),d._seek=d._start||0,d._rateSeek=0,d._playStart=r.ctx.currentTime;var p=(d._stop-d._start)*1e3/Math.abs(d._rate);h._endTimers[d._id]=setTimeout(h._ended.bind(h,d),p)}return h._webAudio&&!m&&(d._paused=!0,d._ended=!0,d._seek=d._start||0,d._rateSeek=0,h._clearTimer(d._id),h._cleanBuffer(d._node),r._autoSuspend()),!h._webAudio&&!m&&h.stop(d._id,!0),h},_clearTimer:function(d){var h=this;if(h._endTimers[d]){if(typeof h._endTimers[d]!="function")clearTimeout(h._endTimers[d]);else{var f=h._soundById(d);f&&f._node&&f._node.removeEventListener("ended",h._endTimers[d],!1)}delete h._endTimers[d]}return h},_soundById:function(d){for(var h=this,f=0;f<h._sounds.length;f++)if(d===h._sounds[f]._id)return h._sounds[f];return null},_inactiveSound:function(){var d=this;d._drain();for(var h=0;h<d._sounds.length;h++)if(d._sounds[h]._ended)return d._sounds[h].reset();return new i(d)},_drain:function(){var d=this,h=d._pool,f=0,m=0;if(!(d._sounds.length<h)){for(m=0;m<d._sounds.length;m++)d._sounds[m]._ended&&f++;for(m=d._sounds.length-1;m>=0;m--){if(f<=h)return;d._sounds[m]._ended&&(d._webAudio&&d._sounds[m]._node&&d._sounds[m]._node.disconnect(0),d._sounds.splice(m,1),f--)}}},_getSoundIds:function(d){var h=this;if(typeof d>"u"){for(var f=[],m=0;m<h._sounds.length;m++)f.push(h._sounds[m]._id);return f}else return[d]},_refreshBuffer:function(d){var h=this;return d._node.bufferSource=r.ctx.createBufferSource(),d._node.bufferSource.buffer=o[h._src],d._panner?d._node.bufferSource.connect(d._panner):d._node.bufferSource.connect(d._node),d._node.bufferSource.loop=d._loop,d._loop&&(d._node.bufferSource.loopStart=d._start||0,d._node.bufferSource.loopEnd=d._stop||0),d._node.bufferSource.playbackRate.setValueAtTime(d._rate,r.ctx.currentTime),h},_cleanBuffer:function(d){var h=this,f=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&d.bufferSource&&(d.bufferSource.onended=null,d.bufferSource.disconnect(0),f))try{d.bufferSource.buffer=r._scratchBuffer}catch{}return d.bufferSource=null,h},_clearSound:function(d){var h=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);h||(d.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(d){this._parent=d,this.init()};i.prototype={init:function(){var d=this,h=d._parent;return d._muted=h._muted,d._loop=h._loop,d._volume=h._volume,d._rate=h._rate,d._seek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++r._counter,h._sounds.push(d),d.create(),d},create:function(){var d=this,h=d._parent,f=r._muted||d._muted||d._parent._muted?0:d._volume;return h._webAudio?(d._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),d._node.gain.setValueAtTime(f,r.ctx.currentTime),d._node.paused=!0,d._node.connect(r.masterGain)):r.noAudio||(d._node=r._obtainHtml5Audio(),d._errorFn=d._errorListener.bind(d),d._node.addEventListener("error",d._errorFn,!1),d._loadFn=d._loadListener.bind(d),d._node.addEventListener(r._canPlayEvent,d._loadFn,!1),d._endFn=d._endListener.bind(d),d._node.addEventListener("ended",d._endFn,!1),d._node.src=h._src,d._node.preload=h._preload===!0?"auto":h._preload,d._node.volume=f*r.volume(),d._node.load()),d},reset:function(){var d=this,h=d._parent;return d._muted=h._muted,d._loop=h._loop,d._volume=h._volume,d._rate=h._rate,d._seek=0,d._rateSeek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++r._counter,d},_errorListener:function(){var d=this;d._parent._emit("loaderror",d._id,d._node.error?d._node.error.code:0),d._node.removeEventListener("error",d._errorFn,!1)},_loadListener:function(){var d=this,h=d._parent;h._duration=Math.ceil(d._node.duration*10)/10,Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue()),d._node.removeEventListener(r._canPlayEvent,d._loadFn,!1)},_endListener:function(){var d=this,h=d._parent;h._duration===1/0&&(h._duration=Math.ceil(d._node.duration*10)/10,h._sprite.__default[1]===1/0&&(h._sprite.__default[1]=h._duration*1e3),h._ended(d)),d._node.removeEventListener("ended",d._endFn,!1)}};var o={},l=function(d){var h=d._src;if(o[h]){d._duration=o[h].duration,s(d);return}if(/^data:[^;]+;base64,/.test(h)){for(var f=atob(h.split(",")[1]),m=new Uint8Array(f.length),p=0;p<f.length;++p)m[p]=f.charCodeAt(p);a(m.buffer,d)}else{var g=new XMLHttpRequest;g.open(d._xhr.method,h,!0),g.withCredentials=d._xhr.withCredentials,g.responseType="arraybuffer",d._xhr.headers&&Object.keys(d._xhr.headers).forEach(function(v){g.setRequestHeader(v,d._xhr.headers[v])}),g.onload=function(){var v=(g.status+"")[0];if(v!=="0"&&v!=="2"&&v!=="3"){d._emit("loaderror",null,"Failed loading audio file with status: "+g.status+".");return}a(g.response,d)},g.onerror=function(){d._webAudio&&(d._html5=!0,d._webAudio=!1,d._sounds=[],delete o[h],d.load())},c(g)}},c=function(d){try{d.send()}catch{d.onerror()}},a=function(d,h){var f=function(){h._emit("loaderror",null,"Decoding audio data failed.")},m=function(p){p&&h._sounds.length>0?(o[h._src]=p,s(h,p)):f()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(d).then(m).catch(f):r.ctx.decodeAudioData(d,m,f)},s=function(d,h){h&&!d._duration&&(d._duration=h.duration),Object.keys(d._sprite).length===0&&(d._sprite={__default:[0,d._duration*1e3]}),d._state!=="loaded"&&(d._state="loaded",d._emit("load"),d._loadQueue())},u=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var d=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),h=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),f=h?parseInt(h[1],10):null;if(d&&f&&f<9){var m=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!m&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};typeof define=="function"&&define.amd&&define([],function(){return{Howler:r,Howl:n}}),typeof e<"u"&&(e.Howler=r,e.Howl=n),typeof global<"u"?(global.HowlerGlobal=t,global.Howler=r,global.Howl=n,global.Sound=i):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=r,window.Howl=n,window.Sound=i)})(),function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var i=n._howls.length-1;i>=0;i--)n._howls[i].stereo(r);return n},HowlerGlobal.prototype.pos=function(r,n,i){var o=this;if(!o.ctx||!o.ctx.listener)return o;if(n=typeof n!="number"?o._pos[1]:n,i=typeof i!="number"?o._pos[2]:i,typeof r=="number")o._pos=[r,n,i],typeof o.ctx.listener.positionX<"u"?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]);else return o._pos;return o},HowlerGlobal.prototype.orientation=function(r,n,i,o,l,c){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;if(n=typeof n!="number"?s[1]:n,i=typeof i!="number"?s[2]:i,o=typeof o!="number"?s[3]:o,l=typeof l!="number"?s[4]:l,c=typeof c!="number"?s[5]:c,typeof r=="number")a._orientation=[r,n,i,o,l,c],typeof a.ctx.listener.forwardX<"u"?(a.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(l,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(c,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(r,n,i,o,l,c);else return s;return a},Howl.prototype.init=function(r){return function(n){var i=this;return i._orientation=n.orientation||[1,0,0],i._stereo=n.stereo||null,i._pos=n.pos||null,i._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},i._onstereo=n.onstereo?[{fn:n.onstereo}]:[],i._onpos=n.onpos?[{fn:n.onpos}]:[],i._onorientation=n.onorientation?[{fn:n.onorientation}]:[],r.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,n){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(r,n)}}),i;var o=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof r=="number")i._stereo=r,i._pos=[r,0,0];else return i._stereo;for(var l=i._getSoundIds(n),c=0;c<l.length;c++){var a=i._soundById(l[c]);if(a)if(typeof r=="number")a._stereo=r,a._pos=[r,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",(!a._panner||!a._panner.pan)&&t(a,o),o==="spatial"?typeof a._panner.positionX<"u"?(a._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(r,0,0):a._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),i._emit("stereo",a._id);else return a._stereo}return i},Howl.prototype.pos=function(r,n,i,o){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"pos",action:function(){l.pos(r,n,i,o)}}),l;if(n=typeof n!="number"?0:n,i=typeof i!="number"?-.5:i,typeof o>"u")if(typeof r=="number")l._pos=[r,n,i];else return l._pos;for(var c=l._getSoundIds(o),a=0;a<c.length;a++){var s=l._soundById(c[a]);if(s)if(typeof r=="number")s._pos=[r,n,i],s._node&&((!s._panner||s._panner.pan)&&t(s,"spatial"),typeof s._panner.positionX<"u"?(s._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):s._panner.setPosition(r,n,i)),l._emit("pos",s._id);else return s._pos}return l},Howl.prototype.orientation=function(r,n,i,o){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"orientation",action:function(){l.orientation(r,n,i,o)}}),l;if(n=typeof n!="number"?l._orientation[1]:n,i=typeof i!="number"?l._orientation[2]:i,typeof o>"u")if(typeof r=="number")l._orientation=[r,n,i];else return l._orientation;for(var c=l._getSoundIds(o),a=0;a<c.length;a++){var s=l._soundById(c[a]);if(s)if(typeof r=="number")s._orientation=[r,n,i],s._node&&(s._panner||(s._pos||(s._pos=l._pos||[0,0,-.5]),t(s,"spatial")),typeof s._panner.orientationX<"u"?(s._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),s._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),s._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):s._panner.setOrientation(r,n,i)),l._emit("orientation",s._id);else return s._orientation}return l},Howl.prototype.pannerAttr=function(){var r=this,n=arguments,i,o,l;if(!r._webAudio)return r;if(n.length===0)return r._pannerAttr;if(n.length===1)if(typeof n[0]=="object")i=n[0],typeof o>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),r._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:r._panningModel});else return l=r._soundById(parseInt(n[0],10)),l?l._pannerAttr:r._pannerAttr;else n.length===2&&(i=n[0],o=parseInt(n[1],10));for(var c=r._getSoundIds(o),a=0;a<c.length;a++)if(l=r._soundById(c[a]),l){var s=l._pannerAttr;s={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:s.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:s.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:s.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:s.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:s.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:s.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:s.panningModel};var u=l._panner;u?(u.coneInnerAngle=s.coneInnerAngle,u.coneOuterAngle=s.coneOuterAngle,u.coneOuterGain=s.coneOuterGain,u.distanceModel=s.distanceModel,u.maxDistance=s.maxDistance,u.refDistance=s.refDistance,u.rolloffFactor=s.rolloffFactor,u.panningModel=s.panningModel):(l._pos||(l._pos=r._pos||[0,0,-.5]),t(l,"spatial"))}return r},Sound.prototype.init=function(r){return function(){var n=this,i=n._parent;n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,r.call(this),n._stereo?i.stereo(n._stereo):n._pos&&i.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var n=this,i=n._parent;return n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,n._stereo?i.stereo(n._stereo):n._pos?i.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,i._refreshBuffer(n)),r.call(this)}}(Sound.prototype.reset);var t=function(r,n){n=n||"spatial",n==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}}()}),Axe=Zi((e,t)=>{function r(n){for(var i=new Array(n),o=0;o<n;++o)i[o]=o;return i}t.exports=r}),Cxe=Zi((e,t)=>{t.exports=function(i){return i!=null&&(r(i)||n(i)||!!i._isBuffer)};function r(i){return!!i.constructor&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}function n(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&r(i.slice(0,0))}}),V1=Zi((e,t)=>{var r=Axe(),n=Cxe(),i=typeof Float64Array<"u";function o(d,h){return d[0]-h[0]}function l(){var d=this.stride,h=new Array(d.length),f;for(f=0;f<h.length;++f)h[f]=[Math.abs(d[f]),f];h.sort(o);var m=new Array(h.length);for(f=0;f<m.length;++f)m[f]=h[f][1];return m}function c(d,h){var f=["View",h,"d",d].join("");h<0&&(f="View_Nil"+d);var m=d==="generic";if(h===-1){var p="function "+f+"(a){this.data=a;};var proto="+f+".prototype;proto.dtype='"+d+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+f+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+f+"(a){return new "+f+"(a);}",A=new Function(p);return A()}else if(h===0){var p="function "+f+"(a,d) {this.data = a;this.offset = d};var proto="+f+".prototype;proto.dtype='"+d+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+f+"_copy() {return new "+f+"(this.data,this.offset)};proto.pick=function "+f+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+f+"_get(){return "+(m?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+f+"_set(v){return "+(m?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+f+"(a,b,c,d){return new "+f+"(a,d)}",A=new Function("TrivialArray",p);return A(s[d][0])}var p=["'use strict'"],g=r(h),v=g.map(function(T){return"i"+T}),x="this.offset+"+g.map(function(T){return"this.stride["+T+"]*i"+T}).join("+"),y=g.map(function(T){return"b"+T}).join(","),b=g.map(function(T){return"c"+T}).join(",");p.push("function "+f+"(a,"+y+","+b+",d){this.data=a","this.shape=["+y+"]","this.stride=["+b+"]","this.offset=d|0}","var proto="+f+".prototype","proto.dtype='"+d+"'","proto.dimension="+h),p.push("Object.defineProperty(proto,'size',{get:function "+f+"_size(){return "+g.map(function(T){return"this.shape["+T+"]"}).join("*"),"}})"),h===1?p.push("proto.order=[0]"):(p.push("Object.defineProperty(proto,'order',{get:"),h<4?(p.push("function "+f+"_order(){"),h===2?p.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):h===3&&p.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):p.push("ORDER})")),p.push("proto.set=function "+f+"_set("+v.join(",")+",v){"),m?p.push("return this.data.set("+x+",v)}"):p.push("return this.data["+x+"]=v}"),p.push("proto.get=function "+f+"_get("+v.join(",")+"){"),m?p.push("return this.data.get("+x+")}"):p.push("return this.data["+x+"]}"),p.push("proto.index=function "+f+"_index(",v.join(),"){return "+x+"}"),p.push("proto.hi=function "+f+"_hi("+v.join(",")+"){return new "+f+"(this.data,"+g.map(function(T){return["(typeof i",T,"!=='number'||i",T,"<0)?this.shape[",T,"]:i",T,"|0"].join("")}).join(",")+","+g.map(function(T){return"this.stride["+T+"]"}).join(",")+",this.offset)}");var w=g.map(function(T){return"a"+T+"=this.shape["+T+"]"}),_=g.map(function(T){return"c"+T+"=this.stride["+T+"]"});p.push("proto.lo=function "+f+"_lo("+v.join(",")+"){var b=this.offset,d=0,"+w.join(",")+","+_.join(","));for(var S=0;S<h;++S)p.push("if(typeof i"+S+"==='number'&&i"+S+">=0){d=i"+S+"|0;b+=c"+S+"*d;a"+S+"-=d}");p.push("return new "+f+"(this.data,"+g.map(function(T){return"a"+T}).join(",")+","+g.map(function(T){return"c"+T}).join(",")+",b)}"),p.push("proto.step=function "+f+"_step("+v.join(",")+"){var "+g.map(function(T){return"a"+T+"=this.shape["+T+"]"}).join(",")+","+g.map(function(T){return"b"+T+"=this.stride["+T+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var S=0;S<h;++S)p.push("if(typeof i"+S+"==='number'){d=i"+S+"|0;if(d<0){c+=b"+S+"*(a"+S+"-1);a"+S+"=ceil(-a"+S+"/d)}else{a"+S+"=ceil(a"+S+"/d)}b"+S+"*=d}");p.push("return new "+f+"(this.data,"+g.map(function(T){return"a"+T}).join(",")+","+g.map(function(T){return"b"+T}).join(",")+",c)}");for(var E=new Array(h),C=new Array(h),S=0;S<h;++S)E[S]="a[i"+S+"]",C[S]="b[i"+S+"]";p.push("proto.transpose=function "+f+"_transpose("+v+"){"+v.map(function(T,k){return T+"=("+T+"===undefined?"+k+":"+T+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+f+"(this.data,"+E.join(",")+","+C.join(",")+",this.offset)}"),p.push("proto.pick=function "+f+"_pick("+v+"){var a=[],b=[],c=this.offset");for(var S=0;S<h;++S)p.push("if(typeof i"+S+"==='number'&&i"+S+">=0){c=(c+this.stride["+S+"]*i"+S+")|0}else{a.push(this.shape["+S+"]);b.push(this.stride["+S+"])}");p.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),p.push("return function construct_"+f+"(data,shape,stride,offset){return new "+f+"(data,"+g.map(function(T){return"shape["+T+"]"}).join(",")+","+g.map(function(T){return"stride["+T+"]"}).join(",")+",offset)}");var A=new Function("CTOR_LIST","ORDER",p.join(`
`));return A(s[d],l)}function a(d){if(n(d))return"buffer";if(i)switch(Object.prototype.toString.call(d)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(d)?"array":"generic"}var s={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function u(d,h,f,m){if(d===void 0){var b=s.array[0];return b([])}else typeof d=="number"&&(d=[d]);h===void 0&&(h=[d.length]);var p=h.length;if(f===void 0){f=new Array(p);for(var g=p-1,v=1;g>=0;--g)f[g]=v,v*=h[g]}if(m===void 0){m=0;for(var g=0;g<p;++g)f[g]<0&&(m-=(h[g]-1)*f[g])}for(var x=a(d),y=s[x];y.length<=p+1;)y.push(c(x,y.length-1));var b=y[p+1];return b(d,h,f,m)}t.exports=u}),Mxe=Zi((e,t)=>{function r(o,l){for(var c=1,a=o.length,s=o[0],u=o[0],d=1;d<a;++d)if(u=s,s=o[d],l(s,u)){if(d===c){c++;continue}o[c++]=s}return o.length=c,o}function n(o){for(var l=1,c=o.length,a=o[0],s=o[0],u=1;u<c;++u,s=a)if(s=a,a=o[u],a!==s){if(u===l){l++;continue}o[l++]=a}return o.length=l,o}function i(o,l,c){return o.length===0?o:l?(c||o.sort(l),r(o,l)):(c||o.sort(),n(o))}t.exports=i}),Txe=Zi((e,t)=>{var r=Mxe();function n(s,u,d){var h=s.length,f=u.arrayArgs.length,m=u.indexArgs.length>0,p=[],g=[],v=0,x=0,y,b;for(y=0;y<h;++y)g.push(["i",y,"=0"].join(""));for(b=0;b<f;++b)for(y=0;y<h;++y)x=v,v=s[y],y===0?g.push(["d",b,"s",y,"=t",b,"p",v].join("")):g.push(["d",b,"s",y,"=(t",b,"p",v,"-s",x,"*t",b,"p",x,")"].join(""));for(g.length>0&&p.push("var "+g.join(",")),y=h-1;y>=0;--y)v=s[y],p.push(["for(i",y,"=0;i",y,"<s",v,";++i",y,"){"].join(""));for(p.push(d),y=0;y<h;++y){for(x=v,v=s[y],b=0;b<f;++b)p.push(["p",b,"+=d",b,"s",y].join(""));m&&(y>0&&p.push(["index[",x,"]-=s",x].join("")),p.push(["++index[",v,"]"].join(""))),p.push("}")}return p.join(`
`)}function i(s,u,d,h){for(var f=u.length,m=d.arrayArgs.length,p=d.blockSize,g=d.indexArgs.length>0,v=[],x=0;x<m;++x)v.push(["var offset",x,"=p",x].join(""));for(var x=s;x<f;++x)v.push(["for(var j"+x+"=SS[",u[x],"]|0;j",x,">0;){"].join("")),v.push(["if(j",x,"<",p,"){"].join("")),v.push(["s",u[x],"=j",x].join("")),v.push(["j",x,"=0"].join("")),v.push(["}else{s",u[x],"=",p].join("")),v.push(["j",x,"-=",p,"}"].join("")),g&&v.push(["index[",u[x],"]=j",x].join(""));for(var x=0;x<m;++x){for(var y=["offset"+x],b=s;b<f;++b)y.push(["j",b,"*t",x,"p",u[b]].join(""));v.push(["p",x,"=(",y.join("+"),")"].join(""))}v.push(n(u,d,h));for(var x=s;x<f;++x)v.push("}");return v.join(`
`)}function o(s){for(var u=0,d=s[0].length;u<d;){for(var h=1;h<s.length;++h)if(s[h][u]!==s[0][u])return u;++u}return u}function l(s,u,d){for(var h=s.body,f=[],m=[],p=0;p<s.args.length;++p){var g=s.args[p];if(!(g.count<=0)){var v=new RegExp(g.name,"g"),x="",y=u.arrayArgs.indexOf(p);switch(u.argTypes[p]){case"offset":var b=u.offsetArgIndex.indexOf(p),w=u.offsetArgs[b];y=w.array,x="+q"+b;case"array":x="p"+y+x;var _="l"+p,S="a"+y;if(u.arrayBlockIndices[y]===0)g.count===1?d[y]==="generic"?g.lvalue?(f.push(["var ",_,"=",S,".get(",x,")"].join("")),h=h.replace(v,_),m.push([S,".set(",x,",",_,")"].join(""))):h=h.replace(v,[S,".get(",x,")"].join("")):h=h.replace(v,[S,"[",x,"]"].join("")):d[y]==="generic"?(f.push(["var ",_,"=",S,".get(",x,")"].join("")),h=h.replace(v,_),g.lvalue&&m.push([S,".set(",x,",",_,")"].join(""))):(f.push(["var ",_,"=",S,"[",x,"]"].join("")),h=h.replace(v,_),g.lvalue&&m.push([S,"[",x,"]=",_].join("")));else{for(var E=[g.name],C=[x],A=0;A<Math.abs(u.arrayBlockIndices[y]);A++)E.push("\\s*\\[([^\\]]+)\\]"),C.push("$"+(A+1)+"*t"+y+"b"+A);if(v=new RegExp(E.join(""),"g"),x=C.join("+"),d[y]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");h=h.replace(v,[S,"[",x,"]"].join(""))}break;case"scalar":h=h.replace(v,"Y"+u.scalarArgs.indexOf(p));break;case"index":h=h.replace(v,"index");break;case"shape":h=h.replace(v,"shape");break}}}return[f.join(`
`),h,m.join(`
`)].join(`
`).trim()}function c(s){for(var u=new Array(s.length),d=!0,h=0;h<s.length;++h){var f=s[h],m=f.match(/\d+/);m?m=m[0]:m="",f.charAt(0)===0?u[h]="u"+f.charAt(1)+m:u[h]=f.charAt(0)+m,h>0&&(d=d&&u[h]===u[h-1])}return d?u[0]:u.join("")}function a(s,u){for(var d=u[1].length-Math.abs(s.arrayBlockIndices[0])|0,h=new Array(s.arrayArgs.length),f=new Array(s.arrayArgs.length),m=0;m<s.arrayArgs.length;++m)f[m]=u[2*m],h[m]=u[2*m+1];for(var p=[],g=[],v=[],x=[],y=[],m=0;m<s.arrayArgs.length;++m){s.arrayBlockIndices[m]<0?(v.push(0),x.push(d),p.push(d),g.push(d+s.arrayBlockIndices[m])):(v.push(s.arrayBlockIndices[m]),x.push(s.arrayBlockIndices[m]+d),p.push(0),g.push(s.arrayBlockIndices[m]));for(var b=[],w=0;w<h[m].length;w++)v[m]<=h[m][w]&&h[m][w]<x[m]&&b.push(h[m][w]-v[m]);y.push(b)}for(var _=["SS"],S=["'use strict'"],E=[],w=0;w<d;++w)E.push(["s",w,"=SS[",w,"]"].join(""));for(var m=0;m<s.arrayArgs.length;++m){_.push("a"+m),_.push("t"+m),_.push("p"+m);for(var w=0;w<d;++w)E.push(["t",m,"p",w,"=t",m,"[",v[m]+w,"]"].join(""));for(var w=0;w<Math.abs(s.arrayBlockIndices[m]);++w)E.push(["t",m,"b",w,"=t",m,"[",p[m]+w,"]"].join(""))}for(var m=0;m<s.scalarArgs.length;++m)_.push("Y"+m);if(s.shapeArgs.length>0&&E.push("shape=SS.slice(0)"),s.indexArgs.length>0){for(var C=new Array(d),m=0;m<d;++m)C[m]="0";E.push(["index=[",C.join(","),"]"].join(""))}for(var m=0;m<s.offsetArgs.length;++m){for(var A=s.offsetArgs[m],T=[],w=0;w<A.offset.length;++w)A.offset[w]!==0&&(A.offset[w]===1?T.push(["t",A.array,"p",w].join("")):T.push([A.offset[w],"*t",A.array,"p",w].join("")));T.length===0?E.push("q"+m+"=0"):E.push(["q",m,"=",T.join("+")].join(""))}var k=r([].concat(s.pre.thisVars).concat(s.body.thisVars).concat(s.post.thisVars));E=E.concat(k),E.length>0&&S.push("var "+E.join(","));for(var m=0;m<s.arrayArgs.length;++m)S.push("p"+m+"|=0");s.pre.body.length>3&&S.push(l(s.pre,s,f));var D=l(s.body,s,f),M=o(y);M<d?S.push(i(M,y[0],s,D)):S.push(n(y[0],s,D)),s.post.body.length>3&&S.push(l(s.post,s,f)),s.debug&&console.log("-----Generated cwise routine for ",u,`:
`+S.join(`
`)+`
----------`);var P=[s.funcName||"unnamed","_cwise_loop_",h[0].join("s"),"m",M,c(f)].join(""),j=new Function(["function ",P,"(",_.join(","),"){",S.join(`
`),"} return ",P].join(""));return j()}t.exports=a}),Pxe=Zi((e,t)=>{var r=Txe();function n(i){var o=["'use strict'","var CACHED={}"],l=[],c=i.funcName+"_cwise_thunk";o.push(["return function ",c,"(",i.shimArgs.join(","),"){"].join(""));for(var a=[],s=[],u=[["array",i.arrayArgs[0],".shape.slice(",Math.max(0,i.arrayBlockIndices[0]),i.arrayBlockIndices[0]<0?","+i.arrayBlockIndices[0]+")":")"].join("")],d=[],h=[],f=0;f<i.arrayArgs.length;++f){var m=i.arrayArgs[f];l.push(["t",m,"=array",m,".dtype,","r",m,"=array",m,".order"].join("")),a.push("t"+m),a.push("r"+m),s.push("t"+m),s.push("r"+m+".join()"),u.push("array"+m+".data"),u.push("array"+m+".stride"),u.push("array"+m+".offset|0"),f>0&&(d.push("array"+i.arrayArgs[0]+".shape.length===array"+m+".shape.length+"+(Math.abs(i.arrayBlockIndices[0])-Math.abs(i.arrayBlockIndices[f]))),h.push("array"+i.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,i.arrayBlockIndices[0])+"]===array"+m+".shape[shapeIndex+"+Math.max(0,i.arrayBlockIndices[f])+"]"))}i.arrayArgs.length>1&&(o.push("if (!("+d.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),o.push("for(var shapeIndex=array"+i.arrayArgs[0]+".shape.length-"+Math.abs(i.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),o.push("if (!("+h.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),o.push("}"));for(var f=0;f<i.scalarArgs.length;++f)u.push("scalar"+i.scalarArgs[f]);l.push(["type=[",s.join(","),"].join()"].join("")),l.push("proc=CACHED[type]"),o.push("var "+l.join(",")),o.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",u.join(","),")}"].join("")),i.debug&&console.log(`-----Generated thunk:
`+o.join(`
`)+`
----------`);var p=new Function("compile",o.join(`
`));return p(r.bind(void 0,i))}t.exports=n}),kxe=Zi((e,t)=>{var r=Pxe();function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(o){var l=new n;l.pre=o.pre,l.body=o.body,l.post=o.post;var c=o.args.slice(0);l.argTypes=c;for(var a=0;a<c.length;++a){var s=c[a];if(s==="array"||typeof s=="object"&&s.blockIndices){if(l.argTypes[a]="array",l.arrayArgs.push(a),l.arrayBlockIndices.push(s.blockIndices?s.blockIndices:0),l.shimArgs.push("array"+a),a<l.pre.args.length&&l.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<l.post.args.length&&l.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if(s==="scalar")l.scalarArgs.push(a),l.shimArgs.push("scalar"+a);else if(s==="index"){if(l.indexArgs.push(a),a<l.pre.args.length&&l.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<l.body.args.length&&l.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<l.post.args.length&&l.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if(s==="shape"){if(l.shapeArgs.push(a),a<l.pre.args.length&&l.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<l.body.args.length&&l.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<l.post.args.length&&l.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof s=="object"&&s.offset)l.argTypes[a]="offset",l.offsetArgs.push({array:s.array,offset:s.offset}),l.offsetArgIndex.push(a);else throw new Error("cwise: Unknown argument type "+c[a])}if(l.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(l.pre.args.length>c.length)throw new Error("cwise: Too many arguments in pre() block");if(l.body.args.length>c.length)throw new Error("cwise: Too many arguments in body() block");if(l.post.args.length>c.length)throw new Error("cwise: Too many arguments in post() block");return l.debug=!!o.printCode||!!o.debug,l.funcName=o.funcName||"cwise",l.blockSize=o.blockSize||64,r(l)}t.exports=i}),H1=Zi(e=>{var t=kxe(),r={body:"",args:[],thisVars:[],localVars:[]};function n(h){if(!h)return r;for(var f=0;f<h.args.length;++f){var m=h.args[f];f===0?h.args[f]={name:m,lvalue:!0,rvalue:!!h.rvalue,count:h.count||1}:h.args[f]={name:m,lvalue:!1,rvalue:!0,count:1}}return h.thisVars||(h.thisVars=[]),h.localVars||(h.localVars=[]),h}function i(h){return t({args:h.args,pre:n(h.pre),body:n(h.body),post:n(h.proc),funcName:h.funcName})}function o(h){for(var f=[],m=0;m<h.args.length;++m)f.push("a"+m);var p=new Function("P",["return function ",h.funcName,"_ndarrayops(",f.join(","),") {P(",f.join(","),");return a0}"].join(""));return p(i(h))}var l={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var h in l){var f=l[h];e[h]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+f+"c"},funcName:h}),e[h+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+f+"=b"},rvalue:!0,funcName:h+"eq"}),e[h+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+f+"s"},funcName:h+"s"}),e[h+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+f+"=s"},rvalue:!0,funcName:h+"seq"})}})();var c={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var h in c){var f=c[h];e[h]=o({args:["array","array"],body:{args:["a","b"],body:"a="+f+"b"},funcName:h}),e[h+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+f+"a"},rvalue:!0,count:2,funcName:h+"eq"})}})();var a={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var h in a){var f=a[h];e[h]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+f+"c"},funcName:h}),e[h+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+f+"s"},funcName:h+"s"}),e[h+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+f+"b"},rvalue:!0,count:2,funcName:h+"eq"}),e[h+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+f+"s"},rvalue:!0,count:2,funcName:h+"seq"})}})();var s=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var h=0;h<s.length;++h){var f=s[h];e[f]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:f}),e[f+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:f+"eq"})}})();var u=["max","min","atan2","pow"];(function(){for(var h=0;h<u.length;++h){var f=u[h];e[f]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:f}),e[f+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:f+"s"}),e[f+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:f+"eq"}),e[f+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:f+"seq"})}})();var d=["atan2","pow"];(function(){for(var h=0;h<d.length;++h){var f=d[h];e[f+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:f+"op"}),e[f+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:f+"ops"}),e[f+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:f+"opeq"}),e[f+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:f+"opseq"})}})(),e.any=t({args:["array"],pre:r,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=t({args:["array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=t({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=t({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=t({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=t({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=t({args:["array","array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})}),Dxe=Zi((e,t)=>{t.exports=function(r,n){for(var i=r.split("."),o=n.split("."),l=0;l<3;l++){var c=Number(i[l]),a=Number(o[l]);if(c>a)return 1;if(a>c)return-1;if(!isNaN(c)&&isNaN(a))return 1;if(isNaN(c)&&!isNaN(a))return-1}return 0}}),$g="149",Ra={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},jxe=0,rz=1,Ixe=2,vj=1,Oxe=2,Cv=3,rl=0,bi=1,Bo=2,Qn=0,Qh=1,nz=2,iz=3,oz=4,Rxe=5,zp=100,Lxe=101,zxe=102,az=103,sz=104,Nxe=200,Bxe=201,Fxe=202,Uxe=203,_X=204,SX=205,Vxe=206,Hxe=207,Wxe=208,Gxe=209,qxe=210,Yxe=0,Xxe=1,$xe=2,F4=3,Kxe=4,Qxe=5,Jxe=6,Zxe=7,EX=0,ewe=1,twe=2,nu=0,rwe=1,nwe=2,iwe=3,owe=4,awe=5,AX=300,bf=301,xf=302,U4=303,V4=304,W1=306,$c=1e3,jn=1001,H4=1002,Nr=1003,lz=1004,FA=1005,Kt=1006,swe=1007,mg=1008,Ji=1009,lwe=1010,cwe=1011,CX=1012,uwe=1013,Kc=1014,go=1015,wf=1016,dwe=1017,hwe=1018,Jh=1020,fwe=1021,ma=1023,pwe=1024,mwe=1025,Zh=1026,_f=1027,gwe=1028,vwe=1029,Z_=1030,ywe=1031,MX=1033,UA=33776,VA=33777,HA=33778,WA=33779,cz=35840,uz=35841,dz=35842,hz=35843,bwe=36196,fz=37492,pz=37496,mz=37808,gz=37809,vz=37810,yz=37811,bz=37812,xz=37813,wz=37814,_z=37815,Sz=37816,Ez=37817,Az=37818,Cz=37819,Mz=37820,Tz=37821,GA=36492,xwe=36283,Pz=36284,kz=36285,Dz=36286,TX=2200,PX=2201,yj=2202,e2=2300,t2=2301,qA=2302,hm=2400,fm=2401,r2=2402,bj=2500,wwe=2501,rc=3e3,Ft=3001,Au=3200,kX=3201,_we=0,Swe=1,Tl="srgb",n2="srgb-linear",YA=7680,Ewe=519,W4=35044,Awe=35048,jz="300 es",G4=1035,Ri=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let r=this._listeners[e];if(r!==void 0){let n=r.indexOf(t);n!==-1&&r.splice(n,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let t=this._listeners[e.type];if(t!==void 0){e.target=this;let r=t.slice(0);for(let n=0,i=r.length;n<i;n++)r[n].call(this,e);e.target=null}}},Ni=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Iz=1234567,ry=Math.PI/180,Zy=180/Math.PI;function as(){let e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Ni[e&255]+Ni[e>>8&255]+Ni[e>>16&255]+Ni[e>>24&255]+"-"+Ni[t&255]+Ni[t>>8&255]+"-"+Ni[t>>16&15|64]+Ni[t>>24&255]+"-"+Ni[r&63|128]+Ni[r>>8&255]+"-"+Ni[r>>16&255]+Ni[r>>24&255]+Ni[n&255]+Ni[n>>8&255]+Ni[n>>16&255]+Ni[n>>24&255]).toLowerCase()}function Xn(e,t,r){return Math.max(t,Math.min(r,e))}function xj(e,t){return(e%t+t)%t}function Cwe(e,t,r,n,i){return n+(e-t)*(i-n)/(r-t)}function Mwe(e,t,r){return e!==t?(r-e)/(t-e):0}function ny(e,t,r){return(1-r)*e+r*t}function Twe(e,t,r,n){return ny(e,t,1-Math.exp(-r*n))}function Pwe(e,t=1){return t-Math.abs(xj(e,t*2)-t)}function kwe(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t),e*e*(3-2*e))}function Dwe(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t),e*e*e*(e*(e*6-15)+10))}function jwe(e,t){return e+Math.floor(Math.random()*(t-e+1))}function Iwe(e,t){return e+Math.random()*(t-e)}function Owe(e){return e*(.5-Math.random())}function Rwe(e){e!==void 0&&(Iz=e);let t=Iz+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function Lwe(e){return e*ry}function zwe(e){return e*Zy}function q4(e){return(e&e-1)===0&&e!==0}function DX(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function i2(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Nwe(e,t,r,n,i){let o=Math.cos,l=Math.sin,c=o(r/2),a=l(r/2),s=o((t+n)/2),u=l((t+n)/2),d=o((t-n)/2),h=l((t-n)/2),f=o((n-t)/2),m=l((n-t)/2);switch(i){case"XYX":e.set(c*u,a*d,a*h,c*s);break;case"YZY":e.set(a*h,c*u,a*d,c*s);break;case"ZXZ":e.set(a*d,a*h,c*u,c*s);break;case"XZX":e.set(c*u,a*m,a*f,c*s);break;case"YXY":e.set(a*f,c*u,a*m,c*s);break;case"ZYZ":e.set(a*m,a*f,c*u,c*s);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Qc(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function zr(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}var pt=Object.freeze({__proto__:null,DEG2RAD:ry,RAD2DEG:Zy,ceilPowerOfTwo:DX,clamp:Xn,damp:Twe,degToRad:Lwe,denormalize:Qc,euclideanModulo:xj,floorPowerOfTwo:i2,generateUUID:as,inverseLerp:Mwe,isPowerOfTwo:q4,lerp:ny,mapLinear:Cwe,normalize:zr,pingpong:Pwe,radToDeg:zwe,randFloat:Iwe,randFloatSpread:Owe,randInt:jwe,seededRandom:Rwe,setQuaternionFromProperEuler:Nwe,smootherstep:Dwe,smoothstep:kwe}),oe=class{constructor(t=0,r=0){oe.prototype.isVector2=!0,this.x=t,this.y=r}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,r){return this.x=t,this.y=r,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){let r=this.x,n=this.y,i=t.elements;return this.x=i[0]*r+i[3]*n+i[6],this.y=i[1]*r+i[4]*n+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this}clampLength(t,r){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(r,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let r=this.x-t.x,n=this.y-t.y;return r*r+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this}lerpVectors(t,r,n){return this.x=t.x+(r.x-t.x)*n,this.y=t.y+(r.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t}fromBufferAttribute(t,r){return this.x=t.getX(r),this.y=t.getY(r),this}rotateAround(t,r){let n=Math.cos(r),i=Math.sin(r),o=this.x-t.x,l=this.y-t.y;return this.x=o*n-l*i+t.x,this.y=o*i+l*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},In=class{constructor(){In.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,n,i,o,l,c,a){let s=this.elements;return s[0]=e,s[1]=n,s[2]=l,s[3]=t,s[4]=i,s[5]=c,s[6]=r,s[7]=o,s[8]=a,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,n=t.elements,i=this.elements,o=r[0],l=r[3],c=r[6],a=r[1],s=r[4],u=r[7],d=r[2],h=r[5],f=r[8],m=n[0],p=n[3],g=n[6],v=n[1],x=n[4],y=n[7],b=n[2],w=n[5],_=n[8];return i[0]=o*m+l*v+c*b,i[3]=o*p+l*x+c*w,i[6]=o*g+l*y+c*_,i[1]=a*m+s*v+u*b,i[4]=a*p+s*x+u*w,i[7]=a*g+s*y+u*_,i[2]=d*m+h*v+f*b,i[5]=d*p+h*x+f*w,i[8]=d*g+h*y+f*_,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],l=e[5],c=e[6],a=e[7],s=e[8];return t*o*s-t*l*a-r*i*s+r*l*c+n*i*a-n*o*c}invert(){let e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],l=e[5],c=e[6],a=e[7],s=e[8],u=s*o-l*a,d=l*c-s*i,h=a*i-o*c,f=t*u+r*d+n*h;if(f===0)return this.set(0,0,0,0,0,0,0,0,0);let m=1/f;return e[0]=u*m,e[1]=(n*a-s*r)*m,e[2]=(l*r-n*o)*m,e[3]=d*m,e[4]=(s*t-n*c)*m,e[5]=(n*i-l*t)*m,e[6]=h*m,e[7]=(r*c-a*t)*m,e[8]=(o*t-r*i)*m,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,n,i,o,l){let c=Math.cos(i),a=Math.sin(i);return this.set(r*c,r*a,-r*(c*o+a*l)+o+e,-n*a,n*c,-n*(-a*o+c*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(XA.makeScale(e,t)),this}rotate(e){return this.premultiply(XA.makeRotation(-e)),this}translate(e,t){return this.premultiply(XA.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,r=e.elements;for(let n=0;n<9;n++)if(t[n]!==r[n])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}},XA=new In;function jX(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var Bwe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Nb(e,t){return new Bwe[e](t)}function o2(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function ef(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function Lw(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}var $A={[Tl]:{[n2]:ef},[n2]:{[Tl]:Lw}},to={legacyMode:!0,get workingColorSpace(){return n2},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,r){if(this.legacyMode||t===r||!t||!r)return e;if($A[t]&&$A[t][r]!==void 0){let n=$A[t][r];return e.r=n(e.r),e.g=n(e.g),e.b=n(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},IX={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ei={r:0,g:0,b:0},Cs={h:0,s:0,l:0},Bb={h:0,s:0,l:0};function KA(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*6*(2/3-r):e}function Fb(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var wt=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Tl){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,to.toWorkingColorSpace(this,t),this}setRGB(e,t,r,n=to.workingColorSpace){return this.r=e,this.g=t,this.b=r,to.toWorkingColorSpace(this,n),this}setHSL(e,t,r,n=to.workingColorSpace){if(e=xj(e,1),t=Xn(t,0,1),r=Xn(r,0,1),t===0)this.r=this.g=this.b=r;else{let i=r<=.5?r*(1+t):r+t-r*t,o=2*r-i;this.r=KA(o,i,e+1/3),this.g=KA(o,i,e),this.b=KA(o,i,e-1/3)}return to.toWorkingColorSpace(this,n),this}setStyle(e,t=Tl){function r(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let i,o=n[1],l=n[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,to.toWorkingColorSpace(this,t),r(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,to.toWorkingColorSpace(this,t),r(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){let c=parseFloat(i[1])/360,a=parseFloat(i[2])/100,s=parseFloat(i[3])/100;return r(i[4]),this.setHSL(c,a,s,t)}break}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){let i=n[1],o=i.length;if(o===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,to.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,to.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Tl){let r=IX[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ef(e.r),this.g=ef(e.g),this.b=ef(e.b),this}copyLinearToSRGB(e){return this.r=Lw(e.r),this.g=Lw(e.g),this.b=Lw(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Tl){return to.fromWorkingColorSpace(Fb(this,ei),e),Xn(ei.r*255,0,255)<<16^Xn(ei.g*255,0,255)<<8^Xn(ei.b*255,0,255)<<0}getHexString(e=Tl){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=to.workingColorSpace){to.fromWorkingColorSpace(Fb(this,ei),t);let r=ei.r,n=ei.g,i=ei.b,o=Math.max(r,n,i),l=Math.min(r,n,i),c,a,s=(l+o)/2;if(l===o)c=0,a=0;else{let u=o-l;switch(a=s<=.5?u/(o+l):u/(2-o-l),o){case r:c=(n-i)/u+(n<i?6:0);break;case n:c=(i-r)/u+2;break;case i:c=(r-n)/u+4;break}c/=6}return e.h=c,e.s=a,e.l=s,e}getRGB(e,t=to.workingColorSpace){return to.fromWorkingColorSpace(Fb(this,ei),t),e.r=ei.r,e.g=ei.g,e.b=ei.b,e}getStyle(e=Tl){return to.fromWorkingColorSpace(Fb(this,ei),e),e!==Tl?`color(${e} ${ei.r} ${ei.g} ${ei.b})`:`rgb(${ei.r*255|0},${ei.g*255|0},${ei.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(Cs),Cs.h+=e,Cs.s+=t,Cs.l+=r,this.setHSL(Cs.h,Cs.s,Cs.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Cs),e.getHSL(Bb);let r=ny(Cs.h,Bb.h,t),n=ny(Cs.s,Bb.s,t),i=ny(Cs.l,Bb.l,t);return this.setHSL(r,n,i),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};wt.NAMES=IX;var Jf,OX=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Jf===void 0&&(Jf=o2("canvas")),Jf.width=e.width,Jf.height=e.height;let r=Jf.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Jf}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let t=o2("canvas");t.width=e.width,t.height=e.height;let r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);let n=r.getImageData(0,0,e.width,e.height),i=n.data;for(let o=0;o<i.length;o++)i[o]=ef(i[o]/255)*255;return r.putImageData(n,0,0),t}else if(e.data){let t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(ef(t[r]/255)*255):t[r]=ef(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},RX=class{constructor(e=null){this.isSource=!0,this.uuid=as(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];let r={uuid:this.uuid,url:""},n=this.data;if(n!==null){let i;if(Array.isArray(n)){i=[];for(let o=0,l=n.length;o<l;o++)n[o].isDataTexture?i.push(QA(n[o].image)):i.push(QA(n[o]))}else i=QA(n);r.url=i}return t||(e.images[this.uuid]=r),r}};function QA(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?OX.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Fwe=0,li=class extends Ri{constructor(e=li.DEFAULT_IMAGE,t=li.DEFAULT_MAPPING,r=jn,n=jn,i=Kt,o=mg,l=ma,c=Ji,a=li.DEFAULT_ANISOTROPY,s=rc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Fwe++}),this.uuid=as(),this.name="",this.source=new RX(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=n,this.magFilter=i,this.minFilter=o,this.anisotropy=a,this.format=l,this.internalFormat=null,this.type=c,this.offset=new oe(0,0),this.repeat=new oe(1,1),this.center=new oe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new In,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=s,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==AX)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case $c:e.x=e.x-Math.floor(e.x);break;case jn:e.x=e.x<0?0:1;break;case H4:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case $c:e.y=e.y-Math.floor(e.y);break;case jn:e.y=e.y<0?0:1;break;case H4:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}};li.DEFAULT_IMAGE=null;li.DEFAULT_MAPPING=AX;li.DEFAULT_ANISOTROPY=1;var Ut=class{constructor(e=0,t=0,r=0,n=1){Ut.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=n}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,r=this.y,n=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*n+o[12]*i,this.y=o[1]*t+o[5]*r+o[9]*n+o[13]*i,this.z=o[2]*t+o[6]*r+o[10]*n+o[14]*i,this.w=o[3]*t+o[7]*r+o[11]*n+o[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,n,i,o=e.elements,l=o[0],c=o[4],a=o[8],s=o[1],u=o[5],d=o[9],h=o[2],f=o[6],m=o[10];if(Math.abs(c-s)<.01&&Math.abs(a-h)<.01&&Math.abs(d-f)<.01){if(Math.abs(c+s)<.1&&Math.abs(a+h)<.1&&Math.abs(d+f)<.1&&Math.abs(l+u+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;let g=(l+1)/2,v=(u+1)/2,x=(m+1)/2,y=(c+s)/4,b=(a+h)/4,w=(d+f)/4;return g>v&&g>x?g<.01?(r=0,n=.707106781,i=.707106781):(r=Math.sqrt(g),n=y/r,i=b/r):v>x?v<.01?(r=.707106781,n=0,i=.707106781):(n=Math.sqrt(v),r=y/n,i=w/n):x<.01?(r=.707106781,n=.707106781,i=0):(i=Math.sqrt(x),r=b/i,n=w/i),this.set(r,n,i,t),this}let p=Math.sqrt((f-d)*(f-d)+(a-h)*(a-h)+(s-c)*(s-c));return Math.abs(p)<.001&&(p=1),this.x=(f-d)/p,this.y=(a-h)/p,this.z=(s-c)/p,this.w=Math.acos((l+u+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},Cr=class extends Ri{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ut(0,0,e,t),this.scissorTest=!1,this.viewport=new Ut(0,0,e,t);let n={width:e,height:t,depth:1};this.texture=new li(n,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Kt,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;let t=Object.assign({},e.texture.image);return this.texture.source=new RX(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},LX=class extends li{constructor(e=null,t=1,r=1,n=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:n},this.magFilter=Nr,this.minFilter=Nr,this.wrapR=jn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},Uwe=class extends li{constructor(e=null,t=1,r=1,n=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:n},this.magFilter=Nr,this.minFilter=Nr,this.wrapR=jn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},Vwe=class extends Cr{constructor(e=1,t=1,r=1,n={}){super(e,t,n),this.isWebGLMultipleRenderTargets=!0;let i=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=i.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let n=0,i=this.texture.length;n<i;n++)this.texture[n].image.width=e,this.texture[n].image.height=t,this.texture[n].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}},Rt=class{constructor(e=0,t=0,r=0,n=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=n}static slerpFlat(e,t,r,n,i,o,l){let c=r[n+0],a=r[n+1],s=r[n+2],u=r[n+3],d=i[o+0],h=i[o+1],f=i[o+2],m=i[o+3];if(l===0){e[t+0]=c,e[t+1]=a,e[t+2]=s,e[t+3]=u;return}if(l===1){e[t+0]=d,e[t+1]=h,e[t+2]=f,e[t+3]=m;return}if(u!==m||c!==d||a!==h||s!==f){let p=1-l,g=c*d+a*h+s*f+u*m,v=g>=0?1:-1,x=1-g*g;if(x>Number.EPSILON){let b=Math.sqrt(x),w=Math.atan2(b,g*v);p=Math.sin(p*w)/b,l=Math.sin(l*w)/b}let y=l*v;if(c=c*p+d*y,a=a*p+h*y,s=s*p+f*y,u=u*p+m*y,p===1-l){let b=1/Math.sqrt(c*c+a*a+s*s+u*u);c*=b,a*=b,s*=b,u*=b}}e[t]=c,e[t+1]=a,e[t+2]=s,e[t+3]=u}static multiplyQuaternionsFlat(e,t,r,n,i,o){let l=r[n],c=r[n+1],a=r[n+2],s=r[n+3],u=i[o],d=i[o+1],h=i[o+2],f=i[o+3];return e[t]=l*f+s*u+c*h-a*d,e[t+1]=c*f+s*d+a*u-l*h,e[t+2]=a*f+s*h+l*d-c*u,e[t+3]=s*f-l*u-c*d-a*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){let r=e._x,n=e._y,i=e._z,o=e._order,l=Math.cos,c=Math.sin,a=l(r/2),s=l(n/2),u=l(i/2),d=c(r/2),h=c(n/2),f=c(i/2);switch(o){case"XYZ":this._x=d*s*u+a*h*f,this._y=a*h*u-d*s*f,this._z=a*s*f+d*h*u,this._w=a*s*u-d*h*f;break;case"YXZ":this._x=d*s*u+a*h*f,this._y=a*h*u-d*s*f,this._z=a*s*f-d*h*u,this._w=a*s*u+d*h*f;break;case"ZXY":this._x=d*s*u-a*h*f,this._y=a*h*u+d*s*f,this._z=a*s*f+d*h*u,this._w=a*s*u-d*h*f;break;case"ZYX":this._x=d*s*u-a*h*f,this._y=a*h*u+d*s*f,this._z=a*s*f-d*h*u,this._w=a*s*u+d*h*f;break;case"YZX":this._x=d*s*u+a*h*f,this._y=a*h*u+d*s*f,this._z=a*s*f-d*h*u,this._w=a*s*u-d*h*f;break;case"XZY":this._x=d*s*u-a*h*f,this._y=a*h*u-d*s*f,this._z=a*s*f+d*h*u,this._w=a*s*u+d*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,r=t[0],n=t[4],i=t[8],o=t[1],l=t[5],c=t[9],a=t[2],s=t[6],u=t[10],d=r+l+u;if(d>0){let h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(s-c)*h,this._y=(i-a)*h,this._z=(o-n)*h}else if(r>l&&r>u){let h=2*Math.sqrt(1+r-l-u);this._w=(s-c)/h,this._x=.25*h,this._y=(n+o)/h,this._z=(i+a)/h}else if(l>u){let h=2*Math.sqrt(1+l-r-u);this._w=(i-a)/h,this._x=(n+o)/h,this._y=.25*h,this._z=(c+s)/h}else{let h=2*Math.sqrt(1+u-r-l);this._w=(o-n)/h,this._x=(i+a)/h,this._y=(c+s)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Xn(this.dot(e),-1,1)))}rotateTowards(e,t){let r=this.angleTo(e);if(r===0)return this;let n=Math.min(1,t/r);return this.slerp(e,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let r=e._x,n=e._y,i=e._z,o=e._w,l=t._x,c=t._y,a=t._z,s=t._w;return this._x=r*s+o*l+n*a-i*c,this._y=n*s+o*c+i*l-r*a,this._z=i*s+o*a+r*c-n*l,this._w=o*s-r*l-n*c-i*a,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);let r=this._x,n=this._y,i=this._z,o=this._w,l=o*e._w+r*e._x+n*e._y+i*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;let c=1-l*l;if(c<=Number.EPSILON){let h=1-t;return this._w=h*o+t*this._w,this._x=h*r+t*this._x,this._y=h*n+t*this._y,this._z=h*i+t*this._z,this.normalize(),this._onChangeCallback(),this}let a=Math.sqrt(c),s=Math.atan2(a,l),u=Math.sin((1-t)*s)/a,d=Math.sin(t*s)/a;return this._w=o*u+this._w*d,this._x=r*u+this._x*d,this._y=n*u+this._y*d,this._z=i*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){let e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),n=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(n),r*Math.sin(i),r*Math.cos(i),t*Math.sin(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},V=class{constructor(t=0,r=0,n=0){V.prototype.isVector3=!0,this.x=t,this.y=r,this.z=n}set(t,r,n){return n===void 0&&(n=this.z),this.x=t,this.y=r,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,r){return this.x=t.x*r.x,this.y=t.y*r.y,this.z=t.z*r.z,this}applyEuler(t){return this.applyQuaternion(Oz.setFromEuler(t))}applyAxisAngle(t,r){return this.applyQuaternion(Oz.setFromAxisAngle(t,r))}applyMatrix3(t){let r=this.x,n=this.y,i=this.z,o=t.elements;return this.x=o[0]*r+o[3]*n+o[6]*i,this.y=o[1]*r+o[4]*n+o[7]*i,this.z=o[2]*r+o[5]*n+o[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){let r=this.x,n=this.y,i=this.z,o=t.elements,l=1/(o[3]*r+o[7]*n+o[11]*i+o[15]);return this.x=(o[0]*r+o[4]*n+o[8]*i+o[12])*l,this.y=(o[1]*r+o[5]*n+o[9]*i+o[13])*l,this.z=(o[2]*r+o[6]*n+o[10]*i+o[14])*l,this}applyQuaternion(t){let r=this.x,n=this.y,i=this.z,o=t.x,l=t.y,c=t.z,a=t.w,s=a*r+l*i-c*n,u=a*n+c*r-o*i,d=a*i+o*n-l*r,h=-o*r-l*n-c*i;return this.x=s*a+h*-o+u*-c-d*-l,this.y=u*a+h*-l+d*-o-s*-c,this.z=d*a+h*-c+s*-l-u*-o,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){let r=this.x,n=this.y,i=this.z,o=t.elements;return this.x=o[0]*r+o[4]*n+o[8]*i,this.y=o[1]*r+o[5]*n+o[9]*i,this.z=o[2]*r+o[6]*n+o[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this.z=Math.max(t,Math.min(r,this.z)),this}clampLength(t,r){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(r,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this}lerpVectors(t,r,n){return this.x=t.x+(r.x-t.x)*n,this.y=t.y+(r.y-t.y)*n,this.z=t.z+(r.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,r){let n=t.x,i=t.y,o=t.z,l=r.x,c=r.y,a=r.z;return this.x=i*a-o*c,this.y=o*l-n*a,this.z=n*c-i*l,this}projectOnVector(t){let r=t.lengthSq();if(r===0)return this.set(0,0,0);let n=t.dot(this)/r;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return JA.copy(this).projectOnVector(t),this.sub(JA)}reflect(t){return this.sub(JA.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){let r=Math.sqrt(this.lengthSq()*t.lengthSq());if(r===0)return Math.PI/2;let n=this.dot(t)/r;return Math.acos(Xn(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let r=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return r*r+n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,r,n){let i=Math.sin(r)*t;return this.x=i*Math.sin(n),this.y=Math.cos(r)*t,this.z=i*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,r,n){return this.x=t*Math.sin(r),this.y=n,this.z=t*Math.cos(r),this}setFromMatrixPosition(t){let r=t.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(t){let r=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=r,this.y=n,this.z=i,this}setFromMatrixColumn(t,r){return this.fromArray(t.elements,r*4)}setFromMatrix3Column(t,r){return this.fromArray(t.elements,r*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this.z=t[r+2],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t}fromBufferAttribute(t,r){return this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let t=(Math.random()-.5)*2,r=Math.random()*Math.PI*2,n=Math.sqrt(1-t**2);return this.x=n*Math.cos(r),this.y=n*Math.sin(r),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},JA=new V,Oz=new Rt,Rn=class{constructor(e=new V(1/0,1/0,1/0),t=new V(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,l=-1/0;for(let c=0,a=e.length;c<a;c+=3){let s=e[c],u=e[c+1],d=e[c+2];s<t&&(t=s),u<r&&(r=u),d<n&&(n=d),s>i&&(i=s),u>o&&(o=u),d>l&&(l=d)}return this.min.set(t,r,n),this.max.set(i,o,l),this}setFromBufferAttribute(e){let t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,l=-1/0;for(let c=0,a=e.count;c<a;c++){let s=e.getX(c),u=e.getY(c),d=e.getZ(c);s<t&&(t=s),u<r&&(r=u),d<n&&(n=d),s>i&&(i=s),u>o&&(o=u),d>l&&(l=d)}return this.min.set(t,r,n),this.max.set(i,o,l),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=oh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){let i=r.attributes.position;for(let o=0,l=i.count;o<l;o++)oh.fromBufferAttribute(i,o).applyMatrix4(e.matrixWorld),this.expandByPoint(oh)}else r.boundingBox===null&&r.computeBoundingBox(),ZA.copy(r.boundingBox),ZA.applyMatrix4(e.matrixWorld),this.union(ZA);let n=e.children;for(let i=0,o=n.length;i<o;i++)this.expandByObject(n[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,oh),oh.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(B0),Ub.subVectors(this.max,B0),Zf.subVectors(e.a,B0),ep.subVectors(e.b,B0),tp.subVectors(e.c,B0),Du.subVectors(ep,Zf),ju.subVectors(tp,ep),ah.subVectors(Zf,tp);let t=[0,-Du.z,Du.y,0,-ju.z,ju.y,0,-ah.z,ah.y,Du.z,0,-Du.x,ju.z,0,-ju.x,ah.z,0,-ah.x,-Du.y,Du.x,0,-ju.y,ju.x,0,-ah.y,ah.x,0];return!eC(t,Zf,ep,tp,Ub)||(t=[1,0,0,0,1,0,0,0,1],!eC(t,Zf,ep,tp,Ub))?!1:(Vb.crossVectors(Du,ju),t=[Vb.x,Vb.y,Vb.z],eC(t,Zf,ep,tp,Ub))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return oh.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(oh).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(mc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),mc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),mc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),mc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),mc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),mc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),mc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),mc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(mc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},mc=[new V,new V,new V,new V,new V,new V,new V,new V],oh=new V,ZA=new Rn,Zf=new V,ep=new V,tp=new V,Du=new V,ju=new V,ah=new V,B0=new V,Ub=new V,Vb=new V,sh=new V;function eC(e,t,r,n,i){for(let o=0,l=e.length-3;o<=l;o+=3){sh.fromArray(e,o);let c=i.x*Math.abs(sh.x)+i.y*Math.abs(sh.y)+i.z*Math.abs(sh.z),a=t.dot(sh),s=r.dot(sh),u=n.dot(sh);if(Math.max(-Math.max(a,s,u),Math.min(a,s,u))>c)return!1}return!0}var Hwe=new Rn,F0=new V,tC=new V,Zo=class{constructor(e=new V,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let r=this.center;t!==void 0?r.copy(t):Hwe.setFromPoints(e).getCenter(r);let n=0;for(let i=0,o=e.length;i<o;i++)n=Math.max(n,r.distanceToSquared(e[i]));return this.radius=Math.sqrt(n),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;F0.subVectors(e,this.center);let t=F0.lengthSq();if(t>this.radius*this.radius){let r=Math.sqrt(t),n=(r-this.radius)*.5;this.center.addScaledVector(F0,n/r),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(tC.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(F0.copy(e.center).add(tC)),this.expandByPoint(F0.copy(e.center).sub(tC))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}},gc=new V,rC=new V,Hb=new V,Iu=new V,nC=new V,Wb=new V,iC=new V,Kg=class{constructor(e=new V,t=new V(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,gc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=gc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(gc.copy(this.direction).multiplyScalar(t).add(this.origin),gc.distanceToSquared(e))}distanceSqToSegment(e,t,r,n){rC.copy(e).add(t).multiplyScalar(.5),Hb.copy(t).sub(e).normalize(),Iu.copy(this.origin).sub(rC);let i=e.distanceTo(t)*.5,o=-this.direction.dot(Hb),l=Iu.dot(this.direction),c=-Iu.dot(Hb),a=Iu.lengthSq(),s=Math.abs(1-o*o),u,d,h,f;if(s>0)if(u=o*c-l,d=o*l-c,f=i*s,u>=0)if(d>=-f)if(d<=f){let m=1/s;u*=m,d*=m,h=u*(u+o*d+2*l)+d*(o*u+d+2*c)+a}else d=i,u=Math.max(0,-(o*d+l)),h=-u*u+d*(d+2*c)+a;else d=-i,u=Math.max(0,-(o*d+l)),h=-u*u+d*(d+2*c)+a;else d<=-f?(u=Math.max(0,-(-o*i+l)),d=u>0?-i:Math.min(Math.max(-i,-c),i),h=-u*u+d*(d+2*c)+a):d<=f?(u=0,d=Math.min(Math.max(-i,-c),i),h=d*(d+2*c)+a):(u=Math.max(0,-(o*i+l)),d=u>0?i:Math.min(Math.max(-i,-c),i),h=-u*u+d*(d+2*c)+a);else d=o>0?-i:i,u=Math.max(0,-(o*d+l)),h=-u*u+d*(d+2*c)+a;return r&&r.copy(this.direction).multiplyScalar(u).add(this.origin),n&&n.copy(Hb).multiplyScalar(d).add(rC),h}intersectSphere(e,t){gc.subVectors(e.center,this.origin);let r=gc.dot(this.direction),n=gc.dot(gc)-r*r,i=e.radius*e.radius;if(n>i)return null;let o=Math.sqrt(i-n),l=r-o,c=r+o;return l<0&&c<0?null:l<0?this.at(c,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){let r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,n,i,o,l,c,a=1/this.direction.x,s=1/this.direction.y,u=1/this.direction.z,d=this.origin;return a>=0?(r=(e.min.x-d.x)*a,n=(e.max.x-d.x)*a):(r=(e.max.x-d.x)*a,n=(e.min.x-d.x)*a),s>=0?(i=(e.min.y-d.y)*s,o=(e.max.y-d.y)*s):(i=(e.max.y-d.y)*s,o=(e.min.y-d.y)*s),r>o||i>n||((i>r||isNaN(r))&&(r=i),(o<n||isNaN(n))&&(n=o),u>=0?(l=(e.min.z-d.z)*u,c=(e.max.z-d.z)*u):(l=(e.max.z-d.z)*u,c=(e.min.z-d.z)*u),r>c||l>n)||((l>r||r!==r)&&(r=l),(c<n||n!==n)&&(n=c),n<0)?null:this.at(r>=0?r:n,t)}intersectsBox(e){return this.intersectBox(e,gc)!==null}intersectTriangle(e,t,r,n,i){nC.subVectors(t,e),Wb.subVectors(r,e),iC.crossVectors(nC,Wb);let o=this.direction.dot(iC),l;if(o>0){if(n)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Iu.subVectors(this.origin,e);let c=l*this.direction.dot(Wb.crossVectors(Iu,Wb));if(c<0)return null;let a=l*this.direction.dot(nC.cross(Iu));if(a<0||c+a>o)return null;let s=-l*Iu.dot(iC);return s<0?null:this.at(s/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Ne=class{constructor(){Ne.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,n,i,o,l,c,a,s,u,d,h,f,m,p){let g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=n,g[1]=i,g[5]=o,g[9]=l,g[13]=c,g[2]=a,g[6]=s,g[10]=u,g[14]=d,g[3]=h,g[7]=f,g[11]=m,g[15]=p,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ne().fromArray(this.elements)}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){let t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,r=e.elements,n=1/rp.setFromMatrixColumn(e,0).length(),i=1/rp.setFromMatrixColumn(e,1).length(),o=1/rp.setFromMatrixColumn(e,2).length();return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=0,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){let t=this.elements,r=e.x,n=e.y,i=e.z,o=Math.cos(r),l=Math.sin(r),c=Math.cos(n),a=Math.sin(n),s=Math.cos(i),u=Math.sin(i);if(e.order==="XYZ"){let d=o*s,h=o*u,f=l*s,m=l*u;t[0]=c*s,t[4]=-c*u,t[8]=a,t[1]=h+f*a,t[5]=d-m*a,t[9]=-l*c,t[2]=m-d*a,t[6]=f+h*a,t[10]=o*c}else if(e.order==="YXZ"){let d=c*s,h=c*u,f=a*s,m=a*u;t[0]=d+m*l,t[4]=f*l-h,t[8]=o*a,t[1]=o*u,t[5]=o*s,t[9]=-l,t[2]=h*l-f,t[6]=m+d*l,t[10]=o*c}else if(e.order==="ZXY"){let d=c*s,h=c*u,f=a*s,m=a*u;t[0]=d-m*l,t[4]=-o*u,t[8]=f+h*l,t[1]=h+f*l,t[5]=o*s,t[9]=m-d*l,t[2]=-o*a,t[6]=l,t[10]=o*c}else if(e.order==="ZYX"){let d=o*s,h=o*u,f=l*s,m=l*u;t[0]=c*s,t[4]=f*a-h,t[8]=d*a+m,t[1]=c*u,t[5]=m*a+d,t[9]=h*a-f,t[2]=-a,t[6]=l*c,t[10]=o*c}else if(e.order==="YZX"){let d=o*c,h=o*a,f=l*c,m=l*a;t[0]=c*s,t[4]=m-d*u,t[8]=f*u+h,t[1]=u,t[5]=o*s,t[9]=-l*s,t[2]=-a*s,t[6]=h*u+f,t[10]=d-m*u}else if(e.order==="XZY"){let d=o*c,h=o*a,f=l*c,m=l*a;t[0]=c*s,t[4]=-u,t[8]=a*s,t[1]=d*u+m,t[5]=o*s,t[9]=h*u-f,t[2]=f*u-h,t[6]=l*s,t[10]=m*u+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Wwe,e,Gwe)}lookAt(e,t,r){let n=this.elements;return ia.subVectors(e,t),ia.lengthSq()===0&&(ia.z=1),ia.normalize(),Ou.crossVectors(r,ia),Ou.lengthSq()===0&&(Math.abs(r.z)===1?ia.x+=1e-4:ia.z+=1e-4,ia.normalize(),Ou.crossVectors(r,ia)),Ou.normalize(),Gb.crossVectors(ia,Ou),n[0]=Ou.x,n[4]=Gb.x,n[8]=ia.x,n[1]=Ou.y,n[5]=Gb.y,n[9]=ia.y,n[2]=Ou.z,n[6]=Gb.z,n[10]=ia.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,n=t.elements,i=this.elements,o=r[0],l=r[4],c=r[8],a=r[12],s=r[1],u=r[5],d=r[9],h=r[13],f=r[2],m=r[6],p=r[10],g=r[14],v=r[3],x=r[7],y=r[11],b=r[15],w=n[0],_=n[4],S=n[8],E=n[12],C=n[1],A=n[5],T=n[9],k=n[13],D=n[2],M=n[6],P=n[10],j=n[14],O=n[3],I=n[7],N=n[11],L=n[15];return i[0]=o*w+l*C+c*D+a*O,i[4]=o*_+l*A+c*M+a*I,i[8]=o*S+l*T+c*P+a*N,i[12]=o*E+l*k+c*j+a*L,i[1]=s*w+u*C+d*D+h*O,i[5]=s*_+u*A+d*M+h*I,i[9]=s*S+u*T+d*P+h*N,i[13]=s*E+u*k+d*j+h*L,i[2]=f*w+m*C+p*D+g*O,i[6]=f*_+m*A+p*M+g*I,i[10]=f*S+m*T+p*P+g*N,i[14]=f*E+m*k+p*j+g*L,i[3]=v*w+x*C+y*D+b*O,i[7]=v*_+x*A+y*M+b*I,i[11]=v*S+x*T+y*P+b*N,i[15]=v*E+x*k+y*j+b*L,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[4],n=e[8],i=e[12],o=e[1],l=e[5],c=e[9],a=e[13],s=e[2],u=e[6],d=e[10],h=e[14],f=e[3],m=e[7],p=e[11],g=e[15];return f*(+i*c*u-n*a*u-i*l*d+r*a*d+n*l*h-r*c*h)+m*(+t*c*h-t*a*d+i*o*d-n*o*h+n*a*s-i*c*s)+p*(+t*a*u-t*l*h-i*o*u+r*o*h+i*l*s-r*a*s)+g*(-n*l*s-t*c*u+t*l*d+n*o*u-r*o*d+r*c*s)}transpose(){let e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){let n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=r),this}invert(){let e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],l=e[5],c=e[6],a=e[7],s=e[8],u=e[9],d=e[10],h=e[11],f=e[12],m=e[13],p=e[14],g=e[15],v=u*p*a-m*d*a+m*c*h-l*p*h-u*c*g+l*d*g,x=f*d*a-s*p*a-f*c*h+o*p*h+s*c*g-o*d*g,y=s*m*a-f*u*a+f*l*h-o*m*h-s*l*g+o*u*g,b=f*u*c-s*m*c-f*l*d+o*m*d+s*l*p-o*u*p,w=t*v+r*x+n*y+i*b;if(w===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let _=1/w;return e[0]=v*_,e[1]=(m*d*i-u*p*i-m*n*h+r*p*h+u*n*g-r*d*g)*_,e[2]=(l*p*i-m*c*i+m*n*a-r*p*a-l*n*g+r*c*g)*_,e[3]=(u*c*i-l*d*i-u*n*a+r*d*a+l*n*h-r*c*h)*_,e[4]=x*_,e[5]=(s*p*i-f*d*i+f*n*h-t*p*h-s*n*g+t*d*g)*_,e[6]=(f*c*i-o*p*i-f*n*a+t*p*a+o*n*g-t*c*g)*_,e[7]=(o*d*i-s*c*i+s*n*a-t*d*a-o*n*h+t*c*h)*_,e[8]=y*_,e[9]=(f*u*i-s*m*i-f*r*h+t*m*h+s*r*g-t*u*g)*_,e[10]=(o*m*i-f*l*i+f*r*a-t*m*a-o*r*g+t*l*g)*_,e[11]=(s*l*i-o*u*i-s*r*a+t*u*a+o*r*h-t*l*h)*_,e[12]=b*_,e[13]=(s*m*n-f*u*n+f*r*d-t*m*d-s*r*p+t*u*p)*_,e[14]=(f*l*n-o*m*n-f*r*c+t*m*c+o*r*p-t*l*p)*_,e[15]=(o*u*n-s*l*n+s*r*c-t*u*c-o*r*d+t*l*d)*_,this}scale(e){let t=this.elements,r=e.x,n=e.y,i=e.z;return t[0]*=r,t[4]*=n,t[8]*=i,t[1]*=r,t[5]*=n,t[9]*=i,t[2]*=r,t[6]*=n,t[10]*=i,t[3]*=r,t[7]*=n,t[11]*=i,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,n))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let r=Math.cos(t),n=Math.sin(t),i=1-r,o=e.x,l=e.y,c=e.z,a=i*o,s=i*l;return this.set(a*o+r,a*l-n*c,a*c+n*l,0,a*l+n*c,s*l+r,s*c-n*o,0,a*c-n*l,s*c+n*o,i*c*c+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,n,i,o){return this.set(1,r,i,0,e,1,o,0,t,n,1,0,0,0,0,1),this}compose(e,t,r){let n=this.elements,i=t._x,o=t._y,l=t._z,c=t._w,a=i+i,s=o+o,u=l+l,d=i*a,h=i*s,f=i*u,m=o*s,p=o*u,g=l*u,v=c*a,x=c*s,y=c*u,b=r.x,w=r.y,_=r.z;return n[0]=(1-(m+g))*b,n[1]=(h+y)*b,n[2]=(f-x)*b,n[3]=0,n[4]=(h-y)*w,n[5]=(1-(d+g))*w,n[6]=(p+v)*w,n[7]=0,n[8]=(f+x)*_,n[9]=(p-v)*_,n[10]=(1-(d+m))*_,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this}decompose(e,t,r){let n=this.elements,i=rp.set(n[0],n[1],n[2]).length(),o=rp.set(n[4],n[5],n[6]).length(),l=rp.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),e.x=n[12],e.y=n[13],e.z=n[14],Ms.copy(this);let c=1/i,a=1/o,s=1/l;return Ms.elements[0]*=c,Ms.elements[1]*=c,Ms.elements[2]*=c,Ms.elements[4]*=a,Ms.elements[5]*=a,Ms.elements[6]*=a,Ms.elements[8]*=s,Ms.elements[9]*=s,Ms.elements[10]*=s,t.setFromRotationMatrix(Ms),r.x=i,r.y=o,r.z=l,this}makePerspective(e,t,r,n,i,o){let l=this.elements,c=2*i/(t-e),a=2*i/(r-n),s=(t+e)/(t-e),u=(r+n)/(r-n),d=-(o+i)/(o-i),h=-2*o*i/(o-i);return l[0]=c,l[4]=0,l[8]=s,l[12]=0,l[1]=0,l[5]=a,l[9]=u,l[13]=0,l[2]=0,l[6]=0,l[10]=d,l[14]=h,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,n,i,o){let l=this.elements,c=1/(t-e),a=1/(r-n),s=1/(o-i),u=(t+e)*c,d=(r+n)*a,h=(o+i)*s;return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-u,l[1]=0,l[5]=2*a,l[9]=0,l[13]=-d,l[2]=0,l[6]=0,l[10]=-2*s,l[14]=-h,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){let t=this.elements,r=e.elements;for(let n=0;n<16;n++)if(t[n]!==r[n])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}},rp=new V,Ms=new Ne,Wwe=new V(0,0,0),Gwe=new V(1,1,1),Ou=new V,Gb=new V,ia=new V,Rz=new Ne,Lz=new Rt,yi=class{constructor(e=0,t=0,r=0,n=yi.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=n}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,n=this._order){return this._x=e,this._y=t,this._z=r,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){let n=e.elements,i=n[0],o=n[4],l=n[8],c=n[1],a=n[5],s=n[9],u=n[2],d=n[6],h=n[10];switch(t){case"XYZ":this._y=Math.asin(Xn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-s,h),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(d,a),this._z=0);break;case"YXZ":this._x=Math.asin(-Xn(s,-1,1)),Math.abs(s)<.9999999?(this._y=Math.atan2(l,h),this._z=Math.atan2(c,a)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(Xn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-o,a)):(this._y=0,this._z=Math.atan2(c,i));break;case"ZYX":this._y=Math.asin(-Xn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(c,i)):(this._x=0,this._z=Math.atan2(-o,a));break;case"YZX":this._z=Math.asin(Xn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-s,a),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(l,h));break;case"XZY":this._z=Math.asin(-Xn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,a),this._y=Math.atan2(l,i)):(this._x=Math.atan2(-s,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return Rz.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Rz,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Lz.setFromEuler(this),this.setFromQuaternion(Lz,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};yi.DEFAULT_ORDER="XYZ";var wj=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},qwe=0,zz=new V,np=new Rt,vc=new Ne,qb=new V,U0=new V,Ywe=new V,Xwe=new Rt,Nz=new V(1,0,0),Bz=new V(0,1,0),Fz=new V(0,0,1),$we={type:"added"},Uz={type:"removed"},Tr=class extends Ri{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:qwe++}),this.uuid=as(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Tr.DEFAULT_UP.clone();let e=new V,t=new yi,r=new Rt,n=new V(1,1,1);function i(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(i),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new Ne},normalMatrix:{value:new In}}),this.matrix=new Ne,this.matrixWorld=new Ne,this.matrixAutoUpdate=Tr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new wj,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return np.setFromAxisAngle(e,t),this.quaternion.multiply(np),this}rotateOnWorldAxis(e,t){return np.setFromAxisAngle(e,t),this.quaternion.premultiply(np),this}rotateX(e){return this.rotateOnAxis(Nz,e)}rotateY(e){return this.rotateOnAxis(Bz,e)}rotateZ(e){return this.rotateOnAxis(Fz,e)}translateOnAxis(e,t){return zz.copy(e).applyQuaternion(this.quaternion),this.position.add(zz.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Nz,e)}translateY(e){return this.translateOnAxis(Bz,e)}translateZ(e){return this.translateOnAxis(Fz,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(vc.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?qb.copy(e):qb.set(e,t,r);let n=this.parent;this.updateWorldMatrix(!0,!1),U0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?vc.lookAt(U0,qb,this.up):vc.lookAt(qb,U0,this.up),this.quaternion.setFromRotationMatrix(vc),n&&(vc.extractRotation(n.matrixWorld),np.setFromRotationMatrix(vc),this.quaternion.premultiply(np.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent($we)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Uz)),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(Uz)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),vc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),vc.multiply(e.parent.matrixWorld)),e.applyMatrix4(vc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,n=this.children.length;r<n;r++){let i=this.children[r].getObjectByProperty(e,t);if(i!==void 0)return i}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let n=0,i=this.children.length;n<i;n++){let o=this.children[n].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(U0,e,Ywe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(U0,Xwe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let r=0,n=t.length;r<n;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let r=0,n=t.length;r<n;r++)t[r].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let r=0,n=t.length;r<n;r++){let i=t[r];(i.matrixWorldAutoUpdate===!0||e===!0)&&i.updateMatrixWorld(e)}}updateWorldMatrix(e,t){let r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){let n=this.children;for(let i=0,o=n.length;i<o;i++){let l=n[i];l.matrixWorldAutoUpdate===!0&&l.updateWorldMatrix(!1,!0)}}}toJSON(e){let t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let n={};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(n.instanceColor=this.instanceColor.toJSON()));function i(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(n.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=i(e.geometries,this.geometry);let l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){let c=l.shapes;if(Array.isArray(c))for(let a=0,s=c.length;a<s;a++){let u=c[a];i(e.shapes,u)}else i(e.shapes,c)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(e.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let l=[];for(let c=0,a=this.material.length;c<a;c++)l.push(i(e.materials,this.material[c]));n.material=l}else n.material=i(e.materials,this.material);if(this.children.length>0){n.children=[];for(let l=0;l<this.children.length;l++)n.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){n.animations=[];for(let l=0;l<this.animations.length;l++){let c=this.animations[l];n.animations.push(i(e.animations,c))}}if(t){let l=o(e.geometries),c=o(e.materials),a=o(e.textures),s=o(e.images),u=o(e.shapes),d=o(e.skeletons),h=o(e.animations),f=o(e.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),a.length>0&&(r.textures=a),s.length>0&&(r.images=s),u.length>0&&(r.shapes=u),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),f.length>0&&(r.nodes=f)}return r.object=n,r;function o(l){let c=[];for(let a in l){let s=l[a];delete s.metadata,c.push(s)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){let n=e.children[r];this.add(n.clone())}return this}};Tr.DEFAULT_UP=new V(0,1,0);Tr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Ts=new V,yc=new V,oC=new V,bc=new V,ip=new V,op=new V,Vz=new V,aC=new V,sC=new V,lC=new V,Gi=class{constructor(e=new V,t=new V,r=new V){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,n){n.subVectors(r,t),Ts.subVectors(e,t),n.cross(Ts);let i=n.lengthSq();return i>0?n.multiplyScalar(1/Math.sqrt(i)):n.set(0,0,0)}static getBarycoord(e,t,r,n,i){Ts.subVectors(n,t),yc.subVectors(r,t),oC.subVectors(e,t);let o=Ts.dot(Ts),l=Ts.dot(yc),c=Ts.dot(oC),a=yc.dot(yc),s=yc.dot(oC),u=o*a-l*l;if(u===0)return i.set(-2,-1,-1);let d=1/u,h=(a*c-l*s)*d,f=(o*s-l*c)*d;return i.set(1-h-f,f,h)}static containsPoint(e,t,r,n){return this.getBarycoord(e,t,r,n,bc),bc.x>=0&&bc.y>=0&&bc.x+bc.y<=1}static getUV(e,t,r,n,i,o,l,c){return this.getBarycoord(e,t,r,n,bc),c.set(0,0),c.addScaledVector(i,bc.x),c.addScaledVector(o,bc.y),c.addScaledVector(l,bc.z),c}static isFrontFacing(e,t,r,n){return Ts.subVectors(r,t),yc.subVectors(e,t),Ts.cross(yc).dot(n)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this}setFromAttributeAndIndices(e,t,r,n){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ts.subVectors(this.c,this.b),yc.subVectors(this.a,this.b),Ts.cross(yc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Gi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Gi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,n,i){return Gi.getUV(e,this.a,this.b,this.c,t,r,n,i)}containsPoint(e){return Gi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Gi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let r=this.a,n=this.b,i=this.c,o,l;ip.subVectors(n,r),op.subVectors(i,r),aC.subVectors(e,r);let c=ip.dot(aC),a=op.dot(aC);if(c<=0&&a<=0)return t.copy(r);sC.subVectors(e,n);let s=ip.dot(sC),u=op.dot(sC);if(s>=0&&u<=s)return t.copy(n);let d=c*u-s*a;if(d<=0&&c>=0&&s<=0)return o=c/(c-s),t.copy(r).addScaledVector(ip,o);lC.subVectors(e,i);let h=ip.dot(lC),f=op.dot(lC);if(f>=0&&h<=f)return t.copy(i);let m=h*a-c*f;if(m<=0&&a>=0&&f<=0)return l=a/(a-f),t.copy(r).addScaledVector(op,l);let p=s*f-h*u;if(p<=0&&u-s>=0&&h-f>=0)return Vz.subVectors(i,n),l=(u-s)/(u-s+(h-f)),t.copy(n).addScaledVector(Vz,l);let g=1/(p+m+d);return o=m*g,l=d*g,t.copy(r).addScaledVector(ip,o).addScaledVector(op,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},Kwe=0,G1=class extends Ri{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Kwe++}),this.uuid=as(),this.name="",this.type="Material",this.blending=Qh,this.side=rl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=_X,this.blendDst=SX,this.blendEquation=zp,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=F4,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Ewe,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=YA,this.stencilZFail=YA,this.stencilZPass=YA,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}let n=this[t];if(n===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Qh&&(r.blending=this.blending),this.side!==rl&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function n(i){let o=[];for(let l in i){let c=i[l];delete c.metadata,o.push(c)}return o}if(t){let i=n(e.textures),o=n(e.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,r=null;if(t!==null){let n=t.length;r=new Array(n);for(let i=0;i!==n;++i)r[i]=t[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}},q1=class extends G1{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new wt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=EX,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},Bn=new V,Yb=new oe,kt=class{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=W4,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let n=0,i=this.itemSize;n<i;n++)this.array[e+n]=t.array[r+n];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Yb.fromBufferAttribute(this,t),Yb.applyMatrix3(e),this.setXY(t,Yb.x,Yb.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Bn.fromBufferAttribute(this,t),Bn.applyMatrix3(e),this.setXYZ(t,Bn.x,Bn.y,Bn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Bn.fromBufferAttribute(this,t),Bn.applyMatrix4(e),this.setXYZ(t,Bn.x,Bn.y,Bn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Bn.fromBufferAttribute(this,t),Bn.applyNormalMatrix(e),this.setXYZ(t,Bn.x,Bn.y,Bn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Bn.fromBufferAttribute(this,t),Bn.transformDirection(e),this.setXYZ(t,Bn.x,Bn.y,Bn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Qc(t,this.array)),t}setX(e,t){return this.normalized&&(t=zr(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Qc(t,this.array)),t}setY(e,t){return this.normalized&&(t=zr(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Qc(t,this.array)),t}setZ(e,t){return this.normalized&&(t=zr(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Qc(t,this.array)),t}setW(e,t){return this.normalized&&(t=zr(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=zr(t,this.array),r=zr(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,n){return e*=this.itemSize,this.normalized&&(t=zr(t,this.array),r=zr(r,this.array),n=zr(n,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this}setXYZW(e,t,r,n,i){return e*=this.itemSize,this.normalized&&(t=zr(t,this.array),r=zr(r,this.array),n=zr(n,this.array),i=zr(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==W4&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}},zX=class extends kt{constructor(e,t,r){super(new Uint16Array(e),t,r)}},jm=class extends kt{constructor(e,t,r){super(new Uint32Array(e),t,r)}},it=class extends kt{constructor(e,t,r){super(new Float32Array(e),t,r)}},Qwe=0,La=new Ne,cC=new Tr,ap=new V,oa=new Rn,V0=new Rn,fi=new V,vt=class extends Ri{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Qwe++}),this.uuid=as(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(jX(e)?jm:zX)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let r=this.attributes.normal;if(r!==void 0){let i=new In().getNormalMatrix(e);r.applyNormalMatrix(i),r.needsUpdate=!0}let n=this.attributes.tangent;return n!==void 0&&(n.transformDirection(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return La.makeRotationFromQuaternion(e),this.applyMatrix4(La),this}rotateX(e){return La.makeRotationX(e),this.applyMatrix4(La),this}rotateY(e){return La.makeRotationY(e),this.applyMatrix4(La),this}rotateZ(e){return La.makeRotationZ(e),this.applyMatrix4(La),this}translate(e,t,r){return La.makeTranslation(e,t,r),this.applyMatrix4(La),this}scale(e,t,r){return La.makeScale(e,t,r),this.applyMatrix4(La),this}lookAt(e){return cC.lookAt(e),cC.updateMatrix(),this.applyMatrix4(cC.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ap).negate(),this.translate(ap.x,ap.y,ap.z),this}setFromPoints(e){let t=[];for(let r=0,n=e.length;r<n;r++){let i=e[r];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new it(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Rn);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new V(-1/0,-1/0,-1/0),new V(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,n=t.length;r<n;r++){let i=t[r];oa.setFromBufferAttribute(i),this.morphTargetsRelative?(fi.addVectors(this.boundingBox.min,oa.min),this.boundingBox.expandByPoint(fi),fi.addVectors(this.boundingBox.max,oa.max),this.boundingBox.expandByPoint(fi)):(this.boundingBox.expandByPoint(oa.min),this.boundingBox.expandByPoint(oa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Zo);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new V,1/0);return}if(e){let r=this.boundingSphere.center;if(oa.setFromBufferAttribute(e),t)for(let i=0,o=t.length;i<o;i++){let l=t[i];V0.setFromBufferAttribute(l),this.morphTargetsRelative?(fi.addVectors(oa.min,V0.min),oa.expandByPoint(fi),fi.addVectors(oa.max,V0.max),oa.expandByPoint(fi)):(oa.expandByPoint(V0.min),oa.expandByPoint(V0.max))}oa.getCenter(r);let n=0;for(let i=0,o=e.count;i<o;i++)fi.fromBufferAttribute(e,i),n=Math.max(n,r.distanceToSquared(fi));if(t)for(let i=0,o=t.length;i<o;i++){let l=t[i],c=this.morphTargetsRelative;for(let a=0,s=l.count;a<s;a++)fi.fromBufferAttribute(l,a),c&&(ap.fromBufferAttribute(e,a),fi.add(ap)),n=Math.max(n,r.distanceToSquared(fi))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let r=e.array,n=t.position.array,i=t.normal.array,o=t.uv.array,l=n.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new kt(new Float32Array(4*l),4));let c=this.getAttribute("tangent").array,a=[],s=[];for(let C=0;C<l;C++)a[C]=new V,s[C]=new V;let u=new V,d=new V,h=new V,f=new oe,m=new oe,p=new oe,g=new V,v=new V;function x(C,A,T){u.fromArray(n,C*3),d.fromArray(n,A*3),h.fromArray(n,T*3),f.fromArray(o,C*2),m.fromArray(o,A*2),p.fromArray(o,T*2),d.sub(u),h.sub(u),m.sub(f),p.sub(f);let k=1/(m.x*p.y-p.x*m.y);!isFinite(k)||(g.copy(d).multiplyScalar(p.y).addScaledVector(h,-m.y).multiplyScalar(k),v.copy(h).multiplyScalar(m.x).addScaledVector(d,-p.x).multiplyScalar(k),a[C].add(g),a[A].add(g),a[T].add(g),s[C].add(v),s[A].add(v),s[T].add(v))}let y=this.groups;y.length===0&&(y=[{start:0,count:r.length}]);for(let C=0,A=y.length;C<A;++C){let T=y[C],k=T.start,D=T.count;for(let M=k,P=k+D;M<P;M+=3)x(r[M+0],r[M+1],r[M+2])}let b=new V,w=new V,_=new V,S=new V;function E(C){_.fromArray(i,C*3),S.copy(_);let A=a[C];b.copy(A),b.sub(_.multiplyScalar(_.dot(A))).normalize(),w.crossVectors(S,A);let T=w.dot(s[C])<0?-1:1;c[C*4]=b.x,c[C*4+1]=b.y,c[C*4+2]=b.z,c[C*4+3]=T}for(let C=0,A=y.length;C<A;++C){let T=y[C],k=T.start,D=T.count;for(let M=k,P=k+D;M<P;M+=3)E(r[M+0]),E(r[M+1]),E(r[M+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new kt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);let n=new V,i=new V,o=new V,l=new V,c=new V,a=new V,s=new V,u=new V;if(e)for(let d=0,h=e.count;d<h;d+=3){let f=e.getX(d+0),m=e.getX(d+1),p=e.getX(d+2);n.fromBufferAttribute(t,f),i.fromBufferAttribute(t,m),o.fromBufferAttribute(t,p),s.subVectors(o,i),u.subVectors(n,i),s.cross(u),l.fromBufferAttribute(r,f),c.fromBufferAttribute(r,m),a.fromBufferAttribute(r,p),l.add(s),c.add(s),a.add(s),r.setXYZ(f,l.x,l.y,l.z),r.setXYZ(m,c.x,c.y,c.z),r.setXYZ(p,a.x,a.y,a.z)}else for(let d=0,h=t.count;d<h;d+=3)n.fromBufferAttribute(t,d+0),i.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),s.subVectors(o,i),u.subVectors(n,i),s.cross(u),r.setXYZ(d+0,s.x,s.y,s.z),r.setXYZ(d+1,s.x,s.y,s.z),r.setXYZ(d+2,s.x,s.y,s.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)fi.fromBufferAttribute(e,t),fi.normalize(),e.setXYZ(t,fi.x,fi.y,fi.z)}toNonIndexed(){function e(l,c){let a=l.array,s=l.itemSize,u=l.normalized,d=new a.constructor(c.length*s),h=0,f=0;for(let m=0,p=c.length;m<p;m++){l.isInterleavedBufferAttribute?h=c[m]*l.data.stride+l.offset:h=c[m]*s;for(let g=0;g<s;g++)d[f++]=a[h++]}return new kt(d,s,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new vt,r=this.index.array,n=this.attributes;for(let l in n){let c=n[l],a=e(c,r);t.setAttribute(l,a)}let i=this.morphAttributes;for(let l in i){let c=[],a=i[l];for(let s=0,u=a.length;s<u;s++){let d=a[s],h=e(d,r);c.push(h)}t.morphAttributes[l]=c}t.morphTargetsRelative=this.morphTargetsRelative;let o=this.groups;for(let l=0,c=o.length;l<c;l++){let a=o[l];t.addGroup(a.start,a.count,a.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let c=this.parameters;for(let a in c)c[a]!==void 0&&(e[a]=c[a]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let r=this.attributes;for(let c in r){let a=r[c];e.data.attributes[c]=a.toJSON(e.data)}let n={},i=!1;for(let c in this.morphAttributes){let a=this.morphAttributes[c],s=[];for(let u=0,d=a.length;u<d;u++){let h=a[u];s.push(h.toJSON(e.data))}s.length>0&&(n[c]=s,i=!0)}i&&(e.data.morphAttributes=n,e.data.morphTargetsRelative=this.morphTargetsRelative);let o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));let l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let r=e.index;r!==null&&this.setIndex(r.clone(t));let n=e.attributes;for(let a in n){let s=n[a];this.setAttribute(a,s.clone(t))}let i=e.morphAttributes;for(let a in i){let s=[],u=i[a];for(let d=0,h=u.length;d<h;d++)s.push(u[d].clone(t));this.morphAttributes[a]=s}this.morphTargetsRelative=e.morphTargetsRelative;let o=e.groups;for(let a=0,s=o.length;a<s;a++){let u=o[a];this.addGroup(u.start,u.count,u.materialIndex)}let l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());let c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}},Hz=new Ne,sp=new Kg,uC=new Zo,H0=new V,W0=new V,G0=new V,dC=new V,Xb=new V,$b=new oe,Kb=new oe,Qb=new oe,hC=new V,Jb=new V,vo=class extends Tr{constructor(t=new vt,r=new q1){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=r,this.updateMorphTargets()}copy(t,r){return super.copy(t,r),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){let t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){let n=t[r[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,o=n.length;i<o;i++){let l=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}getVertexPosition(t,r){let n=this.geometry,i=n.attributes.position,o=n.morphAttributes.position,l=n.morphTargetsRelative;r.fromBufferAttribute(i,t);let c=this.morphTargetInfluences;if(o&&c){Xb.set(0,0,0);for(let a=0,s=o.length;a<s;a++){let u=c[a],d=o[a];u!==0&&(dC.fromBufferAttribute(d,t),l?Xb.addScaledVector(dC,u):Xb.addScaledVector(dC.sub(r),u))}r.add(Xb)}return this.isSkinnedMesh&&this.boneTransform(t,r),r}raycast(t,r){let n=this.geometry,i=this.material,o=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),uC.copy(n.boundingSphere),uC.applyMatrix4(o),t.ray.intersectsSphere(uC)===!1)||(Hz.copy(o).invert(),sp.copy(t.ray).applyMatrix4(Hz),n.boundingBox!==null&&sp.intersectsBox(n.boundingBox)===!1))return;let l,c=n.index,a=n.attributes.position,s=n.attributes.uv,u=n.attributes.uv2,d=n.groups,h=n.drawRange;if(c!==null)if(Array.isArray(i))for(let f=0,m=d.length;f<m;f++){let p=d[f],g=i[p.materialIndex],v=Math.max(p.start,h.start),x=Math.min(c.count,Math.min(p.start+p.count,h.start+h.count));for(let y=v,b=x;y<b;y+=3){let w=c.getX(y),_=c.getX(y+1),S=c.getX(y+2);l=Zb(this,g,t,sp,s,u,w,_,S),l&&(l.faceIndex=Math.floor(y/3),l.face.materialIndex=p.materialIndex,r.push(l))}}else{let f=Math.max(0,h.start),m=Math.min(c.count,h.start+h.count);for(let p=f,g=m;p<g;p+=3){let v=c.getX(p),x=c.getX(p+1),y=c.getX(p+2);l=Zb(this,i,t,sp,s,u,v,x,y),l&&(l.faceIndex=Math.floor(p/3),r.push(l))}}else if(a!==void 0)if(Array.isArray(i))for(let f=0,m=d.length;f<m;f++){let p=d[f],g=i[p.materialIndex],v=Math.max(p.start,h.start),x=Math.min(a.count,Math.min(p.start+p.count,h.start+h.count));for(let y=v,b=x;y<b;y+=3){let w=y,_=y+1,S=y+2;l=Zb(this,g,t,sp,s,u,w,_,S),l&&(l.faceIndex=Math.floor(y/3),l.face.materialIndex=p.materialIndex,r.push(l))}}else{let f=Math.max(0,h.start),m=Math.min(a.count,h.start+h.count);for(let p=f,g=m;p<g;p+=3){let v=p,x=p+1,y=p+2;l=Zb(this,i,t,sp,s,u,v,x,y),l&&(l.faceIndex=Math.floor(p/3),r.push(l))}}}};function Jwe(e,t,r,n,i,o,l,c){let a;if(t.side===bi?a=n.intersectTriangle(l,o,i,!0,c):a=n.intersectTriangle(i,o,l,t.side===rl,c),a===null)return null;Jb.copy(c),Jb.applyMatrix4(e.matrixWorld);let s=r.ray.origin.distanceTo(Jb);return s<r.near||s>r.far?null:{distance:s,point:Jb.clone(),object:e}}function Zb(e,t,r,n,i,o,l,c,a){e.getVertexPosition(l,H0),e.getVertexPosition(c,W0),e.getVertexPosition(a,G0);let s=Jwe(e,t,r,n,H0,W0,G0,hC);if(s){i&&($b.fromBufferAttribute(i,l),Kb.fromBufferAttribute(i,c),Qb.fromBufferAttribute(i,a),s.uv=Gi.getUV(hC,H0,W0,G0,$b,Kb,Qb,new oe)),o&&($b.fromBufferAttribute(o,l),Kb.fromBufferAttribute(o,c),Qb.fromBufferAttribute(o,a),s.uv2=Gi.getUV(hC,H0,W0,G0,$b,Kb,Qb,new oe));let u={a:l,b:c,c:a,normal:new V,materialIndex:0};Gi.getNormal(H0,W0,G0,u.normal),s.face=u}return s}var nc=class extends vt{constructor(e=1,t=1,r=1,n=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:n,heightSegments:i,depthSegments:o};let l=this;n=Math.floor(n),i=Math.floor(i),o=Math.floor(o);let c=[],a=[],s=[],u=[],d=0,h=0;f("z","y","x",-1,-1,r,t,e,o,i,0),f("z","y","x",1,-1,r,t,-e,o,i,1),f("x","z","y",1,1,e,r,t,n,o,2),f("x","z","y",1,-1,e,r,-t,n,o,3),f("x","y","z",1,-1,e,t,r,n,i,4),f("x","y","z",-1,-1,e,t,-r,n,i,5),this.setIndex(c),this.setAttribute("position",new it(a,3)),this.setAttribute("normal",new it(s,3)),this.setAttribute("uv",new it(u,2));function f(m,p,g,v,x,y,b,w,_,S,E){let C=y/_,A=b/S,T=y/2,k=b/2,D=w/2,M=_+1,P=S+1,j=0,O=0,I=new V;for(let N=0;N<P;N++){let L=N*A-k;for(let B=0;B<M;B++){let R=B*C-T;I[m]=R*v,I[p]=L*x,I[g]=D,a.push(I.x,I.y,I.z),I[m]=0,I[p]=0,I[g]=w>0?1:-1,s.push(I.x,I.y,I.z),u.push(B/_),u.push(1-N/S),j+=1}}for(let N=0;N<S;N++)for(let L=0;L<_;L++){let B=d+L+M*N,R=d+L+M*(N+1),z=d+(L+1)+M*(N+1),W=d+(L+1)+M*N;c.push(B,R,W),c.push(R,z,W),O+=6}l.addGroup(h,O,E),h+=O,d+=j}}static fromJSON(e){return new nc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function gg(e){let t={};for(let r in e){t[r]={};for(let n in e[r]){let i=e[r][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[r][n]=i.clone():Array.isArray(i)?t[r][n]=i.slice():t[r][n]=i}}return t}function oo(e){let t={};for(let r=0;r<e.length;r++){let n=gg(e[r]);for(let i in n)t[i]=n[i]}return t}function Zwe(e){let t=[];for(let r=0;r<e.length;r++)t.push(e[r].clone());return t}function NX(e){return e.getRenderTarget()===null&&e.outputEncoding===Ft?Tl:n2}var Qg={clone:gg,merge:oo},e_e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,t_e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,Or=class extends G1{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=e_e,this.fragmentShader=t_e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=gg(e.uniforms),this.uniformsGroups=Zwe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let n in this.uniforms){let i=this.uniforms[n].value;i&&i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let r={};for(let n in this.extensions)this.extensions[n]===!0&&(r[n]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}},Jg=class extends Tr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ne,this.projectionMatrix=new Ne,this.projectionMatrixInverse=new Ne}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},Wi=class extends Jg{constructor(t=50,r=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,r){return super.copy(t,r),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){let r=.5*this.getFilmHeight()/t;this.fov=Zy*2*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){let t=Math.tan(ry*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Zy*2*Math.atan(Math.tan(ry*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,r,n,i,o,l){this.aspect=t/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=r,this.view.offsetX=n,this.view.offsetY=i,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let t=this.near,r=t*Math.tan(ry*.5*this.fov)/this.zoom,n=2*r,i=this.aspect*n,o=-.5*i,l=this.view;if(this.view!==null&&this.view.enabled){let a=l.fullWidth,s=l.fullHeight;o+=l.offsetX*i/a,r-=l.offsetY*n/s,i*=l.width/a,n*=l.height/s}let c=this.filmOffset;c!==0&&(o+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,r,r-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){let r=super.toJSON(t);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}},lp=-90,cp=1,r_e=class extends Tr{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;let n=new Wi(lp,cp,e,t);n.layers=this.layers,n.up.set(0,1,0),n.lookAt(1,0,0),this.add(n);let i=new Wi(lp,cp,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(-1,0,0),this.add(i);let o=new Wi(lp,cp,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);let l=new Wi(lp,cp,e,t);l.layers=this.layers,l.up.set(0,0,1),l.lookAt(0,-1,0),this.add(l);let c=new Wi(lp,cp,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,1),this.add(c);let a=new Wi(lp,cp,e,t);a.layers=this.layers,a.up.set(0,1,0),a.lookAt(0,0,-1),this.add(a)}update(e,t){this.parent===null&&this.updateMatrixWorld();let r=this.renderTarget,[n,i,o,l,c,a]=this.children,s=e.getRenderTarget(),u=e.toneMapping,d=e.xr.enabled;e.toneMapping=nu,e.xr.enabled=!1;let h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,n),e.setRenderTarget(r,1),e.render(t,i),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,l),e.setRenderTarget(r,4),e.render(t,c),r.texture.generateMipmaps=h,e.setRenderTarget(r,5),e.render(t,a),e.setRenderTarget(s),e.toneMapping=u,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}},_j=class extends li{constructor(e,t,r,n,i,o,l,c,a,s){e=e!==void 0?e:[],t=t!==void 0?t:bf,super(e,t,r,n,i,o,l,c,a,s),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},n_e=class extends Cr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let r={width:e,height:e,depth:1},n=[r,r,r,r,r,r];this.texture=new _j(n,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Kt}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},n=new nc(5,5,5),i=new Or({name:"CubemapFromEquirect",uniforms:gg(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:bi,blending:Qn});i.uniforms.tEquirect.value=t;let o=new vo(n,i),l=t.minFilter;return t.minFilter===mg&&(t.minFilter=Kt),new r_e(1,10,this).update(e,o),t.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,n){let i=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,n);e.setRenderTarget(i)}},fC=new V,i_e=new V,o_e=new In,fa=class{constructor(t=new V(1,0,0),r=0){this.isPlane=!0,this.normal=t,this.constant=r}set(t,r){return this.normal.copy(t),this.constant=r,this}setComponents(t,r,n,i){return this.normal.set(t,r,n),this.constant=i,this}setFromNormalAndCoplanarPoint(t,r){return this.normal.copy(t),this.constant=-r.dot(this.normal),this}setFromCoplanarPoints(t,r,n){let i=fC.subVectors(n,r).cross(i_e.subVectors(t,r)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){let t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,r){return r.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,r){let n=t.delta(fC),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(t.start)===0?r.copy(t.start):null;let o=-(t.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:r.copy(n).multiplyScalar(o).add(t.start)}intersectsLine(t){let r=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return r<0&&n>0||n<0&&r>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,r){let n=r||o_e.getNormalMatrix(t),i=this.coplanarPoint(fC).applyMatrix4(t),o=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}},up=new Zo,ex=new V,Sj=class{constructor(e=new fa,t=new fa,r=new fa,n=new fa,i=new fa,o=new fa){this.planes=[e,t,r,n,i,o]}set(e,t,r,n,i,o){let l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(r),l[3].copy(n),l[4].copy(i),l[5].copy(o),this}copy(e){let t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){let t=this.planes,r=e.elements,n=r[0],i=r[1],o=r[2],l=r[3],c=r[4],a=r[5],s=r[6],u=r[7],d=r[8],h=r[9],f=r[10],m=r[11],p=r[12],g=r[13],v=r[14],x=r[15];return t[0].setComponents(l-n,u-c,m-d,x-p).normalize(),t[1].setComponents(l+n,u+c,m+d,x+p).normalize(),t[2].setComponents(l+i,u+a,m+h,x+g).normalize(),t[3].setComponents(l-i,u-a,m-h,x-g).normalize(),t[4].setComponents(l-o,u-s,m-f,x-v).normalize(),t[5].setComponents(l+o,u+s,m+f,x+v).normalize(),this}intersectsObject(e){let t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),up.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(up)}intersectsSprite(e){return up.center.set(0,0,0),up.radius=.7071067811865476,up.applyMatrix4(e.matrixWorld),this.intersectsSphere(up)}intersectsSphere(e){let t=this.planes,r=e.center,n=-e.radius;for(let i=0;i<6;i++)if(t[i].distanceToPoint(r)<n)return!1;return!0}intersectsBox(e){let t=this.planes;for(let r=0;r<6;r++){let n=t[r];if(ex.x=n.normal.x>0?e.max.x:e.min.x,ex.y=n.normal.y>0?e.max.y:e.min.y,ex.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(ex)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function BX(){let e=null,t=!1,r=null,n=null;function i(o,l){r(o,l),n=e.requestAnimationFrame(i)}return{start:function(){t!==!0&&r!==null&&(n=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(o){r=o},setContext:function(o){e=o}}}function a_e(e,t){let r=t.isWebGL2,n=new WeakMap;function i(s,u){let d=s.array,h=s.usage,f=e.createBuffer();e.bindBuffer(u,f),e.bufferData(u,d,h),s.onUploadCallback();let m;if(d instanceof Float32Array)m=5126;else if(d instanceof Uint16Array)if(s.isFloat16BufferAttribute)if(r)m=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=5123;else if(d instanceof Int16Array)m=5122;else if(d instanceof Uint32Array)m=5125;else if(d instanceof Int32Array)m=5124;else if(d instanceof Int8Array)m=5120;else if(d instanceof Uint8Array)m=5121;else if(d instanceof Uint8ClampedArray)m=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:f,type:m,bytesPerElement:d.BYTES_PER_ELEMENT,version:s.version}}function o(s,u,d){let h=u.array,f=u.updateRange;e.bindBuffer(d,s),f.count===-1?e.bufferSubData(d,0,h):(r?e.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h,f.offset,f.count):e.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h.subarray(f.offset,f.offset+f.count)),f.count=-1),u.onUploadCallback()}function l(s){return s.isInterleavedBufferAttribute&&(s=s.data),n.get(s)}function c(s){s.isInterleavedBufferAttribute&&(s=s.data);let u=n.get(s);u&&(e.deleteBuffer(u.buffer),n.delete(s))}function a(s,u){if(s.isGLBufferAttribute){let h=n.get(s);(!h||h.version<s.version)&&n.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}s.isInterleavedBufferAttribute&&(s=s.data);let d=n.get(s);d===void 0?n.set(s,i(s,u)):d.version<s.version&&(o(d.buffer,s,u),d.version=s.version)}return{get:l,remove:c,update:a}}var jE=class extends vt{constructor(e=1,t=1,r=1,n=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n};let i=e/2,o=t/2,l=Math.floor(r),c=Math.floor(n),a=l+1,s=c+1,u=e/l,d=t/c,h=[],f=[],m=[],p=[];for(let g=0;g<s;g++){let v=g*d-o;for(let x=0;x<a;x++){let y=x*u-i;f.push(y,-v,0),m.push(0,0,1),p.push(x/l),p.push(1-g/c)}}for(let g=0;g<c;g++)for(let v=0;v<l;v++){let x=v+a*g,y=v+a*(g+1),b=v+1+a*(g+1),w=v+1+a*g;h.push(x,y,w),h.push(y,b,w)}this.setIndex(h),this.setAttribute("position",new it(f,3)),this.setAttribute("normal",new it(m,3)),this.setAttribute("uv",new it(p,2))}static fromJSON(e){return new jE(e.width,e.height,e.widthSegments,e.heightSegments)}},s_e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,l_e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,c_e=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,u_e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,d_e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,h_e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,f_e="vec3 transformed = vec3( position );",p_e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,m_e=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,g_e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,v_e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,y_e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,b_e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,x_e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,w_e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,__e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,S_e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,E_e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,A_e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,C_e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,M_e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,T_e=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,P_e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,k_e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,D_e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,j_e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,I_e="gl_FragColor = linearToOutputTexel( gl_FragColor );",O_e=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,R_e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,L_e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,z_e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,N_e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,B_e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,F_e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,U_e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,V_e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,H_e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,W_e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,G_e=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,q_e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Y_e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,X_e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,$_e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,K_e=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Q_e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,J_e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Z_e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,e2e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,t2e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,r2e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,n2e=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,i2e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,o2e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,a2e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,s2e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,l2e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,c2e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,u2e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,d2e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,h2e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,f2e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,p2e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,m2e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,g2e=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,v2e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,y2e=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,b2e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,x2e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,w2e=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,_2e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,S2e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,E2e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,A2e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,C2e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,M2e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,T2e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,P2e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,k2e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,D2e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,j2e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,I2e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,O2e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,R2e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,L2e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,z2e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,N2e=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,B2e=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,F2e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,U2e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,V2e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,H2e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,W2e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,G2e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,q2e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Y2e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,X2e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,$2e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,K2e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,Q2e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,J2e=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Z2e=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,eSe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,tSe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,rSe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,nSe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,iSe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,oSe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,aSe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,sSe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,lSe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cSe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,uSe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,dSe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,hSe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,fSe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,pSe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,mSe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,gSe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vSe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ySe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,bSe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,xSe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wSe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_Se=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SSe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,ESe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ASe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,CSe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,MSe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TSe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PSe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,kSe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DSe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jSe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ISe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,OSe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,RSe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,LSe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,zSe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,NSe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Wt={alphamap_fragment:s_e,alphamap_pars_fragment:l_e,alphatest_fragment:c_e,alphatest_pars_fragment:u_e,aomap_fragment:d_e,aomap_pars_fragment:h_e,begin_vertex:f_e,beginnormal_vertex:p_e,bsdfs:m_e,iridescence_fragment:g_e,bumpmap_pars_fragment:v_e,clipping_planes_fragment:y_e,clipping_planes_pars_fragment:b_e,clipping_planes_pars_vertex:x_e,clipping_planes_vertex:w_e,color_fragment:__e,color_pars_fragment:S_e,color_pars_vertex:E_e,color_vertex:A_e,common:C_e,cube_uv_reflection_fragment:M_e,defaultnormal_vertex:T_e,displacementmap_pars_vertex:P_e,displacementmap_vertex:k_e,emissivemap_fragment:D_e,emissivemap_pars_fragment:j_e,encodings_fragment:I_e,encodings_pars_fragment:O_e,envmap_fragment:R_e,envmap_common_pars_fragment:L_e,envmap_pars_fragment:z_e,envmap_pars_vertex:N_e,envmap_physical_pars_fragment:K_e,envmap_vertex:B_e,fog_vertex:F_e,fog_pars_vertex:U_e,fog_fragment:V_e,fog_pars_fragment:H_e,gradientmap_pars_fragment:W_e,lightmap_fragment:G_e,lightmap_pars_fragment:q_e,lights_lambert_fragment:Y_e,lights_lambert_pars_fragment:X_e,lights_pars_begin:$_e,lights_toon_fragment:Q_e,lights_toon_pars_fragment:J_e,lights_phong_fragment:Z_e,lights_phong_pars_fragment:e2e,lights_physical_fragment:t2e,lights_physical_pars_fragment:r2e,lights_fragment_begin:n2e,lights_fragment_maps:i2e,lights_fragment_end:o2e,logdepthbuf_fragment:a2e,logdepthbuf_pars_fragment:s2e,logdepthbuf_pars_vertex:l2e,logdepthbuf_vertex:c2e,map_fragment:u2e,map_pars_fragment:d2e,map_particle_fragment:h2e,map_particle_pars_fragment:f2e,metalnessmap_fragment:p2e,metalnessmap_pars_fragment:m2e,morphcolor_vertex:g2e,morphnormal_vertex:v2e,morphtarget_pars_vertex:y2e,morphtarget_vertex:b2e,normal_fragment_begin:x2e,normal_fragment_maps:w2e,normal_pars_fragment:_2e,normal_pars_vertex:S2e,normal_vertex:E2e,normalmap_pars_fragment:A2e,clearcoat_normal_fragment_begin:C2e,clearcoat_normal_fragment_maps:M2e,clearcoat_pars_fragment:T2e,iridescence_pars_fragment:P2e,output_fragment:k2e,packing:D2e,premultiplied_alpha_fragment:j2e,project_vertex:I2e,dithering_fragment:O2e,dithering_pars_fragment:R2e,roughnessmap_fragment:L2e,roughnessmap_pars_fragment:z2e,shadowmap_pars_fragment:N2e,shadowmap_pars_vertex:B2e,shadowmap_vertex:F2e,shadowmask_pars_fragment:U2e,skinbase_vertex:V2e,skinning_pars_vertex:H2e,skinning_vertex:W2e,skinnormal_vertex:G2e,specularmap_fragment:q2e,specularmap_pars_fragment:Y2e,tonemapping_fragment:X2e,tonemapping_pars_fragment:$2e,transmission_fragment:K2e,transmission_pars_fragment:Q2e,uv_pars_fragment:J2e,uv_pars_vertex:Z2e,uv_vertex:eSe,uv2_pars_fragment:tSe,uv2_pars_vertex:rSe,uv2_vertex:nSe,worldpos_vertex:iSe,background_vert:oSe,background_frag:aSe,backgroundCube_vert:sSe,backgroundCube_frag:lSe,cube_vert:cSe,cube_frag:uSe,depth_vert:dSe,depth_frag:hSe,distanceRGBA_vert:fSe,distanceRGBA_frag:pSe,equirect_vert:mSe,equirect_frag:gSe,linedashed_vert:vSe,linedashed_frag:ySe,meshbasic_vert:bSe,meshbasic_frag:xSe,meshlambert_vert:wSe,meshlambert_frag:_Se,meshmatcap_vert:SSe,meshmatcap_frag:ESe,meshnormal_vert:ASe,meshnormal_frag:CSe,meshphong_vert:MSe,meshphong_frag:TSe,meshphysical_vert:PSe,meshphysical_frag:kSe,meshtoon_vert:DSe,meshtoon_frag:jSe,points_vert:ISe,points_frag:OSe,shadow_vert:RSe,shadow_frag:LSe,sprite_vert:zSe,sprite_frag:NSe},Qe={common:{diffuse:{value:new wt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new In},uv2Transform:{value:new In},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new oe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new wt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new wt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new In}},sprite:{diffuse:{value:new wt(16777215)},opacity:{value:1},center:{value:new oe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new In}}},Dl={basic:{uniforms:oo([Qe.common,Qe.specularmap,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.fog]),vertexShader:Wt.meshbasic_vert,fragmentShader:Wt.meshbasic_frag},lambert:{uniforms:oo([Qe.common,Qe.specularmap,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.fog,Qe.lights,{emissive:{value:new wt(0)}}]),vertexShader:Wt.meshlambert_vert,fragmentShader:Wt.meshlambert_frag},phong:{uniforms:oo([Qe.common,Qe.specularmap,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.fog,Qe.lights,{emissive:{value:new wt(0)},specular:{value:new wt(1118481)},shininess:{value:30}}]),vertexShader:Wt.meshphong_vert,fragmentShader:Wt.meshphong_frag},standard:{uniforms:oo([Qe.common,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.roughnessmap,Qe.metalnessmap,Qe.fog,Qe.lights,{emissive:{value:new wt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Wt.meshphysical_vert,fragmentShader:Wt.meshphysical_frag},toon:{uniforms:oo([Qe.common,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.gradientmap,Qe.fog,Qe.lights,{emissive:{value:new wt(0)}}]),vertexShader:Wt.meshtoon_vert,fragmentShader:Wt.meshtoon_frag},matcap:{uniforms:oo([Qe.common,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.fog,{matcap:{value:null}}]),vertexShader:Wt.meshmatcap_vert,fragmentShader:Wt.meshmatcap_frag},points:{uniforms:oo([Qe.points,Qe.fog]),vertexShader:Wt.points_vert,fragmentShader:Wt.points_frag},dashed:{uniforms:oo([Qe.common,Qe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Wt.linedashed_vert,fragmentShader:Wt.linedashed_frag},depth:{uniforms:oo([Qe.common,Qe.displacementmap]),vertexShader:Wt.depth_vert,fragmentShader:Wt.depth_frag},normal:{uniforms:oo([Qe.common,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,{opacity:{value:1}}]),vertexShader:Wt.meshnormal_vert,fragmentShader:Wt.meshnormal_frag},sprite:{uniforms:oo([Qe.sprite,Qe.fog]),vertexShader:Wt.sprite_vert,fragmentShader:Wt.sprite_frag},background:{uniforms:{uvTransform:{value:new In},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Wt.background_vert,fragmentShader:Wt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Wt.backgroundCube_vert,fragmentShader:Wt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Wt.cube_vert,fragmentShader:Wt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Wt.equirect_vert,fragmentShader:Wt.equirect_frag},distanceRGBA:{uniforms:oo([Qe.common,Qe.displacementmap,{referencePosition:{value:new V},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Wt.distanceRGBA_vert,fragmentShader:Wt.distanceRGBA_frag},shadow:{uniforms:oo([Qe.lights,Qe.fog,{color:{value:new wt(0)},opacity:{value:1}}]),vertexShader:Wt.shadow_vert,fragmentShader:Wt.shadow_frag}};Dl.physical={uniforms:oo([Dl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new oe(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new wt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new oe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new wt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new wt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Wt.meshphysical_vert,fragmentShader:Wt.meshphysical_frag};var tx={r:0,b:0,g:0};function BSe(e,t,r,n,i,o,l){let c=new wt(0),a=o===!0?0:1,s,u,d=null,h=0,f=null;function m(g,v){let x=!1,y=v.isScene===!0?v.background:null;y&&y.isTexture&&(y=(v.backgroundBlurriness>0?r:t).get(y));let b=e.xr,w=b.getSession&&b.getSession();w&&w.environmentBlendMode==="additive"&&(y=null),y===null?p(c,a):y&&y.isColor&&(p(y,1),x=!0),(e.autoClear||x)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),y&&(y.isCubeTexture||y.mapping===W1)?(u===void 0&&(u=new vo(new nc(1,1,1),new Or({name:"BackgroundCubeMaterial",uniforms:gg(Dl.backgroundCube.uniforms),vertexShader:Dl.backgroundCube.vertexShader,fragmentShader:Dl.backgroundCube.fragmentShader,side:bi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(_,S,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=y,u.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=y.encoding!==Ft,(d!==y||h!==y.version||f!==e.toneMapping)&&(u.material.needsUpdate=!0,d=y,h=y.version,f=e.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null)):y&&y.isTexture&&(s===void 0&&(s=new vo(new jE(2,2),new Or({name:"BackgroundMaterial",uniforms:gg(Dl.background.uniforms),vertexShader:Dl.background.vertexShader,fragmentShader:Dl.background.fragmentShader,side:rl,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=y,s.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,s.material.toneMapped=y.encoding!==Ft,y.matrixAutoUpdate===!0&&y.updateMatrix(),s.material.uniforms.uvTransform.value.copy(y.matrix),(d!==y||h!==y.version||f!==e.toneMapping)&&(s.material.needsUpdate=!0,d=y,h=y.version,f=e.toneMapping),s.layers.enableAll(),g.unshift(s,s.geometry,s.material,0,0,null))}function p(g,v){g.getRGB(tx,NX(e)),n.buffers.color.setClear(tx.r,tx.g,tx.b,v,l)}return{getClearColor:function(){return c},setClearColor:function(g,v=1){c.set(g),a=v,p(c,a)},getClearAlpha:function(){return a},setClearAlpha:function(g){a=g,p(c,a)},render:m}}function FSe(e,t,r,n){let i=e.getParameter(34921),o=n.isWebGL2?null:t.get("OES_vertex_array_object"),l=n.isWebGL2||o!==null,c={},a=g(null),s=a,u=!1;function d(M,P,j,O,I){let N=!1;if(l){let L=p(O,j,P);s!==L&&(s=L,f(s.object)),N=v(M,O,j,I),N&&x(M,O,j,I)}else{let L=P.wireframe===!0;(s.geometry!==O.id||s.program!==j.id||s.wireframe!==L)&&(s.geometry=O.id,s.program=j.id,s.wireframe=L,N=!0)}I!==null&&r.update(I,34963),(N||u)&&(u=!1,E(M,P,j,O),I!==null&&e.bindBuffer(34963,r.get(I).buffer))}function h(){return n.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}function f(M){return n.isWebGL2?e.bindVertexArray(M):o.bindVertexArrayOES(M)}function m(M){return n.isWebGL2?e.deleteVertexArray(M):o.deleteVertexArrayOES(M)}function p(M,P,j){let O=j.wireframe===!0,I=c[M.id];I===void 0&&(I={},c[M.id]=I);let N=I[P.id];N===void 0&&(N={},I[P.id]=N);let L=N[O];return L===void 0&&(L=g(h()),N[O]=L),L}function g(M){let P=[],j=[],O=[];for(let I=0;I<i;I++)P[I]=0,j[I]=0,O[I]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:P,enabledAttributes:j,attributeDivisors:O,object:M,attributes:{},index:null}}function v(M,P,j,O){let I=s.attributes,N=P.attributes,L=0,B=j.getAttributes();for(let R in B)if(B[R].location>=0){let z=I[R],W=N[R];if(W===void 0&&(R==="instanceMatrix"&&M.instanceMatrix&&(W=M.instanceMatrix),R==="instanceColor"&&M.instanceColor&&(W=M.instanceColor)),z===void 0||z.attribute!==W||W&&z.data!==W.data)return!0;L++}return s.attributesNum!==L||s.index!==O}function x(M,P,j,O){let I={},N=P.attributes,L=0,B=j.getAttributes();for(let R in B)if(B[R].location>=0){let z=N[R];z===void 0&&(R==="instanceMatrix"&&M.instanceMatrix&&(z=M.instanceMatrix),R==="instanceColor"&&M.instanceColor&&(z=M.instanceColor));let W={};W.attribute=z,z&&z.data&&(W.data=z.data),I[R]=W,L++}s.attributes=I,s.attributesNum=L,s.index=O}function y(){let M=s.newAttributes;for(let P=0,j=M.length;P<j;P++)M[P]=0}function b(M){w(M,0)}function w(M,P){let j=s.newAttributes,O=s.enabledAttributes,I=s.attributeDivisors;j[M]=1,O[M]===0&&(e.enableVertexAttribArray(M),O[M]=1),I[M]!==P&&((n.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](M,P),I[M]=P)}function _(){let M=s.newAttributes,P=s.enabledAttributes;for(let j=0,O=P.length;j<O;j++)P[j]!==M[j]&&(e.disableVertexAttribArray(j),P[j]=0)}function S(M,P,j,O,I,N){n.isWebGL2===!0&&(j===5124||j===5125)?e.vertexAttribIPointer(M,P,j,I,N):e.vertexAttribPointer(M,P,j,O,I,N)}function E(M,P,j,O){if(n.isWebGL2===!1&&(M.isInstancedMesh||O.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;y();let I=O.attributes,N=j.getAttributes(),L=P.defaultAttributeValues;for(let B in N){let R=N[B];if(R.location>=0){let z=I[B];if(z===void 0&&(B==="instanceMatrix"&&M.instanceMatrix&&(z=M.instanceMatrix),B==="instanceColor"&&M.instanceColor&&(z=M.instanceColor)),z!==void 0){let W=z.normalized,U=z.itemSize,H=r.get(z);if(H===void 0)continue;let X=H.buffer,K=H.type,Q=H.bytesPerElement;if(z.isInterleavedBufferAttribute){let Y=z.data,$=Y.stride,J=z.offset;if(Y.isInstancedInterleavedBuffer){for(let ie=0;ie<R.locationSize;ie++)w(R.location+ie,Y.meshPerAttribute);M.isInstancedMesh!==!0&&O._maxInstanceCount===void 0&&(O._maxInstanceCount=Y.meshPerAttribute*Y.count)}else for(let ie=0;ie<R.locationSize;ie++)b(R.location+ie);e.bindBuffer(34962,X);for(let ie=0;ie<R.locationSize;ie++)S(R.location+ie,U/R.locationSize,K,W,$*Q,(J+U/R.locationSize*ie)*Q)}else{if(z.isInstancedBufferAttribute){for(let Y=0;Y<R.locationSize;Y++)w(R.location+Y,z.meshPerAttribute);M.isInstancedMesh!==!0&&O._maxInstanceCount===void 0&&(O._maxInstanceCount=z.meshPerAttribute*z.count)}else for(let Y=0;Y<R.locationSize;Y++)b(R.location+Y);e.bindBuffer(34962,X);for(let Y=0;Y<R.locationSize;Y++)S(R.location+Y,U/R.locationSize,K,W,U*Q,U/R.locationSize*Y*Q)}}else if(L!==void 0){let W=L[B];if(W!==void 0)switch(W.length){case 2:e.vertexAttrib2fv(R.location,W);break;case 3:e.vertexAttrib3fv(R.location,W);break;case 4:e.vertexAttrib4fv(R.location,W);break;default:e.vertexAttrib1fv(R.location,W)}}}}_()}function C(){k();for(let M in c){let P=c[M];for(let j in P){let O=P[j];for(let I in O)m(O[I].object),delete O[I];delete P[j]}delete c[M]}}function A(M){if(c[M.id]===void 0)return;let P=c[M.id];for(let j in P){let O=P[j];for(let I in O)m(O[I].object),delete O[I];delete P[j]}delete c[M.id]}function T(M){for(let P in c){let j=c[P];if(j[M.id]===void 0)continue;let O=j[M.id];for(let I in O)m(O[I].object),delete O[I];delete j[M.id]}}function k(){D(),u=!0,s!==a&&(s=a,f(s.object))}function D(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:d,reset:k,resetDefaultState:D,dispose:C,releaseStatesOfGeometry:A,releaseStatesOfProgram:T,initAttributes:y,enableAttribute:b,disableUnusedAttributes:_}}function USe(e,t,r,n){let i=n.isWebGL2,o;function l(s){o=s}function c(s,u){e.drawArrays(o,s,u),r.update(u,o,1)}function a(s,u,d){if(d===0)return;let h,f;if(i)h=e,f="drawArraysInstanced";else if(h=t.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[f](o,s,u,d),r.update(u,o,d)}this.setMode=l,this.render=c,this.renderInstances=a}function VSe(e,t,r){let n;function i(){if(n!==void 0)return n;if(t.has("EXT_texture_filter_anisotropic")===!0){let S=t.get("EXT_texture_filter_anisotropic");n=e.getParameter(S.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function o(S){if(S==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";S="mediump"}return S==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let l=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext,c=r.precision!==void 0?r.precision:"highp",a=o(c);a!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",a,"instead."),c=a);let s=l||t.has("WEBGL_draw_buffers"),u=r.logarithmicDepthBuffer===!0,d=e.getParameter(34930),h=e.getParameter(35660),f=e.getParameter(3379),m=e.getParameter(34076),p=e.getParameter(34921),g=e.getParameter(36347),v=e.getParameter(36348),x=e.getParameter(36349),y=h>0,b=l||t.has("OES_texture_float"),w=y&&b,_=l?e.getParameter(36183):0;return{isWebGL2:l,drawBuffers:s,getMaxAnisotropy:i,getMaxPrecision:o,precision:c,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:m,maxAttributes:p,maxVertexUniforms:g,maxVaryings:v,maxFragmentUniforms:x,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:w,maxSamples:_}}function HSe(e){let t=this,r=null,n=0,i=!1,o=!1,l=new fa,c=new In,a={value:null,needsUpdate:!1};this.uniform=a,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){let f=d.length!==0||h||n!==0||i;return i=h,n=d.length,f},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,h){r=u(d,h,0)},this.setState=function(d,h,f){let m=d.clippingPlanes,p=d.clipIntersection,g=d.clipShadows,v=e.get(d);if(!i||m===null||m.length===0||o&&!g)o?u(null):s();else{let x=o?0:n,y=x*4,b=v.clippingState||null;a.value=b,b=u(m,h,y,f);for(let w=0;w!==y;++w)b[w]=r[w];v.clippingState=b,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=x}};function s(){a.value!==r&&(a.value=r,a.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function u(d,h,f,m){let p=d!==null?d.length:0,g=null;if(p!==0){if(g=a.value,m!==!0||g===null){let v=f+p*4,x=h.matrixWorldInverse;c.getNormalMatrix(x),(g===null||g.length<v)&&(g=new Float32Array(v));for(let y=0,b=f;y!==p;++y,b+=4)l.copy(d[y]).applyMatrix4(x,c),l.normal.toArray(g,b),g[b+3]=l.constant}a.value=g,a.needsUpdate=!0}return t.numPlanes=p,t.numIntersection=0,g}}function WSe(e){let t=new WeakMap;function r(l,c){return c===U4?l.mapping=bf:c===V4&&(l.mapping=xf),l}function n(l){if(l&&l.isTexture&&l.isRenderTargetTexture===!1){let c=l.mapping;if(c===U4||c===V4)if(t.has(l)){let a=t.get(l).texture;return r(a,l.mapping)}else{let a=l.image;if(a&&a.height>0){let s=new n_e(a.height/2);return s.fromEquirectangularTexture(e,l),t.set(l,s),l.addEventListener("dispose",i),r(s.texture,l.mapping)}else return null}}return l}function i(l){let c=l.target;c.removeEventListener("dispose",i);let a=t.get(c);a!==void 0&&(t.delete(c),a.dispose())}function o(){t=new WeakMap}return{get:n,dispose:o}}var Ej=class extends Jg{constructor(e=-1,t=1,r=1,n=-1,i=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=n,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,n,i,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-e,o=r+e,l=n+t,c=n-t;if(this.view!==null&&this.view.enabled){let a=(this.right-this.left)/this.view.fullWidth/this.zoom,s=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=a*this.view.offsetX,o=i+a*this.view.width,l-=s*this.view.offsetY,c=l-s*this.view.height}this.projectionMatrix.makeOrthographic(i,o,l,c,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}},pm=4,Wz=[.125,.215,.35,.446,.526,.582],Mh=20,pC=new Ej,Gz=new wt,mC=null,bh=(1+Math.sqrt(5))/2,dp=1/bh,qz=[new V(1,1,1),new V(-1,1,1),new V(1,1,-1),new V(-1,1,-1),new V(0,bh,dp),new V(0,bh,-dp),new V(dp,0,bh),new V(-dp,0,bh),new V(bh,dp,0),new V(-bh,dp,0)],Yz=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,n=100){mC=this._renderer.getRenderTarget(),this._setSize(256);let i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,r,n,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Kz(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=$z(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(mC),e.scissorTest=!1,rx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===bf||e.mapping===xf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),mC=this._renderer.getRenderTarget();let r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Kt,minFilter:Kt,generateMipmaps:!1,type:wf,format:ma,encoding:rc,depthBuffer:!1},n=Xz(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Xz(e,t,r);let{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=GSe(i)),this._blurMaterial=qSe(i,e,t)}return n}_compileMaterial(e){let t=new vo(this._lodPlanes[0],e);this._renderer.compile(t,pC)}_sceneToCubeUV(e,t,r,n){let i=new Wi(90,1,t,r),o=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],c=this._renderer,a=c.autoClear,s=c.toneMapping;c.getClearColor(Gz),c.toneMapping=nu,c.autoClear=!1;let u=new q1({name:"PMREM.Background",side:bi,depthWrite:!1,depthTest:!1}),d=new vo(new nc,u),h=!1,f=e.background;f?f.isColor&&(u.color.copy(f),e.background=null,h=!0):(u.color.copy(Gz),h=!0);for(let m=0;m<6;m++){let p=m%3;p===0?(i.up.set(0,o[m],0),i.lookAt(l[m],0,0)):p===1?(i.up.set(0,0,o[m]),i.lookAt(0,l[m],0)):(i.up.set(0,o[m],0),i.lookAt(0,0,l[m]));let g=this._cubeSize;rx(n,p*g,m>2?g:0,g,g),c.setRenderTarget(n),h&&c.render(d,i),c.render(e,i)}d.geometry.dispose(),d.material.dispose(),c.toneMapping=s,c.autoClear=a,e.background=f}_textureToCubeUV(e,t){let r=this._renderer,n=e.mapping===bf||e.mapping===xf;n?(this._cubemapMaterial===null&&(this._cubemapMaterial=Kz()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=$z());let i=n?this._cubemapMaterial:this._equirectMaterial,o=new vo(this._lodPlanes[0],i),l=i.uniforms;l.envMap.value=e;let c=this._cubeSize;rx(t,0,0,3*c,2*c),r.setRenderTarget(t),r.render(o,pC)}_applyPMREM(e){let t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let n=1;n<this._lodPlanes.length;n++){let i=Math.sqrt(this._sigmas[n]*this._sigmas[n]-this._sigmas[n-1]*this._sigmas[n-1]),o=qz[(n-1)%qz.length];this._blur(e,n-1,n,i,o)}t.autoClear=r}_blur(e,t,r,n,i){let o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,n,"latitudinal",i),this._halfBlur(o,e,r,r,n,"longitudinal",i)}_halfBlur(e,t,r,n,i,o,l){let c=this._renderer,a=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let s=3,u=new vo(this._lodPlanes[n],a),d=a.uniforms,h=this._sizeLods[r]-1,f=isFinite(i)?Math.PI/(2*h):2*Math.PI/(2*Mh-1),m=i/f,p=isFinite(i)?1+Math.floor(s*m):Mh;p>Mh&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${p} samples when the maximum is set to ${Mh}`);let g=[],v=0;for(let _=0;_<Mh;++_){let S=_/m,E=Math.exp(-S*S/2);g.push(E),_===0?v+=E:_<p&&(v+=2*E)}for(let _=0;_<g.length;_++)g[_]=g[_]/v;d.envMap.value=e.texture,d.samples.value=p,d.weights.value=g,d.latitudinal.value=o==="latitudinal",l&&(d.poleAxis.value=l);let{_lodMax:x}=this;d.dTheta.value=f,d.mipInt.value=x-r;let y=this._sizeLods[n],b=3*y*(n>x-pm?n-x+pm:0),w=4*(this._cubeSize-y);rx(t,b,w,3*y,2*y),c.setRenderTarget(t),c.render(u,pC)}};function GSe(e){let t=[],r=[],n=[],i=e,o=e-pm+1+Wz.length;for(let l=0;l<o;l++){let c=Math.pow(2,i);r.push(c);let a=1/c;l>e-pm?a=Wz[l-e+pm-1]:l===0&&(a=0),n.push(a);let s=1/(c-2),u=-s,d=1+s,h=[u,u,d,u,d,d,u,u,d,d,u,d],f=6,m=6,p=3,g=2,v=1,x=new Float32Array(p*m*f),y=new Float32Array(g*m*f),b=new Float32Array(v*m*f);for(let _=0;_<f;_++){let S=_%3*2/3-1,E=_>2?0:-1,C=[S,E,0,S+2/3,E,0,S+2/3,E+1,0,S,E,0,S+2/3,E+1,0,S,E+1,0];x.set(C,p*m*_),y.set(h,g*m*_);let A=[_,_,_,_,_,_];b.set(A,v*m*_)}let w=new vt;w.setAttribute("position",new kt(x,p)),w.setAttribute("uv",new kt(y,g)),w.setAttribute("faceIndex",new kt(b,v)),t.push(w),i>pm&&i--}return{lodPlanes:t,sizeLods:r,sigmas:n}}function Xz(e,t,r){let n=new Cr(e,t,r);return n.texture.mapping=W1,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function rx(e,t,r,n,i){e.viewport.set(t,r,n,i),e.scissor.set(t,r,n,i)}function qSe(e,t,r){let n=new Float32Array(Mh),i=new V(0,1,0);return new Or({name:"SphericalGaussianBlur",defines:{n:Mh,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Aj(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Qn,depthTest:!1,depthWrite:!1})}function $z(){return new Or({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Aj(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Qn,depthTest:!1,depthWrite:!1})}function Kz(){return new Or({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Aj(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Qn,depthTest:!1,depthWrite:!1})}function Aj(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function YSe(e){let t=new WeakMap,r=null;function n(c){if(c&&c.isTexture){let a=c.mapping,s=a===U4||a===V4,u=a===bf||a===xf;if(s||u)if(c.isRenderTargetTexture&&c.needsPMREMUpdate===!0){c.needsPMREMUpdate=!1;let d=t.get(c);return r===null&&(r=new Yz(e)),d=s?r.fromEquirectangular(c,d):r.fromCubemap(c,d),t.set(c,d),d.texture}else{if(t.has(c))return t.get(c).texture;{let d=c.image;if(s&&d&&d.height>0||u&&d&&i(d)){r===null&&(r=new Yz(e));let h=s?r.fromEquirectangular(c):r.fromCubemap(c);return t.set(c,h),c.addEventListener("dispose",o),h.texture}else return null}}}return c}function i(c){let a=0,s=6;for(let u=0;u<s;u++)c[u]!==void 0&&a++;return a===s}function o(c){let a=c.target;a.removeEventListener("dispose",o);let s=t.get(a);s!==void 0&&(t.delete(a),s.dispose())}function l(){t=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:n,dispose:l}}function XSe(e){let t={};function r(n){if(t[n]!==void 0)return t[n];let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i}return{has:function(n){return r(n)!==null},init:function(n){n.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(n){let i=r(n);return i===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function $Se(e,t,r,n){let i={},o=new WeakMap;function l(d){let h=d.target;h.index!==null&&t.remove(h.index);for(let m in h.attributes)t.remove(h.attributes[m]);h.removeEventListener("dispose",l),delete i[h.id];let f=o.get(h);f&&(t.remove(f),o.delete(h)),n.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,r.memory.geometries--}function c(d,h){return i[h.id]===!0||(h.addEventListener("dispose",l),i[h.id]=!0,r.memory.geometries++),h}function a(d){let h=d.attributes;for(let m in h)t.update(h[m],34962);let f=d.morphAttributes;for(let m in f){let p=f[m];for(let g=0,v=p.length;g<v;g++)t.update(p[g],34962)}}function s(d){let h=[],f=d.index,m=d.attributes.position,p=0;if(f!==null){let x=f.array;p=f.version;for(let y=0,b=x.length;y<b;y+=3){let w=x[y+0],_=x[y+1],S=x[y+2];h.push(w,_,_,S,S,w)}}else{let x=m.array;p=m.version;for(let y=0,b=x.length/3-1;y<b;y+=3){let w=y+0,_=y+1,S=y+2;h.push(w,_,_,S,S,w)}}let g=new(jX(h)?jm:zX)(h,1);g.version=p;let v=o.get(d);v&&t.remove(v),o.set(d,g)}function u(d){let h=o.get(d);if(h){let f=d.index;f!==null&&h.version<f.version&&s(d)}else s(d);return o.get(d)}return{get:c,update:a,getWireframeAttribute:u}}function KSe(e,t,r,n){let i=n.isWebGL2,o;function l(h){o=h}let c,a;function s(h){c=h.type,a=h.bytesPerElement}function u(h,f){e.drawElements(o,f,c,h*a),r.update(f,o,1)}function d(h,f,m){if(m===0)return;let p,g;if(i)p=e,g="drawElementsInstanced";else if(p=t.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",p===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[g](o,f,c,h*a,m),r.update(f,o,m)}this.setMode=l,this.setIndex=s,this.render=u,this.renderInstances=d}function QSe(e){let t={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function n(o,l,c){switch(r.calls++,l){case 4:r.triangles+=c*(o/3);break;case 1:r.lines+=c*(o/2);break;case 3:r.lines+=c*(o-1);break;case 2:r.lines+=c*o;break;case 0:r.points+=c*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function i(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:t,render:r,programs:null,autoReset:!0,reset:i,update:n}}function JSe(e,t){return e[0]-t[0]}function ZSe(e,t){return Math.abs(t[1])-Math.abs(e[1])}function eEe(e,t,r){let n={},i=new Float32Array(8),o=new WeakMap,l=new Ut,c=[];for(let s=0;s<8;s++)c[s]=[s,0];function a(s,u,d,h){let f=s.morphTargetInfluences;if(t.isWebGL2===!0){let m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=m!==void 0?m.length:0,g=o.get(u);if(g===void 0||g.count!==p){let y=function(){M.dispose(),o.delete(u),u.removeEventListener("dispose",y)};g!==void 0&&g.texture.dispose();let b=u.morphAttributes.position!==void 0,w=u.morphAttributes.normal!==void 0,_=u.morphAttributes.color!==void 0,S=u.morphAttributes.position||[],E=u.morphAttributes.normal||[],C=u.morphAttributes.color||[],A=0;b===!0&&(A=1),w===!0&&(A=2),_===!0&&(A=3);let T=u.attributes.position.count*A,k=1;T>t.maxTextureSize&&(k=Math.ceil(T/t.maxTextureSize),T=t.maxTextureSize);let D=new Float32Array(T*k*4*p),M=new LX(D,T,k,p);M.type=go,M.needsUpdate=!0;let P=A*4;for(let j=0;j<p;j++){let O=S[j],I=E[j],N=C[j],L=T*k*4*j;for(let B=0;B<O.count;B++){let R=B*P;b===!0&&(l.fromBufferAttribute(O,B),D[L+R+0]=l.x,D[L+R+1]=l.y,D[L+R+2]=l.z,D[L+R+3]=0),w===!0&&(l.fromBufferAttribute(I,B),D[L+R+4]=l.x,D[L+R+5]=l.y,D[L+R+6]=l.z,D[L+R+7]=0),_===!0&&(l.fromBufferAttribute(N,B),D[L+R+8]=l.x,D[L+R+9]=l.y,D[L+R+10]=l.z,D[L+R+11]=N.itemSize===4?l.w:1)}}g={count:p,texture:M,size:new oe(T,k)},o.set(u,g),u.addEventListener("dispose",y)}let v=0;for(let y=0;y<f.length;y++)v+=f[y];let x=u.morphTargetsRelative?1:1-v;h.getUniforms().setValue(e,"morphTargetBaseInfluence",x),h.getUniforms().setValue(e,"morphTargetInfluences",f),h.getUniforms().setValue(e,"morphTargetsTexture",g.texture,r),h.getUniforms().setValue(e,"morphTargetsTextureSize",g.size)}else{let m=f===void 0?0:f.length,p=n[u.id];if(p===void 0||p.length!==m){p=[];for(let b=0;b<m;b++)p[b]=[b,0];n[u.id]=p}for(let b=0;b<m;b++){let w=p[b];w[0]=b,w[1]=f[b]}p.sort(ZSe);for(let b=0;b<8;b++)b<m&&p[b][1]?(c[b][0]=p[b][0],c[b][1]=p[b][1]):(c[b][0]=Number.MAX_SAFE_INTEGER,c[b][1]=0);c.sort(JSe);let g=u.morphAttributes.position,v=u.morphAttributes.normal,x=0;for(let b=0;b<8;b++){let w=c[b],_=w[0],S=w[1];_!==Number.MAX_SAFE_INTEGER&&S?(g&&u.getAttribute("morphTarget"+b)!==g[_]&&u.setAttribute("morphTarget"+b,g[_]),v&&u.getAttribute("morphNormal"+b)!==v[_]&&u.setAttribute("morphNormal"+b,v[_]),i[b]=S,x+=S):(g&&u.hasAttribute("morphTarget"+b)===!0&&u.deleteAttribute("morphTarget"+b),v&&u.hasAttribute("morphNormal"+b)===!0&&u.deleteAttribute("morphNormal"+b),i[b]=0)}let y=u.morphTargetsRelative?1:1-x;h.getUniforms().setValue(e,"morphTargetBaseInfluence",y),h.getUniforms().setValue(e,"morphTargetInfluences",i)}}return{update:a}}function tEe(e,t,r,n){let i=new WeakMap;function o(a){let s=n.render.frame,u=a.geometry,d=t.get(a,u);return i.get(d)!==s&&(t.update(d),i.set(d,s)),a.isInstancedMesh&&(a.hasEventListener("dispose",c)===!1&&a.addEventListener("dispose",c),r.update(a.instanceMatrix,34962),a.instanceColor!==null&&r.update(a.instanceColor,34962)),d}function l(){i=new WeakMap}function c(a){let s=a.target;s.removeEventListener("dispose",c),r.remove(s.instanceMatrix),s.instanceColor!==null&&r.remove(s.instanceColor)}return{update:o,dispose:l}}var FX=new li,UX=new LX,VX=new Uwe,HX=new _j,Qz=[],Jz=[],Zz=new Float32Array(16),eN=new Float32Array(9),tN=new Float32Array(4);function Zg(e,t,r){let n=e[0];if(n<=0||n>0)return e;let i=t*r,o=Qz[i];if(o===void 0&&(o=new Float32Array(i),Qz[i]=o),t!==0){n.toArray(o,0);for(let l=1,c=0;l!==t;++l)c+=r,e[l].toArray(o,c)}return o}function ui(e,t){if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function di(e,t){for(let r=0,n=t.length;r<n;r++)e[r]=t[r]}function IE(e,t){let r=Jz[t];r===void 0&&(r=new Int32Array(t),Jz[t]=r);for(let n=0;n!==t;++n)r[n]=e.allocateTextureUnit();return r}function rEe(e,t){let r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function nEe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(ui(r,t))return;e.uniform2fv(this.addr,t),di(r,t)}}function iEe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(t.r!==void 0)(r[0]!==t.r||r[1]!==t.g||r[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(ui(r,t))return;e.uniform3fv(this.addr,t),di(r,t)}}function oEe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z||r[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(ui(r,t))return;e.uniform4fv(this.addr,t),di(r,t)}}function aEe(e,t){let r=this.cache,n=t.elements;if(n===void 0){if(ui(r,t))return;e.uniformMatrix2fv(this.addr,!1,t),di(r,t)}else{if(ui(r,n))return;tN.set(n),e.uniformMatrix2fv(this.addr,!1,tN),di(r,n)}}function sEe(e,t){let r=this.cache,n=t.elements;if(n===void 0){if(ui(r,t))return;e.uniformMatrix3fv(this.addr,!1,t),di(r,t)}else{if(ui(r,n))return;eN.set(n),e.uniformMatrix3fv(this.addr,!1,eN),di(r,n)}}function lEe(e,t){let r=this.cache,n=t.elements;if(n===void 0){if(ui(r,t))return;e.uniformMatrix4fv(this.addr,!1,t),di(r,t)}else{if(ui(r,n))return;Zz.set(n),e.uniformMatrix4fv(this.addr,!1,Zz),di(r,n)}}function cEe(e,t){let r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function uEe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(ui(r,t))return;e.uniform2iv(this.addr,t),di(r,t)}}function dEe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else{if(ui(r,t))return;e.uniform3iv(this.addr,t),di(r,t)}}function hEe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z||r[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(ui(r,t))return;e.uniform4iv(this.addr,t),di(r,t)}}function fEe(e,t){let r=this.cache;r[0]!==t&&(e.uniform1ui(this.addr,t),r[0]=t)}function pEe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(ui(r,t))return;e.uniform2uiv(this.addr,t),di(r,t)}}function mEe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else{if(ui(r,t))return;e.uniform3uiv(this.addr,t),di(r,t)}}function gEe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z||r[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(ui(r,t))return;e.uniform4uiv(this.addr,t),di(r,t)}}function vEe(e,t,r){let n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2D(t||FX,i)}function yEe(e,t,r){let n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture3D(t||VX,i)}function bEe(e,t,r){let n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTextureCube(t||HX,i)}function xEe(e,t,r){let n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2DArray(t||UX,i)}function wEe(e){switch(e){case 5126:return rEe;case 35664:return nEe;case 35665:return iEe;case 35666:return oEe;case 35674:return aEe;case 35675:return sEe;case 35676:return lEe;case 5124:case 35670:return cEe;case 35667:case 35671:return uEe;case 35668:case 35672:return dEe;case 35669:case 35673:return hEe;case 5125:return fEe;case 36294:return pEe;case 36295:return mEe;case 36296:return gEe;case 35678:case 36198:case 36298:case 36306:case 35682:return vEe;case 35679:case 36299:case 36307:return yEe;case 35680:case 36300:case 36308:case 36293:return bEe;case 36289:case 36303:case 36311:case 36292:return xEe}}function _Ee(e,t){e.uniform1fv(this.addr,t)}function SEe(e,t){let r=Zg(t,this.size,2);e.uniform2fv(this.addr,r)}function EEe(e,t){let r=Zg(t,this.size,3);e.uniform3fv(this.addr,r)}function AEe(e,t){let r=Zg(t,this.size,4);e.uniform4fv(this.addr,r)}function CEe(e,t){let r=Zg(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,r)}function MEe(e,t){let r=Zg(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,r)}function TEe(e,t){let r=Zg(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,r)}function PEe(e,t){e.uniform1iv(this.addr,t)}function kEe(e,t){e.uniform2iv(this.addr,t)}function DEe(e,t){e.uniform3iv(this.addr,t)}function jEe(e,t){e.uniform4iv(this.addr,t)}function IEe(e,t){e.uniform1uiv(this.addr,t)}function OEe(e,t){e.uniform2uiv(this.addr,t)}function REe(e,t){e.uniform3uiv(this.addr,t)}function LEe(e,t){e.uniform4uiv(this.addr,t)}function zEe(e,t,r){let n=this.cache,i=t.length,o=IE(r,i);ui(n,o)||(e.uniform1iv(this.addr,o),di(n,o));for(let l=0;l!==i;++l)r.setTexture2D(t[l]||FX,o[l])}function NEe(e,t,r){let n=this.cache,i=t.length,o=IE(r,i);ui(n,o)||(e.uniform1iv(this.addr,o),di(n,o));for(let l=0;l!==i;++l)r.setTexture3D(t[l]||VX,o[l])}function BEe(e,t,r){let n=this.cache,i=t.length,o=IE(r,i);ui(n,o)||(e.uniform1iv(this.addr,o),di(n,o));for(let l=0;l!==i;++l)r.setTextureCube(t[l]||HX,o[l])}function FEe(e,t,r){let n=this.cache,i=t.length,o=IE(r,i);ui(n,o)||(e.uniform1iv(this.addr,o),di(n,o));for(let l=0;l!==i;++l)r.setTexture2DArray(t[l]||UX,o[l])}function UEe(e){switch(e){case 5126:return _Ee;case 35664:return SEe;case 35665:return EEe;case 35666:return AEe;case 35674:return CEe;case 35675:return MEe;case 35676:return TEe;case 5124:case 35670:return PEe;case 35667:case 35671:return kEe;case 35668:case 35672:return DEe;case 35669:case 35673:return jEe;case 5125:return IEe;case 36294:return OEe;case 36295:return REe;case 36296:return LEe;case 35678:case 36198:case 36298:case 36306:case 35682:return zEe;case 35679:case 36299:case 36307:return NEe;case 35680:case 36300:case 36308:case 36293:return BEe;case 36289:case 36303:case 36311:case 36292:return FEe}}var VEe=class{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=wEe(t.type)}},HEe=class{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=UEe(t.type)}},WEe=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){let n=this.seq;for(let i=0,o=n.length;i!==o;++i){let l=n[i];l.setValue(e,t[l.id],r)}}},gC=/(\w+)(\])?(\[|\.)?/g;function rN(e,t){e.seq.push(t),e.map[t.id]=t}function GEe(e,t,r){let n=e.name,i=n.length;for(gC.lastIndex=0;;){let o=gC.exec(n),l=gC.lastIndex,c=o[1],a=o[2]==="]",s=o[3];if(a&&(c=c|0),s===void 0||s==="["&&l+2===i){rN(r,s===void 0?new VEe(c,e,t):new HEe(c,e,t));break}else{let u=r.map[c];u===void 0&&(u=new WEe(c),rN(r,u)),r=u}}}var zw=class{constructor(e,t){this.seq=[],this.map={};let r=e.getProgramParameter(t,35718);for(let n=0;n<r;++n){let i=e.getActiveUniform(t,n),o=e.getUniformLocation(t,i.name);GEe(i,o,this)}}setValue(e,t,r,n){let i=this.map[t];i!==void 0&&i.setValue(e,r,n)}setOptional(e,t,r){let n=t[r];n!==void 0&&this.setValue(e,r,n)}static upload(e,t,r,n){for(let i=0,o=t.length;i!==o;++i){let l=t[i],c=r[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,n)}}static seqWithValue(e,t){let r=[];for(let n=0,i=e.length;n!==i;++n){let o=e[n];o.id in t&&r.push(o)}return r}};function nN(e,t,r){let n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}var qEe=0;function YEe(e,t){let r=e.split(`
`),n=[],i=Math.max(t-6,0),o=Math.min(t+6,r.length);for(let l=i;l<o;l++){let c=l+1;n.push(`${c===t?">":" "} ${c}: ${r[l]}`)}return n.join(`
`)}function XEe(e){switch(e){case rc:return["Linear","( value )"];case Ft:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function iN(e,t,r){let n=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(n&&i==="")return"";let o=/ERROR: 0:(\d+)/.exec(i);if(o){let l=parseInt(o[1]);return r.toUpperCase()+`

`+i+`

`+YEe(e.getShaderSource(t),l)}else return i}function $Ee(e,t){let r=XEe(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function KEe(e,t){let r;switch(t){case rwe:r="Linear";break;case nwe:r="Reinhard";break;case iwe:r="OptimizedCineon";break;case owe:r="ACESFilmic";break;case awe:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),r="Linear"}return"vec3 "+e+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function QEe(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Mv).join(`
`)}function JEe(e){let t=[];for(let r in e){let n=e[r];n!==!1&&t.push("#define "+r+" "+n)}return t.join(`
`)}function ZEe(e,t){let r={},n=e.getProgramParameter(t,35721);for(let i=0;i<n;i++){let o=e.getActiveAttrib(t,i),l=o.name,c=1;o.type===35674&&(c=2),o.type===35675&&(c=3),o.type===35676&&(c=4),r[l]={type:o.type,location:e.getAttribLocation(t,l),locationSize:c}}return r}function Mv(e){return e!==""}function oN(e,t){let r=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,r).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function aN(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var e3e=/^[ \t]*#include +<([\w\d./]+)>/gm;function Y4(e){return e.replace(e3e,t3e)}function t3e(e,t){let r=Wt[t];if(r===void 0)throw new Error("Can not resolve #include <"+t+">");return Y4(r)}var r3e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function sN(e){return e.replace(r3e,n3e)}function n3e(e,t,r,n){let i="";for(let o=parseInt(t);o<parseInt(r);o++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function lN(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function i3e(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===vj?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===Oxe?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Cv&&(t="SHADOWMAP_TYPE_VSM"),t}function o3e(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case bf:case xf:t="ENVMAP_TYPE_CUBE";break;case W1:t="ENVMAP_TYPE_CUBE_UV";break}return t}function a3e(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case xf:t="ENVMAP_MODE_REFRACTION";break}return t}function s3e(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case EX:t="ENVMAP_BLENDING_MULTIPLY";break;case ewe:t="ENVMAP_BLENDING_MIX";break;case twe:t="ENVMAP_BLENDING_ADD";break}return t}function l3e(e){let t=e.envMapCubeUVHeight;if(t===null)return null;let r=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,r),7*16)),texelHeight:n,maxMip:r}}function c3e(e,t,r,n){let i=e.getContext(),o=r.defines,l=r.vertexShader,c=r.fragmentShader,a=i3e(r),s=o3e(r),u=a3e(r),d=s3e(r),h=l3e(r),f=r.isWebGL2?"":QEe(r),m=JEe(o),p=i.createProgram(),g,v,x=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(g=[m].filter(Mv).join(`
`),g.length>0&&(g+=`
`),v=[f,m].filter(Mv).join(`
`),v.length>0&&(v+=`
`)):(g=[lN(r),"#define SHADER_NAME "+r.shaderName,m,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+u:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+a:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Mv).join(`
`),v=[f,lN(r),"#define SHADER_NAME "+r.shaderName,m,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+s:"",r.envMap?"#define "+u:"",r.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+a:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==nu?"#define TONE_MAPPING":"",r.toneMapping!==nu?Wt.tonemapping_pars_fragment:"",r.toneMapping!==nu?KEe("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",Wt.encodings_pars_fragment,$Ee("linearToOutputTexel",r.outputEncoding),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(Mv).join(`
`)),l=Y4(l),l=oN(l,r),l=aN(l,r),c=Y4(c),c=oN(c,r),c=aN(c,r),l=sN(l),c=sN(c),r.isWebGL2&&r.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,v=["#define varying in",r.glslVersion===jz?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===jz?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);let y=x+g+l,b=x+v+c,w=nN(i,35633,y),_=nN(i,35632,b);if(i.attachShader(p,w),i.attachShader(p,_),r.index0AttributeName!==void 0?i.bindAttribLocation(p,0,r.index0AttributeName):r.morphTargets===!0&&i.bindAttribLocation(p,0,"position"),i.linkProgram(p),e.debug.checkShaderErrors){let C=i.getProgramInfoLog(p).trim(),A=i.getShaderInfoLog(w).trim(),T=i.getShaderInfoLog(_).trim(),k=!0,D=!0;if(i.getProgramParameter(p,35714)===!1){k=!1;let M=iN(i,w,"vertex"),P=iN(i,_,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(p,35715)+`

Program Info Log: `+C+`
`+M+`
`+P)}else C!==""?console.warn("THREE.WebGLProgram: Program Info Log:",C):(A===""||T==="")&&(D=!1);D&&(this.diagnostics={runnable:k,programLog:C,vertexShader:{log:A,prefix:g},fragmentShader:{log:T,prefix:v}})}i.deleteShader(w),i.deleteShader(_);let S;this.getUniforms=function(){return S===void 0&&(S=new zw(i,p)),S};let E;return this.getAttributes=function(){return E===void 0&&(E=ZEe(i,p)),E},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(p),this.program=void 0},this.name=r.shaderName,this.id=qEe++,this.cacheKey=t,this.usedTimes=1,this.program=p,this.vertexShader=w,this.fragmentShader=_,this}var u3e=0,d3e=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,r=e.fragmentShader,n=this._getShaderStage(t),i=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(n)===!1&&(o.add(n),n.usedTimes++),o.has(i)===!1&&(o.add(i),i.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){let t=this.shaderCache,r=t.get(e);return r===void 0&&(r=new h3e(e),t.set(e,r)),r}},h3e=class{constructor(e){this.id=u3e++,this.code=e,this.usedTimes=0}};function f3e(e,t,r,n,i,o,l){let c=new wj,a=new d3e,s=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,h=i.vertexTextures,f=i.precision,m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(E,C,A,T,k){let D=T.fog,M=k.geometry,P=E.isMeshStandardMaterial?T.environment:null,j=(E.isMeshStandardMaterial?r:t).get(E.envMap||P),O=j&&j.mapping===W1?j.image.height:null,I=m[E.type];E.precision!==null&&(f=i.getMaxPrecision(E.precision),f!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",f,"instead."));let N=M.morphAttributes.position||M.morphAttributes.normal||M.morphAttributes.color,L=N!==void 0?N.length:0,B=0;M.morphAttributes.position!==void 0&&(B=1),M.morphAttributes.normal!==void 0&&(B=2),M.morphAttributes.color!==void 0&&(B=3);let R,z,W,U;if(I){let Y=Dl[I];R=Y.vertexShader,z=Y.fragmentShader}else R=E.vertexShader,z=E.fragmentShader,a.update(E),W=a.getVertexShaderID(E),U=a.getFragmentShaderID(E);let H=e.getRenderTarget(),X=E.alphaTest>0,K=E.clearcoat>0,Q=E.iridescence>0;return{isWebGL2:u,shaderID:I,shaderName:E.type,vertexShader:R,fragmentShader:z,defines:E.defines,customVertexShaderID:W,customFragmentShaderID:U,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:f,instancing:k.isInstancedMesh===!0,instancingColor:k.isInstancedMesh===!0&&k.instanceColor!==null,supportsVertexTextures:h,outputEncoding:H===null?e.outputEncoding:H.isXRRenderTarget===!0?H.texture.encoding:rc,map:!!E.map,matcap:!!E.matcap,envMap:!!j,envMapMode:j&&j.mapping,envMapCubeUVHeight:O,lightMap:!!E.lightMap,aoMap:!!E.aoMap,emissiveMap:!!E.emissiveMap,bumpMap:!!E.bumpMap,normalMap:!!E.normalMap,objectSpaceNormalMap:E.normalMapType===Swe,tangentSpaceNormalMap:E.normalMapType===_we,decodeVideoTexture:!!E.map&&E.map.isVideoTexture===!0&&E.map.encoding===Ft,clearcoat:K,clearcoatMap:K&&!!E.clearcoatMap,clearcoatRoughnessMap:K&&!!E.clearcoatRoughnessMap,clearcoatNormalMap:K&&!!E.clearcoatNormalMap,iridescence:Q,iridescenceMap:Q&&!!E.iridescenceMap,iridescenceThicknessMap:Q&&!!E.iridescenceThicknessMap,displacementMap:!!E.displacementMap,roughnessMap:!!E.roughnessMap,metalnessMap:!!E.metalnessMap,specularMap:!!E.specularMap,specularIntensityMap:!!E.specularIntensityMap,specularColorMap:!!E.specularColorMap,opaque:E.transparent===!1&&E.blending===Qh,alphaMap:!!E.alphaMap,alphaTest:X,gradientMap:!!E.gradientMap,sheen:E.sheen>0,sheenColorMap:!!E.sheenColorMap,sheenRoughnessMap:!!E.sheenRoughnessMap,transmission:E.transmission>0,transmissionMap:!!E.transmissionMap,thicknessMap:!!E.thicknessMap,combine:E.combine,vertexTangents:!!E.normalMap&&!!M.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!M.attributes.color&&M.attributes.color.itemSize===4,vertexUvs:!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatMap||!!E.clearcoatRoughnessMap||!!E.clearcoatNormalMap||!!E.iridescenceMap||!!E.iridescenceThicknessMap||!!E.displacementMap||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||!!E.sheenColorMap||!!E.sheenRoughnessMap,uvsVertexOnly:!(E.map||E.bumpMap||E.normalMap||E.specularMap||E.alphaMap||E.emissiveMap||E.roughnessMap||E.metalnessMap||E.clearcoatNormalMap||E.iridescenceMap||E.iridescenceThicknessMap||E.transmission>0||E.transmissionMap||E.thicknessMap||E.specularIntensityMap||E.specularColorMap||E.sheen>0||E.sheenColorMap||E.sheenRoughnessMap)&&!!E.displacementMap,fog:!!D,useFog:E.fog===!0,fogExp2:D&&D.isFogExp2,flatShading:!!E.flatShading,sizeAttenuation:E.sizeAttenuation,logarithmicDepthBuffer:d,skinning:k.isSkinnedMesh===!0,morphTargets:M.morphAttributes.position!==void 0,morphNormals:M.morphAttributes.normal!==void 0,morphColors:M.morphAttributes.color!==void 0,morphTargetsCount:L,morphTextureStride:B,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numSpotLightMaps:C.spotLightMap.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numSpotLightShadowsWithMaps:C.numSpotLightShadowsWithMaps,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:E.dithering,shadowMapEnabled:e.shadowMap.enabled&&A.length>0,shadowMapType:e.shadowMap.type,toneMapping:E.toneMapped?e.toneMapping:nu,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===Bo,flipSided:E.side===bi,useDepthPacking:!!E.depthPacking,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:E.extensions&&E.extensions.derivatives,extensionFragDepth:E.extensions&&E.extensions.fragDepth,extensionDrawBuffers:E.extensions&&E.extensions.drawBuffers,extensionShaderTextureLOD:E.extensions&&E.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||n.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function g(E){let C=[];if(E.shaderID?C.push(E.shaderID):(C.push(E.customVertexShaderID),C.push(E.customFragmentShaderID)),E.defines!==void 0)for(let A in E.defines)C.push(A),C.push(E.defines[A]);return E.isRawShaderMaterial===!1&&(v(C,E),x(C,E),C.push(e.outputEncoding)),C.push(E.customProgramCacheKey),C.join()}function v(E,C){E.push(C.precision),E.push(C.outputEncoding),E.push(C.envMapMode),E.push(C.envMapCubeUVHeight),E.push(C.combine),E.push(C.vertexUvs),E.push(C.fogExp2),E.push(C.sizeAttenuation),E.push(C.morphTargetsCount),E.push(C.morphAttributeCount),E.push(C.numDirLights),E.push(C.numPointLights),E.push(C.numSpotLights),E.push(C.numSpotLightMaps),E.push(C.numHemiLights),E.push(C.numRectAreaLights),E.push(C.numDirLightShadows),E.push(C.numPointLightShadows),E.push(C.numSpotLightShadows),E.push(C.numSpotLightShadowsWithMaps),E.push(C.shadowMapType),E.push(C.toneMapping),E.push(C.numClippingPlanes),E.push(C.numClipIntersection),E.push(C.depthPacking)}function x(E,C){c.disableAll(),C.isWebGL2&&c.enable(0),C.supportsVertexTextures&&c.enable(1),C.instancing&&c.enable(2),C.instancingColor&&c.enable(3),C.map&&c.enable(4),C.matcap&&c.enable(5),C.envMap&&c.enable(6),C.lightMap&&c.enable(7),C.aoMap&&c.enable(8),C.emissiveMap&&c.enable(9),C.bumpMap&&c.enable(10),C.normalMap&&c.enable(11),C.objectSpaceNormalMap&&c.enable(12),C.tangentSpaceNormalMap&&c.enable(13),C.clearcoat&&c.enable(14),C.clearcoatMap&&c.enable(15),C.clearcoatRoughnessMap&&c.enable(16),C.clearcoatNormalMap&&c.enable(17),C.iridescence&&c.enable(18),C.iridescenceMap&&c.enable(19),C.iridescenceThicknessMap&&c.enable(20),C.displacementMap&&c.enable(21),C.specularMap&&c.enable(22),C.roughnessMap&&c.enable(23),C.metalnessMap&&c.enable(24),C.gradientMap&&c.enable(25),C.alphaMap&&c.enable(26),C.alphaTest&&c.enable(27),C.vertexColors&&c.enable(28),C.vertexAlphas&&c.enable(29),C.vertexUvs&&c.enable(30),C.vertexTangents&&c.enable(31),C.uvsVertexOnly&&c.enable(32),E.push(c.mask),c.disableAll(),C.fog&&c.enable(0),C.useFog&&c.enable(1),C.flatShading&&c.enable(2),C.logarithmicDepthBuffer&&c.enable(3),C.skinning&&c.enable(4),C.morphTargets&&c.enable(5),C.morphNormals&&c.enable(6),C.morphColors&&c.enable(7),C.premultipliedAlpha&&c.enable(8),C.shadowMapEnabled&&c.enable(9),C.physicallyCorrectLights&&c.enable(10),C.doubleSided&&c.enable(11),C.flipSided&&c.enable(12),C.useDepthPacking&&c.enable(13),C.dithering&&c.enable(14),C.specularIntensityMap&&c.enable(15),C.specularColorMap&&c.enable(16),C.transmission&&c.enable(17),C.transmissionMap&&c.enable(18),C.thicknessMap&&c.enable(19),C.sheen&&c.enable(20),C.sheenColorMap&&c.enable(21),C.sheenRoughnessMap&&c.enable(22),C.decodeVideoTexture&&c.enable(23),C.opaque&&c.enable(24),E.push(c.mask)}function y(E){let C=m[E.type],A;if(C){let T=Dl[C];A=Qg.clone(T.uniforms)}else A=E.uniforms;return A}function b(E,C){let A;for(let T=0,k=s.length;T<k;T++){let D=s[T];if(D.cacheKey===C){A=D,++A.usedTimes;break}}return A===void 0&&(A=new c3e(e,C,E,o),s.push(A)),A}function w(E){if(--E.usedTimes===0){let C=s.indexOf(E);s[C]=s[s.length-1],s.pop(),E.destroy()}}function _(E){a.remove(E)}function S(){a.dispose()}return{getParameters:p,getProgramCacheKey:g,getUniforms:y,acquireProgram:b,releaseProgram:w,releaseShaderCache:_,programs:s,dispose:S}}function p3e(){let e=new WeakMap;function t(o){let l=e.get(o);return l===void 0&&(l={},e.set(o,l)),l}function r(o){e.delete(o)}function n(o,l,c){e.get(o)[l]=c}function i(){e=new WeakMap}return{get:t,remove:r,update:n,dispose:i}}function m3e(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function cN(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function uN(){let e=[],t=0,r=[],n=[],i=[];function o(){t=0,r.length=0,n.length=0,i.length=0}function l(d,h,f,m,p,g){let v=e[t];return v===void 0?(v={id:d.id,object:d,geometry:h,material:f,groupOrder:m,renderOrder:d.renderOrder,z:p,group:g},e[t]=v):(v.id=d.id,v.object=d,v.geometry=h,v.material=f,v.groupOrder=m,v.renderOrder=d.renderOrder,v.z=p,v.group=g),t++,v}function c(d,h,f,m,p,g){let v=l(d,h,f,m,p,g);f.transmission>0?n.push(v):f.transparent===!0?i.push(v):r.push(v)}function a(d,h,f,m,p,g){let v=l(d,h,f,m,p,g);f.transmission>0?n.unshift(v):f.transparent===!0?i.unshift(v):r.unshift(v)}function s(d,h){r.length>1&&r.sort(d||m3e),n.length>1&&n.sort(h||cN),i.length>1&&i.sort(h||cN)}function u(){for(let d=t,h=e.length;d<h;d++){let f=e[d];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:r,transmissive:n,transparent:i,init:o,push:c,unshift:a,finish:u,sort:s}}function g3e(){let e=new WeakMap;function t(n,i){let o=e.get(n),l;return o===void 0?(l=new uN,e.set(n,[l])):i>=o.length?(l=new uN,o.push(l)):l=o[i],l}function r(){e=new WeakMap}return{get:t,dispose:r}}function v3e(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let r;switch(t.type){case"DirectionalLight":r={direction:new V,color:new wt};break;case"SpotLight":r={position:new V,direction:new V,color:new wt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new V,color:new wt,distance:0,decay:0};break;case"HemisphereLight":r={direction:new V,skyColor:new wt,groundColor:new wt};break;case"RectAreaLight":r={color:new wt,position:new V,halfWidth:new V,halfHeight:new V};break}return e[t.id]=r,r}}}function y3e(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let r;switch(t.type){case"DirectionalLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new oe};break;case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new oe};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new oe,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=r,r}}}var b3e=0;function x3e(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function w3e(e,t){let r=new v3e,n=y3e(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new V);let o=new V,l=new Ne,c=new Ne;function a(u,d){let h=0,f=0,m=0;for(let T=0;T<9;T++)i.probe[T].set(0,0,0);let p=0,g=0,v=0,x=0,y=0,b=0,w=0,_=0,S=0,E=0;u.sort(x3e);let C=d!==!0?Math.PI:1;for(let T=0,k=u.length;T<k;T++){let D=u[T],M=D.color,P=D.intensity,j=D.distance,O=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)h+=M.r*P*C,f+=M.g*P*C,m+=M.b*P*C;else if(D.isLightProbe)for(let I=0;I<9;I++)i.probe[I].addScaledVector(D.sh.coefficients[I],P);else if(D.isDirectionalLight){let I=r.get(D);if(I.color.copy(D.color).multiplyScalar(D.intensity*C),D.castShadow){let N=D.shadow,L=n.get(D);L.shadowBias=N.bias,L.shadowNormalBias=N.normalBias,L.shadowRadius=N.radius,L.shadowMapSize=N.mapSize,i.directionalShadow[p]=L,i.directionalShadowMap[p]=O,i.directionalShadowMatrix[p]=D.shadow.matrix,b++}i.directional[p]=I,p++}else if(D.isSpotLight){let I=r.get(D);I.position.setFromMatrixPosition(D.matrixWorld),I.color.copy(M).multiplyScalar(P*C),I.distance=j,I.coneCos=Math.cos(D.angle),I.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),I.decay=D.decay,i.spot[v]=I;let N=D.shadow;if(D.map&&(i.spotLightMap[S]=D.map,S++,N.updateMatrices(D),D.castShadow&&E++),i.spotLightMatrix[v]=N.matrix,D.castShadow){let L=n.get(D);L.shadowBias=N.bias,L.shadowNormalBias=N.normalBias,L.shadowRadius=N.radius,L.shadowMapSize=N.mapSize,i.spotShadow[v]=L,i.spotShadowMap[v]=O,_++}v++}else if(D.isRectAreaLight){let I=r.get(D);I.color.copy(M).multiplyScalar(P),I.halfWidth.set(D.width*.5,0,0),I.halfHeight.set(0,D.height*.5,0),i.rectArea[x]=I,x++}else if(D.isPointLight){let I=r.get(D);if(I.color.copy(D.color).multiplyScalar(D.intensity*C),I.distance=D.distance,I.decay=D.decay,D.castShadow){let N=D.shadow,L=n.get(D);L.shadowBias=N.bias,L.shadowNormalBias=N.normalBias,L.shadowRadius=N.radius,L.shadowMapSize=N.mapSize,L.shadowCameraNear=N.camera.near,L.shadowCameraFar=N.camera.far,i.pointShadow[g]=L,i.pointShadowMap[g]=O,i.pointShadowMatrix[g]=D.shadow.matrix,w++}i.point[g]=I,g++}else if(D.isHemisphereLight){let I=r.get(D);I.skyColor.copy(D.color).multiplyScalar(P*C),I.groundColor.copy(D.groundColor).multiplyScalar(P*C),i.hemi[y]=I,y++}}x>0&&(t.isWebGL2||e.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Qe.LTC_FLOAT_1,i.rectAreaLTC2=Qe.LTC_FLOAT_2):e.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Qe.LTC_HALF_1,i.rectAreaLTC2=Qe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=f,i.ambient[2]=m;let A=i.hash;(A.directionalLength!==p||A.pointLength!==g||A.spotLength!==v||A.rectAreaLength!==x||A.hemiLength!==y||A.numDirectionalShadows!==b||A.numPointShadows!==w||A.numSpotShadows!==_||A.numSpotMaps!==S)&&(i.directional.length=p,i.spot.length=v,i.rectArea.length=x,i.point.length=g,i.hemi.length=y,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=_,i.spotShadowMap.length=_,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=w,i.spotLightMatrix.length=_+S-E,i.spotLightMap.length=S,i.numSpotLightShadowsWithMaps=E,A.directionalLength=p,A.pointLength=g,A.spotLength=v,A.rectAreaLength=x,A.hemiLength=y,A.numDirectionalShadows=b,A.numPointShadows=w,A.numSpotShadows=_,A.numSpotMaps=S,i.version=b3e++)}function s(u,d){let h=0,f=0,m=0,p=0,g=0,v=d.matrixWorldInverse;for(let x=0,y=u.length;x<y;x++){let b=u[x];if(b.isDirectionalLight){let w=i.directional[h];w.direction.setFromMatrixPosition(b.matrixWorld),o.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(o),w.direction.transformDirection(v),h++}else if(b.isSpotLight){let w=i.spot[m];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),w.direction.setFromMatrixPosition(b.matrixWorld),o.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(o),w.direction.transformDirection(v),m++}else if(b.isRectAreaLight){let w=i.rectArea[p];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),c.identity(),l.copy(b.matrixWorld),l.premultiply(v),c.extractRotation(l),w.halfWidth.set(b.width*.5,0,0),w.halfHeight.set(0,b.height*.5,0),w.halfWidth.applyMatrix4(c),w.halfHeight.applyMatrix4(c),p++}else if(b.isPointLight){let w=i.point[f];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),f++}else if(b.isHemisphereLight){let w=i.hemi[g];w.direction.setFromMatrixPosition(b.matrixWorld),w.direction.transformDirection(v),g++}}}return{setup:a,setupView:s,state:i}}function dN(e,t){let r=new w3e(e,t),n=[],i=[];function o(){n.length=0,i.length=0}function l(u){n.push(u)}function c(u){i.push(u)}function a(u){r.setup(n,u)}function s(u){r.setupView(n,u)}return{init:o,state:{lightsArray:n,shadowsArray:i,lights:r},setupLights:a,setupLightsView:s,pushLight:l,pushShadow:c}}function _3e(e,t){let r=new WeakMap;function n(o,l=0){let c=r.get(o),a;return c===void 0?(a=new dN(e,t),r.set(o,[a])):l>=c.length?(a=new dN(e,t),c.push(a)):a=c[l],a}function i(){r=new WeakMap}return{get:n,dispose:i}}var WX=class extends G1{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Au,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},S3e=class extends G1{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new V,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}},E3e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,A3e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function C3e(e,t,r){let n=new Sj,i=new oe,o=new oe,l=new Ut,c=new WX({depthPacking:kX}),a=new S3e,s={},u=r.maxTextureSize,d={[rl]:bi,[bi]:rl,[Bo]:Bo},h=new Or({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new oe},radius:{value:4}},vertexShader:E3e,fragmentShader:A3e}),f=h.clone();f.defines.HORIZONTAL_PASS=1;let m=new vt;m.setAttribute("position",new kt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let p=new vo(m,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=vj,this.render=function(b,w,_){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||b.length===0)return;let S=e.getRenderTarget(),E=e.getActiveCubeFace(),C=e.getActiveMipmapLevel(),A=e.state;A.setBlending(Qn),A.buffers.color.setClear(1,1,1,1),A.buffers.depth.setTest(!0),A.setScissorTest(!1);for(let T=0,k=b.length;T<k;T++){let D=b[T],M=D.shadow;if(M===void 0){console.warn("THREE.WebGLShadowMap:",D,"has no shadow.");continue}if(M.autoUpdate===!1&&M.needsUpdate===!1)continue;i.copy(M.mapSize);let P=M.getFrameExtents();if(i.multiply(P),o.copy(M.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/P.x),i.x=o.x*P.x,M.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/P.y),i.y=o.y*P.y,M.mapSize.y=o.y)),M.map===null){let O=this.type!==Cv?{minFilter:Nr,magFilter:Nr}:{};M.map=new Cr(i.x,i.y,O),M.map.texture.name=D.name+".shadowMap",M.camera.updateProjectionMatrix()}e.setRenderTarget(M.map),e.clear();let j=M.getViewportCount();for(let O=0;O<j;O++){let I=M.getViewport(O);l.set(o.x*I.x,o.y*I.y,o.x*I.z,o.y*I.w),A.viewport(l),M.updateMatrices(D,O),n=M.getFrustum(),y(w,_,M.camera,D,this.type)}M.isPointLightShadow!==!0&&this.type===Cv&&v(M,_),M.needsUpdate=!1}g.needsUpdate=!1,e.setRenderTarget(S,E,C)};function v(b,w){let _=t.update(p);h.defines.VSM_SAMPLES!==b.blurSamples&&(h.defines.VSM_SAMPLES=b.blurSamples,f.defines.VSM_SAMPLES=b.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new Cr(i.x,i.y)),h.uniforms.shadow_pass.value=b.map.texture,h.uniforms.resolution.value=b.mapSize,h.uniforms.radius.value=b.radius,e.setRenderTarget(b.mapPass),e.clear(),e.renderBufferDirect(w,null,_,h,p,null),f.uniforms.shadow_pass.value=b.mapPass.texture,f.uniforms.resolution.value=b.mapSize,f.uniforms.radius.value=b.radius,e.setRenderTarget(b.map),e.clear(),e.renderBufferDirect(w,null,_,f,p,null)}function x(b,w,_,S,E,C){let A=null,T=_.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(T!==void 0)A=T;else if(A=_.isPointLight===!0?a:c,e.localClippingEnabled&&w.clipShadows===!0&&Array.isArray(w.clippingPlanes)&&w.clippingPlanes.length!==0||w.displacementMap&&w.displacementScale!==0||w.alphaMap&&w.alphaTest>0||w.map&&w.alphaTest>0){let k=A.uuid,D=w.uuid,M=s[k];M===void 0&&(M={},s[k]=M);let P=M[D];P===void 0&&(P=A.clone(),M[D]=P),A=P}return A.visible=w.visible,A.wireframe=w.wireframe,C===Cv?A.side=w.shadowSide!==null?w.shadowSide:w.side:A.side=w.shadowSide!==null?w.shadowSide:d[w.side],A.alphaMap=w.alphaMap,A.alphaTest=w.alphaTest,A.map=w.map,A.clipShadows=w.clipShadows,A.clippingPlanes=w.clippingPlanes,A.clipIntersection=w.clipIntersection,A.displacementMap=w.displacementMap,A.displacementScale=w.displacementScale,A.displacementBias=w.displacementBias,A.wireframeLinewidth=w.wireframeLinewidth,A.linewidth=w.linewidth,_.isPointLight===!0&&A.isMeshDistanceMaterial===!0&&(A.referencePosition.setFromMatrixPosition(_.matrixWorld),A.nearDistance=S,A.farDistance=E),A}function y(b,w,_,S,E){if(b.visible===!1)return;if(b.layers.test(w.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&E===Cv)&&(!b.frustumCulled||n.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(_.matrixWorldInverse,b.matrixWorld);let A=t.update(b),T=b.material;if(Array.isArray(T)){let k=A.groups;for(let D=0,M=k.length;D<M;D++){let P=k[D],j=T[P.materialIndex];if(j&&j.visible){let O=x(b,j,S,_.near,_.far,E);e.renderBufferDirect(_,null,A,O,b,P)}}}else if(T.visible){let k=x(b,T,S,_.near,_.far,E);e.renderBufferDirect(_,null,A,k,b,null)}}let C=b.children;for(let A=0,T=C.length;A<T;A++)y(C[A],w,_,S,E)}}function M3e(e,t,r){let n=r.isWebGL2;function i(){let re=!1,be=new Ut,Ae=null,Ue=new Ut(0,0,0,0);return{setMask:function(mt){Ae!==mt&&!re&&(e.colorMask(mt,mt,mt,mt),Ae=mt)},setLocked:function(mt){re=mt},setClear:function(mt,ht,se,ge,Se){Se===!0&&(mt*=ge,ht*=ge,se*=ge),be.set(mt,ht,se,ge),Ue.equals(be)===!1&&(e.clearColor(mt,ht,se,ge),Ue.copy(be))},reset:function(){re=!1,Ae=null,Ue.set(-1,0,0,0)}}}function o(){let re=!1,be=null,Ae=null,Ue=null;return{setTest:function(mt){mt?X(2929):K(2929)},setMask:function(mt){be!==mt&&!re&&(e.depthMask(mt),be=mt)},setFunc:function(mt){if(Ae!==mt){switch(mt){case Yxe:e.depthFunc(512);break;case Xxe:e.depthFunc(519);break;case $xe:e.depthFunc(513);break;case F4:e.depthFunc(515);break;case Kxe:e.depthFunc(514);break;case Qxe:e.depthFunc(518);break;case Jxe:e.depthFunc(516);break;case Zxe:e.depthFunc(517);break;default:e.depthFunc(515)}Ae=mt}},setLocked:function(mt){re=mt},setClear:function(mt){Ue!==mt&&(e.clearDepth(mt),Ue=mt)},reset:function(){re=!1,be=null,Ae=null,Ue=null}}}function l(){let re=!1,be=null,Ae=null,Ue=null,mt=null,ht=null,se=null,ge=null,Se=null;return{setTest:function(Pe){re||(Pe?X(2960):K(2960))},setMask:function(Pe){be!==Pe&&!re&&(e.stencilMask(Pe),be=Pe)},setFunc:function(Pe,Je,et){(Ae!==Pe||Ue!==Je||mt!==et)&&(e.stencilFunc(Pe,Je,et),Ae=Pe,Ue=Je,mt=et)},setOp:function(Pe,Je,et){(ht!==Pe||se!==Je||ge!==et)&&(e.stencilOp(Pe,Je,et),ht=Pe,se=Je,ge=et)},setLocked:function(Pe){re=Pe},setClear:function(Pe){Se!==Pe&&(e.clearStencil(Pe),Se=Pe)},reset:function(){re=!1,be=null,Ae=null,Ue=null,mt=null,ht=null,se=null,ge=null,Se=null}}}let c=new i,a=new o,s=new l,u=new WeakMap,d=new WeakMap,h={},f={},m=new WeakMap,p=[],g=null,v=!1,x=null,y=null,b=null,w=null,_=null,S=null,E=null,C=!1,A=null,T=null,k=null,D=null,M=null,P=e.getParameter(35661),j=!1,O=0,I=e.getParameter(7938);I.indexOf("WebGL")!==-1?(O=parseFloat(/^WebGL (\d)/.exec(I)[1]),j=O>=1):I.indexOf("OpenGL ES")!==-1&&(O=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),j=O>=2);let N=null,L={},B=e.getParameter(3088),R=e.getParameter(2978),z=new Ut().fromArray(B),W=new Ut().fromArray(R);function U(re,be,Ae){let Ue=new Uint8Array(4),mt=e.createTexture();e.bindTexture(re,mt),e.texParameteri(re,10241,9728),e.texParameteri(re,10240,9728);for(let ht=0;ht<Ae;ht++)e.texImage2D(be+ht,0,6408,1,1,0,6408,5121,Ue);return mt}let H={};H[3553]=U(3553,3553,1),H[34067]=U(34067,34069,6),c.setClear(0,0,0,1),a.setClear(1),s.setClear(0),X(2929),a.setFunc(F4),je(!1),Ee(rz),X(2884),ne(Qn);function X(re){h[re]!==!0&&(e.enable(re),h[re]=!0)}function K(re){h[re]!==!1&&(e.disable(re),h[re]=!1)}function Q(re,be){return f[re]!==be?(e.bindFramebuffer(re,be),f[re]=be,n&&(re===36009&&(f[36160]=be),re===36160&&(f[36009]=be)),!0):!1}function Y(re,be){let Ae=p,Ue=!1;if(re)if(Ae=m.get(be),Ae===void 0&&(Ae=[],m.set(be,Ae)),re.isWebGLMultipleRenderTargets){let mt=re.texture;if(Ae.length!==mt.length||Ae[0]!==36064){for(let ht=0,se=mt.length;ht<se;ht++)Ae[ht]=36064+ht;Ae.length=mt.length,Ue=!0}}else Ae[0]!==36064&&(Ae[0]=36064,Ue=!0);else Ae[0]!==1029&&(Ae[0]=1029,Ue=!0);Ue&&(r.isWebGL2?e.drawBuffers(Ae):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ae))}function $(re){return g!==re?(e.useProgram(re),g=re,!0):!1}let J={[zp]:32774,[Lxe]:32778,[zxe]:32779};if(n)J[az]=32775,J[sz]=32776;else{let re=t.get("EXT_blend_minmax");re!==null&&(J[az]=re.MIN_EXT,J[sz]=re.MAX_EXT)}let ie={[Nxe]:0,[Bxe]:1,[Fxe]:768,[_X]:770,[qxe]:776,[Wxe]:774,[Vxe]:772,[Uxe]:769,[SX]:771,[Gxe]:775,[Hxe]:773};function ne(re,be,Ae,Ue,mt,ht,se,ge){if(re===Qn){v===!0&&(K(3042),v=!1);return}if(v===!1&&(X(3042),v=!0),re!==Rxe){if(re!==x||ge!==C){if((y!==zp||_!==zp)&&(e.blendEquation(32774),y=zp,_=zp),ge)switch(re){case Qh:e.blendFuncSeparate(1,771,1,771);break;case nz:e.blendFunc(1,1);break;case iz:e.blendFuncSeparate(0,769,0,1);break;case oz:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}else switch(re){case Qh:e.blendFuncSeparate(770,771,1,771);break;case nz:e.blendFunc(770,1);break;case iz:e.blendFuncSeparate(0,769,0,1);break;case oz:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}b=null,w=null,S=null,E=null,x=re,C=ge}return}mt=mt||be,ht=ht||Ae,se=se||Ue,(be!==y||mt!==_)&&(e.blendEquationSeparate(J[be],J[mt]),y=be,_=mt),(Ae!==b||Ue!==w||ht!==S||se!==E)&&(e.blendFuncSeparate(ie[Ae],ie[Ue],ie[ht],ie[se]),b=Ae,w=Ue,S=ht,E=se),x=re,C=!1}function ae(re,be){re.side===Bo?K(2884):X(2884);let Ae=re.side===bi;be&&(Ae=!Ae),je(Ae),re.blending===Qh&&re.transparent===!1?ne(Qn):ne(re.blending,re.blendEquation,re.blendSrc,re.blendDst,re.blendEquationAlpha,re.blendSrcAlpha,re.blendDstAlpha,re.premultipliedAlpha),a.setFunc(re.depthFunc),a.setTest(re.depthTest),a.setMask(re.depthWrite),c.setMask(re.colorWrite);let Ue=re.stencilWrite;s.setTest(Ue),Ue&&(s.setMask(re.stencilWriteMask),s.setFunc(re.stencilFunc,re.stencilRef,re.stencilFuncMask),s.setOp(re.stencilFail,re.stencilZFail,re.stencilZPass)),De(re.polygonOffset,re.polygonOffsetFactor,re.polygonOffsetUnits),re.alphaToCoverage===!0?X(32926):K(32926)}function je(re){A!==re&&(re?e.frontFace(2304):e.frontFace(2305),A=re)}function Ee(re){re!==jxe?(X(2884),re!==T&&(re===rz?e.cullFace(1029):re===Ixe?e.cullFace(1028):e.cullFace(1032))):K(2884),T=re}function we(re){re!==k&&(j&&e.lineWidth(re),k=re)}function De(re,be,Ae){re?(X(32823),(D!==be||M!==Ae)&&(e.polygonOffset(be,Ae),D=be,M=Ae)):K(32823)}function Le(re){re?X(3089):K(3089)}function Ie(re){re===void 0&&(re=33984+P-1),N!==re&&(e.activeTexture(re),N=re)}function ee(re,be,Ae){Ae===void 0&&(N===null?Ae=33984+P-1:Ae=N);let Ue=L[Ae];Ue===void 0&&(Ue={type:void 0,texture:void 0},L[Ae]=Ue),(Ue.type!==re||Ue.texture!==be)&&(N!==Ae&&(e.activeTexture(Ae),N=Ae),e.bindTexture(re,be||H[re]),Ue.type=re,Ue.texture=be)}function q(){let re=L[N];re!==void 0&&re.type!==void 0&&(e.bindTexture(re.type,null),re.type=void 0,re.texture=void 0)}function le(){try{e.compressedTexImage2D.apply(e,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Te(){try{e.compressedTexImage3D.apply(e,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function te(){try{e.texSubImage2D.apply(e,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ce(){try{e.texSubImage3D.apply(e,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Ce(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function fe(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function de(){try{e.texStorage2D.apply(e,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Fe(){try{e.texStorage3D.apply(e,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Be(){try{e.texImage2D.apply(e,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function _e(){try{e.texImage3D.apply(e,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Ve(re){z.equals(re)===!1&&(e.scissor(re.x,re.y,re.z,re.w),z.copy(re))}function Re(re){W.equals(re)===!1&&(e.viewport(re.x,re.y,re.z,re.w),W.copy(re))}function Ke(re,be){let Ae=d.get(be);Ae===void 0&&(Ae=new WeakMap,d.set(be,Ae));let Ue=Ae.get(re);Ue===void 0&&(Ue=e.getUniformBlockIndex(be,re.name),Ae.set(re,Ue))}function We(re,be){let Ae=d.get(be).get(re);u.get(be)!==Ae&&(e.uniformBlockBinding(be,Ae,re.__bindingPointIndex),u.set(be,Ae))}function He(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),n===!0&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),h={},N=null,L={},f={},m=new WeakMap,p=[],g=null,v=!1,x=null,y=null,b=null,w=null,_=null,S=null,E=null,C=!1,A=null,T=null,k=null,D=null,M=null,z.set(0,0,e.canvas.width,e.canvas.height),W.set(0,0,e.canvas.width,e.canvas.height),c.reset(),a.reset(),s.reset()}return{buffers:{color:c,depth:a,stencil:s},enable:X,disable:K,bindFramebuffer:Q,drawBuffers:Y,useProgram:$,setBlending:ne,setMaterial:ae,setFlipSided:je,setCullFace:Ee,setLineWidth:we,setPolygonOffset:De,setScissorTest:Le,activeTexture:Ie,bindTexture:ee,unbindTexture:q,compressedTexImage2D:le,compressedTexImage3D:Te,texImage2D:Be,texImage3D:_e,updateUBOMapping:Ke,uniformBlockBinding:We,texStorage2D:de,texStorage3D:Fe,texSubImage2D:te,texSubImage3D:ce,compressedTexSubImage2D:Ce,compressedTexSubImage3D:fe,scissor:Ve,viewport:Re,reset:He}}function T3e(e,t,r,n,i,o,l){let c=i.isWebGL2,a=i.maxTextures,s=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,f=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap,p,g=new WeakMap,v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(ee,q){return v?new OffscreenCanvas(ee,q):o2("canvas")}function y(ee,q,le,Te){let te=1;if((ee.width>Te||ee.height>Te)&&(te=Te/Math.max(ee.width,ee.height)),te<1||q===!0)if(typeof HTMLImageElement<"u"&&ee instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ee instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ee instanceof ImageBitmap){let ce=q?i2:Math.floor,Ce=ce(te*ee.width),fe=ce(te*ee.height);p===void 0&&(p=x(Ce,fe));let de=le?x(Ce,fe):p;return de.width=Ce,de.height=fe,de.getContext("2d").drawImage(ee,0,0,Ce,fe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ee.width+"x"+ee.height+") to ("+Ce+"x"+fe+")."),de}else return"data"in ee&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ee.width+"x"+ee.height+")."),ee;return ee}function b(ee){return q4(ee.width)&&q4(ee.height)}function w(ee){return c?!1:ee.wrapS!==jn||ee.wrapT!==jn||ee.minFilter!==Nr&&ee.minFilter!==Kt}function _(ee,q){return ee.generateMipmaps&&q&&ee.minFilter!==Nr&&ee.minFilter!==Kt}function S(ee){e.generateMipmap(ee)}function E(ee,q,le,Te,te=!1){if(c===!1)return q;if(ee!==null){if(e[ee]!==void 0)return e[ee];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ee+"'")}let ce=q;return q===6403&&(le===5126&&(ce=33326),le===5131&&(ce=33325),le===5121&&(ce=33321)),q===33319&&(le===5126&&(ce=33328),le===5131&&(ce=33327),le===5121&&(ce=33323)),q===6408&&(le===5126&&(ce=34836),le===5131&&(ce=34842),le===5121&&(ce=Te===Ft&&te===!1?35907:32856),le===32819&&(ce=32854),le===32820&&(ce=32855)),(ce===33325||ce===33326||ce===33327||ce===33328||ce===34842||ce===34836)&&t.get("EXT_color_buffer_float"),ce}function C(ee,q,le){return _(ee,le)===!0||ee.isFramebufferTexture&&ee.minFilter!==Nr&&ee.minFilter!==Kt?Math.log2(Math.max(q.width,q.height))+1:ee.mipmaps!==void 0&&ee.mipmaps.length>0?ee.mipmaps.length:ee.isCompressedTexture&&Array.isArray(ee.image)?q.mipmaps.length:1}function A(ee){return ee===Nr||ee===lz||ee===FA?9728:9729}function T(ee){let q=ee.target;q.removeEventListener("dispose",T),D(q),q.isVideoTexture&&m.delete(q)}function k(ee){let q=ee.target;q.removeEventListener("dispose",k),P(q)}function D(ee){let q=n.get(ee);if(q.__webglInit===void 0)return;let le=ee.source,Te=g.get(le);if(Te){let te=Te[q.__cacheKey];te.usedTimes--,te.usedTimes===0&&M(ee),Object.keys(Te).length===0&&g.delete(le)}n.remove(ee)}function M(ee){let q=n.get(ee);e.deleteTexture(q.__webglTexture);let le=ee.source,Te=g.get(le);delete Te[q.__cacheKey],l.memory.textures--}function P(ee){let q=ee.texture,le=n.get(ee),Te=n.get(q);if(Te.__webglTexture!==void 0&&(e.deleteTexture(Te.__webglTexture),l.memory.textures--),ee.depthTexture&&ee.depthTexture.dispose(),ee.isWebGLCubeRenderTarget)for(let te=0;te<6;te++)e.deleteFramebuffer(le.__webglFramebuffer[te]),le.__webglDepthbuffer&&e.deleteRenderbuffer(le.__webglDepthbuffer[te]);else{if(e.deleteFramebuffer(le.__webglFramebuffer),le.__webglDepthbuffer&&e.deleteRenderbuffer(le.__webglDepthbuffer),le.__webglMultisampledFramebuffer&&e.deleteFramebuffer(le.__webglMultisampledFramebuffer),le.__webglColorRenderbuffer)for(let te=0;te<le.__webglColorRenderbuffer.length;te++)le.__webglColorRenderbuffer[te]&&e.deleteRenderbuffer(le.__webglColorRenderbuffer[te]);le.__webglDepthRenderbuffer&&e.deleteRenderbuffer(le.__webglDepthRenderbuffer)}if(ee.isWebGLMultipleRenderTargets)for(let te=0,ce=q.length;te<ce;te++){let Ce=n.get(q[te]);Ce.__webglTexture&&(e.deleteTexture(Ce.__webglTexture),l.memory.textures--),n.remove(q[te])}n.remove(q),n.remove(ee)}let j=0;function O(){j=0}function I(){let ee=j;return ee>=a&&console.warn("THREE.WebGLTextures: Trying to use "+ee+" texture units while this GPU supports only "+a),j+=1,ee}function N(ee){let q=[];return q.push(ee.wrapS),q.push(ee.wrapT),q.push(ee.wrapR||0),q.push(ee.magFilter),q.push(ee.minFilter),q.push(ee.anisotropy),q.push(ee.internalFormat),q.push(ee.format),q.push(ee.type),q.push(ee.generateMipmaps),q.push(ee.premultiplyAlpha),q.push(ee.flipY),q.push(ee.unpackAlignment),q.push(ee.encoding),q.join()}function L(ee,q){let le=n.get(ee);if(ee.isVideoTexture&&Le(ee),ee.isRenderTargetTexture===!1&&ee.version>0&&le.__version!==ee.version){let Te=ee.image;if(Te===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Te.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{K(le,ee,q);return}}r.bindTexture(3553,le.__webglTexture,33984+q)}function B(ee,q){let le=n.get(ee);if(ee.version>0&&le.__version!==ee.version){K(le,ee,q);return}r.bindTexture(35866,le.__webglTexture,33984+q)}function R(ee,q){let le=n.get(ee);if(ee.version>0&&le.__version!==ee.version){K(le,ee,q);return}r.bindTexture(32879,le.__webglTexture,33984+q)}function z(ee,q){let le=n.get(ee);if(ee.version>0&&le.__version!==ee.version){Q(le,ee,q);return}r.bindTexture(34067,le.__webglTexture,33984+q)}let W={[$c]:10497,[jn]:33071,[H4]:33648},U={[Nr]:9728,[lz]:9984,[FA]:9986,[Kt]:9729,[swe]:9985,[mg]:9987};function H(ee,q,le){if(le?(e.texParameteri(ee,10242,W[q.wrapS]),e.texParameteri(ee,10243,W[q.wrapT]),(ee===32879||ee===35866)&&e.texParameteri(ee,32882,W[q.wrapR]),e.texParameteri(ee,10240,U[q.magFilter]),e.texParameteri(ee,10241,U[q.minFilter])):(e.texParameteri(ee,10242,33071),e.texParameteri(ee,10243,33071),(ee===32879||ee===35866)&&e.texParameteri(ee,32882,33071),(q.wrapS!==jn||q.wrapT!==jn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(ee,10240,A(q.magFilter)),e.texParameteri(ee,10241,A(q.minFilter)),q.minFilter!==Nr&&q.minFilter!==Kt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),t.has("EXT_texture_filter_anisotropic")===!0){let Te=t.get("EXT_texture_filter_anisotropic");if(q.magFilter===Nr||q.minFilter!==FA&&q.minFilter!==mg||q.type===go&&t.has("OES_texture_float_linear")===!1||c===!1&&q.type===wf&&t.has("OES_texture_half_float_linear")===!1)return;(q.anisotropy>1||n.get(q).__currentAnisotropy)&&(e.texParameterf(ee,Te.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(q.anisotropy,i.getMaxAnisotropy())),n.get(q).__currentAnisotropy=q.anisotropy)}}function X(ee,q){let le=!1;ee.__webglInit===void 0&&(ee.__webglInit=!0,q.addEventListener("dispose",T));let Te=q.source,te=g.get(Te);te===void 0&&(te={},g.set(Te,te));let ce=N(q);if(ce!==ee.__cacheKey){te[ce]===void 0&&(te[ce]={texture:e.createTexture(),usedTimes:0},l.memory.textures++,le=!0),te[ce].usedTimes++;let Ce=te[ee.__cacheKey];Ce!==void 0&&(te[ee.__cacheKey].usedTimes--,Ce.usedTimes===0&&M(q)),ee.__cacheKey=ce,ee.__webglTexture=te[ce].texture}return le}function K(ee,q,le){let Te=3553;(q.isDataArrayTexture||q.isCompressedArrayTexture)&&(Te=35866),q.isData3DTexture&&(Te=32879);let te=X(ee,q),ce=q.source;r.bindTexture(Te,ee.__webglTexture,33984+le);let Ce=n.get(ce);if(ce.version!==Ce.__version||te===!0){r.activeTexture(33984+le),e.pixelStorei(37440,q.flipY),e.pixelStorei(37441,q.premultiplyAlpha),e.pixelStorei(3317,q.unpackAlignment),e.pixelStorei(37443,0);let fe=w(q)&&b(q.image)===!1,de=y(q.image,fe,!1,u);de=Ie(q,de);let Fe=b(de)||c,Be=o.convert(q.format,q.encoding),_e=o.convert(q.type),Ve=E(q.internalFormat,Be,_e,q.encoding,q.isVideoTexture);H(Te,q,Fe);let Re,Ke=q.mipmaps,We=c&&q.isVideoTexture!==!0,He=Ce.__version===void 0||te===!0,re=C(q,de,Fe);if(q.isDepthTexture)Ve=6402,c?q.type===go?Ve=36012:q.type===Kc?Ve=33190:q.type===Jh?Ve=35056:Ve=33189:q.type===go&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),q.format===Zh&&Ve===6402&&q.type!==CX&&q.type!==Kc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),q.type=Kc,_e=o.convert(q.type)),q.format===_f&&Ve===6402&&(Ve=34041,q.type!==Jh&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),q.type=Jh,_e=o.convert(q.type))),He&&(We?r.texStorage2D(3553,1,Ve,de.width,de.height):r.texImage2D(3553,0,Ve,de.width,de.height,0,Be,_e,null));else if(q.isDataTexture)if(Ke.length>0&&Fe){We&&He&&r.texStorage2D(3553,re,Ve,Ke[0].width,Ke[0].height);for(let be=0,Ae=Ke.length;be<Ae;be++)Re=Ke[be],We?r.texSubImage2D(3553,be,0,0,Re.width,Re.height,Be,_e,Re.data):r.texImage2D(3553,be,Ve,Re.width,Re.height,0,Be,_e,Re.data);q.generateMipmaps=!1}else We?(He&&r.texStorage2D(3553,re,Ve,de.width,de.height),r.texSubImage2D(3553,0,0,0,de.width,de.height,Be,_e,de.data)):r.texImage2D(3553,0,Ve,de.width,de.height,0,Be,_e,de.data);else if(q.isCompressedTexture)if(q.isCompressedArrayTexture){We&&He&&r.texStorage3D(35866,re,Ve,Ke[0].width,Ke[0].height,de.depth);for(let be=0,Ae=Ke.length;be<Ae;be++)Re=Ke[be],q.format!==ma?Be!==null?We?r.compressedTexSubImage3D(35866,be,0,0,0,Re.width,Re.height,de.depth,Be,Re.data,0,0):r.compressedTexImage3D(35866,be,Ve,Re.width,Re.height,de.depth,0,Re.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):We?r.texSubImage3D(35866,be,0,0,0,Re.width,Re.height,de.depth,Be,_e,Re.data):r.texImage3D(35866,be,Ve,Re.width,Re.height,de.depth,0,Be,_e,Re.data)}else{We&&He&&r.texStorage2D(3553,re,Ve,Ke[0].width,Ke[0].height);for(let be=0,Ae=Ke.length;be<Ae;be++)Re=Ke[be],q.format!==ma?Be!==null?We?r.compressedTexSubImage2D(3553,be,0,0,Re.width,Re.height,Be,Re.data):r.compressedTexImage2D(3553,be,Ve,Re.width,Re.height,0,Re.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):We?r.texSubImage2D(3553,be,0,0,Re.width,Re.height,Be,_e,Re.data):r.texImage2D(3553,be,Ve,Re.width,Re.height,0,Be,_e,Re.data)}else if(q.isDataArrayTexture)We?(He&&r.texStorage3D(35866,re,Ve,de.width,de.height,de.depth),r.texSubImage3D(35866,0,0,0,0,de.width,de.height,de.depth,Be,_e,de.data)):r.texImage3D(35866,0,Ve,de.width,de.height,de.depth,0,Be,_e,de.data);else if(q.isData3DTexture)We?(He&&r.texStorage3D(32879,re,Ve,de.width,de.height,de.depth),r.texSubImage3D(32879,0,0,0,0,de.width,de.height,de.depth,Be,_e,de.data)):r.texImage3D(32879,0,Ve,de.width,de.height,de.depth,0,Be,_e,de.data);else if(q.isFramebufferTexture){if(He)if(We)r.texStorage2D(3553,re,Ve,de.width,de.height);else{let be=de.width,Ae=de.height;for(let Ue=0;Ue<re;Ue++)r.texImage2D(3553,Ue,Ve,be,Ae,0,Be,_e,null),be>>=1,Ae>>=1}}else if(Ke.length>0&&Fe){We&&He&&r.texStorage2D(3553,re,Ve,Ke[0].width,Ke[0].height);for(let be=0,Ae=Ke.length;be<Ae;be++)Re=Ke[be],We?r.texSubImage2D(3553,be,0,0,Be,_e,Re):r.texImage2D(3553,be,Ve,Be,_e,Re);q.generateMipmaps=!1}else We?(He&&r.texStorage2D(3553,re,Ve,de.width,de.height),r.texSubImage2D(3553,0,0,0,Be,_e,de)):r.texImage2D(3553,0,Ve,Be,_e,de);_(q,Fe)&&S(Te),Ce.__version=ce.version,q.onUpdate&&q.onUpdate(q)}ee.__version=q.version}function Q(ee,q,le){if(q.image.length!==6)return;let Te=X(ee,q),te=q.source;r.bindTexture(34067,ee.__webglTexture,33984+le);let ce=n.get(te);if(te.version!==ce.__version||Te===!0){r.activeTexture(33984+le),e.pixelStorei(37440,q.flipY),e.pixelStorei(37441,q.premultiplyAlpha),e.pixelStorei(3317,q.unpackAlignment),e.pixelStorei(37443,0);let Ce=q.isCompressedTexture||q.image[0].isCompressedTexture,fe=q.image[0]&&q.image[0].isDataTexture,de=[];for(let be=0;be<6;be++)!Ce&&!fe?de[be]=y(q.image[be],!1,!0,s):de[be]=fe?q.image[be].image:q.image[be],de[be]=Ie(q,de[be]);let Fe=de[0],Be=b(Fe)||c,_e=o.convert(q.format,q.encoding),Ve=o.convert(q.type),Re=E(q.internalFormat,_e,Ve,q.encoding),Ke=c&&q.isVideoTexture!==!0,We=ce.__version===void 0||Te===!0,He=C(q,Fe,Be);H(34067,q,Be);let re;if(Ce){Ke&&We&&r.texStorage2D(34067,He,Re,Fe.width,Fe.height);for(let be=0;be<6;be++){re=de[be].mipmaps;for(let Ae=0;Ae<re.length;Ae++){let Ue=re[Ae];q.format!==ma?_e!==null?Ke?r.compressedTexSubImage2D(34069+be,Ae,0,0,Ue.width,Ue.height,_e,Ue.data):r.compressedTexImage2D(34069+be,Ae,Re,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ke?r.texSubImage2D(34069+be,Ae,0,0,Ue.width,Ue.height,_e,Ve,Ue.data):r.texImage2D(34069+be,Ae,Re,Ue.width,Ue.height,0,_e,Ve,Ue.data)}}}else{re=q.mipmaps,Ke&&We&&(re.length>0&&He++,r.texStorage2D(34067,He,Re,de[0].width,de[0].height));for(let be=0;be<6;be++)if(fe){Ke?r.texSubImage2D(34069+be,0,0,0,de[be].width,de[be].height,_e,Ve,de[be].data):r.texImage2D(34069+be,0,Re,de[be].width,de[be].height,0,_e,Ve,de[be].data);for(let Ae=0;Ae<re.length;Ae++){let Ue=re[Ae].image[be].image;Ke?r.texSubImage2D(34069+be,Ae+1,0,0,Ue.width,Ue.height,_e,Ve,Ue.data):r.texImage2D(34069+be,Ae+1,Re,Ue.width,Ue.height,0,_e,Ve,Ue.data)}}else{Ke?r.texSubImage2D(34069+be,0,0,0,_e,Ve,de[be]):r.texImage2D(34069+be,0,Re,_e,Ve,de[be]);for(let Ae=0;Ae<re.length;Ae++){let Ue=re[Ae];Ke?r.texSubImage2D(34069+be,Ae+1,0,0,_e,Ve,Ue.image[be]):r.texImage2D(34069+be,Ae+1,Re,_e,Ve,Ue.image[be])}}}_(q,Be)&&S(34067),ce.__version=te.version,q.onUpdate&&q.onUpdate(q)}ee.__version=q.version}function Y(ee,q,le,Te,te){let ce=o.convert(le.format,le.encoding),Ce=o.convert(le.type),fe=E(le.internalFormat,ce,Ce,le.encoding);n.get(q).__hasExternalTextures||(te===32879||te===35866?r.texImage3D(te,0,fe,q.width,q.height,q.depth,0,ce,Ce,null):r.texImage2D(te,0,fe,q.width,q.height,0,ce,Ce,null)),r.bindFramebuffer(36160,ee),De(q)?h.framebufferTexture2DMultisampleEXT(36160,Te,te,n.get(le).__webglTexture,0,we(q)):(te===3553||te>=34069&&te<=34074)&&e.framebufferTexture2D(36160,Te,te,n.get(le).__webglTexture,0),r.bindFramebuffer(36160,null)}function $(ee,q,le){if(e.bindRenderbuffer(36161,ee),q.depthBuffer&&!q.stencilBuffer){let Te=33189;if(le||De(q)){let te=q.depthTexture;te&&te.isDepthTexture&&(te.type===go?Te=36012:te.type===Kc&&(Te=33190));let ce=we(q);De(q)?h.renderbufferStorageMultisampleEXT(36161,ce,Te,q.width,q.height):e.renderbufferStorageMultisample(36161,ce,Te,q.width,q.height)}else e.renderbufferStorage(36161,Te,q.width,q.height);e.framebufferRenderbuffer(36160,36096,36161,ee)}else if(q.depthBuffer&&q.stencilBuffer){let Te=we(q);le&&De(q)===!1?e.renderbufferStorageMultisample(36161,Te,35056,q.width,q.height):De(q)?h.renderbufferStorageMultisampleEXT(36161,Te,35056,q.width,q.height):e.renderbufferStorage(36161,34041,q.width,q.height),e.framebufferRenderbuffer(36160,33306,36161,ee)}else{let Te=q.isWebGLMultipleRenderTargets===!0?q.texture:[q.texture];for(let te=0;te<Te.length;te++){let ce=Te[te],Ce=o.convert(ce.format,ce.encoding),fe=o.convert(ce.type),de=E(ce.internalFormat,Ce,fe,ce.encoding),Fe=we(q);le&&De(q)===!1?e.renderbufferStorageMultisample(36161,Fe,de,q.width,q.height):De(q)?h.renderbufferStorageMultisampleEXT(36161,Fe,de,q.width,q.height):e.renderbufferStorage(36161,de,q.width,q.height)}}e.bindRenderbuffer(36161,null)}function J(ee,q){if(q&&q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(36160,ee),!(q.depthTexture&&q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(q.depthTexture).__webglTexture||q.depthTexture.image.width!==q.width||q.depthTexture.image.height!==q.height)&&(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0),L(q.depthTexture,0);let le=n.get(q.depthTexture).__webglTexture,Te=we(q);if(q.depthTexture.format===Zh)De(q)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,le,0,Te):e.framebufferTexture2D(36160,36096,3553,le,0);else if(q.depthTexture.format===_f)De(q)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,le,0,Te):e.framebufferTexture2D(36160,33306,3553,le,0);else throw new Error("Unknown depthTexture format")}function ie(ee){let q=n.get(ee),le=ee.isWebGLCubeRenderTarget===!0;if(ee.depthTexture&&!q.__autoAllocateDepthBuffer){if(le)throw new Error("target.depthTexture not supported in Cube render targets");J(q.__webglFramebuffer,ee)}else if(le){q.__webglDepthbuffer=[];for(let Te=0;Te<6;Te++)r.bindFramebuffer(36160,q.__webglFramebuffer[Te]),q.__webglDepthbuffer[Te]=e.createRenderbuffer(),$(q.__webglDepthbuffer[Te],ee,!1)}else r.bindFramebuffer(36160,q.__webglFramebuffer),q.__webglDepthbuffer=e.createRenderbuffer(),$(q.__webglDepthbuffer,ee,!1);r.bindFramebuffer(36160,null)}function ne(ee,q,le){let Te=n.get(ee);q!==void 0&&Y(Te.__webglFramebuffer,ee,ee.texture,36064,3553),le!==void 0&&ie(ee)}function ae(ee){let q=ee.texture,le=n.get(ee),Te=n.get(q);ee.addEventListener("dispose",k),ee.isWebGLMultipleRenderTargets!==!0&&(Te.__webglTexture===void 0&&(Te.__webglTexture=e.createTexture()),Te.__version=q.version,l.memory.textures++);let te=ee.isWebGLCubeRenderTarget===!0,ce=ee.isWebGLMultipleRenderTargets===!0,Ce=b(ee)||c;if(te){le.__webglFramebuffer=[];for(let fe=0;fe<6;fe++)le.__webglFramebuffer[fe]=e.createFramebuffer()}else{if(le.__webglFramebuffer=e.createFramebuffer(),ce)if(i.drawBuffers){let fe=ee.texture;for(let de=0,Fe=fe.length;de<Fe;de++){let Be=n.get(fe[de]);Be.__webglTexture===void 0&&(Be.__webglTexture=e.createTexture(),l.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(c&&ee.samples>0&&De(ee)===!1){let fe=ce?q:[q];le.__webglMultisampledFramebuffer=e.createFramebuffer(),le.__webglColorRenderbuffer=[],r.bindFramebuffer(36160,le.__webglMultisampledFramebuffer);for(let de=0;de<fe.length;de++){let Fe=fe[de];le.__webglColorRenderbuffer[de]=e.createRenderbuffer(),e.bindRenderbuffer(36161,le.__webglColorRenderbuffer[de]);let Be=o.convert(Fe.format,Fe.encoding),_e=o.convert(Fe.type),Ve=E(Fe.internalFormat,Be,_e,Fe.encoding,ee.isXRRenderTarget===!0),Re=we(ee);e.renderbufferStorageMultisample(36161,Re,Ve,ee.width,ee.height),e.framebufferRenderbuffer(36160,36064+de,36161,le.__webglColorRenderbuffer[de])}e.bindRenderbuffer(36161,null),ee.depthBuffer&&(le.__webglDepthRenderbuffer=e.createRenderbuffer(),$(le.__webglDepthRenderbuffer,ee,!0)),r.bindFramebuffer(36160,null)}}if(te){r.bindTexture(34067,Te.__webglTexture),H(34067,q,Ce);for(let fe=0;fe<6;fe++)Y(le.__webglFramebuffer[fe],ee,q,36064,34069+fe);_(q,Ce)&&S(34067),r.unbindTexture()}else if(ce){let fe=ee.texture;for(let de=0,Fe=fe.length;de<Fe;de++){let Be=fe[de],_e=n.get(Be);r.bindTexture(3553,_e.__webglTexture),H(3553,Be,Ce),Y(le.__webglFramebuffer,ee,Be,36064+de,3553),_(Be,Ce)&&S(3553)}r.unbindTexture()}else{let fe=3553;(ee.isWebGL3DRenderTarget||ee.isWebGLArrayRenderTarget)&&(c?fe=ee.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(fe,Te.__webglTexture),H(fe,q,Ce),Y(le.__webglFramebuffer,ee,q,36064,fe),_(q,Ce)&&S(fe),r.unbindTexture()}ee.depthBuffer&&ie(ee)}function je(ee){let q=b(ee)||c,le=ee.isWebGLMultipleRenderTargets===!0?ee.texture:[ee.texture];for(let Te=0,te=le.length;Te<te;Te++){let ce=le[Te];if(_(ce,q)){let Ce=ee.isWebGLCubeRenderTarget?34067:3553,fe=n.get(ce).__webglTexture;r.bindTexture(Ce,fe),S(Ce),r.unbindTexture()}}}function Ee(ee){if(c&&ee.samples>0&&De(ee)===!1){let q=ee.isWebGLMultipleRenderTargets?ee.texture:[ee.texture],le=ee.width,Te=ee.height,te=16384,ce=[],Ce=ee.stencilBuffer?33306:36096,fe=n.get(ee),de=ee.isWebGLMultipleRenderTargets===!0;if(de)for(let Fe=0;Fe<q.length;Fe++)r.bindFramebuffer(36160,fe.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+Fe,36161,null),r.bindFramebuffer(36160,fe.__webglFramebuffer),e.framebufferTexture2D(36009,36064+Fe,3553,null,0);r.bindFramebuffer(36008,fe.__webglMultisampledFramebuffer),r.bindFramebuffer(36009,fe.__webglFramebuffer);for(let Fe=0;Fe<q.length;Fe++){ce.push(36064+Fe),ee.depthBuffer&&ce.push(Ce);let Be=fe.__ignoreDepthValues!==void 0?fe.__ignoreDepthValues:!1;if(Be===!1&&(ee.depthBuffer&&(te|=256),ee.stencilBuffer&&(te|=1024)),de&&e.framebufferRenderbuffer(36008,36064,36161,fe.__webglColorRenderbuffer[Fe]),Be===!0&&(e.invalidateFramebuffer(36008,[Ce]),e.invalidateFramebuffer(36009,[Ce])),de){let _e=n.get(q[Fe]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,_e,0)}e.blitFramebuffer(0,0,le,Te,0,0,le,Te,te,9728),f&&e.invalidateFramebuffer(36008,ce)}if(r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),de)for(let Fe=0;Fe<q.length;Fe++){r.bindFramebuffer(36160,fe.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+Fe,36161,fe.__webglColorRenderbuffer[Fe]);let Be=n.get(q[Fe]).__webglTexture;r.bindFramebuffer(36160,fe.__webglFramebuffer),e.framebufferTexture2D(36009,36064+Fe,3553,Be,0)}r.bindFramebuffer(36009,fe.__webglMultisampledFramebuffer)}}function we(ee){return Math.min(d,ee.samples)}function De(ee){let q=n.get(ee);return c&&ee.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&q.__useRenderToTexture!==!1}function Le(ee){let q=l.render.frame;m.get(ee)!==q&&(m.set(ee,q),ee.update())}function Ie(ee,q){let le=ee.encoding,Te=ee.format,te=ee.type;return ee.isCompressedTexture===!0||ee.isVideoTexture===!0||ee.format===G4||le!==rc&&(le===Ft?c===!1?t.has("EXT_sRGB")===!0&&Te===ma?(ee.format=G4,ee.minFilter=Kt,ee.generateMipmaps=!1):q=OX.sRGBToLinear(q):(Te!==ma||te!==Ji)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",le)),q}this.allocateTextureUnit=I,this.resetTextureUnits=O,this.setTexture2D=L,this.setTexture2DArray=B,this.setTexture3D=R,this.setTextureCube=z,this.rebindTextures=ne,this.setupRenderTarget=ae,this.updateRenderTargetMipmap=je,this.updateMultisampleRenderTarget=Ee,this.setupDepthRenderbuffer=ie,this.setupFrameBufferTexture=Y,this.useMultisampledRTT=De}function P3e(e,t,r){let n=r.isWebGL2;function i(o,l=null){let c;if(o===Ji)return 5121;if(o===dwe)return 32819;if(o===hwe)return 32820;if(o===lwe)return 5120;if(o===cwe)return 5122;if(o===CX)return 5123;if(o===uwe)return 5124;if(o===Kc)return 5125;if(o===go)return 5126;if(o===wf)return n?5131:(c=t.get("OES_texture_half_float"),c!==null?c.HALF_FLOAT_OES:null);if(o===fwe)return 6406;if(o===ma)return 6408;if(o===pwe)return 6409;if(o===mwe)return 6410;if(o===Zh)return 6402;if(o===_f)return 34041;if(o===G4)return c=t.get("EXT_sRGB"),c!==null?c.SRGB_ALPHA_EXT:null;if(o===gwe)return 6403;if(o===vwe)return 36244;if(o===Z_)return 33319;if(o===ywe)return 33320;if(o===MX)return 36249;if(o===UA||o===VA||o===HA||o===WA)if(l===Ft)if(c=t.get("WEBGL_compressed_texture_s3tc_srgb"),c!==null){if(o===UA)return c.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===VA)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===HA)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===WA)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(c=t.get("WEBGL_compressed_texture_s3tc"),c!==null){if(o===UA)return c.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===VA)return c.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===HA)return c.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===WA)return c.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===cz||o===uz||o===dz||o===hz)if(c=t.get("WEBGL_compressed_texture_pvrtc"),c!==null){if(o===cz)return c.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===uz)return c.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===dz)return c.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===hz)return c.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===bwe)return c=t.get("WEBGL_compressed_texture_etc1"),c!==null?c.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===fz||o===pz)if(c=t.get("WEBGL_compressed_texture_etc"),c!==null){if(o===fz)return l===Ft?c.COMPRESSED_SRGB8_ETC2:c.COMPRESSED_RGB8_ETC2;if(o===pz)return l===Ft?c.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:c.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===mz||o===gz||o===vz||o===yz||o===bz||o===xz||o===wz||o===_z||o===Sz||o===Ez||o===Az||o===Cz||o===Mz||o===Tz)if(c=t.get("WEBGL_compressed_texture_astc"),c!==null){if(o===mz)return l===Ft?c.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:c.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===gz)return l===Ft?c.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:c.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===vz)return l===Ft?c.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:c.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===yz)return l===Ft?c.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:c.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===bz)return l===Ft?c.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:c.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===xz)return l===Ft?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:c.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===wz)return l===Ft?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:c.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===_z)return l===Ft?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:c.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===Sz)return l===Ft?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:c.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===Ez)return l===Ft?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:c.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===Az)return l===Ft?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:c.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===Cz)return l===Ft?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:c.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===Mz)return l===Ft?c.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:c.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===Tz)return l===Ft?c.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:c.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===GA)if(c=t.get("EXT_texture_compression_bptc"),c!==null){if(o===GA)return l===Ft?c.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:c.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===xwe||o===Pz||o===kz||o===Dz)if(c=t.get("EXT_texture_compression_rgtc"),c!==null){if(o===GA)return c.COMPRESSED_RED_RGTC1_EXT;if(o===Pz)return c.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===kz)return c.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===Dz)return c.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===Jh?n?34042:(c=t.get("WEBGL_depth_texture"),c!==null?c.UNSIGNED_INT_24_8_WEBGL:null):e[o]!==void 0?e[o]:null}return{convert:i}}var k3e=class extends Wi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},mm=class extends Tr{constructor(){super(),this.isGroup=!0,this.type="Group"}},D3e={type:"move"},vC=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new mm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new mm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new V,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new V),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new mm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new V,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new V),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let n=null,i=null,o=null,l=this._targetRay,c=this._grip,a=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(a&&e.hand){o=!0;for(let m of e.hand.values()){let p=t.getJointPose(m,r),g=this._getHandJoint(a,m);p!==null&&(g.matrix.fromArray(p.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=p.radius),g.visible=p!==null}let s=a.joints["index-finger-tip"],u=a.joints["thumb-tip"],d=s.position.distanceTo(u.position),h=.02,f=.005;a.inputState.pinching&&d>h+f?(a.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!a.inputState.pinching&&d<=h-f&&(a.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(i=t.getPose(e.gripSpace,r),i!==null&&(c.matrix.fromArray(i.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),i.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(i.linearVelocity)):c.hasLinearVelocity=!1,i.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(i.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(n=t.getPose(e.targetRaySpace,r),n===null&&i!==null&&(n=i),n!==null&&(l.matrix.fromArray(n.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),n.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(n.linearVelocity)):l.hasLinearVelocity=!1,n.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(n.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(D3e)))}return l!==null&&(l.visible=n!==null),c!==null&&(c.visible=i!==null),a!==null&&(a.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){let r=new mm;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}},vg=class extends li{constructor(e,t,r,n,i,o,l,c,a,s){if(s=s!==void 0?s:Zh,s!==Zh&&s!==_f)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&s===Zh&&(r=Kc),r===void 0&&s===_f&&(r=Jh),super(null,n,i,o,l,c,s,r,a),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=l!==void 0?l:Nr,this.minFilter=c!==void 0?c:Nr,this.flipY=!1,this.generateMipmaps=!1}},j3e=class extends Ri{constructor(e,t){super();let r=this,n=null,i=1,o=null,l="local-floor",c=1,a=null,s=null,u=null,d=null,h=null,f=null,m=t.getContextAttributes(),p=null,g=null,v=[],x=[],y=new Set,b=new Map,w=new Wi;w.layers.enable(1),w.viewport=new Ut;let _=new Wi;_.layers.enable(2),_.viewport=new Ut;let S=[w,_],E=new k3e;E.layers.enable(1),E.layers.enable(2);let C=null,A=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(B){let R=v[B];return R===void 0&&(R=new vC,v[B]=R),R.getTargetRaySpace()},this.getControllerGrip=function(B){let R=v[B];return R===void 0&&(R=new vC,v[B]=R),R.getGripSpace()},this.getHand=function(B){let R=v[B];return R===void 0&&(R=new vC,v[B]=R),R.getHandSpace()};function T(B){let R=x.indexOf(B.inputSource);if(R===-1)return;let z=v[R];z!==void 0&&z.dispatchEvent({type:B.type,data:B.inputSource})}function k(){n.removeEventListener("select",T),n.removeEventListener("selectstart",T),n.removeEventListener("selectend",T),n.removeEventListener("squeeze",T),n.removeEventListener("squeezestart",T),n.removeEventListener("squeezeend",T),n.removeEventListener("end",k),n.removeEventListener("inputsourceschange",D);for(let B=0;B<v.length;B++){let R=x[B];R!==null&&(x[B]=null,v[B].disconnect(R))}C=null,A=null,e.setRenderTarget(p),h=null,d=null,u=null,n=null,g=null,L.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(B){i=B,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(B){l=B,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a||o},this.setReferenceSpace=function(B){a=B},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return n},this.setSession=async function(B){if(n=B,n!==null){if(p=e.getRenderTarget(),n.addEventListener("select",T),n.addEventListener("selectstart",T),n.addEventListener("selectend",T),n.addEventListener("squeeze",T),n.addEventListener("squeezestart",T),n.addEventListener("squeezeend",T),n.addEventListener("end",k),n.addEventListener("inputsourceschange",D),m.xrCompatible!==!0&&await t.makeXRCompatible(),n.renderState.layers===void 0||e.capabilities.isWebGL2===!1){let R={antialias:n.renderState.layers===void 0?m.antialias:!0,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:i};h=new XRWebGLLayer(n,t,R),n.updateRenderState({baseLayer:h}),g=new Cr(h.framebufferWidth,h.framebufferHeight,{format:ma,type:Ji,encoding:e.outputEncoding,stencilBuffer:m.stencil})}else{let R=null,z=null,W=null;m.depth&&(W=m.stencil?35056:33190,R=m.stencil?_f:Zh,z=m.stencil?Jh:Kc);let U={colorFormat:32856,depthFormat:W,scaleFactor:i};u=new XRWebGLBinding(n,t),d=u.createProjectionLayer(U),n.updateRenderState({layers:[d]}),g=new Cr(d.textureWidth,d.textureHeight,{format:ma,type:Ji,depthTexture:new vg(d.textureWidth,d.textureHeight,z,void 0,void 0,void 0,void 0,void 0,void 0,R),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0});let H=e.properties.get(g);H.__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(c),a=null,o=await n.requestReferenceSpace(l),L.setContext(n),L.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function D(B){for(let R=0;R<B.removed.length;R++){let z=B.removed[R],W=x.indexOf(z);W>=0&&(x[W]=null,v[W].disconnect(z))}for(let R=0;R<B.added.length;R++){let z=B.added[R],W=x.indexOf(z);if(W===-1){for(let H=0;H<v.length;H++)if(H>=x.length){x.push(z),W=H;break}else if(x[H]===null){x[H]=z,W=H;break}if(W===-1)break}let U=v[W];U&&U.connect(z)}}let M=new V,P=new V;function j(B,R,z){M.setFromMatrixPosition(R.matrixWorld),P.setFromMatrixPosition(z.matrixWorld);let W=M.distanceTo(P),U=R.projectionMatrix.elements,H=z.projectionMatrix.elements,X=U[14]/(U[10]-1),K=U[14]/(U[10]+1),Q=(U[9]+1)/U[5],Y=(U[9]-1)/U[5],$=(U[8]-1)/U[0],J=(H[8]+1)/H[0],ie=X*$,ne=X*J,ae=W/(-$+J),je=ae*-$;R.matrixWorld.decompose(B.position,B.quaternion,B.scale),B.translateX(je),B.translateZ(ae),B.matrixWorld.compose(B.position,B.quaternion,B.scale),B.matrixWorldInverse.copy(B.matrixWorld).invert();let Ee=X+ae,we=K+ae,De=ie-je,Le=ne+(W-je),Ie=Q*K/we*Ee,ee=Y*K/we*Ee;B.projectionMatrix.makePerspective(De,Le,Ie,ee,Ee,we)}function O(B,R){R===null?B.matrixWorld.copy(B.matrix):B.matrixWorld.multiplyMatrices(R.matrixWorld,B.matrix),B.matrixWorldInverse.copy(B.matrixWorld).invert()}this.updateCamera=function(B){if(n===null)return;E.near=_.near=w.near=B.near,E.far=_.far=w.far=B.far,(C!==E.near||A!==E.far)&&(n.updateRenderState({depthNear:E.near,depthFar:E.far}),C=E.near,A=E.far);let R=B.parent,z=E.cameras;O(E,R);for(let U=0;U<z.length;U++)O(z[U],R);E.matrixWorld.decompose(E.position,E.quaternion,E.scale),B.matrix.copy(E.matrix),B.matrix.decompose(B.position,B.quaternion,B.scale);let W=B.children;for(let U=0,H=W.length;U<H;U++)W[U].updateMatrixWorld(!0);z.length===2?j(E,w,_):E.projectionMatrix.copy(w.projectionMatrix)},this.getCamera=function(){return E},this.getFoveation=function(){if(!(d===null&&h===null))return c},this.setFoveation=function(B){c=B,d!==null&&(d.fixedFoveation=B),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=B)},this.getPlanes=function(){return y};let I=null;function N(B,R){if(s=R.getViewerPose(a||o),f=R,s!==null){let z=s.views;h!==null&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let W=!1;z.length!==E.cameras.length&&(E.cameras.length=0,W=!0);for(let U=0;U<z.length;U++){let H=z[U],X=null;if(h!==null)X=h.getViewport(H);else{let Q=u.getViewSubImage(d,H);X=Q.viewport,U===0&&(e.setRenderTargetTextures(g,Q.colorTexture,d.ignoreDepthValues?void 0:Q.depthStencilTexture),e.setRenderTarget(g))}let K=S[U];K===void 0&&(K=new Wi,K.layers.enable(U),K.viewport=new Ut,S[U]=K),K.matrix.fromArray(H.transform.matrix),K.projectionMatrix.fromArray(H.projectionMatrix),K.viewport.set(X.x,X.y,X.width,X.height),U===0&&E.matrix.copy(K.matrix),W===!0&&E.cameras.push(K)}}for(let z=0;z<v.length;z++){let W=x[z],U=v[z];W!==null&&U!==void 0&&U.update(W,R,a||o)}if(I&&I(B,R),R.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:R.detectedPlanes});let z=null;for(let W of y)R.detectedPlanes.has(W)||(z===null&&(z=[]),z.push(W));if(z!==null)for(let W of z)y.delete(W),b.delete(W),r.dispatchEvent({type:"planeremoved",data:W});for(let W of R.detectedPlanes)if(!y.has(W))y.add(W),b.set(W,R.lastChangedTime),r.dispatchEvent({type:"planeadded",data:W});else{let U=b.get(W);W.lastChangedTime>U&&(b.set(W,W.lastChangedTime),r.dispatchEvent({type:"planechanged",data:W}))}}f=null}let L=new BX;L.setAnimationLoop(N),this.setAnimationLoop=function(B){I=B},this.dispose=function(){}}};function I3e(e,t){function r(p,g){g.color.getRGB(p.fogColor.value,NX(e)),g.isFog?(p.fogNear.value=g.near,p.fogFar.value=g.far):g.isFogExp2&&(p.fogDensity.value=g.density)}function n(p,g,v,x,y){g.isMeshBasicMaterial||g.isMeshLambertMaterial?i(p,g):g.isMeshToonMaterial?(i(p,g),u(p,g)):g.isMeshPhongMaterial?(i(p,g),s(p,g)):g.isMeshStandardMaterial?(i(p,g),d(p,g),g.isMeshPhysicalMaterial&&h(p,g,y)):g.isMeshMatcapMaterial?(i(p,g),f(p,g)):g.isMeshDepthMaterial?i(p,g):g.isMeshDistanceMaterial?(i(p,g),m(p,g)):g.isMeshNormalMaterial?i(p,g):g.isLineBasicMaterial?(o(p,g),g.isLineDashedMaterial&&l(p,g)):g.isPointsMaterial?c(p,g,v,x):g.isSpriteMaterial?a(p,g):g.isShadowMaterial?(p.color.value.copy(g.color),p.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function i(p,g){p.opacity.value=g.opacity,g.color&&p.diffuse.value.copy(g.color),g.emissive&&p.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.bumpMap&&(p.bumpMap.value=g.bumpMap,p.bumpScale.value=g.bumpScale,g.side===bi&&(p.bumpScale.value*=-1)),g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias),g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap),g.normalMap&&(p.normalMap.value=g.normalMap,p.normalScale.value.copy(g.normalScale),g.side===bi&&p.normalScale.value.negate()),g.specularMap&&(p.specularMap.value=g.specularMap),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);let v=t.get(g).envMap;if(v&&(p.envMap.value=v,p.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,p.reflectivity.value=g.reflectivity,p.ior.value=g.ior,p.refractionRatio.value=g.refractionRatio),g.lightMap){p.lightMap.value=g.lightMap;let b=e.physicallyCorrectLights!==!0?Math.PI:1;p.lightMapIntensity.value=g.lightMapIntensity*b}g.aoMap&&(p.aoMap.value=g.aoMap,p.aoMapIntensity.value=g.aoMapIntensity);let x;g.map?x=g.map:g.specularMap?x=g.specularMap:g.displacementMap?x=g.displacementMap:g.normalMap?x=g.normalMap:g.bumpMap?x=g.bumpMap:g.roughnessMap?x=g.roughnessMap:g.metalnessMap?x=g.metalnessMap:g.alphaMap?x=g.alphaMap:g.emissiveMap?x=g.emissiveMap:g.clearcoatMap?x=g.clearcoatMap:g.clearcoatNormalMap?x=g.clearcoatNormalMap:g.clearcoatRoughnessMap?x=g.clearcoatRoughnessMap:g.iridescenceMap?x=g.iridescenceMap:g.iridescenceThicknessMap?x=g.iridescenceThicknessMap:g.specularIntensityMap?x=g.specularIntensityMap:g.specularColorMap?x=g.specularColorMap:g.transmissionMap?x=g.transmissionMap:g.thicknessMap?x=g.thicknessMap:g.sheenColorMap?x=g.sheenColorMap:g.sheenRoughnessMap&&(x=g.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),p.uvTransform.value.copy(x.matrix));let y;g.aoMap?y=g.aoMap:g.lightMap&&(y=g.lightMap),y!==void 0&&(y.isWebGLRenderTarget&&(y=y.texture),y.matrixAutoUpdate===!0&&y.updateMatrix(),p.uv2Transform.value.copy(y.matrix))}function o(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity}function l(p,g){p.dashSize.value=g.dashSize,p.totalSize.value=g.dashSize+g.gapSize,p.scale.value=g.scale}function c(p,g,v,x){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.size.value=g.size*v,p.scale.value=x*.5,g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);let y;g.map?y=g.map:g.alphaMap&&(y=g.alphaMap),y!==void 0&&(y.matrixAutoUpdate===!0&&y.updateMatrix(),p.uvTransform.value.copy(y.matrix))}function a(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.rotation.value=g.rotation,g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);let v;g.map?v=g.map:g.alphaMap&&(v=g.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),p.uvTransform.value.copy(v.matrix))}function s(p,g){p.specular.value.copy(g.specular),p.shininess.value=Math.max(g.shininess,1e-4)}function u(p,g){g.gradientMap&&(p.gradientMap.value=g.gradientMap)}function d(p,g){p.roughness.value=g.roughness,p.metalness.value=g.metalness,g.roughnessMap&&(p.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(p.metalnessMap.value=g.metalnessMap),t.get(g).envMap&&(p.envMapIntensity.value=g.envMapIntensity)}function h(p,g,v){p.ior.value=g.ior,g.sheen>0&&(p.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),p.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(p.sheenColorMap.value=g.sheenColorMap),g.sheenRoughnessMap&&(p.sheenRoughnessMap.value=g.sheenRoughnessMap)),g.clearcoat>0&&(p.clearcoat.value=g.clearcoat,p.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(p.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(p.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),p.clearcoatNormalMap.value=g.clearcoatNormalMap,g.side===bi&&p.clearcoatNormalScale.value.negate())),g.iridescence>0&&(p.iridescence.value=g.iridescence,p.iridescenceIOR.value=g.iridescenceIOR,p.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],p.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(p.iridescenceMap.value=g.iridescenceMap),g.iridescenceThicknessMap&&(p.iridescenceThicknessMap.value=g.iridescenceThicknessMap)),g.transmission>0&&(p.transmission.value=g.transmission,p.transmissionSamplerMap.value=v.texture,p.transmissionSamplerSize.value.set(v.width,v.height),g.transmissionMap&&(p.transmissionMap.value=g.transmissionMap),p.thickness.value=g.thickness,g.thicknessMap&&(p.thicknessMap.value=g.thicknessMap),p.attenuationDistance.value=g.attenuationDistance,p.attenuationColor.value.copy(g.attenuationColor)),p.specularIntensity.value=g.specularIntensity,p.specularColor.value.copy(g.specularColor),g.specularIntensityMap&&(p.specularIntensityMap.value=g.specularIntensityMap),g.specularColorMap&&(p.specularColorMap.value=g.specularColorMap)}function f(p,g){g.matcap&&(p.matcap.value=g.matcap)}function m(p,g){p.referencePosition.value.copy(g.referencePosition),p.nearDistance.value=g.nearDistance,p.farDistance.value=g.farDistance}return{refreshFogUniforms:r,refreshMaterialUniforms:n}}function O3e(e,t,r,n){let i={},o={},l=[],c=r.isWebGL2?e.getParameter(35375):0;function a(x,y){let b=y.program;n.uniformBlockBinding(x,b)}function s(x,y){let b=i[x.id];b===void 0&&(m(x),b=u(x),i[x.id]=b,x.addEventListener("dispose",g));let w=y.program;n.updateUBOMapping(x,w);let _=t.render.frame;o[x.id]!==_&&(h(x),o[x.id]=_)}function u(x){let y=d();x.__bindingPointIndex=y;let b=e.createBuffer(),w=x.__size,_=x.usage;return e.bindBuffer(35345,b),e.bufferData(35345,w,_),e.bindBuffer(35345,null),e.bindBufferBase(35345,y,b),b}function d(){for(let x=0;x<c;x++)if(l.indexOf(x)===-1)return l.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(x){let y=i[x.id],b=x.uniforms,w=x.__cache;e.bindBuffer(35345,y);for(let _=0,S=b.length;_<S;_++){let E=b[_];if(f(E,_,w)===!0){let C=E.__offset,A=Array.isArray(E.value)?E.value:[E.value],T=0;for(let k=0;k<A.length;k++){let D=A[k],M=p(D);typeof D=="number"?(E.__data[0]=D,e.bufferSubData(35345,C+T,E.__data)):D.isMatrix3?(E.__data[0]=D.elements[0],E.__data[1]=D.elements[1],E.__data[2]=D.elements[2],E.__data[3]=D.elements[0],E.__data[4]=D.elements[3],E.__data[5]=D.elements[4],E.__data[6]=D.elements[5],E.__data[7]=D.elements[0],E.__data[8]=D.elements[6],E.__data[9]=D.elements[7],E.__data[10]=D.elements[8],E.__data[11]=D.elements[0]):(D.toArray(E.__data,T),T+=M.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,C,E.__data)}}e.bindBuffer(35345,null)}function f(x,y,b){let w=x.value;if(b[y]===void 0){if(typeof w=="number")b[y]=w;else{let _=Array.isArray(w)?w:[w],S=[];for(let E=0;E<_.length;E++)S.push(_[E].clone());b[y]=S}return!0}else if(typeof w=="number"){if(b[y]!==w)return b[y]=w,!0}else{let _=Array.isArray(b[y])?b[y]:[b[y]],S=Array.isArray(w)?w:[w];for(let E=0;E<_.length;E++){let C=_[E];if(C.equals(S[E])===!1)return C.copy(S[E]),!0}}return!1}function m(x){let y=x.uniforms,b=0,w=16,_=0;for(let S=0,E=y.length;S<E;S++){let C=y[S],A={boundary:0,storage:0},T=Array.isArray(C.value)?C.value:[C.value];for(let k=0,D=T.length;k<D;k++){let M=T[k],P=p(M);A.boundary+=P.boundary,A.storage+=P.storage}if(C.__data=new Float32Array(A.storage/Float32Array.BYTES_PER_ELEMENT),C.__offset=b,S>0){_=b%w;let k=w-_;_!==0&&k-A.boundary<0&&(b+=w-_,C.__offset=b)}b+=A.storage}return _=b%w,_>0&&(b+=w-_),x.__size=b,x.__cache={},this}function p(x){let y={boundary:0,storage:0};return typeof x=="number"?(y.boundary=4,y.storage=4):x.isVector2?(y.boundary=8,y.storage=8):x.isVector3||x.isColor?(y.boundary=16,y.storage=12):x.isVector4?(y.boundary=16,y.storage=16):x.isMatrix3?(y.boundary=48,y.storage=48):x.isMatrix4?(y.boundary=64,y.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),y}function g(x){let y=x.target;y.removeEventListener("dispose",g);let b=l.indexOf(y.__bindingPointIndex);l.splice(b,1),e.deleteBuffer(i[y.id]),delete i[y.id],delete o[y.id]}function v(){for(let x in i)e.deleteBuffer(i[x]);l=[],i={},o={}}return{bind:a,update:s,dispose:v}}function R3e(){let e=o2("canvas");return e.style.display="block",e}function GX(e={}){this.isWebGLRenderer=!0;let t=e.canvas!==void 0?e.canvas:R3e(),r=e.context!==void 0?e.context:null,n=e.depth!==void 0?e.depth:!0,i=e.stencil!==void 0?e.stencil:!0,o=e.antialias!==void 0?e.antialias:!1,l=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,c=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,a=e.powerPreference!==void 0?e.powerPreference:"default",s=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1,u;r!==null?u=r.getContextAttributes().alpha:u=e.alpha!==void 0?e.alpha:!1;let d=null,h=null,f=[],m=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=rc,this.physicallyCorrectLights=!1,this.toneMapping=nu,this.toneMappingExposure=1;let p=this,g=!1,v=0,x=0,y=null,b=-1,w=null,_=new Ut,S=new Ut,E=null,C=t.width,A=t.height,T=1,k=null,D=null,M=new Ut(0,0,C,A),P=new Ut(0,0,C,A),j=!1,O=new Sj,I=!1,N=!1,L=null,B=new Ne,R=new oe,z=new V,W={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function U(){return y===null?T:1}let H=r;function X(Z,pe){for(let he=0;he<Z.length;he++){let me=Z[he],ve=t.getContext(me,pe);if(ve!==null)return ve}return null}try{let Z={alpha:!0,depth:n,stencil:i,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:a,failIfMajorPerformanceCaveat:s};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${$g}`),t.addEventListener("webglcontextlost",Ve,!1),t.addEventListener("webglcontextrestored",Re,!1),t.addEventListener("webglcontextcreationerror",Ke,!1),H===null){let pe=["webgl2","webgl","experimental-webgl"];if(p.isWebGL1Renderer===!0&&pe.shift(),H=X(pe,Z),H===null)throw X(pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}H.getShaderPrecisionFormat===void 0&&(H.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z}let K,Q,Y,$,J,ie,ne,ae,je,Ee,we,De,Le,Ie,ee,q,le,Te,te,ce,Ce,fe,de,Fe;function Be(){K=new XSe(H),Q=new VSe(H,K,e),K.init(Q),fe=new P3e(H,K,Q),Y=new M3e(H,K,Q),$=new QSe,J=new p3e,ie=new T3e(H,K,Y,J,Q,fe,$),ne=new WSe(p),ae=new YSe(p),je=new a_e(H,Q),de=new FSe(H,K,je,Q),Ee=new $Se(H,je,$,de),we=new tEe(H,Ee,je,$),te=new eEe(H,Q,ie),q=new HSe(J),De=new f3e(p,ne,ae,K,Q,de,q),Le=new I3e(p,J),Ie=new g3e,ee=new _3e(K,Q),Te=new BSe(p,ne,ae,Y,we,u,l),le=new C3e(p,we,Q),Fe=new O3e(H,$,Q,Y),ce=new USe(H,K,$,Q),Ce=new KSe(H,K,$,Q),$.programs=De.programs,p.capabilities=Q,p.extensions=K,p.properties=J,p.renderLists=Ie,p.shadowMap=le,p.state=Y,p.info=$}Be();let _e=new j3e(p,H);this.xr=_e,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){let Z=K.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){let Z=K.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return T},this.setPixelRatio=function(Z){Z!==void 0&&(T=Z,this.setSize(C,A,!1))},this.getSize=function(Z){return Z.set(C,A)},this.setSize=function(Z,pe,he){if(_e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}C=Z,A=pe,t.width=Math.floor(Z*T),t.height=Math.floor(pe*T),he!==!1&&(t.style.width=Z+"px",t.style.height=pe+"px"),this.setViewport(0,0,Z,pe)},this.getDrawingBufferSize=function(Z){return Z.set(C*T,A*T).floor()},this.setDrawingBufferSize=function(Z,pe,he){C=Z,A=pe,T=he,t.width=Math.floor(Z*he),t.height=Math.floor(pe*he),this.setViewport(0,0,Z,pe)},this.getCurrentViewport=function(Z){return Z.copy(_)},this.getViewport=function(Z){return Z.copy(M)},this.setViewport=function(Z,pe,he,me){Z.isVector4?M.set(Z.x,Z.y,Z.z,Z.w):M.set(Z,pe,he,me),Y.viewport(_.copy(M).multiplyScalar(T).floor())},this.getScissor=function(Z){return Z.copy(P)},this.setScissor=function(Z,pe,he,me){Z.isVector4?P.set(Z.x,Z.y,Z.z,Z.w):P.set(Z,pe,he,me),Y.scissor(S.copy(P).multiplyScalar(T).floor())},this.getScissorTest=function(){return j},this.setScissorTest=function(Z){Y.setScissorTest(j=Z)},this.setOpaqueSort=function(Z){k=Z},this.setTransparentSort=function(Z){D=Z},this.getClearColor=function(Z){return Z.copy(Te.getClearColor())},this.setClearColor=function(){Te.setClearColor.apply(Te,arguments)},this.getClearAlpha=function(){return Te.getClearAlpha()},this.setClearAlpha=function(){Te.setClearAlpha.apply(Te,arguments)},this.clear=function(Z=!0,pe=!0,he=!0){let me=0;Z&&(me|=16384),pe&&(me|=256),he&&(me|=1024),H.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ve,!1),t.removeEventListener("webglcontextrestored",Re,!1),t.removeEventListener("webglcontextcreationerror",Ke,!1),Ie.dispose(),ee.dispose(),J.dispose(),ne.dispose(),ae.dispose(),we.dispose(),de.dispose(),Fe.dispose(),De.dispose(),_e.dispose(),_e.removeEventListener("sessionstart",Ue),_e.removeEventListener("sessionend",mt),L&&(L.dispose(),L=null),ht.stop()};function Ve(Z){Z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function Re(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;let Z=$.autoReset,pe=le.enabled,he=le.autoUpdate,me=le.needsUpdate,ve=le.type;Be(),$.autoReset=Z,le.enabled=pe,le.autoUpdate=he,le.needsUpdate=me,le.type=ve}function Ke(Z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Z.statusMessage)}function We(Z){let pe=Z.target;pe.removeEventListener("dispose",We),He(pe)}function He(Z){re(Z),J.remove(Z)}function re(Z){let pe=J.get(Z).programs;pe!==void 0&&(pe.forEach(function(he){De.releaseProgram(he)}),Z.isShaderMaterial&&De.releaseShaderCache(Z))}this.renderBufferDirect=function(Z,pe,he,me,ve,Ye){pe===null&&(pe=W);let gt=ve.isMesh&&ve.matrixWorld.determinant()<0,st=nt(Z,pe,he,me,ve);Y.setMaterial(me,gt);let ut=he.index,Gt=1;me.wireframe===!0&&(ut=Ee.getWireframeAttribute(he),Gt=2);let Ct=he.drawRange,It=he.attributes.position,wr=Ct.start*Gt,Rr=(Ct.start+Ct.count)*Gt;Ye!==null&&(wr=Math.max(wr,Ye.start*Gt),Rr=Math.min(Rr,(Ye.start+Ye.count)*Gt)),ut!==null?(wr=Math.max(wr,0),Rr=Math.min(Rr,ut.count)):It!=null&&(wr=Math.max(wr,0),Rr=Math.min(Rr,It.count));let Ot=Rr-wr;if(Ot<0||Ot===1/0)return;de.setup(ve,me,st,he,ut);let Lr,er=ce;if(ut!==null&&(Lr=je.get(ut),er=Ce,er.setIndex(Lr)),ve.isMesh)me.wireframe===!0?(Y.setLineWidth(me.wireframeLinewidth*U()),er.setMode(1)):er.setMode(4);else if(ve.isLine){let yt=me.linewidth;yt===void 0&&(yt=1),Y.setLineWidth(yt*U()),ve.isLineSegments?er.setMode(1):ve.isLineLoop?er.setMode(2):er.setMode(3)}else ve.isPoints?er.setMode(0):ve.isSprite&&er.setMode(4);if(ve.isInstancedMesh)er.renderInstances(wr,Ot,ve.count);else if(he.isInstancedBufferGeometry){let yt=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,ra=Math.min(he.instanceCount,yt);er.renderInstances(wr,Ot,ra)}else er.render(wr,Ot)},this.compile=function(Z,pe){function he(me,ve,Ye){me.transparent===!0&&me.side===Bo&&me.forceSinglePass===!1?(me.side=bi,me.needsUpdate=!0,et(me,ve,Ye),me.side=rl,me.needsUpdate=!0,et(me,ve,Ye),me.side=Bo):et(me,ve,Ye)}h=ee.get(Z),h.init(),m.push(h),Z.traverseVisible(function(me){me.isLight&&me.layers.test(pe.layers)&&(h.pushLight(me),me.castShadow&&h.pushShadow(me))}),h.setupLights(p.physicallyCorrectLights),Z.traverse(function(me){let ve=me.material;if(ve)if(Array.isArray(ve))for(let Ye=0;Ye<ve.length;Ye++){let gt=ve[Ye];he(gt,Z,me)}else he(ve,Z,me)}),m.pop(),h=null};let be=null;function Ae(Z){be&&be(Z)}function Ue(){ht.stop()}function mt(){ht.start()}let ht=new BX;ht.setAnimationLoop(Ae),typeof self<"u"&&ht.setContext(self),this.setAnimationLoop=function(Z){be=Z,_e.setAnimationLoop(Z),Z===null?ht.stop():ht.start()},_e.addEventListener("sessionstart",Ue),_e.addEventListener("sessionend",mt),this.render=function(Z,pe){if(pe!==void 0&&pe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(g===!0)return;Z.matrixWorldAutoUpdate===!0&&Z.updateMatrixWorld(),pe.parent===null&&pe.matrixWorldAutoUpdate===!0&&pe.updateMatrixWorld(),_e.enabled===!0&&_e.isPresenting===!0&&(_e.cameraAutoUpdate===!0&&_e.updateCamera(pe),pe=_e.getCamera()),Z.isScene===!0&&Z.onBeforeRender(p,Z,pe,y),h=ee.get(Z,m.length),h.init(),m.push(h),B.multiplyMatrices(pe.projectionMatrix,pe.matrixWorldInverse),O.setFromProjectionMatrix(B),N=this.localClippingEnabled,I=q.init(this.clippingPlanes,N),d=Ie.get(Z,f.length),d.init(),f.push(d),se(Z,pe,0,p.sortObjects),d.finish(),p.sortObjects===!0&&d.sort(k,D),I===!0&&q.beginShadows();let he=h.state.shadowsArray;if(le.render(he,Z,pe),I===!0&&q.endShadows(),this.info.autoReset===!0&&this.info.reset(),Te.render(d,Z),h.setupLights(p.physicallyCorrectLights),pe.isArrayCamera){let me=pe.cameras;for(let ve=0,Ye=me.length;ve<Ye;ve++){let gt=me[ve];ge(d,Z,gt,gt.viewport)}}else ge(d,Z,pe);y!==null&&(ie.updateMultisampleRenderTarget(y),ie.updateRenderTargetMipmap(y)),Z.isScene===!0&&Z.onAfterRender(p,Z,pe),de.resetDefaultState(),b=-1,w=null,m.pop(),m.length>0?h=m[m.length-1]:h=null,f.pop(),f.length>0?d=f[f.length-1]:d=null};function se(Z,pe,he,me){if(Z.visible===!1)return;if(Z.layers.test(pe.layers)){if(Z.isGroup)he=Z.renderOrder;else if(Z.isLOD)Z.autoUpdate===!0&&Z.update(pe);else if(Z.isLight)h.pushLight(Z),Z.castShadow&&h.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||O.intersectsSprite(Z)){me&&z.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(B);let Ye=we.update(Z),gt=Z.material;gt.visible&&d.push(Z,Ye,gt,he,z.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(Z.isSkinnedMesh&&Z.skeleton.frame!==$.render.frame&&(Z.skeleton.update(),Z.skeleton.frame=$.render.frame),!Z.frustumCulled||O.intersectsObject(Z))){me&&z.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(B);let Ye=we.update(Z),gt=Z.material;if(Array.isArray(gt)){let st=Ye.groups;for(let ut=0,Gt=st.length;ut<Gt;ut++){let Ct=st[ut],It=gt[Ct.materialIndex];It&&It.visible&&d.push(Z,Ye,It,he,z.z,Ct)}}else gt.visible&&d.push(Z,Ye,gt,he,z.z,null)}}let ve=Z.children;for(let Ye=0,gt=ve.length;Ye<gt;Ye++)se(ve[Ye],pe,he,me)}function ge(Z,pe,he,me){let ve=Z.opaque,Ye=Z.transmissive,gt=Z.transparent;h.setupLightsView(he),I===!0&&q.setGlobalState(p.clippingPlanes,he),Ye.length>0&&Se(ve,pe,he),me&&Y.viewport(_.copy(me)),ve.length>0&&Pe(ve,pe,he),Ye.length>0&&Pe(Ye,pe,he),gt.length>0&&Pe(gt,pe,he),Y.buffers.depth.setTest(!0),Y.buffers.depth.setMask(!0),Y.buffers.color.setMask(!0),Y.setPolygonOffset(!1)}function Se(Z,pe,he){let me=Q.isWebGL2;L===null&&(L=new Cr(1,1,{generateMipmaps:!0,type:K.has("EXT_color_buffer_half_float")?wf:Ji,minFilter:mg,samples:me&&o===!0?4:0})),p.getDrawingBufferSize(R),me?L.setSize(R.x,R.y):L.setSize(i2(R.x),i2(R.y));let ve=p.getRenderTarget();p.setRenderTarget(L),p.clear();let Ye=p.toneMapping;p.toneMapping=nu,Pe(Z,pe,he),p.toneMapping=Ye,ie.updateMultisampleRenderTarget(L),ie.updateRenderTargetMipmap(L),p.setRenderTarget(ve)}function Pe(Z,pe,he){let me=pe.isScene===!0?pe.overrideMaterial:null;for(let ve=0,Ye=Z.length;ve<Ye;ve++){let gt=Z[ve],st=gt.object,ut=gt.geometry,Gt=me===null?gt.material:me,Ct=gt.group;st.layers.test(he.layers)&&Je(st,pe,he,ut,Gt,Ct)}}function Je(Z,pe,he,me,ve,Ye){Z.onBeforeRender(p,pe,he,me,ve,Ye),Z.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),ve.onBeforeRender(p,pe,he,me,Z,Ye),ve.transparent===!0&&ve.side===Bo&&ve.forceSinglePass===!1?(ve.side=bi,ve.needsUpdate=!0,p.renderBufferDirect(he,pe,me,ve,Z,Ye),ve.side=rl,ve.needsUpdate=!0,p.renderBufferDirect(he,pe,me,ve,Z,Ye),ve.side=Bo):p.renderBufferDirect(he,pe,me,ve,Z,Ye),Z.onAfterRender(p,pe,he,me,ve,Ye)}function et(Z,pe,he){pe.isScene!==!0&&(pe=W);let me=J.get(Z),ve=h.state.lights,Ye=h.state.shadowsArray,gt=ve.state.version,st=De.getParameters(Z,ve.state,Ye,pe,he),ut=De.getProgramCacheKey(st),Gt=me.programs;me.environment=Z.isMeshStandardMaterial?pe.environment:null,me.fog=pe.fog,me.envMap=(Z.isMeshStandardMaterial?ae:ne).get(Z.envMap||me.environment),Gt===void 0&&(Z.addEventListener("dispose",We),Gt=new Map,me.programs=Gt);let Ct=Gt.get(ut);if(Ct!==void 0){if(me.currentProgram===Ct&&me.lightsStateVersion===gt)return tt(Z,st),Ct}else st.uniforms=De.getUniforms(Z),Z.onBuild(he,st,p),Z.onBeforeCompile(st,p),Ct=De.acquireProgram(st,ut),Gt.set(ut,Ct),me.uniforms=st.uniforms;let It=me.uniforms;(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||Z.clipping===!0)&&(It.clippingPlanes=q.uniform),tt(Z,st),me.needsLights=ot(Z),me.lightsStateVersion=gt,me.needsLights&&(It.ambientLightColor.value=ve.state.ambient,It.lightProbe.value=ve.state.probe,It.directionalLights.value=ve.state.directional,It.directionalLightShadows.value=ve.state.directionalShadow,It.spotLights.value=ve.state.spot,It.spotLightShadows.value=ve.state.spotShadow,It.rectAreaLights.value=ve.state.rectArea,It.ltc_1.value=ve.state.rectAreaLTC1,It.ltc_2.value=ve.state.rectAreaLTC2,It.pointLights.value=ve.state.point,It.pointLightShadows.value=ve.state.pointShadow,It.hemisphereLights.value=ve.state.hemi,It.directionalShadowMap.value=ve.state.directionalShadowMap,It.directionalShadowMatrix.value=ve.state.directionalShadowMatrix,It.spotShadowMap.value=ve.state.spotShadowMap,It.spotLightMatrix.value=ve.state.spotLightMatrix,It.spotLightMap.value=ve.state.spotLightMap,It.pointShadowMap.value=ve.state.pointShadowMap,It.pointShadowMatrix.value=ve.state.pointShadowMatrix);let wr=Ct.getUniforms(),Rr=zw.seqWithValue(wr.seq,It);return me.currentProgram=Ct,me.uniformsList=Rr,Ct}function tt(Z,pe){let he=J.get(Z);he.outputEncoding=pe.outputEncoding,he.instancing=pe.instancing,he.skinning=pe.skinning,he.morphTargets=pe.morphTargets,he.morphNormals=pe.morphNormals,he.morphColors=pe.morphColors,he.morphTargetsCount=pe.morphTargetsCount,he.numClippingPlanes=pe.numClippingPlanes,he.numIntersection=pe.numClipIntersection,he.vertexAlphas=pe.vertexAlphas,he.vertexTangents=pe.vertexTangents,he.toneMapping=pe.toneMapping}function nt(Z,pe,he,me,ve){pe.isScene!==!0&&(pe=W),ie.resetTextureUnits();let Ye=pe.fog,gt=me.isMeshStandardMaterial?pe.environment:null,st=y===null?p.outputEncoding:y.isXRRenderTarget===!0?y.texture.encoding:rc,ut=(me.isMeshStandardMaterial?ae:ne).get(me.envMap||gt),Gt=me.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,Ct=!!me.normalMap&&!!he.attributes.tangent,It=!!he.morphAttributes.position,wr=!!he.morphAttributes.normal,Rr=!!he.morphAttributes.color,Ot=me.toneMapped?p.toneMapping:nu,Lr=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,er=Lr!==void 0?Lr.length:0,yt=J.get(me),ra=h.state.lights;if(I===!0&&(N===!0||Z!==w)){let Ci=Z===w&&me.id===b;q.setState(me,Z,Ci)}let cl=!1;me.version===yt.__version?(yt.needsLights&&yt.lightsStateVersion!==ra.state.version||yt.outputEncoding!==st||ve.isInstancedMesh&&yt.instancing===!1||!ve.isInstancedMesh&&yt.instancing===!0||ve.isSkinnedMesh&&yt.skinning===!1||!ve.isSkinnedMesh&&yt.skinning===!0||yt.envMap!==ut||me.fog===!0&&yt.fog!==Ye||yt.numClippingPlanes!==void 0&&(yt.numClippingPlanes!==q.numPlanes||yt.numIntersection!==q.numIntersection)||yt.vertexAlphas!==Gt||yt.vertexTangents!==Ct||yt.morphTargets!==It||yt.morphNormals!==wr||yt.morphColors!==Rr||yt.toneMapping!==Ot||Q.isWebGL2===!0&&yt.morphTargetsCount!==er)&&(cl=!0):(cl=!0,yt.__version=me.version);let na=yt.currentProgram;cl===!0&&(na=et(me,pe,ve));let Vf=!1,pc=!1,th=!1,En=na.getUniforms(),_s=yt.uniforms;if(Y.useProgram(na.program)&&(Vf=!0,pc=!0,th=!0),me.id!==b&&(b=me.id,pc=!0),Vf||w!==Z){if(En.setValue(H,"projectionMatrix",Z.projectionMatrix),Q.logarithmicDepthBuffer&&En.setValue(H,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),w!==Z&&(w=Z,pc=!0,th=!0),me.isShaderMaterial||me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshStandardMaterial||me.envMap){let Ci=En.map.cameraPosition;Ci!==void 0&&Ci.setValue(H,z.setFromMatrixPosition(Z.matrixWorld))}(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial)&&En.setValue(H,"isOrthographic",Z.isOrthographicCamera===!0),(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial||me.isShadowMaterial||ve.isSkinnedMesh)&&En.setValue(H,"viewMatrix",Z.matrixWorldInverse)}if(ve.isSkinnedMesh){En.setOptional(H,ve,"bindMatrix"),En.setOptional(H,ve,"bindMatrixInverse");let Ci=ve.skeleton;Ci&&(Q.floatVertexTextures?(Ci.boneTexture===null&&Ci.computeBoneTexture(),En.setValue(H,"boneTexture",Ci.boneTexture,ie),En.setValue(H,"boneTextureSize",Ci.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let rh=he.morphAttributes;if((rh.position!==void 0||rh.normal!==void 0||rh.color!==void 0&&Q.isWebGL2===!0)&&te.update(ve,he,me,na),(pc||yt.receiveShadow!==ve.receiveShadow)&&(yt.receiveShadow=ve.receiveShadow,En.setValue(H,"receiveShadow",ve.receiveShadow)),me.isMeshGouraudMaterial&&me.envMap!==null&&(_s.envMap.value=ut,_s.flipEnvMap.value=ut.isCubeTexture&&ut.isRenderTargetTexture===!1?-1:1),pc&&(En.setValue(H,"toneMappingExposure",p.toneMappingExposure),yt.needsLights&&ct(_s,th),Ye&&me.fog===!0&&Le.refreshFogUniforms(_s,Ye),Le.refreshMaterialUniforms(_s,me,T,A,L),zw.upload(H,yt.uniformsList,_s,ie)),me.isShaderMaterial&&me.uniformsNeedUpdate===!0&&(zw.upload(H,yt.uniformsList,_s,ie),me.uniformsNeedUpdate=!1),me.isSpriteMaterial&&En.setValue(H,"center",ve.center),En.setValue(H,"modelViewMatrix",ve.modelViewMatrix),En.setValue(H,"normalMatrix",ve.normalMatrix),En.setValue(H,"modelMatrix",ve.matrixWorld),ve.previousModelViewMatrix&&En.setValue(H,"previousModelViewMatrix",ve.previousModelViewMatrix),Z.previousProjectionMatrix&&En.setValue(H,"previousProjectionMatrix",Z.previousProjectionMatrix),me.isShaderMaterial||me.isRawShaderMaterial){let Ci=me.uniformsGroups;for(let c3=0,cee=Ci.length;c3<cee;c3++)if(Q.isWebGL2){let uI=Ci[c3];Fe.update(uI,na),Fe.bind(uI,na)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return na}function ct(Z,pe){Z.ambientLightColor.needsUpdate=pe,Z.lightProbe.needsUpdate=pe,Z.directionalLights.needsUpdate=pe,Z.directionalLightShadows.needsUpdate=pe,Z.pointLights.needsUpdate=pe,Z.pointLightShadows.needsUpdate=pe,Z.spotLights.needsUpdate=pe,Z.spotLightShadows.needsUpdate=pe,Z.rectAreaLights.needsUpdate=pe,Z.hemisphereLights.needsUpdate=pe}function ot(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&Z.lights===!0}this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return y},this.setRenderTargetTextures=function(Z,pe,he){J.get(Z.texture).__webglTexture=pe,J.get(Z.depthTexture).__webglTexture=he;let me=J.get(Z);me.__hasExternalTextures=!0,me.__hasExternalTextures&&(me.__autoAllocateDepthBuffer=he===void 0,me.__autoAllocateDepthBuffer||K.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),me.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Z,pe){let he=J.get(Z);he.__webglFramebuffer=pe,he.__useDefaultFramebuffer=pe===void 0},this.setRenderTarget=function(Z,pe=0,he=0){y=Z,v=pe,x=he;let me=!0,ve=null,Ye=!1,gt=!1;if(Z){let st=J.get(Z);st.__useDefaultFramebuffer!==void 0?(Y.bindFramebuffer(36160,null),me=!1):st.__webglFramebuffer===void 0?ie.setupRenderTarget(Z):st.__hasExternalTextures&&ie.rebindTextures(Z,J.get(Z.texture).__webglTexture,J.get(Z.depthTexture).__webglTexture);let ut=Z.texture;(ut.isData3DTexture||ut.isDataArrayTexture||ut.isCompressedArrayTexture)&&(gt=!0);let Gt=J.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(ve=Gt[pe],Ye=!0):Q.isWebGL2&&Z.samples>0&&ie.useMultisampledRTT(Z)===!1?ve=J.get(Z).__webglMultisampledFramebuffer:ve=Gt,_.copy(Z.viewport),S.copy(Z.scissor),E=Z.scissorTest}else _.copy(M).multiplyScalar(T).floor(),S.copy(P).multiplyScalar(T).floor(),E=j;if(Y.bindFramebuffer(36160,ve)&&Q.drawBuffers&&me&&Y.drawBuffers(Z,ve),Y.viewport(_),Y.scissor(S),Y.setScissorTest(E),Ye){let st=J.get(Z.texture);H.framebufferTexture2D(36160,36064,34069+pe,st.__webglTexture,he)}else if(gt){let st=J.get(Z.texture),ut=pe||0;H.framebufferTextureLayer(36160,36064,st.__webglTexture,he||0,ut)}b=-1},this.readRenderTargetPixels=function(Z,pe,he,me,ve,Ye,gt){if(!(Z&&Z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let st=J.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&gt!==void 0&&(st=st[gt]),st){Y.bindFramebuffer(36160,st);try{let ut=Z.texture,Gt=ut.format,Ct=ut.type;if(Gt!==ma&&fe.convert(Gt)!==H.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let It=Ct===wf&&(K.has("EXT_color_buffer_half_float")||Q.isWebGL2&&K.has("EXT_color_buffer_float"));if(Ct!==Ji&&fe.convert(Ct)!==H.getParameter(35738)&&!(Ct===go&&(Q.isWebGL2||K.has("OES_texture_float")||K.has("WEBGL_color_buffer_float")))&&!It){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}pe>=0&&pe<=Z.width-me&&he>=0&&he<=Z.height-ve&&H.readPixels(pe,he,me,ve,fe.convert(Gt),fe.convert(Ct),Ye)}finally{let ut=y!==null?J.get(y).__webglFramebuffer:null;Y.bindFramebuffer(36160,ut)}}},this.copyFramebufferToTexture=function(Z,pe,he=0){let me=Math.pow(2,-he),ve=Math.floor(pe.image.width*me),Ye=Math.floor(pe.image.height*me);ie.setTexture2D(pe,0),H.copyTexSubImage2D(3553,he,0,0,Z.x,Z.y,ve,Ye),Y.unbindTexture()},this.copyTextureToTexture=function(Z,pe,he,me=0){let ve=pe.image.width,Ye=pe.image.height,gt=fe.convert(he.format),st=fe.convert(he.type);ie.setTexture2D(he,0),H.pixelStorei(37440,he.flipY),H.pixelStorei(37441,he.premultiplyAlpha),H.pixelStorei(3317,he.unpackAlignment),pe.isDataTexture?H.texSubImage2D(3553,me,Z.x,Z.y,ve,Ye,gt,st,pe.image.data):pe.isCompressedTexture?H.compressedTexSubImage2D(3553,me,Z.x,Z.y,pe.mipmaps[0].width,pe.mipmaps[0].height,gt,pe.mipmaps[0].data):H.texSubImage2D(3553,me,Z.x,Z.y,gt,st,pe.image),me===0&&he.generateMipmaps&&H.generateMipmap(3553),Y.unbindTexture()},this.copyTextureToTexture3D=function(Z,pe,he,me,ve=0){if(p.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let Ye=Z.max.x-Z.min.x+1,gt=Z.max.y-Z.min.y+1,st=Z.max.z-Z.min.z+1,ut=fe.convert(me.format),Gt=fe.convert(me.type),Ct;if(me.isData3DTexture)ie.setTexture3D(me,0),Ct=32879;else if(me.isDataArrayTexture)ie.setTexture2DArray(me,0),Ct=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}H.pixelStorei(37440,me.flipY),H.pixelStorei(37441,me.premultiplyAlpha),H.pixelStorei(3317,me.unpackAlignment);let It=H.getParameter(3314),wr=H.getParameter(32878),Rr=H.getParameter(3316),Ot=H.getParameter(3315),Lr=H.getParameter(32877),er=he.isCompressedTexture?he.mipmaps[0]:he.image;H.pixelStorei(3314,er.width),H.pixelStorei(32878,er.height),H.pixelStorei(3316,Z.min.x),H.pixelStorei(3315,Z.min.y),H.pixelStorei(32877,Z.min.z),he.isDataTexture||he.isData3DTexture?H.texSubImage3D(Ct,ve,pe.x,pe.y,pe.z,Ye,gt,st,ut,Gt,er.data):he.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),H.compressedTexSubImage3D(Ct,ve,pe.x,pe.y,pe.z,Ye,gt,st,ut,er.data)):H.texSubImage3D(Ct,ve,pe.x,pe.y,pe.z,Ye,gt,st,ut,Gt,er),H.pixelStorei(3314,It),H.pixelStorei(32878,wr),H.pixelStorei(3316,Rr),H.pixelStorei(3315,Ot),H.pixelStorei(32877,Lr),ve===0&&me.generateMipmaps&&H.generateMipmap(Ct),Y.unbindTexture()},this.initTexture=function(Z){Z.isCubeTexture?ie.setTextureCube(Z,0):Z.isData3DTexture?ie.setTexture3D(Z,0):Z.isDataArrayTexture||Z.isCompressedArrayTexture?ie.setTexture2DArray(Z,0):ie.setTexture2D(Z,0),Y.unbindTexture()},this.resetState=function(){v=0,x=0,y=null,Y.reset(),de.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}var L3e=class extends GX{};L3e.prototype.isWebGL1Renderer=!0;var qX=class{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new wt(e),this.near=t,this.far=r}clone(){return new qX(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}},kd=class extends Tr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}},z3e=class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=W4,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=as()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let n=0,i=this.stride;n<i;n++)this.array[e+n]=t.array[r+n];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=as()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=as()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}},ro=new V,X4=class{constructor(e,t,r,n=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=n}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)ro.fromBufferAttribute(this,t),ro.applyMatrix4(e),this.setXYZ(t,ro.x,ro.y,ro.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ro.fromBufferAttribute(this,t),ro.applyNormalMatrix(e),this.setXYZ(t,ro.x,ro.y,ro.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ro.fromBufferAttribute(this,t),ro.transformDirection(e),this.setXYZ(t,ro.x,ro.y,ro.z);return this}setX(e,t){return this.normalized&&(t=zr(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=zr(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=zr(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=zr(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Qc(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Qc(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Qc(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Qc(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=zr(t,this.array),r=zr(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=zr(t,this.array),r=zr(r,this.array),n=zr(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this}setXYZW(e,t,r,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=zr(t,this.array),r=zr(r,this.array),n=zr(n,this.array),i=zr(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this.data.array[e+3]=i,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let r=0;r<this.count;r++){let n=r*this.data.stride+this.offset;for(let i=0;i<this.itemSize;i++)t.push(this.data.array[n+i])}return new kt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new X4(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let r=0;r<this.count;r++){let n=r*this.data.stride+this.offset;for(let i=0;i<this.itemSize;i++)t.push(this.data.array[n+i])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},YX=class extends Tr{constructor(){super(),this.isBone=!0,this.type="Bone"}},ud=class extends li{constructor(e=null,t=1,r=1,n,i,o,l,c,a=Nr,s=Nr,u,d){super(null,o,l,c,a,s,n,i,u,d),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},hN=new Ne,N3e=new Ne,Cj=class{constructor(e=[],t=[]){this.uuid=as(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,n=this.bones.length;r<n;r++)this.boneInverses.push(new Ne)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let r=new Ne;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){let e=this.bones,t=this.boneInverses,r=this.boneMatrices,n=this.boneTexture;for(let i=0,o=e.length;i<o;i++){let l=e[i]?e[i].matrixWorld:N3e;hN.multiplyMatrices(l,t[i]),hN.toArray(r,i*16)}n!==null&&(n.needsUpdate=!0)}clone(){return new Cj(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=DX(e),e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let r=new ud(t,e,e,ma,go);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){let n=this.bones[t];if(n.name===e)return n}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,n=e.bones.length;r<n;r++){let i=e.bones[r],o=t[i];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),o=new YX),this.bones.push(o),this.boneInverses.push(new Ne().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){let e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,r=this.boneInverses;for(let n=0,i=t.length;n<i;n++){let o=t[n];e.bones.push(o.uuid);let l=r[n];e.boneInverses.push(l.toArray())}return e}},XX=class extends kt{constructor(e,t,r,n=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}},Qd=class extends G1{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new wt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},fN=new V,pN=new V,mN=new Ne,yC=new Kg,nx=new Zo,a2=class extends Tr{constructor(e=new vt,t=new Qd){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,r=[0];for(let n=1,i=t.count;n<i;n++)fN.fromBufferAttribute(t,n-1),pN.fromBufferAttribute(t,n),r[n]=r[n-1],r[n]+=fN.distanceTo(pN);e.setAttribute("lineDistance",new it(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let r=this.geometry,n=this.matrixWorld,i=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),nx.copy(r.boundingSphere),nx.applyMatrix4(n),nx.radius+=i,e.ray.intersectsSphere(nx)===!1)return;mN.copy(n).invert(),yC.copy(e.ray).applyMatrix4(mN);let l=i/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,a=new V,s=new V,u=new V,d=new V,h=this.isLineSegments?2:1,f=r.index,m=r.attributes.position;if(f!==null){let p=Math.max(0,o.start),g=Math.min(f.count,o.start+o.count);for(let v=p,x=g-1;v<x;v+=h){let y=f.getX(v),b=f.getX(v+1);if(a.fromBufferAttribute(m,y),s.fromBufferAttribute(m,b),yC.distanceSqToSegment(a,s,d,u)>c)continue;d.applyMatrix4(this.matrixWorld);let w=e.ray.origin.distanceTo(d);w<e.near||w>e.far||t.push({distance:w,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else{let p=Math.max(0,o.start),g=Math.min(m.count,o.start+o.count);for(let v=p,x=g-1;v<x;v+=h){if(a.fromBufferAttribute(m,v),s.fromBufferAttribute(m,v+1),yC.distanceSqToSegment(a,s,d,u)>c)continue;d.applyMatrix4(this.matrixWorld);let y=e.ray.origin.distanceTo(d);y<e.near||y>e.far||t.push({distance:y,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let r=e[t[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let n=0,i=r.length;n<i;n++){let o=r[n].name||String(n);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=n}}}}},gN=new V,vN=new V,Y1=class extends a2{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,r=[];for(let n=0,i=t.count;n<i;n+=2)gN.fromBufferAttribute(t,n),vN.fromBufferAttribute(t,n+1),r[n]=n===0?0:r[n-1],r[n+1]=r[n]+gN.distanceTo(vN);e.setAttribute("lineDistance",new it(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},B3e=class extends li{constructor(e,t,r,n,i,o,l,c,a){super(e,t,r,n,i,o,l,c,a),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Kt,this.magFilter=i!==void 0?i:Kt,this.generateMipmaps=!1;let s=this;function u(){s.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},uc=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],r,n=this.getPoint(0),i=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),i+=r.distanceTo(n),t.push(i),n=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let r=this.getLengths(),n=0,i=r.length,o;t?o=t:o=e*r[i-1];let l=0,c=i-1,a;for(;l<=c;)if(n=Math.floor(l+(c-l)/2),a=r[n]-o,a<0)l=n+1;else if(a>0)c=n-1;else{c=n;break}if(n=c,r[n]===o)return n/(i-1);let s=r[n],u=r[n+1]-s,d=(o-s)/u;return(n+d)/(i-1)}getTangent(e,t){let r=e-1e-4,n=e+1e-4;r<0&&(r=0),n>1&&(n=1);let i=this.getPoint(r),o=this.getPoint(n),l=t||(i.isVector2?new oe:new V);return l.copy(o).sub(i).normalize(),l}getTangentAt(e,t){let r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){let r=new V,n=[],i=[],o=[],l=new V,c=new Ne;for(let h=0;h<=e;h++){let f=h/e;n[h]=this.getTangentAt(f,new V)}i[0]=new V,o[0]=new V;let a=Number.MAX_VALUE,s=Math.abs(n[0].x),u=Math.abs(n[0].y),d=Math.abs(n[0].z);s<=a&&(a=s,r.set(1,0,0)),u<=a&&(a=u,r.set(0,1,0)),d<=a&&r.set(0,0,1),l.crossVectors(n[0],r).normalize(),i[0].crossVectors(n[0],l),o[0].crossVectors(n[0],i[0]);for(let h=1;h<=e;h++){if(i[h]=i[h-1].clone(),o[h]=o[h-1].clone(),l.crossVectors(n[h-1],n[h]),l.length()>Number.EPSILON){l.normalize();let f=Math.acos(Xn(n[h-1].dot(n[h]),-1,1));i[h].applyMatrix4(c.makeRotationAxis(l,f))}o[h].crossVectors(n[h],i[h])}if(t===!0){let h=Math.acos(Xn(i[0].dot(i[e]),-1,1));h/=e,n[0].dot(l.crossVectors(i[0],i[e]))>0&&(h=-h);for(let f=1;f<=e;f++)i[f].applyMatrix4(c.makeRotationAxis(n[f],h*f)),o[f].crossVectors(n[f],i[f])}return{tangents:n,normals:i,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},OE=class extends uc{constructor(e=0,t=0,r=1,n=1,i=0,o=Math.PI*2,l=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=n,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=l,this.aRotation=c}getPoint(e,t){let r=t||new oe,n=Math.PI*2,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(o?i=0:i=n),this.aClockwise===!0&&!o&&(i===n?i=-n:i=i-n);let l=this.aStartAngle+e*i,c=this.aX+this.xRadius*Math.cos(l),a=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){let s=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=c-this.aX,h=a-this.aY;c=d*s-h*u+this.aX,a=d*u+h*s+this.aY}return r.set(c,a)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},F3e=class extends OE{constructor(e,t,r,n,i,o){super(e,t,r,r,n,i,o),this.isArcCurve=!0,this.type="ArcCurve"}};function Mj(){let e=0,t=0,r=0,n=0;function i(o,l,c,a){e=o,t=c,r=-3*o+3*l-2*c-a,n=2*o-2*l+c+a}return{initCatmullRom:function(o,l,c,a,s){i(l,c,s*(c-o),s*(a-l))},initNonuniformCatmullRom:function(o,l,c,a,s,u,d){let h=(l-o)/s-(c-o)/(s+u)+(c-l)/u,f=(c-l)/u-(a-l)/(u+d)+(a-c)/d;h*=u,f*=u,i(l,c,h,f)},calc:function(o){let l=o*o,c=l*o;return e+t*o+r*l+n*c}}}var ix=new V,bC=new Mj,xC=new Mj,wC=new Mj,U3e=class extends uc{constructor(e=[],t=!1,r="centripetal",n=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=n}getPoint(e,t=new V){let r=t,n=this.points,i=n.length,o=(i-(this.closed?0:1))*e,l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:c===0&&l===i-1&&(l=i-2,c=1);let a,s;this.closed||l>0?a=n[(l-1)%i]:(ix.subVectors(n[0],n[1]).add(n[0]),a=ix);let u=n[l%i],d=n[(l+1)%i];if(this.closed||l+2<i?s=n[(l+2)%i]:(ix.subVectors(n[i-1],n[i-2]).add(n[i-1]),s=ix),this.curveType==="centripetal"||this.curveType==="chordal"){let h=this.curveType==="chordal"?.5:.25,f=Math.pow(a.distanceToSquared(u),h),m=Math.pow(u.distanceToSquared(d),h),p=Math.pow(d.distanceToSquared(s),h);m<1e-4&&(m=1),f<1e-4&&(f=m),p<1e-4&&(p=m),bC.initNonuniformCatmullRom(a.x,u.x,d.x,s.x,f,m,p),xC.initNonuniformCatmullRom(a.y,u.y,d.y,s.y,f,m,p),wC.initNonuniformCatmullRom(a.z,u.z,d.z,s.z,f,m,p)}else this.curveType==="catmullrom"&&(bC.initCatmullRom(a.x,u.x,d.x,s.x,this.tension),xC.initCatmullRom(a.y,u.y,d.y,s.y,this.tension),wC.initCatmullRom(a.z,u.z,d.z,s.z,this.tension));return r.set(bC.calc(c),xC.calc(c),wC.calc(c)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let n=e.points[t];this.points.push(new V().fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};function yN(e,t,r,n,i){let o=(n-t)*.5,l=(i-r)*.5,c=e*e,a=e*c;return(2*r-2*n+o+l)*a+(-3*r+3*n-2*o-l)*c+o*e+r}function V3e(e,t){let r=1-e;return r*r*t}function H3e(e,t){return 2*(1-e)*e*t}function W3e(e,t){return e*e*t}function iy(e,t,r,n){return V3e(e,t)+H3e(e,r)+W3e(e,n)}function G3e(e,t){let r=1-e;return r*r*r*t}function q3e(e,t){let r=1-e;return 3*r*r*e*t}function Y3e(e,t){return 3*(1-e)*e*e*t}function X3e(e,t){return e*e*e*t}function oy(e,t,r,n,i){return G3e(e,t)+q3e(e,r)+Y3e(e,n)+X3e(e,i)}var qs=class extends uc{constructor(e=new oe,t=new oe,r=new oe,n=new oe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=n}getPoint(e,t=new oe){let r=t,n=this.v0,i=this.v1,o=this.v2,l=this.v3;return r.set(oy(e,n.x,i.x,o.x,l.x),oy(e,n.y,i.y,o.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},Nw=class extends uc{constructor(e=new V,t=new V,r=new V,n=new V){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=n}getPoint(e,t=new V){let r=t,n=this.v0,i=this.v1,o=this.v2,l=this.v3;return r.set(oy(e,n.x,i.x,o.x,l.x),oy(e,n.y,i.y,o.y,l.y),oy(e,n.z,i.z,o.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},Zs=class extends uc{constructor(e=new oe,t=new oe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new oe){let r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){let r=t||new oe;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},$X=class extends uc{constructor(e=new V,t=new V){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new V){let r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Ud=class extends uc{constructor(e=new oe,t=new oe,r=new oe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new oe){let r=t,n=this.v0,i=this.v1,o=this.v2;return r.set(iy(e,n.x,i.x,o.x),iy(e,n.y,i.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},$3e=class extends uc{constructor(e=new V,t=new V,r=new V){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new V){let r=t,n=this.v0,i=this.v1,o=this.v2;return r.set(iy(e,n.x,i.x,o.x),iy(e,n.y,i.y,o.y),iy(e,n.z,i.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Tj=class extends uc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new oe){let r=t,n=this.points,i=(n.length-1)*e,o=Math.floor(i),l=i-o,c=n[o===0?o:o-1],a=n[o],s=n[o>n.length-2?n.length-1:o+1],u=n[o>n.length-3?n.length-1:o+2];return r.set(yN(l,c.x,a.x,s.x,u.x),yN(l,c.y,a.y,s.y,u.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let n=e.points[t];this.points.push(n.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let n=e.points[t];this.points.push(new oe().fromArray(n))}return this}},K3e=Object.freeze({__proto__:null,ArcCurve:F3e,CatmullRomCurve3:U3e,CubicBezierCurve:qs,CubicBezierCurve3:Nw,EllipseCurve:OE,LineCurve:Zs,LineCurve3:$X,QuadraticBezierCurve:Ud,QuadraticBezierCurve3:$3e,SplineCurve:Tj}),KX=class extends uc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Zs(t,e))}getPoint(e,t){let r=e*this.getLength(),n=this.getCurveLengths(),i=0;for(;i<n.length;){if(n[i]>=r){let o=n[i]-r,l=this.curves[i],c=l.getLength(),a=c===0?0:1-o/c;return l.getPointAt(a,t)}i++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let r=0,n=this.curves.length;r<n;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t=[],r;for(let n=0,i=this.curves;n<i.length;n++){let o=i[n],l=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,c=o.getPoints(l);for(let a=0;a<c.length;a++){let s=c[a];r&&r.equals(s)||(t.push(s),r=s)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){let n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let n=e.curves[t];this.curves.push(new K3e[n.type]().fromJSON(n))}return this}},s2=class extends KX{constructor(e){super(),this.type="Path",this.currentPoint=new oe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let r=new Zs(this.currentPoint.clone(),new oe(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,n){let i=new Ud(this.currentPoint.clone(),new oe(e,t),new oe(r,n));return this.curves.push(i),this.currentPoint.set(r,n),this}bezierCurveTo(e,t,r,n,i,o){let l=new qs(this.currentPoint.clone(),new oe(e,t),new oe(r,n),new oe(i,o));return this.curves.push(l),this.currentPoint.set(i,o),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),r=new Tj(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,n,i,o){let l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,t+c,r,n,i,o),this}absarc(e,t,r,n,i,o){return this.absellipse(e,t,r,r,n,i,o),this}ellipse(e,t,r,n,i,o,l,c){let a=this.currentPoint.x,s=this.currentPoint.y;return this.absellipse(e+a,t+s,r,n,i,o,l,c),this}absellipse(e,t,r,n,i,o,l,c){let a=new OE(e,t,r,n,i,o,l,c);if(this.curves.length>0){let u=a.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(a);let s=a.getPoint(1);return this.currentPoint.copy(s),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},QX=class extends vt{constructor(e=[new oe(0,-.5),new oe(.5,0),new oe(0,.5)],t=12,r=0,n=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},t=Math.floor(t),n=Xn(n,0,Math.PI*2);let i=[],o=[],l=[],c=[],a=[],s=1/t,u=new V,d=new oe,h=new V,f=new V,m=new V,p=0,g=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:p=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,h.x=g*1,h.y=-p,h.z=g*0,m.copy(h),h.normalize(),c.push(h.x,h.y,h.z);break;case e.length-1:c.push(m.x,m.y,m.z);break;default:p=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,h.x=g*1,h.y=-p,h.z=g*0,f.copy(h),h.x+=m.x,h.y+=m.y,h.z+=m.z,h.normalize(),c.push(h.x,h.y,h.z),m.copy(f)}for(let v=0;v<=t;v++){let x=r+v*s*n,y=Math.sin(x),b=Math.cos(x);for(let w=0;w<=e.length-1;w++){u.x=e[w].x*y,u.y=e[w].y,u.z=e[w].x*b,o.push(u.x,u.y,u.z),d.x=v/t,d.y=w/(e.length-1),l.push(d.x,d.y);let _=c[3*w+0]*y,S=c[3*w+1],E=c[3*w+0]*b;a.push(_,S,E)}}for(let v=0;v<t;v++)for(let x=0;x<e.length-1;x++){let y=x+v*e.length,b=y,w=y+e.length,_=y+e.length+1,S=y+1;i.push(b,w,S),i.push(_,S,w)}this.setIndex(i),this.setAttribute("position",new it(o,3)),this.setAttribute("uv",new it(l,2)),this.setAttribute("normal",new it(a,3))}static fromJSON(e){return new QX(e.points,e.segments,e.phiStart,e.phiLength)}},Pj=class extends vt{constructor(e=1,t=1,r=1,n=32,i=1,o=!1,l=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:l,thetaLength:c};let a=this;n=Math.floor(n),i=Math.floor(i);let s=[],u=[],d=[],h=[],f=0,m=[],p=r/2,g=0;v(),o===!1&&(e>0&&x(!0),t>0&&x(!1)),this.setIndex(s),this.setAttribute("position",new it(u,3)),this.setAttribute("normal",new it(d,3)),this.setAttribute("uv",new it(h,2));function v(){let y=new V,b=new V,w=0,_=(t-e)/r;for(let S=0;S<=i;S++){let E=[],C=S/i,A=C*(t-e)+e;for(let T=0;T<=n;T++){let k=T/n,D=k*c+l,M=Math.sin(D),P=Math.cos(D);b.x=A*M,b.y=-C*r+p,b.z=A*P,u.push(b.x,b.y,b.z),y.set(M,_,P).normalize(),d.push(y.x,y.y,y.z),h.push(k,1-C),E.push(f++)}m.push(E)}for(let S=0;S<n;S++)for(let E=0;E<i;E++){let C=m[E][S],A=m[E+1][S],T=m[E+1][S+1],k=m[E][S+1];s.push(C,A,k),s.push(A,T,k),w+=6}a.addGroup(g,w,0),g+=w}function x(y){let b=f,w=new oe,_=new V,S=0,E=y===!0?e:t,C=y===!0?1:-1;for(let T=1;T<=n;T++)u.push(0,p*C,0),d.push(0,C,0),h.push(.5,.5),f++;let A=f;for(let T=0;T<=n;T++){let k=T/n*c+l,D=Math.cos(k),M=Math.sin(k);_.x=E*M,_.y=p*C,_.z=E*D,u.push(_.x,_.y,_.z),d.push(0,C,0),w.x=D*.5+.5,w.y=M*.5*C+.5,h.push(w.x,w.y),f++}for(let T=0;T<n;T++){let k=b+T,D=A+T;y===!0?s.push(D,D+1,k):s.push(D+1,D,k),S+=3}a.addGroup(g,S,y===!0?1:2),g+=S}}static fromJSON(e){return new Pj(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},JX=class extends Pj{constructor(e=1,t=1,r=32,n=1,i=!1,o=0,l=Math.PI*2){super(0,e,t,r,n,i,o,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:l}}static fromJSON(e){return new JX(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},kj=class extends vt{constructor(e=[],t=[],r=1,n=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n};let i=[],o=[];l(n),a(r),s(),this.setAttribute("position",new it(i,3)),this.setAttribute("normal",new it(i.slice(),3)),this.setAttribute("uv",new it(o,2)),n===0?this.computeVertexNormals():this.normalizeNormals();function l(v){let x=new V,y=new V,b=new V;for(let w=0;w<t.length;w+=3)h(t[w+0],x),h(t[w+1],y),h(t[w+2],b),c(x,y,b,v)}function c(v,x,y,b){let w=b+1,_=[];for(let S=0;S<=w;S++){_[S]=[];let E=v.clone().lerp(y,S/w),C=x.clone().lerp(y,S/w),A=w-S;for(let T=0;T<=A;T++)T===0&&S===w?_[S][T]=E:_[S][T]=E.clone().lerp(C,T/A)}for(let S=0;S<w;S++)for(let E=0;E<2*(w-S)-1;E++){let C=Math.floor(E/2);E%2===0?(d(_[S][C+1]),d(_[S+1][C]),d(_[S][C])):(d(_[S][C+1]),d(_[S+1][C+1]),d(_[S+1][C]))}}function a(v){let x=new V;for(let y=0;y<i.length;y+=3)x.x=i[y+0],x.y=i[y+1],x.z=i[y+2],x.normalize().multiplyScalar(v),i[y+0]=x.x,i[y+1]=x.y,i[y+2]=x.z}function s(){let v=new V;for(let x=0;x<i.length;x+=3){v.x=i[x+0],v.y=i[x+1],v.z=i[x+2];let y=p(v)/2/Math.PI+.5,b=g(v)/Math.PI+.5;o.push(y,1-b)}f(),u()}function u(){for(let v=0;v<o.length;v+=6){let x=o[v+0],y=o[v+2],b=o[v+4],w=Math.max(x,y,b),_=Math.min(x,y,b);w>.9&&_<.1&&(x<.2&&(o[v+0]+=1),y<.2&&(o[v+2]+=1),b<.2&&(o[v+4]+=1))}}function d(v){i.push(v.x,v.y,v.z)}function h(v,x){let y=v*3;x.x=e[y+0],x.y=e[y+1],x.z=e[y+2]}function f(){let v=new V,x=new V,y=new V,b=new V,w=new oe,_=new oe,S=new oe;for(let E=0,C=0;E<i.length;E+=9,C+=6){v.set(i[E+0],i[E+1],i[E+2]),x.set(i[E+3],i[E+4],i[E+5]),y.set(i[E+6],i[E+7],i[E+8]),w.set(o[C+0],o[C+1]),_.set(o[C+2],o[C+3]),S.set(o[C+4],o[C+5]),b.copy(v).add(x).add(y).divideScalar(3);let A=p(b);m(w,C+0,v,A),m(_,C+2,x,A),m(S,C+4,y,A)}}function m(v,x,y,b){b<0&&v.x===1&&(o[x]=v.x-1),y.x===0&&y.z===0&&(o[x]=b/2/Math.PI+.5)}function p(v){return Math.atan2(v.z,-v.x)}function g(v){return Math.atan2(-v.y,Math.sqrt(v.x*v.x+v.z*v.z))}}static fromJSON(e){return new kj(e.vertices,e.indices,e.radius,e.details)}},ZX=class extends kj{constructor(e=1,t=0){let r=(1+Math.sqrt(5))/2,n=1/r,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(i,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ZX(e.radius,e.detail)}},l2=class extends s2{constructor(e){super(e),this.uuid=as(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let r=0,n=this.holes.length;r<n;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){let n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let n=e.holes[t];this.holes.push(new s2().fromJSON(n))}return this}},Q3e={triangulate:function(e,t,r=2){let n=t&&t.length,i=n?t[0]*r:e.length,o=e$(e,0,i,r,!0),l=[];if(!o||o.next===o.prev)return l;let c,a,s,u,d,h,f;if(n&&(o=rAe(e,t,o,r)),e.length>80*r){c=s=e[0],a=u=e[1];for(let m=r;m<i;m+=r)d=e[m],h=e[m+1],d<c&&(c=d),h<a&&(a=h),d>s&&(s=d),h>u&&(u=h);f=Math.max(s-c,u-a),f=f!==0?32767/f:0}return e1(o,l,r,c,a,f,0),l}};function e$(e,t,r,n,i){let o,l;if(i===fAe(e,t,r,n)>0)for(o=t;o<r;o+=n)l=bN(o,e[o],e[o+1],l);else for(o=r-n;o>=t;o-=n)l=bN(o,e[o],e[o+1],l);return l&&RE(l,l.next)&&(r1(l),l=l.next),l}function Sf(e,t){if(!e)return e;t||(t=e);let r=e,n;do if(n=!1,!r.steiner&&(RE(r,r.next)||ln(r.prev,r,r.next)===0)){if(r1(r),r=t=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==t);return t}function e1(e,t,r,n,i,o,l){if(!e)return;!l&&o&&sAe(e,n,i,o);let c=e,a,s;for(;e.prev!==e.next;){if(a=e.prev,s=e.next,o?Z3e(e,n,i,o):J3e(e)){t.push(a.i/r|0),t.push(e.i/r|0),t.push(s.i/r|0),r1(e),e=s.next,c=s.next;continue}if(e=s,e===c){l?l===1?(e=eAe(Sf(e),t,r),e1(e,t,r,n,i,o,2)):l===2&&tAe(e,t,r,n,i,o):e1(Sf(e),t,r,n,i,o,1);break}}}function J3e(e){let t=e.prev,r=e,n=e.next;if(ln(t,r,n)>=0)return!1;let i=t.x,o=r.x,l=n.x,c=t.y,a=r.y,s=n.y,u=i<o?i<l?i:l:o<l?o:l,d=c<a?c<s?c:s:a<s?a:s,h=i>o?i>l?i:l:o>l?o:l,f=c>a?c>s?c:s:a>s?a:s,m=n.next;for(;m!==t;){if(m.x>=u&&m.x<=h&&m.y>=d&&m.y<=f&&gm(i,c,o,a,l,s,m.x,m.y)&&ln(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function Z3e(e,t,r,n){let i=e.prev,o=e,l=e.next;if(ln(i,o,l)>=0)return!1;let c=i.x,a=o.x,s=l.x,u=i.y,d=o.y,h=l.y,f=c<a?c<s?c:s:a<s?a:s,m=u<d?u<h?u:h:d<h?d:h,p=c>a?c>s?c:s:a>s?a:s,g=u>d?u>h?u:h:d>h?d:h,v=$4(f,m,t,r,n),x=$4(p,g,t,r,n),y=e.prevZ,b=e.nextZ;for(;y&&y.z>=v&&b&&b.z<=x;){if(y.x>=f&&y.x<=p&&y.y>=m&&y.y<=g&&y!==i&&y!==l&&gm(c,u,a,d,s,h,y.x,y.y)&&ln(y.prev,y,y.next)>=0||(y=y.prevZ,b.x>=f&&b.x<=p&&b.y>=m&&b.y<=g&&b!==i&&b!==l&&gm(c,u,a,d,s,h,b.x,b.y)&&ln(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;y&&y.z>=v;){if(y.x>=f&&y.x<=p&&y.y>=m&&y.y<=g&&y!==i&&y!==l&&gm(c,u,a,d,s,h,y.x,y.y)&&ln(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=x;){if(b.x>=f&&b.x<=p&&b.y>=m&&b.y<=g&&b!==i&&b!==l&&gm(c,u,a,d,s,h,b.x,b.y)&&ln(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function eAe(e,t,r){let n=e;do{let i=n.prev,o=n.next.next;!RE(i,o)&&t$(i,n,n.next,o)&&t1(i,o)&&t1(o,i)&&(t.push(i.i/r|0),t.push(n.i/r|0),t.push(o.i/r|0),r1(n),r1(n.next),n=e=o),n=n.next}while(n!==e);return Sf(n)}function tAe(e,t,r,n,i,o){let l=e;do{let c=l.next.next;for(;c!==l.prev;){if(l.i!==c.i&&uAe(l,c)){let a=r$(l,c);l=Sf(l,l.next),a=Sf(a,a.next),e1(l,t,r,n,i,o,0),e1(a,t,r,n,i,o,0);return}c=c.next}l=l.next}while(l!==e)}function rAe(e,t,r,n){let i=[],o,l,c,a,s;for(o=0,l=t.length;o<l;o++)c=t[o]*n,a=o<l-1?t[o+1]*n:e.length,s=e$(e,c,a,n,!1),s===s.next&&(s.steiner=!0),i.push(cAe(s));for(i.sort(nAe),o=0;o<i.length;o++)r=iAe(i[o],r);return r}function nAe(e,t){return e.x-t.x}function iAe(e,t){let r=oAe(e,t);if(!r)return t;let n=r$(r,e);return Sf(n,n.next),Sf(r,r.next)}function oAe(e,t){let r=t,n=-1/0,i,o=e.x,l=e.y;do{if(l<=r.y&&l>=r.next.y&&r.next.y!==r.y){let h=r.x+(l-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(h<=o&&h>n&&(n=h,i=r.x<r.next.x?r:r.next,h===o))return i}r=r.next}while(r!==t);if(!i)return null;let c=i,a=i.x,s=i.y,u=1/0,d;r=i;do o>=r.x&&r.x>=a&&o!==r.x&&gm(l<s?o:n,l,a,s,l<s?n:o,l,r.x,r.y)&&(d=Math.abs(l-r.y)/(o-r.x),t1(r,e)&&(d<u||d===u&&(r.x>i.x||r.x===i.x&&aAe(i,r)))&&(i=r,u=d)),r=r.next;while(r!==c);return i}function aAe(e,t){return ln(e.prev,e,t.prev)<0&&ln(t.next,e,e.next)<0}function sAe(e,t,r,n){let i=e;do i.z===0&&(i.z=$4(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,lAe(i)}function lAe(e){let t,r,n,i,o,l,c,a,s=1;do{for(r=e,e=null,o=null,l=0;r;){for(l++,n=r,c=0,t=0;t<s&&(c++,n=n.nextZ,!!n);t++);for(a=s;c>0||a>0&&n;)c!==0&&(a===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,c--):(i=n,n=n.nextZ,a--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,s*=2}while(l>1);return e}function $4(e,t,r,n,i){return e=(e-r)*i|0,t=(t-n)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function cAe(e){let t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function gm(e,t,r,n,i,o,l,c){return(i-l)*(t-c)>=(e-l)*(o-c)&&(e-l)*(n-c)>=(r-l)*(t-c)&&(r-l)*(o-c)>=(i-l)*(n-c)}function uAe(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!dAe(e,t)&&(t1(e,t)&&t1(t,e)&&hAe(e,t)&&(ln(e.prev,e,t.prev)||ln(e,t.prev,t))||RE(e,t)&&ln(e.prev,e,e.next)>0&&ln(t.prev,t,t.next)>0)}function ln(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function RE(e,t){return e.x===t.x&&e.y===t.y}function t$(e,t,r,n){let i=ax(ln(e,t,r)),o=ax(ln(e,t,n)),l=ax(ln(r,n,e)),c=ax(ln(r,n,t));return!!(i!==o&&l!==c||i===0&&ox(e,r,t)||o===0&&ox(e,n,t)||l===0&&ox(r,e,n)||c===0&&ox(r,t,n))}function ox(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function ax(e){return e>0?1:e<0?-1:0}function dAe(e,t){let r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&t$(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function t1(e,t){return ln(e.prev,e,e.next)<0?ln(e,t,e.next)>=0&&ln(e,e.prev,t)>=0:ln(e,t,e.prev)<0||ln(e,e.next,t)<0}function hAe(e,t){let r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function r$(e,t){let r=new K4(e.i,e.x,e.y),n=new K4(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function bN(e,t,r,n){let i=new K4(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function r1(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function K4(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function fAe(e,t,r,n){let i=0;for(let o=t,l=r-n;o<r;o+=n)i+=(e[l]-e[o])*(e[o+1]+e[l+1]),l=o;return i}var n$=class{static area(e){let t=e.length,r=0;for(let n=t-1,i=0;i<t;n=i++)r+=e[n].x*e[i].y-e[i].x*e[n].y;return r*.5}static isClockWise(e){return n$.area(e)<0}static triangulateShape(e,t){let r=[],n=[],i=[];xN(e),wN(r,e);let o=e.length;t.forEach(xN);for(let c=0;c<t.length;c++)n.push(o),o+=t[c].length,wN(r,t[c]);let l=Q3e.triangulate(r,n);for(let c=0;c<l.length;c+=3)i.push(l.slice(c,c+3));return i}};function xN(e){let t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function wN(e,t){for(let r=0;r<t.length;r++)e.push(t[r].x),e.push(t[r].y)}var i$=class extends kj{constructor(e=1,t=0){let r=(1+Math.sqrt(5))/2,n=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(n,i,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new i$(e.radius,e.detail)}},Dj=class extends vt{constructor(e=1,t=32,r=16,n=0,i=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:l},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));let c=Math.min(o+l,Math.PI),a=0,s=[],u=new V,d=new V,h=[],f=[],m=[],p=[];for(let g=0;g<=r;g++){let v=[],x=g/r,y=0;g==0&&o==0?y=.5/t:g==r&&c==Math.PI&&(y=-.5/t);for(let b=0;b<=t;b++){let w=b/t;u.x=-e*Math.cos(n+w*i)*Math.sin(o+x*l),u.y=e*Math.cos(o+x*l),u.z=e*Math.sin(n+w*i)*Math.sin(o+x*l),f.push(u.x,u.y,u.z),d.copy(u).normalize(),m.push(d.x,d.y,d.z),p.push(w+y,1-x),v.push(a++)}s.push(v)}for(let g=0;g<r;g++)for(let v=0;v<t;v++){let x=s[g][v+1],y=s[g][v],b=s[g+1][v],w=s[g+1][v+1];(g!==0||o>0)&&h.push(x,y,w),(g!==r-1||c<Math.PI)&&h.push(y,b,w)}this.setIndex(h),this.setAttribute("position",new it(f,3)),this.setAttribute("normal",new it(m,3)),this.setAttribute("uv",new it(p,2))}static fromJSON(e){return new Dj(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},o$=class extends vt{constructor(e=1,t=.4,r=64,n=8,i=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:n,p:i,q:o},r=Math.floor(r),n=Math.floor(n);let l=[],c=[],a=[],s=[],u=new V,d=new V,h=new V,f=new V,m=new V,p=new V,g=new V;for(let x=0;x<=r;++x){let y=x/r*i*Math.PI*2;v(y,i,o,e,h),v(y+.01,i,o,e,f),p.subVectors(f,h),g.addVectors(f,h),m.crossVectors(p,g),g.crossVectors(m,p),m.normalize(),g.normalize();for(let b=0;b<=n;++b){let w=b/n*Math.PI*2,_=-t*Math.cos(w),S=t*Math.sin(w);u.x=h.x+(_*g.x+S*m.x),u.y=h.y+(_*g.y+S*m.y),u.z=h.z+(_*g.z+S*m.z),c.push(u.x,u.y,u.z),d.subVectors(u,h).normalize(),a.push(d.x,d.y,d.z),s.push(x/r),s.push(b/n)}}for(let x=1;x<=r;x++)for(let y=1;y<=n;y++){let b=(n+1)*(x-1)+(y-1),w=(n+1)*x+(y-1),_=(n+1)*x+y,S=(n+1)*(x-1)+y;l.push(b,w,S),l.push(w,_,S)}this.setIndex(l),this.setAttribute("position",new it(c,3)),this.setAttribute("normal",new it(a,3)),this.setAttribute("uv",new it(s,2));function v(x,y,b,w,_){let S=Math.cos(x),E=Math.sin(x),C=b/y*x,A=Math.cos(C);_.x=w*(2+A)*.5*S,_.y=w*(2+A)*E*.5,_.z=w*Math.sin(C)*.5}}static fromJSON(e){return new o$(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}};function Ru(e,t,r){return a$(e)?new e.constructor(e.subarray(t,r!==void 0?r:e.length)):e.slice(t,r)}function sx(e,t,r){return!e||e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)}function a$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pAe(e){function t(i,o){return e[i]-e[o]}let r=e.length,n=new Array(r);for(let i=0;i!==r;++i)n[i]=i;return n.sort(t),n}function _N(e,t,r){let n=e.length,i=new e.constructor(n);for(let o=0,l=0;l!==n;++o){let c=r[o]*t;for(let a=0;a!==t;++a)i[l++]=e[c+a]}return i}function s$(e,t,r,n){let i=1,o=e[0];for(;o!==void 0&&o[n]===void 0;)o=e[i++];if(o===void 0)return;let l=o[n];if(l!==void 0)if(Array.isArray(l))do l=o[n],l!==void 0&&(t.push(o.time),r.push.apply(r,l)),o=e[i++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[n],l!==void 0&&(t.push(o.time),l.toArray(r,r.length)),o=e[i++];while(o!==void 0);else do l=o[n],l!==void 0&&(t.push(o.time),r.push(l)),o=e[i++];while(o!==void 0)}var LE=class{constructor(e,t,r,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=n!==void 0?n:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,r=this._cachedIndex,n=t[r],i=t[r-1];e:{t:{let o;r:{n:if(!(e<n)){for(let l=r+2;;){if(n===void 0){if(e<i)break n;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===l)break;if(i=n,n=t[++r],e<n)break t}o=t.length;break r}if(!(e>=i)){let l=t[1];e<l&&(r=2,i=l);for(let c=r-2;;){if(i===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===c)break;if(n=i,i=t[--r-1],e>=i)break t}o=r,r=0;break r}break e}for(;r<o;){let l=r+o>>>1;e<t[l]?o=l:r=l+1}if(n=t[r],i=t[r-1],i===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,e,n)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n;for(let o=0;o!==n;++o)t[o]=r[i+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},mAe=class extends LE{constructor(e,t,r,n){super(e,t,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:hm,endingEnd:hm}}intervalChanged_(e,t,r){let n=this.parameterPositions,i=e-2,o=e+1,l=n[i],c=n[o];if(l===void 0)switch(this.getSettings_().endingStart){case fm:i=e,l=2*t-r;break;case r2:i=n.length-2,l=t+n[i]-n[i+1];break;default:i=e,l=r}if(c===void 0)switch(this.getSettings_().endingEnd){case fm:o=e,c=2*r-t;break;case r2:o=1,c=r+n[1]-n[0];break;default:o=e-1,c=t}let a=(r-t)*.5,s=this.valueSize;this._weightPrev=a/(t-l),this._weightNext=a/(c-r),this._offsetPrev=i*s,this._offsetNext=o*s}interpolate_(e,t,r,n){let i=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,a=c-l,s=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(r-t)/(n-t),m=f*f,p=m*f,g=-d*p+2*d*m-d*f,v=(1+d)*p+(-1.5-2*d)*m+(-.5+d)*f+1,x=(-1-h)*p+(1.5+h)*m+.5*f,y=h*p-h*m;for(let b=0;b!==l;++b)i[b]=g*o[s+b]+v*o[a+b]+x*o[c+b]+y*o[u+b];return i}},l$=class extends LE{constructor(e,t,r,n){super(e,t,r,n)}interpolate_(e,t,r,n){let i=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,a=c-l,s=(r-t)/(n-t),u=1-s;for(let d=0;d!==l;++d)i[d]=o[a+d]*u+o[c+d]*s;return i}},gAe=class extends LE{constructor(e,t,r,n){super(e,t,r,n)}interpolate_(e){return this.copySampleValue_(e-1)}},dc=class{constructor(e,t,r,n){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=sx(t,this.TimeBufferType),this.values=sx(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:sx(e.times,Array),values:sx(e.values,Array)};let n=e.getInterpolation();n!==e.DefaultInterpolation&&(r.interpolation=n)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new gAe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new l$(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new mAe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case e2:t=this.InterpolantFactoryMethodDiscrete;break;case t2:t=this.InterpolantFactoryMethodLinear;break;case qA:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return e2;case this.InterpolantFactoryMethodLinear:return t2;case this.InterpolantFactoryMethodSmooth:return qA}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let r=0,n=t.length;r!==n;++r)t[r]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let r=0,n=t.length;r!==n;++r)t[r]*=e}return this}trim(e,t){let r=this.times,n=r.length,i=0,o=n-1;for(;i!==n&&r[i]<e;)++i;for(;o!==-1&&r[o]>t;)--o;if(++o,i!==0||o!==n){i>=o&&(o=Math.max(o,1),i=o-1);let l=this.getValueSize();this.times=Ru(r,i,o),this.values=Ru(this.values,i*l,o*l)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let r=this.times,n=this.values,i=r.length;i===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==i;l++){let c=r[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(o!==null&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,o),e=!1;break}o=c}if(n!==void 0&&a$(n))for(let l=0,c=n.length;l!==c;++l){let a=n[l];if(isNaN(a)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,a),e=!1;break}}return e}optimize(){let e=Ru(this.times),t=Ru(this.values),r=this.getValueSize(),n=this.getInterpolation()===qA,i=e.length-1,o=1;for(let l=1;l<i;++l){let c=!1,a=e[l],s=e[l+1];if(a!==s&&(l!==1||a!==e[0]))if(n)c=!0;else{let u=l*r,d=u-r,h=u+r;for(let f=0;f!==r;++f){let m=t[u+f];if(m!==t[d+f]||m!==t[h+f]){c=!0;break}}}if(c){if(l!==o){e[o]=e[l];let u=l*r,d=o*r;for(let h=0;h!==r;++h)t[d+h]=t[u+h]}++o}}if(i>0){e[o]=e[i];for(let l=i*r,c=o*r,a=0;a!==r;++a)t[c+a]=t[l+a];++o}return o!==e.length?(this.times=Ru(e,0,o),this.values=Ru(t,0,o*r)):(this.times=e,this.values=t),this}clone(){let e=Ru(this.times,0),t=Ru(this.values,0),r=this.constructor,n=new r(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}};dc.prototype.TimeBufferType=Float32Array;dc.prototype.ValueBufferType=Float32Array;dc.prototype.DefaultInterpolation=t2;var e0=class extends dc{};e0.prototype.ValueTypeName="bool";e0.prototype.ValueBufferType=Array;e0.prototype.DefaultInterpolation=e2;e0.prototype.InterpolantFactoryMethodLinear=void 0;e0.prototype.InterpolantFactoryMethodSmooth=void 0;var c$=class extends dc{};c$.prototype.ValueTypeName="color";var c2=class extends dc{};c2.prototype.ValueTypeName="number";var vAe=class extends LE{constructor(e,t,r,n){super(e,t,r,n)}interpolate_(e,t,r,n){let i=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=(r-t)/(n-t),a=e*l;for(let s=a+l;a!==s;a+=4)Rt.slerpFlat(i,0,o,a-l,o,a,c);return i}},X1=class extends dc{InterpolantFactoryMethodLinear(e){return new vAe(this.times,this.values,this.getValueSize(),e)}};X1.prototype.ValueTypeName="quaternion";X1.prototype.DefaultInterpolation=t2;X1.prototype.InterpolantFactoryMethodSmooth=void 0;var t0=class extends dc{};t0.prototype.ValueTypeName="string";t0.prototype.ValueBufferType=Array;t0.prototype.DefaultInterpolation=e2;t0.prototype.InterpolantFactoryMethodLinear=void 0;t0.prototype.InterpolantFactoryMethodSmooth=void 0;var u2=class extends dc{};u2.prototype.ValueTypeName="vector";var Q4=class{constructor(e,t=-1,r,n=bj){this.name=e,this.tracks=r,this.duration=t,this.blendMode=n,this.uuid=as(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],r=e.tracks,n=1/(e.fps||1);for(let o=0,l=r.length;o!==l;++o)t.push(bAe(r[o]).scale(n));let i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){let t=[],r=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,o=r.length;i!==o;++i)t.push(dc.toJSON(r[i]));return n}static CreateFromMorphTargetSequence(e,t,r,n){let i=t.length,o=[];for(let l=0;l<i;l++){let c=[],a=[];c.push((l+i-1)%i,l,(l+1)%i),a.push(0,1,0);let s=pAe(c);c=_N(c,1,s),a=_N(a,1,s),!n&&c[0]===0&&(c.push(i),a.push(a[0])),o.push(new c2(".morphTargetInfluences["+t[l].name+"]",c,a).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){let n=e;r=n.geometry&&n.geometry.animations||n.animations}for(let n=0;n<r.length;n++)if(r[n].name===t)return r[n];return null}static CreateClipsFromMorphTargetSequences(e,t,r){let n={},i=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){let a=e[l],s=a.name.match(i);if(s&&s.length>1){let u=s[1],d=n[u];d||(n[u]=d=[]),d.push(a)}}let o=[];for(let l in n)o.push(this.CreateFromMorphTargetSequence(l,n[l],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let r=function(s,u,d,h,f){if(d.length!==0){let m=[],p=[];s$(d,m,p,h),m.length!==0&&f.push(new s(u,m,p))}},n=[],i=e.name||"default",o=e.fps||30,l=e.blendMode,c=e.length||-1,a=e.hierarchy||[];for(let s=0;s<a.length;s++){let u=a[s].keys;if(!(!u||u.length===0))if(u[0].morphTargets){let d={},h;for(h=0;h<u.length;h++)if(u[h].morphTargets)for(let f=0;f<u[h].morphTargets.length;f++)d[u[h].morphTargets[f]]=-1;for(let f in d){let m=[],p=[];for(let g=0;g!==u[h].morphTargets.length;++g){let v=u[h];m.push(v.time),p.push(v.morphTarget===f?1:0)}n.push(new c2(".morphTargetInfluence["+f+"]",m,p))}c=d.length*o}else{let d=".bones["+t[s].name+"]";r(u2,d+".position",u,"pos",n),r(X1,d+".quaternion",u,"rot",n),r(u2,d+".scale",u,"scl",n)}}return n.length===0?null:new this(i,c,n,l)}resetDuration(){let e=this.tracks,t=0;for(let r=0,n=e.length;r!==n;++r){let i=this.tracks[r];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function yAe(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return c2;case"vector":case"vector2":case"vector3":case"vector4":return u2;case"color":return c$;case"quaternion":return X1;case"bool":case"boolean":return e0;case"string":return t0}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function bAe(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let t=yAe(e.type);if(e.times===void 0){let r=[],n=[];s$(e.keys,r,n,"value"),e.times=r,e.values=n}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var SN={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},u$=class{constructor(e,t,r){let n=this,i=!1,o=0,l=0,c,a=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(s){l++,i===!1&&n.onStart!==void 0&&n.onStart(s,o,l),i=!0},this.itemEnd=function(s){o++,n.onProgress!==void 0&&n.onProgress(s,o,l),o===l&&(i=!1,n.onLoad!==void 0&&n.onLoad())},this.itemError=function(s){n.onError!==void 0&&n.onError(s)},this.resolveURL=function(s){return c?c(s):s},this.setURLModifier=function(s){return c=s,this},this.addHandler=function(s,u){return a.push(s,u),this},this.removeHandler=function(s){let u=a.indexOf(s);return u!==-1&&a.splice(u,2),this},this.getHandler=function(s){for(let u=0,d=a.length;u<d;u+=2){let h=a[u],f=a[u+1];if(h.global&&(h.lastIndex=0),h.test(s))return f}return null}}},xAe=new u$,jj=class{constructor(e){this.manager=e!==void 0?e:xAe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let r=this;return new Promise(function(n,i){r.load(e,n,t,i)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}},xc={},wAe=class extends Error{constructor(e,t){super(e),this.response=t}},J4=class extends jj{constructor(e){super(e)}load(e,t,r,n){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let i=SN.get(e);if(i!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(i),this.manager.itemEnd(e)},0),i;if(xc[e]!==void 0){xc[e].push({onLoad:t,onProgress:r,onError:n});return}xc[e]=[],xc[e].push({onLoad:t,onProgress:r,onError:n});let o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,c=this.responseType;fetch(o).then(a=>{if(a.status===200||a.status===0){if(a.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||a.body===void 0||a.body.getReader===void 0)return a;let s=xc[e],u=a.body.getReader(),d=a.headers.get("Content-Length")||a.headers.get("X-File-Size"),h=d?parseInt(d):0,f=h!==0,m=0,p=new ReadableStream({start(g){v();function v(){u.read().then(({done:x,value:y})=>{if(x)g.close();else{m+=y.byteLength;let b=new ProgressEvent("progress",{lengthComputable:f,loaded:m,total:h});for(let w=0,_=s.length;w<_;w++){let S=s[w];S.onProgress&&S.onProgress(b)}g.enqueue(y),v()}})}}});return new Response(p)}else throw new wAe(`fetch for "${a.url}" responded with ${a.status}: ${a.statusText}`,a)}).then(a=>{switch(c){case"arraybuffer":return a.arrayBuffer();case"blob":return a.blob();case"document":return a.text().then(s=>new DOMParser().parseFromString(s,l));case"json":return a.json();default:if(l===void 0)return a.text();{let s=/charset="?([^;"\s]*)"?/i.exec(l),u=s&&s[1]?s[1].toLowerCase():void 0,d=new TextDecoder(u);return a.arrayBuffer().then(h=>d.decode(h))}}}).then(a=>{SN.add(e,a);let s=xc[e];delete xc[e];for(let u=0,d=s.length;u<d;u++){let h=s[u];h.onLoad&&h.onLoad(a)}}).catch(a=>{let s=xc[e];if(s===void 0)throw this.manager.itemError(e),a;delete xc[e];for(let u=0,d=s.length;u<d;u++){let h=s[u];h.onError&&h.onError(a)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},$1=class extends Tr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new wt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}},_Ae=class extends $1{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Tr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new wt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}},_C=new Ne,EN=new V,AN=new V,Ij=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new oe(512,512),this.map=null,this.mapPass=null,this.matrix=new Ne,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Sj,this._frameExtents=new oe(1,1),this._viewportCount=1,this._viewports=[new Ut(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,r=this.matrix;EN.setFromMatrixPosition(e.matrixWorld),t.position.copy(EN),AN.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(AN),t.updateMatrixWorld(),_C.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_C),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(_C)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},SAe=class extends Ij{constructor(){super(new Wi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){let t=this.camera,r=Zy*2*e.angle*this.focus,n=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;(r!==t.fov||n!==t.aspect||i!==t.far)&&(t.fov=r,t.aspect=n,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},EAe=class extends $1{constructor(e,t,r=0,n=Math.PI/3,i=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Tr.DEFAULT_UP),this.updateMatrix(),this.target=new Tr,this.distance=r,this.angle=n,this.penumbra=i,this.decay=o,this.map=null,this.shadow=new SAe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},CN=new Ne,q0=new V,SC=new V,AAe=class extends Ij{constructor(){super(new Wi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new oe(4,2),this._viewportCount=6,this._viewports=[new Ut(2,1,1,1),new Ut(0,1,1,1),new Ut(3,1,1,1),new Ut(1,1,1,1),new Ut(3,0,1,1),new Ut(1,0,1,1)],this._cubeDirections=[new V(1,0,0),new V(-1,0,0),new V(0,0,1),new V(0,0,-1),new V(0,1,0),new V(0,-1,0)],this._cubeUps=[new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,0,1),new V(0,0,-1)]}updateMatrices(e,t=0){let r=this.camera,n=this.matrix,i=e.distance||r.far;i!==r.far&&(r.far=i,r.updateProjectionMatrix()),q0.setFromMatrixPosition(e.matrixWorld),r.position.copy(q0),SC.copy(r.position),SC.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(SC),r.updateMatrixWorld(),n.makeTranslation(-q0.x,-q0.y,-q0.z),CN.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(CN)}},CAe=class extends $1{constructor(e,t,r=0,n=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=n,this.shadow=new AAe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},MAe=class extends Ij{constructor(){super(new Ej(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},TAe=class extends $1{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Tr.DEFAULT_UP),this.updateMatrix(),this.target=new Tr,this.shadow=new MAe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},d$=class extends vt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){let e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}},h$=class extends jj{constructor(e){super(e)}load(e,t,r,n){let i=this,o=new J4(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,function(l){try{t(i.parse(JSON.parse(l)))}catch(c){n?n(c):console.error(c),i.manager.itemError(e)}},r,n)}parse(e){let t={},r={};function n(d,h){if(t[h]!==void 0)return t[h];let f=d.interleavedBuffers[h],m=i(d,f.buffer),p=Nb(f.type,m),g=new z3e(p,f.stride);return g.uuid=f.uuid,t[h]=g,g}function i(d,h){if(r[h]!==void 0)return r[h];let f=d.arrayBuffers[h],m=new Uint32Array(f).buffer;return r[h]=m,m}let o=e.isInstancedBufferGeometry?new d$:new vt,l=e.data.index;if(l!==void 0){let d=Nb(l.type,l.array);o.setIndex(new kt(d,1))}let c=e.data.attributes;for(let d in c){let h=c[d],f;if(h.isInterleavedBufferAttribute){let m=n(e.data,h.data);f=new X4(m,h.itemSize,h.offset,h.normalized)}else{let m=Nb(h.type,h.array),p=h.isInstancedBufferAttribute?XX:kt;f=new p(m,h.itemSize,h.normalized)}h.name!==void 0&&(f.name=h.name),h.usage!==void 0&&f.setUsage(h.usage),h.updateRange!==void 0&&(f.updateRange.offset=h.updateRange.offset,f.updateRange.count=h.updateRange.count),o.setAttribute(d,f)}let a=e.data.morphAttributes;if(a)for(let d in a){let h=a[d],f=[];for(let m=0,p=h.length;m<p;m++){let g=h[m],v;if(g.isInterleavedBufferAttribute){let x=n(e.data,g.data);v=new X4(x,g.itemSize,g.offset,g.normalized)}else{let x=Nb(g.type,g.array);v=new kt(x,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),f.push(v)}o.morphAttributes[d]=f}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);let s=e.data.groups||e.data.drawcalls||e.data.offsets;if(s!==void 0)for(let d=0,h=s.length;d!==h;++d){let f=s[d];o.addGroup(f.start,f.count,f.materialIndex)}let u=e.data.boundingSphere;if(u!==void 0){let d=new V;u.center!==void 0&&d.fromArray(u.center),o.boundingSphere=new Zo(d,u.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}},PAe=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=MN(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=MN();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function MN(){return(typeof performance>"u"?Date:performance).now()}var kAe=class{constructor(e,t,r){this.binding=e,this.valueSize=r;let n,i,o;switch(t){case"quaternion":n=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":n=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:n=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let r=this.buffer,n=this.valueSize,i=e*n+n,o=this.cumulativeWeight;if(o===0){for(let l=0;l!==n;++l)r[i+l]=r[l];o=t}else{o+=t;let l=t/o;this._mixBufferRegion(r,i,0,l,n)}this.cumulativeWeight=o}accumulateAdditive(e){let t=this.buffer,r=this.valueSize,n=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,r=this.buffer,n=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){let c=t*this._origIndex;this._mixBufferRegion(r,n,c,1-i,t)}o>0&&this._mixBufferRegionAdditive(r,n,this._addIndex*t,1,t);for(let c=t,a=t+t;c!==a;++c)if(r[c]!==r[c+t]){l.setValue(r,n);break}}saveOriginalState(){let e=this.binding,t=this.buffer,r=this.valueSize,n=r*this._origIndex;e.getValue(t,n);for(let i=r,o=n;i!==o;++i)t[i]=t[n+i%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,n,i){if(n>=.5)for(let o=0;o!==i;++o)e[t+o]=e[r+o]}_slerp(e,t,r,n){Rt.slerpFlat(e,t,e,t,e,r,n)}_slerpAdditive(e,t,r,n,i){let o=this._workIndex*i;Rt.multiplyQuaternionsFlat(e,o,e,t,e,r),Rt.slerpFlat(e,t,e,t,e,o,n)}_lerp(e,t,r,n,i){let o=1-n;for(let l=0;l!==i;++l){let c=t+l;e[c]=e[c]*o+e[r+l]*n}}_lerpAdditive(e,t,r,n,i){for(let o=0;o!==i;++o){let l=t+o;e[l]=e[l]+e[r+o]*n}}},Oj="\\[\\]\\.:\\/",DAe=new RegExp("["+Oj+"]","g"),Rj="[^"+Oj+"]",jAe="[^"+Oj.replace("\\.","")+"]",IAe=/((?:WC+[\/:])*)/.source.replace("WC",Rj),OAe=/(WCOD+)?/.source.replace("WCOD",jAe),RAe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Rj),LAe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Rj),zAe=new RegExp("^"+IAe+OAe+RAe+LAe+"$"),NAe=["material","materials","bones","map"],BAe=class{constructor(e,t,r){let n=r||jr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}getValue(e,t){this.bind();let r=this._targetGroup.nCachedObjects_,n=this._bindings[r];n!==void 0&&n.getValue(e,t)}setValue(e,t){let r=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}},jr=class{constructor(e,t,r){this.path=t,this.parsedPath=r||jr.parseTrackName(t),this.node=jr.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new jr.Composite(e,t,r):new jr(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(DAe,"")}static parseTrackName(e){let t=zAe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(n!==void 0&&n!==-1){let i=r.nodeName.substring(n+1);NAe.indexOf(i)!==-1&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=i)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){let r=function(i){for(let o=0;o<i.length;o++){let l=i[o];if(l.name===t||l.uuid===t)return l;let c=r(l.children);if(c)return c}return null},n=r(e.children);if(n)return n}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)e[t++]=r[n]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)r[n]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,r=t.objectName,n=t.propertyName,i=t.propertyIndex;if(e||(e=jr.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let a=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let s=0;s<e.length;s++)if(e[s].name===a){a=s;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(a!==void 0){if(e[a]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[a]}}let o=e[n];if(o===void 0){let a=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+a+"."+n+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(i!==void 0){if(n==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[i]!==void 0&&(i=e.morphTargetDictionary[i])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else o.fromArray!==void 0&&o.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=n;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};jr.Composite=BAe;jr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};jr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};jr.prototype.GetterByBindingType=[jr.prototype._getValue_direct,jr.prototype._getValue_array,jr.prototype._getValue_arrayElement,jr.prototype._getValue_toArray];jr.prototype.SetterByBindingTypeAndVersioning=[[jr.prototype._setValue_direct,jr.prototype._setValue_direct_setNeedsUpdate,jr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[jr.prototype._setValue_array,jr.prototype._setValue_array_setNeedsUpdate,jr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[jr.prototype._setValue_arrayElement,jr.prototype._setValue_arrayElement_setNeedsUpdate,jr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[jr.prototype._setValue_fromArray,jr.prototype._setValue_fromArray_setNeedsUpdate,jr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var FAe=class{constructor(e,t,r=null,n=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=n;let i=t.tracks,o=i.length,l=new Array(o),c={endingStart:hm,endingEnd:hm};for(let a=0;a!==o;++a){let s=i[a].createInterpolant(null);l[a]=s,s.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=PX,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){let n=this._clip.duration,i=e._clip.duration,o=i/n,l=n/i;e.warp(1,o,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){let n=this._mixer,i=n.time,o=this.timeScale,l=this._timeScaleInterpolant;l===null&&(l=n._lendControlInterpolant(),this._timeScaleInterpolant=l);let c=l.parameterPositions,a=l.sampleValues;return c[0]=i,c[1]=i+r,a[0]=e/o,a[1]=t/o,this}stopWarping(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,n){if(!this.enabled){this._updateWeight(e);return}let i=this._startTime;if(i!==null){let c=(e-i)*r;c<0||r===0?t=0:(this._startTime=null,t=r*c)}t*=this._updateTimeScale(e);let o=this._updateTime(t),l=this._updateWeight(e);if(l>0){let c=this._interpolants,a=this._propertyBindings;switch(this.blendMode){case wwe:for(let s=0,u=c.length;s!==u;++s)c[s].evaluate(o),a[s].accumulateAdditive(l);break;case bj:default:for(let s=0,u=c.length;s!==u;++s)c[s].evaluate(o),a[s].accumulate(n,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let r=this._weightInterpolant;if(r!==null){let n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopFading(),n===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let r=this._timeScaleInterpolant;if(r!==null){let n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,r=this.loop,n=this.time+e,i=this._loopCount,o=r===yj;if(e===0)return i===-1?n:o&&(i&1)===1?t-n:n;if(r===TX){i===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n>=t)n=t;else if(n<0)n=0;else{this.time=n;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(i===-1&&(e>=0?(i=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),n>=t||n<0){let l=Math.floor(n/t);n-=t*l,i+=Math.abs(l);let c=this.repetitions-i;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=e>0?t:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){let a=e<0;this._setEndings(a,!a,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=n;if(o&&(i&1)===1)return t-n}return n}_setEndings(e,t,r){let n=this._interpolantSettings;r?(n.endingStart=fm,n.endingEnd=fm):(e?n.endingStart=this.zeroSlopeAtStart?fm:hm:n.endingStart=r2,t?n.endingEnd=this.zeroSlopeAtEnd?fm:hm:n.endingEnd=r2)}_scheduleFading(e,t,r){let n=this._mixer,i=n.time,o=this._weightInterpolant;o===null&&(o=n._lendControlInterpolant(),this._weightInterpolant=o);let l=o.parameterPositions,c=o.sampleValues;return l[0]=i,c[0]=t,l[1]=i+e,c[1]=r,this}},UAe=new Float32Array(1),VAe=class extends Ri{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let r=e._localRoot||this._root,n=e._clip.tracks,i=n.length,o=e._propertyBindings,l=e._interpolants,c=r.uuid,a=this._bindingsByRootAndName,s=a[c];s===void 0&&(s={},a[c]=s);for(let u=0;u!==i;++u){let d=n[u],h=d.name,f=s[h];if(f!==void 0)++f.referenceCount,o[u]=f;else{if(f=o[u],f!==void 0){f._cacheIndex===null&&(++f.referenceCount,this._addInactiveBinding(f,c,h));continue}let m=t&&t._propertyBindings[u].binding.parsedPath;f=new kAe(jr.create(r,h,m),d.ValueTypeName,d.getValueSize()),++f.referenceCount,this._addInactiveBinding(f,c,h),o[u]=f}l[u].resultBuffer=f.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){let r=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,r)}let t=e._propertyBindings;for(let r=0,n=t.length;r!==n;++r){let i=t[r];i.useCount++===0&&(this._lendBinding(i),i.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let r=0,n=t.length;r!==n;++r){let i=t[r];--i.useCount===0&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){let n=this._actions,i=this._actionsByClip,o=i[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{let l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=n.length,n.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){let t=this._actions,r=t[t.length-1],n=e._cacheIndex;r._cacheIndex=n,t[n]=r,t.pop(),e._cacheIndex=null;let i=e._clip.uuid,o=this._actionsByClip,l=o[i],c=l.knownActions,a=c[c.length-1],s=e._byClipCacheIndex;a._byClipCacheIndex=s,c[s]=a,c.pop(),e._byClipCacheIndex=null;let u=l.actionByRoot,d=(e._localRoot||this._root).uuid;delete u[d],c.length===0&&delete o[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let r=0,n=t.length;r!==n;++r){let i=t[r];--i.referenceCount===0&&this._removeInactiveBinding(i)}}_lendAction(e){let t=this._actions,r=e._cacheIndex,n=this._nActiveActions++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}_takeBackAction(e){let t=this._actions,r=e._cacheIndex,n=--this._nActiveActions,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}_addInactiveBinding(e,t,r){let n=this._bindingsByRootAndName,i=this._bindings,o=n[t];o===void 0&&(o={},n[t]=o),o[r]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){let t=this._bindings,r=e.binding,n=r.rootNode.uuid,i=r.path,o=this._bindingsByRootAndName,l=o[n],c=t[t.length-1],a=e._cacheIndex;c._cacheIndex=a,t[a]=c,t.pop(),delete l[i],Object.keys(l).length===0&&delete o[n]}_lendBinding(e){let t=this._bindings,r=e._cacheIndex,n=this._nActiveBindings++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}_takeBackBinding(e){let t=this._bindings,r=e._cacheIndex,n=--this._nActiveBindings,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return r===void 0&&(r=new l$(new Float32Array(2),new Float32Array(2),1,UAe),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){let t=this._controlInterpolants,r=e.__cacheIndex,n=--this._nActiveControlInterpolants,i=t[n];e.__cacheIndex=n,t[n]=e,i.__cacheIndex=r,t[r]=i}clipAction(e,t,r){let n=t||this._root,i=n.uuid,o=typeof e=="string"?Q4.findByName(n,e):e,l=o!==null?o.uuid:e,c=this._actionsByClip[l],a=null;if(r===void 0&&(o!==null?r=o.blendMode:r=bj),c!==void 0){let u=c.actionByRoot[i];if(u!==void 0&&u.blendMode===r)return u;a=c.knownActions[0],o===null&&(o=a._clip)}if(o===null)return null;let s=new FAe(this,o,t,r);return this._bindAction(s,a),this._addInactiveAction(s,l,i),s}existingAction(e,t){let r=t||this._root,n=r.uuid,i=typeof e=="string"?Q4.findByName(r,e):e,o=i?i.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[n]||null}stopAllAction(){let e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;let t=this._actions,r=this._nActiveActions,n=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1;for(let a=0;a!==r;++a)t[a]._update(n,e,i,o);let l=this._bindings,c=this._nActiveBindings;for(let a=0;a!==c;++a)l[a].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,r=e.uuid,n=this._actionsByClip,i=n[r];if(i!==void 0){let o=i.knownActions;for(let l=0,c=o.length;l!==c;++l){let a=o[l];this._deactivateAction(a);let s=a._cacheIndex,u=t[t.length-1];a._cacheIndex=null,a._byClipCacheIndex=null,u._cacheIndex=s,t[s]=u,t.pop(),this._removeInactiveBindingsForAction(a)}delete n[r]}}uncacheRoot(e){let t=e.uuid,r=this._actionsByClip;for(let o in r){let l=r[o].actionByRoot,c=l[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}let n=this._bindingsByRootAndName,i=n[t];if(i!==void 0)for(let o in i){let l=i[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){let r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}},ze=class{constructor(e){this.value=e}clone(){return new ze(this.value.clone===void 0?this.value:this.value.clone())}},f$=class{constructor(e,t,r=0,n=1/0){this.ray=new Kg(e,t),this.near=r,this.far=n,this.camera=null,this.layers=new wj,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return Z4(e,this,r,t),r.sort(TN),r}intersectObjects(e,t=!0,r=[]){for(let n=0,i=e.length;n<i;n++)Z4(e[n],this,r,t);return r.sort(TN),r}};function TN(e,t){return e.distance-t.distance}function Z4(e,t,r,n){if(e.layers.test(t.layers)&&e.raycast(t,r),n===!0){let i=e.children;for(let o=0,l=i.length;o<l;o++)Z4(i[o],t,r,!0)}}var PN=class{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Xn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},kN=new oe,p$=class{constructor(e=new oe(1/0,1/0),t=new oe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=kN.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return kN.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},DN=new V,lx=new V,ss=class{constructor(e=new V,t=new V){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){DN.subVectors(e,this.start),lx.subVectors(this.end,this.start);let r=lx.dot(lx),n=lx.dot(DN)/r;return t&&(n=Xn(n,0,1)),n}closestPointToPoint(e,t,r){let n=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(n).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}},jN=new V,HAe=class extends Tr{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";let r=new vt,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,c=32;o<c;o++,l++){let a=o/c*Math.PI*2,s=l/c*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}r.setAttribute("position",new it(n,3));let i=new Qd({fog:!1,toneMapped:!1});this.cone=new Y1(r,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),jN.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(jN),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},WAe=class extends vo{constructor(e,t,r){let n=new Dj(t,4,2),i=new q1({wireframe:!0,fog:!1,toneMapped:!1});super(n,i),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},IN=new V,cx=new V,ON=new V,GAe=class extends Tr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let n=new vt;n.setAttribute("position",new it([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let i=new Qd({fog:!1,toneMapped:!1});this.lightPlane=new a2(n,i),this.add(this.lightPlane),n=new vt,n.setAttribute("position",new it([0,0,0,0,0,1],3)),this.targetLine=new a2(n,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),IN.setFromMatrixPosition(this.light.matrixWorld),cx.setFromMatrixPosition(this.light.target.matrixWorld),ON.subVectors(cx,IN),this.lightPlane.lookAt(cx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(cx),this.targetLine.scale.z=ON.length()}},ux=new V,fn=new Jg,d2=class extends Y1{constructor(e){let t=new vt,r=new Qd({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],i=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(f,m){c(f),c(m)}function c(f){n.push(0,0,0),i.push(0,0,0),o[f]===void 0&&(o[f]=[]),o[f].push(n.length/3-1)}t.setAttribute("position",new it(n,3)),t.setAttribute("color",new it(i,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();let a=new wt(16755200),s=new wt(16711680),u=new wt(43775),d=new wt(16777215),h=new wt(3355443);this.setColors(a,s,u,d,h)}setColors(e,t,r,n,i){let o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,n.r,n.g,n.b),o.setXYZ(39,n.r,n.g,n.b),o.setXYZ(40,i.r,i.g,i.b),o.setXYZ(41,i.r,i.g,i.b),o.setXYZ(42,i.r,i.g,i.b),o.setXYZ(43,i.r,i.g,i.b),o.setXYZ(44,i.r,i.g,i.b),o.setXYZ(45,i.r,i.g,i.b),o.setXYZ(46,i.r,i.g,i.b),o.setXYZ(47,i.r,i.g,i.b),o.setXYZ(48,i.r,i.g,i.b),o.setXYZ(49,i.r,i.g,i.b),o.needsUpdate=!0}update(){let e=this.geometry,t=this.pointMap,r=1,n=1;fn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),An("c",t,e,fn,0,0,-1),An("t",t,e,fn,0,0,1),An("n1",t,e,fn,-r,-n,-1),An("n2",t,e,fn,r,-n,-1),An("n3",t,e,fn,-r,n,-1),An("n4",t,e,fn,r,n,-1),An("f1",t,e,fn,-r,-n,1),An("f2",t,e,fn,r,-n,1),An("f3",t,e,fn,-r,n,1),An("f4",t,e,fn,r,n,1),An("u1",t,e,fn,r*.7,n*1.1,-1),An("u2",t,e,fn,-r*.7,n*1.1,-1),An("u3",t,e,fn,0,n*2,-1),An("cf1",t,e,fn,-r,0,1),An("cf2",t,e,fn,r,0,1),An("cf3",t,e,fn,0,-n,1),An("cf4",t,e,fn,0,n,1),An("cn1",t,e,fn,-r,0,-1),An("cn2",t,e,fn,r,0,-1),An("cn3",t,e,fn,0,-n,-1),An("cn4",t,e,fn,0,n,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function An(e,t,r,n,i,o,l){ux.set(i,o,l).unproject(n);let c=t[e];if(c!==void 0){let a=r.getAttribute("position");for(let s=0,u=c.length;s<u;s++)a.setXYZ(c[s],ux.x,ux.y,ux.z)}}var h2=class extends Y1{constructor(e,t=16776960){let r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],i=new vt;i.setIndex(new kt(r,1)),i.setAttribute("position",new it(n,3)),super(i,new Qd({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},qAe=class extends Y1{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],n=new vt;n.setAttribute("position",new it(t,3)),n.setAttribute("color",new it(r,3));let i=new Qd({vertexColors:!0,toneMapped:!1});super(n,i),this.type="AxesHelper"}setColors(e,t,r){let n=new wt,i=this.geometry.attributes.color.array;return n.set(e),n.toArray(i,0),n.toArray(i,3),n.set(t),n.toArray(i,6),n.toArray(i,9),n.set(r),n.toArray(i,12),n.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},Hc=YAe();function YAe(){let e=new ArrayBuffer(4),t=new Float32Array(e),r=new Uint32Array(e),n=new Uint32Array(512),i=new Uint32Array(512);for(let a=0;a<256;++a){let s=a-127;s<-27?(n[a]=0,n[a|256]=32768,i[a]=24,i[a|256]=24):s<-14?(n[a]=1024>>-s-14,n[a|256]=1024>>-s-14|32768,i[a]=-s-1,i[a|256]=-s-1):s<=15?(n[a]=s+15<<10,n[a|256]=s+15<<10|32768,i[a]=13,i[a|256]=13):s<128?(n[a]=31744,n[a|256]=64512,i[a]=24,i[a|256]=24):(n[a]=31744,n[a|256]=64512,i[a]=13,i[a|256]=13)}let o=new Uint32Array(2048),l=new Uint32Array(64),c=new Uint32Array(64);for(let a=1;a<1024;++a){let s=a<<13,u=0;for(;!(s&8388608);)s<<=1,u-=8388608;s&=-8388609,u+=947912704,o[a]=s|u}for(let a=1024;a<2048;++a)o[a]=939524096+(a-1024<<13);for(let a=1;a<31;++a)l[a]=a<<23;l[31]=1199570944,l[32]=2147483648;for(let a=33;a<63;++a)l[a]=2147483648+(a-32<<23);l[63]=3347054592;for(let a=1;a<64;++a)a!==32&&(c[a]=1024);return{floatView:t,uint32View:r,baseTable:n,shiftTable:i,mantissaTable:o,exponentTable:l,offsetTable:c}}function XAe(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Xn(e,-65504,65504),Hc.floatView[0]=e;let t=Hc.uint32View[0],r=t>>23&511;return Hc.baseTable[r]+((t&8388607)>>Hc.shiftTable[r])}function $Ae(e){let t=e>>10;return Hc.uint32View[0]=Hc.mantissaTable[Hc.offsetTable[t]+(e&1023)]+Hc.exponentTable[t],Hc.floatView[0]}var KAe=Object.freeze({__proto__:null,fromHalfFloat:$Ae,toHalfFloat:XAe});typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:$g}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=$g);var Y0=".",Lj=Symbol("target"),m$=Symbol("unsubscribe");function eP(e){return e instanceof Date||e instanceof Set||e instanceof Map||e instanceof WeakSet||e instanceof WeakMap||ArrayBuffer.isView(e)}function QAe(e){return(typeof e=="object"?e===null:typeof e!="function")||e instanceof RegExp}var zl=Array.isArray;function zj(e){return typeof e=="symbol"}var JAe={after:(e,t)=>zl(e)?e.slice(t.length):t===""?e:e.slice(t.length+1),concat:(e,t)=>zl(e)?(e=[...e],t&&e.push(t),e):t&&t.toString!==void 0?(e!==""&&(e+=Y0),zj(t)?e+t.toString():e+t):e,initial:e=>{if(zl(e))return e.slice(0,-1);if(e==="")return e;let t=e.lastIndexOf(Y0);return t===-1?"":e.slice(0,t)},last:e=>{if(zl(e))return e[e.length-1]||"";if(e==="")return e;let t=e.lastIndexOf(Y0);return t===-1?e:e.slice(t+1)},walk:(e,t)=>{if(zl(e))for(let r of e)t(r);else if(e!==""){let r=0,n=e.indexOf(Y0);if(n===-1)t(e);else for(;r<e.length;)n===-1&&(n=e.length),t(e.slice(r,n)),r=n+1,n=e.indexOf(Y0,r)}},get(e,t){return this.walk(t,r=>{e&&(e=e[r])}),e}},Ya=JAe;function ZAe(e){return typeof e=="object"&&typeof e.next=="function"}function eCe(e,t,r,n,i){let o=e.next;if(t.name==="entries")e.next=function(){let l=o.call(this);return l.done===!1&&(l.value[0]=i(l.value[0],t,l.value[0],n),l.value[1]=i(l.value[1],t,l.value[0],n)),l};else if(t.name==="values"){let l=r[Lj].keys();e.next=function(){let c=o.call(this);return c.done===!1&&(c.value=i(c.value,t,l.next().value,n)),c}}else e.next=function(){let l=o.call(this);return l.done===!1&&(l.value=i(l.value,t,l.value,n)),l};return e}function RN(e,t,r){return e.isUnsubscribed||t.ignoreSymbols&&zj(r)||t.ignoreUnderscores&&r.charAt(0)==="_"||"ignoreKeys"in t&&t.ignoreKeys.includes(r)}var tCe=class{constructor(e){this._equals=e,this._proxyCache=new WeakMap,this._pathCache=new WeakMap,this.isUnsubscribed=!1}_getDescriptorCache(){return this._descriptorCache===void 0&&(this._descriptorCache=new WeakMap),this._descriptorCache}_getProperties(e){let t=this._getDescriptorCache(),r=t.get(e);return r===void 0&&(r={},t.set(e,r)),r}_getOwnPropertyDescriptor(e,t){if(this.isUnsubscribed)return Reflect.getOwnPropertyDescriptor(e,t);let r=this._getProperties(e),n=r[t];return n===void 0&&(n=Reflect.getOwnPropertyDescriptor(e,t),r[t]=n),n}getProxy(e,t,r,n){if(this.isUnsubscribed)return e;let i=e[n],o=i||e;this._pathCache.set(o,t);let l=this._proxyCache.get(o);return l===void 0&&(l=i===void 0?new Proxy(e,r):e,this._proxyCache.set(o,l)),l}getPath(e){return this.isUnsubscribed?void 0:this._pathCache.get(e)}isDetached(e,t){return!Object.is(e,Ya.get(t,this.getPath(e)))}defineProperty(e,t,r){return Reflect.defineProperty(e,t,r)?(this.isUnsubscribed||(this._getProperties(e)[t]=r),!0):!1}setProperty(e,t,r,n,i){if(!this._equals(i,r)||!(t in e)){let o=this._getOwnPropertyDescriptor(e,t);return o!==void 0&&"set"in o?Reflect.set(e,t,r,n):Reflect.set(e,t,r)}return!0}deleteProperty(e,t,r){if(Reflect.deleteProperty(e,t)){if(!this.isUnsubscribed){let n=this._getDescriptorCache().get(e);n&&(delete n[t],this._pathCache.delete(r))}return!0}return!1}isSameDescriptor(e,t,r){let n=this._getOwnPropertyDescriptor(t,r);return e!==void 0&&n!==void 0&&Object.is(e.value,n.value)&&(e.writable||!1)===(n.writable||!1)&&(e.enumerable||!1)===(n.enumerable||!1)&&(e.configurable||!1)===(n.configurable||!1)&&e.get===n.get&&e.set===n.set}isGetInvariant(e,t){let r=this._getOwnPropertyDescriptor(e,t);return r!==void 0&&r.configurable!==!0&&r.writable!==!0}unsubscribe(){this._descriptorCache=null,this._pathCache=null,this._proxyCache=null,this.isUnsubscribed=!0}};function tP(e){return toString.call(e)==="[object Object]"}function dx(){return!0}function hp(e,t){return e.length!==t.length||e.some((r,n)=>t[n]!==r)}var g$=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),rCe=new Set(["concat","includes","indexOf","join","keys","lastIndexOf"]),v$={push:dx,pop:dx,shift:dx,unshift:dx,copyWithin:hp,reverse:hp,sort:hp,splice:hp,flat:hp,fill:hp},nCe=new Set([...g$,...rCe,...Object.keys(v$)]);function hx(e,t){if(e.size!==t.size)return!0;for(let r of e)if(!t.has(r))return!0;return!1}var y$=["keys","values","entries"],b$=new Set(["has","toString"]),x$={add:hx,clear:hx,delete:hx,forEach:hx},iCe=new Set([...b$,...Object.keys(x$),...y$]);function fx(e,t){if(e.size!==t.size)return!0;let r;for(let[n,i]of e)if(r=t.get(n),r!==i||r===void 0&&!t.has(n))return!0;return!1}var oCe=new Set([...b$,"get"]),w$={set:fx,clear:fx,delete:fx,forEach:fx},aCe=new Set([...oCe,...Object.keys(w$),...y$]),Vd=class{constructor(e,t,r,n){this._path=t,this._isChanged=!1,this._clonedCache=new Set,this._hasOnValidate=n,this._changes=n?[]:null,this.clone=t===void 0?e:this._shallowClone(e)}static isHandledMethod(e){return g$.has(e)}_shallowClone(e){let t=e;if(tP(e))t={...e};else if(zl(e))t=[...e];else if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set([...e].map(r=>this._shallowClone(r)));else if(e instanceof Map){t=new Map;for(let[r,n]of e.entries())t.set(r,this._shallowClone(n))}return this._clonedCache.add(t),t}preferredThisArg(e,t,r,n){return e?(zl(n)?this._onIsChanged=v$[t]:n instanceof Set?this._onIsChanged=x$[t]:n instanceof Map&&(this._onIsChanged=w$[t]),n):r}update(e,t,r){let n=Ya.after(e,this._path);if(t!=="length"){let i=this.clone;Ya.walk(n,o=>{i&&i[o]&&(this._clonedCache.has(i[o])||(i[o]=this._shallowClone(i[o])),i=i[o])}),this._hasOnValidate&&this._changes.push({path:n,property:t,previous:r}),i&&i[t]&&(i[t]=r)}this._isChanged=!0}undo(e){let t;for(let r=this._changes.length-1;r!==-1;r--)t=this._changes[r],Ya.get(e,t.path)[t.property]=t.previous}isChanged(e){return this._onIsChanged===void 0?this._isChanged:this._onIsChanged(this.clone,e)}},LN=class extends Vd{static isHandledMethod(e){return nCe.has(e)}},sCe=class extends Vd{undo(e){e.setTime(this.clone.getTime())}isChanged(e,t){return!t(this.clone.valueOf(),e.valueOf())}},zN=class extends Vd{static isHandledMethod(e){return iCe.has(e)}undo(e){for(let t of this.clone)e.add(t);for(let t of e)this.clone.has(t)||e.delete(t)}},NN=class extends Vd{static isHandledMethod(e){return aCe.has(e)}undo(e){for(let[t,r]of this.clone.entries())e.set(t,r);for(let t of e.keys())this.clone.has(t)||e.delete(t)}},lCe=class extends Vd{constructor(e,t,r,n){super(void 0,t,r,n),this._arg1=r[0],this._weakValue=e.has(this._arg1)}isChanged(e){return this._weakValue!==e.has(this._arg1)}undo(e){this._weakValue&&!e.has(this._arg1)?e.add(this._arg1):e.delete(this._arg1)}},cCe=class extends Vd{constructor(e,t,r,n){super(void 0,t,r,n),this._weakKey=r[0],this._weakHas=e.has(this._weakKey),this._weakValue=e.get(this._weakKey)}isChanged(e){return this._weakValue!==e.get(this._weakKey)}undo(e){let t=e.has(this._weakKey);this._weakHas&&!t?e.set(this._weakKey,this._weakValue):!this._weakHas&&t?e.delete(this._weakKey):this._weakValue!==e.get(this._weakKey)&&e.set(this._weakKey,this._weakValue)}},Np=class{constructor(e){this._stack=[],this._hasOnValidate=e}static isHandledType(e){return tP(e)||zl(e)||eP(e)}static isHandledMethod(e,t){return tP(e)?Vd.isHandledMethod(t):zl(e)?LN.isHandledMethod(t):e instanceof Set?zN.isHandledMethod(t):e instanceof Map?NN.isHandledMethod(t):eP(e)}get isCloning(){return this._stack.length>0}start(e,t,r){let n=Vd;zl(e)?n=LN:e instanceof Date?n=sCe:e instanceof Set?n=zN:e instanceof Map?n=NN:e instanceof WeakSet?n=lCe:e instanceof WeakMap&&(n=cCe),this._stack.push(new n(e,t,r,this._hasOnValidate))}update(e,t,r){this._stack[this._stack.length-1].update(e,t,r)}preferredThisArg(e,t,r){let{name:n}=e,i=Np.isHandledMethod(r,n);return this._stack[this._stack.length-1].preferredThisArg(i,n,t,r)}isChanged(e,t,r){return this._stack[this._stack.length-1].isChanged(e,t,r)}undo(e){this._previousClone!==void 0&&this._previousClone.undo(e)}stop(){return this._previousClone=this._stack.pop(),this._previousClone.clone}},uCe={equals:Object.is,isShallow:!1,pathAsArray:!1,ignoreSymbols:!1,ignoreUnderscores:!1,ignoreDetached:!1,details:!1},Nj=(e,t,r={})=>{r={...uCe,...r};let n=Symbol("ProxyTarget"),{equals:i,isShallow:o,ignoreDetached:l,details:c}=r,a=new tCe(i),s=typeof r.onValidate=="function",u=new Np(s),d=(x,y,b,w,_)=>!s||u.isCloning||r.onValidate(Ya.concat(a.getPath(x),y),b,w,_)===!0,h=(x,y,b,w)=>{!RN(a,r,y)&&!(l&&a.isDetached(x,e))&&f(a.getPath(x),y,b,w)},f=(x,y,b,w,_)=>{u.isCloning?u.update(x,y,w):t(Ya.concat(x,y),b,w,_)},m=x=>x&&(x[n]||x),p=(x,y,b,w)=>QAe(x)||b==="constructor"||o&&!Np.isHandledMethod(y,b)||RN(a,r,b)||a.isGetInvariant(y,b)||l&&a.isDetached(y,e)?x:(w===void 0&&(w=a.getPath(y)),a.getProxy(x,Ya.concat(w,b),g,n)),g={get(x,y,b){if(zj(y)){if(y===n||y===Lj)return x;if(y===m$&&!a.isUnsubscribed&&a.getPath(x).length===0)return a.unsubscribe(),x}let w=eP(x)?Reflect.get(x,y):Reflect.get(x,y,b);return p(w,x,y)},set(x,y,b,w){b=m(b);let _=x[n]||x,S=_[y];if(i(S,b)&&y in x)return!0;let E=d(x,y,b,S);return E&&a.setProperty(_,y,b,w,S)?(h(x,y,x[y],S),!0):!E},defineProperty(x,y,b){if(!a.isSameDescriptor(b,x,y)){let w=x[y];d(x,y,b.value,w)&&a.defineProperty(x,y,b,w)&&h(x,y,b.value,w)}return!0},deleteProperty(x,y){if(!Reflect.has(x,y))return!0;let b=Reflect.get(x,y),w=d(x,y,void 0,b);return w&&a.deleteProperty(x,y,b)?(h(x,y,void 0,b),!0):!w},apply(x,y,b){let w=y[n]||y;if(a.isUnsubscribed)return Reflect.apply(x,w,b);if((c===!1||c!==!0&&!c.includes(x.name))&&Np.isHandledType(w)){let _=Ya.initial(a.getPath(x)),S=Np.isHandledMethod(w,x.name);u.start(w,_,b);let E=Reflect.apply(x,u.preferredThisArg(x,y,w),S?b.map(T=>m(T)):b),C=u.isChanged(w,i),A=u.stop();if(Np.isHandledType(E)&&S&&(y instanceof Map&&x.name==="get"&&(_=Ya.concat(_,b[0])),E=a.getProxy(E,_,g)),C){let T={name:x.name,args:b,result:E},k=u.isCloning?Ya.initial(_):_,D=u.isCloning?Ya.last(_):"";d(Ya.get(e,k),D,w,A,T)?f(k,D,w,A,T):u.undo(w)}return(y instanceof Map||y instanceof Set)&&ZAe(E)?eCe(E,x,y,_,p):E}return Reflect.apply(x,y,b)}},v=a.getProxy(e,r.pathAsArray?[]:"",g);return t=t.bind(v),s&&(r.onValidate=r.onValidate.bind(v)),v};Nj.target=e=>e&&e[Lj]||e;Nj.unsubscribe=e=>e[m$]||e;var BN=Nj,dCe=typeof global=="object"&&global&&global.Object===Object&&global,_$=dCe,hCe=typeof self=="object"&&self&&self.Object===Object&&self,fCe=_$||hCe||Function("return this")(),al=fCe,pCe=al.Symbol,ps=pCe,S$=Object.prototype,mCe=S$.hasOwnProperty,gCe=S$.toString,X0=ps?ps.toStringTag:void 0;function vCe(e){var t=mCe.call(e,X0),r=e[X0];try{e[X0]=void 0;var n=!0}catch{}var i=gCe.call(e);return n&&(t?e[X0]=r:delete e[X0]),i}var yCe=vCe,bCe=Object.prototype,xCe=bCe.toString;function wCe(e){return xCe.call(e)}var _Ce=wCe,SCe="[object Null]",ECe="[object Undefined]",FN=ps?ps.toStringTag:void 0;function ACe(e){return e==null?e===void 0?ECe:SCe:FN&&FN in Object(e)?yCe(e):_Ce(e)}var Lf=ACe;function CCe(e){return e!=null&&typeof e=="object"}var mu=CCe,MCe="[object Symbol]";function TCe(e){return typeof e=="symbol"||mu(e)&&Lf(e)==MCe}var zE=TCe;function PCe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var E$=PCe,kCe=Array.isArray,ic=kCe,DCe=1/0,UN=ps?ps.prototype:void 0,VN=UN?UN.toString:void 0;function A$(e){if(typeof e=="string")return e;if(ic(e))return E$(e,A$)+"";if(zE(e))return VN?VN.call(e):"";var t=e+"";return t=="0"&&1/e==-DCe?"-0":t}var jCe=A$,ICe=/\s/;function OCe(e){for(var t=e.length;t--&&ICe.test(e.charAt(t)););return t}var RCe=OCe,LCe=/^\s+/;function zCe(e){return e&&e.slice(0,RCe(e)+1).replace(LCe,"")}var NCe=zCe;function BCe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var nl=BCe,HN=NaN,FCe=/^[-+]0x[0-9a-f]+$/i,UCe=/^0b[01]+$/i,VCe=/^0o[0-7]+$/i,HCe=parseInt;function WCe(e){if(typeof e=="number")return e;if(zE(e))return HN;if(nl(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=nl(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=NCe(e);var r=UCe.test(e);return r||VCe.test(e)?HCe(e.slice(2),r?2:8):FCe.test(e)?HN:+e}var WN=WCe;function GCe(e){return e}var qCe=GCe,YCe="[object AsyncFunction]",XCe="[object Function]",$Ce="[object GeneratorFunction]",KCe="[object Proxy]";function QCe(e){if(!nl(e))return!1;var t=Lf(e);return t==XCe||t==$Ce||t==YCe||t==KCe}var C$=QCe,JCe=al["__core-js_shared__"],EC=JCe,GN=function(){var e=/[^.]+$/.exec(EC&&EC.keys&&EC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ZCe(e){return!!GN&&GN in e}var eMe=ZCe,tMe=Function.prototype,rMe=tMe.toString;function nMe(e){if(e!=null){try{return rMe.call(e)}catch{}try{return e+""}catch{}}return""}var zf=nMe,iMe=/[\\^$.*+?()[\]{}|]/g,oMe=/^\[object .+?Constructor\]$/,aMe=Function.prototype,sMe=Object.prototype,lMe=aMe.toString,cMe=sMe.hasOwnProperty,uMe=RegExp("^"+lMe.call(cMe).replace(iMe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dMe(e){if(!nl(e)||eMe(e))return!1;var t=C$(e)?uMe:oMe;return t.test(zf(e))}var hMe=dMe;function fMe(e,t){return e==null?void 0:e[t]}var pMe=fMe;function mMe(e,t){var r=pMe(e,t);return hMe(r)?r:void 0}var Nf=mMe,gMe=Nf(al,"WeakMap"),rP=gMe,qN=Object.create,vMe=function(){function e(){}return function(t){if(!nl(t))return{};if(qN)return qN(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),yMe=vMe;function bMe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var xMe=bMe;function wMe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var _Me=wMe,SMe=800,EMe=16,AMe=Date.now;function CMe(e){var t=0,r=0;return function(){var n=AMe(),i=EMe-(n-r);if(r=n,i>0){if(++t>=SMe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var MMe=CMe;function TMe(e){return function(){return e}}var PMe=TMe,kMe=function(){try{var e=Nf(Object,"defineProperty");return e({},"",{}),e}catch{}}(),f2=kMe,DMe=f2?function(e,t){return f2(e,"toString",{configurable:!0,enumerable:!1,value:PMe(t),writable:!0})}:qCe,jMe=DMe,IMe=MMe(jMe),OMe=IMe;function RMe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var LMe=RMe,zMe=9007199254740991,NMe=/^(?:0|[1-9]\d*)$/;function BMe(e,t){var r=typeof e;return t=t??zMe,!!t&&(r=="number"||r!="symbol"&&NMe.test(e))&&e>-1&&e%1==0&&e<t}var Bj=BMe;function FMe(e,t,r){t=="__proto__"&&f2?f2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var M$=FMe;function UMe(e,t){return e===t||e!==e&&t!==t}var Fj=UMe,VMe=Object.prototype,HMe=VMe.hasOwnProperty;function WMe(e,t,r){var n=e[t];(!(HMe.call(e,t)&&Fj(n,r))||r===void 0&&!(t in e))&&M$(e,t,r)}var Uj=WMe;function GMe(e,t,r,n){var i=!r;r||(r={});for(var o=-1,l=t.length;++o<l;){var c=t[o],a=n?n(r[c],e[c],c,r,e):void 0;a===void 0&&(a=e[c]),i?M$(r,c,a):Uj(r,c,a)}return r}var K1=GMe,YN=Math.max;function qMe(e,t,r){return t=YN(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=YN(n.length-t,0),l=Array(o);++i<o;)l[i]=n[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=n[i];return c[t]=r(l),xMe(e,this,c)}}var YMe=qMe,XMe=9007199254740991;function $Me(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=XMe}var Vj=$Me;function KMe(e){return e!=null&&Vj(e.length)&&!C$(e)}var T$=KMe,QMe=Object.prototype;function JMe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||QMe;return e===r}var Hj=JMe;function ZMe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var eTe=ZMe,tTe="[object Arguments]";function rTe(e){return mu(e)&&Lf(e)==tTe}var XN=rTe,P$=Object.prototype,nTe=P$.hasOwnProperty,iTe=P$.propertyIsEnumerable,oTe=XN(function(){return arguments}())?XN:function(e){return mu(e)&&nTe.call(e,"callee")&&!iTe.call(e,"callee")},Wj=oTe;function aTe(){return!1}var sTe=aTe,k$=typeof wa=="object"&&wa&&!wa.nodeType&&wa,$N=k$&&typeof _a=="object"&&_a&&!_a.nodeType&&_a,lTe=$N&&$N.exports===k$,KN=lTe?al.Buffer:void 0,cTe=KN?KN.isBuffer:void 0,uTe=cTe||sTe,p2=uTe,dTe="[object Arguments]",hTe="[object Array]",fTe="[object Boolean]",pTe="[object Date]",mTe="[object Error]",gTe="[object Function]",vTe="[object Map]",yTe="[object Number]",bTe="[object Object]",xTe="[object RegExp]",wTe="[object Set]",_Te="[object String]",STe="[object WeakMap]",ETe="[object ArrayBuffer]",ATe="[object DataView]",CTe="[object Float32Array]",MTe="[object Float64Array]",TTe="[object Int8Array]",PTe="[object Int16Array]",kTe="[object Int32Array]",DTe="[object Uint8Array]",jTe="[object Uint8ClampedArray]",ITe="[object Uint16Array]",OTe="[object Uint32Array]",Yr={};Yr[CTe]=Yr[MTe]=Yr[TTe]=Yr[PTe]=Yr[kTe]=Yr[DTe]=Yr[jTe]=Yr[ITe]=Yr[OTe]=!0;Yr[dTe]=Yr[hTe]=Yr[ETe]=Yr[fTe]=Yr[ATe]=Yr[pTe]=Yr[mTe]=Yr[gTe]=Yr[vTe]=Yr[yTe]=Yr[bTe]=Yr[xTe]=Yr[wTe]=Yr[_Te]=Yr[STe]=!1;function RTe(e){return mu(e)&&Vj(e.length)&&!!Yr[Lf(e)]}var LTe=RTe;function zTe(e){return function(t){return e(t)}}var Gj=zTe,D$=typeof wa=="object"&&wa&&!wa.nodeType&&wa,ay=D$&&typeof _a=="object"&&_a&&!_a.nodeType&&_a,NTe=ay&&ay.exports===D$,AC=NTe&&_$.process,BTe=function(){try{var e=ay&&ay.require&&ay.require("util").types;return e||AC&&AC.binding&&AC.binding("util")}catch{}}(),yg=BTe,QN=yg&&yg.isTypedArray,FTe=QN?Gj(QN):LTe,j$=FTe,UTe=Object.prototype,VTe=UTe.hasOwnProperty;function HTe(e,t){var r=ic(e),n=!r&&Wj(e),i=!r&&!n&&p2(e),o=!r&&!n&&!i&&j$(e),l=r||n||i||o,c=l?eTe(e.length,String):[],a=c.length;for(var s in e)(t||VTe.call(e,s))&&!(l&&(s=="length"||i&&(s=="offset"||s=="parent")||o&&(s=="buffer"||s=="byteLength"||s=="byteOffset")||Bj(s,a)))&&c.push(s);return c}var I$=HTe;function WTe(e,t){return function(r){return e(t(r))}}var O$=WTe,GTe=O$(Object.keys,Object),qTe=GTe,YTe=Object.prototype,XTe=YTe.hasOwnProperty;function $Te(e){if(!Hj(e))return qTe(e);var t=[];for(var r in Object(e))XTe.call(e,r)&&r!="constructor"&&t.push(r);return t}var KTe=$Te;function QTe(e){return T$(e)?I$(e):KTe(e)}var qj=QTe;function JTe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var ZTe=JTe,e4e=Object.prototype,t4e=e4e.hasOwnProperty;function r4e(e){if(!nl(e))return ZTe(e);var t=Hj(e),r=[];for(var n in e)n=="constructor"&&(t||!t4e.call(e,n))||r.push(n);return r}var n4e=r4e;function i4e(e){return T$(e)?I$(e,!0):n4e(e)}var Fh=i4e,o4e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a4e=/^\w*$/;function s4e(e,t){if(ic(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||zE(e)?!0:a4e.test(e)||!o4e.test(e)||t!=null&&e in Object(t)}var l4e=s4e,c4e=Nf(Object,"create"),n1=c4e;function u4e(){this.__data__=n1?n1(null):{},this.size=0}var d4e=u4e;function h4e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var f4e=h4e,p4e="__lodash_hash_undefined__",m4e=Object.prototype,g4e=m4e.hasOwnProperty;function v4e(e){var t=this.__data__;if(n1){var r=t[e];return r===p4e?void 0:r}return g4e.call(t,e)?t[e]:void 0}var y4e=v4e,b4e=Object.prototype,x4e=b4e.hasOwnProperty;function w4e(e){var t=this.__data__;return n1?t[e]!==void 0:x4e.call(t,e)}var _4e=w4e,S4e="__lodash_hash_undefined__";function E4e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n1&&t===void 0?S4e:t,this}var A4e=E4e;function r0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}r0.prototype.clear=d4e;r0.prototype.delete=f4e;r0.prototype.get=y4e;r0.prototype.has=_4e;r0.prototype.set=A4e;var JN=r0;function C4e(){this.__data__=[],this.size=0}var M4e=C4e;function T4e(e,t){for(var r=e.length;r--;)if(Fj(e[r][0],t))return r;return-1}var NE=T4e,P4e=Array.prototype,k4e=P4e.splice;function D4e(e){var t=this.__data__,r=NE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():k4e.call(t,r,1),--this.size,!0}var j4e=D4e;function I4e(e){var t=this.__data__,r=NE(t,e);return r<0?void 0:t[r][1]}var O4e=I4e;function R4e(e){return NE(this.__data__,e)>-1}var L4e=R4e;function z4e(e,t){var r=this.__data__,n=NE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var N4e=z4e;function n0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}n0.prototype.clear=M4e;n0.prototype.delete=j4e;n0.prototype.get=O4e;n0.prototype.has=L4e;n0.prototype.set=N4e;var BE=n0,B4e=Nf(al,"Map"),i1=B4e;function F4e(){this.size=0,this.__data__={hash:new JN,map:new(i1||BE),string:new JN}}var U4e=F4e;function V4e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var H4e=V4e;function W4e(e,t){var r=e.__data__;return H4e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var FE=W4e;function G4e(e){var t=FE(this,e).delete(e);return this.size-=t?1:0,t}var q4e=G4e;function Y4e(e){return FE(this,e).get(e)}var X4e=Y4e;function $4e(e){return FE(this,e).has(e)}var K4e=$4e;function Q4e(e,t){var r=FE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var J4e=Q4e;function i0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}i0.prototype.clear=U4e;i0.prototype.delete=q4e;i0.prototype.get=X4e;i0.prototype.has=K4e;i0.prototype.set=J4e;var UE=i0,Z4e="Expected a function";function Yj(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Z4e);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var l=e.apply(this,n);return r.cache=o.set(i,l)||o,l};return r.cache=new(Yj.Cache||UE),r}Yj.Cache=UE;var ePe=Yj,tPe=500;function rPe(e){var t=ePe(e,function(n){return r.size===tPe&&r.clear(),n}),r=t.cache;return t}var nPe=rPe,iPe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oPe=/\\(\\)?/g,aPe=nPe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(iPe,function(r,n,i,o){t.push(i?o.replace(oPe,"$1"):n||r)}),t}),sPe=aPe;function lPe(e){return e==null?"":jCe(e)}var cPe=lPe;function uPe(e,t){return ic(e)?e:l4e(e,t)?[e]:sPe(cPe(e))}var o0=uPe,dPe=1/0;function hPe(e){if(typeof e=="string"||zE(e))return e;var t=e+"";return t=="0"&&1/e==-dPe?"-0":t}var VE=hPe;function fPe(e,t){t=o0(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[VE(t[r++])];return r&&r==n?e:void 0}var R$=fPe;function pPe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Xj=pPe,ZN=ps?ps.isConcatSpreadable:void 0;function mPe(e){return ic(e)||Wj(e)||!!(ZN&&e&&e[ZN])}var gPe=mPe;function L$(e,t,r,n,i){var o=-1,l=e.length;for(r||(r=gPe),i||(i=[]);++o<l;){var c=e[o];t>0&&r(c)?t>1?L$(c,t-1,r,n,i):Xj(i,c):n||(i[i.length]=c)}return i}var vPe=L$;function yPe(e){var t=e==null?0:e.length;return t?vPe(e,1):[]}var bPe=yPe;function xPe(e){return OMe(YMe(e,void 0,bPe),e+"")}var z$=xPe,wPe=O$(Object.getPrototypeOf,Object),$j=wPe,_Pe="[object Object]",SPe=Function.prototype,EPe=Object.prototype,N$=SPe.toString,APe=EPe.hasOwnProperty,CPe=N$.call(Object);function MPe(e){if(!mu(e)||Lf(e)!=_Pe)return!1;var t=$j(e);if(t===null)return!0;var r=APe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&N$.call(r)==CPe}var TPe=MPe;function PPe(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}var kPe=PPe;function DPe(){this.__data__=new BE,this.size=0}var jPe=DPe;function IPe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var OPe=IPe;function RPe(e){return this.__data__.get(e)}var LPe=RPe;function zPe(e){return this.__data__.has(e)}var NPe=zPe,BPe=200;function FPe(e,t){var r=this.__data__;if(r instanceof BE){var n=r.__data__;if(!i1||n.length<BPe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new UE(n)}return r.set(e,t),this.size=r.size,this}var UPe=FPe;function a0(e){var t=this.__data__=new BE(e);this.size=t.size}a0.prototype.clear=jPe;a0.prototype.delete=OPe;a0.prototype.get=LPe;a0.prototype.has=NPe;a0.prototype.set=UPe;var Bw=a0;function VPe(e,t){return e&&K1(t,qj(t),e)}var HPe=VPe;function WPe(e,t){return e&&K1(t,Fh(t),e)}var GPe=WPe,B$=typeof wa=="object"&&wa&&!wa.nodeType&&wa,e9=B$&&typeof _a=="object"&&_a&&!_a.nodeType&&_a,qPe=e9&&e9.exports===B$,t9=qPe?al.Buffer:void 0,r9=t9?t9.allocUnsafe:void 0;function YPe(e,t){if(t)return e.slice();var r=e.length,n=r9?r9(r):new e.constructor(r);return e.copy(n),n}var XPe=YPe;function $Pe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var l=e[r];t(l,r,e)&&(o[i++]=l)}return o}var KPe=$Pe;function QPe(){return[]}var F$=QPe,JPe=Object.prototype,ZPe=JPe.propertyIsEnumerable,n9=Object.getOwnPropertySymbols,e5e=n9?function(e){return e==null?[]:(e=Object(e),KPe(n9(e),function(t){return ZPe.call(e,t)}))}:F$,Kj=e5e;function t5e(e,t){return K1(e,Kj(e),t)}var r5e=t5e,n5e=Object.getOwnPropertySymbols,i5e=n5e?function(e){for(var t=[];e;)Xj(t,Kj(e)),e=$j(e);return t}:F$,U$=i5e;function o5e(e,t){return K1(e,U$(e),t)}var a5e=o5e;function s5e(e,t,r){var n=t(e);return ic(e)?n:Xj(n,r(e))}var V$=s5e;function l5e(e){return V$(e,qj,Kj)}var nP=l5e;function c5e(e){return V$(e,Fh,U$)}var H$=c5e,u5e=Nf(al,"DataView"),iP=u5e,d5e=Nf(al,"Promise"),oP=d5e,h5e=Nf(al,"Set"),aP=h5e,i9="[object Map]",f5e="[object Object]",o9="[object Promise]",a9="[object Set]",s9="[object WeakMap]",l9="[object DataView]",p5e=zf(iP),m5e=zf(i1),g5e=zf(oP),v5e=zf(aP),y5e=zf(rP),xh=Lf;(iP&&xh(new iP(new ArrayBuffer(1)))!=l9||i1&&xh(new i1)!=i9||oP&&xh(oP.resolve())!=o9||aP&&xh(new aP)!=a9||rP&&xh(new rP)!=s9)&&(xh=function(e){var t=Lf(e),r=t==f5e?e.constructor:void 0,n=r?zf(r):"";if(n)switch(n){case p5e:return l9;case m5e:return i9;case g5e:return o9;case v5e:return a9;case y5e:return s9}return t});var o1=xh,b5e=Object.prototype,x5e=b5e.hasOwnProperty;function w5e(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&x5e.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var _5e=w5e,S5e=al.Uint8Array,m2=S5e;function E5e(e){var t=new e.constructor(e.byteLength);return new m2(t).set(new m2(e)),t}var Qj=E5e;function A5e(e,t){var r=t?Qj(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var C5e=A5e,M5e=/\w*$/;function T5e(e){var t=new e.constructor(e.source,M5e.exec(e));return t.lastIndex=e.lastIndex,t}var P5e=T5e,c9=ps?ps.prototype:void 0,u9=c9?c9.valueOf:void 0;function k5e(e){return u9?Object(u9.call(e)):{}}var D5e=k5e;function j5e(e,t){var r=t?Qj(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var I5e=j5e,O5e="[object Boolean]",R5e="[object Date]",L5e="[object Map]",z5e="[object Number]",N5e="[object RegExp]",B5e="[object Set]",F5e="[object String]",U5e="[object Symbol]",V5e="[object ArrayBuffer]",H5e="[object DataView]",W5e="[object Float32Array]",G5e="[object Float64Array]",q5e="[object Int8Array]",Y5e="[object Int16Array]",X5e="[object Int32Array]",$5e="[object Uint8Array]",K5e="[object Uint8ClampedArray]",Q5e="[object Uint16Array]",J5e="[object Uint32Array]";function Z5e(e,t,r){var n=e.constructor;switch(t){case V5e:return Qj(e);case O5e:case R5e:return new n(+e);case H5e:return C5e(e,r);case W5e:case G5e:case q5e:case Y5e:case X5e:case $5e:case K5e:case Q5e:case J5e:return I5e(e,r);case L5e:return new n;case z5e:case F5e:return new n(e);case N5e:return P5e(e);case B5e:return new n;case U5e:return D5e(e)}}var eke=Z5e;function tke(e){return typeof e.constructor=="function"&&!Hj(e)?yMe($j(e)):{}}var rke=tke,nke="[object Map]";function ike(e){return mu(e)&&o1(e)==nke}var oke=ike,d9=yg&&yg.isMap,ake=d9?Gj(d9):oke,ske=ake,lke="[object Set]";function cke(e){return mu(e)&&o1(e)==lke}var uke=cke,h9=yg&&yg.isSet,dke=h9?Gj(h9):uke,hke=dke,fke=1,pke=2,mke=4,W$="[object Arguments]",gke="[object Array]",vke="[object Boolean]",yke="[object Date]",bke="[object Error]",G$="[object Function]",xke="[object GeneratorFunction]",wke="[object Map]",_ke="[object Number]",q$="[object Object]",Ske="[object RegExp]",Eke="[object Set]",Ake="[object String]",Cke="[object Symbol]",Mke="[object WeakMap]",Tke="[object ArrayBuffer]",Pke="[object DataView]",kke="[object Float32Array]",Dke="[object Float64Array]",jke="[object Int8Array]",Ike="[object Int16Array]",Oke="[object Int32Array]",Rke="[object Uint8Array]",Lke="[object Uint8ClampedArray]",zke="[object Uint16Array]",Nke="[object Uint32Array]",Fr={};Fr[W$]=Fr[gke]=Fr[Tke]=Fr[Pke]=Fr[vke]=Fr[yke]=Fr[kke]=Fr[Dke]=Fr[jke]=Fr[Ike]=Fr[Oke]=Fr[wke]=Fr[_ke]=Fr[q$]=Fr[Ske]=Fr[Eke]=Fr[Ake]=Fr[Cke]=Fr[Rke]=Fr[Lke]=Fr[zke]=Fr[Nke]=!0;Fr[bke]=Fr[G$]=Fr[Mke]=!1;function Fw(e,t,r,n,i,o){var l,c=t&fke,a=t&pke,s=t&mke;if(r&&(l=i?r(e,n,i,o):r(e)),l!==void 0)return l;if(!nl(e))return e;var u=ic(e);if(u){if(l=_5e(e),!c)return _Me(e,l)}else{var d=o1(e),h=d==G$||d==xke;if(p2(e))return XPe(e,c);if(d==q$||d==W$||h&&!i){if(l=a||h?{}:rke(e),!c)return a?a5e(e,GPe(l,e)):r5e(e,HPe(l,e))}else{if(!Fr[d])return i?e:{};l=eke(e,d,c)}}o||(o=new Bw);var f=o.get(e);if(f)return f;o.set(e,l),hke(e)?e.forEach(function(g){l.add(Fw(g,t,r,g,e,o))}):ske(e)&&e.forEach(function(g,v){l.set(v,Fw(g,t,r,v,e,o))});var m=s?a?H$:nP:a?Fh:qj,p=u?void 0:m(e);return LMe(p||e,function(g,v){p&&(v=g,g=e[v]),Uj(l,v,Fw(g,t,r,v,e,o))}),l}var Y$=Fw,Bke=1,Fke=4;function Uke(e){return Y$(e,Bke|Fke)}var HE=Uke,Vke="__lodash_hash_undefined__";function Hke(e){return this.__data__.set(e,Vke),this}var Wke=Hke;function Gke(e){return this.__data__.has(e)}var qke=Gke;function g2(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new UE;++t<r;)this.add(e[t])}g2.prototype.add=g2.prototype.push=Wke;g2.prototype.has=qke;var Yke=g2;function Xke(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var $ke=Xke;function Kke(e,t){return e.has(t)}var Qke=Kke,Jke=1,Zke=2;function eDe(e,t,r,n,i,o){var l=r&Jke,c=e.length,a=t.length;if(c!=a&&!(l&&a>c))return!1;var s=o.get(e),u=o.get(t);if(s&&u)return s==t&&u==e;var d=-1,h=!0,f=r&Zke?new Yke:void 0;for(o.set(e,t),o.set(t,e);++d<c;){var m=e[d],p=t[d];if(n)var g=l?n(p,m,d,t,e,o):n(m,p,d,e,t,o);if(g!==void 0){if(g)continue;h=!1;break}if(f){if(!$ke(t,function(v,x){if(!Qke(f,x)&&(m===v||i(m,v,r,n,o)))return f.push(x)})){h=!1;break}}else if(!(m===p||i(m,p,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var X$=eDe;function tDe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var rDe=tDe;function nDe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var iDe=nDe,oDe=1,aDe=2,sDe="[object Boolean]",lDe="[object Date]",cDe="[object Error]",uDe="[object Map]",dDe="[object Number]",hDe="[object RegExp]",fDe="[object Set]",pDe="[object String]",mDe="[object Symbol]",gDe="[object ArrayBuffer]",vDe="[object DataView]",f9=ps?ps.prototype:void 0,CC=f9?f9.valueOf:void 0;function yDe(e,t,r,n,i,o,l){switch(r){case vDe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case gDe:return!(e.byteLength!=t.byteLength||!o(new m2(e),new m2(t)));case sDe:case lDe:case dDe:return Fj(+e,+t);case cDe:return e.name==t.name&&e.message==t.message;case hDe:case pDe:return e==t+"";case uDe:var c=rDe;case fDe:var a=n&oDe;if(c||(c=iDe),e.size!=t.size&&!a)return!1;var s=l.get(e);if(s)return s==t;n|=aDe,l.set(e,t);var u=X$(c(e),c(t),n,i,o,l);return l.delete(e),u;case mDe:if(CC)return CC.call(e)==CC.call(t)}return!1}var bDe=yDe,xDe=1,wDe=Object.prototype,_De=wDe.hasOwnProperty;function SDe(e,t,r,n,i,o){var l=r&xDe,c=nP(e),a=c.length,s=nP(t),u=s.length;if(a!=u&&!l)return!1;for(var d=a;d--;){var h=c[d];if(!(l?h in t:_De.call(t,h)))return!1}var f=o.get(e),m=o.get(t);if(f&&m)return f==t&&m==e;var p=!0;o.set(e,t),o.set(t,e);for(var g=l;++d<a;){h=c[d];var v=e[h],x=t[h];if(n)var y=l?n(x,v,h,t,e,o):n(v,x,h,e,t,o);if(!(y===void 0?v===x||i(v,x,r,n,o):y)){p=!1;break}g||(g=h=="constructor")}if(p&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof w=="function"&&w instanceof w)&&(p=!1)}return o.delete(e),o.delete(t),p}var EDe=SDe,ADe=1,p9="[object Arguments]",m9="[object Array]",px="[object Object]",CDe=Object.prototype,g9=CDe.hasOwnProperty;function MDe(e,t,r,n,i,o){var l=ic(e),c=ic(t),a=l?m9:o1(e),s=c?m9:o1(t);a=a==p9?px:a,s=s==p9?px:s;var u=a==px,d=s==px,h=a==s;if(h&&p2(e)){if(!p2(t))return!1;l=!0,u=!1}if(h&&!u)return o||(o=new Bw),l||j$(e)?X$(e,t,r,n,i,o):bDe(e,t,a,r,n,i,o);if(!(r&ADe)){var f=u&&g9.call(e,"__wrapped__"),m=d&&g9.call(t,"__wrapped__");if(f||m){var p=f?e.value():e,g=m?t.value():t;return o||(o=new Bw),i(p,g,r,n,o)}}return h?(o||(o=new Bw),EDe(e,t,r,n,i,o)):!1}var TDe=MDe;function $$(e,t,r,n,i){return e===t?!0:e==null||t==null||!mu(e)&&!mu(t)?e!==e&&t!==t:TDe(e,t,r,n,$$,i)}var PDe=$$;function kDe(e,t){return e!=null&&t in Object(e)}var DDe=kDe;function jDe(e,t,r){t=o0(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var l=VE(t[n]);if(!(o=e!=null&&r(e,l)))break;e=e[l]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&Vj(i)&&Bj(l,i)&&(ic(e)||Wj(e)))}var IDe=jDe;function ODe(e,t){return e!=null&&IDe(e,t,DDe)}var RDe=ODe,LDe=function(){return al.Date.now()},MC=LDe,zDe="Expected a function",NDe=Math.max,BDe=Math.min;function FDe(e,t,r){var n,i,o,l,c,a,s=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(zDe);t=WN(t)||0,nl(r)&&(u=!!r.leading,d="maxWait"in r,o=d?NDe(WN(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function f(_){var S=n,E=i;return n=i=void 0,s=_,l=e.apply(E,S),l}function m(_){return s=_,c=setTimeout(v,t),u?f(_):l}function p(_){var S=_-a,E=_-s,C=t-S;return d?BDe(C,o-E):C}function g(_){var S=_-a,E=_-s;return a===void 0||S>=t||S<0||d&&E>=o}function v(){var _=MC();if(g(_))return x(_);c=setTimeout(v,p(_))}function x(_){return c=void 0,h&&n?f(_):(n=i=void 0,l)}function y(){c!==void 0&&clearTimeout(c),s=0,n=a=i=c=void 0}function b(){return c===void 0?l:x(MC())}function w(){var _=MC(),S=g(_);if(n=arguments,i=this,a=_,S){if(c===void 0)return m(a);if(d)return clearTimeout(c),c=setTimeout(v,t),f(a)}return c===void 0&&(c=setTimeout(v,t)),l}return w.cancel=y,w.flush=b,w}var Jj=FDe;function UDe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var VDe=UDe;function HDe(e,t){return t.length<2?e:R$(e,kPe(t,0,-1))}var WDe=HDe;function GDe(e,t){return PDe(e,t)}var K$=GDe;function qDe(e,t){return t=o0(t,e),e=WDe(e,t),e==null||delete e[VE(VDe(t))]}var YDe=qDe;function XDe(e){return TPe(e)?void 0:e}var $De=XDe,KDe=1,QDe=2,JDe=4,ZDe=z$(function(e,t){var r={};if(e==null)return r;var n=!1;t=E$(t,function(o){return o=o0(o,e),n||(n=o.length>1),o}),K1(e,H$(e),r),n&&(r=Y$(r,KDe|QDe|JDe,$De));for(var i=t.length;i--;)YDe(r,t[i]);return r}),sP=ZDe;function eje(e,t,r,n){if(!nl(e))return e;t=o0(t,e);for(var i=-1,o=t.length,l=o-1,c=e;c!=null&&++i<o;){var a=VE(t[i]),s=r;if(a==="__proto__"||a==="constructor"||a==="prototype")return e;if(i!=l){var u=c[a];s=n?n(u,a,c):void 0,s===void 0&&(s=nl(u)?u:Bj(t[i+1])?[]:{})}Uj(c,a,s),c=c[a]}return e}var tje=eje;function rje(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var l=t[n],c=R$(e,l);r(c,l)&&tje(o,o0(l,e),c)}return o}var nje=rje;function ije(e,t){return nje(e,t,function(r,n){return RDe(e,n)})}var oje=ije,aje=z$(function(e,t){return e==null?{}:oje(e,t)}),iu=aje,sje="Expected a function";function lje(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(sje);return nl(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Jj(e,t,{leading:n,maxWait:t,trailing:i})}var cje=lje;function uje(e){for(let t of Object.keys(e))e[t]===void 0&&delete e[t];return e}function gu(e,t){return Object.setPrototypeOf(e,t),e}var dje=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes(" electron/"),hje=()=>typeof window>"u"?!1:window.navigator.platform.toUpperCase().includes("MAC"),fje=()=>typeof window>"u"?!1:/iPad|iPhone|iPod/.test(window.navigator.userAgent)||WE&&"ontouchend"in document,pje=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,mje=()=>typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0,gje=()=>{if(typeof window>"u")return!1;let e=navigator.userAgent,t=navigator.vendor;return/Safari/i.test(e)&&/Apple Computer/.test(t)},vje=()=>{if(typeof window>"u")return null;let e=navigator.userAgent.match(/Version\/(\d+\.\d)/);return e&&e[1]},yje=()=>{if(typeof window>"u")return;let e=new URLSearchParams(window.location.search).get("desktop-app-version");return e?(window.localStorage.setItem("desktop-app-version",e),e):window.localStorage.getItem("desktop-app-version")??"0.0.6"},bje=dje();bje&&yje();var WE=hje(),Zj=fje(),xje=pje(),ya=mje(),v9=gje(),y9=Number(vje());function Q$(e){return Array.isArray(e)?e:[e]}function wje(e,t){let r=0;for(;r<e.length&&r<t.length;){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1;r+=1}return r!==t.length?-1:r!==e.length?1:0}function mx(e){return WE?e.metaKey:e.ctrlKey}var Mt=[],v2={},Tv={},Uw={};function J$(e){Mt.includes(e)||Mt.push(e)}function Im(e){delete v2[e.pointerId];for(let t=0;t<Mt.length;t++)if(Mt[t].pointerId===e.pointerId){Mt.splice(t,1);break}}function _je(){Mt.splice(0,Mt.length)}function y2(e){if(e.pointerType!=="touch")return;let t=v2[e.pointerId];t===void 0&&(t={x:0,y:0},v2[e.pointerId]=t),t.x=e.pageX,t.y=e.pageY}function TC(e){let t=e.pointerId===Mt[0].pointerId?Mt[1]:Mt[0];return v2[t.pointerId]}function Z$(e){Tv[e.key]=!0,Uw[e.key]=Uw[e.key]===void 0?1:Uw[e.key]+1}function eK(e){if(WE&&Tv.Meta)for(let t in Tv)Tv[t]=!1;else Tv[e.key]=!1;Uw={}}function Sje(e){e.addEventListener("pointerdown",J$,!0),e.addEventListener("pointerdown",y2,!0),e.addEventListener("pointermove",y2,!0),e.addEventListener("pointerup",Im,!0),e.addEventListener("pointercancel",Im,!0),e.addEventListener("pointerleave",Im,!0),window.addEventListener("keydown",Z$,!0),window.addEventListener("keyup",eK,!0)}function Eje(e){e.removeEventListener("pointerdown",J$,!0),e.removeEventListener("pointerdown",y2,!0),e.removeEventListener("pointermove",y2,!0),e.removeEventListener("pointerup",Im,!0),e.removeEventListener("pointercancel",Im,!0),e.removeEventListener("pointerleave",Im,!0),window.removeEventListener("keydown",Z$,!0),window.removeEventListener("keyup",eK,!0)}var tK,Aje=new Promise(e=>{tK=e}),gx;function Cje(){if(gx)return gx;async function e(){let t="https://unpkg.com/@splinetool/navmesh-wasm@0.9.526/build",r=U1(()=>import("./navmesh-BFd9Mv4x.js"),[]),[n,i]=await Promise.all([r,fetch(`${t}/navmesh.wasm`).then(c=>c.arrayBuffer())]),o=n.default,l=await o({wasmBinary:i});tK(l)}return gx=e(),gx}var rK,Mje=new Promise(e=>{rK=e}),vx;function Tje(){if(vx)return vx;async function e(){let t=await U1(()=>import("./physics-BM4kW-A5.js"),[]);await t.init(),rK(t)}return vx=e(),vx}var $t=class{modifyById(e,t){let r=this;if(r[e]===void 0)throw new Error("not expected");{let n={...r,[e]:t};return Object.setPrototypeOf(n,$t.prototype),n}}add(e,t){var r;return((r=this.runOp({type:1,id:e,data:t}))==null?void 0:r.data)??this}runOp(e){let t=this;if(e.type===1){let r=t[e.id],n;r===void 0?n={type:2,id:e.id}:n={type:1,id:e.id,data:r};let{id:i,data:o}=e,l={...t,[i]:o};return Object.setPrototypeOf(l,$t.prototype),{data:l,actual:e,reverse:n}}else if(e.type===2){let{id:r}=e,n=t[r];if(n===void 0)return null;{let i={...t};return Object.setPrototypeOf(i,$t.prototype),delete i[r],{data:i,actual:e,reverse:{type:1,id:r,data:n}}}}return null}};function e6(e){if(e.deepFreeze!==void 0){e.deepFreeze(e);return}let t=Object.getOwnPropertyNames(e);for(let r of t){let n=e[r];n&&typeof n=="object"&&e6(n)}return Object.freeze(e)}function Pje(e,t){let r=0;for(;r<e.length&&r<t.length;){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1;r+=1}return r!==t.length?-1:r!==e.length?1:0}var nK=class extends Error{};function PC(e){let t={...e};return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}function dd(e,t,r){if(e===void 0?t===void 0?(e=0,t=10):e=t-10:t===void 0&&(t=e+10),e>t){let o=e;e=t,t=o}let n=[],i=1/(r+1);for(let o=0;o<r;o++){let l=e+(t-e)*(o+.75+Math.random()*.5)*i;n.push(l)}return n}function t6(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array}function kje(){return typeof process<"u"}function iK(e,t){for(let r of e)t(r.id,r.data)!==!0&&iK(r.children,t)}function oK(e,t){if(t(e.id,e.data)!==!0)for(let r of e.children)oK(r,t)}var qo=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,qo.prototype)}deepFreeze(){let e=0;for(;e<this.length;)e6(this[e]),e++}fillCaches0(e,t){this.objCaches.set(e.id,e),this.parentCaches.set(e.id,t);for(let r of e.children)this.fillCaches0(r,e.id)}fillCaches(){if(this.objCaches===void 0){this.objCaches=new Map,this.parentCaches=new Map;for(let e of this)this.fillCaches0(e,null)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(e.length!==0)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}nonExistOrDescendantOf(e,t){if(!this.has(e))return!0;for(;e;){let r=this.parent(e);if(r===t)return!0;e=r}return!1}rootAcestor(e){for(;e;){let t=this.parent(e);if(t)e=t;else return e}return e}isDescendantOf(e,t){for(;e;){let r=this.parent(e);if(r===t)return!0;e=r}return!1}data(e){var t;return(t=this.get(e))==null?void 0:t.data}has(e){return this.childrenOf(e)!==void 0}get(e){return this.fillCaches(),this.objCaches.get(e)}childrenOf(e){var t;return e===null?this:(t=this.get(e))==null?void 0:t.children}traverseFrom(e,t){if(e===null)this.traverse(t);else{let r=this.get(e);r&&oK(r,t)}}traverse(e){iK(this,e)}totalSize(){return this.fillCaches(),this.objCaches.size}parent(e){return this.fillCaches(),this.parentCaches.get(e)}childrenArray(e){return e===null?this:this.get(e).children}modifyById(e,t){if(this.get(e)===void 0)throw new Error("not expected");{let r=this.parent(e),n=this.childrenArray(r),i=n.findIndex(l=>l.id===e);if(i<0)throw new Error("not expected");let o=n[i];return n=[...n],n[i]={...o,data:t},this.modifyArrayBy(r,n)}}modifyArrayBy(e,t){let r=e,n=t;for(;r!==null;){let o=n,l=r;if(r=this.parent(r),r===void 0)throw new Error;n=this.childrenArray(r);let c=n.findIndex(a=>a.id===l);if(c<0)throw new Error;n=[...n],n[c]={...n[c],children:o}}Object.setPrototypeOf(n,qo.prototype);let i=n;return i.fillCaches(),i}runOp(e){switch(e.type){case 7:return this.addOp(e);case 8:return this.deleteOp(e);case 9:return this.moveOp(e)}return null}checkDuplicatedIdRec({id:e,children:t}){if(this.get(e)!==void 0)return!0;for(let r of t)if(this.checkDuplicatedIdRec(r))return!0;return!1}addOp(e){let{parent:t,fi:r,id:n,data:i,children:o}=e;if(t!==null&&this.get(t)===void 0||this.checkDuplicatedIdRec(e))return null;{let l=t,c=this.childrenArray(l),a={fi:r,id:n,data:i,children:o};return c=[...c,a],c.sort((s,u)=>s.fi-u.fi),e.localIndex=c.indexOf(a),{data:this.modifyArrayBy(l,c),actual:e,reverse:{type:8,id:n}}}}deleteOp(e){let{id:t}=e;if(this.get(t)===null)return null;{let r=this.parent(t);if(r===void 0)return null;let n=this.childrenArray(r),i=n.findIndex(l=>l.id===t);e.localIndex=i,n=[...n];let o=n.splice(i,1)[0];return{data:this.modifyArrayBy(r,n),actual:e,reverse:{type:7,...o,parent:r}}}}moveOp(e){let{parent:t,fi:r,id:n}=e;if(t!==null&&this.get(t)===void 0)return this.deleteOp({type:8,id:n});if(t!==null){let d=t;for(;d!==null;){if(d===void 0)throw new Error;if(d===n)throw new nK("cyclic tree");d=this.parent(d)}}let i=this.parent(n);if(i===void 0)return null;let o=i,l=this.childrenArray(i),c=l.findIndex(d=>d.id===n);l=[...l];let a=l.splice(c,1)[0],s=this.modifyArrayBy(i,l);i=t,l=s.childrenArray(i);let u=a.fi;return a={...a,fi:r},l=[...l,a],l.sort((d,h)=>d.fi-h.fi),e.localIndex=l.indexOf(a),s=s.modifyArrayBy(i,l),{data:s,actual:e,reverse:{type:9,parent:o,fi:u,id:n}}}previous(e,t){if(t===null){let n=this.childrenArray(e);return n.length===0?null:n[n.length-1].id}let r=null;for(let n of this.childrenArray(e)){if(n.id===t)return r;r=n.id}return null}traverseSortNext(e){let t=this.parent(e);if(t!==void 0){let r=this.childrenArray(t),n=r.findIndex(i=>i.id===e)+1;if(n<r.length)return r[n].id;if(t)return this.traverseSortNext(t)}}sortNext(e){let t=this.childrenArray(e);return t.length>0?t[0].id:this.traverseSortNext(e)}traverseSortPrevious(e){let t=this.childrenArray(e);return t.length>0?this.traverseSortPrevious(t[t.length-1].id):e}sortPrevious(e){let t=this.parent(e);if(t!==void 0){let r=this.childrenArray(t),n=r.findIndex(i=>i.id===e)-1;return n>=0?this.traverseSortPrevious(r[n].id):t}}getAllSorted(e){let t=[];for(let r of e){let n=this.getWithSortKey(r.id);n!==void 0&&t.push({...r,...n})}t.sort((r,n)=>Pje(r.sortKey,n.sortKey));for(let r of t)delete r.sortKey;return t}getWithSortKey(e){var t=e;let r=[],n=this.get(t),i=n;if(n!==void 0){for(;t;)r.splice(0,0,n.fi),t=this.parent(t),t!==null&&(n=this.get(t));return{...i,sortKey:r}}}insertBeforeHelper(e,t,r){return this.insertAfterHelper(e,this.previous(e,t),r)}insertAfterHelper(e,t,r){let n=this.childrenArray(e);if(t===null){if(n.length===0)return dd(0,r,r);{let i=n[0].fi;return dd(i-r,i,r)}}else{let i=this.get(t);if(i===void 0||this.parent(t)!==e)throw new Error("illegal args");let o=n.find(l=>l.fi>i.fi);if(o===void 0){let l=n[n.length-1].fi;return dd(l,l+r,r)}else return dd(i.fi,o.fi,r)}}},b2;(e=>{function t(r,n){if(n.type!==0)return null;if(Array.isArray(r)){let i=n.props,o={},l=[...r],c=!1;if(i)for(let a of Object.keys(i)){let s=parseInt(a);if(isNaN(s))throw new Error("wrong index");o[a]=l[s],l[s]=i[a],c=!0}return c?{data:l,actual:n,reverse:{type:0,props:o}}:null}else{let i=n.props,o={},l={...r},c=!1;if(i)for(let a of Object.keys(i)){o[a]=l[a];let s=i[a];s===void 0?delete l[a]:l[a]=s,c=!0}return c?{data:l,actual:n,reverse:{type:0,props:o}}:null}}e.runOp=t})(b2||(b2={}));var At=class extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,At.prototype)}deepFreeze(){let t=0;for(;t<this.length;)e6(this[t]),t++}fillCaches0(t){this.objCaches.set(t.id,t)}fillCaches(){if(this.objCaches===void 0){this.objCaches=new Map,Object.getOwnPropertyDescriptor(this,"objCaches").enumerable=!1;for(let t of this)this.fillCaches0(t)}}randomId(){this.fillCaches();let t=Array.from(this.objCaches.keys());if(t.length!==0)return t[Math.max(0,Math.floor(Math.random()*t.length)-1)]}data(t){var r;return(r=this.get(t))==null?void 0:r.data}get(t){return this.fillCaches(),this.objCaches.get(t)}modifyById(t,r){if(this.get(t)===void 0)throw new Error("not expected");{let n=this,i=n.findIndex(l=>l.id===t);if(i<0)throw new Error("not expected");let o=n[i];return n=[...n],n[i]={...o,data:r},this.modifyArrayBy(n)}}modifyArrayBy(t){Object.setPrototypeOf(t,At.prototype);let r=t;return kje()||r.fillCaches(),r}runOp(t){switch(t.type){case 4:return this.addOp(t);case 5:return this.deleteOp(t);case 6:return this.moveOp(t)}return null}addOp(t){let{fi:r,id:n,data:i}=t,o=this,l={fi:r,id:n,data:i};return o=[...o,l],o.sort((c,a)=>c.fi-a.fi),t.localIndex=o.indexOf(l),{data:this.modifyArrayBy(o),actual:t,reverse:{type:5,id:n}}}deleteOp(t){let{id:r}=t,n=this,i=n.findIndex(l=>l.id===r);if(i===-1)return null;t.localIndex=i,n=[...n];let o=n.splice(i,1)[0];return{data:this.modifyArrayBy(n),actual:t,reverse:{type:4,...o}}}moveOp(t){let{fi:r,id:n}=t,i=this;i=[...i];let o=i.findIndex(a=>a.id===n);if(o===-1)return null;let l=i[o].fi,c={...i[o],fi:r};return i[o]=c,i.sort((a,s)=>a.fi-s.fi),t.localIndex=i.indexOf(c),{data:this.modifyArrayBy(i),actual:t,reverse:{type:6,fi:l,id:n}}}previous(t){if(t===null)return this.length===0?null:this[this.length-1].id;let r=null;for(let n of this){if(n.id===t)return r;r=n.id}return null}insertBeforeHelper(t,r){return this.insertAfterHelper(this.previous(t),r)}insertAfterHelper(t,r){let n=this;if(t===null){if(n.length===0)return dd(0,r,r);{let i=n[0].fi;return dd(i-r,i,r)}}else{let i=this.get(t);if(i===void 0)throw new Error("illegal args");let o=n.find(l=>l.fi>i.fi);if(o===void 0){let l=n[n.length-1].fi;return dd(l,l+r,r)}else return dd(i.fi,o.fi,r)}}};function bg(e){return e&&typeof e=="object"&&e instanceof ci}var ci=class{unusedFunOverridesTable(e){}runOp(e){let t=[],r=this,n=0,i={};for(;n<e.path.length;){if(t.push(r),r=r===void 0?void 0:r[e.path[n]],r!==void 0&&!bg(r))return null;n+=1}r=r?PC(r):new ci;for(let[c,a]of Object.entries(e.props)){let s=r[c];i[c]=s,a===void 0?delete r[c]:r[c]=a}for(;n>0;){if(Object.keys(r).length===0){let c=t[n-1];c&&(r=PC(c),delete r[e.path[n-1]])}else{let c=t[n-1];if(c){let a=PC(c);a[e.path[n-1]]=r,r=a}else{let a=new ci;a[e.path[n-1]]=r,r=a}}n-=1}let o=Object.setPrototypeOf(r,ci.prototype),l={...e,props:i};return{data:o,actual:e,reverse:l}}},Dd;(e=>{function t(i,o){return a1(i,o)??i}e.apply=t;function r(i,o){return n6(i,o)}e.merge=r;function n(i,o){let l=0,c=o.path,a=i;for(;l<c.length&&a!==void 0;){if(a=fo.zoomOnce(a,c[l]),a===void 0)return o;if(!bg(a))return;l+=1}if(a===void 0)return o;if(bg(a))if(o.type===0){let s={...o.props};for(let u of Object.keys(a))delete s[u];return{...o,props:s}}else if(o.type===1||o.type===4||o.type===7){let s=r6([o],a);return s?(console.log(s),s):o}else return o}e.filterOp=n})(Dd||(Dd={}));function r6(e,t){if(t===void 0)return;let r=!1,n=e.map(i=>{let o=i.id,l=a1(i.data,t[o]);if(r=r||l!==void 0,l===void 0&&(l=i.data),i.children){let c=r6(i.children,t);return c!==void 0?r=!0:c=i.children,{...i,id:o,data:l,children:c}}else return{...i,id:o,data:l}});if(r)return n}function Dje(e,t){if(t===void 0)return;let r=!1,n=e.map(i=>{let o=i.id,l=a1(i.data,t[o]);return r=r||l!==void 0,l===void 0&&(l=i.data),{...i,id:o,data:l}});if(r)return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}function a1(e,t){if(!bg(t))return t;if(e instanceof qo){let r=r6(e,t);return r!==void 0&&Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r}else{if(e instanceof At)return Dje(e,t);if(Array.isArray(e)){let r=!1,n=e.map((i,o)=>{let l=a1(i,t[o]);return r=r||l!==void 0,l===void 0&&(l=i),l});return r?(Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n):void 0}else{if(e instanceof ci)return n6(e,t);if(e&&typeof e=="object"){let r={},n=!1;for(let[i,o]of Object.entries(e)){let l=a1(o,t[i]);n=n||l!==void 0,l===void 0&&(l=o),r[i]=l}return n?(Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r):void 0}}}}function n6(e,t){if(e===void 0)return t;if(t===void 0)return e;if(!bg(t))return t;if(!bg(e))return Dd.apply(e,t);let r=new Set;for(let i of Object.keys(e))r.add(i);for(let i of Object.keys(t))r.add(i);let n=new ci;for(let i of r){let o=n6(e===void 0?void 0:e[i],t===void 0?void 0:t[i]);n[i]=o}return n}function jje(e,t){let r={cur:[],result:[],len:0};return e=s1(e,t,r)??e,[e,r.result]}function x2(e,t){return e===null?null:(e.cur[e.len]=t,e.len+=1,e)}function w2(e){e&&(e.len-=1)}function Ije(e){if(e===null)return null;e.result.push(e.cur.slice(0,e.len))}function aK(e,t,r){let n=!1,i=e.map(o=>{let l=o.id,c=t[l];if(c!==void 0&&typeof c=="string"&&(n=!0,l=c,r!==null))throw new Error("not supported");let a=s1(o.data,t,x2(r,l));w2(r),n=n||a!==void 0,a===void 0&&(a=o.data);let s=aK(o.children,t,r);return s!==void 0?n=!0:s=o.children,{...o,id:l,data:a,children:s}});if(n)return i}function Oje(e,t,r){let n=!1,i=e.map(o=>{let l=o.id,c=t[l];if(c!==void 0&&typeof c=="string"&&(n=!0,l=c,r!==null))throw new Error("not supported");let a=s1(o.data,t,x2(r,l));return w2(r),n=n||a!==void 0,a===void 0&&(a=o.data),{...o,id:l,data:a}});if(n)return Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i}function s1(e,t,r){if(e instanceof qo){let n=aK(e,t,r);return n!==void 0&&Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}else{if(e instanceof At)return Oje(e,t,r);if(Array.isArray(e)){let n=!1,i=e.map((o,l)=>{let c=s1(o,t,x2(r,l));return w2(r),n=n||c!==void 0,c===void 0&&(c=o),c});return n?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}else if(e&&typeof e=="object"&&!t6(e)){let n={},i=!1;for(let[o,l]of Object.entries(e))if(o!=="name"){let c=t[o];if(typeof c=="string"){if(r!==null)throw new Error("not supported");i=!0,o=c}let a=s1(l,t,x2(r,o));w2(r),i=i||a!==void 0,a===void 0&&(a=l),n[o]=a}else n[o]=l;return i?(Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n):void 0}else if(typeof e=="string"){let n=t[e];return n!==void 0&&Ije(r),n}else return}}var lP;(e=>{function t(r,n){let i=fo.zoom(n,r.path);if(typeof i=="object"){let o={};for(let l of Object.keys(r.props))o[l]=i[l];return{...r,props:o}}else return{...r,props:{}}}e.replaceProps=t})(lP||(lP={}));var qi;(e=>{function t(a,s){return{...a,path:a.path.slice(s)}}e.drop=t;function r(a,s){var u;return((u=n(a,s))==null?void 0:u.data)??a}e.applySimple=r;function n(a,s){var h,f;let u=s.path;for(var d=[];;){let m;if(a instanceof ci&&s.type===0&&(m=a.runOp({...s,path:u.slice(d.length)}),m===null&&(m=void 0)),m===void 0&&d.length===u.length&&(a instanceof qo||a instanceof At||a instanceof $t?m=a.runOp(s):m=b2.runOp(a,s)),m!==void 0)if(m!==null){let v=m.data;for(let x=d.length-1;x>=0;x--){let y=u[x],b=d[x];if(b instanceof qo){if(typeof y=="number")throw new Error("illegal arg");v=b.modifyById(y,v)}else if(b instanceof At){if(typeof y=="number")throw new Error("illegal arg");v=b.modifyById(y,v)}else if(b instanceof $t){if(typeof y=="number")throw new Error("illegal arg");v=b.modifyById(y,v)}else if(b instanceof ci){let w={...b,[y]:v};v=Object.setPrototypeOf(w,ci.prototype)}else if(typeof b=="object")if(Array.isArray(b)){if(typeof y=="string"&&(y=parseInt(y),isNaN(y)))throw new Error("Invalid path");let w=v;v=[...b],v[y]=w}else v={...b,[y]:v};else return null}return{data:v,actual:{...m.actual,path:u},reverse:{...m.reverse,path:u}}}else return null;let p=u[d.length],g;if(a instanceof qo){if(typeof p=="number")throw new Error("");g=(h=a.get(p))==null?void 0:h.data}else if(a instanceof At){if(typeof p=="number")throw new Error("");g=(f=a.get(p))==null?void 0:f.data}else a!==null&&(g=a[p]);if(g!==void 0)d.push(a),a=g;else return null}}e.apply=n;function i(a,s){for(let u=0;u<a.length&&u<s.length;u++)if(a[u]!==s[u])return!0;return!1}e.pathDisjoint=i;function o(a,s){if(a.length!==s.length)return!1;for(let u=0;u<a.length;u++)if(a[u]!==s[u])return!1;return!0}e.pathEq=o;function l(a,s){return i(a.path,s.path)}e.commutative=l;function c(a,s){return a.type===0&&s.type===0&&o(a.path,s.path)?Object.keys(a.props).every(u=>s.props[u]!==void 0):!1}e.subsumed=c})(qi||(qi={}));var cP;(e=>{function t(){return[]}e.empty=t;function r(s,u){let d=[];for(let h of s){let[f,...m]=h.path;f===u&&d.push({...h,path:m})}return d}e.removePrefix=r;function n(s,u){return s.map(d=>({...d,path:[u,...d.path]}))}e.addPrefix=n;function i(s,u){return[...s,...u]}e.concat=i;function o(s,u){return[...s.filter(d=>!u.some(h=>qi.subsumed(d,h))),...u]}e.compress=o;function l(s,u){return s.every(d=>u.every(h=>qi.commutative(d,h)))}e.commutative=l;function c(s,u){for(let d of u){let h=a(s,d);h!==null&&(s=h.data)}return s}e.applyAll=c;function a(s,u){var d=s;let h=[],f=[];for(let m of u)try{if(m.type===3||m.type===5&&m.path[m.path.length-1]==="variables"){let p,g,v;if(m.type===3?(p=fo.zoom(d,[...m.path,m.id]),v=qi.apply(d,{...m,type:2})):(p=fo.zoom(d,[...m.path,m.id,"value"]),v=qi.apply(d,m)),v!==null){d=v.data;let[x,y]=jje(d,{[m.id]:p});d=x;for(let b=0;b<y.length;b++){let w=y[b],_=w.pop();if(typeof _=="number"){let S=[_];for(let C=b+1;C<y.length;C++){let A=y[C],T=A[A.length-1];if(typeof T=="number"&&fo.equal(w,A.slice(0,A.length-1)))S.push(T),y.splice(C,1);else break}let E=fo.zoom(d,w);g=E.map((C,A)=>S.includes(A)?m.id:C),p=E,_=w.pop()}else{if(_==="alphaOverride"||_==="alpha"){p/=100;let S=p,E=fo.zoom(d,w.slice(0,w.length-2)),C=E.layers.map(A=>A.id===w[w.length-1]?{...A,data:{...A.data,[_]:S}}:A);Object.setPrototypeOf(C,Object.getPrototypeOf(E.layers)),E.layers=C}g=m.id}h.push({type:0,path:w,props:{[_]:p}}),f.push({type:0,path:w,props:{[_]:g}})}f.push(v.reverse),h.push(v.actual)}}else{let p=qi.apply(d,m);p!==null&&(h.push(p.actual),d=p.data,f.push(p.reverse))}}catch(p){if(p instanceof nK)return null;throw p}return{data:d,actual:h,reverse:f.reverse()}}e.apply=a})(cP||(cP={}));var sK=Symbol(),Rje=Symbol(),GE=Symbol(),Q1=class{reportOp(e,t,r=[]){let n=this;if(t===null)return;n._current=t.data;let i=r;for(;!(n instanceof cK);){let o=n._path,l=n._current;if(o!==""&&i.splice(0,0,o),n=n._parent,n===null)return;n.update(o,l)}n.push(i,e,t.actual,t.reverse)}deleteChildren(e){if(this._children){let t=this._children[e];if(t){let r=t[GE];r&&r(),delete this._children[e]}}}},Lje=class extends Q1{constructor(e,t,r){super(),this._parent=e,this._path=t,this._current=r}update(e,t){if(Array.isArray(this._current)){if(typeof e=="string"&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid path");this._current=[...this._current],this._current[e]=t}else this._current={...this._current,[e]:t}}runOp(e){this.reportOp(e,b2.runOp(this._current,e),e.path)}},zje=class extends Q1{constructor(e,t,r){super(),this._parent=e,this._path=t,this._current=r}update(e,t){this._current={...this._current,[e]:t},Object.setPrototypeOf(this._current,$t.prototype)}runOp(e){this.reportOp(e,this._current.runOp(e))}},lK={get(e,t){if(t===GE)return()=>{e._parent=null};if(t===sK)return e._current;if(t===Rje)return e;let{_current:r,_children:n}=e;if(t==="push"&&Array.isArray(r))throw new Error("not supported to expand array");let i=n===void 0?void 0:n[t];if(i!==void 0)return i;let o=r[t],l=qE(e,t,o);return l!==o?(n===void 0&&(n={},e._children=n),n[t]=l,l):o},has(e,t){return t in e._current},ownKeys(e){return Reflect.ownKeys(e._current)},defineProperty(){throw Error("not supported")},getPrototypeOf(e){return Object.getPrototypeOf(e._current)},setPrototypeOf(){throw Error("not supported")},getOwnPropertyDescriptor(e,t){let r=e._current,n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:!0,enumerable:n.enumerable,value:r[t]}}},Nje={...lK,set(e,t,r){let n={type:0,props:{[t]:Jn(r)??r}};return e.deleteChildren(t),e.runOp(n),!0},deleteProperty(e,t){let r={type:0,props:{[t]:void 0}};return e.deleteChildren(t),e.runOp(r),!0}},Bje={...lK,set(e,t,r){return r===void 0?this.deleteProperty(e,t):(e.deleteChildren(t),e.runOp({type:1,id:t,data:r})),!0},deleteProperty(e,t){return e.runOp({type:2,id:t}),!0}},i6=class extends Q1{constructor(e,t,r){super(),this._children={},this._parent=e,this._path=t,this._current=r,this[GE]=()=>{this._parent=null}}unproxy(){return this._current}update(e,t){this._current=this._current.modifyById(e,t)}runOp(e){this.reportOp(e,this._current.runOp(e))}randomId(){return this._current.randomId()}isDescendantOf(e,t){return this._current.isDescendantOf(e,t)}childrenOf(e){return this._current.childrenOf(e)}traverse(e){return this._current.traverse(e)}get(e){return this._current.get(e)}parent(e){return this._current.parent(e)}traverse(e){this._current.traverse((t,r)=>{e(t,this.data(t))})}data(e){var l;let{_current:t,_children:r}=this,n=r===void 0?void 0:r[e];if(n!==void 0)return n;let i=(l=t.get(e))==null?void 0:l.data,o=qE(this,e,i);return o!==i?(r===void 0&&(r={},this._children=r),r[e]=o,o):i}add(e,t,r,n,i){this.runOp({type:7,parent:e,fi:t,id:r,data:n,children:i})}move(e,t,r){this.runOp({type:9,parent:e,fi:t,id:r})}insertAfter(e,t,r){let n=this._current.insertAfterHelper(e,t,r.length);for(let i=0;i<r.length;i++){let o=r[i];this.add(e,n[i],o.id,o.data,o.children)}}insertBefore(e,t,r){let n=this._current.insertBeforeHelper(e,t,r.length);for(let i=0;i<r.length;i++){let o=r[i];this.add(e,n[i],o.id,o.data,o.children)}}moveAfter(e,t,r){let n=this._current.insertAfterHelper(e,t,r.length);for(let i=0;i<r.length;i++){let o=r[i];this.move(e,n[i],o)}}moveBefore(e,t,r){let n=this._current.insertBeforeHelper(e,t,r.length);for(let i=0;i<r.length;i++){let o=r[i];this.move(e,n[i],o)}}delete(e){this.deleteChildren(e),this.runOp({type:8,id:e})}sortNext(e){return this._current.sortNext(e)}sortPrevious(e){return this._current.sortPrevious(e)}getAllSorted(e){return this._current.getAllSorted(e)}},o6=class extends Q1{constructor(e,t,r){super(),this._children={},this._parent=e,this._path=t,this._current=r,this[GE]=()=>{this._parent=null}}unproxy(){return this._current}get length(){return this._current.length}forEach(e){let t=this.length;for(let r=0;r<t;r++){let n=this._current[r].id,i=this._current[r].fi;e(this.data(this._current[r].id),n,i)}}find(e){let t=this.length;for(let r=0;r<t;r++){let n=this._current[r].id;if(e(this.data(n),n))return this.get(n)}}update(e,t){this._current=this._current.modifyById(e,t)}randomId(){return this._current.randomId()}get(e){return{...this._current.get(e),data:this.data(e)}}data(e){var l;let{_current:t,_children:r}=this,n=r===void 0?void 0:r[e];if(n!==void 0)return n;let i=(l=t.get(e))==null?void 0:l.data,o=qE(this,e,i);return o!==i?(r===void 0&&(r={},this._children=r),r[e]=o,o):i}runOp(e){this.reportOp(e,this._current.runOp(e))}add(e,t,r){this.runOp({type:4,fi:e,id:t,data:r})}move(e,t){this.runOp({type:6,fi:e,id:t})}insertAfter(e,t){let r=this._current.insertAfterHelper(e,t.length);for(let n=0;n<t.length;n++){let i=t[n];this.add(r[n],i.id,i.data)}}insertBefore(e,t){let r=this._current.insertBeforeHelper(e,t.length);for(let n=0;n<t.length;n++){let i=t[n];this.add(r[n],i.id,i.data)}}moveAfter(e,t){let r=this._current.insertAfterHelper(e,t.length);for(let n=0;n<t.length;n++){let i=t[n];this.move(r[n],i)}}moveBefore(e,t){let r=this._current.insertBeforeHelper(e,t.length);for(let n=0;n<t.length;n++){let i=t[n];this.move(r[n],i)}}delete(e){this.deleteChildren(e),this.runOp({type:5,id:e})}};function kC(e,t,r){if(e.length>0){let n=e[e.length-1];if(n.type===0&&t.type===0&&fo.equal(n.path,r)){Object.assign(n.props,t.props);return}}e.push({...t,path:r})}var cK=class extends Q1{constructor(e){super(),this.ts=[],this.actual=[],this.reverse=[],this._current=e}update(e,t){if(e!=="")throw new Error("");this._current=t}push(e,t,r,n){kC(this.ts,t,e),kC(this.actual,r,e),kC(this.reverse,n,e)}result(){return{data:this._current,ts:this.ts,actual:this.actual,reverse:this.reverse.reverse()}}};function qE(e,t,r){return r instanceof qo?new i6(e,t,r):r instanceof At?new o6(e,t,r):r instanceof $t?new Proxy(new zje(e,t,r),Bje):r!==null&&typeof r=="object"?t6(r)?r:new Proxy(new Lje(e,t,r),Nje):r}function uK(e){let t=new cK(e);return[qE(t,"",e),t]}function l1(e,t){let[r,n]=uK(e);return t(r),n.result()}function Jn(e){return e instanceof i6||e instanceof o6?e._current:e!==null&&typeof e=="object"?e[sK]:e}var fo;(e=>{function t(o,l){if(l.length===o.length)for(var c=0;c<o.length;){if(o[c]!==l[c])return!1;c+=1}else return!1;return!0}e.equal=t;function r(o,l,c){let a=i(c,o);if(a!==void 0&&typeof a=="object"&&a!==null){let s={...l};return Object.keys(a).forEach(u=>{delete s[u]}),s}else return l}e.removeOverridden=r;function n(o,l){if((o instanceof qo||o instanceof i6)&&typeof l=="string"||(o instanceof At||o instanceof o6)&&typeof l=="string")return o.data(l);if(typeof l=="number"&&Array.isArray(o)||typeof l=="string"&&typeof o=="object"&&o!==null)return o[l]}e.zoomOnce=n;function i(o,l,c=0){for(;c<l.length&&o!==void 0;)o=n(o,l[c]),c+=1;return o}e.zoom=i})(fo||(fo={}));function Fje(e,t){let r=[];if(t.length===e.length)for(var n=0;n<e.length;){if(t[n]==="*")r.push(e[n]);else if(e[n]!==t[n])return null;n+=1}else return null;return r}function ns(e,t){let r=[];if(t.length<=e.length)for(var n=0;n<t.length;){if(t[n]==="*")r.push(e[n]);else if(e[n]!==t[n])return null;n+=1}else return null;return r}var dK=class{},b9=class extends dK{constructor(e){super(),this.id=e}},x9=class extends dK{constructor(e){super(),this.data=e}},uP;try{uP=new TextDecoder}catch{}var lt,jd,ye=0,Lo={},mr,hd,Xa=0,Nl=0,ha,ou,_o=[],_r,w9={useRecords:!1,mapsAsObjects:!0},hK=class{},fK=new hK;fK.name="MessagePack 0xC1";var xg=!1,_2=class{constructor(e){e&&(e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,t){if(lt)return bK(()=>(hP(),this?this.unpack(e,t):_2.prototype.unpack.call(w9,e,t)));jd=t>-1?t:e.length,ye=0,Nl=0,hd=null,ha=null,lt=e;try{_r=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(r){throw lt=null,e instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof _2){if(Lo=this,this.structures)return mr=this.structures,yx();(!mr||mr.length>0)&&(mr=[])}else Lo=w9,(!mr||mr.length>0)&&(mr=[]);return yx()}unpackMultiple(e,t){let r,n=0;try{xg=!0;let i=e.length,o=this?this.unpack(e,i):XE.unpack(e,i);if(t){for(t(o);ye<i;)if(n=ye,t(yx())===!1)return}else{for(r=[o];ye<i;)n=ye,r.push(yx());return r}}catch(i){throw i.lastPosition=n,i.values=r,i}finally{xg=!1,hP()}}_mergeStructures(e,t){e=e||[];for(let r=0,n=e.length;r<n;r++){let i=e[r];i&&(i.isShared=!0,r>=32&&(i.highByte=r-32>>5))}e.sharedLength=e.length;for(let r in t||[])if(r>=0){let n=e[r],i=t[r];i&&(n&&((e.restoreStructures||(e.restoreStructures=[]))[r]=n),e[r]=i)}return this.structures=e}decode(e,t){return this.unpack(e,t)}};function yx(){try{if(!Lo.trusted&&!xg){let t=mr.sharedLength||0;t<mr.length&&(mr.length=t)}let e=xn();if(ye==jd)mr.restoreStructures&&_9(),mr=null,lt=null,ou&&(ou=null);else if(ye>jd){let t=new Error("Unexpected end of MessagePack data");throw t.incomplete=!0,t}else if(!xg)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw mr.restoreStructures&&_9(),hP(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function _9(){for(let e in mr.restoreStructures)mr[e]=mr.restoreStructures[e];mr.restoreStructures=null}function xn(){let e=lt[ye++];if(e<160)if(e<128){if(e<64)return e;{let t=mr[e&63]||Lo.getStructures&&pK()[e&63];return t?(t.read||(t.read=a6(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Lo.mapsAsObjects){let t={};for(let r=0;r<e;r++)t[gK()]=xn();return t}else{let t=new Map;for(let r=0;r<e;r++)t.set(xn(),xn());return t}else{e-=144;let t=new Array(e);for(let r=0;r<e;r++)t[r]=xn();return t}else if(e<192){let t=e-160;if(Nl>=ye)return hd.slice(ye-Xa,(ye+=t)-Xa);if(Nl==0&&jd<140){let r=t<16?s6(t):mK(t);if(r!=null)return r}return dP(t)}else{let t;switch(e){case 192:return null;case 193:return ha?(t=xn(),t>0?ha[1].slice(ha.position1,ha.position1+=t):ha[0].slice(ha.position0,ha.position0-=t)):fK;case 194:return!1;case 195:return!0;case 196:return DC(lt[ye++]);case 197:return t=_r.getUint16(ye),ye+=2,DC(t);case 198:return t=_r.getUint32(ye),ye+=4,DC(t);case 199:return lh(lt[ye++]);case 200:return t=_r.getUint16(ye),ye+=2,lh(t);case 201:return t=_r.getUint32(ye),ye+=4,lh(t);case 202:if(t=_r.getFloat32(ye),Lo.useFloat32>2){let r=l6[(lt[ye]&127)<<1|lt[ye+1]>>7];return ye+=4,(r*t+(t>0?.5:-.5)>>0)/r}return ye+=4,t;case 203:return t=_r.getFloat64(ye),ye+=8,t;case 204:return lt[ye++];case 205:return t=_r.getUint16(ye),ye+=2,t;case 206:return t=_r.getUint32(ye),ye+=4,t;case 207:return Lo.int64AsNumber?(t=_r.getUint32(ye)*4294967296,t+=_r.getUint32(ye+4)):t=_r.getBigUint64(ye),ye+=8,t;case 208:return _r.getInt8(ye++);case 209:return t=_r.getInt16(ye),ye+=2,t;case 210:return t=_r.getInt32(ye),ye+=4,t;case 211:return Lo.int64AsNumber?(t=_r.getInt32(ye)*4294967296,t+=_r.getUint32(ye+4)):t=_r.getBigInt64(ye),ye+=8,t;case 212:if(t=lt[ye++],t==114)return M9(lt[ye++]&63);{let r=_o[t];if(r)return r.read?(ye++,r.read(xn())):r.noBuffer?(ye++,r()):r(lt.subarray(ye,++ye));throw new Error("Unknown extension "+t)}case 213:return t=lt[ye],t==114?(ye++,M9(lt[ye++]&63,lt[ye++])):lh(2);case 214:return lh(4);case 215:return lh(8);case 216:return lh(16);case 217:return t=lt[ye++],Nl>=ye?hd.slice(ye-Xa,(ye+=t)-Xa):Vje(t);case 218:return t=_r.getUint16(ye),ye+=2,Nl>=ye?hd.slice(ye-Xa,(ye+=t)-Xa):Hje(t);case 219:return t=_r.getUint32(ye),ye+=4,Nl>=ye?hd.slice(ye-Xa,(ye+=t)-Xa):Wje(t);case 220:return t=_r.getUint16(ye),ye+=2,E9(t);case 221:return t=_r.getUint32(ye),ye+=4,E9(t);case 222:return t=_r.getUint16(ye),ye+=2,A9(t);case 223:return t=_r.getUint32(ye),ye+=4,A9(t);default:if(e>=224)return e-256;if(e===void 0){let r=new Error("Unexpected end of MessagePack data");throw r.incomplete=!0,r}throw new Error("Unknown MessagePack token "+e)}}}var Uje=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function a6(e,t){function r(){if(r.count++>2){let i=e.read=new Function("r","return function(){return {"+e.map(o=>Uje.test(o)?o+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}}")(xn);return e.highByte===0&&(e.read=S9(t,e.read)),i()}let n={};for(let i=0,o=e.length;i<o;i++){let l=e[i];n[l]=xn()}return n}return r.count=0,e.highByte===0?S9(t,r):r}var S9=(e,t)=>function(){let r=lt[ye++];if(r===0)return t();let n=e<32?-(e+(r<<5)):e+(r<<5),i=mr[n]||pK()[n];if(!i)throw new Error("Record id is not defined for "+n);return i.read||(i.read=a6(i,e)),i.read()};function pK(){let e=bK(()=>(lt=null,Lo.getStructures()));return mr=Lo._mergeStructures(e,mr)}var dP=YE,Vje=YE,Hje=YE,Wje=YE;function YE(e){let t;if(e<16&&(t=s6(e)))return t;if(e>64&&uP)return uP.decode(lt.subarray(ye,ye+=e));let r=ye+e,n=[];for(t="";ye<r;){let i=lt[ye++];if(!(i&128))n.push(i);else if((i&224)===192){let o=lt[ye++]&63;n.push((i&31)<<6|o)}else if((i&240)===224){let o=lt[ye++]&63,l=lt[ye++]&63;n.push((i&31)<<12|o<<6|l)}else if((i&248)===240){let o=lt[ye++]&63,l=lt[ye++]&63,c=lt[ye++]&63,a=(i&7)<<18|o<<12|l<<6|c;a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a)}else n.push(i);n.length>=4096&&(t+=mi.apply(String,n),n.length=0)}return n.length>0&&(t+=mi.apply(String,n)),t}function E9(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=xn();return t}function A9(e){if(Lo.mapsAsObjects){let t={};for(let r=0;r<e;r++)t[gK()]=xn();return t}else{let t=new Map;for(let r=0;r<e;r++)t.set(xn(),xn());return t}}var mi=String.fromCharCode;function mK(e){let t=ye,r=new Array(e);for(let n=0;n<e;n++){let i=lt[ye++];if((i&128)>0){ye=t;return}r[n]=i}return mi.apply(String,r)}function s6(e){if(e<4)if(e<2){if(e===0)return"";{let t=lt[ye++];if((t&128)>1){ye-=1;return}return mi(t)}}else{let t=lt[ye++],r=lt[ye++];if((t&128)>0||(r&128)>0){ye-=2;return}if(e<3)return mi(t,r);let n=lt[ye++];if((n&128)>0){ye-=3;return}return mi(t,r,n)}else{let t=lt[ye++],r=lt[ye++],n=lt[ye++],i=lt[ye++];if((t&128)>0||(r&128)>0||(n&128)>0||(i&128)>0){ye-=4;return}if(e<6){if(e===4)return mi(t,r,n,i);{let o=lt[ye++];if((o&128)>0){ye-=5;return}return mi(t,r,n,i,o)}}else if(e<8){let o=lt[ye++],l=lt[ye++];if((o&128)>0||(l&128)>0){ye-=6;return}if(e<7)return mi(t,r,n,i,o,l);let c=lt[ye++];if((c&128)>0){ye-=7;return}return mi(t,r,n,i,o,l,c)}else{let o=lt[ye++],l=lt[ye++],c=lt[ye++],a=lt[ye++];if((o&128)>0||(l&128)>0||(c&128)>0||(a&128)>0){ye-=8;return}if(e<10){if(e===8)return mi(t,r,n,i,o,l,c,a);{let s=lt[ye++];if((s&128)>0){ye-=9;return}return mi(t,r,n,i,o,l,c,a,s)}}else if(e<12){let s=lt[ye++],u=lt[ye++];if((s&128)>0||(u&128)>0){ye-=10;return}if(e<11)return mi(t,r,n,i,o,l,c,a,s,u);let d=lt[ye++];if((d&128)>0){ye-=11;return}return mi(t,r,n,i,o,l,c,a,s,u,d)}else{let s=lt[ye++],u=lt[ye++],d=lt[ye++],h=lt[ye++];if((s&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){ye-=12;return}if(e<14){if(e===12)return mi(t,r,n,i,o,l,c,a,s,u,d,h);{let f=lt[ye++];if((f&128)>0){ye-=13;return}return mi(t,r,n,i,o,l,c,a,s,u,d,h,f)}}else{let f=lt[ye++],m=lt[ye++];if((f&128)>0||(m&128)>0){ye-=14;return}if(e<15)return mi(t,r,n,i,o,l,c,a,s,u,d,h,f,m);let p=lt[ye++];if((p&128)>0){ye-=15;return}return mi(t,r,n,i,o,l,c,a,s,u,d,h,f,m,p)}}}}}function DC(e){return Lo.copyBuffers?Uint8Array.prototype.slice.call(lt,ye,ye+=e):lt.subarray(ye,ye+=e)}function lh(e){let t=lt[ye++];if(_o[t])return _o[t](lt.subarray(ye,ye+=e));throw new Error("Unknown extension type "+t)}var C9=new Array(4096);function gK(){let e=lt[ye++];if(e>=160&&e<192){if(e=e-160,Nl>=ye)return hd.slice(ye-Xa,(ye+=e)-Xa);if(!(Nl==0&&jd<180))return dP(e)}else return ye--,xn();let t=(e<<5^(e>1?_r.getUint16(ye):e>0?lt[ye]:0))&4095,r=C9[t],n=ye,i=ye+e-3,o,l=0;if(r&&r.bytes==e){for(;n<i;){if(o=_r.getUint32(n),o!=r[l++]){n=1879048192;break}n+=4}for(i+=3;n<i;)if(o=lt[n++],o!=r[l++]){n=1879048192;break}if(n===i)return ye=n,r.string;i-=3,n=ye}for(r=[],C9[t]=r,r.bytes=e;n<i;)o=_r.getUint32(n),r.push(o),n+=4;for(i+=3;n<i;)o=lt[n++],r.push(o);let c=e<16?s6(e):mK(e);return c!=null?r.string=c:r.string=dP(e)}var M9=(e,t)=>{var r=xn();let n=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,r.highByte=t);let i=mr[e];return i&&i.isShared&&((mr.restoreStructures||(mr.restoreStructures=[]))[e]=i),mr[e]=r,r.read=a6(r,n),r.read()},vK=typeof self=="object"?self:global;_o[0]=()=>{};_o[0].noBuffer=!0;_o[101]=()=>{let e=xn();return(vK[e[0]]||Error)(e[1])};_o[105]=e=>{let t=_r.getUint32(ye-4);ou||(ou=new Map);let r=lt[ye],n;r>=144&&r<160||r==220||r==221?n=[]:n={};let i={target:n};ou.set(t,i);let o=xn();return i.used?Object.assign(n,o):(i.target=o,o)};_o[112]=e=>{let t=_r.getUint32(ye-4),r=ou.get(t);return r.used=!0,r.target};_o[115]=()=>new Set(xn());var yK=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");_o[116]=e=>{let t=e[0],r=yK[t];if(!r)throw new Error("Could not find typed array for code "+t);return new vK[r](Uint8Array.prototype.slice.call(e,1).buffer)};_o[120]=()=>{let e=xn();return new RegExp(e[0],e[1])};_o[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],r=ye;ye+=t-4,ha=[xn(),xn()],ha.position0=0,ha.position1=0;let n=ye;ye=r;try{return xn()}finally{ye=n}};_o[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function bK(e){let t=jd,r=ye,n=Xa,i=Nl,o=hd,l=ou,c=ha,a=new Uint8Array(lt.slice(0,jd)),s=mr,u=mr.slice(0,mr.length),d=Lo,h=xg,f=e();return jd=t,ye=r,Xa=n,Nl=i,hd=o,ou=l,ha=c,lt=a,xg=h,mr=s,mr.splice(0,mr.length,...u),Lo=d,_r=new DataView(lt.buffer,lt.byteOffset,lt.byteLength),f}function hP(){lt=null,ou=null,mr=null}function Gje(e){e.unpack?_o[e.type]=e.unpack:_o[e.type]=e}var l6=new Array(147);for(let e=0;e<256;e++)l6[e]=+("1e"+Math.floor(45.15-e*.30103));var XE=new _2({useRecords:!1});XE.unpack;XE.unpackMultiple;XE.unpack;var qje=new Float32Array(1);new Uint8Array(qje.buffer,0,4);var Vw;try{Vw=new TextEncoder}catch{}var S2,c6,$E=typeof Buffer<"u",jC=$E?Buffer.allocUnsafeSlow:Uint8Array,xK=$E?Buffer:Uint8Array,T9=$E?4294967296:2144337920,Oe,Cn,Me=0,dl,hl=null,Yje=/[\u0080-\uFFFF]/,$0=Symbol("record-id"),wK=class extends _2{constructor(e){super(e),this.offset=0;let t,r,n,i,o,l=0,c=xK.prototype.utf8Write?function(_,S,E){return Oe.utf8Write(_,S,E)}:Vw&&Vw.encodeInto?function(_,S){return Vw.encodeInto(_,Oe.subarray(S)).written}:!1,a=this;e||(e={});let s=e&&e.sequential,u=e.structures||e.saveStructures,d=e.maxSharedStructures;if(d==null&&(d=u?32:0),d>8160)throw new Error("Maximum maxSharedStructure is 8160");let h=e.maxOwnStructures;h==null&&(h=u?32:64),s&&!e.saveStructures&&(this.structures=[]);let f=d>32||h+d>64,m=d+64,p=d+h+64;if(p>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let g=[],v=0,x=0;this.pack=this.encode=function(_,S){if(Oe||(Oe=new jC(8192),Cn=new DataView(Oe.buffer,0,8192),Me=0),dl=Oe.length-10,dl-Me<2048?(Oe=new jC(Oe.length),Cn=new DataView(Oe.buffer,0,Oe.length),dl=Oe.length-10,Me=0):Me=Me+7&2147483640,t=Me,o=a.structuredClone?new Map:null,a.bundleStrings?(hl=["",""],Oe[Me++]=214,Oe[Me++]=98,hl.position=Me-t,Me+=4):hl=null,r=a.structures,r){r.uninitialized&&(r=a._mergeStructures(a.getStructures()));let E=r.sharedLength||0;if(E>d)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+r.sharedLength);if(!r.transitions){r.transitions=Object.create(null);for(let C=0;C<E;C++){let A=r[C];if(!A)continue;let T,k=r.transitions;for(let D=0,M=A.length;D<M;D++){let P=A[D];T=k[P],T||(T=k[P]=Object.create(null)),k=T}k[$0]=C+64}l=E}s||(r.nextId=E+64)}n&&(n=!1),i=r||[];try{if(y(_),hl){Cn.setUint32(hl.position+t,Me-hl.position-t);let E=hl;hl=null,y(E[0]),y(E[1])}if(a.offset=Me,o&&o.idsToInsert){Me+=o.idsToInsert.length*6,Me>dl&&w(Me),a.offset=Me;let E=$je(Oe.subarray(t,Me),o.idsToInsert);return o=null,E}return S&Kje?(Oe.start=t,Oe.end=Me,Oe):Oe.subarray(t,Me)}finally{if(r){if(x<10&&x++,v>1e4)r.transitions=null,x=0,v=0,g.length>0&&(g=[]);else if(g.length>0&&!s){for(let E=0,C=g.length;E<C;E++)g[E][$0]=0;g=[]}if(n&&a.saveStructures){let E=r.sharedLength||d;r.length>E&&(r=r.slice(0,E));let C=Oe.subarray(t,Me);return a.saveStructures(r,l)===!1?(a._mergeStructures(a.getStructures()),a.pack(_)):(l=E,C)}}S&Qje&&(Me=t)}};let y=_=>{Me>dl&&(Oe=w(Me));var S=typeof _,E;if(S==="string"){let C=_.length;if(hl&&C>=8&&C<4096){let k=Yje.test(_);hl[k?0:1]+=_,Oe[Me++]=193,y(k?-C:C);return}let A;C<32?A=1:C<256?A=2:C<65536?A=3:A=5;let T=C*3;if(Me+T>dl&&(Oe=w(Me+T)),C<64||!c){let k,D,M,P=Me+A;for(k=0;k<C;k++)D=_.charCodeAt(k),D<128?Oe[P++]=D:D<2048?(Oe[P++]=D>>6|192,Oe[P++]=D&63|128):(D&64512)===55296&&((M=_.charCodeAt(k+1))&64512)===56320?(D=65536+((D&1023)<<10)+(M&1023),k++,Oe[P++]=D>>18|240,Oe[P++]=D>>12&63|128,Oe[P++]=D>>6&63|128,Oe[P++]=D&63|128):(Oe[P++]=D>>12|224,Oe[P++]=D>>6&63|128,Oe[P++]=D&63|128);E=P-Me-A}else E=c(_,Me+A,T);E<32?Oe[Me++]=160|E:E<256?(A<2&&Oe.copyWithin(Me+2,Me+1,Me+1+E),Oe[Me++]=217,Oe[Me++]=E):E<65536?(A<3&&Oe.copyWithin(Me+3,Me+2,Me+2+E),Oe[Me++]=218,Oe[Me++]=E>>8,Oe[Me++]=E&255):(A<5&&Oe.copyWithin(Me+5,Me+3,Me+3+E),Oe[Me++]=219,Cn.setUint32(Me,E),Me+=4),Me+=E}else if(S==="number")if(_>>>0===_)_<64?Oe[Me++]=_:_<256?(Oe[Me++]=204,Oe[Me++]=_):_<65536?(Oe[Me++]=205,Oe[Me++]=_>>8,Oe[Me++]=_&255):(Oe[Me++]=206,Cn.setUint32(Me,_),Me+=4);else if(_>>0===_)_>=-32?Oe[Me++]=256+_:_>=-128?(Oe[Me++]=208,Oe[Me++]=_+256):_>=-32768?(Oe[Me++]=209,Cn.setInt16(Me,_),Me+=2):(Oe[Me++]=210,Cn.setInt32(Me,_),Me+=4);else{let C;if((C=this.useFloat32)>0&&_<4294967296&&_>=-2147483648){Oe[Me++]=202,Cn.setFloat32(Me,_);let A;if(C<4||(A=_*l6[(Oe[Me]&127)<<1|Oe[Me+1]>>7])>>0===A){Me+=4;return}else Me--}Oe[Me++]=203,Cn.setFloat64(Me,_),Me+=8}else if(S==="object")if(!_)Oe[Me++]=192;else{if(o){let A=o.get(_);if(A){if(!A.id){let T=o.idsToInsert||(o.idsToInsert=[]);A.id=T.push(A)}Oe[Me++]=214,Oe[Me++]=112,Cn.setUint32(Me,A.id),Me+=4;return}else o.set(_,{offset:Me-t})}let C=_.constructor;if(C===Object)b(_,!0);else if(C===Array){E=_.length,E<16?Oe[Me++]=144|E:E<65536?(Oe[Me++]=220,Oe[Me++]=E>>8,Oe[Me++]=E&255):(Oe[Me++]=221,Cn.setUint32(Me,E),Me+=4);for(let A=0;A<E;A++)y(_[A])}else if(C===Map){E=_.size,E<16?Oe[Me++]=128|E:E<65536?(Oe[Me++]=222,Oe[Me++]=E>>8,Oe[Me++]=E&255):(Oe[Me++]=223,Cn.setUint32(Me,E),Me+=4);for(let[A,T]of _)y(A),y(T)}else{for(let A=0,T=S2.length;A<T;A++){let k=c6[A];if(_ instanceof k){let D=S2[A];if(D.write){D.type&&(Oe[Me++]=212,Oe[Me++]=D.type,Oe[Me++]=0),y(D.write.call(this,_));return}let M=Oe,P=Cn,j=Me;Oe=null;let O;try{O=D.pack.call(this,_,I=>(Oe=M,M=null,Me+=I,Me>dl&&w(Me),{target:Oe,targetView:Cn,position:Me-I}),y)}finally{M&&(Oe=M,Cn=P,Me=j,dl=Oe.length-10)}O&&(O.length+Me>dl&&w(O.length+Me),Me=Xje(O,Oe,Me,D.type));return}}b(_,!_.hasOwnProperty)}}else if(S==="boolean")Oe[Me++]=_?195:194;else if(S==="bigint"){if(_<BigInt(1)<<BigInt(63)&&_>=-(BigInt(1)<<BigInt(63)))Oe[Me++]=211,Cn.setBigInt64(Me,_);else if(_<BigInt(1)<<BigInt(64)&&_>0)Oe[Me++]=207,Cn.setBigUint64(Me,_);else if(this.largeBigIntToFloat)Oe[Me++]=203,Cn.setFloat64(Me,Number(_));else throw new RangeError(_+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");Me+=8}else if(S==="undefined")this.encodeUndefinedAsNil?Oe[Me++]=192:(Oe[Me++]=212,Oe[Me++]=0,Oe[Me++]=0);else if(S==="function")y(this.writeFunction&&this.writeFunction());else throw new Error("Unknown type: "+S)},b=this.useRecords===!1?this.variableMapSize?_=>{let S=Object.keys(_),E=S.length;E<16?Oe[Me++]=128|E:E<65536?(Oe[Me++]=222,Oe[Me++]=E>>8,Oe[Me++]=E&255):(Oe[Me++]=223,Cn.setUint32(Me,E),Me+=4);let C;for(let A=0;A<E;A++)y(C=S[A]),y(_[C])}:(_,S)=>{Oe[Me++]=222;let E=Me-t;Me+=2;let C=0;for(let A in _)(S||_.hasOwnProperty(A))&&(y(A),y(_[A]),C++);Oe[E+++t]=C>>8,Oe[E+t]=C&255}:_=>{let S=Object.keys(_),E,C=i.transitions||(i.transitions=Object.create(null)),A=0;for(let k=0,D=S.length;k<D;k++){let M=S[k];E=C[M],E||(E=C[M]=Object.create(null),A++),C=E}let T=C[$0];if(T)T>=96&&f?(Oe[Me++]=((T-=96)&31)+96,Oe[Me++]=T>>5):Oe[Me++]=T;else{T=i.nextId,T||(T=64),T<m&&this.shouldShareStructure&&!this.shouldShareStructure(S)?(T=i.nextOwnId,T<p||(T=m),i.nextOwnId=T+1):(T>=p&&(T=m),i.nextId=T+1);let k=S.highByte=T>=96&&f?T-96>>5:-1;C[$0]=T,i[T-64]=S,T<m?(S.isShared=!0,i.sharedLength=T-63,n=!0,k>=0?(Oe[Me++]=(T&31)+96,Oe[Me++]=k):Oe[Me++]=T):(k>=0?(Oe[Me++]=213,Oe[Me++]=114,Oe[Me++]=(T&31)+96,Oe[Me++]=k):(Oe[Me++]=212,Oe[Me++]=114,Oe[Me++]=T),A&&(v+=x*A),g.length>=h&&(g.shift()[$0]=0),g.push(C),y(S))}for(let k=0,D=S.length;k<D;k++)y(_[S[k]])},w=_=>{let S;if(_>16777216){if(_-t>T9)throw new Error("Packed buffer would be larger than maximum buffer size");S=Math.min(T9,Math.round(Math.max((_-t)*(_>67108864?1.25:2),4194304)/4096)*4096)}else S=(Math.max(_-t<<2,Oe.length-1)>>12)+1<<12;let E=new jC(S);return Cn=new DataView(E.buffer,0,S),Oe.copy?Oe.copy(E,0,t,_):E.set(Oe.slice(t,_)),Me-=t,t=0,dl=E.length-10,Oe=E}}useBuffer(e){Oe=e,Cn=new DataView(Oe.buffer,Oe.byteOffset,Oe.byteLength),Me=0}};c6=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,hK];S2=[{pack(e,t,r){let n=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296){let{target:i,targetView:o,position:l}=t(6);i[l++]=214,i[l++]=255,o.setUint32(l,n)}else if(n>0&&n<17179869184){let{target:i,targetView:o,position:l}=t(10);i[l++]=215,i[l++]=255,o.setUint32(l,e.getMilliseconds()*4e6+(n/1e3/4294967296>>0)),o.setUint32(l+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return t(0),r(this.onInvalidDate());let{target:i,targetView:o,position:l}=t(3);i[l++]=212,i[l++]=255,i[l++]=255}else{let{target:i,targetView:o,position:l}=t(15);i[l++]=199,i[l++]=12,i[l++]=255,o.setUint32(l,e.getMilliseconds()*1e6),o.setBigInt64(l+4,BigInt(Math.floor(n)))}}},{pack(e,t,r){let n=Array.from(e),{target:i,position:o}=t(this.structuredClone?3:0);this.structuredClone&&(i[o++]=212,i[o++]=115,i[o++]=0),r(n)}},{pack(e,t,r){let{target:n,position:i}=t(this.structuredClone?3:0);this.structuredClone&&(n[i++]=212,n[i++]=101,n[i++]=0),r([e.name,e.message])}},{pack(e,t,r){let{target:n,position:i}=t(this.structuredClone?3:0);this.structuredClone&&(n[i++]=212,n[i++]=120,n[i++]=0),r([e.source,e.flags])}},{pack(e,t){this.structuredClone?P9(e,16,t):k9($E?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let r=e.constructor;r!==xK&&this.structuredClone?P9(e,yK.indexOf(r.name),t):k9(e,t)}},{pack(e,t){let{target:r,position:n}=t(1);r[n]=193}}];function P9(e,t,r,n){let i=e.byteLength;if(i+1<256){var{target:o,position:l}=r(4+i);o[l++]=199,o[l++]=i+1}else if(i+1<65536){var{target:o,position:l}=r(5+i);o[l++]=200,o[l++]=i+1>>8,o[l++]=i+1&255}else{var{target:o,position:l,targetView:c}=r(7+i);o[l++]=201,c.setUint32(l,i+1),l+=4}o[l++]=116,o[l++]=t,o.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),l)}function k9(e,t){let r=e.byteLength;var n,i;if(r<256){var{target:n,position:i}=t(r+2);n[i++]=196,n[i++]=r}else if(r<65536){var{target:n,position:i}=t(r+3);n[i++]=197,n[i++]=r>>8,n[i++]=r&255}else{var{target:n,position:i,targetView:o}=t(r+5);n[i++]=198,o.setUint32(i,r),i+=4}n.set(e,i)}function Xje(e,t,r,n){let i=e.length;switch(i){case 1:t[r++]=212;break;case 2:t[r++]=213;break;case 4:t[r++]=214;break;case 8:t[r++]=215;break;case 16:t[r++]=216;break;default:i<256?(t[r++]=199,t[r++]=i):i<65536?(t[r++]=200,t[r++]=i>>8,t[r++]=i&255):(t[r++]=201,t[r++]=i>>24,t[r++]=i>>16&255,t[r++]=i>>8&255,t[r++]=i&255)}return t[r++]=n,t.set(e,r),r+=i,r}function $je(e,t){let r,n=t.length*6,i=e.length-n;for(t.sort((o,l)=>o.offset>l.offset?1:-1);r=t.pop();){let o=r.offset,l=r.id;e.copyWithin(o+n,o,i),n-=6;let c=o+n;e[c++]=214,e[c++]=105,e[c++]=l>>24,e[c++]=l>>16&255,e[c++]=l>>8&255,e[c++]=l&255,i=o}return e}function s0(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");c6.unshift(e.Class),S2.unshift(e)}Gje(e)}var _K=new wK({useRecords:!1});_K.pack;_K.pack;var Kje=512,Qje=1024,D9=new wK({structuredClone:!0});s0({Class:$t.prototype.constructor,type:1,write(e){return{...e}},read(e){return Object.setPrototypeOf(e,$t.prototype),e}});s0({Class:At.prototype.constructor,type:2,write(e){return[...e]},read(e){return Object.setPrototypeOf(e,At.prototype),e}});s0({Class:qo.prototype.constructor,type:3,write(e){return[...e]},read(e){return Object.setPrototypeOf(e,qo.prototype),e}});s0({Class:b9.prototype.constructor,type:4,write(e){return e.id},read(e){return new b9(e)}});s0({Class:x9.prototype.constructor,type:5,write(e){return e.data},read(e){return new x9(e)}});s0({Class:ci.prototype.constructor,type:6,write(e){return{...e}},read(e){return Object.setPrototypeOf(e,ci.prototype),e}});function Jje(e){var t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){let n=e[r];t=(t<<5)-t+n,t=t&t}return t}function fP(e){if(t6(e))return e;if(Array.isArray(e))return e.map(fP);if(typeof e=="object"&&e!==null){let t={};for(let r of Object.keys(e).sort())t[r]=fP(e[r]);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}else return e}var pP;(e=>{function t(i){return D9.pack(i)}e.serialize=t;function r(i){return D9.unpack(i)}e.deserialize=r;function n(i){return Jje(t(fP(i))).toString()}e.checksum=n})(pP||(pP={}));var j9;(e=>{function t(n){return n.type==="Conditional"?n.condition.type==="Distance"?"Distance":"StateChange":n.type}e.toEventUIType=t;function r(n){return n==="Distance"||n==="StateChange"?"Conditional":n}e.fromEventUIType=r})(j9||(j9={}));var aa={LookAt:[],Follow:["Create"],DragDrop:["Transition","Animation","Audio","Create","SetVariable","DynamicVariablePlay","Conditional"],MouseHover:["Transition","Animation","Create","Destroy","SwitchCamera","SceneTransition","SetVariable","DynamicVariablePlay","Conditional"],Scroll:["Transition","Animation","Create","SetVariable","DynamicVariablePlay","Conditional"],Start:["Transition","Animation","Audio","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],Conditional:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MouseDown:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MouseUp:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MousePress:["Transition","Animation","Audio","Video","Link","Create","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyDown:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyUp:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyPress:["Transition","Animation","Audio","Video","Link","Create","SwitchCamera","Reset","SetVariable","DynamicVariablePlay","Conditional"],GameControl:["Transition","Animation","Audio","Create","Conditional"],Collision:["Transition","Animation","Audio","Video","Create","Destroy","Reset","SetVariable","DynamicVariablePlay","Conditional"],Trigger:["Transition","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],Resize:["Transition","Animation","Audio","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],VariableChange:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"]},I9;(e=>{function t(n){return n.type==="MouseDown"||n.type==="MouseUp"||n.type==="MousePress"||n.type==="KeyDown"||n.type==="KeyUp"||n.type==="KeyPress"}e.is=t;function r(n){return n==="MouseDown"||n==="MouseUp"||n==="MousePress"?{type:n,mode:"Object",disabled:!1,runMode:"Once",actions:new At}:{type:n,disabled:!1,key:void 0,runMode:"Once",actions:new At}}e.defaultData=r})(I9||(I9={}));var E2;(e=>{function t(r){return{type:"Property",value:[r??null,"position","x"]}}e.propertyDefaultData=t,e.valueDefaultData={type:"Literal",value:0}})(E2||(E2={}));var mP;(e=>{function t(i){return{type:"Comparison",operator:"==",lOperand:E2.propertyDefaultData(i),rOperand:{...E2.valueDefaultData}}}e.comparisonDefaultData=t;function r(i){return{type:"Distance",toObject:i??null,fromObject:i??null,distance:200}}e.distanceDefaultData=r;function n(i,o){return{type:"State",object:i??null,state:o??null}}e.stateDefaultData=n})(mP||(mP={}));var O9;(e=>{function t(n){return n.type==="Conditional"}e.is=t;function r(n){return{type:"Conditional",disabled:!1,inActions:new At,outActions:new At,condition:mP.distanceDefaultData(n)}}e.defaultData=r})(O9||(O9={}));var R9;(e=>e.defaultData={type:"DragDrop",cursor:"hand",disabled:!1,dampingFactor:1,objects:[],snapTo:"center",snapSurfaceMode:"bbox",snapSurfaceOffset:0,dropOn:"all",autoOrient:!0,dropDestinations:[],plane:"adaptive",planeMode:"locked",referenceFrame:"global",limits:[-1/0,1/0,-1/0,1/0,-1/0,1/0],drop:!1,resetOnSnapFail:!1,snapSpeed:20,resetSpeed:20,dragDropActions:{drag:new At,drop:new At}})(R9||(R9={}));var gP;(e=>e.defaultData={type:"Follow",disabled:!1,maxDelta:0,dampingFactor:1,target:"cursor",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledTranslation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5,actions:new At})(gP||(gP={}));var vP;(e=>e.defaultData={type:"LookAt",disabled:!1,distance:1e3,dampingFactor:1,target:"cursor",tilt:"up",axis:"z",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledRotation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5})(vP||(vP={}));var L9;(e=>{function t(n){return n.type==="MouseHover"}e.is=t;function r(){return{type:"MouseHover",disabled:!1,actions:new At}}e.defaultData=r})(L9||(L9={}));var z9;(e=>{function t(n){return n.type==="Scroll"}e.is=t;function r(){return{type:"Scroll",disabled:!1,steps:100,trigger:"load",startFrom:"enter",enterAnchor:"top",startOffset:0,endAfter:400,actions:new At}}e.defaultData=r})(z9||(z9={}));var N9;(e=>{function t(n){return n.type==="Start"}e.is=t;function r(){return{type:"Start",disabled:!1,actions:new At}}e.defaultData=r})(N9||(N9={}));var B9;(e=>{function t(n){return n.type==="Collision"}e.is=t;function r(){return{type:"Collision",disabled:!1,runMode:"Once",target:"character",actions:new At}}e.defaultData=r})(B9||(B9={}));var F9;(e=>{function t(n){return n.type==="Trigger"}e.is=t;function r(n,i){return{type:"Trigger",disabled:!1,runMode:"Once",target:"all",triggeringObjects:[],actions:new At,triggerZone:"box",position:i.toArray(),rotation:[0,0,0],size:n.toArray(),radius:n.length()/2,helperVisible:!0}}e.defaultData=r})(F9||(F9={}));var yP;(e=>{e.defaultSizes={mobile:[480,480],tablet:[768,768],desktop:[1200,1200],custom:[769,1200]};function t(l){return l.type==="Resize"}e.is=t;function r(l){return typeof l=="string"?l:"custom"}e.sizeToDevice=r;function n(l){return typeof l=="string"?[...e.defaultSizes[l]]:[...l]}e.deviceToSize=n;function i(){let l={size:"mobile",operator:"<",actions:new At},c={size:"tablet",operator:"<",actions:new At},a={size:[...e.defaultSizes.custom],operator:"<>",actions:new At},s=new At;return s.push({id:pt.generateUUID(),fi:0,data:l},{id:pt.generateUUID(),fi:1,data:c},{id:pt.generateUUID(),fi:2,data:a}),{type:"Resize",disabled:!1,orientation:"horizontal",breakpoints:s}}e.defaultData=i;function o(){return{size:[...e.defaultSizes.custom],operator:"<>",actions:new At}}e.defaultBreakpointData=o})(yP||(yP={}));var bP;(e=>{e.propertyPaths={Position:["position"],"Position X":["position","x"],"Position Y":["position","y"],"Position Z":["position","z"],Rotation:["rotation"],"Rotation X":["rotation","x"],"Rotation Y":["rotation","y"],"Rotation Z":["rotation","z"],Scale:["scale"],"Scale X":["scale","x"],"Scale Y":["scale","y"],"Scale Z":["scale","z"],Width:["width"],Height:["height"],Depth:["depth"],"Mouse Position X":["mouse","x"],"Mouse Position Y":["mouse","y"],"Mouse Pressed":["mouse","pressed"],"Screen Width":["mouse","width"],"Screen Height":["mouse","height"],"Hit Position X":["raycast","x"],"Hit Position Y":["raycast","y"],"Hit Position Z":["raycast","z"],"Hit Object Position X":["raycast","objX"],"Hit Object Position Y":["raycast","objY"],"Hit Object Position Z":["raycast","objZ"]};function t(n){return n.type==="VariableChange"}e.is=t;function r(){return{disabled:!1,type:"VariableChange",actions:new At,variableId:"",objectId:null,property:"Position X"}}e.defaultData=r})(bP||(bP={}));var l0="personal camera",sy="a218fcc3-276b-49b9-b485-49037fd14f5f",Zje=2960946,ms=5526619,vm;(e=>{function t(n,i){return n[0]===i[0]&&n[1]===i[1]}e.isEqual=t;function r(n,i,o){return[n[0]+(i[0]-n[0])*o,n[1]+(i[1]-n[1])*o]}e.lerp=r})(vm||(vm={}));var tf;(e=>{function t(a,s){return a[0]===s[0]&&a[1]===s[1]&&a[2]===s[2]}e.isEqual=t;function r(a,s){return[a[0]+s[0],a[1]+s[1],a[2]+s[2]]}e.add=r;function n(a,s){return[a[0]-s[0],a[1]-s[1],a[2]-s[2]]}e.sub=n;function i(a,s){return[a[0]/s[0],a[1]/s[1],a[2]/s[2]]}e.div=i;function o(a,s){return[a[0]*s[0],a[1]*s[1],a[2]*s[2]]}e.mul=o;function l(a,s){return Math.hypot(a[0]-s[0],a[1]-s[1],a[2]-s[2])}e.dist=l;function c(a,s,u){return[a[0]+(s[0]-a[0])*u,a[1]+(s[1]-a[1])*u,a[2]+(s[2]-a[2])*u]}e.lerp=c})(tf||(tf={}));var A2;(e=>{function t(n,i){return n[0]===i[0]&&n[1]===i[1]&&n[2]===i[2]&&n[3]===i[3]}e.isEqual=t;function r(n,i,o){return[n[0]+(i[0]-n[0])*o,n[1]+(i[1]-n[1])*o,n[2]+(i[2]-n[2])*o,n[3]+(i[3]-n[3])*o]}e.lerp=r})(A2||(A2={}));var wg;(e=>{e.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function t(i,o){for(let l=0;l<16;l++)if(i[l]!==o[l])return!1;return!0}e.isEqual=t;function r(i){return i??e.identity}e.simplify=r;function n(i,o){let l=o.slice(0);for(var c=0,a=o.length;c<a;c+=3){let s=i[3]*o[c]+i[7]*o[c+1]+i[11]*o[c+2]+i[15];l[c]=(i[0]*o[c]+i[4]*o[c+1]+i[8]*o[c+2]+i[12])/s,l[c+1]=(i[1]*o[c]+i[5]*o[c+1]+i[9]*o[c+2]+i[13])/s,l[c+2]=(i[2]*o[c]+i[6]*o[c+1]+i[10]*o[c+2]+i[14])/s}return l}e.applyMatrix4=n})(wg||(wg={}));var co;(e=>{function t(a){return typeof a=="object"&&typeof a.r=="number"&&typeof a.g=="number"&&typeof a.b=="number"}e.isRGB=t,e.white={r:1,g:1,b:1},e.red={r:1,g:0,b:0},e.black={r:0,g:0,b:0};function r(a){return{r:Math.round(a.r*255),g:Math.round(a.g*255),b:Math.round(a.b*255),a:1}}e.toRgb255a1=r;function n(a){return{r:a.r,g:a.g,b:a.b}}e.clone=n;function i(a){return a=Math.floor(a),{r:(a>>16&255)/255,g:(a>>8&255)/255,b:(a&255)/255}}e.fromHex=i;function o(a){return Math.round(a.r*255)*65536+Math.round(a.g*255)*256+Math.round(a.b*255)}e.toHex=o;function l(a,s){return a.r===s.r&&a.g===s.g&&a.b===s.b}e.equals=l;function c(a,s,u){return{r:a.r+(s.r-a.r)*u,g:a.g+(s.g-a.g)*u,b:a.b+(s.b-a.b)*u}}e.lerp=c})(co||(co={}));var Ys;(e=>{e.white={...co.white,a:1},e.transparent={...co.white,a:0};function t(l){return{r:l[0],g:l[1],b:l[2],a:l[3]}}e.from0to1=t;function r(l,c){return{...co.fromHex(l),a:c}}e.fromHexAndA=r;function n(l){return{r:Math.round(l.r*255),g:Math.round(l.g*255),b:Math.round(l.b*255),a:l.a}}e.toRgb255a1=n;function i(l,c){return co.equals(l,c)&&l.a===c.a}e.equals=i;function o(l,c,a){return{r:l.r+(c.r-l.r)*a,g:l.g+(c.g-l.g)*a,b:l.b+(c.b-l.b)*a,a:l.a+(c.a-l.a)*a}}e.lerp=o})(Ys||(Ys={}));var xP;(e=>e.identity={position:[0,0,0],rotation:[0,0,0],scale:[1,1,1]})(xP||(xP={}));var U9;(e=>e.defaultData={mass:1,stiffness:80,damping:10,velocity:0})(U9||(U9={}));var V9;(e=>e.defaultData={control1:[.5,0],control2:[.5,1]})(V9||(V9={}));var ed;(e=>(e.linear=[0,0,1,1],e.ease=[.25,.1,.25,1],e.easeIn=[.42,0,1,1],e.easeOut=[0,0,.58,1],e.easeInOut=[.42,0,.58,1]))(ed||(ed={}));function H9(e){return typeof e=="string"&&e.length===36?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e):!1}var Ef;(e=>{e.all=["PerspectiveCamera","OrthographicCamera"];function t(r){return e.all.includes(r)}e.is=t})(Ef||(Ef={}));var _g;(e=>{e.DefaultUp=[0,1,0],e.DefaultTargetOffset=1e3,e.defaultData={far:1e5,type:"OrthographicCamera",perspective:{near:70,fov:45,zoom:1},orthographic:{near:-1e5,zoom:1},up:e.DefaultUp,isUpVectorFlipped:!1,targetOffset:e.DefaultTargetOffset};function t(r){return r.type==="PerspectiveCamera"?r.perspective.zoom:r.orthographic.zoom}e.getZoom=t})(_g||(_g={}));var fd;(e=>{function t(n,i=.1){return{disabled:!1,type:"linear",hideBase:!1,count:3,radial:{radius:Math.max(n[0],n[1])*2,start:0,end:360,alignment:!1,axis:"y",scale:[1,1,1],rotation:[0,0,0],position:[0,0,0]},toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},linear:{scale:[1,1,1],rotation:[0,0,0],position:[n[0]+n[0]*i,0,0]},grid:{count:[2,2,2],size:n.map(o=>o*(1+i)),useCenter:!0},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}}}e.defaultData=t;function r(n,i){let o={...n};if(SK.forEach(l=>{Object.assign(o,{[l]:i[l]??n[l]})}),o.radial={...n.radial},i.radial){let l=n.radial,c=i.radial;EK.forEach(a=>{Object.assign(o.radial,{[a]:c[a]??l[a]})})}if(o.linear={...n.linear},i.linear){let l=n.linear,c=i.linear;AK.forEach(a=>{Object.assign(o.linear,{[a]:c[a]??l[a]})})}if(o.grid={...n.grid},i.grid){let l=n.grid,c=i.grid;CK.forEach(a=>{Object.assign(o.grid,{[a]:c[a]??l[a]})})}if(o.toObject={...n.toObject},i.toObject){let l=n.toObject,c=i.toObject;MK.forEach(a=>{Object.assign(o.toObject,{[a]:c[a]??l[a]})})}if(o.randomnessObject={...n.randomnessObject},i.randomnessObject){let l=n.randomnessObject,c=i.randomnessObject;TK.forEach(a=>{Object.assign(o.randomnessObject,{[a]:c[a]??l[a]})})}return o}e.merge=r})(fd||(fd={}));var wP;(e=>{e.defaultData={radial:{},linear:{},grid:{},toObject:{},randomnessObject:{}};let t=["radial","linear","grid","toObject","randomnessObject"];function r(n,i){let o=[];n.count!==void 0&&o.push({type:0,path:i,props:{count:n.count}});for(let l of t){let c=n[l];c&&Object.keys(c).length>0&&o.push({type:0,path:[...i,l],props:c})}return o}e.toOps=r})(wP||(wP={}));var SK=["count"],EK=["radius","start","end","position","scale","rotation"],AK=["position","scale","rotation"],CK=["count","size"],MK=["count","position","scale","rotation"],TK=["strength","scale","rotation","position","movement","seed","freqScale"],_P;(e=>{e.all=["PointLight","SpotLight","DirectionalLight","HemisphereLight"];function t(r){return e.all.includes(r)}e.is=t})(_P||(_P={}));var SP;(e=>{function t(n){return r(n)}e.defaultData=t;function r(n){if(n==="PointLight")return{type:n,color:Ys.white,intensity:1,distance:2e3,decay:1,shadows:!0,shadowResolution:1024,shadowRadius:1,penumbraSize:.5,depth:1e5};if(n==="SpotLight")return{type:n,color:Ys.white,intensity:1,distance:2e3,decay:1,shadows:!0,penumbra:0,angle:30/180*Math.PI,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};if(n==="DirectionalLight")return{type:n,color:Ys.white,intensity:1,shadows:!0,size:2e3,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};throw new Error("not implemented")}})(SP||(SP={}));var Sg;(e=>e.defaultData={enabled:"visibility",fusedBody:!0,rigidBody:"positioned",density:1,pointMass:0,gravityScale:1,friction:.5,damping:0,restitution:.2,colliderType:"convex",enabledRotation:[!0,!0,!0],enabledTranslation:[!0,!0,!0]})(Sg||(Sg={}));var EP;(e=>{e.defaultData={castShadow:!0,receiveShadow:!0};function t(r,n){return r.castShadow===n.castShadow&&r.receiveShadow===n.receiveShadow}e.equals=t})(EP||(EP={}));var AP;(e=>{e.defaultData={flatShading:!1,wireframe:!1,side:0};function t(r,n){return r.flatShading===n.flatShading&&r.side===n.side&&r.wireframe===n.wireframe}e.equals=t})(AP||(AP={}));var CP;(e=>e.defaultData={...AP.defaultData,...EP.defaultData})(CP||(CP={}));var W9;(e=>{function t(r,n){var o,l;let i=[];if("material"in r){let c=typeof r.material=="string"?n.materials[r.material]??((o=n.lib.materials[r.material])==null?void 0:o.asset):r.material;c&&i.push(c)}else if("materials"in r)for(let c of r.materials){let a=typeof c=="string"?n.materials[c]??((l=n.lib.materials[c])==null?void 0:l.asset):c;a&&i.push(a)}return i}e.getMaterialData=t})(W9||(W9={}));var C2;(e=>(e.defaultVideo={data:"",thumb:"/_assets/_videos/catThumb.png",type:"video",name:"Cat video"},e.maxSize=3e7))(C2||(C2={}));var G9;(e=>{function t(r){return r==="texture"||r==="video"||r==="color"||r==="depth"||r==="normal"||r==="gradient"||r==="noise"||r==="fresnel"||r==="rainbow"||r==="toon"||r==="outline"||r==="transmission"||r==="matcap"||r==="displace"||r==="pattern"||r==="light"}e.is=t})(G9||(G9={}));function e6e(e){return e.type!=="displace"}var q9;(e=>{function t(r){return r==="phong"||r==="toon"||r==="lambert"||r==="physical"}e.is=t})(q9||(q9={}));var PK=["mode","gradientType","noiseType","displacementType","projection","cnormal","crop","axis","side"],t6e=["wrapping","image","video","name"],Io;(e=>{function t(o,l){let{texture:c,...a}=l;if(Object.assign(o,a),c){let s=o.texture;s&&Object.assign(s,c)}}e.patch=t;function r(o,l){return o==="light"&&l?n(l):i(o)}e.defaultData=r;function n(o){let l={mode:0,isMask:!1,visible:!0,bumpMap:void 0,bumpMapIntensity:5,roughnessMap:void 0,alphaOverride:1};switch(o){case"phong":return{...l,category:"phong",specular:{r:.2,g:.2,b:.2},shininess:5,type:"light",visible:!0,mode:0,occlusion:!0,alpha:.6};case"toon":return{...l,category:"toon",specular:{r:.2,g:.2,b:.2},shininess:10,type:"light",alpha:1};case"lambert":return{...l,category:"lambert",emissive:{r:0,g:0,b:0},type:"light",alpha:1,visible:!0,mode:0,occlusion:!0};case"physical":return{...l,category:"physical",roughness:.2,metalness:.2,reflectivity:.2,type:"light",alpha:1,visible:!0,mode:0,occlusion:!0}}}function i(o){let l={alpha:1,mode:0,isMask:!1,visible:!0};switch(o){case"texture":return{...l,type:"texture",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{image:"image_0",wrapping:1e3,repeat:[1,1],offset:[0,0]},crop:!1};case"video":return{...l,type:"video",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{video:C2.defaultVideo,wrapping:1001,repeat:[1,1],offset:[0,0]},crop:!1};case"color":return{...l,type:"color",color:co.fromHex(ms)};case"depth":return{...l,type:"depth",gradientType:1,smooth:!1,isVector:!0,isWorldSpace:!1,origin:[0,0,0],direction:[1,0,0],colors:[[1,1,1,1],[0,0,0,1]],steps:[0,1],near:50,far:200};case"normal":return{...l,type:"normal",cnormal:[1,1,1]};case"gradient":return{...l,type:"gradient",gradientType:0,smooth:!1,colors:[[0,0,0,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,1,1,1,1,1,1,1,1,1],num:2,angle:0,offset:[0,0],morph:[0,0]};case"noise":return{...l,type:"noise",size:[100,100,100],noiseType:0,scale:1,move:1,colorA:{...co.fromHex(6710886),a:1},colorB:{...co.fromHex(6710886),a:1},colorC:{...co.fromHex(16777215),a:1},colorD:{...co.fromHex(16777215),a:1},distortion:[1,1],fA:[1.7,9.2],fB:[8.3,2.8],voronoiStyle:0,highCut:1,lowCut:0,smoothness:.3,seed:0,quality:1};case"fresnel":return{...l,type:"fresnel",color:Ys.fromHexAndA(16777215,1),bias:.1,scale:1,intensity:2,factor:1};case"rainbow":return{...l,type:"rainbow",filmThickness:30,movement:0,wavelengths:[0,0,0],noiseStrength:0,noiseScale:1,offset:[0,0,0]};case"toon":return{...l,type:"toon",positioning:2,colors:[[0,0,0,1],[.5,.5,.5,1],[.5,.5,.5,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,.475,.525,1,1,1,1,1,1,1],num:4,source:[0,1e3,0],isWorldSpace:!0,noiseStrength:0,noiseScale:1,shadowColor:Ys.fromHexAndA(0,0),offset:[0,0,0]};case"outline":return{...l,type:"outline",outlineColor:Ys.fromHexAndA(0,1),contourColor:Ys.fromHexAndA(0,1),outlineWidth:2,contourWidth:5,outlineThreshold:.4,contourThreshold:0,outlineSmoothing:0,contourFrequency:10,contourDirection:[0,1,0],positionalLines:!1,compensation:!0};case"matcap":return{...l,type:"matcap",texture:{image:"matcap_0",wrapping:1001,repeat:[1,1],offset:[0,0]}};case"transmission":return{...l,type:"transmission",thickness:10,ior:1.5,roughness:1};case"displace":return{visible:!0,type:"displace",displacementType:"noise",noiseType:0,scale:10,movement:1,offset:[0,0,0],intensity:8,voronoiStyle:0,smoothness:.3,seed:0,highCut:1,lowCut:0,quality:1};case"pattern":return{...l,type:"pattern",style:0,projection:0,axis:"y",blending:0,offset:[0,0],colorA:{...co.fromHex(0),a:1},colorB:{...co.fromHex(16777215),a:1},frequency:[10,10],size:.5,variation:0,smoothness:.5,zigzag:0,rotation:0,vertical:[0,1],horizontal:[0,1],sides:6}}}})(Io||(Io={}));var $i;(e=>{function t(s){return!s.layers.some(u=>u.data.type==="texture"&&u.data.projection!==0||u.data.type==="depth"&&!u.data.isWorldSpace||u.data.type==="noise"||u.data.type==="displace")}e.isMergable=t;function r(s){let u="";return s.layers.forEach(d=>{Object.entries(d.data).forEach(([h,f])=>{u+=`${h}${f}`,Array.isArray(f)?f.forEach(m=>u+=`${m}`):typeof f=="object"?Object.values(f).forEach(m=>{typeof m=="number"?u+=`${m.toFixed(4)}`:u+=`${m}`}):u+=`${f}`})}),u}e.getHash=r;function n(){return{layers:new At}}e.defaultEmptyData=n;function i(s="layer1",u="layer2"){return l("phong",s,u)}e.defaultData=i;function o(s,u){return{...s,name:u}}e.withName=o;function l(s,u="layer1",d="layer2"){let h=new At;return h.push({fi:0,data:Io.defaultData("light",s),id:u}),h.push({fi:1,data:Io.defaultData("color"),id:d}),{layers:h}}e.defaultTwoLayerData=l;function c(s,u="phong",d="layer1",h="layer2"){let f=Io.defaultData("texture");Object.assign(f.texture,{image:s});let m=new At;return m.push({fi:0,data:f,id:d}),m.push({fi:1,data:Io.defaultData("light",u),id:h}),{layers:m}}e.defaultTwoLayerTextureData=c;function a(s,u="phong",d="layer1",h="layer2"){let f=Io.defaultData("video");Object.assign(f.texture,{video:s});let m=new At;return m.push({fi:0,data:f,id:d}),m.push({fi:1,data:Io.defaultData("light",u),id:h}),{layers:m}}e.defaultTwoLayerVideoTextureData=a})($i||($i={}));var M2;(e=>{function t(){return{points:new At,roundness:0,shapeHoles:[],isClosed:!1}}e.defaultData=t})(M2||(M2={}));var T2;(e=>{function t(){return{points:new At,lastInsertionPlane:null,subdivisions:12,isClosed:!1}}e.defaultData=t})(T2||(T2={}));var kK={type:"Ellipse",width:50,height:50,spikes:16,angle:360,innerRadius:0},MP;(e=>{function t(r,n){let i={...r};return jK.forEach(o=>{Object.assign(i,{[o]:n[o]??r[o]})}),i}e.merge=t})(MP||(MP={}));var DK={shape:kK,depth:1,offset:0,bevel:50,bevelSides:6,angle:0,twist:0,startScale:1,endScale:1,capType:"flat"},jK=["depth","offset","angle","twist","startScale","endScale"],P2;(e=>{function t(n){return n==="PolygonGeometry"||n==="RectangleGeometry"||n==="StarGeometry"||n==="TriangleGeometry"||n==="EllipseGeometry"}e.is2DParametricMesh=t;function r(n){return n==="PolygonGeometry"||n==="PolygonGeometry"||n==="RectangleGeometry"||n==="StarGeometry"||n==="TriangleGeometry"||n==="EllipseGeometry"||n==="PathGeometry"||n==="VectorGeometry"||n==="ConeGeometry"||n==="CubeGeometry"||n==="CylinderGeometry"||n==="DodecahedronGeometry"||n==="HelixGeometry"||n==="IcosahedronGeometry"||n==="LatheGeometry"||n==="PyramidGeometry"||n==="SphereGeometry"||n==="PlaneGeometry"||n==="BackdropGeometry"||n==="TorusGeometry"||n==="TorusKnotGeometry"||n==="BooleanGeometry"||n==="TextGeometry"}e.isParametricMesh=r})(P2||(P2={}));var TP;(e=>{function t(r,n){let i={...r};return Object.assign(i,n),i.type==="PathGeometry"&&"extrusion"in n&&n.extrusion&&(i.extrusion={...r.extrusion},Object.assign(i.extrusion,MP.merge(i.extrusion,n.extrusion))),i}e.merge=t})(TP||(TP={}));var Om;(e=>{function t(r){if(r==="RectangleGeometry")return{width:320,height:320,type:r,cornerRadius:[0,0,0,0],cornerType:0,depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if(r==="PathGeometry")return{type:r,width:1,height:1,depth:1,path:T2.defaultData(),extrusion:DK};if(r==="VectorGeometry")return{width:1,height:1,type:r,subdivisions:12,shape:M2.defaultData(),depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if(r==="BooleanGeometry")return{type:r,operation:2,width:0,height:0,depth:0,phongAngle:35};if(r==="TextGeometry")return{type:r,width:100,height:100,depth:0,horizontalAlign:1,verticalAlign:1,fontSize:16,lineHeight:1.2,letterSpacing:0,text:{textValue:""},textTransform:1,font:"Roboto_regular",extrudeBevelSize:0,extrudeBevelSegments:1};if(r==="SphereGeometry")return{type:"SphereGeometry",width:100,height:100,depth:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180};throw new Error("not implemented")}e.defaultData=t})(Om||(Om={}));var Y9=["width","height","depth"],PP;(e=>e.defaultData={enabled:!1,useBackgroundColor:!1,color:co.white,near:.1,far:2e3})(PP||(PP={}));var k2;(e=>{let t={opacity:1,blendFunction:13,enabled:!1};e.defaultData={enabled:!1,pixelation:{...t,blendFunction:16,granularity:15},bloom:{...t,blendFunction:16,intensity:1,blurScale:1,luminanceThreshold:.25,luminanceSmoothing:.025,kernelSize:3},chromaticAberration:{...t,offset:[2,2]},vignette:{...t,darkness:1,offset:0},hueSaturation:{...t,hue:3,saturation:0},brightnessContrast:{...t,brightness:.25,contrast:0},depthOfField:{...t,focalLength:2,focusDistance:2,bokehScale:2},noise:{...t,blendFunction:16}}})(k2||(k2={}));var kP;(e=>e.defaultData={softShadowQuality:"low"})(kP||(kP={}));var DP;(e=>e.defaultData={enabled:!0,color:{r:.8274509803921568,g:.8274509803921568,b:.8274509803921568},intensity:.75})(DP||(DP={}));var jP;(e=>e.defaultData={occlusion:!1,aoFullRes:!1,radius:256,bias:.5,aoColor:{r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}})(jP||(jP={}));var Eg;(e=>e.defaultData={usePhysics:!1,gravity:-10})(Eg||(Eg={}));var IP;(e=>e.defaultData={playCamera:l0,gameControlObject:null})(IP||(IP={}));var OP;(e=>e.defaultData={backgroundColor:Ys.fromHexAndA(Zje,1),postprocessing:k2.defaultData,fog:PP.defaultData,globalPhysics:Eg.defaultData,ambient:DP.defaultData,ao:jP.defaultData,shadow:kP.defaultData,publish:IP.defaultData})(OP||(OP={}));var X9;(e=>{function t(n){return n==="Component"||n==="Instance"}e.isComponentRelated=t;function r(n){return n==="Empty"||n==="Instance"}e.isEmptyOrComponent=r})(X9||(X9={}));var Ag;(e=>{e.identity={...xP.identity,hiddenMatrix:wg.identity};function t(i){return{position:i.position,rotation:i.rotation,scale:i.scale,hiddenMatrix:i.hiddenMatrix}}e.fromObject=t;function r(i,o){return{position:(o==null?void 0:o.position)||i.position,rotation:(o==null?void 0:o.rotation)||i.rotation,scale:(o==null?void 0:o.scale)||i.scale,hiddenMatrix:(o==null?void 0:o.hiddenMatrix)||i.hiddenMatrix}}e.merge=r;function n(i,o){return uje({position:tf.isEqual(i.position,o.position)?void 0:o.position,rotation:tf.isEqual(i.rotation,o.rotation)?void 0:o.rotation,scale:tf.isEqual(i.scale,o.scale)?null:o.scale,hiddenMatrix:wg.isEqual(i.hiddenMatrix,o.hiddenMatrix)?void 0:o.hiddenMatrix})}e.diff=n})(Ag||(Ag={}));var wo;(e=>e.defaultData={states:new At,events:new At,visible:!0,raycastLock:!1,physics:Sg.defaultData,pathSnapping:{pathId:null,slide:0,offset:0,orientation:"tangential"},...Ag.identity,cloner:null})(wo||(wo={}));var RP;(e=>e.defaultData={type:"Empty",...wo.defaultData})(RP||(RP={}));var $9;(e=>e.defaultData={type:"Component",...wo.defaultData})($9||($9={}));var Rm;(e=>e.defaultData={type:"Mesh",...wo.defaultData,...CP.defaultData})(Rm||(Rm={}));var c1;(e=>e.defaultData={...wo.defaultData,...Ag.identity,position:[0,0,_g.DefaultTargetOffset],..._g.defaultData})(c1||(c1={}));var LP;(e=>{function t(r){return{...wo.defaultData,...SP.defaultData(r)}}e.defaultData=t,e.defaultDirectionalLightData={...e.defaultData("DirectionalLight"),position:[200,300,300],name:"Directional Light",intensity:.7}})(LP||(LP={}));var D2;(e=>{function t(n,i,o=0){for(;o<i.length;){let l=n?n[i[o]]:void 0;if(i.length===o+1)return l;if(l)n=l.descendants,o+=1;else return}}e.resolveWithDes=t;function r(n,i,o=0){let l=t(n,i,o);if(l){let c=Object.keys(l);if(c.length===1&&c[0]==="descendants")return}return l}e.resolve=r})(D2||(D2={}));var pd;(e=>{e.rootOverrideProps=["physics","events"],e.compositeNonOptionalOverrideProps=["geometry"],e.compositeEntireOverrideOverrideProps=["material"];function t(n,i){return{...wo.defaultData,...i,component:n,overrides:new ci,physics:void 0,events:void 0,type:"Instance"}}e.ofComponent=t;function r(n){let i=Ag.fromObject(n.data);return t(n.id,i)}e.fromComponentData=r})(pd||(pd={}));var Cg;(e=>e.defaultData={type:"Page",...wo.defaultData,physics:{...Sg.defaultData,fusedBody:!1},...OP.defaultData,camera:c1.defaultData})(Cg||(Cg={}));var zP;(e=>(e.defaultCamera={position:[0,0,1e3],scale:[1,1,1],rotation:[0,0,0],hiddenMatrix:wg.identity,name:"Play Camera",visible:!0,raycastLock:!1,physics:Sg.defaultData,states:new At,events:new At,cloner:null,pathSnapping:{pathId:null,orientation:"tangential",slide:0,offset:0},..._g.defaultData},e.KeysByResetCategory={States:["states"],Events:["events"],Material:["material","materials"],Geometry:["geometry"],Position:["position"],Rotation:["rotation"],Scale:["scale"],Transform:["position","scale","rotation","hiddenMatrix"],Name:["name"],Visibility:["visible","raycastLock","flatShading","wireframe","side"],Shadows:["castShadow","receiveShadow"],Cloner:["cloner"],Physics:["physics"]},e.defaultMeshObject={name:"Rectangle",...wo.defaultData,...Rm.defaultData,geometry:Om.defaultData("RectangleGeometry"),material:$i.defaultTwoLayerData("phong","layer1","layer2")},e.defaultBooleanObject={name:"Boolean",...wo.defaultData,...Rm.defaultData,geometry:Om.defaultData("BooleanGeometry"),material:$i.defaultTwoLayerData("phong","layer1","layer2")},e.defaultTextObject={name:"Text",...wo.defaultData,...Rm.defaultData,geometry:Om.defaultData("TextGeometry"),material:$i.defaultTwoLayerData("phong","layer1","layer2")}))(zP||(zP={}));var Uh;(e=>{function t(o,l){let c={name:l};return o.type==="Mesh"?(c.geometry={},"material"in o&&(c.material={layers:new ci}),"materials"in o&&(c.materials=o.materials.map(a=>({layers:new ci})))):Ef.is(o.type)&&(c.perspective={},c.orthographic={}),c}e.newEmpty=t;function r(o,l){if(l===void 0)return o;let c={...o};return"material"in c&&"material"in l&&l.material&&(c.material=l1(c.material,a=>{if(typeof a!="string")for(let[s,u]of Object.entries(l.material.layers)){let d=a.layers.data(s);d&&Io.patch(d,u)}}).data),c.materials&&l.materials&&(c.materials=l1(c.materials,a=>{var s,u;for(let d=0;d<c.materials.length;d++){let h=l.materials[d];if(typeof h!="string")for(let[f,m]of Object.entries(h.layers)){let p=(u=(s=a[d])==null?void 0:s.layers)==null?void 0:u.data(f);p&&Io.patch(p,m)}}}).data),c}function n(o,l){let c,a=[],s={orthographic:0,perspective:0,geometry:0};function u(d,h){for(let[f,m]of Object.entries(h.layers)){let{texture:p,...g}=m;if(p!==void 0&&Object.keys(p).length>0){let v={path:[...d,"layers",f,"texture"],props:p,type:0};a.push(v)}if(Object.keys(g).length>0){let v={path:[...d,"layers",f],props:g,type:0};a.push(v)}}}for(let[d,h]of Object.entries(l))if(d!=="name")if(d==="cloner")a.push(...wP.toOps(h,["cloner"]));else if(d==="pathSnapping")a.push({path:[d],props:{slide:h.slide,offset:h.offset},type:0});else if(d==="material")u(["material"],h);else if(d==="materials")for(let[f,m]of Object.entries(h))u(["materials",f],m);else if(s[d]===0){if(d==="geometry"&&h.extrusion!==void 0){let f={path:[d,"extrusion"],props:h.extrusion,type:0};a.push(f),h={...h},delete h.extrusion}if(Object.keys(h).length>0){let f={path:[d],props:h,type:0};a.push(f)}}else c===void 0&&(c={path:[],props:{},type:0},a.push(c)),c.props[d]=h;return a}e.toOps=n;function i(o,l){var a,s,u,d,h,f;if(l===void 0)return o;let c={...o};if(Object.assign(c,Ag.merge(c,l)),Object.assign(c,{pathSnapping:Object.assign({},c.pathSnapping,{slide:((a=l.pathSnapping)==null?void 0:a.slide)??((s=c.pathSnapping)==null?void 0:s.slide)??0,offset:((u=l.pathSnapping)==null?void 0:u.offset)??((d=c.pathSnapping)==null?void 0:d.offset)??0})}),Ef.is(o.type)){c.orthographic={...c.orthographic},c.perspective={...c.perspective};let m=l;((h=m.orthographic)==null?void 0:h.zoom)!==void 0&&(c.orthographic.zoom=m.orthographic.zoom),((f=m.perspective)==null?void 0:f.zoom)!==void 0&&(c.perspective.zoom=m.perspective.zoom),m.isUpVectorFlipped!==void 0&&(c.isUpVectorFlipped=m.isUpVectorFlipped),m.targetOffset!==void 0&&(c.targetOffset=m.targetOffset)}else if(o.type==="Mesh")"geometry"in l&&Object.assign(c,{geometry:TP.merge(c.geometry,l.geometry)}),(l.material||l.materials)&&(c=r(c,l)),c.cloner&&"cloner"in l&&Object.assign(c,{cloner:fd.merge(c.cloner,l.cloner)});else if(o.type==="Empty")c.cloner&&"cloner"in l&&Object.assign(c,{cloner:fd.merge(c.cloner,l.cloner)});else if(_P.is(o.type)){let m=l;m.intensity!==void 0&&(c.intensity=m.intensity),m.color!==void 0&&(typeof m.color=="string"?c.color=m.color:c.color=co.clone(m.color))}return c}e.patch=i})(Uh||(Uh={}));var j2;(e=>e.defaultData={enablePan:!0,enableZoom:!0,enableRotate:!0,enableDamping:!0,rotationLimitsMode:0,rotationVerticalOffset:{min:Math.PI/4,max:Math.PI/4},rotationHorizontalOffset:{min:Math.PI/4,max:Math.PI/4},rotationSoftLimit:2,panLimitsMode:0,panVerticalOffset:{min:250,max:250},panHorizontalOffset:{min:250,max:250},panSoftLimit:2,zoomLimitsEnabled:!1,zoomLimits:{min:.1,max:2},autoRotate:!1,autoRotateSpeed:2,autoRotateClockwise:!0,hoverRotatePanMode:0,hoverRotatePanStrength:20,hoverRotateDamping:.125,isTouchZoom:!0,orbitTouches:2,panTouches:3,resetHoverEffectOnPointerLeave:!0})(j2||(j2={}));var rf;(e=>e.defaultData={orbitControls:j2.defaultData,playPage:sy,withBackground:!0,preventScroll:!1,preventTouchScroll:!1,hideCursor:!1,mouseEventTarget:"canvas",joystickSizeAndXYOffset:Array(12).fill(0).map((t,r)=>{let n=0,i=0;return r<5?i=-30:r<10&&(i=30),r===0||r===10||r===5?n=30:(r===4||r===11||r===9)&&(n=-30),[120,[n,i],"show"]}),settings:{image:{format:"jpg",ratio:1},video:{format:"mp4",imageFormat:"jpg",fps:30,mbps:80,ratio:Math.max(1,typeof window<"u"?Math.floor(window.devicePixelRatio):1),stopMode:"manual",duration:5e3},web:{logo:!0,compress:!0,preset:1,preload:!0,hint:!1}},stopRaycast:!0,hdTransmission:!1})(rf||(rf={}));var NP;(e=>e.defaultData={id:"basic",label:"Basic",style:"None",prompt:""})(NP||(NP={}));var BP;(e=>e.defaultData={weather:0,shadows:0,lightOrigin:0,temperature:0,sun:0,camera:0,environment:0,particles:0,nature:0,floor:0})(BP||(BP={}));var Lm;(e=>(e.defaultData=()=>({mode:"line-art-both",prompt:"",negativePrompt:"",style:{...NP.defaultData},isRandomSeed:!0,seed:e.generateSeed(),guessMode:!1,advanced:!1,steps:20,guidanceScale:7.5,controlNetScale:1,modifiers:BP.defaultData}),e.generateSeed=()=>Math.round(Math.random()*1e5)))(Lm||(Lm={}));var u1;(e=>{function t(n){return n.find(i=>i.data.type==="Page"&&i.data.globalPhysics.usePhysics)!==void 0}e.physicsEnabled=t;function r(n,i,o){n.scene.objects.traverseFrom(i,(l,c)=>{var a;if(c.type==="Instance"){let s=(a=L2.getComponentData(n,c.component))==null?void 0:a.data;s&&o(l,c,s.events)}else o(l,c,c.events)})}e.traverseModuleInstances=r})(u1||(u1={}));var zm;(e=>{e.TRASH_CAN_ID="830a2708-8ed9-49cf-a68e-085299892222";function t(i={withLight:!0,withSquare:!0}){let o=[],l=zP.defaultMeshObject;i.withLight===!0&&o.push({fi:-1,data:LP.defaultDirectionalLightData,id:"830a2708-8ed9-49cf-a68e-085299899103",children:[]}),i.withSquare===!0&&o.push({fi:1,id:"7ba78968-2a55-48f2-b14c-5191da3e075e",data:l,children:[]});let c=new qo;return c.push({fi:1,id:sy,data:{...Cg.defaultData,name:"Scene 1"},children:o}),c}e.defaultData={objects:t(),publish:rf.defaultData,styles:Lm.defaultData()},e.emptyDataWithoutPage=function(){return{objects:new qo,publish:rf.defaultData,styles:Lm.defaultData()}},e.emptyDataWithPage=function(i){return{objects:t(i),publish:rf.defaultData,styles:Lm.defaultData()}};function r(i){return{...e.defaultData,objects:gu(i,qo.prototype)}}e.withObjs=r;function n(i,o){return r([{id:i,data:o,children:[],fi:0}])}e.withObj=n})(zm||(zm={}));var ly;(e=>e.defaultData={preset:"fullscreen",allowResponsive:!1,size:[512,512],coords:[0,0],sceneScale:1,color:{r:0,g:0,b:0,a:.5}})(ly||(ly={}));var I2;(e=>e.emptyImage={data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=",name:"empty"})(I2||(I2={}));var ba;(e=>{function t(l){return l.textValue!==void 0}e.isTextValue=t;function r(l){return typeof l=="number"}e.isNumber=r;function n(l){return typeof l=="boolean"}e.isBoolean=n;function i(l){return t(l)?"string":n(l)?"boolean":"number"}e.typeOfVariable=i;function o(l){return e.isTextValue(l)?Array.isArray(l.textValue)?l.textValue.map(c=>c.toString().padStart(l.padding??2,"0")).join(l.deliminator??":")+(l.suffix!==void 0?" "+l.suffix:""):l.textValue.toString():e.isBoolean(l)?l?"True":"False":e.isNumber(l)?parseFloat(l.toFixed(3)).toString():l.toString()}e.getDisplayedValue=o})(ba||(ba={}));var FP;(e=>e.all=["images","videos","colors","audios","fonts","materials","variables"])(FP||(FP={}));var K9;(e=>e.all=[...FP.all,"components"])(K9||(K9={}));var Q9;(e=>{function t(){return{images:new $t,videos:new $t,colors:new $t,audios:new $t,fonts:new $t,materials:new $t,components:new $t,variables:new $t}}e.defaultData=t})(Q9||(Q9={}));var Mg;(e=>{function t(){return{images:new $t,videos:new $t,colors:new $t,audios:new $t,fonts:new $t,materials:new $t,components:new $t,variables:new $t}}e.defaultData=t})(Mg||(Mg={}));var Hs;(e=>{function t(){let l={};return l["89b10010-844c-11ec-a8a3-0242ac120002"]={r:.5,g:.5,b:.5,a:1,name:"Default Color"},gu(l,$t.prototype)}e.defaultColors=t;function r(l){let c={};return l!=null&&l.withAITexture&&(c["a1b10010-844c-a8a3-11ec-0242ac2011ec"]={...I2.emptyImage,name:"AI generated image"}),gu(c,$t.prototype)}e.defaultImages=r;function n(){return{catelogs:new $t,materials:new $t,images:new $t,videos:new $t,colors:new $t,audios:new $t,fonts:new $t,variables:new At,lib:Mg.defaultData()}}e.emptyData=n;function i(l){switch(l){case"number":return{value:0,name:"Number"};case"boolean":return{value:!1,name:"Boolean"};case"string":return{value:{textValue:"String value"},name:"String"};case"time":let c=[0,0,0];return{name:"Time",value:{textValue:c,deliminator:":",padding:2,suffix:"AM"},dynamicVariableType:"time",format:"HH:mm:ss",format12h24h:"12ampm",timeZone:null,hasEnd:!1,endValue:{textValue:c,deliminator:":",padding:2,suffix:"AM"},autoStart:!0,repeat:!1};case"counter":return{name:"Counter",value:0,dynamicVariableType:"counter",updateInterval:1e3,increment:1,autoStart:!0,hasEnd:!0,endValue:60,repeat:!0,randomStart:!1,range:[0,100],decimals:0};case"random":return{name:"Random",value:0,dynamicVariableType:"random",updateInterval:1e3,increment:1,autoStart:!0,isStatic:!1,hasEnd:!0,endValue:60,repeat:!0,min:0,max:100,decimals:0};default:console.error("Unknown variable type",l)}}e.defaultVariables=i;function o(l,c){if(c.format==="HH:mm:ss"){let a=Math.floor(l/3600),s=Math.floor((l-a*3600)/60),u=Math.round(l-a*3600-s*60);return{textValue:[a,s,u]}}else if(c.format==="mm:ss"){let a=Math.floor(l/60),s=Math.round(l-a*60);return{textValue:[a,s]}}else return c.format==="number"?l=Math.round(l):l=Math.round(l*1e3)/1e3,l}e.getFormattedTimerTime=o})(Hs||(Hs={}));var O2;(e=>e.list=["idle","move","jump","run"])(O2||(O2={}));var R2;(e=>(e.defaultColliderData={type:"capsule",height:200,radius:50,position:[0,0,0],rotation:[0,0,0]},e.defaultDataThirdPerson={moveMode:"walk",forwardDirection:"+z",speedTranslate:1e3,speedRotate:100,runMultiplier:2,rotationMode:"normal",rotBy:"keys",rotByTouch:"drag",delayPos:[.3,.3],delayRot:[.3,.3],keyAssignments:[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX",""],["rotPosY",""],["rotNegX",""],["rotNegY",""],["jump","Space"],["run",""],["none","Ctrl"]],touchControl:!0,joystickPosLoc:5,joystickRotLoc:11,jumpTouchButtonLoc:9,collider:e.defaultColliderData,colliderHelperVisible:!0,collisionEnabled:!0,jumpPower:100,resetYPosition:3e3,alignToGround:!1,autoOrientMove:!0,orientWith:"camera",orientMode:"radial",delayPosCamera:.3,delayRotCamera:.3,camera:"",cameraXAxis:"Limit",cameraYAxis:"Free",cameraRotXLimits:[0,Math.PI/2],cameraRotYLimits:[-Math.PI/2,Math.PI/2],gameActions:{idle:new At,move:new At,jump:new At,run:new At},navmesh:{enabled:!1,ch:6,cs:6,walkableClimb:5,walkableHeight:1,walkableRadius:0,zones:"all",objects:[],helperVisible:!0,destinationHelperRadius:0,destinationHelperColor:Ys.fromHexAndA(3728051,1)}}))(R2||(R2={}));function J9(e){e.layers.forEach(t=>{if(t.type==="depth"&&t.colorA!==void 0){let r=t.colorA,n=t.colorB,i=[[r.r,r.g,r.b,r.a],[n.r,n.g,n.b,n.a]],o=[0,1];for(let c=2;c<10;c++)i.push(i[1]),o.push(1);let l={...iu(Jn(t),"type","visible","isVector","isWorldSpace","origin","alpha","mode"),near:Math.max(0,t.near),far:Math.max(0,t.far),colors:i,steps:o,num:2,direction:[1,0,0],smooth:!1,gradientType:1};Object.assign(t,l)}else if(t.type==="depth"&&t.gradientType===1&&(t.near<0||t.far<0)){let r={...Jn(t),near:Math.max(t.near,0),far:Math.max(t.far,0)};Object.assign(t,r)}})}function id(e,t){Object.values(e.shared.materials).forEach(r=>t(r))}function od(e,t){e.scene.objects.traverse((r,n)=>{"materials"in n?n.materials.forEach((i,o)=>{i===void 0&&(n.materials[o]=$i.defaultData(),i=n.materials[o]),typeof i!="string"&&t(i)}):"material"in n?typeof n.material!="string"&&(n.material===void 0&&(n.material=$i.defaultData()),t(n.material)):n.type==="Mesh"&&(n.material===void 0&&(n.material=$i.defaultData()),t(n.material)),"overrides"in n&&Object.values(n.overrides).forEach(i=>{i.material&&typeof i.material!="string"&&t(i.material)})})}function r6e(e){Object.assign(e.scene.publish,{orbitControls:{...j2.defaultData,...Jn(e.scene.publish.orbitControls)}})}function n6e(e){Object.assign(e.scene.publish.settings,{video:{...rf.defaultData.settings.video,...Jn(e.scene.publish.settings.video)}})}function i6e(e){function t(r){if(r.layers){for(let n of Object.values(r.layers))if(n){for(let[i,o]of Object.entries(n))if((PK.includes(i)||typeof o=="boolean")&&delete n[i],i==="texture")for(let[l,c]of Object.entries(o))(t6e.includes(l)||typeof c=="boolean")&&delete o[l]}}}e.scene.objects.traverse((r,n)=>{n.states.forEach(i=>{let o=i;o.material?t(o.material):o.materials&&o.materials.forEach(l=>{t(l)})})})}function o6e(e){e.scene.publish.withBackground=!0}function a6e(e){e.scene.publish.settings.web={compress:!0,preload:!0,preset:1,logo:!0,hint:!1}}function s6e(e){e.scene.objects.traverse((t,r)=>{let n=r.cloner;n&&(n.radial.scale=n.radial.scale.map(i=>i+1),n.linear.scale=n.linear.scale.map(i=>i+1))})}function l6e(e){e.scene.objects.traverse((t,r)=>{let n=r.geometry;n&&(n.type==="DodecahedronGeometry"||n.type==="IcosahedronGeometry")&&(n.detail=Math.round(n.detail))})}function c6e(e){e.scene.objects.traverse((t,r)=>{let n=e.scene.objects.unproxy().parent(t);if(n){let i=Jn(e.scene.objects.data(n));i&&i.type==="Mesh"&&i.geometry.type==="BooleanGeometry"&&r.type==="Mesh"&&(r.visible=Jn(r).booleanExclude!==!0)}})}function u6e(e){e.scene.objects.traverse((t,r)=>{if(r.type==="Mesh"){let n=r;r.geometry.type==="NonParametricGeometry"?n.material!==void 0&&delete n.material:n.materials!==void 0&&delete n.materials}})}function d6e(e){function t(n){Object.setPrototypeOf(n,ci.prototype),n.texture&&Object.setPrototypeOf(n.texture,ci.prototype)}function r(n){Object.setPrototypeOf(n,ci.prototype);for(let i in n)t(n[i])}e.scene.objects.traverse((n,i)=>{i.states.forEach(o=>{let l=o;if(l.material){let c=Jn(l.material).layers;r(c),l.material.layers=c}if(l.materials)for(let c=0;c<l.materials.length;c++){let a=l.materials[c],s=Jn(a).layers;r(s),a.layers=s}})})}function Z9(e){e.layers===void 0&&Object.assign(e,$i.defaultTwoLayerData("lambert"))}function IC(e){!e.layers||e.layers.forEach(t=>{if(t.type==="depth"&&t.colors.length===10){let r=[...t.colors];r.push(t.colors[9]);let n=[...t.steps];n.push(t.steps[9]);let i={...Jn(t),colors:r,steps:n};Object.assign(t,i)}})}function h6e(e){e.scene.objects.traverse((t,r)=>{r.type==="Mesh"&&(r.geometry.type==="BooleanGeometry"||r.geometry.type==="SubdivGeometry")&&(r.geometry.phongAngle=35)})}function eB(e){e.scene.objects.traverse((t,r)=>{"materials"in r?r.materials.forEach(n=>{typeof n!="string"&&IC(n)}):"material"in r&&typeof r.material!="string"&&IC(r.material)}),Object.values(e.shared.materials).forEach(t=>IC(t))}function f6e(e){e.scene.environment.ambientLight.softShadows=!1,e.scene.environment.ambientLight.softShadowQuality="low",e.scene.objects.traverse((t,r)=>{(r.type==="DirectionalLight"||r.type==="SpotLight")&&(r.shadowResolution=1024,r.shadowRadius=1,r.depth=1e5)}),e.shared.penumbraSize=new Array(5).fill(.5)}function p6e(e){e.shared.audios=gu({},$t.prototype)}function m6e(e){e.shared.videos=gu({},$t.prototype)}function g6e(e){let t=e.shared.materials;Object.entries(t).forEach(([r,n])=>{if(!n.layers){let i={name:"Untitled Material",layers:[{fi:0,data:{type:"light",category:"phong",alpha:.6,visible:!0,mode:0,specular:{r:.2,g:.2,b:.2},shininess:5},id:"layer1"},{fi:1,data:{type:"color",alpha:1,visible:!0,mode:0,color:{r:.2823529411764706,g:.2823529411764706,b:.30196078431372547}},id:"layer2"}]};Object.assign(t,{[r]:i})}})}function v6e(e){Object.entries(Jn(e.shared.images)).filter(t=>t[1].asset===!1).map(t=>t[0]).forEach(t=>{delete e.shared.images[t]}),Object.entries(Jn(e.shared.audios)).filter(t=>t[1].asset===!1).map(t=>t[0]).forEach(t=>{delete e.shared.audios[t]})}function y6e(e){e.scene.publish.settings.web.preload=!1}function tB(e){e.layers&&e.layers.forEach(t=>{t.type==="depth"&&t.num!==void 0&&(t.colors=t.colors.slice(0,t.num),t.steps=t.steps.slice(0,t.num),delete t.num)})}function rB(e){e.layers&&e.layers.forEach(t=>{e6e(t)&&t.isMask===void 0&&(t.isMask=!1),(t.type==="texture"||t.type==="video")&&t.blending===void 0&&(t.blending=0),(t.type==="noise"||t.type==="displace"&&t.displacementType==="noise")&&(t.voronoiStyle===void 0&&(t.voronoiStyle=0),t.highCut===void 0&&(t.highCut=1),t.lowCut===void 0&&(t.lowCut=0),t.smoothness===void 0&&(t.smoothness=.3),t.seed===void 0&&(t.seed=0),t.quality===void 0&&(t.quality=1))})}function b6e(e){e.shared.fonts=gu({},$t.prototype)}function x6e(e){return e.replace(".typeface","").replace(/optimer/gi,"open sans").replace("space_mono","space mono").replace(/alma_mono/gi,"varela round").replace(/droid_sans_mono/gi,"noto sans mono").replace(/droid_sans|gentilis|gnomon_(simple|foreground)|helvetiker/gi,"roboto").replace(/droid_serif/gi,"roboto slab").replace("_sans"," sans").replace("crimson_text","crimson text").replace("medium_medium","medium").replace("fatface_fatface","fatface").replace("100hairline","thin").replace("200thin","extralight").replace("300light","light").replace("500medium","medium").replace("600semi","semibold").replace("800heavy","extrabold").replace("900black","black").replace(/bodoni_(11|16|24|36|48|72|96)([^_])/gi,"bodoni_$1_$2").replace(/bodoni_(11|16|24|36|48|72|96)/gi,"bodoni moda").replace(/(thin|hairline)(_regular)?/gi,"100").replace(/(extra|ultra)light(_regular)?/gi,"200").replace(/light(_regular)?/gi,"300").replace(/_book|_normal|_roman/gi,"_regular").replace(/medium(_regular)?/gi,"500").replace(/(semi|demi)bold(_regular)?/gi,"600").replace(/(extra|ultra)bold(_regular)?/gi,"800").replace(/bold(_regular)?/gi,"700").replace(/(black|heavy|fatface)(_regular)?/gi,"900").replace(/([1-9]00)_italic/gi,"$1italic").replace(/regularitalic/gi,"italic").replace(/regularitalic/gi,"italic").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function w6e(e){let t=[];e.scene.objects.traverse((r,n)=>{let i=n;if(i.type==="TextFrame"){let o=$i.defaultTwoLayerData("phong"),l=typeof i.color=="string"?e.shared.colors[i.color]:i.color;o.layers[1].data.color={r:l.r,g:l.g,b:l.b},o.layers[1].data.alpha=i.alpha;let c=x6e(i.font);e.shared.fonts[c]===void 0&&(e.shared.fonts[c]={name:c});let a={name:i.name,...wo.defaultData,...Rm.defaultData,flatShading:!1,wireframe:!1,geometry:{...Om.defaultData("TextGeometry"),width:i.width,height:i.height,font:c,depth:0,horizontalAlign:i.horizontalAlign,verticalAlign:i.verticalAlign,fontSize:i.fontSize*1.40625,lineHeight:i.lineHeight/1.40625,letterSpacing:i.letterSpacing-1,text:i.text,textTransform:i.textTransform,extrudeBevelSize:0,extrudeBevelSegments:1},material:o,states:Jn(i.states),events:Jn(i.events),visible:i.visible,raycastLock:i.raycastLock,position:i.position,rotation:i.rotation,scale:i.scale,hiddenMatrix:i.hiddenMatrix},s=Jn(e.scene.objects).parent(r);e.scene.objects.insertAfter(s??null,r,[{id:r+"new",data:a,children:[]}]),t.push(r)}}),t.forEach(r=>{e.scene.objects.delete(r)})}function _6e(e){let t={0:"MouseDown",1:"MouseUp",2:"MouseHover",5:"KeyDown",6:"KeyUp",7:"Start",9:"LookAt",10:"Follow",11:"Scroll",12:"Audio",13:"GameControl"};e.scene.objects.traverse((r,n)=>{n.events.forEach(i=>{if(t[Number(i.type)])if(Object.assign(i,{type:t[Number(i.type)]}),i.type==="Audio"&&"audioEvent"in i&&(Object.assign(i,{playAudio:i.audioEvent}),delete i.audioEvent),i.type==="GameControl")Object.assign(i,{gameActions:{idle:new At,move:new At,jump:new At}});else{let o=new At;Object.assign(i,{actions:o}),(i.type==="MouseDown"||i.type==="MouseUp"||i.type==="KeyDown"||i.type==="KeyUp")&&"url"in i&&o.push({fi:0,id:pt.generateUUID(),data:{type:"Link",url:i.url,delay:0}}),"targets"in i&&(i.targets.forEach((l,c,a)=>{let s={state:void 0,repeat:0,delay:0,delayDirection:void 0,direction:"normal",duration:0,easing:4},u={easing:l.easing,duration:l.duration};l.easing===6?Object.assign(u,iu(l,"mass","stiffness","damping","velocity")):l.easing===5&&Object.assign(u,{control1:{...l.control1},control2:{...l.control2}});let d={repeat:l.repeat?-1:0,delay:l.delay,delayDirection:l.delayDirection,direction:l.cycle&&l.rewind?"pingpong-rewind":l.cycle?"pingpong":"normal"},h={state:l.state,...d,...u},f={allowSlerp:!0,type:"Transition",object:l.object,repeat:0,delay:0,delayDirection:void 0,direction:"normal",tweens:new At({fi:0,id:pt.generateUUID(),data:s},{fi:1,id:pt.generateUUID(),data:h})};o.push({fi:a,id:c,data:f})}),delete i.targets)}})})}function S6e(e){e.scene.objects.traverse((t,r)=>{function n(i,o){var a;let l=new At,c=[];if(r.events.forEach((s,u,d)=>{if(s.type==="Audio"&&s.trigger===o){let h;c.push(u),s.interaction==="play"?h={...iu(s,"interaction","audio","delay","volume","loop"),triggerAfter:"after"in s?s.after:void 0,toggle:"after"in s?s.toggle:void 0,type:"Audio"}:(s.interaction==="pause"||s.interaction==="stop")&&(h={...iu(s,"interaction","delay","object","playAudio"),type:"Audio"}),h&&l.push({fi:d,id:u,data:h})}}),c.forEach(s=>r.events.delete(s)),l.length){let s=(a=r.events.find(u=>u.type===i))==null?void 0:a.data;s?"actions"in s&&s.actions.insertBefore(null,l):r.events.insertBefore(null,[{id:pt.generateUUID(),data:{type:i,actions:l}}])}}n("Start","start"),n("MouseDown","mouseDown"),n("MouseUp","mouseUp"),n("KeyDown","keyDown"),n("KeyUp","keyUp")})}function nB(e){var r;let t=(r=e.layers.find(n=>n.type==="light"))==null?void 0:r.data;if((t==null?void 0:t.category)==="basic"){let n=Io.defaultData("light","phong"),i=t;Object.assign(i,n),i.visible=!1}}function iB(e){id(e,nB),od(e,nB)}function E6e(e){e.scene.objects.traverse((t,r)=>{r.type==="Mesh"&&r.geometry.type==="SubdivGeometry"&&(r.geometry.scaleBaked||(r.geometry.scaleBaked=[1,1,1]))})}function A6e(e){e.scene.objects.traverse((t,r)=>{(r.type==="Empty"||r.type==="Mesh")&&r.cloner&&!r.cloner.randomnessObject&&!r.cloner.toObject&&!r.cloner.randomness&&(r.cloner={...r.cloner,toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}})})}function C6e(e){e.scene.objects.traverse((t,r)=>{r.type==="Mesh"&&r.geometry.type==="NonParametricGeometry"&&!("material"in r)&&!("materials"in r)&&(r.material=$i.defaultTwoLayerData("phong"))})}function M6e(e){e.scene.publish.orbitControls.autoZoom===void 0&&(e.scene.publish.orbitControls.autoZoom=!1),e.scene.objects.traverse((t,r)=>{(r.type==="OrthographicCamera"||r.type==="PerspectiveCamera")&&(r.orthographic.autoZoom===void 0&&(r.orthographic.autoZoom=!1),r.orthographic.autoZoomFrustumSize===void 0&&(r.orthographic.autoZoomFrustumSize=790))})}function T6e(e){e.scene.objects.traverse((t,r)=>{r.pathSnapping===void 0&&(r.pathSnapping={pathId:null,slide:0,offset:0,orientation:"tangential"}),r.pathSnapping.offset===void 0&&(r.pathSnapping.offset=0)})}function P6e(e){e.scene.publish.mouseEventTarget===void 0&&(e.scene.publish.mouseEventTarget="canvas"),e.scene.publish.settings.web.hint===void 0&&(e.scene.publish.settings.web.hint=!1)}function k6e(e){let{video:t}=e.scene.publish.settings;t.format==="gif"&&t.fps>48&&(t.fps=15)}function D6e(e){e.scene.objects.traverse((t,r)=>{r.events.forEach(n=>{n.type==="GameControl"&&(n.resetYPosition=Math.abs(n.resetYPosition-r.position[1]))})})}function j6e(e){let t=e.scene.environment.usePhysics;e.scene.objects.traverse((r,n)=>{t&&n.physics===null?n.collision=!1:n.collision="visibility"})}function I6e(e){e.scene.objects.traverse((t,r)=>{r.events.forEach(n=>{n.type==="GameControl"&&(n.navmesh=R2.defaultDataThirdPerson.navmesh)})})}function O6e(e){e.scene.styles||(e.scene.styles=Lm.defaultData())}function oB(e){e.layers.forEach(t=>{t.type==="light"&&t.category!=="toon"&&t.occlusion===void 0&&(t.occlusion=!0)})}function R6e(e){e.scene.environment.ambientLight.occlusion===void 0&&(e.scene.environment.ambientLight.occlusion=!1),e.scene.environment.ambientLight.aoFullRes===void 0&&(e.scene.environment.ambientLight.aoFullRes=!1),e.scene.environment.ambientLight.radius===void 0&&(e.scene.environment.ambientLight.radius=256),e.scene.environment.ambientLight.bias===void 0&&(e.scene.environment.ambientLight.bias=.5),e.scene.environment.ambientLight.aoColor===void 0&&(e.scene.environment.ambientLight.aoColor={r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}),od(e,oB),id(e,oB)}function L6e(e){e.scene.objects.traverse((t,r)=>{r.events.forEach(n=>{n.type==="GameControl"&&Object.assign(n.gameActions,{run:new At})})})}function z6e(e){e.scene.objects.traverse((t,r)=>{r.events.forEach(n=>{n.type==="GameControl"&&(n.keyAssignments=[...n.keyAssignments,["run",""],["none","Ctrl"]])})})}function aB(e){e.layers&&e.layers.forEach(t=>{t.type==="light"&&t.bumpMapIntensity===void 0&&(t.bumpMapIntensity=5)})}function N6e(e,t){if(t<1&&(od(e,J9),id(e,J9),e.schema=1),t<2&&(r6e(e),e.schema=2),t<3&&(i6e(e),e.schema=3),t<4&&(o6e(e),e.schema=4),t<5&&(a6e(e),e.schema=5),t<6&&(s6e(e),e.schema=6),t<7&&(l6e(e),e.schema=7),t<8&&(e.schema=8),t<9&&(eB(e),e.schema=9),t<10&&(h6e(e),e.schema=10),t<11&&(f6e(e),e.schema=11),t<12&&(eB(e),e.schema=12),t<13&&(p6e(e),e.schema=13),t<14&&(g6e(e),e.schema=14),t<15&&(v6e(e),e.schema=15),t<16&&(y6e(e),e.schema=16),t<17&&(od(e,tB),id(e,tB),e.schema=17),t<18&&(od(e,Z9),id(e,Z9),e.schema=18),t<19&&(n6e(e),e.schema=19),t<20&&(b6e(e),w6e(e),e.schema=20),t<21&&(_6e(e),S6e(e),e.schema=21),t<22&&(iB(e),e.schema=22),t<23&&(E6e(e),e.schema=23),t<24&&(A6e(e),e.schema=24),(t<25||e.shared.videos===void 0)&&(m6e(e),t<25&&(e.schema=25)),t<26&&(c6e(e),e.schema=26),t<27&&(u6e(e),e.schema=27),t<28&&(iB(e),e.schema=28),t<29&&(d6e(e),e.schema=29),t<30&&(C6e(e),e.schema=30),t<31&&(M6e(e),e.schema=31),t<33&&(T6e(e),e.schema=33),t<34&&(P6e(e),e.schema=34),t<35&&(k6e(e),e.schema=35),t<36&&(D6e(e),e.schema=36),t<37&&(j6e(e),e.schema=37),t<38&&(od(e,rB),id(e,rB),e.schema=38),t<39&&(I6e(e),e.schema=39),t<40&&(O6e(e),e.schema=40),t<41&&(R6e(e),e.schema=41),t<42&&(L6e(e),e.schema=42),t<43&&(z6e(e),e.schema=43),t<99){od(e,aB),id(e,aB),e.scene.publish.playCamera===null&&(e.scene.publish.playCamera=l0);let r=Jn(e.scene.objects),n=e.scene.objects;e.scene.publish.playPage=sy,n.insertBefore(null,null,[{id:sy,data:{...Cg.defaultData,backgroundColor:e.scene.backgroundColor,fog:e.scene.fog,postprocessing:e.scene.postprocessing,ao:iu(e.scene.environment.ambientLight,"occlusion","aoFullRes","radius","bias","aoColor"),publish:{playCamera:e.scene.publish.playCamera,gameControlObject:e.scene.publish.gameControlObject},shadow:iu(e.scene.environment.ambientLight,"softShadowQuality"),globalPhysics:{...Eg.defaultData,...iu(e.scene.environment,"usePhysics","gravity")},camera:Jn(e.scene.ownerCamera)??Cg.defaultData.camera,name:"Scene"},children:[]}]);for(let l of r)l.id!==zm.TRASH_CAN_ID&&n.move(sy,l.fi,l.id);let i=0,o=0;e.shared.penumbraSize&&e.scene.objects.traverse((l,c)=>{c.type==="DirectionalLight"?(c.penumbraSize=e.shared.penumbraSize[Math.min(i,2)],i+=1):c.type==="SpotLight"&&(c.penumbraSize=e.shared.penumbraSize[3+Math.min(o,1)],o+=1),(c.physics===void 0||c.physics===null)&&c.type!=="Instance"&&(c.physics={},Object.assign(c.physics,Sg.defaultData)),c.physics!==void 0&&c.physics!==null&&(c.physics.enabled=c.collision??"visibility",delete c.collision)}),e.schema=99}}function sB(e){e.layers&&e.layers.forEach(t=>{t.type==="light"&&t.alphaOverride===void 0&&(t.alphaOverride=1)})}function B6e(e){e.scene.objects.traverse((t,r)=>{let n=r.geometry;n&&n.type==="PathGeometry"&&(n.extrusion.capType="flat",n.extrusion.bevel=50,n.extrusion.bevelSides=6,n.extrusion.shape.type==="Custom"&&(n.extrusion.shape.shapeQuality="low"))})}var Bp=180/Math.PI;function lB(e){e.rotation=e.rotation.slice(0,3).map(t=>t*Bp)}function IK(e){var r,n;lB(e),e.type==="Page"&&lB(e.camera),(r=e.states)==null||r.forEach(i=>{i.rotation===void 0||i.rotation===null||(i.rotation=i.rotation.slice(0,3).map(o=>o*Bp))});let t=e.geometry;t&&t.type==="SphereGeometry"&&(t.thetaLength=(t.thetaLength??180)*Bp),t&&t.type==="TorusGeometry"&&(t.arc=t.arc*Bp),t&&t.type==="PathGeometry"&&(t.extrusion.angle*=Bp,t.extrusion.twist*=Bp),e.type==="Mesh"&&e.geometry.type==="TextGeometry"&&(e.geometry.text={textValue:e.geometry.text}),Array.isArray(Jn(e.events))&&((n=e.events)==null||n.forEach(i=>{(i.type==="MouseDown"||i.type==="MouseUp"||i.type==="MousePress"||i.type==="KeyDown"||i.type==="KeyUp"||i.type==="KeyPress"||i.type==="Collision"||i.type==="Trigger")&&(i.runMode=i.toggle?"Toggle":"Once")}))}function F6e(e){e.shared.variables=gu({},$t.prototype)}function U6e(e){let t=Jn(e.shared.variables);e.shared.variables=gu(Object.entries(t??{}).map(([r,n],i)=>({fi:i,id:r,data:n})),At.prototype)}var ad=107;function OK(e,t){t(e.data);for(let r of e.children)OK(r,t)}function V6e(e){let t=e.schema??104;t!==ad&&t<105&&(OK(e.asset,IK),e.schema=105)}function RK(e){let t=e.schema??0;if(t!==ad){console.warn("updating from ",t,"to ",ad),N6e(e,t),t<100&&(e.scene.publish.joystickSizeAndXYOffset===void 0&&(e.scene.publish.joystickSizeAndXYOffset=rf.defaultData.joystickSizeAndXYOffset),e.schema=100),t<101&&(od(e,sB),id(e,sB),e.schema=101),t<102&&(B6e(e),e.schema=102),t<104&&(e.shared.catelogs=new $t,e.shared.lib=Mg.defaultData(),e.schema=104),t<105&&(F6e(e),e.scene.objects.traverse((r,n)=>{IK(n)}),e.schema=105);for(let r of Object.values(e.shared.lib.components))V6e(r);t<106&&(U6e(e),e.schema=106),t<107&&(e.shared.lib.variables=Mg.defaultData().variables,e.schema=107)}}var L2;(e=>{e.defaultData={schema:ad,scene:zm.defaultData,frames:new $t().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",ly.defaultData),shared:{...Hs.emptyData(),colors:Hs.defaultColors()}},e.emptyDataForImports=function(i){let o=zm.emptyDataWithPage(i);return{schema:ad,scene:o,frames:new $t().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",ly.defaultData),shared:{...Hs.emptyData(),colors:Hs.defaultColors(),images:Hs.defaultImages(i)}}},e.emptyData=function(){return{schema:ad,scene:zm.emptyDataWithPage(),frames:new $t().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",ly.defaultData),shared:Hs.emptyData()}},e.collabHelper={...cP,updateSchema(i){return(i.schema??0)<ad?l1(i,RK):(i.schema??0)-ad}};function t(i){let o=e.collabHelper.updateSchema(i);return typeof o=="number"?o===0?i:null:o.data}e.updateSchemaDirectly=t;function r(i){return{...i,shared:{...i.shared,lib:Mg.defaultData()}}}e.withoutLib=r;function n(i,o){let l=i.scene.objects.get(o);if(l&&l.data.type==="Component")return l;{let c=i.shared.lib.components[o];if(c)return c.asset}}e.getComponentData=n})(L2||(L2={}));function Vh(e,t=!1){let r=e[0].index!==null,n=new Set(Object.keys(e[0].attributes)),i=new Set(Object.keys(e[0].morphAttributes)),o={},l={},c=e[0].morphTargetsRelative,a=new vt,s=0;for(let u=0;u<e.length;++u){let d=e[u],h=0;if(r!==(d.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let f in d.attributes){if(!n.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+f+'" attribute exists among all geometries, or in none of them.'),null;o[f]===void 0&&(o[f]=[]),o[f].push(d.attributes[f]),h++}if(h!==n.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(c!==d.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let f in d.morphAttributes){if(!i.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;l[f]===void 0&&(l[f]=[]),l[f].push(d.morphAttributes[f])}if(t){let f;if(r)f=d.index.count;else if(d.attributes.position!==void 0)f=d.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;a.addGroup(s,f,u),s+=f}}if(r){let u=0,d=[];for(let h=0;h<e.length;++h){let f=e[h].index;for(let m=0;m<f.count;++m)d.push(f.getX(m)+u);u+=e[h].attributes.position.count}a.setIndex(d)}for(let u in o){let d=cB(o[u]);if(!d)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" attribute."),null;a.setAttribute(u,d)}for(let u in l){let d=l[u][0].length;if(d===0)break;a.morphAttributes=a.morphAttributes||{},a.morphAttributes[u]=[];for(let h=0;h<d;++h){let f=[];for(let p=0;p<l[u].length;++p)f.push(l[u][p][h]);let m=cB(f);if(!m)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" morphAttribute."),null;a.morphAttributes[u].push(m)}}return a}function cB(e){let t,r,n,i=0;for(let c=0;c<e.length;++c){let a=e[c];if(a.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(t===void 0&&(t=a.array.constructor),t!==a.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(r===void 0&&(r=a.itemSize),r!==a.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(n===void 0&&(n=a.normalized),n!==a.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;i+=a.array.length}let o=new t(i),l=0;for(let c=0;c<e.length;++c)o.set(e[c].array,l),l+=e[c].array.length;return new kt(o,r,n)}var H6e=Math.pow(2,-24),bx=class{constructor(){}};function Bl(e,t,r){return r.min.x=t[e],r.min.y=t[e+1],r.min.z=t[e+2],r.max.x=t[e+3],r.max.y=t[e+4],r.max.z=t[e+5],r}function uB(e){let t=-1,r=-1/0;for(let n=0;n<3;n++){let i=e[n+3]-e[n];i>r&&(r=i,t=n)}return t}function dB(e,t){t.set(e)}function hB(e,t,r){let n,i;for(let o=0;o<3;o++){let l=o+3;n=e[o],i=t[o],r[o]=n<i?n:i,n=e[l],i=t[l],r[l]=n>i?n:i}}function xx(e,t,r){for(let n=0;n<3;n++){let i=t[e+2*n],o=t[e+2*n+1],l=i-o,c=i+o;l<r[n]&&(r[n]=l),c>r[n+3]&&(r[n+3]=c)}}function K0(e){let t=e[3]-e[0],r=e[4]-e[1],n=e[5]-e[2];return 2*(t*r+r*n+n*t)}function W6e(e,t){if(!e.index){let r=e.attributes.position.count,n=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,i;r>65535?i=new Uint32Array(new n(4*r)):i=new Uint16Array(new n(2*r)),e.setIndex(new kt(i,1));for(let o=0;o<r;o++)i[o]=o}}function G6e(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];let t=[],r=new Set;for(let i of e.groups)r.add(i.start),r.add(i.start+i.count);let n=Array.from(r.values()).sort((i,o)=>i-o);for(let i=0;i<n.length-1;i++){let o=n[i],l=n[i+1];t.push({offset:o/3,count:(l-o)/3})}return t}function OC(e,t,r,n,i=null){let o=1/0,l=1/0,c=1/0,a=-1/0,s=-1/0,u=-1/0,d=1/0,h=1/0,f=1/0,m=-1/0,p=-1/0,g=-1/0,v=i!==null;for(let x=t*6,y=(t+r)*6;x<y;x+=6){let b=e[x+0],w=e[x+1],_=b-w,S=b+w;_<o&&(o=_),S>a&&(a=S),v&&b<d&&(d=b),v&&b>m&&(m=b);let E=e[x+2],C=e[x+3],A=E-C,T=E+C;A<l&&(l=A),T>s&&(s=T),v&&E<h&&(h=E),v&&E>p&&(p=E);let k=e[x+4],D=e[x+5],M=k-D,P=k+D;M<c&&(c=M),P>u&&(u=P),v&&k<f&&(f=k),v&&k>g&&(g=k)}n[0]=o,n[1]=l,n[2]=c,n[3]=a,n[4]=s,n[5]=u,v&&(i[0]=d,i[1]=h,i[2]=f,i[3]=m,i[4]=p,i[5]=g)}function q6e(e,t,r,n){let i=1/0,o=1/0,l=1/0,c=-1/0,a=-1/0,s=-1/0;for(let u=t*6,d=(t+r)*6;u<d;u+=6){let h=e[u+0];h<i&&(i=h),h>c&&(c=h);let f=e[u+2];f<o&&(o=f),f>a&&(a=f);let m=e[u+4];m<l&&(l=m),m>s&&(s=m)}n[0]=i,n[1]=o,n[2]=l,n[3]=c,n[4]=a,n[5]=s}function Y6e(e,t,r,n,i){let o=r,l=r+n-1,c=i.pos,a=i.axis*2;for(;;){for(;o<=l&&t[o*6+a]<c;)o++;for(;o<=l&&t[l*6+a]>=c;)l--;if(o<l){for(let s=0;s<3;s++){let u=e[o*3+s];e[o*3+s]=e[l*3+s],e[l*3+s]=u;let d=t[o*6+s*2+0];t[o*6+s*2+0]=t[l*6+s*2+0],t[l*6+s*2+0]=d;let h=t[o*6+s*2+1];t[o*6+s*2+1]=t[l*6+s*2+1],t[l*6+s*2+1]=h}o++,l--}else return o}}var Mc=32,X6e=(e,t)=>e.candidate-t.candidate,Lu=new Array(Mc).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),wx=new Float32Array(6);function $6e(e,t,r,n,i,o){let l=-1,c=0;if(o===0)l=uB(t),l!==-1&&(c=(t[l]+t[l+3])/2);else if(o===1)l=uB(e),l!==-1&&(c=K6e(r,n,i,l));else if(o===2){let a=K0(e),s=1.25*i,u=n*6,d=(n+i)*6;for(let h=0;h<3;h++){let f=t[h],m=(t[h+3]-f)/Mc;if(i<Mc/4){let p=[...Lu];p.length=i;let g=0;for(let x=u;x<d;x+=6,g++){let y=p[g];y.candidate=r[x+2*h],y.count=0;let{bounds:b,leftCacheBounds:w,rightCacheBounds:_}=y;for(let S=0;S<3;S++)_[S]=1/0,_[S+3]=-1/0,w[S]=1/0,w[S+3]=-1/0,b[S]=1/0,b[S+3]=-1/0;xx(x,r,b)}p.sort(X6e);let v=i;for(let x=0;x<v;x++){let y=p[x];for(;x+1<v&&p[x+1].candidate===y.candidate;)p.splice(x+1,1),v--}for(let x=u;x<d;x+=6){let y=r[x+2*h];for(let b=0;b<v;b++){let w=p[b];y>=w.candidate?xx(x,r,w.rightCacheBounds):(xx(x,r,w.leftCacheBounds),w.count++)}}for(let x=0;x<v;x++){let y=p[x],b=y.count,w=i-y.count,_=y.leftCacheBounds,S=y.rightCacheBounds,E=0;b!==0&&(E=K0(_)/a);let C=0;w!==0&&(C=K0(S)/a);let A=1+1.25*(E*b+C*w);A<s&&(l=h,s=A,c=y.candidate)}}else{for(let v=0;v<Mc;v++){let x=Lu[v];x.count=0,x.candidate=f+m+v*m;let y=x.bounds;for(let b=0;b<3;b++)y[b]=1/0,y[b+3]=-1/0}for(let v=u;v<d;v+=6){let x=~~((r[v+2*h]-f)/m);x>=Mc&&(x=Mc-1);let y=Lu[x];y.count++,xx(v,r,y.bounds)}let p=Lu[Mc-1];dB(p.bounds,p.rightCacheBounds);for(let v=Mc-2;v>=0;v--){let x=Lu[v],y=Lu[v+1];hB(x.bounds,y.rightCacheBounds,x.rightCacheBounds)}let g=0;for(let v=0;v<Mc-1;v++){let x=Lu[v],y=x.count,b=x.bounds,w=Lu[v+1].rightCacheBounds;y!==0&&(g===0?dB(b,wx):hB(b,wx,wx)),g+=y;let _=0,S=0;g!==0&&(_=K0(wx)/a);let E=i-g;E!==0&&(S=K0(w)/a);let C=1+1.25*(_*g+S*E);C<s&&(l=h,s=C,c=x.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${o} used.`);return{axis:l,pos:c}}function K6e(e,t,r,n){let i=0;for(let o=t,l=t+r;o<l;o++)i+=e[o*6+n*2];return i/r}function Q6e(e,t){let r=e.attributes.position,n=e.index.array,i=n.length/3,o=new Float32Array(i*6),l=r.normalized,c=r.array,a=r.offset||0,s=3;r.isInterleavedBufferAttribute&&(s=r.data.stride);let u=["getX","getY","getZ"];for(let d=0;d<i;d++){let h=d*3,f=d*6,m,p,g;l?(m=n[h+0],p=n[h+1],g=n[h+2]):(m=n[h+0]*s+a,p=n[h+1]*s+a,g=n[h+2]*s+a);for(let v=0;v<3;v++){let x,y,b;l?(x=r[u[v]](m),y=r[u[v]](p),b=r[u[v]](g)):(x=c[m+v],y=c[p+v],b=c[g+v]);let w=x;y<w&&(w=y),b<w&&(w=b);let _=x;y>_&&(_=y),b>_&&(_=b);let S=(_-w)/2,E=v*2;o[f+E+0]=w+S,o[f+E+1]=S+(Math.abs(w)+S)*H6e,w<t[v]&&(t[v]=w),_>t[v+3]&&(t[v+3]=_)}}return o}function J6e(e,t){function r(v){h&&h(v/f)}function n(v,x,y,b=null,w=0){if(!m&&w>=a&&(m=!0,s&&(console.warn(`MeshBVH: Max depth of ${a} reached when generating BVH. Consider increasing maxDepth.`),console.warn(e))),y<=u||w>=a)return r(x+y),v.offset=x,v.count=y,v;let _=$6e(v.boundingData,b,l,x,y,d);if(_.axis===-1)return r(x+y),v.offset=x,v.count=y,v;let S=Y6e(c,l,x,y,_);if(S===x||S===x+y)r(x+y),v.offset=x,v.count=y;else{v.splitAxis=_.axis;let E=new bx,C=x,A=S-x;v.left=E,E.boundingData=new Float32Array(6),OC(l,C,A,E.boundingData,o),n(E,C,A,o,w+1);let T=new bx,k=S,D=y-A;v.right=T,T.boundingData=new Float32Array(6),OC(l,k,D,T.boundingData,o),n(T,k,D,o,w+1)}return v}W6e(e,t);let i=new Float32Array(6),o=new Float32Array(6),l=Q6e(e,i),c=e.index.array,a=t.maxDepth,s=t.verbose,u=t.maxLeafTris,d=t.strategy,h=t.onProgress,f=e.index.count/3,m=!1,p=[],g=G6e(e);if(g.length===1){let v=g[0],x=new bx;x.boundingData=i,q6e(l,v.offset,v.count,o),n(x,v.offset,v.count,o),p.push(x)}else for(let v of g){let x=new bx;x.boundingData=new Float32Array(6),OC(l,v.offset,v.count,x.boundingData,o),n(x,v.offset,v.count,o),p.push(x)}return p}function Z6e(e,t){let r=J6e(e,t),n,i,o,l=[],c=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let u=0;u<r.length;u++){let d=r[u],h=a(d),f=new c(32*h);n=new Float32Array(f),i=new Uint32Array(f),o=new Uint16Array(f),s(0,d),l.push(f)}return l;function a(u){return u.count?1:1+a(u.left)+a(u.right)}function s(u,d){let h=u/4,f=u/2,m=!!d.count,p=d.boundingData;for(let g=0;g<6;g++)n[h+g]=p[g];if(m){let g=d.offset,v=d.count;return i[h+6]=g,o[f+14]=v,o[f+15]=65535,u+32}else{let g=d.left,v=d.right,x=d.splitAxis,y;if(y=s(u+32,g),y/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return i[h+6]=y/4,y=s(y,v),i[h+7]=x,y}}}var vu=class{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let r=1/0,n=-1/0;for(let i=0,o=e.length;i<o;i++){let l=e[i][t];r=l<r?l:r,n=l>n?l:n}this.min=r,this.max=n}setFromPoints(e,t){let r=1/0,n=-1/0;for(let i=0,o=t.length;i<o;i++){let l=t[i],c=e.dot(l);r=c<r?c:r,n=c>n?c:n}this.min=r,this.max=n}isSeparated(e){return this.min>e.max||e.min>this.max}};vu.prototype.setFromBox=function(){let e=new V;return function(t,r){let n=r.min,i=r.max,o=1/0,l=-1/0;for(let c=0;c<=1;c++)for(let a=0;a<=1;a++)for(let s=0;s<=1;s++){e.x=n.x*c+i.x*(1-c),e.y=n.y*a+i.y*(1-a),e.z=n.z*s+i.z*(1-s);let u=t.dot(e);o=Math.min(u,o),l=Math.max(u,l)}this.min=o,this.max=l}}();var eIe=function(){let e=new V,t=new V,r=new V;return function(n,i,o){let l=n.start,c=e,a=i.start,s=t;r.subVectors(l,a),e.subVectors(n.end,n.start),t.subVectors(i.end,i.start);let u=r.dot(s),d=s.dot(c),h=s.dot(s),f=r.dot(c),m=c.dot(c)*h-d*d,p,g;m!==0?p=(u*d-f*h)/m:p=0,g=(u+p*d)/h,o.x=p,o.y=g}}(),u6=function(){let e=new oe,t=new V,r=new V;return function(n,i,o,l){eIe(n,i,e);let c=e.x,a=e.y;if(c>=0&&c<=1&&a>=0&&a<=1){n.at(c,o),i.at(a,l);return}else if(c>=0&&c<=1){a<0?i.at(0,l):i.at(1,l),n.closestPointToPoint(l,!0,o);return}else if(a>=0&&a<=1){c<0?n.at(0,o):n.at(1,o),i.closestPointToPoint(o,!0,l);return}else{let s;c<0?s=n.start:s=n.end;let u;a<0?u=i.start:u=i.end;let d=t,h=r;if(n.closestPointToPoint(u,!0,t),i.closestPointToPoint(s,!0,r),d.distanceToSquared(u)<=h.distanceToSquared(s)){o.copy(d),l.copy(u);return}else{o.copy(s),l.copy(h);return}}}}(),tIe=function(){let e=new V,t=new V,r=new fa,n=new ss;return function(i,o){let{radius:l,center:c}=i,{a,b:s,c:u}=o;if(n.start=a,n.end=s,n.closestPointToPoint(c,!0,e).distanceTo(c)<=l||(n.start=a,n.end=u,n.closestPointToPoint(c,!0,e).distanceTo(c)<=l)||(n.start=s,n.end=u,n.closestPointToPoint(c,!0,e).distanceTo(c)<=l))return!0;let d=o.getPlane(r);if(Math.abs(d.distanceToPoint(c))<=l){let h=d.projectPoint(c,t);if(o.containsPoint(h))return!0}return!1}}(),rIe=1e-15;function fp(e){return Math.abs(e)<rIe}var yu=class extends Gi{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new V),this.satBounds=new Array(4).fill().map(()=>new vu),this.points=[this.a,this.b,this.c],this.sphere=new Zo,this.plane=new fa,this.needsUpdate=!0}intersectsSphere(e){return tIe(e,this)}update(){let e=this.a,t=this.b,r=this.c,n=this.points,i=this.satAxes,o=this.satBounds,l=i[0],c=o[0];this.getNormal(l),c.setFromPoints(l,n);let a=i[1],s=o[1];a.subVectors(e,t),s.setFromPoints(a,n);let u=i[2],d=o[2];u.subVectors(t,r),d.setFromPoints(u,n);let h=i[3],f=o[3];h.subVectors(r,e),f.setFromPoints(h,n),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(l,e),this.needsUpdate=!1}};yu.prototype.closestPointToSegment=function(){let e=new V,t=new V,r=new ss;return function(n,i=null,o=null){let{start:l,end:c}=n,a=this.points,s,u=1/0;for(let d=0;d<3;d++){let h=(d+1)%3;r.start.copy(a[d]),r.end.copy(a[h]),u6(r,n,e,t),s=e.distanceToSquared(t),s<u&&(u=s,i&&i.copy(e),o&&o.copy(t))}return this.closestPointToPoint(l,e),s=l.distanceToSquared(e),s<u&&(u=s,i&&i.copy(e),o&&o.copy(l)),this.closestPointToPoint(c,e),s=c.distanceToSquared(e),s<u&&(u=s,i&&i.copy(e),o&&o.copy(c)),Math.sqrt(u)}}();yu.prototype.intersectsTriangle=function(){let e=new yu,t=new Array(3),r=new Array(3),n=new vu,i=new vu,o=new V,l=new V,c=new V,a=new V,s=new ss,u=new ss,d=new ss;return function(h,f=null,m=!1){this.needsUpdate&&this.update(),h.isExtendedTriangle?h.needsUpdate&&h.update():(e.copy(h),e.update(),h=e);let p=this.plane,g=h.plane;if(Math.abs(p.normal.dot(g.normal))>1-1e-10){let v=this.satBounds,x=this.satAxes;r[0]=h.a,r[1]=h.b,r[2]=h.c;for(let w=0;w<4;w++){let _=v[w],S=x[w];if(n.setFromPoints(S,r),_.isSeparated(n))return!1}let y=h.satBounds,b=h.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(let w=0;w<4;w++){let _=y[w],S=b[w];if(n.setFromPoints(S,t),_.isSeparated(n))return!1}for(let w=0;w<4;w++){let _=x[w];for(let S=0;S<4;S++){let E=b[S];if(o.crossVectors(_,E),n.setFromPoints(o,t),i.setFromPoints(o,r),n.isSeparated(i))return!1}}return f&&(m||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),f.start.set(0,0,0),f.end.set(0,0,0)),!0}else{let v=this.points,x=!1,y=0;for(let D=0;D<3;D++){let M=v[D],P=v[(D+1)%3];s.start.copy(M),s.end.copy(P),s.delta(l);let j=x?u.start:u.end,O=fp(g.distanceToPoint(M));if(fp(g.normal.dot(l))&&O){u.copy(s),y=2;break}if((g.intersectLine(s,j)||O)&&!fp(j.distanceTo(P))){if(y++,x)break;x=!0}}if(y===1&&h.containsPoint(u.end))return f&&(f.start.copy(u.end),f.end.copy(u.end)),!0;if(y!==2)return!1;let b=h.points,w=!1,_=0;for(let D=0;D<3;D++){let M=b[D],P=b[(D+1)%3];s.start.copy(M),s.end.copy(P),s.delta(c);let j=w?d.start:d.end,O=fp(p.distanceToPoint(M));if(fp(p.normal.dot(c))&&O){d.copy(s),_=2;break}if((p.intersectLine(s,j)||O)&&!fp(j.distanceTo(P))){if(_++,w)break;w=!0}}if(_===1&&this.containsPoint(d.end))return f&&(f.start.copy(d.end),f.end.copy(d.end)),!0;if(_!==2)return!1;if(u.delta(l),d.delta(c),l.dot(c)<0){let D=d.start;d.start=d.end,d.end=D}let S=u.start.dot(l),E=u.end.dot(l),C=d.start.dot(l),A=d.end.dot(l),T=E<C,k=S<A;return S!==A&&C!==E&&T===k?!1:(f&&(a.subVectors(u.start,d.start),a.dot(l)>0?f.start.copy(u.start):f.start.copy(d.start),a.subVectors(u.end,d.end),a.dot(l)<0?f.end.copy(u.end):f.end.copy(d.end)),!0)}}}();yu.prototype.distanceToPoint=function(){let e=new V;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}();yu.prototype.distanceToTriangle=function(){let e=new V,t=new V,r=["a","b","c"],n=new ss,i=new ss;return function(o,l=null,c=null){let a=l||c?n:null;if(this.intersectsTriangle(o,a))return(l||c)&&(l&&a.getCenter(l),c&&a.getCenter(c)),0;let s=1/0;for(let u=0;u<3;u++){let d,h=r[u],f=o[h];this.closestPointToPoint(f,e),d=f.distanceToSquared(e),d<s&&(s=d,l&&l.copy(e),c&&c.copy(f));let m=this[h];o.closestPointToPoint(m,e),d=m.distanceToSquared(e),d<s&&(s=d,l&&l.copy(m),c&&c.copy(e))}for(let u=0;u<3;u++){let d=r[u],h=r[(u+1)%3];n.set(this[d],this[h]);for(let f=0;f<3;f++){let m=r[f],p=r[(f+1)%3];i.set(o[m],o[p]),u6(n,i,e,t);let g=e.distanceToSquared(t);g<s&&(s=g,l&&l.copy(e),c&&c.copy(t))}}return Math.sqrt(s)}}();var oc=class{constructor(e,t,r){this.isOrientedBox=!0,this.min=new V,this.max=new V,this.matrix=new Ne,this.invMatrix=new Ne,this.points=new Array(8).fill().map(()=>new V),this.satAxes=new Array(3).fill().map(()=>new V),this.satBounds=new Array(3).fill().map(()=>new vu),this.alignedSatBounds=new Array(3).fill().map(()=>new vu),this.needsUpdate=!1,e&&this.min.copy(e),t&&this.max.copy(t),r&&this.matrix.copy(r)}set(e,t,r){this.min.copy(e),this.max.copy(t),this.matrix.copy(r),this.needsUpdate=!0}copy(e){this.min.copy(e.min),this.max.copy(e.max),this.matrix.copy(e.matrix),this.needsUpdate=!0}};oc.prototype.update=function(){return function(){let e=this.matrix,t=this.min,r=this.max,n=this.points;for(let a=0;a<=1;a++)for(let s=0;s<=1;s++)for(let u=0;u<=1;u++){let d=1*a|2*s|4*u,h=n[d];h.x=a?r.x:t.x,h.y=s?r.y:t.y,h.z=u?r.z:t.z,h.applyMatrix4(e)}let i=this.satBounds,o=this.satAxes,l=n[0];for(let a=0;a<3;a++){let s=o[a],u=i[a],d=1<<a,h=n[d];s.subVectors(l,h),u.setFromPoints(s,n)}let c=this.alignedSatBounds;c[0].setFromPointsField(n,"x"),c[1].setFromPointsField(n,"y"),c[2].setFromPointsField(n,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}();oc.prototype.intersectsBox=function(){let e=new vu;return function(t){this.needsUpdate&&this.update();let r=t.min,n=t.max,i=this.satBounds,o=this.satAxes,l=this.alignedSatBounds;if(e.min=r.x,e.max=n.x,l[0].isSeparated(e)||(e.min=r.y,e.max=n.y,l[1].isSeparated(e))||(e.min=r.z,e.max=n.z,l[2].isSeparated(e)))return!1;for(let c=0;c<3;c++){let a=o[c],s=i[c];if(e.setFromBox(a,t),s.isSeparated(e))return!1}return!0}}();oc.prototype.intersectsTriangle=function(){let e=new yu,t=new Array(3),r=new vu,n=new vu,i=new V;return function(o){this.needsUpdate&&this.update(),o.isExtendedTriangle?o.needsUpdate&&o.update():(e.copy(o),e.update(),o=e);let l=this.satBounds,c=this.satAxes;t[0]=o.a,t[1]=o.b,t[2]=o.c;for(let d=0;d<3;d++){let h=l[d],f=c[d];if(r.setFromPoints(f,t),h.isSeparated(r))return!1}let a=o.satBounds,s=o.satAxes,u=this.points;for(let d=0;d<3;d++){let h=a[d],f=s[d];if(r.setFromPoints(f,u),h.isSeparated(r))return!1}for(let d=0;d<3;d++){let h=c[d];for(let f=0;f<4;f++){let m=s[f];if(i.crossVectors(h,m),r.setFromPoints(i,t),n.setFromPoints(i,u),r.isSeparated(n))return!1}}return!0}}();oc.prototype.closestPointToPoint=function(){return function(e,t){return this.needsUpdate&&this.update(),t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t}}();oc.prototype.distanceToPoint=function(){let e=new V;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}();oc.prototype.distanceToBox=function(){let e=["x","y","z"],t=new Array(12).fill().map(()=>new ss),r=new Array(12).fill().map(()=>new ss),n=new V,i=new V;return function(o,l=0,c=null,a=null){if(this.needsUpdate&&this.update(),this.intersectsBox(o))return(c||a)&&(o.getCenter(i),this.closestPointToPoint(i,n),o.closestPointToPoint(n,i),c&&c.copy(n),a&&a.copy(i)),0;let s=l*l,u=o.min,d=o.max,h=this.points,f=1/0;for(let p=0;p<8;p++){let g=h[p];i.copy(g).clamp(u,d);let v=g.distanceToSquared(i);if(v<f&&(f=v,c&&c.copy(g),a&&a.copy(i),v<s))return Math.sqrt(v)}let m=0;for(let p=0;p<3;p++)for(let g=0;g<=1;g++)for(let v=0;v<=1;v++){let x=(p+1)%3,y=(p+2)%3,b=g<<x|v<<y,w=1<<p|g<<x|v<<y,_=h[b],S=h[w];t[m].set(_,S);let E=e[p],C=e[x],A=e[y],T=r[m],k=T.start,D=T.end;k[E]=u[E],k[C]=g?u[C]:d[C],k[A]=v?u[A]:d[C],D[E]=d[E],D[C]=g?u[C]:d[C],D[A]=v?u[A]:d[C],m++}for(let p=0;p<=1;p++)for(let g=0;g<=1;g++)for(let v=0;v<=1;v++){i.x=p?d.x:u.x,i.y=g?d.y:u.y,i.z=v?d.z:u.z,this.closestPointToPoint(i,n);let x=i.distanceToSquared(n);if(x<f&&(f=x,c&&c.copy(n),a&&a.copy(i),x<s))return Math.sqrt(x)}for(let p=0;p<12;p++){let g=t[p];for(let v=0;v<12;v++){let x=r[v];u6(g,x,n,i);let y=n.distanceToSquared(i);if(y<f&&(f=y,c&&c.copy(n),a&&a.copy(i),y<s))return Math.sqrt(y)}}return Math.sqrt(f)}}();var pp=new V,mp=new V,gp=new V,_x=new oe,Sx=new oe,Ex=new oe,fB=new V,pB=new V,mB=new V,Ax=new V;function nIe(e,t,r,n,i,o){let l;return o===bi?l=e.intersectTriangle(n,r,t,!0,i):l=e.intersectTriangle(t,r,n,o!==Bo,i),l===null?null:{distance:e.origin.distanceTo(i),point:i.clone()}}function iIe(e,t,r,n,i,o,l,c,a){pp.fromBufferAttribute(t,o),mp.fromBufferAttribute(t,l),gp.fromBufferAttribute(t,c);let s=nIe(e,pp,mp,gp,Ax,a);if(s){n&&(_x.fromBufferAttribute(n,o),Sx.fromBufferAttribute(n,l),Ex.fromBufferAttribute(n,c),s.uv=Gi.getInterpolation(Ax,pp,mp,gp,_x,Sx,Ex,new oe)),i&&(_x.fromBufferAttribute(i,o),Sx.fromBufferAttribute(i,l),Ex.fromBufferAttribute(i,c),s.uv1=Gi.getInterpolation(Ax,pp,mp,gp,_x,Sx,Ex,new oe)),r&&(fB.fromBufferAttribute(r,o),pB.fromBufferAttribute(r,l),mB.fromBufferAttribute(r,c),s.normal=Gi.getInterpolation(Ax,pp,mp,gp,fB,pB,mB,new V),s.normal.dot(e.direction)>0&&s.normal.multiplyScalar(-1));let u={a:o,b:l,c,normal:new V,materialIndex:0};Gi.getNormal(pp,mp,gp,u.normal),s.face=u,s.faceIndex=o}return s}function LK(e,t,r,n,i){let o=n*3,l=e.index.getX(o),c=e.index.getX(o+1),a=e.index.getX(o+2),{position:s,normal:u,uv:d,uv1:h}=e.attributes,f=iIe(r,s,u,d,h,l,c,a,t);return f?(f.faceIndex=n,i&&i.push(f),f):null}function oIe(e,t,r,n,i,o){for(let l=n,c=n+i;l<c;l++)LK(e,t,r,l,o)}function aIe(e,t,r,n,i){let o=1/0,l=null;for(let c=n,a=n+i;c<a;c++){let s=LK(e,t,r,c);s&&s.distance<o&&(l=s,o=s.distance)}return l}function jl(e,t,r,n){let i=e.a,o=e.b,l=e.c,c=t,a=t+1,s=t+2;r&&(c=r.getX(t),a=r.getX(t+1),s=r.getX(t+2)),i.x=n.getX(c),i.y=n.getY(c),i.z=n.getZ(c),o.x=n.getX(a),o.y=n.getY(a),o.z=n.getZ(a),l.x=n.getX(s),l.y=n.getY(s),l.z=n.getZ(s)}function gB(e,t,r,n,i,o,l){let c=r.index,a=r.attributes.position;for(let s=e,u=t+e;s<u;s++)if(jl(l,s*3,c,a),l.needsUpdate=!0,n(l,s,i,o))return!0;return!1}var zK=class{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){let e=this._primitives;return e.length===0?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}};function sd(e,t){return t[e+15]===65535}function Nm(e,t){return t[e+6]}function d1(e,t){return t[e+14]}function h1(e){return e+8}function f1(e,t){return t[e+6]}function sIe(e,t){return t[e+7]}var ym=new Rn,z2=new V,lIe=["x","y","z"];function UP(e,t,r,n,i){let o=e*2,l=c0,c=Id,a=Od;if(sd(o,c)){let s=Nm(e,a),u=d1(o,c);oIe(t,r,n,s,u,i)}else{let s=h1(e);N2(s,l,n,z2)&&UP(s,t,r,n,i);let u=f1(e,a);N2(u,l,n,z2)&&UP(u,t,r,n,i)}}function VP(e,t,r,n){let i=e*2,o=c0,l=Id,c=Od;if(sd(i,l)){let a=Nm(e,c),s=d1(i,l);return aIe(t,r,n,a,s)}else{let a=sIe(e,c),s=lIe[a],u=n.direction[s]>=0,d,h;u?(d=h1(e),h=f1(e,c)):(d=f1(e,c),h=h1(e));let f=N2(d,o,n,z2)?VP(d,t,r,n):null;if(f){let p=f.point[s];if(u?p<=o[h+a]:p>=o[h+a+3])return f}let m=N2(h,o,n,z2)?VP(h,t,r,n):null;return f&&m?f.distance<=m.distance?f:m:f||m||null}}var cIe=function(){let e,t,r=[],n=new zK(()=>new Rn);return function(...o){e=n.getPrimitive(),t=n.getPrimitive(),r.push(e,t);let l=i(...o);n.releasePrimitive(e),n.releasePrimitive(t),r.pop(),r.pop();let c=r.length;return c>0&&(t=r[c-1],e=r[c-2]),l};function i(o,l,c,a,s=null,u=0,d=0){function h(x){let y=x*2,b=Id,w=Od;for(;!sd(y,b);)x=h1(x),y=x*2;return Nm(x,w)}function f(x){let y=x*2,b=Id,w=Od;for(;!sd(y,b);)x=f1(x,w),y=x*2;return Nm(x,w)+d1(y,b)}let m=o*2,p=c0,g=Id,v=Od;if(sd(m,g)){let x=Nm(o,v),y=d1(m,g);return Bl(o,p,e),a(x,y,!1,d,u+o,e)}else{let x=h1(o),y=f1(o,v),b=x,w=y,_,S,E,C;if(s&&(E=e,C=t,Bl(b,p,E),Bl(w,p,C),_=s(E),S=s(C),S<_)){b=y,w=x;let j=_;_=S,S=j,E=C}E||(E=e,Bl(b,p,E));let A=sd(b*2,g),T=c(E,A,_,d+1,u+b),k;if(T===2){let j=h(b),O=f(b)-j;k=a(j,O,!0,d+1,u+b,E)}else k=T&&i(b,l,c,a,s,u,d+1);if(k)return!0;C=t,Bl(w,p,C);let D=sd(w*2,g),M=c(C,D,S,d+1,u+w),P;if(M===2){let j=h(w),O=f(w)-j;P=a(j,O,!0,d+1,u+w,C)}else P=M&&i(w,l,c,a,s,u,d+1);return!!P}}}(),uIe=function(){let e=new yu,t=new yu,r=new Ne,n=new oc,i=new oc;return function o(l,c,a,s,u=null){let d=l*2,h=c0,f=Id,m=Od;if(u===null&&(a.boundingBox||a.computeBoundingBox(),n.set(a.boundingBox.min,a.boundingBox.max,s),u=n),sd(d,f)){let p=c,g=p.index,v=p.attributes.position,x=a.index,y=a.attributes.position,b=Nm(l,m),w=d1(d,f);if(r.copy(s).invert(),a.boundsTree)return Bl(l,h,i),i.matrix.copy(r),i.needsUpdate=!0,a.boundsTree.shapecast({intersectsBounds:_=>i.intersectsBox(_),intersectsTriangle:_=>{_.a.applyMatrix4(s),_.b.applyMatrix4(s),_.c.applyMatrix4(s),_.needsUpdate=!0;for(let S=b*3,E=(w+b)*3;S<E;S+=3)if(jl(t,S,g,v),t.needsUpdate=!0,_.intersectsTriangle(t))return!0;return!1}});for(let _=b*3,S=w+b*3;_<S;_+=3){jl(e,_,g,v),e.a.applyMatrix4(r),e.b.applyMatrix4(r),e.c.applyMatrix4(r),e.needsUpdate=!0;for(let E=0,C=x.count;E<C;E+=3)if(jl(t,E,x,y),t.needsUpdate=!0,e.intersectsTriangle(t))return!0}}else{let p=l+8,g=m[l+6];return Bl(p,h,ym),!!(u.intersectsBox(ym)&&o(p,c,a,s,u)||(Bl(g,h,ym),u.intersectsBox(ym)&&o(g,c,a,s,u)))}}}();function N2(e,t,r,n){return Bl(e,t,ym),r.intersectBox(ym,n)}var HP=[],Hw,c0,Id,Od;function Pv(e){Hw&&HP.push(Hw),Hw=e,c0=new Float32Array(e),Id=new Uint16Array(e),Od=new Uint32Array(e)}function Cx(){Hw=null,c0=null,Id=null,Od=null,HP.length&&Pv(HP.pop())}var RC=Symbol("skip tree generation"),LC=new Rn,zC=new Rn,vp=new Ne,ch=new oc,Q0=new oc,J0=new V,Mx=new V,dIe=new V,hIe=new V,fIe=new V,vB=new Rn,fl=new zK(()=>new yu),cy=class{static serialize(e,t={}){if(t.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),cy.serialize(arguments[0],{cloneBuffers:arguments[2]===void 0?!0:arguments[2]});t={cloneBuffers:!0,...t};let r=e.geometry,n=e._roots,i=r.getIndex(),o;return t.cloneBuffers?o={roots:n.map(l=>l.slice()),index:i.array.slice()}:o={roots:n,index:i.array},o}static deserialize(e,t,r={}){if(typeof r=="boolean")return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),cy.deserialize(arguments[0],arguments[1],{setIndex:arguments[2]===void 0?!0:arguments[2]});r={setIndex:!0,...r};let{index:n,roots:i}=e,o=new cy(t,{...r,[RC]:!0});if(o._roots=i,r.setIndex){let l=t.getIndex();if(l===null){let c=new kt(e.index,1,!1);t.setIndex(c)}else l.array!==n&&(l.array.set(n),l.needsUpdate=!0)}return o}constructor(e,t={}){if(e.isBufferGeometry){if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(t=Object.assign({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[RC]:!1},t),t.useSharedArrayBuffer&&typeof SharedArrayBuffer>"u")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,t[RC]||(this._roots=Z6e(e,t),!e.boundingBox&&t.setBoundingBox&&(e.boundingBox=this.getBoundingBox(new Rn))),this.geometry=e}refit(e=null){e&&Array.isArray(e)&&(e=new Set(e));let t=this.geometry,r=t.index.array,n=t.attributes.position,i,o,l,c,a=0,s=this._roots;for(let d=0,h=s.length;d<h;d++)i=s[d],o=new Uint32Array(i),l=new Uint16Array(i),c=new Float32Array(i),u(0,a),a+=i.byteLength;function u(d,h,f=!1){let m=d*2;if(l[m+15]===65535){let p=o[d+6],g=l[m+14],v=1/0,x=1/0,y=1/0,b=-1/0,w=-1/0,_=-1/0;for(let S=3*p,E=3*(p+g);S<E;S++){let C=r[S],A=n.getX(C),T=n.getY(C),k=n.getZ(C);A<v&&(v=A),A>b&&(b=A),T<x&&(x=T),T>w&&(w=T),k<y&&(y=k),k>_&&(_=k)}return c[d+0]!==v||c[d+1]!==x||c[d+2]!==y||c[d+3]!==b||c[d+4]!==w||c[d+5]!==_?(c[d+0]=v,c[d+1]=x,c[d+2]=y,c[d+3]=b,c[d+4]=w,c[d+5]=_,!0):!1}else{let p=d+8,g=o[d+6],v=p+h,x=g+h,y=f,b=!1,w=!1;e?y||(b=e.has(v),w=e.has(x),y=!b&&!w):(b=!0,w=!0);let _=y||b,S=y||w,E=!1;_&&(E=u(p,h,y));let C=!1;S&&(C=u(g,h,y));let A=E||C;if(A)for(let T=0;T<3;T++){let k=p+T,D=g+T,M=c[k],P=c[k+3],j=c[D],O=c[D+3];c[d+T]=M<j?M:j,c[d+T+3]=P>O?P:O}return A}}}traverse(e,t=0){let r=this._roots[t],n=new Uint32Array(r),i=new Uint16Array(r);o(0);function o(l,c=0){let a=l*2,s=i[a+15]===65535;if(s){let u=n[l+6],d=i[a+14];e(c,s,new Float32Array(r,l*4,6),u,d)}else{let u=l+8,d=n[l+6],h=n[l+7];e(c,s,new Float32Array(r,l*4,6),h)||(o(u,c+1),o(d,c+1))}}}raycast(e,t=rl){let r=this._roots,n=this.geometry,i=[],o=t.isMaterial,l=Array.isArray(t),c=n.groups,a=o?t.side:t;for(let s=0,u=r.length;s<u;s++){let d=l?t[c[s].materialIndex].side:a,h=i.length;if(Pv(r[s]),UP(0,n,d,e,i),Cx(),l){let f=c[s].materialIndex;for(let m=h,p=i.length;m<p;m++)i[m].face.materialIndex=f}}return i}raycastFirst(e,t=rl){let r=this._roots,n=this.geometry,i=t.isMaterial,o=Array.isArray(t),l=null,c=n.groups,a=i?t.side:t;for(let s=0,u=r.length;s<u;s++){let d=o?t[c[s].materialIndex].side:a;Pv(r[s]);let h=VP(0,n,d,e);Cx(),h!=null&&(l==null||h.distance<l.distance)&&(l=h,o&&(h.face.materialIndex=c[s].materialIndex))}return l}intersectsGeometry(e,t){let r=this.geometry,n=!1;for(let i of this._roots)if(Pv(i),n=uIe(0,r,e,t),Cx(),n)break;return n}shapecast(e,t,r){let n=this.geometry;if(e instanceof Function){if(t){let d=t;t=(h,f,m,p)=>{let g=f*3;return d(h,g,g+1,g+2,m,p)}}e={boundsTraverseOrder:r,intersectsBounds:e,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}let i=fl.getPrimitive(),{boundsTraverseOrder:o,intersectsBounds:l,intersectsRange:c,intersectsTriangle:a}=e;if(c&&a){let d=c;c=(h,f,m,p,g)=>d(h,f,m,p,g)?!0:gB(h,f,n,a,m,p,i)}else c||(a?c=(d,h,f,m)=>gB(d,h,n,a,f,m,i):c=(d,h,f)=>f);let s=!1,u=0;for(let d of this._roots){if(Pv(d),s=cIe(0,n,l,c,o,u),Cx(),s)break;u+=d.byteLength}return fl.releasePrimitive(i),s}bvhcast(e,t,r){let{intersectsRanges:n,intersectsTriangles:i}=r,o=this.geometry.index,l=this.geometry.attributes.position,c=e.geometry.index,a=e.geometry.attributes.position;vp.copy(t).invert();let s=fl.getPrimitive(),u=fl.getPrimitive();if(i){let h=function(f,m,p,g,v,x,y,b){for(let w=p,_=p+g;w<_;w++){jl(u,w*3,c,a),u.a.applyMatrix4(t),u.b.applyMatrix4(t),u.c.applyMatrix4(t),u.needsUpdate=!0;for(let S=f,E=f+m;S<E;S++)if(jl(s,S*3,o,l),s.needsUpdate=!0,i(s,u,S,w,v,x,y,b))return!0}return!1};if(n){let f=n;n=function(m,p,g,v,x,y,b,w){return f(m,p,g,v,x,y,b,w)?!0:h(m,p,g,v,x,y,b,w)}}else n=h}e.getBoundingBox(zC),zC.applyMatrix4(t);let d=this.shapecast({intersectsBounds:h=>zC.intersectsBox(h),intersectsRange:(h,f,m,p,g,v)=>(LC.copy(v),LC.applyMatrix4(vp),e.shapecast({intersectsBounds:x=>LC.intersectsBox(x),intersectsRange:(x,y,b,w,_)=>n(h,f,x,y,p,g,w,_)}))});return fl.releasePrimitive(s),fl.releasePrimitive(u),d}intersectsBox(e,t){return ch.set(e.min,e.max,t),ch.needsUpdate=!0,this.shapecast({intersectsBounds:r=>ch.intersectsBox(r),intersectsTriangle:r=>ch.intersectsTriangle(r)})}intersectsSphere(e){return this.shapecast({intersectsBounds:t=>e.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(e)})}closestPointToGeometry(e,t,r={},n={},i=0,o=1/0){e.boundingBox||e.computeBoundingBox(),ch.set(e.boundingBox.min,e.boundingBox.max,t),ch.needsUpdate=!0;let l=this.geometry,c=l.attributes.position,a=l.index,s=e.attributes.position,u=e.index,d=fl.getPrimitive(),h=fl.getPrimitive(),f=Mx,m=dIe,p=null,g=null;n&&(p=hIe,g=fIe);let v=1/0,x=null,y=null;return vp.copy(t).invert(),Q0.matrix.copy(vp),this.shapecast({boundsTraverseOrder:b=>ch.distanceToBox(b),intersectsBounds:(b,w,_)=>_<v&&_<o?(w&&(Q0.min.copy(b.min),Q0.max.copy(b.max),Q0.needsUpdate=!0),!0):!1,intersectsRange:(b,w)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:_=>Q0.distanceToBox(_),intersectsBounds:(_,S,E)=>E<v&&E<o,intersectsRange:(_,S)=>{for(let E=_*3,C=(_+S)*3;E<C;E+=3){jl(h,E,u,s),h.a.applyMatrix4(t),h.b.applyMatrix4(t),h.c.applyMatrix4(t),h.needsUpdate=!0;for(let A=b*3,T=(b+w)*3;A<T;A+=3){jl(d,A,a,c),d.needsUpdate=!0;let k=d.distanceToTriangle(h,f,p);if(k<v&&(m.copy(f),g&&g.copy(p),v=k,x=A/3,y=E/3),k<i)return!0}}}});{let _=u?u.count:s.count;for(let S=0,E=_;S<E;S+=3){jl(h,S,u,s),h.a.applyMatrix4(t),h.b.applyMatrix4(t),h.c.applyMatrix4(t),h.needsUpdate=!0;for(let C=b*3,A=(b+w)*3;C<A;C+=3){jl(d,C,a,c),d.needsUpdate=!0;let T=d.distanceToTriangle(h,f,p);if(T<v&&(m.copy(f),g&&g.copy(p),v=T,x=C/3,y=S/3),T<i)return!0}}}}}),fl.releasePrimitive(d),fl.releasePrimitive(h),v===1/0?null:(r.point?r.point.copy(m):r.point=m.clone(),r.distance=v,r.faceIndex=x,n&&(n.point?n.point.copy(g):n.point=g.clone(),n.point.applyMatrix4(vp),m.applyMatrix4(vp),n.distance=m.sub(n.point).length(),n.faceIndex=y),r)}closestPointToPoint(e,t={},r=0,n=1/0){let i=r*r,o=n*n,l=1/0,c=null;if(this.shapecast({boundsTraverseOrder:s=>(J0.copy(e).clamp(s.min,s.max),J0.distanceToSquared(e)),intersectsBounds:(s,u,d)=>d<l&&d<o,intersectsTriangle:(s,u)=>{s.closestPointToPoint(e,J0);let d=e.distanceToSquared(J0);return d<l&&(Mx.copy(J0),l=d,c=u),d<i}}),l===1/0)return null;let a=Math.sqrt(l);return t.point?t.point.copy(Mx):t.point=Mx.clone(),t.distance=a,t.faceIndex=c,t}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach(t=>{Bl(0,new Float32Array(t),vB),e.union(vB)}),e}},Z0=Ai(bxe()),pIe=.5*(Math.sqrt(3)-1),ev=(3-Math.sqrt(3))/6,mIe=1/3,pl=1/6,uy=e=>Math.floor(e)|0,yB=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),NC=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function BC(e=Math.random){let t=NK(e),r=new Float64Array(t).map(i=>yB[i%12*2]),n=new Float64Array(t).map(i=>yB[i%12*2+1]);return function(i,o){let l=0,c=0,a=0,s=(i+o)*pIe,u=uy(i+s),d=uy(o+s),h=(u+d)*ev,f=u-h,m=d-h,p=i-f,g=o-m,v,x;p>g?(v=1,x=0):(v=0,x=1);let y=p-v+ev,b=g-x+ev,w=p-1+2*ev,_=g-1+2*ev,S=u&255,E=d&255,C=.5-p*p-g*g;if(C>=0){let k=S+t[E],D=r[k],M=n[k];C*=C,l=C*C*(D*p+M*g)}let A=.5-y*y-b*b;if(A>=0){let k=S+v+t[E+x],D=r[k],M=n[k];A*=A,c=A*A*(D*y+M*b)}let T=.5-w*w-_*_;if(T>=0){let k=S+1+t[E+1],D=r[k],M=n[k];T*=T,a=T*T*(D*w+M*_)}return 70*(l+c+a)}}function gIe(e=Math.random){let t=NK(e),r=new Float64Array(t).map(o=>NC[o%12*3]),n=new Float64Array(t).map(o=>NC[o%12*3+1]),i=new Float64Array(t).map(o=>NC[o%12*3+2]);return function(o,l,c){let a,s,u,d,h=(o+l+c)*mIe,f=uy(o+h),m=uy(l+h),p=uy(c+h),g=(f+m+p)*pl,v=f-g,x=m-g,y=p-g,b=o-v,w=l-x,_=c-y,S,E,C,A,T,k;b>=w?w>=_?(S=1,E=0,C=0,A=1,T=1,k=0):b>=_?(S=1,E=0,C=0,A=1,T=0,k=1):(S=0,E=0,C=1,A=1,T=0,k=1):w<_?(S=0,E=0,C=1,A=0,T=1,k=1):b<_?(S=0,E=1,C=0,A=0,T=1,k=1):(S=0,E=1,C=0,A=1,T=1,k=0);let D=b-S+pl,M=w-E+pl,P=_-C+pl,j=b-A+2*pl,O=w-T+2*pl,I=_-k+2*pl,N=b-1+3*pl,L=w-1+3*pl,B=_-1+3*pl,R=f&255,z=m&255,W=p&255,U=.6-b*b-w*w-_*_;if(U<0)a=0;else{let Q=R+t[z+t[W]];U*=U,a=U*U*(r[Q]*b+n[Q]*w+i[Q]*_)}let H=.6-D*D-M*M-P*P;if(H<0)s=0;else{let Q=R+S+t[z+E+t[W+C]];H*=H,s=H*H*(r[Q]*D+n[Q]*M+i[Q]*P)}let X=.6-j*j-O*O-I*I;if(X<0)u=0;else{let Q=R+A+t[z+T+t[W+k]];X*=X,u=X*X*(r[Q]*j+n[Q]*O+i[Q]*I)}let K=.6-N*N-L*L-B*B;if(K<0)d=0;else{let Q=R+1+t[z+1+t[W+1]];K*=K,d=K*K*(r[Q]*N+n[Q]*L+i[Q]*B)}return 32*(a+s+u+d)}}function NK(e){let t=new Uint8Array(512);for(let r=0;r<512/2;r++)t[r]=r;for(let r=0;r<512/2-1;r++){let n=r+~~(e()*(256-r)),i=t[r];t[r]=t[n],t[n]=i}for(let r=256;r<512;r++)t[r]=t[r-256];return t}var Ps=new Gi,vIe=class{constructor(e){this.weightAttribute=null;let t=e.geometry;if(!t.isBufferGeometry||t.attributes.position.itemSize!==3)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");t.index&&(t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.distribution=null}build(){let e=this.positionAttribute,t=new Float32Array(e.count/3);for(let n=0;n<e.count;n+=3){let i=1;Ps.a.fromBufferAttribute(e,n),Ps.b.fromBufferAttribute(e,n+1),Ps.c.fromBufferAttribute(e,n+2),i*=Ps.getArea(),t[n/3]=i}this.distribution=new Float32Array(e.count/3);let r=0;for(let n=0;n<t.length;n++)r+=t[n],this.distribution[n]=r;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t){if(this.distribution){let r=this.distribution[this.distribution.length-1],n=this.binarySearch(this.randomFunction()*r);return this.sampleFace(n,e,t)}}binarySearch(e){if(!this.distribution)return 0;let t=this.distribution,r=0,n=t.length-1,i=-1;for(;r<=n;){let o=Math.ceil((r+n)/2);if(o===0||t[o-1]<=e&&t[o]>e){i=o;break}else e<t[o]?n=o-1:r=o+1}return i}sampleFace(e,t,r){let n=this.randomFunction(),i=this.randomFunction();return n+i>1&&(n=1-n,i=1-i),Ps.a.fromBufferAttribute(this.positionAttribute,e*3),Ps.b.fromBufferAttribute(this.positionAttribute,e*3+1),Ps.c.fromBufferAttribute(this.positionAttribute,e*3+2),t.set(0,0,0).addScaledVector(Ps.a,n).addScaledVector(Ps.b,i).addScaledVector(Ps.c,1-(n+i)),Ps.getNormal(r),this}},yIe=Ai(wX()),bIe=new Ne,xIe=new Ne,wIe=new Ne,p1;(e=>{function t(r){return r&&r.__isSPEObject}e.is=t})(p1||(p1={}));var d6=e=>class extends e{constructor(){super(...arguments),this.previousModelViewMatrix=new Ne,this.copyPreviousMatrix=!0,this.hiddenMatrix=new Ne,this.matrixWorldRigid=new Ne,this.shearScale=new Ne,this.shearScaleInv=new Ne}get __isSPEObject(){return!0}isDescendantOf(t){t instanceof Tr&&(t=t.uuid);let r=this;for(;r.parent;){if(r.parent.uuid===t)return!0;r=r.parent}return!1}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);for(let r of this.children)r.updateMatrixWorld(t)}updateWorldMatrix(t,r){let n=this.parent;if(t&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),r)for(let i of this.children)i.updateWorldMatrix(!1,!0)}traverseChildren(t,r=0){for(let n of this.children)p1.is(n)&&n.traverseObject(t,r+1)}traverseObject(t,r=0){if(t(this,r)!==!0)for(let n of this.children)p1.is(n)&&n.traverseObject(t,r+1)}updateMatrixWorldSVD(){let t=this.matrixWorld.elements,r=[[t[0],t[4],t[8]],[t[1],t[5],t[9]],[t[2],t[6],t[10]]],{u:n,v:i,q:o}=(0,yIe.SVD)(r),l=bIe.set(n[0][0],n[0][1],n[0][2],0,n[1][0],n[1][1],n[1][2],0,n[2][0],n[2][1],n[2][2],0,0,0,0,1),c=xIe.set(i[0][0],i[0][1],i[0][2],0,i[1][0],i[1][1],i[1][2],0,i[2][0],i[2][1],i[2][2],0,0,0,0,1),a=wIe.copy(c).transpose();this.shearScale.makeScale(o[0],o[1],o[2]).multiply(a).premultiply(c),this.shearScaleInv.copy(this.shearScale).invert(),this.matrixWorldRigid.multiplyMatrices(l,a).copyPosition(this.matrixWorld),o.every(s=>Math.abs(o[0]-s)<.01)?this.hasNonUniformScale=!1:this.hasNonUniformScale=!0}attach(t,r){this.updateWorldMatrix(!0,!1);let n=new Ne().copy(this.matrixWorld).invert();return t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),n.multiply(t.parent.matrixWorld)),"hiddenMatrix"in t&&t.hiddenMatrix instanceof Ne?t.hiddenMatrix.premultiply(n):t.applyMatrix4(n),t.updateWorldMatrix(!1,!1),this.add(t),r!==void 0&&(this.children.pop(),this.children.splice(r,0,t)),this}copy(t,r=!1){return super.copy(t,r),this.hasNonUniformScale=t.hasNonUniformScale,this}onAfterRender(t,r,n,i,o,l){this.copyPreviousMatrix&&this.previousModelViewMatrix.copy(this.modelViewMatrix)}},_Ie=class extends d6(Tr){},SIe=e=>e.type==="Mesh",Yi=class extends _Ie{constructor(e){super(),this.object=e,this.matrixAutoUpdate=!1,this.hasNonUniformScale=e.hasNonUniformScale}raycast(e,t){}expand(){let e=0,t=this.object.entityChildren(e);for(;t;){let r=this.children[e];(r==null?void 0:r.object)!==t&&(r&&this.remove(r),r=new Yi(t),this.add(r),this.children.splice(e,0,this.children.pop()),r.matrixWorldNeedsUpdate=!0,r.matrixAutoUpdate=!1,r.matrix=t.matrix,r.hiddenMatrix=t.hiddenMatrix),r.expand(),e+=1,t=this.object.entityChildren(e)}for(;this.children.length>e;)this.remove(this.children[e])}get visible(){var e;return this.playModeVisible!==void 0?this.playModeVisible:this.object.visible||this.object.dataPatched.visible&&((e=this.object.dataPatched.cloner)==null?void 0:e.hideBase)===!0}set visible(e){}get castShadow(){return this.object.castShadow}set castShadow(e){}get receiveShadow(){return this.object.receiveShadow}set receiveShadow(e){}get isMesh(){return SIe(this.object)}get isLight(){return this.object.isLight}get layers(){return this.object.layers}set layers(e){}get isCamera(){return!1}get geometry(){if(this.object.geometry)return this.object.geometry}get material(){if(this.object.material)return this.object.material}},Th=new V,Ph=new V,Bm=new Ne,BK=[new V(-1,1,1),new V(-1,-1,1),new V(1,-1,1),new V(1,1,1),new V(-1,1,-1),new V(-1,-1,-1),new V(1,-1,-1),new V(1,1,-1)],EIe=[[0,3],[1,2],[5,6],[4,7],[0,1],[3,2],[7,6],[4,5],[0,4],[1,5],[2,6],[3,7]],AIe=[[0,2],[7,5],[4,1],[3,6],[4,3],[1,6]],bB=(e,t,r)=>{e.updateEntityBoxSize(Th,Ph),Bm.copy(t).multiply(e.matrixWorld),Ph.x===0&&Ph.y===0&&Ph.z===0?r.push(new V(Th.x,Th.y,Th.z).applyMatrix4(Bm)):BK.forEach(n=>{r.push(n.clone().multiply(Ph).add(Th).applyMatrix4(Bm))})},xB=class extends Rn{constructor(){super(...arguments),this.matrix=new Ne,this.vertices=[],this.faces=[],this.edges=[],this.centerEdges=[]}copy(e){return super.copy(e),this.matrix.copy(e.matrix),this.vertices=e.vertices.map(t=>t.clone()),this.faces=e.faces.map(t=>t.clone()),this.edges=e.edges.map(t=>t.clone()),this.centerEdges=e.centerEdges.map(t=>t.clone()),this}setFromObjectSize(e,t=!1){e.updateWorldMatrix(!1,t),this.makeEmpty(),this.matrix.copy(e.matrixWorld);let r=new Ne().copy(e.matrixWorld).invert();return this.expandByObjectSize(e,r,t)}expandByObjectSize(e,t,r=!1){let n=[];return r===!0?e.traverseEntity(i=>{if(i.visible||i.cloner&&i.data.visible){if(!("geometry"in i)){n.push(new V);return}bB(i,t,n)}}):bB(e,t,n),this.setFromPoints(n)}getCenter(e){return e=super.getCenter(e),e.applyMatrix4(this.matrix),e}getPositionToCenter(e){return e=super.getCenter(e),e.applyMatrix4(Bm.copy(this.matrix).setPosition(0,0,0)),e}computeVertices(){this.getSize(Ph).multiplyScalar(.5),this.getCenter(Th),Bm.copy(this.matrix).setPosition(Th),this.vertices=BK.map(e=>e.clone().multiply(Ph).applyMatrix4(Bm))}computeEdges(){this.vertices.length>0&&this.computeVertices(),this.edges=EIe.map(([e,t])=>new ss(this.vertices[e],this.vertices[t])),this.centerEdges=this.edges.map(e=>e.getCenter(new V))}computeFaces(){this.vertices.length>0&&this.computeVertices(),this.faces=AIe.map(([e,t])=>this.vertices[e].clone().add(this.vertices[t]).multiplyScalar(.5))}},md={Cloner:()=>{},changeEntityProptotype:()=>{},createEntity:()=>{}},CIe=class extends KX{constructor(){super()}getPoints(e=12){let t=[],r,n=this.getCurveLengths(),i=n[n.length-1]/n.length;for(let o=0,l=this.curves;o<l.length;o++){let c=l[o],a=o===0?n[o]:n[o]-n[o-1],s=Math.ceil(e*a/i),u=c.getPoints(s);for(let d=0;d<u.length;d++){let h=u[d];r&&r.equals(h)||(t.push(h),r=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}},WP=.001;function GP(e,t,r){return t.clone().sub(e).cross(t.clone().sub(r)).length()<=WP}function FC(e,t){let r=new V(...e.position),n=new V(...e.controlNext.position),i=new V(...t.controlPrevious.position),o=new V(...t.position);return GP(r,n,o)&&GP(r,i,o)}function FK(e){let t=e.points.map(u=>new V(...u.data.position)),r=[e.points[0]],n=new V(...r[0].data.position);for(let u=0;u<e.points.length-1;u++)GP(n,t[u],t[u+1])||(r.push(e.points[u]),n=t[u]);r.push(e.points[e.points.length-1]);let i=e.isClosed,o=r.length-(i?0:1),l=r.length,c=[];for(let u=0;u<l;u++){let d=r[u].data,h=new V(...d.position),f=new V(...d.controlPrevious.position),m=new V(...d.controlNext.position),p={position:h,baseRoundness:d.roundness,controlPrevious:f,controlNext:m};if(d.roundness===0||!e.isClosed&&(u===0||u===l-1)){c[u]={...p,removedLength:0};continue}let g=i&&u==0?l-1:u-1,v=i&&u==l-1?0:u+1,x=r[g].data,y=r[v].data,b=new V(...x.position),w=new V(...y.position),_=b.clone().sub(h).normalize(),S=w.clone().sub(h).normalize();Object.assign(p,{prevDir:_,nextDir:S});let E=FC(x,d),C=FC(d,y);if(!E||!C)c[u]={...p,removedLength:0};else{let A=_.clone().add(S).normalize(),T=A.clone().cross(_).length()/_.dot(A);c[u]={...p,tan:T,removedLength:d.roundness/T}}}for(let u=0;u<o;u++){let d=u,h=i&&u===l-1?0:u+1,f=c[d],m=c[h];if(f.removedLength!==0||m.removedLength!==0){let p=f.position.distanceTo(m.position);f.removedLength=Math.min(f.removedLength,p/2),m.removedLength=Math.min(m.removedLength,p/2)}}let a=[];for(let u=0;u<o;u++){let d=u,h=i&&u===l-1?0:u+1,f=c[d],m=c[h],p=null;if(!FC(r[d].data,r[h].data))f.position.distanceTo(m.position)>WP&&(p=new Nw(f.position,f.controlNext,m.controlPrevious,m.position));else{let g=f.position.clone(),v=m.position.clone();(f.removedLength!==0||m.removedLength!==0)&&(f.nextDir&&g.add(f.nextDir.clone().setLength(f.removedLength)),m.prevDir&&v.add(m.prevDir.clone().setLength(m.removedLength))),g.distanceTo(v)>WP&&(p=new Nw(g,g.clone().lerp(v,.3),v.clone().lerp(g,.3),v))}a[2*u+1]=p}for(let u=0;u<l;u++){let d=c[u];if(d.removedLength===0){a[2*u]=null;continue}let h=d.position,f=d.prevDir.clone().multiplyScalar(d.removedLength).add(h),m=d.nextDir.clone().multiplyScalar(d.removedLength).add(h),p=d.tan*d.removedLength,g=d.prevDir.clone().add(d.nextDir).normalize(),v=f.clone().lerp(m,.5),x=f.distanceTo(m)/2,y=g.clone().multiplyScalar(Math.sqrt(Math.pow(p,2)-Math.pow(x,2))).add(v),b=g.clone().multiplyScalar(-p).add(y),w=h.distanceTo(b)/h.distanceTo(v),_=d.prevDir.clone().multiplyScalar(w*h.distanceTo(f)).add(h),S=_.clone().lerp(b,2),E=f.clone().lerp(_,4/3),C=m.clone().lerp(S,4/3);a[2*u]=new Nw(f,E,C,m)}let s=new CIe;return a.forEach(u=>{u&&s.add(u)}),s}var or;(e=>{function t(r){return r&&r.__isEntity}e.is=t})(or||(or={}));var Nc=e=>or.is(e),MIe={type:"completeState",isfromEntity:!0},TIe=["x","y","z"],UC=new V,PIe=new V().set(0,1,0),h6=e=>class extends d6(e){constructor(){super(...arguments),this.raycastLock=!1,this.scaleLock=!1,this.disposed=!1,this.stateSelection=null,this.destroyedInAction=!1,this.instances=[],this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this._singleBBox=new xB,this._recursiveBBox=new xB,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this._needApplyPathSnapping=!0,this.attachedPaths=new Set}get __isEntity(){return!0}entityChildren(t){let r=this.children[t];if(or.is(r))return r}entityChildrenCount(){let t=this.children.length;for(;t--;)if(or.is(this.children[t]))return t+1;return 0}get isConcreteEntity(){return typeof this.identity=="string"}get isVirtualEntity(){return typeof this.identity!="string"}get isInstanceRoot(){return this.isConcreteEntity&&this.data.type==="Instance"}nearestInstanceSelfOrParent(){let t=this;for(;t.data.type!=="Instance";){let r=t.parent;if(or.is(r))t=r;else return}return t}forInstancesRec(t){this.instances.forEach(r=>{r.disposed||t(r),r.forInstancesRec(t)})}super_Entity(t,r){typeof t=="string"&&(this.uuid=t),this.identity=t,this.data=r,this.matrixAutoUpdate=!1,this.dataPatched=this.data}changeSelectedState(t,r,n=!1){if(!(this.data.states.length===0&&!n)){for(let i of this.data.states)Uh.toOps(this.data,i.data).forEach(o=>{let l=lP.replaceProps(o,this.data);this.dataPatched=this.data,this.updateByPatchedOp(l,this.data,r)});if(t!==null){let i=this.data.states.data(t);i&&(this.dataPatched=Uh.patch(this.data,i),Uh.toOps(this.data,i).forEach(o=>{this.updateByPatchedOp(o,this.dataPatched,r)}))}n&&this.updateTransformState(this.dataPatched,r),this.stateSelection=t,this.updatePathSnapping(this.dataPatched.pathSnapping)}}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges(),this._singleBBox.computeFaces()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges(),this._recursiveBBox.computeFaces()),this._recursiveBBox}updateEntityBoxSize(t,r){t.setScalar(0),r.setScalar(0)}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors(t=>{Nc(t)&&t.resetBBoxNeedsUpdateSelf()}),this.traverseEntity(t=>{t.resetBBoxNeedsUpdateSelf()})}find(t){let r;return this.traverseEntity(n=>{n.uuid===t&&(r=n)}),r}traverseSortNextHelper(){let t=this.parent;if(t){let r=t.children,n=r.indexOf(this)+1;if(or.is(r[n]))return r[n];if(or.is(t))return t.traverseSortNextHelper()}}sortNext(){let t=this.children;return this.children.length>0&&or.is(this.children[0])?t[0]:this.traverseSortNextHelper()}goUp(t){let r=this;for(;t>0&&r!==null;)r=r.parent,t-=1;return r}hasAnccestorOrSelf(t){return this===t||this.hasAnccestor(t)}hasAnccestor(t){let r=this.parent;for(;r;){if(t===r)return!0;r=r.parent}return!1}countToAccestor(t){let r=0,n=this;for(;n!==t;){if(n===null)return-1;n=n.parent,r+=1}return r}forEachEntity(t){for(let r of this.children)Nc(r)&&t(r)}traverseEntityAncestors(t){this.traverseAncestors(r=>{or.is(r)&&t(r)})}traverseConcreteEntity(t,r=0){if(t(this,r)!==!0)for(let n of this.children)Nc(n)&&n.isConcreteEntity&&n.traverseEntity(t,r+1)}traverseEntity(t,r=0){if(t(this,r)!==!0)for(let n of this.children)Nc(n)&&n.traverseEntity(t,r+1)}traverseVisibleEntity(t){t(this);for(let r of this.children)Nc(r)&&r.visible&&r.traverseVisibleEntity(t)}updateMatrix(){super.updateMatrix(),this.cloner&&this.cloner.onObjUpdateMatrix(),this.dispatchEvent({type:"updateMatrix"})}updateMatrixWorld(t){super.updateMatrixWorld(t),this.dispatchEvent({type:"updateMatrixWorld"})}copy(t,r=!1){return super.copy(t,r),this.dataPatched=t.dataPatched,this.raycastLock=t.raycastLock,this.scaleLock=t.scaleLock,this.hiddenMatrix.copy(t.hiddenMatrix),this}hasEntityChild(){return this.children.some(t=>Nc(t))}isAncestorOf(t){if(this.uuid===t)return!1;let r=!1;return this.traverseEntity(n=>{n.uuid===t&&(r=!0)}),r}toObjectTransformState(t=[]){this.updateWorldMatrix(!0,!1);let r={position:this.position.toArray(),rotation:[this.rotation.x*pt.RAD2DEG,this.rotation.y*pt.RAD2DEG,this.rotation.z*pt.RAD2DEG],scale:this.scale.toArray(),hiddenMatrix:this.hiddenMatrix.toArray()};return sP(r,t)}getTransformValues(t,r,n){return r[t].map((i,o)=>(n==null?void 0:n.shared.getVariable(i,[this.uuid,t,TIe[o]]))??i)}updateTransformState(t,r){let n=!1;return t.position&&(this.position.fromArray(this.getTransformValues("position",t,r)),n=!0),t.rotation&&(UC.fromArray(this.getTransformValues("rotation",t,r)).multiplyScalar(pt.DEG2RAD),this.rotation.setFromVector3(UC),n=!0),t.scale&&(this.scale.fromArray(this.getTransformValues("scale",t,r)),n=!0),t.hiddenMatrix!==void 0&&(n=!0,this.hiddenMatrix.fromArray(t.hiddenMatrix??wg.identity)),n&&(this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(i=>{i.invalidateClonerTransform(this)})),t.position&&t.rotation&&t.scale&&t.hiddenMatrix!==void 0&&this.updateWorldMatrix(!1,!0),n}onVariableUpdate(t=!1){if(t){this.resetBBoxNeedsUpdate();return}this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(r=>{r.invalidateClonerTransform(this)})}dispose(){this.disposed=!0,this.cloner&&(this.cloner.removeFromParent(),this.cloner=void 0)}disposeChildrenRecursively(){for(let t of this.children)or.is(t)&&t.disposeRecursively()}disposeRecursively(){this.dispose(),this.children.forEach(t=>{or.is(t)&&t.disposeRecursively()})}toState(t=[]){let r={name:this.name,visible:this.visible,raycastLock:this.raycastLock,...this.toObjectTransformState(t)};return sP(r,t)}updateByObjUpdateOp(t,r){t!==void 0&&this.updateByOp({type:0,props:t,path:[]},{...this.data,...t},r,!1)}updateByOp(t,r,n,i){let o=this.data;this.data=r;let l=t,c=ns(t.path,["states","*"]);if(c!==null){if(t.type===0){let[a]=c;if((this==null?void 0:this.stateSelection)===a){let s={...t.props};if(delete s.name,Object.values(t.props).some(u=>u===void 0)){let u=this.data;if(u!==void 0){let d=fo.zoom(u,t.path.slice(2));if(d)for(let h in t.props)t.props[h]===void 0&&h in d&&(s[h]=d[h])}}l={...t,props:s,path:t.path.slice(2)}}}}else if(t.type===0){let a=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(a!==void 0){if(t.props.name!==void 0&&a.name){let{name:u,...d}=a;a=d}if(t.props.material!==void 0&&"material"in a){let{material:u,...d}=a;a=d}let s=fo.removeOverridden(t.path,t.props,a);l={...t,props:s}}}if(this.updateByPatchedOpBase(l,Uh.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),n),ns(t.path,["overrides"])){let a=[],s=[...t.path];for(a.push(s[1]),s.splice(0,2);s.length>0&&s[0]==="descendants";)a.push(s[1]),s.splice(0,2);if(a[a.length-1]===void 0){if(t.type===0)for(let u of Object.keys(t.props)){a[a.length-1]=u;let d=n.scene.findInstance([this.uuid,...a]);d&&(d.overrideData=t.props[u],d.updateState(Dd.apply(d.component.data,d.overrideData),n))}}else{let u=n.scene.findInstance([this.uuid,...a]);if(u){let d=fo.zoom(u.component.data,s);if(t={...t,path:s},t.type===0){let h=t.props;if(d)for(let[f,m]of Object.entries(t.props))m===void 0&&(h===t.props&&(h={...t.props}),h[f]=d[f]);t={...t,props:h}}u.overrideData=D2.resolve(r.overrides,a),u.updateByOp(t,qi.applySimple(u.data,t),n,!1)}}}else if(this.instances.length>0){let a;if(t.path.length===0&&t.type===0){let s;for(let u of pd.rootOverrideProps)u in t.props&&(s===void 0&&(s={}),s[u]=t.props[u]);s&&(a={...t,props:s})}else for(let s of pd.rootOverrideProps)if(ns(t.path,[s])){a=t;break}a!==void 0&&this.instances.forEach(s=>{if(s.isInstanceRoot){let u=Dd.filterOp(s.overrideData,a);u&&s.updateByOp(u,qi.applySimple(s.data,u),n,!0)}}),this.instances.forEach(s=>{if(!s.isInstanceRoot){let u=Dd.filterOp(s.overrideData,t);if(u){let d;o===s.data&&t===u?d=r:d=qi.applySimple(s.data,u),s.updateByOp(u,d,n,!0)}}})}}updateByPatchedOpBase(t,r,n){if(this.dataPatched=r,t.path.length===0&&t.type===0)t.props.type!==void 0&&!Ef.is(t.props.type)&&md.changeEntityProptotype(this,r,n);else if(t.path.length===1&&t.path[0]==="geometry"&&t.type===0&&"type"in t.props){md.changeEntityProptotype(this,r,n);for(let i of this.children)or.is(i)&&i.updateVisible(n.scene)}this.updateByPatchedOp(t,r,n)}updateByPatchedOp(t,r,n){if(t.path.length===0&&t.type===0&&this.updateState(t.props,n),ns(t.path,["pathSnapping"])!==null&&this.updatePathSnapping(r.pathSnapping),ns(t.path,["cloner"])!==null){let i=qi.drop(t,1);i.path.length===0&&i.type===0&&i.props.disabled===!0?this.setFromClonerState(null,n):this.cloner?this.cloner.updateState(r.cloner,n.scene):(this.setFromClonerState(r.cloner,n),this.expandCloner(n.scene)),this.updateVisible(n.scene)}}updatePathSnapping(t=this.dataPatched.pathSnapping){this._updatedPathSnapping=t,this._needApplyPathSnapping=!0}get updatedPathSnapping(){return this._updatedPathSnapping}applyPathSnapping(t){var m,p,g,v,x;let r=((m=this._updatedPathSnapping)==null?void 0:m.pathId)??this.dataPatched.pathSnapping.pathId,n=((p=this._updatedPathSnapping)==null?void 0:p.slide)??this.dataPatched.pathSnapping.slide??0,i=((g=this._updatedPathSnapping)==null?void 0:g.offset)??this.dataPatched.pathSnapping.offset??0,o=((v=this._updatedPathSnapping)==null?void 0:v.orientation)??this.dataPatched.pathSnapping.orientation;if(r===null)return;let l=t.find(r);if(!l||this._needApplyPathSnapping===!1)return;this._needApplyPathSnapping=!1;let c=l.data;if(c.geometry.path.points.length<=1)return;let a=FK(c.geometry.path),s=(n+i)%1;n+i===1&&s===0&&(s=1);let u=a.getPointAt(s);if(u===null)return;let d=this.parent?(x=this.parent)==null?void 0:x.matrixWorld:new Ne;l.updateMatrixWorld();let h=new Ne().multiplyMatrices(d.clone().invert(),l.matrixWorld);u.applyMatrix4(h);let f={position:u.toArray(),rotation:c.rotation};if(o==="tangential"){let y=new Ne().extractRotation(l.matrixWorld),b=a.getTangentAt(s).applyMatrix4(y).add(u),w=new Ne().lookAt(u,b,PIe),_=UC.setFromEuler(new yi().setFromRotationMatrix(w)).multiplyScalar(pt.RAD2DEG);f={...f,rotation:_.toArray()}}this.updateTransformState(f),this.traverseEntity(y=>{y._cameraType&&y.dispatchEvent(MIe)})}updateVisible(t){var n;if(this.visible=this.dataPatched.visible&&(!this.dataPatched.cloner||(this.dataPatched.cloner.disabled??!1)||((n=this.dataPatched.cloner)==null?void 0:n.hideBase)!==!0),!t)return;let r=!1;this.traverseEntity(i=>{if(i.data.type==="Splat")return r=!0,!0}),r&&t.reloadSplats()}updateState_Entity(t,r){t.name!==void 0&&(this.name=t.name),t.raycastLock!==void 0&&(this.raycastLock=t.raycastLock),t.visible!==void 0&&(this.updateVisible(r==null?void 0:r.scene),this.resetBBoxNeedsUpdate()),r&&"cloner"in t&&t.cloner!==void 0&&(this.setFromClonerState(t.cloner,r),this.updateVisible(r.scene)),this.updateTransformState(t,r)}get attachedSurfaceCloners(){return this.children.filter(t=>t instanceof md.Cloner&&t.parameters.type==="toObject")}setFromClonerState(t,r){this.disposed||(t===null||t.disabled?(this.cloner&&this.cloner.removeFromParent(),this.cloner=void 0):this.cloner===void 0?(this.cloner=new md.Cloner(this,t),r.scene.addPendingExpandCloner(this)):this.cloner.updateState(t,r.scene))}expandCloner(t){!this.disposed&&this.cloner&&this.cloner.expandClones(t)}invalidateClonerTransform(t){this.cloner&&this.cloner.invalidateTransform(t)}},UK=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,radialSegments:64,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadius:8,cornerSegments:8,hollow:0},e.parameters);r.thetaLength=pt.clamp(r.thetaLength,0,360);let n=r.width/2,i=r.radiusTop??n,o=r.radiusBottom??n;return i===o?(i=n,o=n):i>o?(i=n,o=o*n/i):(i=i*n/o,o=n),{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width),radiusTop:i,radiusBottom:o})}}static build(e){let{width:t,depth:r,height:n,radialSegments:i,heightSegments:o,openEnded:l,thetaStart:c,thetaLength:a,radiusTop:s,radiusBottom:u,cornerRadius:d,cornerSegments:h,hollow:f}=e.parameters,m;return a===0?(m=new vt,m.setAttribute("position",new it([],3))):d||f?m=new VK(s,u,n,i,o,l,c,a*Math.PI/180,d,d,h,f):m=new Pj(s,u,n,i,o,l,c,a*Math.PI/180),m.scale(1,1,r/t),Object.assign(m,{userData:{...e,type:"CylinderGeometry"}})}};function zu(e,t,r){r.x=e.x*t.x,r.y=e.y,r.z=e.x*t.y}function wB(e){return new oe(e.y,-e.x)}var VK=class extends vt{constructor(e,t,r,n,i,o,l,c,a,s,u,d,h=!1){super(),this.type="RoundedCylinderBufferGeometry",e=e!==void 0?e:1,t=t!==void 0?t:1,r=r||1,n=Math.floor(n)||8,i=Math.floor(i)||1,o=o!==void 0?o:!1,l=l!==void 0?l:0,c=c!==void 0?c:Math.PI*2,o&&(a=0,s=0);let f=[],m=[],p=[],g=[],v=0,x=r/2,y=new V,b=new V;h&&e==0&&(e=a),h&&t==0&&(t=s);let w=new oe(e,x),_=new oe(t,-x),S=null,E=null,C=null,A=null,T=w.clone().sub(_),k=0,D=0,M=0;d>0&&(k=Math.min(e,t)*(1-d),D=e-k,M=t-k);let P=w.clone();P.x-=k;let j=Math.PI-T.angle(),O=T.angle(),I=Math.tan(O/2),N=Math.tan(j/2),L=I+N,B=d?L:N,R=d?L:I;if(a=Math.min(a,(e-D)/B,T.length()/L),s=Math.min(s,(t-M)/R,T.length()/L),a>0){let K=a/I;S=w.clone().sub(new oe(K,a)),d&&(C=S.clone(),C.x-=k-L*a),w.sub(T.clone().setLength(K))}if(s>0){let K=s/N;E=_.clone().sub(new oe(K,-s)),_.add(T.clone().setLength(K)),d&&(A=E.clone(),A.x-=k-L*s,P.sub(T.clone().setLength(K)))}T=w.clone().sub(_);let z=T.length()<.5,W=[];for(let K=0;K<=n;K++){let Q=[],Y=K/n,$=Y*c+l,J=new oe(Math.sin($),Math.cos($));A&&E?(U(Q,Y,J,j,s,A,-1,!0),U(Q,Y,J,O,s,E,-1,!1)):E?(H(Q,J,E.x,0,-1),U(Q,Y,J,O,s,E,-1,!1)):o||H(Q,J,t,M,-1);let ie=wB(T).normalize();if(zu(ie,J,y),!z)for(let ne=0;ne<=i;ne++){let ae=ne/i,je=T.clone().multiplyScalar(ae).add(_);zu(je,J,b),m.push(b.x,b.y,b.z),p.push(y.x,y.y,y.z),g.push(Y,.5+b.y/r),Q.push(v++)}if(C&&S?(U(Q,Y,J,j,a,S,1,!1),U(Q,Y,J,O,a,C,1,!0)):S?(U(Q,Y,J,j,a,S,1,!1),H(Q,J,S.x,0,1)):o||H(Q,J,e,D,1),d&&!z){let ne=wB(T).multiplyScalar(-1).normalize();zu(ne,J,y);for(let ae=0;ae<=i;ae++){let je=ae/i,Ee=T.clone().multiplyScalar(-je).add(P);zu(Ee,J,b),m.push(b.x,b.y,b.z),p.push(y.x,y.y,y.z),g.push(Y,.5+b.y/r),Q.push(v++)}}d&&!o&&Q.push(Q[0]),W.push(Q)}for(let K=0;K<W.length-1;K++)for(let Q=0;Q<W[0].length-1;Q++){if(o&&d&&Q==i)continue;let Y=W[K][Q],$=W[K+1][Q],J=W[K+1][Q+1],ie=W[K][Q+1],ne=m[J*3+0],ae=m[J*3+2];f.push(Y,$,ie),(ne!=0||ae!=0)&&f.push($,J,ie)}c<Math.PI*2&&(X(-1,W[0],l),X(1,W[W.length-1],l+c)),this.setIndex(f),this.setAttribute("position",new it(m,3)),this.setAttribute("normal",new it(p,3)),this.setAttribute("uv",new it(g,2));function U(K,Q,Y,$,J,ie,ne,ae){for(let je=0;je<u+1;je++){let Ee=je/u,we=ne<0?Ee:1-Ee;ae&&(we-=1),we*=$;let De=new oe(Math.sin(we),Math.cos(we)*ne),Le=De.clone().multiplyScalar(J).add(ie);zu(Le,Y,b),m.push(b.x,b.y,b.z),zu(De,Y,y),p.push(y.x,y.y,y.z),g.push(Q,.5+b.y/r),K.push(v++)}}function H(K,Q,Y,$,J){let ie=new V,ne=new oe,ae=[Y,$];J<0&&ae.reverse();for(let je of ae)ne.set(je,x*J),zu(ne,Q,ie),m.push(ie.x,ie.y,ie.z),p.push(0,J,0),g.push(.5,.5),K.push(v++)}function X(K,Q,Y){let $=new oe(Math.sin(Y),Math.cos(Y)),J=new oe(-Math.cos(Y),Math.sin(Y)),ie=new V,ne=K<0?(Ee,we,De)=>f.push(Ee,we,De):(Ee,we,De)=>f.push(Ee,De,we),ae=new oe((e+t+D+M)/4,0);zu(ae,$,ie),m.push(ie.x,ie.y,ie.z),p.push(J.x,0,J.y),g.push(.5,.5);let je=v++;for(let Ee of Q){let we=m.slice(Ee*3,Ee*3+3);m.push(...we),p.push(J.x,0,J.y);let De=g.slice(Ee*2,Ee*2+2);g.push(...De),v++}for(let Ee=je+1;Ee<v-1;Ee++)ne(je,Ee,Ee+1);ne(je,v-1,je+1)}}},kIe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,radialSegments:32,heightSegments:8,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadiusTop:8,cornerRadiusBottom:8,cornerSegments:8},e.parameters);return r.thetaLength=pt.clamp(r.thetaLength,0,360),{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,depth:r,height:n,radialSegments:i,heightSegments:o,openEnded:l,thetaStart:c,thetaLength:a,cornerRadiusTop:s,cornerRadiusBottom:u,cornerSegments:d}=e.parameters,h;return a===0?(h=new vt,h.setAttribute("position",new it([],3))):s>0||u>0||a<360?h=new VK(0,t/2,n,i,o,l,c,a*Math.PI/180,s,u,d,0,!0):h=new JX(t/2,n,i,o,l),h.scale(1,1,r/t),Object.assign(h,{userData:{...e,type:"ConeGeometry"}})}},DIe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,widthSegments:1,heightSegments:1,depthSegments:1,cornerRadius:8,cornerSegments:8},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:n,widthSegments:i,heightSegments:o,depthSegments:l,cornerRadius:c,cornerSegments:a}=e.parameters,s;return c==0?s=new nc(t,r,n,i,o,l):s=new jIe(t,r,n,i,o,l,c,a),Object.assign(s,{userData:{...e,type:"CubeGeometry"}})}},VC=Math.PI/2,jIe=class extends vt{constructor(e=1,t=1,r=1,n=1,i=1,o=1,l=0,c=4){super(),this.type="BoxGeometry";let a=this;n=Math.floor(n),i=Math.floor(i),o=Math.floor(o),c=Math.floor(c),l=Math.min(l,e/2,t/2,r/2);let s=[],u=[],d=[],h=[],f=0,m=0;p("z","y","x",-1,-1,r,t,e,o,i,0),p("z","y","x",1,-1,r,t,-e,o,i,1),p("x","z","y",1,1,e,r,t,n,o,2),p("x","z","y",1,-1,e,r,-t,n,o,3),p("x","y","z",1,-1,e,t,r,n,i,4),p("x","y","z",-1,-1,e,t,-r,n,i,5),l>0&&(g("z","y","x",-1,-1,1,r,t,e,o,0),g("z","y","x",1,-1,-1,r,t,e,o,1),g("z","y","x",-1,1,-1,r,t,e,o,1),g("z","y","x",1,1,1,r,t,e,o,0),g("x","y","z",-1,-1,-1,e,t,r,n,0),g("x","y","z",1,-1,1,e,t,r,n,1),g("x","y","z",-1,1,1,e,t,r,n,0),g("x","y","z",1,1,-1,e,t,r,n,1),g("y","x","z",-1,-1,1,t,e,r,i,0),g("y","x","z",1,-1,-1,t,e,r,i,1),g("y","x","z",1,1,1,t,e,r,i,1),g("y","x","z",-1,1,-1,t,e,r,i,0),v(1,1,1),v(-1,1,1),v(1,-1,1),v(-1,-1,1),v(1,1,-1),v(-1,1,-1),v(1,-1,-1),v(-1,-1,-1)),this.setIndex(s),this.setAttribute("position",new it(u,3)),this.setAttribute("normal",new it(d,3)),this.setAttribute("uv",new it(h,2));function p(x,y,b,w,_,S,E,C,A,T,k){let D=(S-2*l)/A,M=(E-2*l)/T,P=S/2-l,j=E/2-l,O=C/2,I=A+1,N=T+1,L=0,B=0,R=new V;for(let z=0;z<N;z++){let W=z*M-j;for(let U=0;U<I;U++){let H=U*D-P;R[x]=H*w,R[y]=W*_,R[b]=O,u.push(R.x,R.y,R.z),R[x]=0,R[y]=0,R[b]=C>0?1:-1,d.push(R.x,R.y,R.z),h.push(U/A),h.push(1-z/T),L+=1}}for(let z=0;z<T;z++)for(let W=0;W<A;W++){let U=f+W+I*z,H=f+W+I*(z+1),X=f+(W+1)+I*(z+1),K=f+(W+1)+I*z;s.push(U,H,K),s.push(H,X,K),B+=6}a.addGroup(m,B,k),m+=B,f+=L}function g(x,y,b,w,_,S,E,C,A,T,k){let D=(E-2*l)/T,M=E/2-l,P=C/2-l,j=A/2,O=T+1,I=0,N=0,L=new V,B=new V;for(let R=0;R<c+1;R++){let z=R/c*VC,W=Math.sin(z)*l,U=(1-Math.cos(z))*l,H=Math.sin(z),X=Math.cos(z);L[y]=(P+W)*_,L[b]=(j-U)*S,B[x]=0,B[y]=H*Math.sign(L[y]),B[b]=X*Math.sign(L[b]);for(let K=0;K<O;K++){let Q=K*D-M;L[x]=Q*w,u.push(L.x,L.y,L.z),d.push(B.x,B.y,B.z),h.push(K/T),h.push(0),I+=1}}for(let R=0;R<c;R++)for(let z=0;z<T;z++){let W=f+z+O*R,U=f+z+O*(R+1),H=f+(z+1)+O*(R+1),X=f+(z+1)+O*R;s.push(W,U,X),s.push(U,H,X),N+=6}a.addGroup(m,N,k),m+=N,f+=I}function v(x,y,b){let w=new V,_=new V(e/2,t/2,r/2);_.subScalar(l);let S=[],E=x*y*b>0?(A,T,k)=>s.push(A,T,k):(A,T,k)=>s.push(A,k,T);for(let A=0;A<=c;A++){let T=[],k=VC*(1-A/c),D=Math.cos(k),M=Math.sin(k),P=0;for(let j=0;j<=A;j++){let O=Math.cos(P),I=Math.sin(P);w.x=D*O,w.y=M,w.z=D*I;let N=_.clone().addScaledVector(w,l);u.push(x*N.x,y*N.y,b*N.z),d.push(x*w.x,y*w.y,b*w.z),h.push(0,0),T.push(f++),P+=VC/A}S.push(T)}let C=S.length-1;for(let A=0;A<C;A++){let T=S[A],k=S[A+1],D=T.length-1;E(T[0],k[1],k[0]);for(let M=1;M<=D;M++)E(T[M-1],T[M],k[M]),E(T[M],k[M+1],k[M])}}}},f6=class extends vt{constructor(e=[],t=[],r="",n=1,i=.2,o=4){super(),this.type="PolyhedronGeometryRound";let l=[],c=[],a=[];s(),u(),this.setAttribute("position",new it(l,3)),this.setAttribute("normal",new it(a,3)),this.setAttribute("uv",new it(c,2));return;function s(){var O;i=Math.min(1-1e-5,i),i==0&&(o=0);let d={IcosahedronGeometry:5,DodecahedronGeometry:3,HexahedronGeometry:3,OctahedronGeometry:4,TetrahedronGeometry:3}[r],h=new V,f=h.clone(),m=new Gi,p=i*n,g=n-p,v=o+1,x=new V,y=(I,N)=>x.subVectors(I,N).normalize(),b=(I,N)=>Array(I).fill(void 0).map(N),w=b(e.length/3,(I,N)=>new V().fromArray(e,N*3).setLength(n)),_=[],S=1e6;for(let I=0;I<w.length;I++){let N=w[I],L=[],B,R,z,W=1e10,U=-1;for(;(U=t.indexOf(I,U+1))!=-1;){let Q=U-U%3;B=t[Q+(U+1)%3],R=t[Q+(U+2)%3],z=N.distanceToSquared(w[B]),W=Math.min(W,z),L.push([B,R,z])}W+=1e-6;let H=[],X=0,K=L.length;for(let Q=0;Q<K;Q++){[B,R,z]=L[X];let Y=((O=_[B])==null?void 0:O.includes(I))==!0;z<=W&&H.push(B+ +Y*S),X=L.findIndex($=>$[0]==R)}_.push(H)}let E=[];{let I=0,N=0,L,B,R=d==3;for(let z=0;z<=o;z++){L=z*(z+1)/2,B=(z+1)*(z+2)/2;for(let W=0;W<o-z;W++)[I,N]=[L+W+z+2,B+W+z+3],E.push(L,B,...R?[N,L]:[I,B],N,I),[L,B]=[I,N];E.push(L,B,L+o+2)}}let C=h.clone(),A=h.clone(),T=h.clone(),k=h.clone(),D=h.clone(),M=[],P=b(w.length,()=>b(d,()=>h.clone()));for(let I=0;I<w.length;I++){h.copy(w[I]).normalize(),C.copy(h).multiplyScalar(g);let N=_[I];for(let H=0;H<N.length;H++){let X=N[H],K=N[(H+1)%d];m.setFromPointsAndIndices(w,I,X%S,K%S),m.b.sub(m.a).setLength(1e10).add(m.a),m.c.sub(m.a).setLength(1e10).add(m.a),m.closestPointToPoint(C,P[I][H])}let L=[],B=[],R=[],z=new V;o==0&&[...P[I]].reduce((H,X)=>H.add(X),z).multiplyScalar(1/d);for(let H=0;H<d;H++){let X=[],K=(H-1+d)%d,Q=P[I][K],Y=P[I][H];h.copy(Q).sub(C),f.copy(Y).sub(C);let $=C.angleTo(h),J=h.angleTo(f),ie=Math.cos($)*p;o==0?A.copy(z):A.copy(C).setLength(g+ie),B.push(ie);let ne=[A,Q,Y];for(let ae=0;ae<2;ae++){let je=ne[ae],Ee=ne[ae+1];k.subVectors(je,C),D.subVectors(Ee,C),T.crossVectors(k,D).normalize();for(let we=0;we<v;we++){let De=[$,J][ae]*we/v;h.copy(k).applyAxisAngle(T,De).add(C),L.push(h.clone()),ae&&(y(h,C),X.push([we==0?je:h.clone(),x.clone()]))}ae&&(y(Ee,C),X.push([Ee,x.clone()]))}R.push(X)}M.push(R);let W=2*v,U=2;for(let H=0;H<d;H++){let X=W*H,K=W*((H+1)%d),Q=[L[X]];for(let $=1;$<v;$++){k=L[X+$],D=L[K+$],Q.push(k);for(let J=1,ie=$-U+1;J<=ie;J++)h.lerpVectors(k,D,J/(ie+1)),h.sub(C).setLength(B[H]).add(C),Q.push(h.clone());Q.push(D)}for(let $=0;$<v;$++)Q.push(L[$+v+X]);Q.push(L[K+v]);let Y=E.map($=>Q[$]);l.push(...Y.map($=>[$.x,$.y,$.z]).flat()),a.push(...Y.map($=>(y($,C),[x.x,x.y,x.z])).flat())}}let j=[];for(let I=0;I<_.length;I++)for(let N=0;N<d;N++){let L=_[I][N];if(L<S){let B=_[L].findIndex(W=>W%S==I),R=M[I][N],z=M[L][B];for(let W=0;W<v;W++){let U=R[W],H=z[v-W],X=R[W+1],K=z[v-(W+1)];[U,H,X,X,H,K].forEach(Q=>{l.push(Q[0].x,Q[0].y,Q[0].z),a.push(Q[1].x,Q[1].y,Q[1].z)})}j.push(R[0][0],z[v][0],R[v][0],z[0][0])}}for(;j.length;){let I,N,L,B;[I,N]=j.splice(0,2);let R=[I];for(;I!=N;)R.push(N),L=j.indexOf(N),B=L%2,N=j.splice(L-B,2)[1-B];x.subVectors(R[0],R[1]).cross(h.subVectors(R[0],R[2])).normalize();let z=x.dot(R[0])<0;z&&x.negate();for(let W=1;W<=R.length-2;W++)[R[W+ +z],R[W+1-+z],R[0]].forEach(U=>{l.push(U.x,U.y,U.z),a.push(x.x,x.y,x.z)})}}function u(){let d=new V;for(let _=0;_<l.length;_+=3){d.x=l[_+0],d.y=l[_+1],d.z=l[_+2];let S=b(d)/2/Math.PI+.5,E=w(d)/Math.PI+.5;c.push(S,1-E)}let h=new V,f=new V,m=new V,p=new V,g=new oe,v=new oe,x=new oe,y=(_,S,E,C)=>{C<0&&_.x===1&&(c[S]=_.x-1),E.x===0&&E.z===0&&(c[S]=C/2/Math.PI+.5)};for(let _=0,S=0;_<l.length;_+=9,S+=6){h.set(l[_+0],l[_+1],l[_+2]),f.set(l[_+3],l[_+4],l[_+5]),m.set(l[_+6],l[_+7],l[_+8]),g.set(c[S+0],c[S+1]),v.set(c[S+2],c[S+3]),x.set(c[S+4],c[S+5]),p.copy(h).add(f).add(m).divideScalar(3);let E=b(p);y(g,S+0,h,E),y(v,S+2,f,E),y(x,S+4,m,E)}for(let _=0;_<c.length;_+=6){let S=c[_+0],E=c[_+2],C=c[_+4],A=Math.max(S,E,C),T=Math.min(S,E,C);A>.9&&T<.1&&(S<.2&&(c[_+0]+=1),E<.2&&(c[_+2]+=1),C<.2&&(c[_+4]+=1))}function b(_){return Math.atan2(_.z,-_.x)}function w(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}}static fromJSON(e){return new f6(e.vertices,e.indices,e.radius,e.corner,e.cornerSides)}},IIe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:n,detail:i,corner:o,cornerSides:l}=e.parameters,c=i===0&&o!==0?new HK(t*.5,o,l):new ZX(t*.5,i);return c.scale(1,r/t,n/t),Object.assign(c,{userData:{...e,type:"DodecahedronGeometry"}})}},HK=class extends f6{constructor(e=1,t=.2,r=4){let n=(1+Math.sqrt(5))/2,i=1/n,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],c="DodecahedronGeometry";super(o,l,c,e,t,r),this.type=c}static fromJSON(e){return new HK(e.radius,e.corner,e.cornerSides)}},tv=1e-12,p6=class{constructor(e){this.position=new oe,this.startPosition=new oe,this.uuid=pt.generateUUID(),this.position=e.clone()}start(){this.reset()}reset(){this.startPosition.copy(this.position)}applyOffset(e){this.position.copy(this.startPosition).add(e)}copy(e){return this.position.copy(e.position),this.startPosition.copy(e.startPosition),this}clone(){return new p6(this.position).copy(this)}toJSON(){return[this.position.x,this.position.y]}},qP=class extends p6{constructor(e){super(e.position),this.parent=e}copy(e){return super.copy(e),this}clone(){return new qP(this.parent).copy(this)}},Fm=class extends p6{constructor(e,t){super(t),this.controls=[],this.roundness=0,this.areControlsDirectionsMirrored=!0,this.uuid=e,this.controls.push(new qP(this),new qP(this))}static create(e,t){let r=new Fm(e,new oe(...t.position));return r.controls[0].position.set(...t.controlPrevious.position),r.controls[1].position.set(...t.controlNext.position),r.roundness=t.roundness,r.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored,r}getOppositeControl(e){let t=this.controls.indexOf(e);return t===0?this.controls[1]:t===1?this.controls[0]:null}applyOffsetToControls(e,t=1){for(let r=0,n=this.controls.length;r<n;r++){let i=this.controls[r];this.position.distanceTo(i.position)<=t?i.position.copy(this.position):i.applyOffset(e)}}controlsMoved(){return!(this.position.equals(this.controls[0].position)&&this.position.equals(this.controls[1].position))}copy(e){return super.copy(e),this.controls[0].copy(e.controls[0]),this.controls[1].copy(e.controls[1]),this.roundness=e.roundness,this.uuid=e.uuid,this}clone(){return new Fm(this.uuid,this.position).copy(this)}toJSON(){return super.toJSON().concat(this.controls[0].toJSON(),this.controls[1].toJSON(),[this.roundness])}computeTangents(){var r,n;let e=(r=this.curveBefore)==null?void 0:r.getTangentAt(1),t=(n=this.curveAfter)==null?void 0:n.getTangentAt(0);return[e,t]}computeNormals(e=new oe,t=new oe){let[r,n]=this.computeTangents();return r&&n&&(_B(r,e),_B(n,t)),[e,t]}computeTangent(e=new oe){let[t,r]=this.computeTangents();return t&&r&&e.copy(t).add(r).normalize(),e}computeNormal(e=new oe){let[t,r]=this.computeNormals();return e.copy(t).add(r).normalize(),e}};function _B(e,t=new oe){let r=e.length();return t.set(-e.y/r,e.x/r)}var m6=e=>e,u0=new oe,KE=new oe,OIe=new oe,RIe=new oe,LIe=new oe,zIe=new oe,WK=new V,GK=new V;function NIe(e){let t=new oe;t.addVectors(e.v0,u0.subVectors(e.v1,e.v0).multiplyScalar(2/3));let r=new oe;return r.addVectors(e.v2,KE.subVectors(e.v1,e.v2).multiplyScalar(2/3)),new qs(e.v0,t,r,e.v2)}function kv(e,t,r=Number.EPSILON){return Math.abs(e-t)<r}function BIe(e,t,r=Number.EPSILON){return e.distanceTo(t)<r}function FIe(e,t,r=Number.EPSILON){return e.distanceTo(t)<r}function qK(e,t,r){let n=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),i=Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)),o=Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));return Math.acos((i*i+n*n-o*o)/(2*i*n))}function UIe(e,t,r){return EB(e,t)&&EB(t,r)&&YP(e.position,t.position,r.position)}function YP(e,t,r){return u0.copy(t).sub(e).cross(KE.copy(r).sub(e))===0}function VIe(e,t,r,n,i){let o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),l=(e.y+t.y)/2,c=(e.x+t.x)/2,a=Math.sqrt(Math.pow(r,2)-Math.pow(o/2,2))*(e.y-t.y)/o,s=Math.sqrt(Math.pow(r,2)-Math.pow(o/2,2))*(t.x-e.x)/o;return n.set(c+a,l+s),i.set(c-a,l-s),[n,i]}function HIe(e,t,r){let n=e.distanceTo(r),i=t.distanceTo(r);return n<i?t:e}function WIe(e,t,r,n,i,o){let l=t.x-e.x,c=t.y-e.y,a=r.x-e.x,s=r.y-e.y,u=Math.sqrt((l+a)*(l+a)+(c+s)*(c+s)),d;return qK(t,e,r)>Math.PI&&(u*=-1),kv(s,c)?d=(c+s)*(n/u-.5)*8/3/(l-a):d=(l+a)*(n/u-.5)*8/3/(s-c),i.set(t.x-d*c,t.y+d*l),o.set(r.x+d*s,r.y-d*a),[i,o]}function SB(e,t){return e.position.equals(e.controls[1].position)&&t.position.equals(t.controls[0].position)}function EB(e,t){return YP(e.position,e.controls[1].position,t.position)&&YP(e.position,t.controls[0].position,t.position)}function GIe(e,t,r,n,i=.5){let o=u0.subVectors(t,e).multiplyScalar(i).add(e),l=KE.subVectors(r,t).multiplyScalar(i).add(t),c=OIe.subVectors(n,r).multiplyScalar(i).add(r),a=o,s=RIe.subVectors(l,o).multiplyScalar(i).add(o),u=LIe.subVectors(c,l).multiplyScalar(i).add(l),d=c,h=zIe.subVectors(u,s).multiplyScalar(i).add(s);return[e.x,e.y,a.x,a.y,s.x,s.y,h.x,h.y,u.x,u.y,d.x,d.y,n.x,n.y]}function qIe(e,t,r=12,n=!0){let i=GK.set(0,0,0),o,l=0;for(let c=0;c<t.length;c++){let a=m6(t[c]),s=u0,u=nf(a,r);for(let d=0;d<=u;d++)if(a instanceof qs||a instanceof Ud||a instanceof Zs){if(a.getPoint(d/u,s),i.set(s.x,s.y,0),o!==void 0&&FIe(o,i))continue;o===void 0&&(o=WK),o.copy(i),e.setXYZ(l,i.x,i.y,i.z),l++}}return n&&l>1&&!(e.getX(l-1)===e.getX(0)&&e.getY(l-1)===e.getY(0)&&e.getZ(l-1)===e.getZ(0))&&(e.setXYZ(l,e.getX(0),e.getY(0),e.getZ(0)),l++),e}function YIe(e,t,r,n=12,i=!0){let o=GK.set(0,0,0),l=0,c=[];for(let a=0;a<t.length;a++){if(r[a]===!1)continue;let s,u=m6(t[a]),d=u0,h=nf(u,n);c.push(h);for(let f=0;f<=h;f++)if(u instanceof qs||u instanceof Ud||u instanceof Zs){if(u.getPoint(f/h,d),o.set(d.x,d.y,0),s==null?void 0:s.equals(o))continue;s===void 0?s=WK:(e.setXYZ(l,s.x,s.y,s.z),l++,e.setXYZ(l,o.x,o.y,o.z),l++),s.copy(o)}}return i&&l>1&&!(e.getX(l-1)===e.getX(0)&&e.getY(l-1)===e.getY(0)&&e.getZ(l-1)===e.getZ(0))&&(e.setXYZ(l,e.getX(0),e.getY(0),e.getZ(0)),l++),c}function AB(e,t=12,r=!1){let n=[];for(let i=0,o=e.length;i<o;i++){let l=e[i],c=0;if(r&&l.roundedCurveCorner!==void 0){let a=nf(l.roundedCurveCorner,t)*.5;i>0&&(n[i-1]+=a),c+=a}l.curveAfter!==void 0&&(c+=nf(l.curveAfter,t)),n.push(c)}return e.length>0&&r&&e[0].roundedCurveCorner!==void 0&&(n[e.length-1]+=nf(e[0].roundedCurveCorner,t)*.5),n}function nf(e,t=12){return e&&e instanceof OE?t*2:e&&(e instanceof Zs||e instanceof $X)?1:e&&e instanceof Tj?t*e.points.length:t}function XIe(e,t,r=12,n=!0){let i,o=0;for(let l=0;l<t.length;l++){let c=m6(t[l]),a=nf(c,r),s=u0;for(let u=0;u<=a;u++)if(c instanceof qs||c instanceof Ud||c instanceof Zs){if(c.getPoint(u/a,s),i!==void 0&&BIe(i,s,tv))continue;i===void 0&&(i=KE),i.copy(s),e.push(s.x,s.y),o++}}return kv(e[0],e[e.length-2],tv)&&kv(e[1],e[e.length-1],tv)&&(e.pop(),e.pop()),n&&o>1&&!(kv(e[o-1],e[1],tv)&&kv(e[o-2],e[0],tv))&&(e.push(e[0],e[1]),o++),e}var HC=new oe,$Ie=new oe,KIe=new oe,QIe=new oe,JIe=new oe,ZIe=new oe,wn=class extends l2{constructor(e=100,t=100){super(),this.points=[],this.shapeHoles=[],this.plane=new fa(new V(0,0,-1)),this.subdivision=0,this.controlSnapDistance=4,this.pointIDs=0,this.isMesh2D=!1,this.isText=!1,this._roundness=0,this.isClosed=!1,this.useCubicForRoundedCorners=!0,this.uuid=pt.generateUUID(),this.needsUpdate=!1,this.roundedCurves=[],this._width=e,this._height=t}static createFromState(e,t,r){let n=new wn;return n.isClosed=e.isClosed,n.points=e.points.map(i=>Fm.create(i.id,i.data)),typeof e.roundness=="number"&&(n.roundness=e.roundness),n.shapeHoles=e.shapeHoles.map(i=>wn.createFromState(i)),t!==void 0&&r!==void 0&&n.applySize(t,r),n.update(),n}get width(){return this._width}get height(){return this._height}get roundness(){return this._roundness}set roundness(e){if(this._roundness!==e){this._roundness=e;for(let t=0,r=this.points.length;t<r;t++)this.points[t].roundness=e;this.needsUpdate=!0}}getPointsIndexesByIds(e){return e.map(t=>this.getPointIndexById(t)).filter(t=>t>=0)}getPointIndexById(e){let t=this.points.length,r=this.points.findIndex(n=>n.uuid===e);if(r<0){let n=t;for(let i=0,o=this.shapeHoles.length;i<o;i++){let l=this.shapeHoles[i],c=l.points.length,a=l.getPointIndexById(e);if(a<0)n+=c;else return a+n}}return r}getLineIndexById(e){return this.getPointIndexById(e)}getBezierPoint(e){if(e<=this.points.length-1)return this.points[e];if(this.shapeHoles.length>0){let t=this.points.length;for(let r=0,n=this.shapeHoles.length;r<n;r++){let i=this.shapeHoles[r],o=e-t;if(o<=i.points.length-1)return i.points[o];t+=i.points.length}}throw new Error("This shape does not have a point for this index: "+e)}getBezierPointIndex(e){let t=this.points.indexOf(e);if(t>=0)return t;if(t=this.points.length,this.shapeHoles.length>0)for(let r=0,n=this.shapeHoles.length;r<n;r++){let i=this.shapeHoles[r],o=i.points.indexOf(e);if(o>=0)return t+o;t+=i.points.length}return-1}getAllPoints(){let e=[].concat(...this.shapeHoles.map(t=>t.points));return[...this.points,...e]}applySize(e,t){e===0&&(e=.001),t===0&&(t=.001),this._width=e,this._height=t}applyScale(e,t){let r=HC.set(e,t);for(let n=0,i=this.points.length;n<i;n++){let o=this.points[n];o.position.multiply(r),o.controls[0].position.multiply(r),o.controls[1].position.multiply(r)}for(let n=0,i=this.shapeHoles.length;n<i;n++)this.shapeHoles[n].applyScale(e,t);this._update()}createPoint(e,t=0,r=pt.generateUUID()){let n;e instanceof oe?n=e:n=new oe(e,t);let i=new Fm(r,n);return i.roundness=this.roundness,i}addPoint(e){this.points.push(e),this.needsUpdate=!0}addPointAt(e,t){this.points.splice(t,0,e),this.needsUpdate=!0}getPointByUuid(e){for(let t=0,r=this.points.length;t<r;t++){let n=this.points[t];if(n.uuid===e)return n}for(let t=0,r=this.shapeHoles.length;t<r;t++){let n=this.shapeHoles[t].getPointByUuid(e);if(n)return n}}getFirstPoint(){return this.points[0]}getLastPoint(){return this.points[this.points.length-1]}removePoint(e){let t=this.points.indexOf(e);t>=0&&this.points.splice(t,1),this.needsUpdate=!0}removePointById(e){let t=this.points.find(r=>r.uuid===e);t&&this.removePoint(t)}update(){for(let e=0,t=this.shapeHoles.length;e<t;e++)this.shapeHoles[e].update();this._update()}extractShapePointsToBuffer(e,t=12,r=!1){this.subdivision=t,this.curveDivisions===void 0&&this.computeCurveDivisions(t);let n=r?this.roundedCurveDivisions:this.curveDivisions;return qIe(e,r?this.roundedCurves:this.curves,t,this.autoClose),n.reduce((i,o)=>i+o,0)+1}computeCurveDivisions(e=12){return this.curveDivisions=AB(this.points,e,!1),this.roundedCurveDivisions=AB(this.points,e,!0),this.curveDivisions}extractFilteredShapePointsToBuffer(e,t,r=12){return YIe(e,this.curves,t,r,this.autoClose).reduce((n,i)=>n+i,0)*2}extractShapePointsToFlatArray(e,t=12){return this.subdivision=t,this.curveDivisions===void 0&&this.computeCurveDivisions(t),XIe(e,this.roundedCurves,t,this.autoClose)}getCurveIndexFromVertexId(e,t=!1){let r=0;this.curveDivisions===void 0&&this.computeCurveDivisions(this.subdivision);let n=t?this.roundedCurveDivisions:this.curveDivisions,i=0;t&&this.points[0].roundedCurveCorner!==void 0&&(i=nf(this.points[0].roundedCurveCorner,this.subdivision)*.5);let o=e-i;o<0&&(o+=n.reduce((l,c)=>l+c,0));for(let l=0,c=n.length;l<c;l++){let a=n[l];if(o<r+a)return[l,(o-r+1)/a];r+=a}return[0,1]}getCurveT(e,t,r){let n=this.points[e],i=this.points[e>=this.points.length-1?0:e+1],o=this.curveDivisions,l=o[e];if(SB(n,i)){let a=n.position.distanceTo(i.position);return n.position.distanceTo(HC.set(r.x,r.y))/a}let c=0;for(let a=0;a<e;a++)c+=o[a];return(t-c)/l}dispose(){}_applyCurveForPoint(e,t){SB(t,e)?this.lineTo(e.position.x,e.position.y):this.bezierCurveTo(t.controls[1].position.x,t.controls[1].position.y,e.controls[0].position.x,e.controls[0].position.y,e.position.x,e.position.y);let r=this.curves[this.curves.length-1];e.curveBefore=r,t.curveAfter=r;let n=r.clone();e.roundedCurveBefore=n,t.roundedCurveAfter=n,e.roundedCurveCorner=void 0,this.roundedCurves.push(n)}_update(){if(this.curves=[],this.roundedCurves=[],!this.points.length)return;for(let t=0,r=this.points.length;t<r;t++){let n=this.points[t];if(t===0)this.moveTo(n.position.x,n.position.y);else{let i=this.points[t-1];this._applyCurveForPoint(n,i)}}let e=this.getLastPoint();if(e!=null&&e.curveAfter&&(e.curveAfter=void 0),this.isClosed){let t=this.points[0],r=this.points[this.points.length-1];this._applyCurveForPoint(t,r)}if(this.points.length>2){let t=0;for(let r=0,n=this.points.length;r<n;r++){let i=this.points[r],o=this.points[r-1]??this.points[this.points.length-1],l=this.points[r+1]??this.points[0],c=i.roundness,a=o&&l&&UIe(o,i,l);if(!i.controlsMoved()&&c>0&&!a){let s=i.curveBefore,u=i.curveAfter;if(s===void 0||u===void 0)continue;let d=i.roundedCurveBefore,h=i.roundedCurveAfter,f=s.getLength(),m=u.getLength(),p=Math.min(c,f*.499),g=Math.min(c,m*.499),v=Math.min(p,g),x=1-v/f,y=v/m,b=s.getPointAt(x,HC),w=u.getPointAt(y,$Ie);this._subSplitCurve(s,d,x,b,void 0),this._subSplitCurve(u,h,y,void 0,w);let _;if(this.useCubicForRoundedCorners){let S=qK(b,i.position,w)/2,E=Math.tan(S)*b.distanceTo(i.position),[C,A]=VIe(b,w,E,KIe,QIe),T=HIe(C,A,i.position),[k,D]=WIe(T,b,w,E,JIe,ZIe);_=new qs(b.clone(),k.clone(),D.clone(),w.clone())}else _=new Ud(b.clone(),i.position.clone(),w.clone());i.roundedCurveCorner=_,this.roundedCurves.splice(r+t,0,_),t++}}}}_subSplitCurve(e,t,r,n,i){if(e instanceof Zs)n!==void 0&&t.v2.copy(n),i!==void 0&&t.v1.copy(i);else{let o=e,l=t,c=o.getUtoTmapping(r,0),a=GIe(o.v0,o.v1,o.v2,o.v3,c);return n!==void 0&&(l.v0.set(a[0],a[1]),l.v1.set(a[2],a[3]),l.v2.set(a[4],a[5]),l.v3.set(a[6],a[7])),i!==void 0&&(l.v0.set(a[6],a[7]),l.v1.set(a[8],a[9]),l.v2.set(a[10],a[11]),l.v3.set(a[12],a[13])),l}return t}clone(){let e=new wn(this._width,this._height);return e.points=this.points.map(t=>t.clone()),e.isClosed=this.isClosed,e.roundness=this.roundness,e.isMesh2D=this.isMesh2D,e.shapeHoles=this.shapeHoles.map(t=>t.clone()),e}toJSON(){return{points:this.points.reduce((e,t)=>e.concat(t.toJSON()),[]),shapeHoles:this.shapeHoles.map(e=>e.toJSON()),isClosed:this.isClosed,roundness:this.roundness}}fromJSON(e){var r;this.points=[],this.pointIDs=0;let t=e.points.length/7;for(let n=0;n<t;n++){let i=n*7,o=e.points[i+0],l=e.points[i+1],c=e.points[i+2],a=e.points[i+3],s=e.points[i+4],u=e.points[i+5],d=e.points[i+6],h=new Fm(pt.generateUUID(),new oe(o,l));h.controls[0].position.set(c,a),h.controls[1].position.set(s,u),h.roundness=d,this.points.push(h)}return this.shapeHoles=(r=e.shapeHoles)!=null&&r.length?e.shapeHoles.map(n=>{let i=new wn;return i.fromJSON(n),i}):[],this.isClosed=e.isClosed,this._roundness=e.roundness,this._update(),this}fromShape(e,t=!1){this.isText=t;let r=(i,o)=>{o instanceof qs&&o.v3.equals(i.position)&&i.controls[0].position.copy(o.v2)},n=i=>{let o=[],l,c;for(l=0,c=i.length;l<c;l++)i[l]instanceof Ud&&(i[l]=NIe(i[l]));for(l=0,c=i.length;l<c;l++){let u=i[l],d=l>0?i[l-1]:null,h;u instanceof qs?(h=this.createPoint(u.v0),h.controls[1].position.copy(u.v1)):u instanceof Zs&&(h=this.createPoint(u.v1)),h!==void 0&&(d!==null&&r(h,d),o.push(h))}let a=i[i.length-1],s=!1;return a instanceof qs?a.v3.equals(o[0].position)&&(o[0].controls[0].position.copy(a.v2),s=!0):a instanceof Zs&&a.v2.equals(o[0].position)&&(s=!0),this.isClosed=s,o};return this.points=n(e.curves),e instanceof l2&&(this.shapeHoles=e.holes.map(i=>{let o=new wn;return o.fromShape(i),o})),this.update(),this}updatePoint(e,t){let r=this.getPointByUuid(e);r&&(t.position!==void 0&&r.position.fromArray(t.position),t.roundness!==void 0&&(r.roundness=t.roundness),t.areControlsDirectionsMirrored!==void 0&&(r.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored),this.needsUpdate=!0)}updatePreviousControl(e,t){var n;let r=(n=this.getPointByUuid(e))==null?void 0:n.controls[0];r&&(t.position&&r.position.fromArray(t.position),this.needsUpdate=!0)}updateNextControl(e,t){var n;let r=(n=this.getPointByUuid(e))==null?void 0:n.controls[1];r&&(t.position&&r.position.fromArray(t.position),this.needsUpdate=!0)}},XP=Math.PI*2;function WC({x:e,y:t},r,n,i,o){return{x:e*r+i,y:t*n+o}}function eOe(e,t){let r=t===1.5707963267948966?.551915024494:t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),n=Math.cos(e),i=Math.sin(e),o=Math.cos(e+t),l=Math.sin(e+t);return[{x:n-i*r,y:i+n*r},{x:o+l*r,y:l-o*r},{x:o,y:l}]}function CB(e,t,r,n){let i=e*n-t*r<0?-1:1,o=Math.min(1,Math.max(-1,e*r+t*n));return i*Math.acos(o)}function tOe(e,t,r,n,i,o,l,c,a,s){let u=Math.pow(i,2),d=Math.pow(o,2),h=Math.pow(l,2),f=Math.pow(c,2),m=u*d-u*f-d*h;m<0&&(m=0),m/=u*f+d*h,m=Math.sqrt(m)*(a===s?-1:1);let p=m*i/o*c,g=m*-o/i*l,v=p+(e+r)/2,x=g+(t+n)/2,y=(l-p)/i,b=(c-g)/o,w=(-l-p)/i,_=(-c-g)/o,S=CB(1,0,y,b),E=CB(y,b,w,_);return!s&&E>0&&(E-=XP),s&&E<0&&(E+=XP),{centerx:v,centery:x,ang1:S,ang2:E}}function rOe({px:e,py:t,cx:r,cy:n,rx:i,ry:o,largeArcFlag:l,sweepFlag:c}){let a=[];if(i===0||o===0)return[];let s=(e-r)/2,u=(t-n)/2;if(s===0&&u===0)return[];i=Math.abs(i),o=Math.abs(o);let d=Math.pow(s,2)/Math.pow(i,2)+Math.pow(u,2)/Math.pow(o,2);d>1&&(i*=Math.sqrt(d),o*=Math.sqrt(d));let h=tOe(e,t,r,n,i,o,s,u,l,c),{ang1:f,ang2:m}=h,{centerx:p,centery:g}=h,v=Math.abs(m)/(XP/4);Math.abs(1-v)<1e-7&&(v=1);let x=Math.max(Math.ceil(v),1);m/=x;for(let y=0;y<x;y++)a.push(eOe(f,m)),f+=m;return a.map(y=>{let{x:b,y:w}=WC(y[0],i,o,p,g),{x:_,y:S}=WC(y[1],i,o,p,g),{x:E,y:C}=WC(y[2],i,o,p,g);return{x1:b,y1:w,x2:_,y2:S,x:E,y:C}})}var Ar;(function(e){e[e.ODD=0]="ODD",e[e.NONZERO=1]="NONZERO",e[e.POSITIVE=2]="POSITIVE",e[e.NEGATIVE=3]="NEGATIVE",e[e.ABS_GEQ_TWO=4]="ABS_GEQ_TWO"})(Ar||(Ar={}));var Kn;(function(e){e[e.POLYGONS=0]="POLYGONS",e[e.CONNECTED_POLYGONS=1]="CONNECTED_POLYGONS",e[e.BOUNDARY_CONTOURS=2]="BOUNDARY_CONTOURS"})(Kn||(Kn={}));function Tt(e,t){if(!e)throw t||"Assertion Failed!"}var bt=function(){function e(){}return e.vertEq=function(t,r){return t.s===r.s&&t.t===r.t},e.vertLeq=function(t,r){return t.s<r.s||t.s===r.s&&t.t<=r.t},e.transLeq=function(t,r){return t.t<r.t||t.t===r.t&&t.s<=r.s},e.edgeGoesLeft=function(t){return e.vertLeq(t.Dst,t.Org)},e.edgeGoesRight=function(t){return e.vertLeq(t.Org,t.Dst)},e.vertL1dist=function(t,r){return Math.abs(t.s-r.s)+Math.abs(t.t-r.t)},e.edgeEval=function(t,r,n){Tt(e.vertLeq(t,r)&&e.vertLeq(r,n));var i=r.s-t.s,o=n.s-r.s;return i+o>0?i<o?r.t-t.t+(t.t-n.t)*(i/(i+o)):r.t-n.t+(n.t-t.t)*(o/(i+o)):0},e.edgeSign=function(t,r,n){Tt(e.vertLeq(t,r)&&e.vertLeq(r,n));var i=r.s-t.s,o=n.s-r.s;return i+o>0?(r.t-n.t)*i+(r.t-t.t)*o:0},e.transEval=function(t,r,n){Tt(e.transLeq(t,r)&&e.transLeq(r,n));var i=r.t-t.t,o=n.t-r.t;return i+o>0?i<o?r.s-t.s+(t.s-n.s)*(i/(i+o)):r.s-n.s+(n.s-t.s)*(o/(i+o)):0},e.transSign=function(t,r,n){Tt(e.transLeq(t,r)&&e.transLeq(r,n));var i=r.t-t.t,o=n.t-r.t;return i+o>0?(r.s-n.s)*i+(r.s-t.s)*o:0},e.vertCCW=function(t,r,n){return t.s*(r.t-n.t)+r.s*(n.t-t.t)+n.s*(t.t-r.t)>=0},e.interpolate=function(t,r,n,i){return t=t<0?0:t,n=n<0?0:n,t<=n?n===0?(r+i)/2:r+(i-r)*(t/(t+n)):i+(r-i)*(n/(t+n))},e.intersect=function(t,r,n,i,o){var l,c,a;e.vertLeq(t,r)||(a=t,t=r,r=a),e.vertLeq(n,i)||(a=n,n=i,i=a),e.vertLeq(t,n)||(a=t,t=n,n=a,a=r,r=i,i=a),e.vertLeq(n,r)?e.vertLeq(r,i)?(l=e.edgeEval(t,n,r),c=e.edgeEval(n,r,i),l+c<0&&(l=-l,c=-c),o.s=e.interpolate(l,n.s,c,r.s)):(l=e.edgeSign(t,n,r),c=-e.edgeSign(t,i,r),l+c<0&&(l=-l,c=-c),o.s=e.interpolate(l,n.s,c,i.s)):o.s=(n.s+r.s)/2,e.transLeq(t,r)||(a=t,t=r,r=a),e.transLeq(n,i)||(a=n,n=i,i=a),e.transLeq(t,n)||(a=t,t=n,n=a,a=r,r=i,i=a),e.transLeq(n,r)?e.transLeq(r,i)?(l=e.transEval(t,n,r),c=e.transEval(n,r,i),l+c<0&&(l=-l,c=-c),o.t=e.interpolate(l,n.t,c,r.t)):(l=e.transSign(t,n,r),c=-e.transSign(t,i,r),l+c<0&&(l=-l,c=-c),o.t=e.interpolate(l,n.t,c,i.t)):o.t=(n.t+r.t)/2},e}(),rv=function(){function e(){this.next=null,this.prev=null,this.anEdge=null,this.trail=null,this.n=0,this.marked=!1,this.inside=!1}return e}(),Tx=function(){function e(t){this.side=t,this.next=null,this.Org=null,this.Sym=null,this.Onext=null,this.Lnext=null,this.Lface=null,this.activeRegion=null,this.winding=0}return Object.defineProperty(e.prototype,"Rface",{get:function(){return this.Sym.Lface},set:function(t){this.Sym.Lface=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dst",{get:function(){return this.Sym.Org},set:function(t){this.Sym.Org=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Oprev",{get:function(){return this.Sym.Lnext},set:function(t){this.Sym.Lnext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Lprev",{get:function(){return this.Onext.Sym},set:function(t){this.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dprev",{get:function(){return this.Lnext.Sym},set:function(t){this.Lnext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rprev",{get:function(){return this.Sym.Onext},set:function(t){this.Sym.Onext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dnext",{get:function(){return this.Sym.Onext.Sym},set:function(t){this.Sym.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rnext",{get:function(){return this.Sym.Lnext.Sym},set:function(t){this.Sym.Lnext.Sym=t},enumerable:!0,configurable:!0}),e}(),Fp=function(){function e(){this.next=null,this.prev=null,this.anEdge=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0,this.n=0,this.idx=0}return e}(),MB=function(){function e(){var t=new Fp,r=new rv,n=new Tx(0),i=new Tx(1);t.next=t.prev=t,t.anEdge=null,r.next=r.prev=r,n.next=n,n.Sym=i,i.next=i,i.Sym=n,this.vHead=t,this.fHead=r,this.eHead=n,this.eHeadSym=i}return e.prototype.makeEdge_=function(t){var r=new Tx(0),n=new Tx(1);t.Sym.side<t.side&&(t=t.Sym);var i=t.Sym.next;return n.next=i,i.Sym.next=r,r.next=t,t.Sym.next=n,r.Sym=n,r.Onext=r,r.Lnext=n,r.Org=null,r.Lface=null,r.winding=0,r.activeRegion=null,n.Sym=r,n.Onext=n,n.Lnext=r,n.Org=null,n.Lface=null,n.winding=0,n.activeRegion=null,r},e.prototype.splice_=function(t,r){var n=t.Onext,i=r.Onext;n.Sym.Lnext=r,i.Sym.Lnext=t,t.Onext=i,r.Onext=n},e.prototype.makeVertex_=function(t,r,n){var i=t;Tt(i,"Vertex can't be null!");var o=n.prev;i.prev=o,o.next=i,i.next=n,n.prev=i,i.anEdge=r;var l=r;do l.Org=i,l=l.Onext;while(l!==r)},e.prototype.makeFace_=function(t,r,n){var i=t;Tt(i,"Face can't be null");var o=n.prev;i.prev=o,o.next=i,i.next=n,n.prev=i,i.anEdge=r,i.trail=null,i.marked=!1,i.inside=n.inside;var l=r;do l.Lface=i,l=l.Lnext;while(l!==r)},e.prototype.killEdge_=function(t){t.Sym.side<t.side&&(t=t.Sym);var r=t.next,n=t.Sym.next;r.Sym.next=n,n.Sym.next=r},e.prototype.killVertex_=function(t,r){var n=t.anEdge,i=n;do i.Org=r,i=i.Onext;while(i!==n);var o=t.prev,l=t.next;l.prev=o,o.next=l},e.prototype.killFace_=function(t,r){var n=t.anEdge,i=n;do i.Lface=r,i=i.Lnext;while(i!==n);var o=t.prev,l=t.next;l.prev=o,o.next=l},e.prototype.makeEdge=function(){var t=new Fp,r=new Fp,n=new rv,i=this.makeEdge_(this.eHead);return this.makeVertex_(t,i,this.vHead),this.makeVertex_(r,i.Sym,this.vHead),this.makeFace_(n,i,this.fHead),i},e.prototype.splice=function(t,r){var n=!1,i=!1;if(t!==r){if(r.Org!==t.Org&&(i=!0,this.killVertex_(r.Org,t.Org)),r.Lface!==t.Lface&&(n=!0,this.killFace_(r.Lface,t.Lface)),this.splice_(r,t),!i){var o=new Fp;this.makeVertex_(o,r,t.Org),t.Org.anEdge=t}if(!n){var l=new rv;this.makeFace_(l,r,t.Lface),t.Lface.anEdge=t}}},e.prototype.delete=function(t){var r=t.Sym,n=!1;if(t.Lface!==t.Rface&&(n=!0,this.killFace_(t.Lface,t.Rface)),t.Onext===t)this.killVertex_(t.Org,null);else if(t.Rface.anEdge=t.Oprev,t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev),!n){var i=new rv;this.makeFace_(i,t,t.Lface)}r.Onext===r?(this.killVertex_(r.Org,null),this.killFace_(r.Lface,null)):(t.Lface.anEdge=r.Oprev,r.Org.anEdge=r.Onext,this.splice_(r,r.Oprev)),this.killEdge_(t)},e.prototype.addEdgeVertex=function(t){var r=this.makeEdge_(t),n=r.Sym;this.splice_(r,t.Lnext),r.Org=t.Dst;var i=new Fp;return this.makeVertex_(i,n,r.Org),r.Lface=n.Lface=t.Lface,r},e.prototype.splitEdge=function(t){var r=this.addEdgeVertex(t),n=r.Sym;return this.splice_(t.Sym,t.Sym.Oprev),this.splice_(t.Sym,n),t.Dst=n.Org,n.Dst.anEdge=n.Sym,n.Rface=t.Rface,n.winding=t.winding,n.Sym.winding=t.Sym.winding,n.idx=t.idx,n.Sym.idx=t.Sym.idx,n},e.prototype.connect=function(t,r){var n=!1,i=this.makeEdge_(t),o=i.Sym;if(r.Lface!==t.Lface&&(n=!0,this.killFace_(r.Lface,t.Lface)),this.splice_(i,t.Lnext),this.splice_(o,r),i.Org=t.Dst,o.Org=r.Org,i.Lface=o.Lface=t.Lface,t.Lface.anEdge=o,!n){var l=new rv;this.makeFace_(l,i,t.Lface)}return i},e.prototype.zapFace=function(t){var r=t.anEdge,n,i,o,l,c;i=r.Lnext;do n=i,i=n.Lnext,n.Lface=null,n.Rface===null&&(n.Onext===n?this.killVertex_(n.Org,null):(n.Org.anEdge=n.Onext,this.splice_(n,n.Oprev)),o=n.Sym,o.Onext===o?this.killVertex_(o.Org,null):(o.Org.anEdge=o.Onext,this.splice_(o,o.Oprev)),this.killEdge_(n));while(n!=r);l=t.prev,c=t.next,c.prev=l,l.next=c},e.prototype.countFaceVerts_=function(t){var r=t.anEdge,n=0;do n++,r=r.Lnext;while(r!==t.anEdge);return n},e.prototype.mergeConvexFaces=function(t){var r,n,i,o,l,c,a;for(r=this.fHead.next;r!==this.fHead;r=r.next)if(r.inside)for(n=r.anEdge,l=n.Org;i=n.Lnext,o=n.Sym,o&&o.Lface&&o.Lface.inside&&(c=this.countFaceVerts_(r),a=this.countFaceVerts_(o.Lface),c+a-2<=t&&bt.vertCCW(n.Lprev.Org,n.Org,o.Lnext.Lnext.Org)&&bt.vertCCW(o.Lprev.Org,o.Org,n.Lnext.Lnext.Org)&&(i=o.Lnext,this.delete(o),n=null,o=null)),!(n&&n.Lnext.Org===l);)n=i;return!0},e.prototype.check=function(){var t=this.fHead,r=this.vHead,n=this.eHead,i,o,l,c,a,s;for(o=t,o=t;(i=o.next)!==t;o=i){Tt(i.prev===o),a=i.anEdge;do Tt(a.Sym!==a),Tt(a.Sym.Sym===a),Tt(a.Lnext.Onext.Sym===a),Tt(a.Onext.Sym.Lnext===a),Tt(a.Lface===i),a=a.Lnext;while(a!==i.anEdge)}for(Tt(i.prev===o&&i.anEdge===null),c=r,c=r;(l=c.next)!==r;c=l){Tt(l.prev===c),a=l.anEdge;do Tt(a.Sym!==a),Tt(a.Sym.Sym===a),Tt(a.Lnext.Onext.Sym===a),Tt(a.Onext.Sym.Lnext===a),Tt(a.Org===l),a=a.Onext;while(a!==l.anEdge)}for(Tt(l.prev===c&&l.anEdge===null),s=n,s=n;(a=s.next)!==n;s=a)Tt(a.Sym.next===s.Sym),Tt(a.Sym!==a),Tt(a.Sym.Sym===a),Tt(a.Org!==null),Tt(a.Dst!==null),Tt(a.Lnext.Onext.Sym===a),Tt(a.Onext.Sym.Lnext===a);Tt(a.Sym.next===s.Sym&&a.Sym===this.eHeadSym&&a.Sym.Sym===a&&a.Org===null&&a.Dst===null&&a.Lface===null&&a.Rface===null)},e}(),TB=function(){function e(){this.handle=null}return e}(),PB=function(){function e(){this.key=null,this.node=0}return e}(),nOe=function(){function e(t,r){this.leq=r,this.max=0,this.nodes=[],this.handles=[],this.initialized=!1,this.freeList=0,this.size=0,this.max=t,this.nodes=[],this.handles=[];for(var n=0;n<t+1;n++)this.nodes[n]=new TB,this.handles[n]=new PB;this.initialized=!1,this.nodes[1].handle=1,this.handles[1].key=null}return e.prototype.floatDown_=function(t){var r=this.nodes,n=this.handles,i,o,l;for(i=r[t].handle;;){if(l=t<<1,l<this.size&&this.leq(n[r[l+1].handle].key,n[r[l].handle].key)&&++l,Tt(l<=this.max),o=r[l].handle,l>this.size||this.leq(n[i].key,n[o].key)){r[t].handle=i,n[i].node=t;break}r[t].handle=o,n[o].node=t,t=l}},e.prototype.floatUp_=function(t){var r=this.nodes,n=this.handles,i,o,l;for(i=r[t].handle;;){if(l=t>>1,o=r[l].handle,l===0||this.leq(n[o].key,n[i].key)){r[t].handle=i,n[i].node=t;break}r[t].handle=o,n[o].node=t,t=l}},e.prototype.init=function(){for(var t=this.size;t>=1;--t)this.floatDown_(t);this.initialized=!0},e.prototype.min=function(){return this.handles[this.nodes[1].handle].key},e.prototype.insert=function(t){var r,n;if(r=++this.size,r*2>this.max){this.max*=2;var i,o;for(o=this.nodes.length,this.nodes.length=this.max+1,i=o;i<this.nodes.length;i++)this.nodes[i]=new TB;for(o=this.handles.length,this.handles.length=this.max+1,i=o;i<this.handles.length;i++)this.handles[i]=new PB}return this.freeList===0?n=r:(n=this.freeList,this.freeList=this.handles[n].node),this.nodes[r].handle=n,this.handles[n].node=r,this.handles[n].key=t,this.initialized&&this.floatUp_(r),n},e.prototype.extractMin=function(){var t=this.nodes,r=this.handles,n=t[1].handle,i=r[n].key;return this.size>0&&(t[1].handle=t[this.size].handle,r[t[1].handle].node=1,r[n].key=null,r[n].node=this.freeList,this.freeList=n,--this.size,this.size>0&&this.floatDown_(1)),i},e.prototype.delete=function(t){var r=this.nodes,n=this.handles,i;Tt(t>=1&&t<=this.max&&n[t].key!==null),i=n[t].node,r[i].handle=r[this.size].handle,n[r[i].handle].node=i,--this.size,i<=this.size&&(i<=1||this.leq(n[r[i>>1].handle].key,n[r[i].handle].key)?this.floatDown_(i):this.floatUp_(i)),n[t].key=null,n[t].node=this.freeList,this.freeList=t},e}(),GC=function(){function e(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1}return e}(),kB=function(){function e(){this.key=null,this.next=null,this.prev=null}return e}(),iOe=function(){function e(t,r){this.frame=t,this.leq=r,this.head=new kB,this.head.next=this.head,this.head.prev=this.head}return e.prototype.min=function(){return this.head.next},e.prototype.max=function(){return this.head.prev},e.prototype.insert=function(t){return this.insertBefore(this.head,t)},e.prototype.search=function(t){var r=this.head;do r=r.next;while(r.key!==null&&!this.leq(this.frame,t,r.key));return r},e.prototype.insertBefore=function(t,r){do t=t.prev;while(t.key!==null&&!this.leq(this.frame,t.key,r));var n=new kB;return n.key=r,n.next=t.next,t.next.prev=n,n.prev=t,t.next=n,n},e.prototype.delete=function(t){t.next.prev=t.prev,t.prev.next=t.next},e}(),oOe=function(){function e(){}return e.regionBelow=function(t){return t.nodeUp.prev.key},e.regionAbove=function(t){return t.nodeUp.next.key},e.debugEvent=function(t){},e.addWinding=function(t,r){t.winding+=r.winding,t.Sym.winding+=r.Sym.winding},e.edgeLeq=function(t,r,n){var i=t.event,o=r.eUp,l=n.eUp;if(o.Dst===i)return l.Dst===i?bt.vertLeq(o.Org,l.Org)?bt.edgeSign(l.Dst,o.Org,l.Org)<=0:bt.edgeSign(o.Dst,l.Org,o.Org)>=0:bt.edgeSign(l.Dst,i,l.Org)<=0;if(l.Dst===i)return bt.edgeSign(o.Dst,i,o.Org)>=0;var c=bt.edgeEval(o.Dst,i,o.Org),a=bt.edgeEval(l.Dst,i,l.Org);return c>=a},e.deleteRegion=function(t,r){r.fixUpperEdge&&Tt(r.eUp.winding===0),r.eUp.activeRegion=null,t.dict.delete(r.nodeUp)},e.fixUpperEdge=function(t,r,n){Tt(r.fixUpperEdge),t.mesh.delete(r.eUp),r.fixUpperEdge=!1,r.eUp=n,n.activeRegion=r},e.topLeftRegion=function(t,r){var n=r.eUp.Org,i;do r=e.regionAbove(r);while(r.eUp.Org===n);if(r.fixUpperEdge){if(i=t.mesh.connect(e.regionBelow(r).eUp.Sym,r.eUp.Lnext),i===null)return null;e.fixUpperEdge(t,r,i),r=e.regionAbove(r)}return r},e.topRightRegion=function(t){var r=t.eUp.Dst;do t=e.regionAbove(t);while(t.eUp.Dst===r);return t},e.addRegionBelow=function(t,r,n){var i=new GC;return i.eUp=n,i.nodeUp=t.dict.insertBefore(r.nodeUp,i),i.fixUpperEdge=!1,i.sentinel=!1,i.dirty=!1,n.activeRegion=i,i},e.isWindingInside=function(t,r){switch(t.windingRule){case Ar.ODD:return(r&1)!==0;case Ar.NONZERO:return r!==0;case Ar.POSITIVE:return r>0;case Ar.NEGATIVE:return r<0;case Ar.ABS_GEQ_TWO:return r>=2||r<=-2}throw new Error("Invalid winding rulle")},e.computeWinding=function(t,r){r.windingNumber=e.regionAbove(r).windingNumber+r.eUp.winding,r.inside=e.isWindingInside(t,r.windingNumber)},e.finishRegion=function(t,r){var n=r.eUp,i=n.Lface;i.inside=r.inside,i.anEdge=n,e.deleteRegion(t,r)},e.finishLeftRegions=function(t,r,n){for(var i,o=null,l=r,c=r.eUp;l!==n;){if(l.fixUpperEdge=!1,o=e.regionBelow(l),i=o.eUp,i.Org!=c.Org){if(!o.fixUpperEdge){e.finishRegion(t,l);break}i=t.mesh.connect(c.Lprev,i.Sym),e.fixUpperEdge(t,o,i)}c.Onext!==i&&(t.mesh.splice(i.Oprev,i),t.mesh.splice(c,i)),e.finishRegion(t,l),c=o.eUp,l=o}return c},e.addRightEdges=function(t,r,n,i,o,l){var c,a,s,u,d=!0;s=n;do Tt(bt.vertLeq(s.Org,s.Dst)),e.addRegionBelow(t,r,s.Sym),s=s.Onext;while(s!==i);for(o===null&&(o=e.regionBelow(r).eUp.Rprev),a=r,u=o;c=e.regionBelow(a),s=c.eUp.Sym,s.Org===u.Org;)s.Onext!==u&&(t.mesh.splice(s.Oprev,s),t.mesh.splice(u.Oprev,s)),c.windingNumber=a.windingNumber-s.winding,c.inside=e.isWindingInside(t,c.windingNumber),a.dirty=!0,!d&&e.checkForRightSplice(t,a)&&(e.addWinding(s,u),e.deleteRegion(t,a),t.mesh.delete(u)),d=!1,a=c,u=s;a.dirty=!0,Tt(a.windingNumber-s.winding===c.windingNumber),l&&e.walkDirtyRegions(t,a)},e.spliceMergeVertices=function(t,r,n){t.mesh.splice(r,n)},e.vertexWeights=function(t,r,n){var i=bt.vertL1dist(r,t),o=bt.vertL1dist(n,t),l=.5*o/(i+o),c=.5*i/(i+o);t.coords[0]+=l*r.coords[0]+c*n.coords[0],t.coords[1]+=l*r.coords[1]+c*n.coords[1],t.coords[2]+=l*r.coords[2]+c*n.coords[2]},e.getIntersectData=function(t,r,n,i,o,l){r.coords[0]=r.coords[1]=r.coords[2]=0,r.idx=-1,e.vertexWeights(r,n,i),e.vertexWeights(r,o,l)},e.checkForRightSplice=function(t,r){var n=e.regionBelow(r),i=r.eUp,o=n.eUp;if(bt.vertLeq(i.Org,o.Org)){if(bt.edgeSign(o.Dst,i.Org,o.Org)>0)return!1;bt.vertEq(i.Org,o.Org)?i.Org!==o.Org&&(t.pq.delete(i.Org.pqHandle),e.spliceMergeVertices(t,o.Oprev,i)):(t.mesh.splitEdge(o.Sym),t.mesh.splice(i,o.Oprev),r.dirty=n.dirty=!0)}else{if(bt.edgeSign(i.Dst,o.Org,i.Org)<0)return!1;e.regionAbove(r).dirty=r.dirty=!0,t.mesh.splitEdge(i.Sym),t.mesh.splice(o.Oprev,i)}return!0},e.checkForLeftSplice=function(t,r){var n=e.regionBelow(r),i=r.eUp,o=n.eUp,l;if(Tt(!bt.vertEq(i.Dst,o.Dst)),bt.vertLeq(i.Dst,o.Dst)){if(bt.edgeSign(i.Dst,o.Dst,i.Org)<0)return!1;e.regionAbove(r).dirty=r.dirty=!0,l=t.mesh.splitEdge(i),t.mesh.splice(o.Sym,l),l.Lface.inside=r.inside}else{if(bt.edgeSign(o.Dst,i.Dst,o.Org)>0)return!1;r.dirty=n.dirty=!0,l=t.mesh.splitEdge(o),t.mesh.splice(i.Lnext,o.Sym),l.Rface.inside=r.inside}return!0},e.checkForIntersect=function(t,r){var n=e.regionBelow(r),i=r.eUp,o=n.eUp,l=i.Org,c=o.Org,a=i.Dst,s=o.Dst,u,d,h=new Fp,f,m;if(Tt(!bt.vertEq(s,a)),Tt(bt.edgeSign(a,t.event,l)<=0),Tt(bt.edgeSign(s,t.event,c)>=0),Tt(l!==t.event&&c!==t.event),Tt(!r.fixUpperEdge&&!n.fixUpperEdge),l===c||(u=Math.min(l.t,a.t),d=Math.max(c.t,s.t),u>d))return!1;if(bt.vertLeq(l,c)){if(bt.edgeSign(s,l,c)>0)return!1}else if(bt.edgeSign(a,c,l)<0)return!1;return e.debugEvent(t),bt.intersect(a,l,s,c,h),Tt(Math.min(l.t,a.t)<=h.t),Tt(h.t<=Math.max(c.t,s.t)),Tt(Math.min(s.s,a.s)<=h.s),Tt(h.s<=Math.max(c.s,l.s)),bt.vertLeq(h,t.event)&&(h.s=t.event.s,h.t=t.event.t),f=bt.vertLeq(l,c)?l:c,bt.vertLeq(f,h)&&(h.s=f.s,h.t=f.t),bt.vertEq(h,l)||bt.vertEq(h,c)?(e.checkForRightSplice(t,r),!1):!bt.vertEq(a,t.event)&&bt.edgeSign(a,t.event,h)>=0||!bt.vertEq(s,t.event)&&bt.edgeSign(s,t.event,h)<=0?s===t.event?(t.mesh.splitEdge(i.Sym),t.mesh.splice(o.Sym,i),r=e.topLeftRegion(t,r),i=e.regionBelow(r).eUp,e.finishLeftRegions(t,e.regionBelow(r),n),e.addRightEdges(t,r,i.Oprev,i,i,!0),!0):a===t.event?(t.mesh.splitEdge(o.Sym),t.mesh.splice(i.Lnext,o.Oprev),n=r,r=e.topRightRegion(r),m=e.regionBelow(r).eUp.Rprev,n.eUp=o.Oprev,o=e.finishLeftRegions(t,n,null),e.addRightEdges(t,r,o.Onext,i.Rprev,m,!0),!0):(bt.edgeSign(a,t.event,h)>=0&&(e.regionAbove(r).dirty=r.dirty=!0,t.mesh.splitEdge(i.Sym),i.Org.s=t.event.s,i.Org.t=t.event.t),bt.edgeSign(s,t.event,h)<=0&&(r.dirty=n.dirty=!0,t.mesh.splitEdge(o.Sym),o.Org.s=t.event.s,o.Org.t=t.event.t),!1):(t.mesh.splitEdge(i.Sym),t.mesh.splitEdge(o.Sym),t.mesh.splice(o.Oprev,i),i.Org.s=h.s,i.Org.t=h.t,i.Org.pqHandle=t.pq.insert(i.Org),e.getIntersectData(t,i.Org,l,a,c,s),e.regionAbove(r).dirty=r.dirty=n.dirty=!0,!1)},e.walkDirtyRegions=function(t,r){for(var n=e.regionBelow(r),i,o;;){for(;n.dirty;)r=n,n=e.regionBelow(n);if(!r.dirty&&(n=r,r=e.regionAbove(r),r===null||!r.dirty))return;if(r.dirty=!1,i=r.eUp,o=n.eUp,i.Dst!==o.Dst&&e.checkForLeftSplice(t,r)&&(n.fixUpperEdge?(e.deleteRegion(t,n),t.mesh.delete(o),n=e.regionBelow(r),o=n.eUp):r.fixUpperEdge&&(e.deleteRegion(t,r),t.mesh.delete(i),r=e.regionAbove(n),i=r.eUp)),i.Org!==o.Org)if(i.Dst!==o.Dst&&!r.fixUpperEdge&&!n.fixUpperEdge&&(i.Dst===t.event||o.Dst===t.event)){if(e.checkForIntersect(t,r))return}else e.checkForRightSplice(t,r);i.Org===o.Org&&i.Dst===o.Dst&&(e.addWinding(o,i),e.deleteRegion(t,r),t.mesh.delete(i),r=e.regionAbove(n))}},e.connectRightVertex=function(t,r,n){var i,o=n.Onext,l=e.regionBelow(r),c=r.eUp,a=l.eUp,s=!1;if(c.Dst!==a.Dst&&e.checkForIntersect(t,r),bt.vertEq(c.Org,t.event)&&(t.mesh.splice(o.Oprev,c),r=e.topLeftRegion(t,r),o=e.regionBelow(r).eUp,e.finishLeftRegions(t,e.regionBelow(r),l),s=!0),bt.vertEq(a.Org,t.event)&&(t.mesh.splice(n,a.Oprev),n=e.finishLeftRegions(t,l,null),s=!0),s){e.addRightEdges(t,r,n.Onext,o,o,!0);return}bt.vertLeq(a.Org,c.Org)?i=a.Oprev:i=c,i=t.mesh.connect(n.Lprev,i),e.addRightEdges(t,r,i,i.Onext,i.Onext,!1),i.Sym.activeRegion.fixUpperEdge=!0,e.walkDirtyRegions(t,r)},e.connectLeftDegenerate=function(t,r,n){var i,o,l,c,a;if(i=r.eUp,bt.vertEq(i.Org,n)){Tt(!1),e.spliceMergeVertices(t,i,n.anEdge);return}if(!bt.vertEq(i.Dst,n)){t.mesh.splitEdge(i.Sym),r.fixUpperEdge&&(t.mesh.delete(i.Onext),r.fixUpperEdge=!1),t.mesh.splice(n.anEdge,i),e.sweepEvent(t,n);return}Tt(!1),r=e.topRightRegion(r),a=e.regionBelow(r),l=a.eUp.Sym,o=c=l.Onext,a.fixUpperEdge&&(Tt(o!==l),e.deleteRegion(t,a),t.mesh.delete(l),l=o.Oprev),t.mesh.splice(n.anEdge,l),bt.edgeGoesLeft(o)||(o=null),e.addRightEdges(t,r,l.Onext,c,o,!0)},e.connectLeftVertex=function(t,r){var n,i,o,l,c,a,s=new GC;if(s.eUp=r.anEdge.Sym,n=t.dict.search(s).key,i=e.regionBelow(n),!!i){if(l=n.eUp,c=i.eUp,bt.edgeSign(l.Dst,r,l.Org)===0){e.connectLeftDegenerate(t,n,r);return}if(o=bt.vertLeq(c.Dst,l.Dst)?n:i,n.inside||o.fixUpperEdge){if(o===n)a=t.mesh.connect(r.anEdge.Sym,l.Lnext);else{var u=t.mesh.connect(c.Dnext,r.anEdge);a=u.Sym}o.fixUpperEdge?e.fixUpperEdge(t,o,a):e.computeWinding(t,e.addRegionBelow(t,n,a)),e.sweepEvent(t,r)}else e.addRightEdges(t,n,r.anEdge,r.anEdge,null,!0)}},e.sweepEvent=function(t,r){t.event=r,e.debugEvent(t);for(var n=r.anEdge;n.activeRegion===null;)if(n=n.Onext,n===r.anEdge){e.connectLeftVertex(t,r);return}var i=e.topLeftRegion(t,n.activeRegion);Tt(i!==null);var o=e.regionBelow(i),l=o.eUp,c=e.finishLeftRegions(t,o,null);c.Onext===l?e.connectRightVertex(t,i,c):e.addRightEdges(t,i,c.Onext,l,l,!0)},e.addSentinel=function(t,r,n,i){var o=new GC,l=t.mesh.makeEdge();l.Org.s=n,l.Org.t=i,l.Dst.s=r,l.Dst.t=i,t.event=l.Dst,o.eUp=l,o.windingNumber=0,o.inside=!1,o.fixUpperEdge=!1,o.sentinel=!0,o.dirty=!1,o.nodeUp=t.dict.insert(o)},e.initEdgeDict=function(t){t.dict=new iOe(t,e.edgeLeq);var r=t.bmax[0]-t.bmin[0],n=t.bmax[1]-t.bmin[1],i=t.bmin[0]-r,o=t.bmax[0]+r,l=t.bmin[1]-n,c=t.bmax[1]+n;e.addSentinel(t,i,o,l),e.addSentinel(t,i,o,c)},e.doneEdgeDict=function(t){for(var r,n=0;(r=t.dict.min().key)!==null;)r.sentinel||(Tt(r.fixUpperEdge),Tt(++n===1)),Tt(r.windingNumber===0),e.deleteRegion(t,r)},e.removeDegenerateEdges=function(t){var r,n,i,o=t.mesh.eHead;for(r=o.next;r!==o;r=n)n=r.next,i=r.Lnext,bt.vertEq(r.Org,r.Dst)&&r.Lnext.Lnext!==r&&(e.spliceMergeVertices(t,i,r),t.mesh.delete(r),r=i,i=r.Lnext),i.Lnext===r&&(i!==r&&((i===n||i===n.Sym)&&(n=n.next),t.mesh.delete(i)),(r===n||r===n.Sym)&&(n=n.next),t.mesh.delete(r))},e.initPriorityQ=function(t){var r,n,i,o=0;for(i=t.mesh.vHead,n=i.next;n!==i;n=n.next)o++;for(o+=8,r=t.pq=new nOe(o,bt.vertLeq),i=t.mesh.vHead,n=i.next;n!==i;n=n.next)n.pqHandle=r.insert(n);return n!==i?!1:(r.init(),!0)},e.donePriorityQ=function(t){t.pq=null},e.removeDegenerateFaces=function(t,r){var n,i,o;for(n=r.fHead.next;n!==r.fHead;n=i)i=n.next,o=n.anEdge,Tt(o.Lnext!==o),o.Lnext.Lnext===o&&(e.addWinding(o.Onext,o),t.mesh.delete(o));return!0},e.computeInterior=function(t,r){r===void 0&&(r=!0);var n,i;if(e.removeDegenerateEdges(t),!e.initPriorityQ(t))return!1;for(e.initEdgeDict(t);(n=t.pq.extractMin())!==null;){for(;i=t.pq.min(),!(i===null||!bt.vertEq(i,n));)i=t.pq.extractMin(),e.spliceMergeVertices(t,n.anEdge,i.anEdge);e.sweepEvent(t,n)}return t.event=t.dict.min().key.eUp.Org,e.debugEvent(t),e.doneEdgeDict(t),e.donePriorityQ(t),e.removeDegenerateFaces(t,t.mesh)?(r&&t.mesh.check(),!0):!1},e}(),aOe=function(){function e(){this.mesh=new MB,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.bmin=[0,0],this.bmax=[0,0],this.windingRule=Ar.ODD,this.dict=null,this.pq=null,this.event=null,this.vertexIndexCounter=0,this.vertices=[],this.vertexIndices=[],this.vertexCount=0,this.elements=[],this.elementCount=0}return e.prototype.dot_=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]},e.prototype.normalize_=function(t){var r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];if(!r)throw"Zero-size vector!";r=Math.sqrt(r),t[0]/=r,t[1]/=r,t[2]/=r},e.prototype.longAxis_=function(t){var r=0;return Math.abs(t[1])>Math.abs(t[0])&&(r=1),Math.abs(t[2])>Math.abs(t[r])&&(r=2),r},e.prototype.computeNormal_=function(t){var r,n,i,o,l,c,a=[0,0,0],s=[0,0,0],u=[0,0,0],d=[0,0,0],h=[0,0,0],f=[null,null,null],m=[null,null,null],p=this.mesh.vHead;r=p.next;for(var g=0;g<3;++g)o=r.coords[g],s[g]=o,m[g]=r,a[g]=o,f[g]=r;for(r=p.next;r!==p;r=r.next)for(var v=0;v<3;++v)o=r.coords[v],o<s[v]&&(s[v]=o,m[v]=r),o>a[v]&&(a[v]=o,f[v]=r);var x=0;if(a[1]-s[1]>a[0]-s[0]&&(x=1),a[2]-s[2]>a[x]-s[x]&&(x=2),s[x]>=a[x]){t[0]=0,t[1]=0,t[2]=1;return}for(c=0,n=m[x],i=f[x],u[0]=n.coords[0]-i.coords[0],u[1]=n.coords[1]-i.coords[1],u[2]=n.coords[2]-i.coords[2],r=p.next;r!==p;r=r.next)d[0]=r.coords[0]-i.coords[0],d[1]=r.coords[1]-i.coords[1],d[2]=r.coords[2]-i.coords[2],h[0]=u[1]*d[2]-u[2]*d[1],h[1]=u[2]*d[0]-u[0]*d[2],h[2]=u[0]*d[1]-u[1]*d[0],l=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],l>c&&(c=l,t[0]=h[0],t[1]=h[1],t[2]=h[2]);c<=0&&(t[0]=t[1]=t[2]=0,t[this.longAxis_(u)]=1)},e.prototype.checkOrientation_=function(){for(var t=this.mesh.fHead,r,n=this.mesh.vHead,i,o=0,l=t.next;l!==t;l=l.next)if(i=l.anEdge,!(i.winding<=0))do o+=(i.Org.s-i.Dst.s)*(i.Org.t+i.Dst.t),i=i.Lnext;while(i!==l.anEdge);if(o<0){for(r=n.next;r!==n;r=r.next)r.t=-r.t;this.tUnit[0]=-this.tUnit[0],this.tUnit[1]=-this.tUnit[1],this.tUnit[2]=-this.tUnit[2]}},e.prototype.projectPolygon_=function(){var t=this.mesh.vHead,r=[0,0,0],n,i,o=!1;r[0]=this.normal[0],r[1]=this.normal[1],r[2]=this.normal[2],!r[0]&&!r[1]&&!r[2]&&(this.computeNormal_(r),o=!0),n=this.sUnit,i=this.tUnit;var l=this.longAxis_(r);n[l]=0,n[(l+1)%3]=1,n[(l+2)%3]=0,i[l]=0,i[(l+1)%3]=0,i[(l+2)%3]=r[l]>0?1:-1;for(var c=t.next;c!==t;c=c.next)c.s=this.dot_(c.coords,n),c.t=this.dot_(c.coords,i);o&&this.checkOrientation_();for(var a=!0,s=t.next;s!==t;s=s.next)a?(this.bmin[0]=this.bmax[0]=s.s,this.bmin[1]=this.bmax[1]=s.t,a=!1):(s.s<this.bmin[0]&&(this.bmin[0]=s.s),s.s>this.bmax[0]&&(this.bmax[0]=s.s),s.t<this.bmin[1]&&(this.bmin[1]=s.t),s.t>this.bmax[1]&&(this.bmax[1]=s.t))},e.prototype.addWinding_=function(t,r){t.winding+=r.winding,t.Sym.winding+=r.Sym.winding},e.prototype.tessellateMonoRegion_=function(t,r){var n,i;if(n=r.anEdge,!(n.Lnext!==n&&n.Lnext.Lnext!==n))throw"Mono region invalid";for(;bt.vertLeq(n.Dst,n.Org);n=n.Lprev);for(;bt.vertLeq(n.Org,n.Dst);n=n.Lnext);i=n.Lprev;for(var o=void 0;n.Lnext!==i;)if(bt.vertLeq(n.Dst,i.Org)){for(;i.Lnext!==n&&(bt.edgeGoesLeft(i.Lnext)||bt.edgeSign(i.Org,i.Dst,i.Lnext.Dst)<=0);)o=t.connect(i.Lnext,i),i=o.Sym;i=i.Lprev}else{for(;i.Lnext!==n&&(bt.edgeGoesRight(n.Lprev)||bt.edgeSign(n.Dst,n.Org,n.Lprev.Org)>=0);)o=t.connect(n,n.Lprev),n=o.Sym;n=n.Lnext}if(i.Lnext===n)throw"Mono region invalid";for(;i.Lnext.Lnext!==n;)o=t.connect(i.Lnext,i),i=o.Sym;return!0},e.prototype.tessellateInterior_=function(t){for(var r,n=t.fHead.next;n!==t.fHead;n=r)if(r=n.next,n.inside&&!this.tessellateMonoRegion_(t,n))return!1;return!0},e.prototype.discardExterior_=function(t){for(var r,n=t.fHead.next;n!==t.fHead;n=r)r=n.next,n.inside||t.zapFace(n)},e.prototype.setWindingNumber_=function(t,r,n){for(var i,o=t.eHead.next;o!==t.eHead;o=i)i=o.next,o.Rface.inside!==o.Lface.inside?o.winding=o.Lface.inside?r:-r:n?t.delete(o):o.winding=0},e.prototype.getNeighbourFace_=function(t){return!t.Rface||!t.Rface.inside?-1:t.Rface.n},e.prototype.outputPolymesh_=function(t,r,n,i){var o,l=0,c=0,a;n>3&&t.mergeConvexFaces(n);for(var s=t.vHead.next;s!==t.vHead;s=s.next)s.n=-1;for(var u=t.fHead.next;u!==t.fHead;u=u.next)if(u.n=-1,!!u.inside){o=u.anEdge,a=0;do{var s=o.Org;s.n===-1&&(s.n=c,c++),a++,o=o.Lnext}while(o!==u.anEdge);if(a>n)throw"Face vertex greater that support polygon";u.n=l,++l}this.elementCount=l,r===Kn.CONNECTED_POLYGONS&&(l*=2),this.elements=[],this.elements.length=l*n,this.vertexCount=c,this.vertices=[],this.vertices.length=c*i,this.vertexIndices=[],this.vertexIndices.length=c;for(var s=t.vHead.next;s!==t.vHead;s=s.next)if(s.n!==-1){var d=s.n*i;this.vertices[d+0]=s.coords[0],this.vertices[d+1]=s.coords[1],i>2&&(this.vertices[d+2]=s.coords[2]),this.vertexIndices[s.n]=s.idx}for(var h=0,u=t.fHead.next;u!==t.fHead;u=u.next)if(u.inside){o=u.anEdge,a=0;do{var s=o.Org;this.elements[h++]=s.n,a++,o=o.Lnext}while(o!==u.anEdge);for(var f=a;f<n;++f)this.elements[h++]=-1;if(r===Kn.CONNECTED_POLYGONS){o=u.anEdge;do this.elements[h++]=this.getNeighbourFace_(o),o=o.Lnext;while(o!==u.anEdge);for(var m=a;m<n;++m)this.elements[h++]=-1}}},e.prototype.outputContours_=function(t,r){var n,i,o=0,l=0;this.vertexCount=0,this.elementCount=0;for(var c=t.fHead.next;c!==t.fHead;c=c.next)if(c.inside){i=n=c.anEdge;do this.vertexCount++,n=n.Lnext;while(n!==i);this.elementCount++}this.elements=[],this.elements.length=this.elementCount*2,this.vertices=[],this.vertices.length=this.vertexCount*r,this.vertexIndices=[],this.vertexIndices.length=this.vertexCount;var a=0,s=0,u=0;o=0;for(var c=t.fHead.next;c!==t.fHead;c=c.next)if(c.inside){l=0,i=n=c.anEdge;do this.vertices[a++]=n.Org.coords[0],this.vertices[a++]=n.Org.coords[1],r>2&&(this.vertices[a++]=n.Org.coords[2]),this.vertexIndices[s++]=this.vertexIdCallback?this.vertexIdCallback(n):n.Org.idx,l++,n=n.Lnext;while(n!==i);this.elements[u++]=o,this.elements[u++]=l,o+=l}},e.prototype.addContour=function(t,r){this.mesh===null&&(this.mesh=new MB),t<2&&(t=2),t>3&&(t=3);for(var n=null,i=0;i<r.length;i+=t)n===null?(n=this.mesh.makeEdge(),this.mesh.splice(n,n.Sym)):(this.mesh.splitEdge(n),n=n.Lnext),n.Org.coords[0]=r[i+0],n.Org.coords[1]=r[i+1],t>2?n.Org.coords[2]=r[i+2]:n.Org.coords[2]=0,n.Org.idx=this.vertexIndexCounter++,this.edgeCreateCallback&&this.edgeCreateCallback(n),n.winding=1,n.Sym.winding=-1},e.prototype.tesselate=function(t,r,n,i,o,l){if(t===void 0&&(t=Ar.ODD),r===void 0&&(r=Kn.POLYGONS),l===void 0&&(l=!0),this.vertices=[],this.elements=[],this.vertexIndices=[],this.vertexIndexCounter=0,o&&(this.normal[0]=o[0],this.normal[1]=o[1],this.normal[2]=o[2]),this.windingRule=t,i<2&&(i=2),i>3&&(i=3),!this.mesh)return!1;this.projectPolygon_(),oOe.computeInterior(this,l);var c=this.mesh;return r===Kn.BOUNDARY_CONTOURS?this.setWindingNumber_(c,1,!0):this.tessellateInterior_(c),l&&c.check(),r===Kn.BOUNDARY_CONTOURS?this.outputContours_(c,i):this.outputPolymesh_(c,r,n,i),!0},e}();function gd(e){var t=e.windingRule,r=t===void 0?Ar.ODD:t,n=e.elementType,i=n===void 0?Kn.POLYGONS:n,o=e.polySize,l=o===void 0?3:o,c=e.vertexSize,a=c===void 0?2:c,s=e.normal,u=s===void 0?[0,0,1]:s,d=e.contours,h=d===void 0?[]:d,f=e.strict,m=f===void 0?!0:f,p=e.debug,g=p===void 0?!1:p;if(!h&&m)throw new Error("Contours can't be empty");if(h){var v=new aOe;e.edgeCreateCallback&&(v.edgeCreateCallback=e.edgeCreateCallback),e.vertexIdCallback&&(v.vertexIdCallback=e.vertexIdCallback);for(var x=0;x<h.length;x++)v.addContour(a||2,h[x]);return v.tesselate(r,i,l,a,u,m),{vertices:v.vertices,vertexIndices:v.vertexIndices,vertexCount:v.vertexCount,elements:v.elements,elementCount:v.elementCount,mesh:g?v.mesh:void 0}}}Ar.ODD;Ar.NONZERO;Ar.POSITIVE;Ar.NEGATIVE;Ar.ABS_GEQ_TWO;Kn.POLYGONS;Kn.CONNECTED_POLYGONS;Kn.BOUNDARY_CONTOURS;var $P=class{constructor(e=256,t=!1){this.capacity=e,this.size=0,this.debug=t,this.debug&&console.log(`allocating with cap ${e}`);let r=e*$P.eSize;this.buffer=new ArrayBuffer(r);let n=Float32Array.BYTES_PER_ELEMENT,i=0;this.positions=new Float32Array(this.buffer,i*n,3*e),i+=3*e,this.normals=new Float32Array(this.buffer,i*n,3*e),i+=3*e,this.uvs=new Float32Array(this.buffer,i*n,2*e)}realloc(e,t=!1){if(e<this.size)throw Error("cannot shrink buffer");if(e<=this.capacity&&!t)return;this.debug&&console.log(`resizing from ${this.capacity}  ${e}`);let r=e*$P.eSize,n=new ArrayBuffer(r),i=Float32Array.BYTES_PER_ELEMENT,o=0,l=new Float32Array(n,o*i,3*e);o+=3*e;let c=new Float32Array(n,o*i,3*e);o+=3*e;let a=new Float32Array(n,o*i,2*e);t?(l.set(this.positions.subarray(0,this.size*3)),c.set(this.normals.subarray(0,this.size*3)),a.set(this.uvs.subarray(0,this.size*2))):(l.set(this.positions),c.set(this.normals),a.set(this.uvs)),this.buffer=n,this.positions=l,this.normals=c,this.uvs=a,this.capacity=e}get(e=1){let t=this.size+e;if(t>this.capacity){let n=this.capacity;for(;t>n;)n*=2;this.realloc(n)}let r=this.size;return this.size=t,r}reserve(e){let t=this.size+e;t>this.capacity&&this.realloc(t)}shrink(){this.debug&&console.log(`shrinking ${this.capacity}  ${this.size}`),this.realloc(this.size,!0)}},YK=$P;YK.eSize=8*Float32Array.BYTES_PER_ELEMENT;var sOe=Ai(wxe()),g6={vertices:[160,160,-160,160,-160,-160,160,-160],vertexIndices:[1,0,3,2],vertexCount:4,elements:[0,4],elementCount:1,mesh:void 0},XK={vertices:[],vertexIndices:[],vertexCount:0,elements:[],elementCount:0,mesh:void 0},$K={vertices:[-160,160,160,-160,160,160,-160,-160],vertexIndices:[1,3,0,2],vertexCount:4,elements:[0,1,2,1,0,3],elementCount:2,mesh:void 0},qC=(e,t)=>([r,n])=>(n<r&&(n+=t),(e>=r?e:e+t)<=n),v6=class extends vt{constructor(e,t,r=0,n=12,i=3,o=Ar.ODD,l=!1){super(),this.forPathBevel=l,this.type="ShapeGeometry",this.vertexCache={},this._shape=e,this._depth=t,this._curveSegments=n,this._bevelSegmentsInput=i;let c=this._shape.extractShapePointsToFlatArray([],n),a=this._shape.shapeHoles.map(C=>{let A=C.extractShapePointsToFlatArray([],n),T=[];for(let k=A.length-1;k>=1;k-=2){let D=A[k-1],M=A[k-0];T.push(D,M)}return T}),s=[],u=[];for(let C=0;C<c.length;C+=2)u.push([c[C],c[C+1]]);s.push(u);for(let C=0;C<a.length;C++){let A=a[C],T=[];for(let k=0;k<A.length;k+=2)T.push([A[k],A[k+1]]);s.push(T)}let d;e.isText?d=new p$().setFromPoints(e.points.map(C=>C.position)).getSize(new oe).length()*.1:s[0].length===0?d=r:d=(0,sOe.default)(s).distance,r<=0?(this._bevel=0,this._bevelSegments=0):(this._bevel=Math.min(r,d,t/2),this._bevelSegments=Math.floor(i));let h;try{h=gd({windingRule:o,elementType:Kn.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[c]})}catch{h=g6}let f;try{f=gd({windingRule:Ar.ODD,elementType:Kn.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...a]})}catch{f=XK}if(!h)throw new Error("error generating geometry");let m=h.elementCount;if(f){h.elementCount+=f.elementCount;for(let C=0;C<f.elements.length;C++){let A=f.elements[C],T=C%2===0?h.vertexCount:0;h.elements.push(A+T)}for(let C=0;C<f.vertexIndices.length;C++){let A=f.vertexIndices[C],T=h.vertexCount;h.vertexIndices.push(A+T)}for(let C=0;C<f.vertices.length;C++){let A=f.vertices[C];h.vertices.push(A)}}let p=1/0,g=-1/0,v=1/0,x=-1/0;for(let C=0,A=h.vertexCount;C<A;C++){let T=C*2,k=h.vertices[T+0],D=h.vertices[T+1];k<p&&(p=k),k>g&&(g=k),D<v&&(v=D),D>x&&(x=D)}this._minX=p,this._minY=v,this._width=g-p,this._height=x-v,this._buffer=new YK(this._computeBufferEstimatedSize(h));let y=[],b=[];for(let C=h.elementCount-1;C>=0;C--){let A=C>=m,T=C*2,k=h.elements[T+0],D=h.elements[T+1],M=k+D,P={start:k,count:D,normals:[],continuous:[],concave:[]},j=k,O=M-1,I=k+1,N=this._shape.roundedCurves.length;do{let W=j-k,U=h.vertices[O*2+0],H=h.vertices[O*2+1],X=h.vertices[j*2+0],K=h.vertices[j*2+1],Q=h.vertices[I*2+0],Y=h.vertices[I*2+1],$=X-U,J=K-H,ie=Math.sqrt($*$+J*J);$/=ie,J/=ie;let ne=X-Q,ae=K-Y,je=Math.sqrt(ne*ne+ae*ae);ne/=je,ae/=je,P.normals[W*2+0]=-ae,P.normals[W*2+1]=ne,P.concave[W]=$*ae-J*ne>0;let Ee=h.vertexIndices[j];if(Array.isArray(Ee))P.continuous[W]=!1;else{let[we,De]=this._shape.getCurveIndexFromVertexId(Ee-1,!0);if(De>0&&De<1)P.continuous[W]=!0;else{let Le=De===1?we+1:we-1;Le=(Le+N)%N;let Ie=De===1?0:1,ee=this._shape.roundedCurves[we].getTangent(De),q=this._shape.roundedCurves[Le].getTangent(Ie);P.continuous[W]=ee.dot(q)>.95}}A&&(P.normals[W*2+0]*=-1,P.normals[W*2+1]*=-1),[O,j,I]=[j,I,I+1],I>=M&&(I-=D)}while(I!==k+1);let L=[];L.push({bevelI:0,angle:0,size:0,boundary:{vertices:h.vertices.slice(k*2,M*2),vertexCount:D,vertexIndices:new Array(D).fill(!0).map((W,U)=>[U,U]),elements:[0,D],elementCount:1,mesh:null},reverseMap:[],insetPoints:h.vertices.slice(k*2,M*2)});let B=0;for(let W=1;W<=this._bevelSegments;W++){let U=W/this._bevelSegments*Math.PI/2,H=(1-Math.cos(U))*this._bevel,X=[],K=[],Q=0;for(let $=0;$<D;$++){let J=$*2,ie=($-1+D)%D*2,ne=h.vertices[P.start*2+J+0],ae=h.vertices[P.start*2+J+1],je=-P.normals[ie+0]*H,Ee=-P.normals[ie+1]*H,we=-P.normals[J+0]*H,De=-P.normals[J+1]*H;if(P.concave[$]||!P.concave[$]&&A){let Le=Math.atan2(Ee,je),Ie=Math.atan2(De,we);Ie>Le&&(Ie-=Math.PI*2);let ee=Ie-Le;if(P.continuous[$]||A){let q=Le+ee/2,le=Math.cos(q)*H,Te=Math.sin(q)*H;X[2*Q+0]=ne+le*(A?-1:1),X[2*Q+1]=ae+Te*(A?-1:1),K[Q]=$,Q++}else{let q=Math.max(1,Math.floor(n/4*Math.abs(ee)/Math.PI));for(let le=0;le<=q;le++){let Te=Le+ee*(le/q),te=Math.cos(Te)*H,ce=Math.sin(Te)*H;X[2*Q+0]=ne+te,X[2*Q+1]=ae+ce,K[Q]=$,Q++}}}else X[2*Q+0]=ne+je,X[2*Q+1]=ae+Ee,K[Q]=$,Q++,X[2*Q+0]=ne,X[2*Q+1]=ae,K[Q]=$,Q++,X[2*Q+0]=ne+we,X[2*Q+1]=ae+De,K[Q]=$,Q++}let Y=gd({windingRule:Ar.POSITIVE,elementType:Kn.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[X],edgeCreateCallback:$=>{let J=$.Org.idx,ie=K[J],ne=K[(J+1)%K.length];$.idx=[ie,ne],$.Sym.idx=[ne,ie]},vertexIdCallback:$=>{let J=$.Lprev.idx;return[J?J[1]:0,$.idx?$.idx[0]:0]}});if(!Y)throw console.log("Error"),new Error(`error generating bevel geometry for ${W}'th loop`);if(!Y.vertexCount){let $=(W-1)/this._bevelSegments*Math.PI/2;B=(1-Math.sin($))*this._bevel;break}for(let $=0;$<Y.vertexIndices.length;$++){let[J,ie]=Y.vertexIndices[$];if(J===ie)continue;let ne=ie;ie<J&&(ne+=D);for(let ae=J;ae<ne;ae++){let je=ae%D,Ee=(ae+1)%D;if(!P.continuous[je]||!P.continuous[Ee]){Y.vertexIndices[$]=[J,je],Y.vertexIndices.splice($+1,0,[Ee,ie]),Y.vertices.splice(($+1)*2,0,Y.vertices[$*2],Y.vertices[$*2+1]);break}}}L.push({bevelI:W,angle:U,size:H,boundary:Y,reverseMap:K,insetPoints:X})}let R=(W,U,H)=>{let X=0,K=W.boundary.vertexIndices.length;for(;X<K&&H(W.boundary.vertexIndices[U]);)U=(U+1)%K,X++;return X},z=y.length;for(let W=1;W<L.length;W++){let U=L[W-1],H=L[W],X=U.boundary.vertexIndices.length,K=H.boundary.vertexIndices.length;if(!X||!K)break;let Q=P.concave.length,Y=0,$=qC(Y,D);for(;!U.boundary.vertexIndices.filter($).length||!H.boundary.vertexIndices.filter($).length;)Y++,$=qC(Y,D);let J=U.boundary.vertexIndices.findIndex($),ie=H.boundary.vertexIndices.findIndex($);do J=(J+1)%X;while($(U.boundary.vertexIndices[J]));do ie=(ie+1)%K;while($(H.boundary.vertexIndices[ie]));Y=(Y+1)%D;let ne=Y,ae=0,je=this._buildBevelVert(P,U,(J-1+X)%X,void 0,ae),Ee=this._buildBevelVert(P,H,(ie-1+K)%K,void 0,ae),we=je,De=Ee,Le,Ie,ee=!1;do{ae=(Y||Q)/Q,$=qC(Y,D);let q=R(U,J,$),le=R(H,ie,$),Te=ee;if(ee=!1,q&&!le){for(let te=0;te<q;te++)Le=this._buildBevelVert(P,U,(J+te)%X,te/(q-1),ae),y.push(we.topN,Le.topP,De.topN),l===!1&&y.push(Le.bottomP,we.bottomN,De.bottomN),we=Le;ee=!0}else if(!q&&le)for(let te=0;te<le;te++)Ie=this._buildBevelVert(P,H,(ie+te)%K,te/(le-1),ae),y.push(De.topN,we.topP,Ie.topP),l===!1&&y.push(we.bottomP,De.bottomN,Ie.bottomP),De=Ie;else if(q&&le)if(Le=this._buildBevelVert(P,U,J,0,ae),Ie=this._buildBevelVert(P,H,ie,0,ae),Te?(y.push(we.topN,Ie.topP,De.topN),y.push(we.topN,Le.topP,Ie.topP),l===!1&&(y.push(Ie.bottomP,we.bottomN,De.bottomN),y.push(Ie.bottomP,Le.bottomP,we.bottomN))):(y.push(De.topN,we.topN,Le.topP),y.push(De.topN,Le.topP,Ie.topP),l===!1&&(y.push(Le.bottomP,we.bottomN,De.bottomN),y.push(Le.bottomP,De.bottomN,Ie.bottomP))),we=Le,De=Ie,q===le)for(let te=1;te<q;te++)Le=this._buildBevelVert(P,U,(J+te)%X,te/(q-1),ae),Ie=this._buildBevelVert(P,H,(ie+te)%K,te/(le-1),ae),y.push(we.topN,Le.topP,De.topN),y.push(De.topN,Le.topP,Ie.topP),l===!1&&(y.push(Le.bottomP,we.bottomN,De.bottomN),y.push(Le.bottomP,De.bottomN,Ie.bottomP)),we=Le,De=Ie;else if(q>le){let te=q/le,ce=0;for(let Ce=1;Ce<q;Ce++)Le=this._buildBevelVert(P,U,(J+Ce)%X,Ce/(q-1),ae),y.push(we.topN,Le.topP,De.topN),l===!1&&y.push(Le.bottomP,we.bottomN,De.bottomN),we=Le,Ce>(ce+1)*te&&(ce++,Ie=this._buildBevelVert(P,H,(ie+ce)%K,ce/(le-1),ae),y.push(De.topN,Le.topP,Ie.topP),l===!1&&y.push(Le.bottomP,De.bottomN,Ie.bottomP),De=Ie)}else{let te=le/q,ce=0;for(let Ce=1;Ce<le;Ce++)Ie=this._buildBevelVert(P,H,(ie+Ce)%K,Ce/(le-1),ae),y.push(De.topN,Le.topP,Ie.topP),l===!1&&y.push(Le.bottomP,De.bottomN,Ie.bottomP),De=Ie,Ce>(ce+1)*te&&(ce++,Le=this._buildBevelVert(P,U,(J+ce)%X,ce/(q-1),ae),y.push(we.topN,Le.topP,De.topN),l===!1&&y.push(Le.bottomP,we.bottomN,De.bottomN),we=Le)}J=(J+q)%X,ie=(ie+le)%K,Y=(Y+1)%Q}while(Y!==ne)}if(l===!1&&this._depth>this._bevel*2&&this._buildWall(L,P,y),A){let W=[];for(let U=y.length-1;U>=z+2;U-=3){let H=y[U-2],X=y[U-1],K=y[U-0];W.push(K,X,H)}y.splice(z,y.length-z,...W)}if(A){let W=[];for(let U=L[L.length-1].boundary.vertices.length-1;U>=1;U-=2){let H=L[L.length-1].boundary.vertices[U-1],X=L[L.length-1].boundary.vertices[U-0];W.push(H,X)}b.push(W)}if(!A){let W=L[L.length-1],U;try{U=gd({windingRule:L.length>1?Ar.POSITIVE:Ar.ODD,elementType:Kn.POLYGONS,vertexSize:2,strict:!0,contours:[W.insetPoints,...b]})}catch{U=$K}if(!U)throw new Error("Error generating geometry for surface");a.length===0&&this._bevel<d&&Object.assign(this,{useNgonForTopBottomFaceDuringBake:!0});for(let H=0;H<U.elementCount*3;H+=3){let X=this._buildSurfaceVert(U,U.elements[H+0],B),K=this._buildSurfaceVert(U,U.elements[H+1],B),Q=this._buildSurfaceVert(U,U.elements[H+2],B);y.push(X.top,K.top,Q.top),l===!1&&y.push(Q.bottom,K.bottom,X.bottom)}}this.vertexCache={}}this._buffer.shrink();let w=new kt(Uint32Array.from(y),1),_=new kt(this._buffer.positions,3),S=new kt(this._buffer.normals,3),E=new kt(this._buffer.uvs,2);_.needsUpdate=!0,S.needsUpdate=!0,E.needsUpdate=!0,w.needsUpdate=!0,this.setAttribute("position",_),this.setAttribute("normal",S),this.setAttribute("uv",E),this.setIndex(w)}_computeBufferEstimatedSize(e){return e.vertexCount*2*(2+this._bevelSegments)}_buildWall(e,t,r){let n=e[0];for(let i=0,o=n.boundary.vertexCount;i<o;i++){let l=this._buildBevelVert(t,n,i),c=this._buildBevelVert(t,n,(i+1)%o);r.push(c.topP,l.topN,l.bottomN),r.push(c.topP,l.bottomN,c.bottomP)}}_buildSurfaceVert(e,t,r){let n=t.toString();if(n in this.vertexCache)return this.vertexCache[n];let i=e.vertices[t*2+0],o=e.vertices[t*2+1],l=(i-this._minX)/this._width,c=(o-this._minY)/this._height;this.forPathBevel&&(c=1);let a=this._buffer.get(this.forPathBevel?1:2),s=a*3,u=a*2,d={top:a+0,bottom:a+1};return this._buffer.positions[s+0]=i,this._buffer.positions[s+1]=o,this._buffer.positions[s+2]=this.forPathBevel?this._bevel:this._depth-r,this._buffer.normals[s+0]=0,this._buffer.normals[s+1]=0,this._buffer.normals[s+2]=1,this._buffer.uvs[u+0]=l,this._buffer.uvs[u+1]=c,this.forPathBevel===!1&&(this._buffer.positions[s+3]=i,this._buffer.positions[s+4]=o,this._buffer.positions[s+5]=r,this._buffer.normals[s+3]=0,this._buffer.normals[s+4]=0,this._buffer.normals[s+5]=-1,this._buffer.uvs[u+2]=l,this._buffer.uvs[u+3]=c),this.vertexCache[n]=d,d}_buildBevelVert(e,t,r,n=1,i){let o=`${t.bevelI}:${r}`;if(o in this.vertexCache&&i!==0&&i!==1&&(!i||i===this.vertexCache[o].pathBevelUCoord))return this.vertexCache[o];let[l,c]=t.boundary.vertexIndices[r],a,s,u,d;l!==c?(s=l,a=c,d=!1,u=e.continuous[s]&&e.continuous[a]):(a=l,s=(a-1+e.count)%e.count,d=e.concave[a]&&t.bevelI>0,u=e.continuous[a]||d);let h=Math.cos(t.angle),f=Math.sin(t.angle),m=r*2,p=a*2,g=s*2,v=t.boundary.vertices[m+0],x=t.boundary.vertices[m+1],y=(1-f)*this._bevel,b=(v-this._minX)/this._width,w=(x-this._minY)/this._height;this.forPathBevel&&(i!==void 0&&(b=i),w=1);let _=e.normals[p+0],S=e.normals[p+1],E=e.normals[g+0],C=e.normals[g+1];if(d){let M=E-_,P=C-S;_=_+M*(1-n),S=S+P*(1-n);let j=Math.sqrt(_*_+S*S);_/=j,S/=j}let A=this.forPathBevel?this._buffer.get(u?1:2):this._buffer.get(u?2:4),T=A*3,k=A*2,D={i:r,fi:a,topP:A+0,topN:A+0,bottomP:A+1,bottomN:A+1,pathBevelUCoord:i};return this._buffer.positions[T+0]=v,this._buffer.positions[T+1]=x,this._buffer.positions[T+2]=(this.forPathBevel?this._bevel:this._depth)-y,this._buffer.normals[T+0]=_*h,this._buffer.normals[T+1]=S*h,this._buffer.normals[T+2]=f,this._buffer.uvs[k+0]=b,this._buffer.uvs[k+1]=w,this.forPathBevel===!1&&(this._buffer.positions[T+3]=v,this._buffer.positions[T+4]=x,this._buffer.positions[T+5]=y,this._buffer.normals[T+3]=_*h,this._buffer.normals[T+4]=S*h,this._buffer.normals[T+5]=-f,this._buffer.uvs[k+2]=w,this._buffer.uvs[k+3]=b),u||(this.forPathBevel?(A+=1,T+=3,k+=2):(A+=2,T+=6,k+=4),D.topP=A+0,D.bottomP=A+1,this._buffer.positions[T+0]=v,this._buffer.positions[T+1]=x,this._buffer.positions[T+2]=(this.forPathBevel?this._bevel:this._depth)-y,this._buffer.normals[T+0]=E*h,this._buffer.normals[T+1]=C*h,this._buffer.normals[T+2]=f,this._buffer.uvs[k+0]=b,this._buffer.uvs[k+1]=w,this.forPathBevel===!1&&(this._buffer.positions[T+3]=v,this._buffer.positions[T+4]=x,this._buffer.positions[T+5]=y,this._buffer.normals[T+3]=E*h,this._buffer.normals[T+4]=C*h,this._buffer.normals[T+5]=-f,this._buffer.uvs[k+2]=w,this._buffer.uvs[k+3]=b)),this.vertexCache[o]=D,D}clone(){let e=new v6(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=HE(this.userData),e}},KK=class extends vt{constructor(e,t=12,r={}){super(),this.type="ShapeGeometry",this.windingRule=Ar.ODD,this.elementType=Kn.POLYGONS,this.polySize=3,this.vertexSize=2,this.strict=!0,this._shape=e,this._curveSegments=t,this._triangulationOptions=Object.assign({windingRule:Ar.ODD,elementType:Kn.POLYGONS,polySize:3,vertexSize:2,strict:!0},r);let n=this._shape.extractShapePointsToFlatArray([],this._curveSegments),i=this._shape.shapeHoles.map(h=>h.extractShapePointsToFlatArray([],this._curveSegments)),o,l=!0,c=!0,a,s;for(let h=0,f=n.length/2;h<f;h++){let m=h*2,p=n[m+0],g=n[m+1];if(a!==void 0&&p!==a&&(l=!1),s!==void 0&&g!==s&&(c=!1),a=p,s=g,!l&&!c)break}if(!l&&!c)try{o=gd({contours:[n,...i],windingRule:this._triangulationOptions.windingRule,elementType:this._triangulationOptions.elementType,polySize:this._triangulationOptions.polySize,vertexSize:this._triangulationOptions.vertexSize,strict:this._triangulationOptions.strict})}catch{o=g6}let u=(o==null?void 0:o.vertexCount)??1,d=(o==null?void 0:o.elementCount)??1;if(this._positionAttribute=new kt(new Float32Array(u*3),3),this._normalAttribute=new kt(new Float32Array(u*3),3),this._uvAttribute=new kt(new Float32Array(u*2),2),this._indexAttribute=new kt(new Uint32Array(d*3),1),o){let h=1/0,f=-1/0,m=1/0,p=-1/0;for(let x=0,y=u;x<y;x++){let b=x*2,w=o.vertices[b+0],_=o.vertices[b+1];w<h&&(h=w),w>f&&(f=w),_<m&&(m=_),_>p&&(p=_)}let g=f-h,v=p-m;for(let x=0,y=u;x<y;x++){let b=x*2,w=o.vertices[b+0],_=o.vertices[b+1],S=(w-h)/g,E=(_-m)/v;this._positionAttribute.setXYZ(x,w,_,0),this._normalAttribute.setXYZ(x,0,0,1),this._uvAttribute.setXY(x,S,E)}for(let x=0,y=d;x<y;x++){let b=x*3,w=o.elements[b+0],_=o.elements[b+1],S=o.elements[b+2];this._indexAttribute.setX(b+0,w),this._indexAttribute.setX(b+1,_),this._indexAttribute.setX(b+2,S)}}this.setAttribute("position",this._positionAttribute),this.setAttribute("normal",this._normalAttribute),this.setAttribute("uv",this._uvAttribute),this.setIndex(this._indexAttribute),this.setDrawRange(0,((o==null?void 0:o.elementCount)??1)*3)}clone(){let e=new KK(this._shape,this._curveSegments);return e.userData=HE(this.userData),e}},QK=class extends v6{constructor(e,t,r=0,n=12,i=3,o=Ar.ODD){super(e,t,r,n,i,o),this.type="ShapeGeometry"}_computeBufferEstimatedSize(e){return e.vertexCount*2*(2+this._bevelSegments)}_buildWall(e,t,r){let n=e[0];for(let i=0,o=n.boundary.vertexCount;i<o;i++){let l=this._buildBevelVert(t,n,i),c=this._buildBevelVert(t,n,(i+1)%o);r.push(c.topP,l.topN,l.bottomN),r.push(c.topP,l.bottomN,c.bottomP)}}clone(){let e=new QK(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=HE(this.userData),e}},Bf=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var s,u;let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,subdivisions:40,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3,windingRule:Ar.ODD},e.parameters),n=Math.abs(r.width),i=Math.abs(r.height??r.width),o=Math.abs(r.depth??0),l=e.shape??(t==null?void 0:t.shape),c=(l==null?void 0:l.roundness)??r.roundness;l!==void 0&&(l instanceof wn?(l.width!==n||l.height!==i)&&l.applySize(n,i):l=new wn(n,i).fromJSON(l),((s=e.parameters)==null?void 0:s.roundness)!==void 0&&((u=e.parameters)==null?void 0:u.roundness)>0&&l.update());let a=l??new wn(n,i);return{parameters:Object.assign(r,{width:n,height:i,depth:o,roundness:c}),shape:a}}static build(e){let{depth:t,extrudeBevelSize:r,extrudeBevelSegments:n,subdivisions:i,roundness:o,windingRule:l}=e.parameters;e.shape.roundness=o;let c;return t<=0?c=new KK(e.shape,i,{windingRule:l}):c=new QK(e.shape,t,r,i,n,l),Object.assign(c,{userData:{...e,type:"VectorGeometry"}})}},JK=Math.PI*2,y6=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,spikes:64,angle:360,innerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return r.angle=pt.clamp(r.angle,0,360),{shape:e.shape&&e.shape instanceof wn?e.shape:new wn,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t,height:r,spikes:n,angle:i,innerRadius:o,depth:l,extrudeBevelSize:c,extrudeBevelSegments:a}=e.parameters,s=e.shape,u=t*.5,d=r*.5,h=lOe(s,u,d,i*Math.PI/180,n,o);s.isClosed=!0,s.update();let f;return i===0?(f=new vt,f.setAttribute("position",new it([],3))):f=Bf.create({shape:s,parameters:{subdivisions:h,depth:l,extrudeBevelSize:c,extrudeBevelSegments:a}}),Object.assign(f,{userData:{...e,type:"EllipseGeometry"}})}};function lOe(e,t,r,n,i,o){if(n>=JK)return i>30||i%4===0?(uOe(e,t,r,o),Math.round(i/4)):DB(e,n,i,t,r,o);n=Math.max(n,.001);let l={x:0,y:r},c=n+Math.PI*.5,a={x:Math.cos(c)*t,y:Math.sin(c)*r},s=rOe({px:l.x,py:l.y,cx:a.x,cy:a.y,rx:t,ry:r,largeArcFlag:n>Math.PI,sweepFlag:!0});return i>30||i%s.length===0?cOe(e,l.x,l.y,s,i,t,r,o):DB(e,n,i,t,r,o)}function cOe(e,t,r,n,i,o,l,c){let a=Math.round(i/n.length);e.addPoint(Um(t,r));for(let s=0,u=n.length;s<u;s++){let d=n[s],h=e.points[s],f=Um(d.x,d.y);h.controls[1].position.set(d.x1,d.y1),f.controls[0].position.set(d.x2,d.y2),e.addPoint(f)}return c>0?ZK(e,o,l,c):e.addPoint(Um(0,0)),a}function DB(e,t,r,n,i,o){let l=-t/r;for(let c=0;c<=r;c++){let a=l*c,s=Math.sin(a)*n,u=Math.cos(a)*i;e.addPoint(Um(s,u))}return t<JK?o>0?ZK(e,n,i,o):e.addPoint(Um(0,0)):(e.removePoint(e.points[e.points.length-1]),o>0&&eQ(e,n,i,o)),1}function uOe(e,t,r,n=0,i=0,o=0){let l=.5522847498,c=t*l,a=r*l;e.addPoint(Px(i-t,o,i-t,o-a,i-t,o+a)),e.addPoint(Px(i,o+r,i-c,o+r,i+c,o+r)),e.addPoint(Px(i+t,o,i+t,o+a,i+t,o-a)),e.addPoint(Px(i,o-r,i+c,o-r,i-c,o-r)),n>0&&eQ(e,t,r,n)}function Um(e,t){return new Fm(pt.generateUUID(),new oe(e,t))}function Px(e,t,r,n,i,o){let l=Um(e,t);return l.controls[0].position.set(r,n),l.controls[1].position.set(i,o),l}function ZK(e,t,r,n){tQ(e,t,r,n).forEach(i=>e.addPoint(i))}function eQ(e,t,r,n){let i=tQ(e,t,r,n),o=new wn;i.forEach(l=>o.addPoint(l)),o.isClosed=!0,e.shapeHoles.push(o)}function tQ(e,t,r,n){let i=n*t/100,o=i*(Math.abs(r)/Math.abs(t)),l=new oe(i/t,o/r),c=e.points.map(a=>{let s=a.clone();return s.uuid=pt.generateUUID(),s}).reverse();return c.forEach(a=>{a.position.multiply(l);let s=a.controls[0].position.clone().multiply(l),u=a.controls[1].position.clone().multiply(l);a.controls[0].position.copy(u),a.controls[1].position.copy(s)}),c}var dOe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,revolutions:2,segments:40,pathRadius:10,pathType:0,pathSegments:30,cornerRadius:30,cornerSegments:4},e.parameters),n=Math.abs(r.width),i=Math.abs(r.height??n),o=Math.abs(r.depth??n),l=Math.abs(Math.min(n,o))/2;return{parameters:Object.assign(r,{width:n,height:i,depth:o,radius:l,segments:Math.round(r.segments),pathSegments:Math.round(r.pathSegments),cornerSegments:Math.round(r.cornerSegments)})}}static build(e){let{width:t,height:r,depth:n,radius:i,revolutions:o,segments:l,pathRadius:c,pathType:a,pathSegments:s,cornerRadius:u,cornerSegments:d}=e.parameters,h=new rQ(!1,t,r,n,i,o,l,c,a,s,u,d);return Object.assign(h,{userData:{...e,type:"HelixGeometry"}})}},YC=new jm([0,0,0],1),rQ=class extends vt{constructor(e=!0,t=1,r=1,n=1,i=1,o=1,l=1,c=1,a=1,s=1,u=1,d=1){if(super(),o===0)return;let h=e&&o===1;h&&(d=0),u>100&&(u=100),u===0&&(d=0);let f=()=>new V,m=new V,p=f(),g=f(),v=f(),x,y,b,w,_,S,E,C,A=f(),T=f(),k=f(),D=f(),M=f(),P=f(),j=f(),O=f(),I=r-2*c+.001,N=I/o,L=Math.ceil(l*o),B=L+1,R=I/L,z=-I/2,W=s+1,U=2*Math.PI/s,H=Math.PI/2/d,X=.01,K=Math.min((1-u/100)*c,c-X),Q=c-K,Y=0,$=2,J=d*$+$,ie=W*J/$,ne=ie+W*B,ae=Math.max(0,W*(B+J)),[je,Ee,we]=[3,3,2].map(de=>Array(ae*de).fill(0)),De=[],Le=i-c;function Ie(de,Fe){let Be=Math.PI/2;S=Fe*R,C=2*Math.PI*(S%N)/N+Be,S+=z,E=Math.sin(C)*Le,_=Math.cos(C)*Le,e?de.set(_,E,S):de.set(_,S,E)}Ie(m,-1e-10),Ie(p,0),A.copy(m),Ie(m,1);let ee=m.distanceTo(p),q=h?0:Q+K,le=ee*L+2*q,Te=K,te=le-q;for(let de=0;de<=L;de++){Ie(g,de),O.subVectors(g,A).normalize(),A.copy(g),P.copy(g).setComponent(+e+1,0).normalize(),j.crossVectors(O,P).normalize();let Fe=de===0,Be=de===L,_e=Fe?3*Math.PI/2:H,Ve=Fe?Te:te,Re=Fe?W:ne,Ke=Fe?0:ae-W,We=O.clone().multiplyScalar(Fe?-Q:Q).add(g),He=O.clone().multiplyScalar(Fe?-1:1).normalize();for(let re=0;re<W;re++){let be=re*U;if(T.addVectors(m.copy(P).multiplyScalar(c*Math.cos(be)),p.copy(j).multiplyScalar(c*Math.sin(be))),k.copy(T).normalize(),Fe||Be){h||(Y=Ke+re,[0,1,2].forEach(Ae=>{je[Y*3+Ae]=We.getComponent(Ae),Ee[Y*3+Ae]=He.getComponent(Ae)}),we[Y*2]=+Be,we[Y*2+1]=re/s),p.copy(k).multiplyScalar(K),v.addVectors(g,p);for(let Ae=0;Ae<d;Ae++){let Ue=Ae*H+_e;D.addVectors(m.copy(O).multiplyScalar(Q*Math.sin(Ue)),p.copy(k).multiplyScalar(Q*Math.cos(Ue))),M.copy(D).normalize(),p.addVectors(v,D),D.normalize(),Y=Re+Ae*W+re,[0,1,2].forEach(ht=>{je[Y*3+ht]=p.getComponent(ht),Ee[Y*3+ht]=M.getComponent(ht)});let mt=+Fe+Math.sin(Ue);we[Y*2]=(Ve+Q*mt)/le,we[Y*2+1]=re/s}}p.addVectors(g,T),Y=ie+de*W+re,[0,1,2].forEach(Ae=>{je[Y*3+Ae]=p.getComponent(Ae),Ee[Y*3+Ae]=k.getComponent(Ae)}),we[Y*2]=(q+de*ee)/le,we[Y*2+1]=re/s}}let ce=B+2*d+$,[Ce,fe]=[+h,ce-1];for(let de=Ce;de<=fe-1;de++){let Fe=h&&de===fe-1;for(let Be=0;Be<W-1;Be++)x=de*W+Be,y=x+1,b=(Fe?Be:x)+W,w=(Fe?Be+1:y)+W,de===0?De.push(y,w,b):de===ce-2?De.push(x,y,b):De.push(x,y,b,y,w,b)}this.setIndex(De),this.setAttribute("position",new it(je,3)),this.setAttribute("normal",new it(Ee,3)),this.setAttribute("uv",new it(we,2))}getClosedTorusIndicesForBooleanOrSubdiv(){let e=this.userData.parameters,t=Math.ceil(e.tubularSegments),r=e.radialSegments+1,n=Array.from(this.getIndex().array),i,o,l,c,a=6*(t-1)*e.radialSegments,s=t,u=s===t;for(let d=0;d<e.radialSegments;d++)i=s*r+d,o=i+1,l=(u?d:i)+r,c=(u?d+1:o)+r,n[a++]=i,n[a++]=o,n[a++]=l,n[a++]=o,n[a++]=c,n[a++]=l;return n.length=a,YC.array=n,YC.count=n.length,YC}},hOe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:n,detail:i,corner:o,cornerSides:l}=e.parameters,c=i===0&&o!==0?new nQ(t*.5,o,l):new i$(t*.5,i);return c.scale(1,r/t,n/t),Object.assign(c,{userData:{...e,type:"IcosahedronGeometry"}})}},nQ=class extends f6{constructor(e=1,t=.2,r=4){let n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],l="IcosahedronGeometry";super(i,o,l,e,t,r),this.type=l}static fromJSON(e){return new nQ(e.radius,e.corner,e.cornerSides)}},fOe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n;(((n=e.parameters)==null?void 0:n.points)??[]).forEach(i=>{Array.isArray(i)&&(i.x=i[0],i.y=i[1])});let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,segments:64,verticalSegments:64,points:[{x:0,y:-50,id:0},{x:50,y:-50,id:1},{x:50,y:50,id:2},{x:0,y:50,id:3}]},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{points:t,segments:r,verticalSegments:n}=e.parameters,i=new l2;i.moveTo(t[0].x,t[0].y),i.bezierCurveTo(t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y);let o=new QX(i.extractPoints(n).shape,r);return o.rotateZ(Math.PI),Object.assign(o,{userData:{...e,type:"LatheGeometry"}})}},ml=new Ne,XC=new Tr,kx=new V,B2=class extends Ri{constructor(){super(),this.uuid=pt.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}applyMatrix4(e){let t=new In().getNormalMatrix(e);for(let r=0,n=this.vertices.length;r<n;r++)this.vertices[r].applyMatrix4(e);for(let r=0,n=this.faces.length;r<n;r++){let i=this.faces[r];i.normal.applyMatrix3(t).normalize();for(let o=0,l=i.vertexNormals.length;o<l;o++)i.vertexNormals[o].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this}rotateX(e){return ml.makeRotationX(e),this.applyMatrix4(ml),this}rotateY(e){return ml.makeRotationY(e),this.applyMatrix4(ml),this}rotateZ(e){return ml.makeRotationZ(e),this.applyMatrix4(ml),this}translate(e,t,r){return ml.makeTranslation(e,t,r),this.applyMatrix4(ml),this}scale(e,t,r){return ml.makeScale(e,t,r),this.applyMatrix4(ml),this}lookAt(e){return XC.lookAt(e),XC.updateMatrix(),this.applyMatrix4(XC.matrix),this}fromBufferGeometry(e){let t=this,r=e.index!==null?e.index:void 0,n=e.attributes;if(n.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;let i=n.position,o=n.normal,l=n.color,c=n.uv,a=n.uv2;a!==void 0&&(this.faceVertexUvs[1]=[]);for(let d=0;d<i.count;d++)t.vertices.push(new V().fromBufferAttribute(i,d)),l!==void 0&&t.colors.push(new wt().fromBufferAttribute(l,d));function s(d,h,f,m){let p=l===void 0?[]:[t.colors[d].clone(),t.colors[h].clone(),t.colors[f].clone()],g=o===void 0?[]:[new V().fromBufferAttribute(o,d),new V().fromBufferAttribute(o,h),new V().fromBufferAttribute(o,f)],v=new KP(d,h,f,g,p,m);t.faces.push(v),c!==void 0&&t.faceVertexUvs[0].push([new oe().fromBufferAttribute(c,d),new oe().fromBufferAttribute(c,h),new oe().fromBufferAttribute(c,f)]),a!==void 0&&t.faceVertexUvs[1].push([new oe().fromBufferAttribute(a,d),new oe().fromBufferAttribute(a,h),new oe().fromBufferAttribute(a,f)])}let u=e.groups;if(u.length>0)for(let d=0;d<u.length;d++){let h=u[d],f=h.start,m=h.count;for(let p=f,g=f+m;p<g;p+=3)r!==void 0?s(r.getX(p),r.getX(p+1),r.getX(p+2),h.materialIndex):s(p,p+1,p+2,h.materialIndex)}else if(r!==void 0)for(let d=0;d<r.count;d+=3)s(r.getX(d),r.getX(d+1),r.getX(d+2));else for(let d=0;d<i.count;d+=3)s(d,d+1,d+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(kx).negate(),this.translate(kx.x,kx.y,kx.z),this}normalize(){this.computeBoundingSphere();let e=this.boundingSphere.center,t=this.boundingSphere.radius,r=t===0?1:1/t,n=new Ne;return n.set(r,0,0,-r*e.x,0,r,0,-r*e.y,0,0,r,-r*e.z,0,0,0,1),this.applyMatrix4(n),this}computeFaceNormals(){let e=new V,t=new V;for(let r=0,n=this.faces.length;r<n;r++){let i=this.faces[r],o=this.vertices[i.a],l=this.vertices[i.b],c=this.vertices[i.c];e.subVectors(c,l),t.subVectors(o,l),e.cross(t),e.normalize(),i.normal.copy(e)}}computeVertexNormals(e=!0){let t=new Array(this.vertices.length);for(let r=0,n=this.vertices.length;r<n;r++)t[r]=new V;if(e){let r=new V,n=new V;for(let i=0,o=this.faces.length;i<o;i++){let l=this.faces[i],c=this.vertices[l.a],a=this.vertices[l.b],s=this.vertices[l.c];r.subVectors(s,a),n.subVectors(c,a),r.cross(n),t[l.a].add(r),t[l.b].add(r),t[l.c].add(r)}}else{this.computeFaceNormals();for(let r=0,n=this.faces.length;r<n;r++){let i=this.faces[r];t[i.a].add(i.normal),t[i.b].add(i.normal),t[i.c].add(i.normal)}}for(let r=0,n=this.vertices.length;r<n;r++)t[r].normalize();for(let r=0,n=this.faces.length;r<n;r++){let i=this.faces[r],o=i.vertexNormals;o.length===3?(o[0].copy(t[i.a]),o[1].copy(t[i.b]),o[2].copy(t[i.c])):(o[0]=t[i.a].clone(),o[1]=t[i.b].clone(),o[2]=t[i.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeFlatVertexNormals(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){let r=this.faces[e],n=r.vertexNormals;n.length===3?(n[0].copy(r.normal),n[1].copy(r.normal),n[2].copy(r.normal)):(n[0]=r.normal.clone(),n[1]=r.normal.clone(),n[2]=r.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeMorphNormals(){for(let t=0,r=this.faces.length;t<r;t++){let n=this.faces[t];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);for(let i=0,o=n.vertexNormals.length;i<o;i++)n.__originalVertexNormals[i]?n.__originalVertexNormals[i].copy(n.vertexNormals[i]):n.__originalVertexNormals[i]=n.vertexNormals[i].clone()}let e=new B2;e.faces=this.faces;for(let t=0,r=this.morphTargets.length;t<r;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];let i=this.morphNormals[t].faceNormals,o=this.morphNormals[t].vertexNormals;for(let l=0,c=this.faces.length;l<c;l++){let a=new V,s={a:new V,b:new V,c:new V};i.push(a),o.push(s)}}let n=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let i=0,o=this.faces.length;i<o;i++){let l=this.faces[i],c=n.faceNormals[i],a=n.vertexNormals[i];c.copy(l.normal),a.a.copy(l.vertexNormals[0]),a.b.copy(l.vertexNormals[1]),a.c.copy(l.vertexNormals[2])}}for(let t=0,r=this.faces.length;t<r;t++){let n=this.faces[t];n.normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals}}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Rn),this.boundingBox.setFromPoints(this.vertices)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Zo),this.boundingSphere.setFromPoints(this.vertices)}merge(e,t,r=0){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let n,i=this.vertices.length,o=this.vertices,l=e.vertices,c=this.faces,a=e.faces,s=this.colors,u=e.colors;t!==void 0&&(n=new In().getNormalMatrix(t));for(let d=0,h=l.length;d<h;d++){let f=l[d].clone();t!==void 0&&f.applyMatrix4(t),o.push(f)}for(let d=0,h=u.length;d<h;d++)s.push(u[d].clone());for(let d=0,h=a.length;d<h;d++){let f=a[d],m,p,g=f.vertexNormals,v=f.vertexColors,x=new KP(f.a+i,f.b+i,f.c+i);x.normal.copy(f.normal),n!==void 0&&x.normal.applyMatrix3(n).normalize();for(let y=0,b=g.length;y<b;y++)m=g[y].clone(),n!==void 0&&m.applyMatrix3(n).normalize(),x.vertexNormals.push(m);x.color.copy(f.color);for(let y=0,b=v.length;y<b;y++)p=v[y],x.vertexColors.push(p.clone());x.materialIndex=f.materialIndex+r,c.push(x)}for(let d=0,h=e.faceVertexUvs.length;d<h;d++){let f=e.faceVertexUvs[d];this.faceVertexUvs[d]===void 0&&(this.faceVertexUvs[d]=[]);for(let m=0,p=f.length;m<p;m++){let g=f[m],v=[];for(let x=0,y=g.length;x<y;x++)v.push(g[x].clone());this.faceVertexUvs[d].push(v)}}}mergeMesh(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)}mergeVertices(e=4){let t={},r=[],n=[],i=Math.pow(10,e);for(let c=0,a=this.vertices.length;c<a;c++){let s=this.vertices[c],u=Math.round(s.x*i)+"_"+Math.round(s.y*i)+"_"+Math.round(s.z*i);t[u]===void 0?(t[u]=c,r.push(this.vertices[c]),n[c]=r.length-1):n[c]=n[t[u]]}let o=[];for(let c=0,a=this.faces.length;c<a;c++){let s=this.faces[c];s.a=n[s.a],s.b=n[s.b],s.c=n[s.c];let u=[s.a,s.b,s.c];for(let d=0;d<3;d++)if(u[d]===u[(d+1)%3]){o.push(c);break}}for(let c=o.length-1;c>=0;c--){let a=o[c];this.faces.splice(a,1);for(let s=0,u=this.faceVertexUvs.length;s<u;s++)this.faceVertexUvs[s].splice(a,1)}let l=this.vertices.length-r.length;return this.vertices=r,l}setFromPoints(e){this.vertices=[];for(let t=0,r=e.length;t<r;t++){let n=e[t];this.vertices.push(new V(n.x,n.y,n.z||0))}return this}sortFacesByMaterialIndex(){let e=this.faces,t=e.length;for(let c=0;c<t;c++)e[c]._id=c;function r(c,a){return c.materialIndex-a.materialIndex}e.sort(r);let n=this.faceVertexUvs[0],i=this.faceVertexUvs[1],o,l;n&&n.length===t&&(o=[]),i&&i.length===t&&(l=[]);for(let c=0;c<t;c++){let a=e[c]._id;o&&o.push(n[a]),l&&l.push(i[a])}o&&(this.faceVertexUvs[0]=o),l&&(this.faceVertexUvs[1]=l)}toJSON(){let e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){let f=this.parameters;for(let m in f)f[m]!==void 0&&(e[m]=f[m]);return e}let t=[];for(let f=0;f<this.vertices.length;f++){let m=this.vertices[f];t.push(m.x,m.y,m.z)}let r=[],n=[],i={},o=[],l={},c=[],a={};for(let f=0;f<this.faces.length;f++){let m=this.faces[f],p=!0,g=!1,v=this.faceVertexUvs[0][f]!==void 0,x=m.normal.length()>0,y=m.vertexNormals.length>0,b=m.color.r!==1||m.color.g!==1||m.color.b!==1,w=m.vertexColors.length>0,_=0;if(_=s(_,0,0),_=s(_,1,p),_=s(_,2,g),_=s(_,3,v),_=s(_,4,x),_=s(_,5,y),_=s(_,6,b),_=s(_,7,w),r.push(_),r.push(m.a,m.b,m.c),r.push(m.materialIndex),v){let S=this.faceVertexUvs[0][f];r.push(h(S[0]),h(S[1]),h(S[2]))}if(x&&r.push(u(m.normal)),y){let S=m.vertexNormals;r.push(u(S[0]),u(S[1]),u(S[2]))}if(b&&r.push(d(m.color)),w){let S=m.vertexColors;r.push(d(S[0]),d(S[1]),d(S[2]))}}function s(f,m,p){return p?f|1<<m:f&~(1<<m)}function u(f){let m=f.x.toString()+f.y.toString()+f.z.toString();return i[m]!==void 0||(i[m]=n.length/3,n.push(f.x,f.y,f.z)),i[m]}function d(f){let m=f.r.toString()+f.g.toString()+f.b.toString();return l[m]!==void 0||(l[m]=o.length,o.push(f.getHex())),l[m]}function h(f){let m=f.x.toString()+f.y.toString();return a[m]!==void 0||(a[m]=c.length/2,c.push(f.x,f.y)),a[m]}return e.data={},e.data.vertices=t,e.data.normals=n,o.length>0&&(e.data.colors=o),c.length>0&&(e.data.uvs=[c]),e.data.faces=r,e}clone(){return new B2().copy(this)}copy(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;let t=e.vertices;for(let d=0,h=t.length;d<h;d++)this.vertices.push(t[d].clone());let r=e.colors;for(let d=0,h=r.length;d<h;d++)this.colors.push(r[d].clone());let n=e.faces;for(let d=0,h=n.length;d<h;d++)this.faces.push(n[d].clone());for(let d=0,h=e.faceVertexUvs.length;d<h;d++){let f=e.faceVertexUvs[d];this.faceVertexUvs[d]===void 0&&(this.faceVertexUvs[d]=[]);for(let m=0,p=f.length;m<p;m++){let g=f[m],v=[];for(let x=0,y=g.length;x<y;x++){let b=g[x];v.push(b.clone())}this.faceVertexUvs[d].push(v)}}let i=e.morphTargets;for(let d=0,h=i.length;d<h;d++){let f={};if(f.name=i[d].name,i[d].vertices!==void 0){f.vertices=[];for(let m=0,p=i[d].vertices.length;m<p;m++)f.vertices.push(i[d].vertices[m].clone())}if(i[d].normals!==void 0){f.normals=[];for(let m=0,p=i[d].normals.length;m<p;m++)f.normals.push(i[d].normals[m].clone())}this.morphTargets.push(f)}let o=e.morphNormals;for(let d=0,h=o.length;d<h;d++){let f={};if(o[d].vertexNormals!==void 0){f.vertexNormals=[];for(let m=0,p=o[d].vertexNormals.length;m<p;m++){let g=o[d].vertexNormals[m],v={};v.a=g.a.clone(),v.b=g.b.clone(),v.c=g.c.clone(),f.vertexNormals.push(v)}}if(o[d].faceNormals!==void 0){f.faceNormals=[];for(let m=0,p=o[d].faceNormals.length;m<p;m++)f.faceNormals.push(o[d].faceNormals[m].clone())}this.morphNormals.push(f)}let l=e.skinWeights;for(let d=0,h=l.length;d<h;d++)this.skinWeights.push(l[d].clone());let c=e.skinIndices;for(let d=0,h=c.length;d<h;d++)this.skinIndices.push(c[d].clone());let a=e.lineDistances;for(let d=0,h=a.length;d<h;d++)this.lineDistances.push(a[d]);let s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());let u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}toBufferGeometry(){let e=new pOe().fromGeometry(this),t=new vt,r=new Float32Array(e.vertices.length*3);if(t.setAttribute("position",Dx.call(new kt(r,3),e.vertices)),e.normals.length>0){let n=new Float32Array(e.normals.length*3);t.setAttribute("normal",Dx.call(new kt(n,3),e.normals))}if(e.colors.length>0){let n=new Float32Array(e.colors.length*3);t.setAttribute("color",jB.call(new kt(n,3),e.colors))}if(e.uvs.length>0){let n=new Float32Array(e.uvs.length*2);t.setAttribute("uv",IB.call(new kt(n,2),e.uvs))}if(e.uvs2.length>0){let n=new Float32Array(e.uvs2.length*2);t.setAttribute("uv2",IB.call(new kt(n,2),e.uvs2))}t.groups=e.groups;for(let n in e.morphTargets){let i=[],o=e.morphTargets[n];for(let l=0,c=o.length;l<c;l++){let a=o[l],s=new it(a.data.length*3,3);s.name=a.name,i.push(Dx.call(s,a.data))}t.morphAttributes[n]=i}if(e.skinIndices.length>0){let n=new it(e.skinIndices.length*4,4);t.setAttribute("skinIndex",OB.call(n,e.skinIndices))}if(e.skinWeights.length>0){let n=new it(e.skinWeights.length*4,4);t.setAttribute("skinWeight",OB.call(n,e.skinWeights))}return e.boundingSphere!==null&&(t.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(t.boundingBox=e.boundingBox.clone()),t}computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")}computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}applyMatrix(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}dispose(){this.dispatchEvent({type:"dispose"})}static createBufferGeometryFromObject(e){let t=new vt,r=e.geometry;if(e.isPoints||e.isLine){let n=new it(r.vertices.length*3,3),i=new it(r.colors.length*3,3);if(t.setAttribute("position",Dx.call(n,r.vertices)),t.setAttribute("color",jB.call(i,r.colors)),r.lineDistances&&r.lineDistances.length===r.vertices.length){let o=new it(r.lineDistances.length,1);t.setAttribute("lineDistance",mOe.call(o,r.lineDistances))}r.boundingSphere!==null&&(t.boundingSphere=r.boundingSphere.clone()),r.boundingBox!==null&&(t.boundingBox=r.boundingBox.clone())}else e.isMesh&&(t=r.toBufferGeometry());return t}};B2.prototype.isGeometry=!0;var pOe=class{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){let t=[],r,n,i,o=e.faces;for(n=0;n<o.length;n++){let l=o[n];l.materialIndex!==i&&(i=l.materialIndex,r!==void 0&&(r.count=n*3-r.start,t.push(r)),r={start:n*3,materialIndex:i})}r!==void 0&&(r.count=n*3-r.start,t.push(r)),this.groups=t}fromGeometry(e){let t=e.faces,r=e.vertices,n=e.faceVertexUvs,i=n[0]&&n[0].length>0,o=n[1]&&n[1].length>0,l=e.morphTargets,c=l.length,a;if(c>0){a=[];for(let g=0;g<c;g++)a[g]={name:l[g].name,data:[]};this.morphTargets.position=a}let s=e.morphNormals,u=s.length,d;if(u>0){d=[];for(let g=0;g<u;g++)d[g]={name:s[g].name,data:[]};this.morphTargets.normal=d}let h=e.skinIndices,f=e.skinWeights,m=h.length===r.length,p=f.length===r.length;r.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let g=0;g<t.length;g++){let v=t[g];this.vertices.push(r[v.a],r[v.b],r[v.c]);let x=v.vertexNormals;if(x.length===3)this.normals.push(x[0],x[1],x[2]);else{let b=v.normal;this.normals.push(b,b,b)}let y=v.vertexColors;if(y.length===3)this.colors.push(y[0],y[1],y[2]);else{let b=v.color;this.colors.push(b,b,b)}if(i===!0){let b=n[0][g];b!==void 0?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",g),this.uvs.push(new oe,new oe,new oe))}if(o===!0){let b=n[1][g];b!==void 0?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",g),this.uvs2.push(new oe,new oe,new oe))}for(let b=0;b<c;b++){let w=l[b].vertices;a[b].data.push(w[v.a],w[v.b],w[v.c])}for(let b=0;b<u;b++){let w=s[b].vertexNormals[g];d[b].data.push(w.a,w.b,w.c)}m&&this.skinIndices.push(h[v.a],h[v.b],h[v.c]),p&&this.skinWeights.push(f[v.a],f[v.b],f[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}},KP=class{constructor(e,t,r,n,i,o=0){this.a=e,this.b=t,this.c=r,this.normal=n&&n.isVector3?n:new V,this.vertexNormals=Array.isArray(n)?n:[],this.color=i&&i.isColor?i:new wt,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=o}clone(){return new this.constructor().copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,r=e.vertexNormals.length;t<r;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,r=e.vertexColors.length;t<r;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}};function mOe(e){return this.array.set(e),this}function jB(e){let t=this.array,r=0;for(let n=0,i=e.length;n<i;n++){let o=e[n];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),o=new wt),t[r++]=o.r,t[r++]=o.g,t[r++]=o.b}return this}function IB(e){let t=this.array,r=0;for(let n=0,i=e.length;n<i;n++){let o=e[n];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),o=new oe),t[r++]=o.x,t[r++]=o.y}return this}function Dx(e){let t=this.array,r=0;for(let n=0,i=e.length;n<i;n++){let o=e[n];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),o=new V),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z}return this}function OB(e){let t=this.array,r=0;for(let n=0,i=e.length;n<i;n++){let o=e[n];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),o=new Ut),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z,t[r++]=o.w}return this}var gOe=["a","b","c"];function vOe(e,t){switch(t){case"c":return e.c;case"b":return e.b;case"a":default:return e.a}}function $C(e,t,r){let n=Math.min(e,t),i=Math.max(e,t),o=n+"_"+i;return r.get(o)}function KC(e,t,r,n,i,o){let l=Math.min(e,t),c=Math.max(e,t),a=l+"_"+c,s;if(n.has(a))s=n.get(a);else{let u=r[l],d=r[c];s={a:u,b:d,newEdge:null,faces:[]},n.set(a,s)}s.faces.push(i),o[e].edges.push(s),o[t].edges.push(s)}function yOe(e,t,r,n){let i,o,l;for(i=0,o=e.length;i<o;i++)r[i]={edges:[]};for(i=0,o=t.length;i<o;i++)l=t[i],KC(l.a,l.b,e,n,l,r),KC(l.b,l.c,e,n,l,r),KC(l.c,l.a,e,n,l,r)}function jx(e,t,r,n,i){e.push(new KP(t,r,n,void 0,void 0,i))}function yp(e,t){return Math.abs(t-e)/2+Math.min(e,t)}function Ix(e,t,r,n){e.push([t.clone(),r.clone(),n.clone()])}var bOe=class{constructor(e=1){this.subdivisions=e}modify(e){e instanceof vt?e=new B2().fromBufferGeometry(e):e=e.clone(),e.mergeVertices();let t=this.subdivisions;for(;t-- >0;)this._smooth(e);return e.computeFaceNormals(),e.computeVertexNormals(),e}_smooth(e){let t=new V,r,n,i,o,l,c=e.vertices,a=e.faces,s=e.faceVertexUvs[0],u=s!==void 0&&s.length>0,d=[],h=new Map;yOe(c,a,d,h);let f=[],m,p,g,v,x,y,b;for(let X of Array.from(h.keys())){for(p=h.get(X),g=new V,x=3/8,y=1/8,b=p.faces.length,b!=2&&(x=.5,y=0,b!=1),g.addVectors(p.a,p.b).multiplyScalar(x),t.set(0,0,0),o=0;o<b;o++){for(v=p.faces[o],l=0;l<3&&(m=c[vOe(v,gOe[l])],!(m!==p.a&&m!==p.b));l++);m&&t.add(m)}t.multiplyScalar(y),g.add(t),p.newEdge=f.length,f.push(g)}let w,_,S,E,C,A,T,k=[];for(n=0,i=c.length;n<i;n++){for(A=c[n],C=d[n].edges,r=C.length,r==3?w=3/16:r>3&&(w=3/(8*r)),_=1-r*Number(w),S=w,r<=2&&(r==2?(_=3/4,S=1/8):r==1||r==0),T=A.clone().multiplyScalar(_),t.set(0,0,0),o=0;o<r;o++)E=C[o],m=E.a!==A?E.a:E.b,t.add(m);t.multiplyScalar(Number(S)),T.add(t),k.push(T)}let D=k.concat(f),M=k.length,P,j,O,I=[],N=[],L,B,R,z,W=new oe,U=new oe,H=new oe;for(n=0,i=a.length;n<i;n++)v=a[n],P=Number($C(v.a,v.b,h).newEdge)+M,j=Number($C(v.b,v.c,h).newEdge)+M,O=Number($C(v.c,v.a,h).newEdge)+M,jx(I,P,j,O,v.materialIndex),jx(I,v.a,P,O,v.materialIndex),jx(I,v.b,j,P,v.materialIndex),jx(I,v.c,O,j,v.materialIndex),u&&(L=s[n],B=L[0],R=L[1],z=L[2],W.set(yp(B.x,R.x),yp(B.y,R.y)),U.set(yp(R.x,z.x),yp(R.y,z.y)),H.set(yp(B.x,z.x),yp(B.y,z.y)),Ix(N,W,U,H),Ix(N,B,W,H),Ix(N,R,U,W),Ix(N,z,H,U));e.vertices=D,e.faces=I,u&&(e.faceVertexUvs[0]=N)}},ti=new V,xOe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=e.geometry??(t==null?void 0:t.geometry)??new vt().copy(new nc(100,100,100)),n;t===void 0?(r.computeBoundingBox(),r.boundingBox.getSize(ti),n={width:ti.x,height:ti.y,depth:ti.z,subdivisions:0}):n=t.parameters;let i={...n,...e.parameters};return{parameters:{width:Math.abs(i.width),height:Math.abs(i.height),depth:Math.abs(i.depth),subdivisions:Math.abs(i.subdivisions)},geometry:r}}static build(e){let{width:t,height:r,depth:n,subdivisions:i}=e.parameters,o=e.geometry??new vt().copy(new nc(100,100,100)),l=o.userData.parameters;l===void 0?(o.computeBoundingBox(),o.boundingBox.getSize(ti)):ti.set(l.width,l.height,l.depth),(t!==ti.x||r!==ti.y||n!==ti.z)&&o.scale(ti.x===0?1:t/ti.x,ti.y===0?1:r/ti.y,ti.z===0?1:n/ti.z);let c=o.originalGeometry;try{i>0?(c===void 0||(l==null?void 0:l.subdivisions)!==i)&&(c===void 0&&(c=o),o=new bOe(i).modify(c).toBufferGeometry()):(c!==void 0&&(o=c),c=void 0,o.getAttribute("normal")===void 0&&o.computeVertexNormals())}catch{c!==void 0&&(o=c),c=void 0,o.getAttribute("normal")===void 0&&o.computeVertexNormals()}return c!==void 0&&Object.assign(o,{originalGeometry:c}),delete e.geometry,Object.assign(o,{userData:{...e,type:"NonParametricGeometry"}})}static loadFromUrl(e,t,r){new h$(r).load(e,n=>{let i=this.normalizeInputs({geometry:n});n.boundingBox.getSize(ti);let o=100/ti.x;Object.assign(i.parameters,{width:100,height:ti.y*o,depth:ti.z*o}),t(this.build(i))})}},iQ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters);return{shape:e.shape&&e.shape instanceof wn?e.shape:new wn,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t,height:r,spikes:n,cornerRadius:i,depth:o,extrudeBevelSize:l,extrudeBevelSegments:c}=e.parameters,a=e.shape,s=t*.5,u=r*.5,d=0,h=0,f=2*Math.PI/n;for(let p=0;p<n;p++){let g=f*p,v=d+Math.sin(g)*s,x=h+Math.cos(g)*u;a.addPoint(a.createPoint(v,x))}a.isClosed=!0;for(let p=0,g=a.points.length;p<g;p++)a.points[p].roundness=i;a.roundness=i,a.update();let m=Bf.create({shape:a,parameters:{roundness:i,depth:o,extrudeBevelSize:l,extrudeBevelSegments:c}});return Object.assign(m,{userData:{...e,type:"PolygonGeometry"}})}},wOe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,radialSegments:4,heightSegments:1,cornerRadius:0,cornerSegments:8,openEnded:!1},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:n,radialSegments:i,heightSegments:o,openEnded:l,cornerRadius:c,cornerSegments:a}=e.parameters,s=new SOe(t*.5,r,i,o,l,c,a);return s.scale(1,1,n/t),Object.assign(s,{userData:{...e,type:"PyramidGeometry"}})}};function nv(e,t,r){r.x=e.x*t.x,r.y=e.y,r.z=e.x*t.y}function QC(e,t,r,n,i,o){let l=t.clone().sub(e),c=r.clone().sub(e),a=l.angleTo(c);if(l.normalize(),c.normalize(),n===i){let s=l.add(c).normalize();o.copy(e).addScaledVector(s,n/Math.sin(a/2))}else{let s=l.angleTo(c);o.copy(e),o.addScaledVector(l,i/Math.sin(s)),o.addScaledVector(c,n/Math.sin(s))}}function _Oe(e,t,r){let n=e.clone().sub(t),i=r.clone().sub(t);return n.projectOnVector(i),n.add(t)}var SOe=class extends vt{constructor(e=.5,t=1,r=4,n=1,i=!1,o=0,l=4){super(),r=Math.floor(Math.max(3,r)),n=Math.floor(n),l=Math.floor(l);let c=[],a=[],s=[],u=[],d=0,h=t/2,f=Math.PI/r,m=e*Math.cos(Math.PI/r),p=2*Math.PI/r,g=(r-2)*Math.PI/r,v=Math.PI-g,x=new V(0,-h,0),y=new V(0,h,0),b=new oe(e,-h),w=new oe(m,-h),_=new oe(0,y.y).sub(w),S=new oe(0,y.y).sub(b),E=new oe(_.y,-_.x).normalize(),C=new oe(S.y,-S.x).normalize(),A=e*Math.cos(Math.PI/r)*Math.tan((Math.PI-_.angle())/2)-1e-8;o=Math.min(o,A);let T;{let O=new V(E.x,E.y,0),I=new V(Math.cos(p)*O.x,O.y,Math.sin(p)*O.x);T=O.angleTo(I)}let k=o/Math.tan((Math.PI-_.angle())/2),D=o/Math.tan((Math.PI-T)/2),M=new V;if(!i){a.push(x.x,x.y,x.z),s.push(0,-1,0),u.push(0,0);let O=d++,I=[],N=b.clone(),L=k/Math.cos(Math.PI/r);N.x-=L;for(let B=0;B<r;B++){let R=B/r*Math.PI*2+f,z=new oe(Math.sin(R),Math.cos(R));nv(N,z,M),a.push(M.x,M.y,M.z),s.push(0,-1,0),u.push(0,0),I.push(d++)}for(let B=0;B<I.length;B++)c.push(I[B],O,I[(B+1)%I.length])}{let O=new V,I=new V,N=new V,L=new V,B=new V,R=new V;for(let z=0;z<r;z++){let W=z/r*Math.PI*2+f,U=(z+.5)/r*Math.PI*2+f,H=(z+1)/r*Math.PI*2+f,X=new oe(Math.sin(W),Math.cos(W)),K=new oe(Math.sin(U),Math.cos(U)),Q=new oe(Math.sin(H),Math.cos(H));nv(b,X,I),nv(b,Q,N),nv(E,K,O),QC(y,I,N,D,D,L),a.push(L.x,L.y,L.z),QC(I,y,N,D,k,B),a.push(B.x,B.y,B.z),QC(N,I,y,k,D,R),a.push(R.x,R.y,R.z),s.push(O.x,O.y,O.z),s.push(O.x,O.y,O.z),s.push(O.x,O.y,O.z),u.push(0,0),u.push(0,0),u.push(0,0);let Y=d++,$=d++,J=d++;if(c.push(Y,$,J),o>0){{let ae=I.clone().add(N).multiplyScalar(.5),je=y.clone().sub(ae).normalize(),Ee=x.clone().sub(ae).normalize().add(je).normalize().multiplyScalar(-1),we=R.clone().sub(B);P(ae,we,Ee,_.angle())}let ie,ne;{let ae=new V;nv(C,Q,ae);let je=R.clone().add(L).multiplyScalar(.5);je=_Oe(je,N,y);let Ee=R.clone().sub(L);[ie,ne]=P(je,Ee,ae,T,L.y)}{let ae=ie,je=ae.clone().setY(0).normalize(),Ee=new V(0,-1,0),we=je.clone().cross(Ee);j(ae,je,Ee,we)}{let ae=_.angle(),je=Math.PI-ae,Ee=y.clone();Ee.y-=o/Math.sin(ae-Math.PI/2);let we=new V,De=[];for(let Ie=0;Ie<l;Ie++){let ee=[],q=Math.PI/2-je*Ie/l,le=Math.cos(q),Te=Math.sin(q),te=U;for(let ce=0;ce<=Ie;ce++){let Ce=Math.cos(te),fe=Math.sin(te);O.x=le*fe,O.y=Te,O.z=le*Ce,we.copy(Ee).addScaledVector(O,o),a.push(we.x,we.y,we.z),s.push(O.x,O.y,O.z),u.push(0,0),ee.push(d++),te+=Math.PI*2/Ie/r}De.push(ee)}ne.reverse(),De.push(ne);let Le=De.length-1;for(let Ie=0;Ie<Le;Ie++){let ee=De[Ie],q=De[Ie+1],le=ee.length-1;c.push(q[1],ee[0],q[0]);for(let Te=1;Te<=le;Te++)c.push(ee[Te],ee[Te-1],q[Te]),c.push(q[Te+1],ee[Te],q[Te])}}}}}this.setIndex(c),this.setAttribute("position",new it(a,3)),this.setAttribute("normal",new it(s,3)),this.setAttribute("uv",new it(u,2));function P(O,I,N,L,B){let R=-L/2,z=(Math.PI-L)/2,W=I.clone().normalize().cross(N);O.addScaledVector(N,-o/Math.sin(z));let U=new V,H=new V,X=1,K=d,Q=[];for(let Y=0;Y<=l;Y++){let $=R+Y/l*L;H.set(0,0,0),H.addScaledVector(W,Math.sin($)),H.addScaledVector(N,Math.cos($));for(let J=0;J<=X;J++){let ie=J/X-.5;if(U.copy(O),U.addScaledVector(I,ie),U.addScaledVector(H,o),B!=null){let ne=Math.max(0,U.y-B);U.addScaledVector(I,-ne/I.y)}a.push(U.x,U.y,U.z),s.push(H.x,H.y,H.z),u.push(0,0),J===0&&Q.push(d),d++}}for(let Y=0;Y<l;Y++)for(let $=0;$<X;$++){let J=K+$+(X+1)*Y,ie=J+(X+1),ne=ie+1,ae=J+1;c.push(J,ie,ae),c.push(ie,ne,ae)}return[O.clone().addScaledVector(I,.5),Q]}function j(O,I,N,L){let B=Math.PI/2,R=S.angle()-B,z=[],W=new V,U=new V;for(let X=0;X<=l;X++){let K=[],Q=X/l;for(let Y=0;Y<=X;Y++){let $=((X?Y/X:0)-.5)*v,J=Math.cos($),ie=Math.sin($),ne=Math.atan(Math.tan(R)*J),ae=(B+ne)*Q,je=Math.cos(ae),Ee=Math.sin(ae);W.set(0,0,0),W.addScaledVector(I,Ee*J),W.addScaledVector(N,je),W.addScaledVector(L,Ee*ie),U.copy(O).addScaledVector(W,o),a.push(U.x,U.y,U.z),s.push(W.x,W.y,W.z),u.push(0,0),K.push(d++)}z.push(K)}let H=z.length-1;for(let X=0;X<H;X++){let K=z[X],Q=z[X+1],Y=K.length-1;c.push(K[0],Q[1],Q[0]);for(let $=1;$<=Y;$++)c.push(K[$-1],K[$],Q[$]),c.push(K[$],Q[$+1],Q[$])}}}},oQ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,cornerRadius:[0,0,0,0],cornerType:1,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters),n=Object.assign((t==null?void 0:t.ui)??{enabledIndieCorners:!1},e.ui);return{shape:e.shape&&e.shape instanceof wn?e.shape:new wn,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)}),ui:n}}static build(e){let t=e.shape,{width:r,height:n,cornerRadius:i,cornerType:o,depth:l,extrudeBevelSize:c,extrudeBevelSegments:a}=e.parameters,s={x:r*.5,y:n*.5},u={x:-s.x,y:-s.y},d={x:s.x,y:s.y};function h(b,w,_){return w>r&&_>n?Math.min(b*r/w,b*n/_):w>r?b*r/w:_>n?b*n/_:b}let f=[];f[0]=i[0]===0?0:h(i[0],i[0]+i[3],i[0]+i[1]),f[1]=i[1]===0?0:h(i[1],i[1]+i[2],i[1]+i[0]),f[2]=i[2]===0?0:h(i[2],i[2]+i[1],i[2]+i[3]),f[3]=i[3]===0?0:h(i[3],i[3]+i[0],i[3]+i[2]);let m=u.x,p=d.x,g=d.y,v=u.y;t.addPoint(t.createPoint(m,g)),t.addPoint(t.createPoint(p,g)),t.addPoint(t.createPoint(p,v)),t.addPoint(t.createPoint(m,v)),t.isClosed=!0;let x=!0;for(let b=0,w=t.points.length;b<w;b++)t.points[b].roundness=f[b],b>0&&f[b]!==f[b-1]&&(x=!1);x&&(t.roundness=f[0]),t.useCubicForRoundedCorners=o!==1,t.update();let y=Bf.create({shape:t,parameters:{depth:l,extrudeBevelSize:c,extrudeBevelSegments:a}});return Object.assign(y,{userData:{...e,type:"RectangleGeometry"}})}},EOe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180},e.parameters);return r.thetaLength=pt.clamp(r.thetaLength,0,180),{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t=100,height:r=t,depth:n=t,widthSegments:i=64,heightSegments:o=64,phiStart:l,phiLength:c,thetaStart:a,thetaLength:s}=e.parameters,u;return s===0?(u=new vt,u.setAttribute("position",new it([],3))):u=new Dj(.5*t,i,o,l,c,a,s*pt.DEG2RAD),u.scale(1,r/t,n/t),Object.assign(u,{userData:{...e,type:"SphereGeometry"}})}},AOe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,widthSegments:8,heightSegments:8},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:0})}}static build(e){let{width:t=100,height:r=t,widthSegments:n=8,heightSegments:i=8}=e.parameters,o=new jE(t,r,n,i);return o.scale(1,1,1),Object.assign(o,{userData:{...e,type:"PlaneGeometry"}})}},COe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,angle:90,cornerRadius:24,cornerSegments:8},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:n,angle:i,cornerRadius:o,cornerSegments:l}=e.parameters,c=new MOe(t,r,n,i,o,l);return Object.assign(c,{userData:{...e,type:"BackdropGeometry"}})}},MOe=class extends vt{constructor(e=1,t=1,r=1,n=90,i=10,o=24){super(),this.type="BackdropGeometry";let l=[],c=[],a=[],s=.001;i==0&&(o=1),o=Math.max(1,Math.floor(o)),i=Math.min(i,100),n=Math.min(180-s,n),n*=Math.PI/180;let u=[],d=Math.PI/2,h=(X=0,K=0,Q=0)=>new V(X,K,Q),f=h(),m=h(),[p,g,v]=[t/2,e/2,r/2],x=-g,y=+g,[b,w,_]=[h(x,-p,+v),h(x,-p,-v),h(x,+p,-v)],S=(X,K=!1)=>Math.sin(X-Math.PI/(1+ +K)),E=(X,K=!1)=>Math.cos(X-Math.PI/(1+ +K));_.y=Math.sin(n)*t-p;let C=Math.cos(n)*t-v,A=b.z-s;n<=d?(_.z=Math.min(C,A),_.z==A&&(_.y-=(C-A)/Math.tan(d-n))):w.z=Math.min(w.z-C-v,b.z-s),f.subVectors(b,w),m.subVectors(_,w);let T=Math.min(f.length(),m.length())*i/100,k=T*Math.tan(n/2),D=T/Math.cos(n/2),M=f.clone().normalize().add(m.normalize()).setLength(D).add(w);f.set(0,S(n,!0),E(n,!0)),u.push([_,f.clone()]);let P=(Math.PI-n)/o;for(let X=0;X<=o;X++){let K=d+n+X*P;f.set(0,Math.sin(K)*k,Math.cos(K)*k),f.add(M),m.set(0,S(K),E(K)),u.push([f.clone(),m.clone()])}u.push([b,h(0,1,0)]);let j=Math.sin(P/2)*k*2,O=u.length-1,I=u[0][0].distanceTo(u[1][0]),N=u[O-1][0].distanceTo(u[O][0]),L=I+j*o+N;u[0].push(1);for(let X=0;X<=o;X++)u[X+1].push(1-(I+X*j)/L);u[O].push(0);let[B,R,z]=u[0],W,U,H;for(let X=1;X<u.length;X++)[W,U,H]=u[X],l.push(x,B.y,B.z,x,W.y,W.z,y,B.y,B.z,y,B.y,B.z,x,W.y,W.z,y,W.y,W.z),c.push(0,R.y,R.z,0,U.y,U.z,0,R.y,R.z,0,R.y,R.z,0,U.y,U.z,0,U.y,U.z),a.push(0,z,0,H,1,z,1,z,0,H,1,H),[B,R,z]=[W,U,H];this.setAttribute("position",new it(l,3)),this.setAttribute("normal",new it(c,3)),this.setAttribute("uv",new it(a,2))}},aQ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,innerRadiusPercent:38.19,spikes:5,cornerRadius:0,angle:360,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return{shape:e.shape&&e.shape instanceof wn?e.shape:new wn,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t,height:r,innerRadiusPercent:n,spikes:i,cornerRadius:o,angle:l,depth:c,extrudeBevelSize:a,extrudeBevelSegments:s}=e.parameters,u=e.shape,d=t*.5,h=r*.5,f=0,m=0,p=l*Math.PI/360/i,g=Math.PI/2*3*-1,v=d*n/100,x=h*n/100;if(i===3&&n===50){p=2*Math.PI/i;for(let b=0;b<i;b++){let w=p*b,_=f+Math.sin(w)*d,S=m+Math.cos(w)*h;u.addPoint(u.createPoint(_,S))}}else for(let b=0;b<i;b++){let w=f+Math.cos(g)*d,_=m+Math.sin(g)*h;u.addPoint(u.createPoint(w,_)),g+=p,w=f+Math.cos(g)*v,_=m+Math.sin(g)*x,u.addPoint(u.createPoint(w,_)),g+=p}u.isClosed=!0;for(let b=0,w=u.points.length;b<w;b++)u.points[b].roundness=o;u.roundness=o,u.update();let y=Bf.create({shape:u,parameters:{roundness:o,depth:c,extrudeBevelSize:a,extrudeBevelSegments:s}});return Object.assign(y,{userData:{...e,type:"StarGeometry"}})}},TOe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t,height:r}=e.parameters,n=new jE(t,r);return Object.assign(n,{userData:{...e,type:"TextFrameGeometry"}})}},POe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,radialSegments:32,tubularSegments:64,arc:360,cornerRadius:30,cornerSegments:8},e.parameters),n=Math.abs(r.width),i=Math.abs(r.height??r.width),o=Math.round(Math.abs(r.depth??r.width*.25));return{parameters:Object.assign(r,{width:n,height:i,depth:o})}}static build(e){let{width:t,height:r,depth:n,radialSegments:i,tubularSegments:o,arc:l,cornerRadius:c,cornerSegments:a}=e.parameters,s=kOe(t,r,n,t*.5,l,o,0,0,i,c,a);return s.scale(1,r/t,1),Object.assign(s,{userData:{...e,type:"TorusGeometry"}})}};function kOe(e,t,r,n,i,o,l,c,a,s,u){[t,r]=[r,t],l=t/2;let d=pt.clamp(i/360,0,1);if(d===0){let h=new vt;return h.setAttribute("position",new it([],3)),h}return d===1&&(s=0),new rQ(!0,e,t,r,n,d,o,l,c,a,s,u)}var DOe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,tubularSegments:64,radialSegments:32,p:2,q:3},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width),tube:r.tube??r.width*.125})}}static build(e){let{width:t,tube:r,tubularSegments:n,radialSegments:i,p:o,q:l}=e.parameters,c=t*.5;c!==r&&(c-=r);let a=new o$(c,r,n,i,o,l);return Object.assign(a,{userData:{...e,type:"TorusKnotGeometry"}})}},jOe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1,isRect:!1},e.parameters);return{shape:e.shape&&e.shape instanceof wn?e.shape:new wn,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width*(r.isRect?1:Math.sqrt(3)/2)),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t=100,height:r,cornerRadius:n,depth:i,extrudeBevelSize:o,extrudeBevelSegments:l,isRect:c}=e.parameters,a=e.shape,s=t*.5,u=r*.5;c?(a.addPoint(a.createPoint(-s,u)),a.addPoint(a.createPoint(s,-u)),a.addPoint(a.createPoint(-s,-u))):(a.addPoint(a.createPoint(0,u)),a.addPoint(a.createPoint(s,-u)),a.addPoint(a.createPoint(-s,-u))),a.isClosed=!0;for(let h=0,f=a.points.length;h<f;h++)a.points[h].roundness=n;a.roundness=n,a.update();let d=Bf.create({shape:a,parameters:{roundness:n,depth:i,extrudeBevelSize:o,extrudeBevelSegments:l}});return Object.assign(d,{userData:{...e,type:"TriangleGeometry"}})}};function IOe(e,t){let r=2*Math.PI;return(e%r+r)%r===(t%r+r)%r}var OOe=class{add(e,t,r){if(typeof arguments[0]!="string")for(let n in arguments[0])this.add(n,arguments[0][n],arguments[1]);else(Array.isArray(e)?e:[e]).forEach(function(n){this[n]=this[n]||[],t&&this[n][r?"unshift":"push"](t)},this)}run(e,t){this[e]=this[e]||[],this[e].forEach(function(r){r.call(t&&t.context?t.context:t,t)})}},ROe=class{constructor(e){this.jsep=e,this.registered={}}register(...e){e.forEach(t=>{if(typeof t!="object"||!t.name||!t.init)throw new Error("Invalid JSEP plugin format");this.registered[t.name]||(t.init(this.jsep),this.registered[t.name]=t)})}},ke=class{static get version(){return"1.3.8"}static toString(){return"JavaScript Expression Parser (JSEP) v"+ke.version}static addUnaryOp(e){return ke.max_unop_len=Math.max(e.length,ke.max_unop_len),ke.unary_ops[e]=1,ke}static addBinaryOp(e,t,r){return ke.max_binop_len=Math.max(e.length,ke.max_binop_len),ke.binary_ops[e]=t,r?ke.right_associative.add(e):ke.right_associative.delete(e),ke}static addIdentifierChar(e){return ke.additional_identifier_chars.add(e),ke}static addLiteral(e,t){return ke.literals[e]=t,ke}static removeUnaryOp(e){return delete ke.unary_ops[e],e.length===ke.max_unop_len&&(ke.max_unop_len=ke.getMaxKeyLen(ke.unary_ops)),ke}static removeAllUnaryOps(){return ke.unary_ops={},ke.max_unop_len=0,ke}static removeIdentifierChar(e){return ke.additional_identifier_chars.delete(e),ke}static removeBinaryOp(e){return delete ke.binary_ops[e],e.length===ke.max_binop_len&&(ke.max_binop_len=ke.getMaxKeyLen(ke.binary_ops)),ke.right_associative.delete(e),ke}static removeAllBinaryOps(){return ke.binary_ops={},ke.max_binop_len=0,ke}static removeLiteral(e){return delete ke.literals[e],ke}static removeAllLiterals(){return ke.literals={},ke}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(e){this.expr=e,this.index=0}static parse(e){return new ke(e).parse()}static getMaxKeyLen(e){return Math.max(0,...Object.keys(e).map(t=>t.length))}static isDecimalDigit(e){return e>=48&&e<=57}static binaryPrecedence(e){return ke.binary_ops[e]||0}static isIdentifierStart(e){return e>=65&&e<=90||e>=97&&e<=122||e>=128&&!ke.binary_ops[String.fromCharCode(e)]||ke.additional_identifier_chars.has(String.fromCharCode(e))}static isIdentifierPart(e){return ke.isIdentifierStart(e)||ke.isDecimalDigit(e)}throwError(e){let t=new Error(e+" at character "+this.index);throw t.index=this.index,t.description=e,t}runHook(e,t){if(ke.hooks[e]){let r={context:this,node:t};return ke.hooks.run(e,r),r.node}return t}searchHook(e){if(ke.hooks[e]){let t={context:this};return ke.hooks[e].find(function(r){return r.call(t.context,t),t.node}),t.node}}gobbleSpaces(){let e=this.code;for(;e===ke.SPACE_CODE||e===ke.TAB_CODE||e===ke.LF_CODE||e===ke.CR_CODE;)e=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");let e=this.gobbleExpressions(),t=e.length===1?e[0]:{type:ke.COMPOUND,body:e};return this.runHook("after-all",t)}gobbleExpressions(e){let t=[],r,n;for(;this.index<this.expr.length;)if(r=this.code,r===ke.SEMCOL_CODE||r===ke.COMMA_CODE)this.index++;else if(n=this.gobbleExpression())t.push(n);else if(this.index<this.expr.length){if(r===e)break;this.throwError('Unexpected "'+this.char+'"')}return t}gobbleExpression(){let e=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",e)}gobbleBinaryOp(){this.gobbleSpaces();let e=this.expr.substr(this.index,ke.max_binop_len),t=e.length;for(;t>0;){if(ke.binary_ops.hasOwnProperty(e)&&(!ke.isIdentifierStart(this.code)||this.index+e.length<this.expr.length&&!ke.isIdentifierPart(this.expr.charCodeAt(this.index+e.length))))return this.index+=t,e;e=e.substr(0,--t)}return!1}gobbleBinaryExpression(){let e,t,r,n,i,o,l,c,a;if(o=this.gobbleToken(),!o||(t=this.gobbleBinaryOp(),!t))return o;for(i={value:t,prec:ke.binaryPrecedence(t),right_a:ke.right_associative.has(t)},l=this.gobbleToken(),l||this.throwError("Expected expression after "+t),n=[o,i,l];t=this.gobbleBinaryOp();){if(r=ke.binaryPrecedence(t),r===0){this.index-=t.length;break}i={value:t,prec:r,right_a:ke.right_associative.has(t)},a=t;let s=u=>i.right_a&&u.right_a?r>u.prec:r<=u.prec;for(;n.length>2&&s(n[n.length-2]);)l=n.pop(),t=n.pop().value,o=n.pop(),e={type:ke.BINARY_EXP,operator:t,left:o,right:l},n.push(e);e=this.gobbleToken(),e||this.throwError("Expected expression after "+a),n.push(i,e)}for(c=n.length-1,e=n[c];c>1;)e={type:ke.BINARY_EXP,operator:n[c-1].value,left:n[c-2],right:e},c-=2;return e}gobbleToken(){let e,t,r,n;if(this.gobbleSpaces(),n=this.searchHook("gobble-token"),n)return this.runHook("after-token",n);if(e=this.code,ke.isDecimalDigit(e)||e===ke.PERIOD_CODE)return this.gobbleNumericLiteral();if(e===ke.SQUOTE_CODE||e===ke.DQUOTE_CODE)n=this.gobbleStringLiteral();else if(e===ke.OBRACK_CODE)n=this.gobbleArray();else{for(t=this.expr.substr(this.index,ke.max_unop_len),r=t.length;r>0;){if(ke.unary_ops.hasOwnProperty(t)&&(!ke.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!ke.isIdentifierPart(this.expr.charCodeAt(this.index+t.length)))){this.index+=r;let i=this.gobbleToken();return i||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:ke.UNARY_EXP,operator:t,argument:i,prefix:!0})}t=t.substr(0,--r)}ke.isIdentifierStart(e)?(n=this.gobbleIdentifier(),ke.literals.hasOwnProperty(n.name)?n={type:ke.LITERAL,value:ke.literals[n.name],raw:n.name}:n.name===ke.this_str&&(n={type:ke.THIS_EXP})):e===ke.OPAREN_CODE&&(n=this.gobbleGroup())}return n?(n=this.gobbleTokenProperty(n),this.runHook("after-token",n)):this.runHook("after-token",!1)}gobbleTokenProperty(e){this.gobbleSpaces();let t=this.code;for(;t===ke.PERIOD_CODE||t===ke.OBRACK_CODE||t===ke.OPAREN_CODE||t===ke.QUMARK_CODE;){let r;if(t===ke.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==ke.PERIOD_CODE)break;r=!0,this.index+=2,this.gobbleSpaces(),t=this.code}this.index++,t===ke.OBRACK_CODE?(e={type:ke.MEMBER_EXP,computed:!0,object:e,property:this.gobbleExpression()},this.gobbleSpaces(),t=this.code,t!==ke.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):t===ke.OPAREN_CODE?e={type:ke.CALL_EXP,arguments:this.gobbleArguments(ke.CPAREN_CODE),callee:e}:(t===ke.PERIOD_CODE||r)&&(r&&this.index--,this.gobbleSpaces(),e={type:ke.MEMBER_EXP,computed:!1,object:e,property:this.gobbleIdentifier()}),r&&(e.optional=!0),this.gobbleSpaces(),t=this.code}return e}gobbleNumericLiteral(){let e="",t,r;for(;ke.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(this.code===ke.PERIOD_CODE)for(e+=this.expr.charAt(this.index++);ke.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(t=this.char,t==="e"||t==="E"){for(e+=this.expr.charAt(this.index++),t=this.char,(t==="+"||t==="-")&&(e+=this.expr.charAt(this.index++));ke.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);ke.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+e+this.char+")")}return r=this.code,ke.isIdentifierStart(r)?this.throwError("Variable names cannot start with a number ("+e+this.char+")"):(r===ke.PERIOD_CODE||e.length===1&&e.charCodeAt(0)===ke.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:ke.LITERAL,value:parseFloat(e),raw:e}}gobbleStringLiteral(){let e="",t=this.index,r=this.expr.charAt(this.index++),n=!1;for(;this.index<this.expr.length;){let i=this.expr.charAt(this.index++);if(i===r){n=!0;break}else if(i==="\\")switch(i=this.expr.charAt(this.index++),i){case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=i}else e+=i}return n||this.throwError('Unclosed quote after "'+e+'"'),{type:ke.LITERAL,value:e,raw:this.expr.substring(t,this.index)}}gobbleIdentifier(){let e=this.code,t=this.index;for(ke.isIdentifierStart(e)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(e=this.code,ke.isIdentifierPart(e));)this.index++;return{type:ke.IDENTIFIER,name:this.expr.slice(t,this.index)}}gobbleArguments(e){let t=[],r=!1,n=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let i=this.code;if(i===e){r=!0,this.index++,e===ke.CPAREN_CODE&&n&&n>=t.length&&this.throwError("Unexpected token "+String.fromCharCode(e));break}else if(i===ke.COMMA_CODE){if(this.index++,n++,n!==t.length){if(e===ke.CPAREN_CODE)this.throwError("Unexpected token ,");else if(e===ke.CBRACK_CODE)for(let o=t.length;o<n;o++)t.push(null)}}else if(t.length!==n&&n!==0)this.throwError("Expected comma");else{let o=this.gobbleExpression();(!o||o.type===ke.COMPOUND)&&this.throwError("Expected comma"),t.push(o)}}return r||this.throwError("Expected "+String.fromCharCode(e)),t}gobbleGroup(){this.index++;let e=this.gobbleExpressions(ke.CPAREN_CODE);if(this.code===ke.CPAREN_CODE)return this.index++,e.length===1?e[0]:e.length?{type:ke.SEQUENCE_EXP,expressions:e}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:ke.ARRAY_EXP,elements:this.gobbleArguments(ke.CBRACK_CODE)}}},LOe=new OOe;Object.assign(ke,{hooks:LOe,plugins:new ROe(ke),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},right_associative:new Set,additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});ke.max_unop_len=ke.getMaxKeyLen(ke.unary_ops);ke.max_binop_len=ke.getMaxKeyLen(ke.binary_ops);var Tg=e=>new ke(e).parse(),zOe=Object.getOwnPropertyNames(ke);zOe.forEach(e=>{Tg[e]===void 0&&e!=="prototype"&&(Tg[e]=ke[e])});Tg.Jsep=ke;var NOe="ConditionalExpression",BOe={name:"ternary",init(e){e.hooks.add("after-expression",function(t){if(t.node&&this.code===e.QUMARK_CODE){this.index++;let r=t.node,n=this.gobbleExpression();if(n||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;let i=this.gobbleExpression();if(i||this.throwError("Expected expression"),t.node={type:NOe,test:r,consequent:n,alternate:i},r.operator&&e.binary_ops[r.operator]<=.9){let o=r;for(;o.right.operator&&e.binary_ops[o.right.operator]<=.9;)o=o.right;t.node.test=o.right,o.right=t.node,t.node=r}}else this.throwError("Expected :")}})}};Tg.plugins.register(BOe);var FOe=["+","-","*","/","(",")","==","!=",">","<",">=","<=","and","or","!","%","^",","],UOe=["0","1","2","3","4","5","6","7","8","9","."],VOe=["sin","cos","tan","asin","acos","atan","atan2","sqrt","abs","log","exp","floor","ceil","round","min","max","random"];function HOe(e){return typeof e!="string"?!1:!isNaN(e)&&!isNaN(parseFloat(e))}Tg.addBinaryOp("^",11,!0);function sQ(e,t,r="number"){let n="";for(let l=0;l<e.length;l++){let c=e[l];if("id"in c){let a=e[l-1];if(l>0&&"id"in a){console.error("Two variables in a row",e);return}let s=t.getVariable(c.id),u=ba.getDisplayedValue(s);r==="number"&&ba.isTextValue(s)&&Array.isArray(s.textValue)&&s.textValue.length===1?u=parseFloat(u).toString():r==="boolean"&&ba.isBoolean(s)?u=s?"true":"false":r==="boolean"&&ba.isTextValue(s)&&!Array.isArray(s.textValue)&&(u='"'+u+'"'),n+=u;continue}else if(r==="string"){c.name!=='"'&&c.name!=="+"&&(n+=c.name),c.name==="+"&&n[n.length-1]==="\\"&&(n=n.slice(0,-1)+c.name);continue}if(c.name==="and"){n+="&&";continue}if(c.name==="or"){n+="||";continue}if(c.name==="True"){n+="true";continue}if(c.name==="False"){n+="false";continue}if(r==="boolean"&&!HOe(c.name)&&!UOe.includes(c.name)&&!FOe.includes(c.name)&&!VOe.includes(c.name.replace(/\($/g,""))){n+='"'+c.name+'"';continue}n+=c.name}if(r==="string")return n;if(e.length===0){if(r==="number")return 0;if(r==="boolean")return!1}let i;try{i=Tg(n)}catch(l){console.error(n,l);return}let o;try{o=hr(i)}catch(l){console.error(n,i,l)}return o}function hr(e){switch(e.type){case"BinaryExpression":switch(e.operator){case"==":return+(hr(e.left)===hr(e.right));case"!=":return+(hr(e.left)!==hr(e.right));case">":return+(hr(e.left)>hr(e.right));case">=":return+(hr(e.left)>=hr(e.right));case"<":return+(hr(e.left)<hr(e.right));case"<=":return+(hr(e.left)<=hr(e.right));case"+":return hr(e.left)+hr(e.right);case"-":return hr(e.left)-hr(e.right);case"*":return hr(e.left)*hr(e.right);case"/":return hr(e.left)/hr(e.right);case"%":return hr(e.left)%hr(e.right);case"&&":return hr(e.left)&&hr(e.right);case"||":return hr(e.left)||hr(e.right);case"^":return Math.pow(hr(e.left),hr(e.right));default:throw new Error("Unknown operator: "+e.operator)}case"UnaryExpression":switch(e.operator){case"-":return-hr(e.argument);case"!":return+!hr(e.argument);default:throw new Error("Unknown operator: "+e.operator)}case"Identifier":throw new Error("Unknown identifier: "+e.name);case"Literal":return e.value;case"CallExpression":if(e.callee.type==="Identifier"){if(e.callee.name==="random"){let t=0,r=1;if(e.arguments.length>=1)try{t=hr(e.arguments[0])}catch(n){console.warn(n)}if(e.arguments.length>=2)try{r=hr(e.arguments[1])}catch(n){console.warn(n)}return t=Math.min(r,t),r=Math.max(r,t),t+Math.random()*(r-t)}return Math[e.callee.name].apply(null,e.arguments.map(hr))}else throw new Error("Unknown node");default:throw new Error("Unknown node type: "+e.type)}}var WOe=new Ne,GOe=new Ne;function qOe(e,t,r){let n=[new V,new V,new V],i=[new V,new V,new V];return e.extractBasis(n[0],n[1],n[2]),t.extractBasis(i[0],i[1],i[2]),n.forEach((o,l)=>{let c=i[l],a=pt.lerp(o.length(),c.length(),r);o.lerp(c,r).setLength(a)}),new Ne().makeBasis(n[0],n[1],n[2])}var YOe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,height:100,depth:1,subdivisions:12,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters),n=Math.abs(r.width),i=Math.abs(r.height??r.width),o=Math.abs(r.depth??0),l=(t==null?void 0:t.shapeData)??y6.create({parameters:kK}).userData.shape;return{path:e.path??T2.defaultData(),parameters:Object.assign(r,{width:n,height:i,depth:o,extrusion:{...DK,...r.extrusion}}),shapeData:l}}static build(e){if(e.path.points.length>=2){let t=new XOe(e);return Object.assign(t,{userData:{...e,type:"PathGeometry"}})}else return Object.assign(new vt,{userData:{...e,type:"PathGeometry"}})}},XOe=class extends vt{constructor(e){super(),this.type="PathExtrusionGeometry",this.inputs=e,this.build()}_isGeometryClosed(){return this.inputs.path.isClosed&&this.inputs.parameters.extrusion.depth===1}_isOpenEnded(){let e=this.inputs.parameters.extrusion;return!(this.inputs.path.isClosed&&e.depth===1)||!IOe(e.twist,0)||e.startScale!==e.endScale}build(){let e=this._extractPathPoints();if(e.length<2)return;let t=this._computeBasisMatrices(e),{depth:r,offset:n}=this.inputs.parameters.extrusion;r=Math.max(0,Math.min(r,1)),n=Math.max(0,Math.min(n,1));let i=this.inputs.path.isClosed?e.length:e.length-1,o=Math.floor(n*i),l=this.inputs.path.isClosed?Math.ceil((r+n)*i):Math.ceil(Math.min(1,r+n)*i),c=Math.min(Math.max(2,l-o+1),i+2),a=[],s=[];for(let O=0;O<c;O++){let I=this.inputs.path.isClosed?(O+o)%e.length:Math.min(O+o,e.length-1);a.push(e[I].clone()),s.push(t[I].clone())}let u=(O,I,N)=>{a[O]=a[O].clone().lerp(a[I],N),s[O]=qOe(s[O],s[I],N)},d=0,h=n*i%1;(!this.inputs.path.isClosed||r<=1)&&(h||n===0)&&(d=h,u(0,1,d));let f=0,m=(n+r)*i%1;if((this.inputs.path.isClosed&&r<=1||!this.inputs.path.isClosed&&n+r<1)&&m&&(f=m,u(a.length-1,a.length-2,1-f)),r===0){let O=a.length-1;a[O].copy(a[0]),s[O].copy(s[0])}this._applyPathModifiers(s,d,f);let{bevel:p,bevelSides:g}=this.inputs.parameters.extrusion,v=p>0?this.inputs.parameters.extrusion.capType:"flat",x=5;this.inputs.parameters.extrusion.shape.type==="Custom"&&(x=this.inputs.parameters.extrusion.shape.shapeQuality==="low"?5:12);let{regions:y,infos:b,vertices:w}=this._computeShapePoints(x),_=0,S;v==="round"&&(S=new v6(this.inputs.shapeData,2*p,p,x,g,void 0,!0),_=S.getAttribute("position").count);let E=0,C=0;b.sort((O,I)=>O.start-I.start),b.forEach(O=>{O.verticesStart=E,O.verticesCount=O.continuous.reduce((I,N,L)=>I+(L===0||!N?2:1),0),C+=O.verticesCount,E=C});let A=C*c,T,k=0;if(this._isOpenEnded()&&v==="flat"){try{T=gd({windingRule:Ar.ODD,elementType:Kn.POLYGONS,polySize:3,vertexSize:2,strict:!0,contours:y})}catch{T=$K}k=T.vertexCount}let D=A+2*k+_*2,M=A+2*k,P={positions:new Float32Array(D*3),normals:new Float32Array(D*3),uvs:new Float32Array(D*2)},j=[];if(b.forEach(O=>{this._extrudeRegion(O,w,s,a,P,j,this._isGeometryClosed()&&!this._isOpenEnded())}),T&&(this._closeEnd(T,A,j,P,s[0],a[0],!1),this._closeEnd(T,A+k,j,P,s[s.length-1],a[a.length-1],!0)),S){P.positions.set(S.getAttribute("position").array,M*3),P.normals.set(S.getAttribute("normal").array,M*3),P.uvs.set(S.getAttribute("uv").array,M*2);let O=j.length;j.push(...S.getIndex().array.map(L=>L+M)),M+=_,P.positions.set(S.getAttribute("position").array,M*3),P.normals.set(S.getAttribute("normal").array,M*3),P.uvs.set(S.getAttribute("uv").array,M*2);let I=j.length;j.push(...S.getIndex().array.map(L=>L+M)),this.setAttribute("position",new kt(P.positions,3)),this.setAttribute("normal",new kt(P.normals,3)),this.setAttribute("uv",new kt(P.uvs,2)),this.setIndex(j);let N=WOe;N.copy(s[s.length-1]).setPosition(a[a.length-1]),this.applyMatrix4OnRange(N,M,D),N.copy(s[0]).setPosition(a[0]).multiply(GOe.makeScale(1,1,-1)),this.applyMatrix4OnRange(N,M-_,M),this.reverseIndicesOnRange(O,I)}else this.setAttribute("position",new kt(P.positions,3)),this.setAttribute("normal",new kt(P.normals,3)),this.setAttribute("uv",new kt(P.uvs,2)),this.setIndex(j)}_extractPathPoints(){let e=FK(this.inputs.path).getPoints(this.inputs.path.subdivisions);if(e.length<2)return[];let t=[e[0]];return e.forEach(r=>{t[t.length-1].distanceToSquared(r)>.001&&t.push(r)}),this.inputs.path.isClosed&&t[t.length-1].distanceTo(t[0])<.001&&t.pop(),t}_computeBasisMatrices(e){let t=[],r=e.length,n=this.inputs.path.isClosed,i=new V,o=new V,l=new V,c=new V,a=new V(0,1,0);for(let m=0;m<r;m++){let p=e[m],g;m===0?g=n?e[e.length-2]:p.clone().multiplyScalar(2).sub(e[1]):g=e[m-1];let v;m===r-1?v=n?e[1]:p.clone().multiplyScalar(2).sub(e[m-1]):v=e[m+1];let x=p.clone().sub(g).normalize(),y=v.clone().sub(p).normalize(),b=x.clone().add(y).normalize();l.copy(b),m===0&&(b.equals(a)||b.clone().negate().equals(a))&&a.set(0,0,1);let w=a.clone().cross(b).normalize(),_=b.clone().cross(w).normalize();a.copy(_),c.copy(w),m===0&&(i.copy(_),o.copy(b));let S=new Ne().makeBasis(w,_,b);t.push(S)}let s=n?o:l,u=n?i:new V(0,1,0),d=s.clone().cross(c).normalize(),h=Math.acos(u.dot(d));if(isNaN(h))return t;let f=u.clone().cross(d);s.dot(f)>0&&(h*=-1);for(let m=1;m<t.length;m++){let p=new Ne().makeRotationZ(h*m/t.length);t[m].multiply(p)}return t}_applyPathModifiers(e,t,r){let n=e.length,{angle:i,twist:o,startScale:l,endScale:c}=this.inputs.parameters.extrusion,a=new Ne,s=new Ne;return e.forEach((u,d)=>{let h=d===0?0:d===n-1?1:(d-t)/(n-(r===0?0:1)-(t+(1-r)));a.makeRotationZ(pt.lerp(i,i+o,h)*pt.DEG2RAD);let f=pt.lerp(l,c,h);s.makeScale(f,f,f),u.multiply(a).multiply(s)}),e}_computeShapePoints(e=12,t=Ar.ODD){let r=this.inputs.shapeData,n=r.extractShapePointsToFlatArray([],e),i=r.shapeHoles.map(s=>{let u=s.extractShapePointsToFlatArray([],e),d=[];for(let h=u.length-1;h>=1;h-=2){let f=u[h-1],m=u[h-0];d.push(f,m)}return d}),o;try{o=gd({windingRule:t,elementType:Kn.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[n]})}catch{o=g6}let l;try{l=gd({windingRule:Ar.ODD,elementType:Kn.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...i]})}catch{l=XK}if(!o)throw new Error("error generating geometry");let c=o.elementCount;if(l){o.elementCount+=l.elementCount;for(let s=0;s<l.elements.length;s++){let u=l.elements[s],d=s%2===0?o.vertexCount:0;o.elements.push(u+d)}for(let s=0;s<l.vertexIndices.length;s++){let u=l.vertexIndices[s],d=o.vertexCount;o.vertexIndices.push(u+d)}for(let s=0;s<l.vertices.length;s++){let u=l.vertices[s];o.vertices.push(u)}}for(let s=0,u=o.vertexCount;s<u;s++){let d=s*2;o.vertices[d+0],o.vertices[d+1]}let a=[];for(let s=o.elementCount-1;s>=0;s--){let u=s>=c,d=s*2,h=o.elements[d+0],f=o.elements[d+1],m=h+f,p={start:h,count:f,normals:[],isHole:u,continuous:[],verticesStart:0,verticesCount:0};a.push(p);let g=h,v=m-1,x=h+1,y=r.roundedCurves.length;do{let b=g-h;o.vertices[v*2+0],o.vertices[v*2+1];let w=o.vertices[g*2+0],_=o.vertices[g*2+1],S=o.vertices[x*2+0],E=o.vertices[x*2+1],C=w-S,A=_-E,T=Math.sqrt(C*C+A*A);C/=T,A/=T,p.normals[b*2+0]=-A,p.normals[b*2+1]=C;let k=o.vertexIndices[g];if(Array.isArray(k))p.continuous[b]=!1;else{let[D,M]=r.getCurveIndexFromVertexId(k-1,!0);if(M>0&&M<1)p.continuous[b]=!0;else{let P=M===1?D+1:D-1;P=(P+y)%y;let j=M===1?0:1,O=r.roundedCurves[D].getTangent(M),I=r.roundedCurves[P].getTangent(j);p.continuous[b]=O.dot(I)>.95}}u&&(p.normals[b*2+0]*=-1,p.normals[b*2+1]*=-1),[v,g,x]=[g,x,x+1],x>=m&&(x-=f)}while(x!==h+1)}return{regions:[n,...i],infos:a,vertices:o.vertices}}_insertVertex(e,t,r,n,i){let o=t*2,l=t*3;e.positions[l+0]=r.x,e.positions[l+1]=r.y,e.positions[l+2]=r.z,e.normals[l+0]=n.x,e.normals[l+1]=n.y,e.normals[l+2]=n.z,e.uvs[o+0]=i.x,e.uvs[o+1]=i.y}_extrudeRegion(e,t,r,n,i,o,l){let c=new V,a=new V,s=new V,u=new V,d=new oe;r.forEach((f,m)=>{let p=n[m],g=e.verticesStart*r.length+e.verticesCount*m;for(let v=0;v<e.count;v++){let x=(e.start+v)*2;if(c.set(t[x+0],t[x+1],0),s.copy(c).applyMatrix4(f).add(p),e.continuous[v])u.set(e.normals[v*2+0],e.normals[v*2+1],0);else{let y=v===0?(e.start+e.count-1)*2:x-2;a.set(t[y+0],t[y+1],0),u.copy(c).sub(a),u.set(-u.y,u.x,0),e.isHole||u.negate()}if(u.applyMatrix4(f).normalize(),d.set(v===0?1:v/e.count,m/(r.length-1)),this._insertVertex(i,g,s,u,d),g++,!e.continuous[v]||v===0){if(v===0)u.set(e.normals[v*2+0],e.normals[v*2+1],0),d.set(0,m/(r.length-1));else{let y=v===e.count-1?e.start*2:x+2;a.set(t[y+0],t[y+1],0),u.copy(a).sub(c),u.set(-u.y,u.x,0),e.isHole||u.negate()}u.applyMatrix4(f).normalize(),this._insertVertex(i,g,s,u,d),g++}}});let h=r.length-1;for(let f=0;f<h;f++){let m=e.verticesStart*r.length+e.verticesCount*f,p=e.verticesStart*r.length+e.verticesCount*(f+1),g=0;for(let v=0;v<e.count;v++){(!e.continuous[v]||v===0)&&g++;let x=v===e.count-1?0:g+1,y=m+g,b=m+x,w=p+x,_=p+g;e.isHole?o.push(y,w,b,y,_,w):o.push(y,b,w,y,w,_),g++}}}_closeEnd(e,t,r,n,i,o,l){let c=e.vertexCount,a=new V(0,0,l?-1:1).applyMatrix4(i),s=new V,u=new oe;for(let h=0;h<c;h++){let f=2*h;s.set(e.vertices[f+0],e.vertices[f+1],0).applyMatrix4(i).add(o),this._insertVertex(n,t+h,s,a,u)}let d=e.elements;for(let h=0;h<e.elementCount;h++){let f=3*h,m=d[f+0]+t,p=d[f+(l?1:2)]+t,g=d[f+(l?2:1)]+t;r.push(m,p,g)}}applyMatrix4OnRange(e,t,r){let n=e.elements,i=new In().getNormalMatrix(e).elements,o,l,c,a,s=this.attributes.position,u=this.attributes.normal;if(!s||!u)return;let d=s.array,h=u.array,f=s.itemSize;for(let m=t*f,p=r*f;m<p;m+=f){if(m===t)debugger;o=d[m+0],l=d[m+1],c=d[m+2],a=1/(n[3]*o+n[7]*l+n[11]*c+n[15]),d[m+0]=(n[0]*o+n[4]*l+n[8]*c+n[12])*a,d[m+1]=(n[1]*o+n[5]*l+n[9]*c+n[13])*a,d[m+2]=(n[2]*o+n[6]*l+n[10]*c+n[14])*a,o=h[m+0],l=h[m+1],c=h[m+2],h[m+0]=i[0]*o+i[3]*l+i[6]*c,h[m+1]=i[1]*o+i[4]*l+i[7]*c,h[m+2]=i[2]*o+i[5]*l+i[8]*c}s.needsUpdate=!0,u.needsUpdate=!0}reverseIndicesOnRange(e,t){let r=this.index;if(r){for(let n=e;n<t;n+=3){let i=r.getX(n),o=r.getX(n+1),l=r.getX(n+2);r.setXYZ(n,l,o,i)}r.needsUpdate=!0}}};function lQ(){let e=new vt;return e.setAttribute("position",new kt(new Float32Array([]),3)),e.setIndex(new kt(new Uint16Array([]),1)),e}var $Oe=lQ().attributes,KOe=12,QOe=1,cQ=class extends vt{constructor(e,t){super(),this.charWidths=[],this.charCoords=[],this.wrappedText=[],this.isLowResolution=!1,this.vectorShapes=[],Object.assign(this.attributes,$Oe),this.userData={parameters:e,type:"TextGeometry"};let r=t.getFont(e.font);r!=null&&r.isLoaded?(this.font=r,this.update(e)):this.updateFont(e.font,t).then(()=>{this.update(e),t==null||t.requestRender()})}async updateFont(e,t){let r=t.getFont(e);r&&(this.font=r,await r.loadingPromise)}update(e){let t=this.font;if(this.userData={parameters:e,type:"TextGeometry"},!(t!=null&&t.isLoaded)){console.warn("Cannot update text because its font is not loaded");return}let{width:r,height:n,depth:i,extrudeBevelSize:o,extrudeBevelSegments:l,text:c,textTransform:a}=e,s=ba.getDisplayedValue(c),u=a===2?s.toUpperCase():a===3?s.toLowerCase():s,d=JOe(e,t,u),{shapes:h,charWidths:f,charCoords:m}=t.generateShapes(d,e),p=(typeof r=="number"?r:1)*.5,g=(typeof n=="number"?n:1)*.5,v=h.map(b=>new wn().fromShape(b,!0));this.vectorShapes=v;let x=v.map(b=>Bf.create({shape:b,parameters:{depth:i,extrudeBevelSegments:l,extrudeBevelSize:o,windingRule:i<=0?Ar.NONZERO:Ar.ODD,subdivisions:this.isLowResolution&&i>0?QOe:KOe}})),y=x.length?Vh(x):lQ();y.translate(-p,g,0),this.dispose(),this.wrappedText=d,this.charCoords=m,this.charWidths=f,this.deleteAttribute("extrudeNormal"),Object.entries(y.attributes).forEach(([b,w])=>{this.setAttribute(b,w)}),this.setIndex(y.index),this.computeBoundingSphere()}clone(){let e=gu(new vt,cQ.prototype);return e.copy(this),console.log("CloneGeometry",this,e),e}copy(e){return Object.entries(e.attributes).forEach(([t,r])=>{this.setAttribute(t,r)}),this.setIndex(e.index),this.userData={parameters:{...e.userData.parameters},type:"TextGeometry"},this}async setText(e){this.font&&await this.font.loadingPromise,await this.update({...this.userData.parameters,text:e})}get text(){return this.userData.parameters.text??""}};function JOe(e,t,r){let n=[""],i="";for(let o of r)i+=o,o===" "||o===`
`?(n[n.length-1]+=i,i="",o===`
`&&n.push("")):t.getTextWidth(n[n.length-1]+i,e)>e.width&&(n[n.length-1].length&&n.push(""),t.getTextWidth(n[n.length-1]+i,e)>e.width&&(i.length===1?(n[n.length-1]+=i,i=""):(n[n.length-1]+=i.slice(0,-1),i=i[i.length-1],n.push(""))));return n[n.length-1]+=i,n}var uQ,b6=new Promise(e=>{uQ=e}),RB=!1,Ox;function ZOe(){if(RB)return;if(Ox)return Ox;async function e(){let t="https://unpkg.com/@splinetool/modelling-wasm@0.9.526/build",r=U1(()=>import("./process-B9H0U9ag.js"),[]),[n,i]=await Promise.all([r,fetch(`${t}/process.wasm`).then(c=>c.arrayBuffer())]),o=n.default,l=await o({wasmBinary:i});uQ(l),RB=!0}return Ox=e(),Ox}var eRe=["font"];function F2(e,t,r,n){var s;let i,o,l;e.type==="PathGeometry"?(o=JSON.parse(JSON.stringify(e)),l=[[],["extrusion"]]):(o={...e},l=[[]]);for(let u of l){let d=o;for(let h of u)d=d[h];for(i in d){let h=d[i];H9(h)&&!eRe.includes(i)&&(d[i]=t.getVariable(h,[n.uuid,"geometry",...u,i]),H9(d[i])&&(d[i]=1))}}let c={parameters:o,type:o.type};if(o.type==="PathGeometry")c.path=o.path;else if(o.type==="VectorGeometry"){let u=wn.createFromState(o.shape,o.width,o.height);c.shape=u}else if(o.type==="NonParametricGeometry")o.data.groups&&((s=o.data.groups)==null||s.forEach(u=>u.materialIndex=Math.max(u.materialIndex??0,0))),c.geometry=new h$().parse(o);else if(o.type==="SubdivGeometry"){let u=new uo(o,r);return u.data=e,u}else if(o.type==="TextGeometry")return new cQ(o,t);let a;try{a=FB(c)}catch(u){console.error(u)}if(!a){let u=wn.createFromState(M2.defaultData(),100,100);c.shape=u,a=FB(c)}return a}var tRe=new Ne;function QP(e,t,r,n){let i=e.position.array,o=e.normal.array,l=tRe.makeScale(t,r,n).invert().elements,c,a,s;for(var u=0,d=i.length;u<d;u+=3)i[u]*=t,i[u+1]*=r,i[u+2]*=n,c=o[u],a=o[u+1],s=o[u+2],o[u]=l[0]*c+l[4]*a+l[8]*s,o[u+1]=l[1]*c+l[5]*a+l[9]*s,o[u+2]=l[2]*c+l[6]*a+l[10]*s;e.position.needsUpdate=!0,e.normal.needsUpdate=!0}var Rx=new Rn,bp=new V,_t;b6.then(e=>{_t=e});var LB=new Float32Array([10,10,0,-10,10,0,-10,-10,0,10,-10,0]),zB=new Uint32Array([0,1,2,3]),NB=new Uint8Array([4]),uo=class extends vt{constructor(t,r){super(),this.data=t,this.flatShading=r,this.subdivPointer=0,this.rebuild(),this.freeSubdivPointer()}mutateDirectlyScaleBaked(t,r){this.freeSubdivPointer();let n=this.data.scaleBaked,i=tf.div(r,n);this.subdividedGeometry&&QP(this.subdividedGeometry.attributes,...i),this.originalGeometry&&QP(this.originalGeometry.attributes,...i),this.data=t;let o=this.userData.parameters;this.userData.parameters={width:o.width*i[0],height:o.height*i[1],depth:o.depth*i[2]},this.originalGeometry.boundingSphere.center.multiply(bp.fromArray(i));let l=bp.set(o.width,o.height,o.depth).length();this.originalGeometry.boundingSphere.radius=l/2}ensureSubdivPointer(){return this.subdivPointer===0&&this.rebuild(),this.subdivPointer}rebuild(){let t,r,n;try{({originalGeometry:t,subdividedGeometry:r,subdivPointer:n}=uo.build(this.data,void 0,!this.flatShading,void 0))}catch{t=new nc(100,100,100),n=0}this.subdivPointer=n,this.originalGeometry=t,this.subdividedGeometry=r??void 0;let i=this.subdividedGeometry??this.originalGeometry;Object.assign(this,i),this.calcBoundingBox()}freeSubdivPointer(){this.subdivPointer&&(uo.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0)}dispose(){super.dispose(),this.freeSubdivPointer()}calcBoundingBox(){let t=this.originalGeometry;t.boundingSphere===null&&(t.boundingSphere=new Zo,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=t.boundingSphere));let r=t.attributes.position,n=t.boundingSphere.center;Rx.setFromBufferAttribute(r),Rx.getCenter(n),t.boundingSphere.radius=n.distanceTo(Rx.max),isNaN(t.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),Rx.getSize(bp);let i={width:bp.x,height:bp.y,depth:bp.z};return this.userData.parameters=i,i}static build(t,r,n,i){let o,l,c,a=(t==null?void 0:t.phongAngle)??35;n===!1&&(a=-1),r&&(_t.free_bvh(r),_t.free_subdivision_surface(r));try{o=uo.allocate(t,i)}catch(s){console.error(s,t),o=uo.allocate({positionWASM:LB,indexWASM:zB,verticesPerFaceWASM:NB},i)}if(_t.set_destination_refinement_level(o,0),l=uo.buildLevel(o,!0,a),t.subdivisions>0)try{_t.set_destination_refinement_level(o,t.subdivisions),c=uo.buildLevel(o,!1,a)}catch{try{_t.set_destination_refinement_level(o,t.subdivisions-1),c=uo.buildLevel(o,!1,a)}catch{c=null}}else c=null;return{subdivPointer:o,originalGeometry:l,subdividedGeometry:c}}static primitiveToQuads(t,r,n){t.widthSegments>16&&(t.widthSegments=16),t.heightSegments>16&&(t.heightSegments=16),t.depthSegments>16&&(t.depthSegments=16),t.radialSegments>16&&(t.radialSegments=16),t.type==="DodecahedronGeometry"&&(t.detail=0);let i=t.shape!==void 0||t.path!==void 0?r.geometry:F2(t,n,!1),o;t.type==="TorusGeometry"&&t.arc===Math.PI*2?o=i.getClosedTorusIndicesForBooleanOrSubdiv():o=i.getIndex();let l,c,a,s;({positions:l,triIndices:s}=QE(i.getAttribute("position"),o));let u;if(t.type==="CylinderGeometry"&&t.cornerRadius===0&&t.hollow===0&&t.openEnded===!1){let d=t.radialSegments*t.heightSegments*3*2,h=d+t.radialSegments*3;u=[d,h]}return{indices:c,verticesPerFace:a}=dQ(l,s,i,u),{positions:l,indices:c,verticesPerFace:a}}static allocate(t,r){var b;let n,i,o,l=[],c=[];t.positionWASM&&t.positionWASM.length>0?(n=t.positionWASM,i=t.indexWASM,o=t.verticesPerFaceWASM):(n=LB,i=zB,o=NB);let a=n.length,s=i.length,u=o.length,d=n.length+l.length+c.length,h=i.length+o.length,f=d*Float32Array.BYTES_PER_ELEMENT+h*Uint32Array.BYTES_PER_ELEMENT,m=d*Float32Array.BYTES_PER_ELEMENT,p=_t._malloc(f),g=new Float32Array(_t.HEAPF32.buffer,p,d),v=new Uint32Array(_t.HEAPU32.buffer,p+m,h);g.set(n,0),g.set(l,n.length),g.set(c,n.length+l.length),v.set(i,0),v.set(o,i.length);let x;(b=t==null?void 0:t.scaleBaked)!=null&&b.some(w=>w!==1)&&(x=new Ne().makeScale(...t.scaleBaked)),r&&(x?x.premultiply(r):x=r);let y=x?_t.alloc_subdivision_surface2(p,a,p+m,s,p+m+i.length*Uint32Array.BYTES_PER_ELEMENT,u,x.elements):_t.alloc_subdivision_surface(p,a,p+m,s,p+m+i.length*Uint32Array.BYTES_PER_ELEMENT,u);return _t._free(p),y}static buildLevel(t,r,n,i,o){let l=o?_t.get_mesh_data2(t,r?_t.Level.CONTROL:_t.Level.REFINED,n,o.elements):_t.get_mesh_data(t,r?_t.Level.CONTROL:_t.Level.REFINED,n),c=8,a=_t.HEAPU32.subarray(l>>2,(l>>2)+c),s=a.subarray(4,8),u=0,d=_t.HEAPU32[a[u]>>2],h=_t.HEAPF32.subarray(d>>2,(d>>2)+s[u]);u++;let f=_t.HEAPU32[a[u]>>2],m=_t.HEAPF32.subarray(f>>2,(f>>2)+s[u]);u++;let p=_t.HEAPU32[a[u]>>2],g=_t.HEAPU32.subarray(p>>2,(p>>2)+s[u]);u++;let v=_t.HEAPU32[a[u]>>2],x=_t.HEAPU32.subarray(v>>2,(v>>2)+s[u]);if(u++,i===void 0){let y=new vt;if(y.setIndex(new jm(x,1)),y.setAttribute("position",new it(h,3)),y.setAttribute("normal",new it(m,3)),r){y.setAttribute("faceMap",new jm(g,1));let b=new Float32Array(m.length/3*4).fill(0);y.setAttribute("color",new kt(b,4))}return _t.free_mesh_data(l),y.userData.type="SubdivGeometry",y}i.getAttribute("position").copyArray(h),i.getAttribute("normal").copyArray(m),i.attributes.position.needsUpdate=!0,i.attributes.normal.needsUpdate=!0,_t.free_mesh_data(l)}static freeSubdivPointer(t){_t.free_bvh(t),_t.free_subdivision_surface(t)}static buildControlCageWireframe(t,r,n){let i=_t.get_wireframe_data_for_base_level(t),o=4,l=_t.HEAPU32.subarray(i>>2,(i>>2)+o),c=l.subarray(2,4),a=0,s=_t.HEAPU32[l[a]>>2],u=_t.HEAPF32.subarray(s>>2,(s>>2)+c[a]);a++;let d=_t.HEAPU32[l[a]>>2],h=_t.HEAPU32.subarray(d>>2,(d>>2)+c[a]);if(r===void 0){let f=new vt;f.setAttribute("position",new it(u,3));let m=new Float32Array(u.length);for(let p=0,g=u.length;p<g;)m[p++]=n.r,m[p++]=n.g,m[p++]=n.b;return f.setAttribute("color",new kt(m,3)),f.setIndex(new jm(h,1)),_t.free_wireframe_data_for_base_level(i),f}r.getAttribute("position").copyArray(u),r.attributes.position.needsUpdate=!0,_t.free_wireframe_data_for_base_level(i)}static updateCollabMesh(t,r,n){let i=r===0;i||_t.set_destination_refinement_level(t,r);let o=n?_t.get_topological_data2(t,i?_t.Level.CONTROL:_t.Level.REFINED,n.elements):_t.get_topological_data(t,i?_t.Level.CONTROL:_t.Level.REFINED),l=6,c=_t.HEAPU32.subarray(o>>2,(o>>2)+l),a=c.subarray(3,6),s=0,u=_t.HEAPU32[c[s]>>2],d=new Float32Array(_t.HEAPF32.subarray(u>>2,(u>>2)+a[s]));s++;let h=_t.HEAPU32[c[s]>>2],f=new Uint32Array(_t.HEAPU32.subarray(h>>2,(h>>2)+a[s]));s++;let m=_t.HEAPU32[c[s]>>2],p=new Uint8Array(_t.HEAPU32.subarray(m>>2,(m>>2)+a[s]));return _t.free_topological_data(o),{positions:d,indices:f,verticesPerFace:p}}},BB=["getX","getY","getZ"];function QE(e,t){let r={},n=t?t.count:e.count,i=0,o=[],l=[],c=1e4;for(let s=0;s<n;s++){let u=t?t.getX(s):s,d="";for(let h=0;h<3;h++)d+=`${~~(e[BB[h]](u)*c)},`;if(d in r)o.push(r[d]);else{for(let h=0;h<3;h++)l.push(e[BB[h]](u));r[d]=i,o.push(i),i++}}let a=[];for(let s=0;s<o.length;s+=3)o[s]===o[s+1]||o[s]===o[s+2]||o[s+1]===o[s+2]||a.push(o[s],o[s+1],o[s+2]);return{positions:l,triIndices:a}}var Lx=new V,JC=new V,ZC=new V,eM=new V;function dQ(e,t,r,n){let i=[],o=[];if(r.userData.shape!==void 0&&r.userData.parameters.depth===0&&r.userData.shape.shapeHoles.length===0){let a=r.userData.shape.extractShapePointsToFlatArray([]),s=r.userData.parameters.spikes;if(r.userData.type==="EllipseGeometry"&&s<=24&&s%4===0&&r.userData.parameters.angle>=360){let h=a.length/2/s;a=a.filter((f,m)=>Math.floor(m/2)%h===0)}let u=0;for(let h=0;h<a.length;h+=2)u+=(a[h]-a[(h===0?a.length:h)-2])*(a[h+1]+a[(h===0?a.length:h)-1]);e.length=0;let d=0;if(u<0)for(let h=0;h<a.length;h+=2)e.push(a[h],a[h+1],0),i.push(d++);else for(let h=a.length-2;h>=0;h-=2)e.push(a[h],a[h+1],0),i.push(d++);return o.push(d),{indices:i,verticesPerFace:o}}let l=new Float32Array([r.userData.parameters.depth])[0],c=0;for(;c<t.length;){if(r.useNgonForTopBottomFaceDuringBake){let a=0;if((e[t[c]*3+2]===l||e[t[c]*3+2]===0)&&a++,(e[t[c+1]*3+2]===l||e[t[c+1]*3+2]===0)&&a++,(e[t[c+2]*3+2]===l||e[t[c+2]*3+2]===0)&&a++,a===3)break}if(t[c+1]===t[c+3]&&t[c+2]===t[c+5]||t[c+0]===t[c+3]&&t[c+2]===t[c+4]){Lx.set(e[t[c]*3],e[t[c]*3+1],e[t[c]*3+2]),JC.set(e[t[c+1]*3],e[t[c+1]*3+1],e[t[c+1]*3+2]),ZC.set(e[t[c+4]*3],e[t[c+4]*3+1],e[t[c+4]*3+2]),eM.set(e[t[c+5]*3],e[t[c+5]*3+1],e[t[c+5]*3+2]),JC.sub(Lx).normalize(),ZC.sub(Lx).normalize(),eM.sub(Lx).normalize();let a=JC.cross(ZC).dot(eM);Math.abs(a)>.005||n&&n.some((s,u)=>u%2===1?!1:c>=n[u]&&c<n[u+1])?(i.push(t[c],t[c+1],t[c+2]),o.push(3),c+=3):(i.push(t[c],t[c+1],t[c+4],t[c+5]),o.push(4),c+=6)}else i.push(t[c],t[c+1],t[c+2]),o.push(3),c+=3}if(r.useNgonForTopBottomFaceDuringBake){let a=[],s=[],u=0;for(let d=0,h=0;d<e.length;d+=3,h++)e[d+2]===0&&(a.push(h),u++),e[d+2]===l&&s.push(h);if(r.userData.parameters.extrudeBevelSize===0){let d=s[0];s[0]=s[1],s[1]=d}a.reverse(),i.push(...a,...s),o.push(u,u)}return{indices:i,verticesPerFace:o}}var Ic={};vxe(Ic,{calcBoolean:()=>aRe,calcBooleanTopological:()=>oRe,freeMeshSet:()=>uRe,getMeshSet:()=>sRe,hasOpenEdges:()=>lRe,transformMeshSet:()=>cRe});var hQ,rRe=new Promise(e=>{hQ=e}),zx;function nRe(){if(zx)return zx;async function e(){let t="https://unpkg.com/@splinetool/boolean-wasm@0.9.526/build",r=U1(()=>import("./boolean-BXuROtzL.js"),[]),[n,i]=await Promise.all([r,fetch(`${t}/boolean.wasm`).then(c=>c.arrayBuffer())]),o=n.default,l=await o({wasmBinary:i});hQ(l)}return zx=e(),zx}var Qt,Vm;rRe.then(e=>Qt=e);function iRe(e,t,r){let n,i;e.userData.parameters.type==="TorusGeometry"&&e.userData.parameters.arc===Math.PI*2?i=e.getClosedTorusIndicesForBooleanOrSubdiv():i=e.getIndex();let{positions:o,triIndices:l}=QE(e.getAttribute("position"),i),c;if(t&&r){let{indices:a,verticesPerFace:s}=dQ(o,l,e);c=s.length,n=[];for(let u=0,d=0;u<c;u++){n.push(s[u]);for(let h=0;h<s[u];h++)n.push(a[d++])}}else{let a=l.length;n=Array(a+a/3),c=0;for(let s=0,u=0;u<n.length;)n[u++]=3,c++,n[u++]=l[s++],n[u++]=l[s++],n[u++]=l[s++]}return{positions:o,faceIndices:n,nFaces:c}}function fQ(e){let t=e.length,r=t*Uint32Array.BYTES_PER_ELEMENT,n=t*Float32Array.BYTES_PER_ELEMENT,i=Number.isInteger(e[0])?r:n,o=Qt._malloc(i);return(Number.isInteger(e[0])?new Uint32Array(Qt.HEAPU32.buffer,o,t):new Float32Array(Qt.HEAPF32.buffer,o,t)).set(e,0),o}function pQ(e){switch(e){case 0:return Qt.OP.UNION;case 1:return Qt.OP.INTERSECTION;case 2:return Qt.OP.A_MINUS_B;case 3:return Qt.OP.B_MINUS_A;case 4:return Qt.OP.SYMMETRIC_DIFFERENCE;case 5:return Qt.OP.ALL;default:throw new Error("Unknown boolean operation "+e)}}function oRe(e,t){Vm===void 0&&(Vm=Qt.init_csg());let r=fQ(e),n=Qt.csg_calc_topological(Vm,r,e.length,pQ(t));Qt._free(r);let i=6,o=Qt.HEAPU32.subarray(n>>2,(n>>2)+i),l=o.subarray(3,6),c=0,a=Qt.HEAPU32[o[c]>>2],s=new Float32Array(Qt.HEAPF32.subarray(a>>2,(a>>2)+l[c]));c++;let u=Qt.HEAPU32[o[c]>>2],d=new Uint32Array(Qt.HEAPU32.subarray(u>>2,(u>>2)+l[c]));c++;let h=Qt.HEAPU32[o[c]>>2],f=new Uint8Array(Qt.HEAPU32.subarray(h>>2,(h>>2)+l[c]));return Qt.free_mesh_data(n),{positions:s,indices:d,verticesPerFace:f}}function aRe(e,t,r,n){Vm===void 0&&(Vm=Qt.init_csg());let i=fQ(e),o=Qt.csg_calc(Vm,i,e.length,n,pQ(t));Qt._free(i);let l=5,c=Qt.HEAPU32.subarray(o>>2,(o>>2)+l),a=c.subarray(2,5),s=0,u=Qt.HEAPU32[c[s]>>2],d=Qt.HEAPF32.subarray(u>>2,(u>>2)+a[s]);s++;let h=Qt.HEAPU32[c[s]>>2],f=Qt.HEAPF32.subarray(h>>2,(h>>2)+a[s]);s++;let m=a[s];r.setAttribute("position",new it(d,3)),r.setAttribute("normal",new it(f,3));let p=Qt.HEAPF32.subarray((o>>2)+5,(o>>2)+5+6);return r.boundingSphere===null&&(r.boundingSphere=new Zo),r.boundingSphere.radius=-1,r.userData.parameters={width:p[3]*2,height:p[4]*2,depth:p[5]*2},Qt.free_mesh_data(o),m}function sRe(e,t,r){if(Qt===void 0)return-1;let n,i,o;if(t&&e.userData.positions!==void 0){let g=e.userData;o=g.verticesPerFace.length,n=g.positions,i=Array(g.verticesPerFace.reduce((v,x)=>v+x,0)+o);for(let v=0,x=0,y=0;v<g.verticesPerFace.length;v++){i[y++]=g.verticesPerFace[v];for(let b=0;b<g.verticesPerFace[v];b++)i[y++]=g.indices[x++]}}else({positions:n,faceIndices:i,nFaces:o}=iRe(e,t,r));let l=n.length,c=i.length,a=n.length,s=i.length,u=a*Float32Array.BYTES_PER_ELEMENT+s*Uint32Array.BYTES_PER_ELEMENT,d=a*Float32Array.BYTES_PER_ELEMENT,h=Qt._malloc(u),f=new Float32Array(Qt.HEAPF32.buffer,h,a),m=new Uint32Array(Qt.HEAPU32.buffer,h+d,s);f.set(n,0),m.set(i,0);let p=Qt.get_csg_mesh(h,l,h+d,c,o);return Qt._free(h),p}function lRe(e){return Qt.has_open_edges(e)}function cRe(e,t){Qt.transform_csg_mesh(e,t.elements)}function uRe(e){Qt.free_csg_mesh(e)}var dRe={ConeGeometry:kIe,CubeGeometry:DIe,CylinderGeometry:UK,DodecahedronGeometry:IIe,EllipseGeometry:y6,HelixGeometry:dOe,IcosahedronGeometry:hOe,LatheGeometry:fOe,NonParametricGeometry:xOe,PolygonGeometry:iQ,PyramidGeometry:wOe,RectangleGeometry:oQ,SphereGeometry:EOe,PlaneGeometry:AOe,BackdropGeometry:COe,StarGeometry:aQ,TextFrameGeometry:TOe,TorusGeometry:POe,TorusKnotGeometry:DOe,TriangleGeometry:jOe,PathGeometry:YOe,VectorGeometry:Bf},FB=e=>dRe[e.type].create(e);function xp(e){return e!==null&&"booleanOp"in e}var mQ=class extends h6(vo){constructor(){super(...arguments),this.booleanMeshSetAddress=-1,this.booleanWasTransformed=!1,this.booleanMatrixInvOld=new Ne}updateVisible(e){super.updateVisible(e),this.visible=!xp(this.parent)&&this.visible,xp(this.parent)&&this.parent.invalidateDownstreamBooleanData()}freeBooleanPointer(){this.booleanMeshSetAddress!==-1&&(Ic.freeMeshSet(this.booleanMeshSetAddress),this.booleanMeshSetAddress=-1)}invalidateDownstreamBooleanData(e=!1){return e?this.booleanWasTransformed=!0:this.freeBooleanPointer(),xp(this.parent)?this.parent.invalidateDownstreamBooleanData():this}invalidateUpstreamBooleanData(){this.freeBooleanPointer();for(let e of this.children)e instanceof mQ&&(e.freeBooleanPointer(),xp(e)&&e.invalidateUpstreamBooleanData())}updateTransformState(e,t){let r=super.updateTransformState(e,t);return r&&xp(this.parent)&&this.invalidateDownstreamBooleanData(!0),r}onVariableUpdate(e=!1){super.onVariableUpdate(e),xp(this.parent)&&this.invalidateDownstreamBooleanData(!0)}},Nx=new Rn;function x6(e,t=0,r=e.count,n,i){let o=1/0,l=1/0,c=1/0,a=-1/0,s=-1/0,u=-1/0;for(let d=t;d<r;d++){let h=e.getX(d),f=e.getY(d),m=e.getZ(d);h<o&&(o=h),f<l&&(l=f),m<c&&(c=m),h>a&&(a=h),f>s&&(s=f),m>u&&(u=m)}Nx.min.set(o,l,c),Nx.max.set(a,s,u),Nx.getCenter(n),Nx.getSize(i).multiplyScalar(.5)}var hRe=new vt,fRe=new q1,ea=class extends mQ{constructor(e,t){super(hRe,fRe),this.super_Entity(e,t)}updateState(e,t){this.updateState_Entity(e,t)}updateEntityBoxSize(e,t){let r=this.geometry.getAttribute("position");r!==void 0?x6(r,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:r.count,e,t):super.updateEntityBoxSize(e,t)}},UB=class{constructor(e){e=e??{},this.name=e.name,this.type=e.type,this.node=e.node,this.size=e.size,this.needsUpdate=e.needsUpdate}get value(){return this.node.value}set value(e){this.node.value=e}},Jd=class{constructor(e){this.hashProperties=void 0,this.isNode=!0,this.shortcuts={},this.uuid=pt.generateUUID(),this.type=e,this.name=""}analyze(e,t){t=t??{},e.analyzing=!0,this.build(e.addFlow(t.slot,t.cache,t.context),"v4"),e.clearVertexNodeCode(),e.clearFragmentNodeCode(),e.removeFlow(),e.analyzing=!1}analyzeAndFlow(e,t,r){return r=r??{},this.analyze(e,r),this.flow(e,t,r)}flow(e,t,r){r=r??{},e.addFlow(r.slot,r.cache,r.context);let n={result:this.build(e,t),code:e.clearNodeCode(),extra:e.context.extra};return e.removeFlow(),n}build(e,t,r){t=t??this.getType(e,t);let n=e.getNodeData(r??this);return e.analyzing&&this.appendDepsNode(e,n,t),e.nodes.indexOf(this)===-1&&e.nodes.push(this),this.updateFrame!==void 0&&e.updaters.indexOf(this)===-1&&e.updaters.push(this),this.generate(e,t,r)}updateFrame(e){}generateReadonly(e,t,r,n,i,o){return""}generate(e,t,r,n,i){return""}parse(e,t,r,n){}appendDepsNode(e,t,r){t.deps=(t.deps||0)+1;let n=e.getTypeLength(r);(n>(t.outputMax||0)||this.getType(e,r))&&(t.outputMax=n,t.output=r)}setName(e){this.name=e}getName(){return this.name}getType(e,t){return t==="sampler2D"||t==="samplerCube"?t:this.type}getHash(){let e="{",t,r;for(t in this)r=this[t],r instanceof Jd&&(e+='"'+t+'":'+r.getHash()+",");if(this.hashProperties)for(let n=0;n<this.hashProperties.length;n++)t=this.hashProperties[n],r=this[t],e+='"'+t+'":"'+String(r)+'",';return e+='"id":"'+this.uuid+'"}',e}},pRe=class{constructor(){this.nodes={},this.keywords={}}add(e){this.nodes[e.name]=e}addKeyword(e,t,r){r=r!==void 0?r:!0,this.keywords[e]={callback:t,cache:r}}remove(e){delete this.nodes[e.name]}removeKeyword(e){delete this.keywords[e]}get(e){return this.nodes[e]}getKeyword(e,t){return this.keywords[e].callback(t)}getKeywordData(e){return this.keywords[e]}contains(e){return this.nodes[e]!==void 0}containsKeyword(e){return this.keywords[e]!==void 0}},zo=new pRe,Dr=class extends Jd{constructor(e,t){super(e),this.scope="",t=t??{},this.shared=t.shared!==void 0?t.shared:!0,this.unique=t.unique!==void 0?t.unique:!1}build(e,t,r,n){if(t=t??this.getType(e),this.getShared(e,t)){let i=this.getUnique(e,t);i&&this.uuid===void 0&&(this.uuid=pt.generateUUID()),r=e.getUUID(r??this.getUUID(),!i);let o=e.getNodeData(r),l=o.output||this.getType(e);if(e.analyzing)return(o.deps||0)>0||this.getLabel()?(this.appendDepsNode(e,o,t),this.generate(e,t,r)):super.build(e,t,r);if(i)return o.name=o.name||super.build(e,t,r),o.name;if(!this.getLabel()&&(!this.getShared(e,l)||e.context.ignoreCache||o.deps===1))return super.build(e,t,r);r=this.getUUID(!1);let c=this.getTemp(e,r);if(c)return e.format(c,l,t);{c=super.generate(e,t,r,o.output,n);let a=this.generate(e,l,r);return e.addNodeCode(c+" = "+a+";"),e.format(c,l,t)}}return super.build(e,t,r)}getShared(e,t){return t!=="sampler2D"&&t!=="samplerCube"&&this.shared}getUnique(e,t){return this.unique}setLabel(e){return this.label=e,this}getLabel(){return this.label}getUUID(e){let t=this.uuid;return typeof this.scope=="string"&&(t=this.scope+"-"+t),t}getTemp(e,t){t=t||this.uuid;let r=e.getVars()[t];return r?r.name:void 0}generate(e,t,r,n,i){return this.getShared(e,t)||console.error("TempNode is not shared"),r=r??this.uuid,e.getTempVar(r,n??this.getType(e),i,this.getLabel()).name}},ta=class extends Dr{constructor(e,t){t=t??{},t.shared=t.shared!==void 0?t.shared:!1,super(e,t),this.readonly=!1}setReadonly(e){return this.readonly=e,this.hashProperties=this.readonly?["value"]:void 0,this}getReadonly(){return this.readonly}generate(e,t,r,n,i,o){r=e.getUUID(r??this.getUUID()),n=n??this.getType(e);let l=e.getNodeData(r);return this.getReadonly()&&this.generateReadonly!==void 0?this.generateReadonly(e,t,r,n,i,o):e.isShader("vertex")?(l.vertex||(l.vertex=e.createVertexUniform(n,this,i,o,this.getLabel())),e.format(l.vertex.name,n,t)):(l.fragment||(l.fragment=e.createFragmentUniform(n,this,i,o,this.getLabel())),e.format(l.fragment.name,n,t))}},Pi=class extends ta{constructor(t=0,r){super("v2"),this.nodeType="Vector2",this.value=t instanceof oe?t:new oe(t,r)}get x(){return this.value.x}set x(t){this.value.x=t}get y(){return this.value.y}set y(t){this.value.y=t}generateReadonly(t,r,n,i,o,l){return t.format("vec2("+this.value.x+", "+this.value.y+")",i,r)}},Wa=class extends ta{constructor(e=0,t,r){super("v3"),this.nodeType="Vector3",this.value=e instanceof V?e:new V(e,t,r)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}get z(){return this.value.z}set z(e){this.value.z=e}generateReadonly(e,t,r,n,i,o){return e.format("vec3("+this.value.x+", "+this.value.y+", "+this.value.z+")",n,t)}},Yo=class extends wt{constructor(e,t,r,n){super(e,t,r),this.isColorA=!0,this.a=n}setRGBA(e,t,r,n){super.setRGB(e,t,r),this.a=n}copy(e){return super.copy(e),this.a="a"in e?e.a:1,this}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}setStyle(e,t="srgb"){let r;if(e==="transparent")return this.setRGBA(0,0,0,0),this;if(r=/^((?:rgb|hsl)a?)\(([^)]*)\)/.exec(e)){let n,i=r[1],o=r[2];switch(i){case"rgb":case"rgba":if(n=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.a=i==="rgba"?parseFloat(n[4]):1,super.setStyle(e,t);break;case"hsl":case"hsla":if(n=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)%\s*,\s*(\d*\.?\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.a=i==="hsla"?parseFloat(n[4]):1,super.setStyle(e,t);break}}return super.setStyle(e,t)}get x(){return this.r}get y(){return this.g}get z(){return this.b}get w(){return this.a}set x(e){this.r=e}set y(e){this.g=e}set z(e){this.b=e}set w(e){this.a=e}},Oc=class extends ta{constructor(e){super("v4"),this.nodeType="Vector4",this.value=e instanceof Yo?e:new Yo(e.r,e.g,e.b,e.a)}generateReadonly(e,t,r,n,i,o){return e.format("vec4("+this.value.r+", "+this.value.g+", "+this.value.b+", "+this.value.a+")",n,t)}},mRe=/^\s*([a-z_0-9]+)\s([a-z_0-9]+)\s*\((.*?)\)/i,VB=/[a-z_0-9]+/gi,Ze=class extends Dr{constructor(e,t,r,n,i){super(i),this.src="",this.nodeType="Function",this.useKeywords=!0,this.includes=[],this.extensions={},this.keywords={},this.isMethod=i===void 0,this.isInterface=!1,this.parse(e,t,r,n)}getShared(e,t){return!this.isMethod}getType(e){return e.getTypeByFormat(this.type)}getInputByName(e){if(this.inputs){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}}getIncludeByName(e){if(this.includes){let t=this.includes.length;for(;t--;)if(this.includes[t].name===e)return this.includes[t]}}generate(e,t,r,n,i){let o,l=0,c=this.src;if(this.includes)for(let s=0;s<this.includes.length;s++)e.include(this.includes[s],this);for(let s in this.extensions)e.extensions[s]=!0;let a=[];for(;o=VB.exec(this.src);)a.push(o);for(let s=0;s<a.length;s++){let u=a[s],d=u[0],h=this.isMethod?!this.getInputByName(d):!0,f=d;if(this.keywords[d]||this.useKeywords&&h&&zo.containsKeyword(d)){let m=this.keywords[d];if(!m){let p=zo.getKeywordData(d);p.cache&&(m=e.keywords[d]),m=m||zo.getKeyword(d,e),p.cache&&(e.keywords[d]=m)}f=m.build(e)}d!==f&&c[u.index+l-1]!=="."&&(c=c.substring(0,u.index+l)+f+c.substring(u.index+d.length+l),l+=f.length-d.length),this.getIncludeByName(f)===void 0&&zo.contains(f)&&e.include(zo.get(f))}return t==="source"?c:this.isMethod?(this.isInterface||e.include(this,void 0,c),this.name):e.format("( "+c+" )",this.getType(e),t)}parse(e,t,r,n){if(this.src=e||"",this.includes=t??[],this.extensions=r??{},this.keywords=n??{},this.isMethod){let i=mRe.exec(this.src);if(this.inputs=[],i&&i.length==4){this.type=i[1],this.name=i[2];let o=i[3].match(VB);if(o){let l=0;for(;l<o.length;){let c=o[l++],a;c==="in"||c==="out"||c==="inout"?a=o[l++]:(a=c,c="");let s=o[l++];this.inputs.push({name:s,type:a,qualifier:c})}}this.isInterface=this.src.indexOf("{")===-1}else this.type="",this.name=""}}},gRe=/^([a-z_0-9]+)\s([a-z_0-9]+)\s?\=?\s?(.*?)(\;|$)/i,gQ=class extends Dr{constructor(e="",t){super(),this.src="",this.useDefine=!1,this.nodeType="Const",this.parse(e||gQ.PI,void 0,void 0,void 0,t)}getType(e){return e.getTypeByFormat(this.type)}parse(e,t,r,n,i){this.src=e||"";let o,l,c="",a=gRe.exec(e);this.useDefine=i??this.src.charAt(0)==="#",a&&a.length>1?(l=a[1],o=a[2],c=a[3]):(o=this.src,l="f"),this.name=o,this.type=l,this.value=c}build(e,t){if(t==="source"){if(this.value)return this.useDefine?"#define "+this.name+" "+this.value:"const "+this.type+" "+this.name+" = "+this.value+";";if(this.useDefine)return this.src}return e.include(this),e.format(this.name,this.getType(e),t)}generate(e,t,r,n,i){return e.format(this.name,this.getType(e),t)}},Er=gQ;Er.PI="PI",Er.PI2="PI2",Er.RECIPROCAL_PI="RECIPROCAL_PI",Er.RECIPROCAL_PI2="RECIPROCAL_PI2",Er.LOG2="LOG2",Er.EPSILON="EPSILON";var vRe=new RegExp(`^structs*([a-z_0-9]+)s*{s*((.|
)*?)}`,"gim"),yRe=new RegExp("s*(w*?)s*(w*?)(=|;)","gim"),vQ=class extends Dr{constructor(e=""){super(),this.inputs=[],this.src="",this.nodeType="Struct",this.parse(e)}getType(e){return e.getTypeByFormat(this.name)}getInputByName(e){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}generate(e,t,r,n,i){return t==="source"?this.src+";":e.format("( "+this.src+" )",this.getType(e),t)}parse(e=""){this.src=e,this.inputs=[];let t=vRe.exec(e);if(t){let r=t[2],n;for(;n=yRe.exec(r);)this.inputs.push({type:n[1],name:n[2]});this.name=t[1]}else this.name="";this.type=this.name}},w6=class extends Dr{constructor(e){super("v2",{shared:!1}),this.nodeType="UV",this.index=e??0}generate(e,t){e.requires.uv[this.index]=!0;let r=this.index>0?this.index+1:"",n=e.isShader("vertex")?"uv"+r:"vUv"+r;return e.format(n,this.getType(e),t)}};zo.addKeyword("uv",function(){return new w6});zo.addKeyword("uv2",function(){return new w6(1)});var Up=class extends Dr{constructor(e,t){super("v4"),this.nodeType="ColorSpace",this.input=e,this.method=t??Up.LINEAR_TO_LINEAR,this.hashProperties=["method"]}static getEncodingComponents(e){switch(e){case rc:return["Linear"];case Ft:return["sRGB"];default:return[]}}generate(e,t){var l;let r=this.input.build(e,"v4"),n=this.getType(e),i=Up.Nodes[this.method],o=e.include(i);if(o===Up.LINEAR_TO_LINEAR)return e.format(r,n,t);if(((l=i.inputs)==null?void 0:l.length)===2){let c=this.factor.build(e,"f");return e.format(o+"( "+r+", "+c+" )",n,t)}else return e.format(o+"( "+r+" )",n,t)}fromEncoding(e){let t=Up.getEncodingComponents(e);this.method="LinearTo"+t[0],this.factor=t[1]}fromDecoding(e){let t=Up.getEncodingComponents(e);this.method=t[0]+"ToLinear",this.factor=t[1]}},Vl=Up;Vl.Nodes={LinearToLinear:new Ze(["vec4 LinearToLinear( in vec4 value ) {","	return value;","}"].join(`
`)),sRGBToLinear:new Ze(["vec4 sRGBToLinear( in vec4 value ) {","	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );","}"].join(`
`)),LinearTosRGB:new Ze(["vec4 LinearTosRGB( in vec4 value ) {","	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );","}"].join(`
`))},Vl.LINEAR_TO_LINEAR="LinearToLinear",Vl.SRGB_TO_LINEAR="sRGBToLinear",Vl.LINEAR_TO_SRGB="LinearTosRGB";var Vr=class extends Ze{constructor(e="",t,r,n,i){super(e,i,n,r,t),this.nodeType="Expression"}},Wc=class extends ta{constructor(e=new li,t,r,n){super("v4",{shared:!0}),this.nodeType="Texture",this.value=e,this.uv=t??new w6,this.bias=r,this.project=n!==void 0?n:!1}getTexture(e,t){return super.generate(e,t,this.value.uuid,"t")}generate(e,t){if(t==="sampler2D")return this.getTexture(e,t);let r=this.getTexture(e,t),n=this.uv.build(e,this.project?"v4":"v2"),i=this.bias?this.bias.build(e,"f"):void 0;i===void 0&&e.context.bias&&(i=e.context.bias.setTexture(this).build(e,"f"));let o,l;this.project?o="texture2DProj":o=i?"tex2DBias":"tex2D",i?l=o+"( "+r+", "+n+", "+i+" )":l=o+"( "+r+", "+n+" )";let c={include:e.isShader("vertex"),ignoreCache:!0},a=this.getType(e);return e.addContext(c),this.colorSpace=this.colorSpace??new Vl(new Vr("",a)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(l),l=this.colorSpace.build(e,a),e.removeContext(),e.format(l,a,t)}},at=class extends ta{constructor(e){super("f"),this.nodeType="Float",this.value=e??0}generateReadonly(e,t,r,n,i,o){return e.format(this.value+(this.value%1?"":".0"),n,t)}},HB=class extends Dr{constructor(e,t){super(),this.inputs=[],this.nodeType="FunctionCall",this.value=e,this.inputs=t??[]}getFunction(){return this.value}getType(e){return this.value.getType(e)}generate(e,t,r,n,i){n=this.getType(e);let o=this.value,l=o.build(e,t)+"( ",c=[];if(o.inputs){for(let a=0;a<o.inputs.length;a++){let s=o.inputs[a],u=this.inputs[a]||this.inputs[s.name];c.push(u.build(e,e.getTypeByFormat(s.type)))}l+=c.join(", ")+" )"}return e.format(l,n,t)}},yQ=class extends Dr{constructor(e,t,r=yQ.ADD){super(),this.nodeType="Operator",this.type=e.type,this.a=e,this.b=t,this.op=r}getType(e){let t=this.a.getType(e),r=this.b.getType(e);return e.isTypeMatrix(t)?"v4":e.getTypeLength(r)>e.getTypeLength(t)?r:t}generate(e,t){let r=this.getType(e);this.type=r;let n=this.a.build(e,r),i=this.b.build(e,r);return e.format("( "+n+" "+this.op+" "+i+" )",r,t)}},Do=yQ;Do.ADD="+",Do.SUB="-",Do.MUL="*",Do.DIV="/";var Sr=class extends Dr{constructor(e,t=Sr.ABS,r,n){super(),this.nodeType="Math",this.a=e,typeof t!="string"?this.b=t:n=t,typeof r!="string"?this.c=r:n=r,this.method=n,this.hashProperties=["method"]}getNumInputs(e){switch(this.method){case Sr.MIX:case Sr.CLAMP:case Sr.REFRACT:case Sr.SMOOTHSTEP:case Sr.FACEFORWARD:return 3;case Sr.MIN:case Sr.MAX:case Sr.MOD:case Sr.STEP:case Sr.REFLECT:case Sr.DISTANCE:case Sr.DOT:case Sr.CROSS:case Sr.POW:return 2;default:return 1}}getInputType(e){let t=e.getTypeLength(this.a.getType(e)),r=this.b?e.getTypeLength(this.b.getType(e)):0,n=this.c?e.getTypeLength(this.c.getType(e)):0;return t>r&&t>n?this.a.getType(e):r>n?this.b.getType(e):this.c.getType(e)}getType(e){switch(this.method){case Sr.LENGTH:case Sr.DISTANCE:case Sr.DOT:return"f";case Sr.CROSS:return"v3"}return this.getInputType(e)}generate(e,t){let r,n,i,o=this.a?e.getTypeLength(this.a.getType(e)):0,l=this.b?e.getTypeLength(this.b.getType(e)):0,c=this.c?e.getTypeLength(this.c.getType(e)):0,a=this.getInputType(e),s=this.getType(e);switch(this.type=s,this.method){case Sr.NEGATE:return e.format("( -"+this.a.build(e,a)+" )",a,t);case Sr.INVERT:return e.format("( 1.0 - "+this.a.build(e,a)+" )",a,t);case Sr.CROSS:r=this.a.build(e,"v3"),n=this.b.build(e,"v3");break;case Sr.STEP:r=this.a.build(e,o===1?"f":a),n=this.b.build(e,a);break;case Sr.MIN:case Sr.MAX:case Sr.MOD:r=this.a.build(e,a),n=this.b.build(e,l===1?"f":a);break;case Sr.REFRACT:r=this.a.build(e,a),n=this.b.build(e,a),i=this.c.build(e,"f");break;case Sr.MIX:r=this.a.build(e,a),n=this.b.build(e,a),i=this.c.build(e,c===1?"f":a);break;default:r=this.a.build(e,a),this.b&&(n=this.b.build(e,a)),this.c&&(i=this.c.build(e,a));break}let u=[];u.push(r),n&&u.push(n),i&&u.push(i);let d=this.getNumInputs(e);if(u.length!==d)throw Error(`Arguments not match used in "${this.method}". Require ${d}, currently ${u.length}.`);return e.format(this.method+"( "+u.join(", ")+" )",s,t)}},Nt=Sr;Nt.RAD="radians",Nt.DEG="degrees",Nt.EXP="exp",Nt.EXP2="exp2",Nt.LOG="log",Nt.LOG2="log2",Nt.SQRT="sqrt",Nt.INV_SQRT="inversesqrt",Nt.FLOOR="floor",Nt.CEIL="ceil",Nt.NORMALIZE="normalize",Nt.FRACT="fract",Nt.SATURATE="saturate",Nt.SIN="sin",Nt.COS="cos",Nt.TAN="tan",Nt.ASIN="asin",Nt.ACOS="acos",Nt.ARCTAN="atan",Nt.ABS="abs",Nt.SIGN="sign",Nt.LENGTH="length",Nt.NEGATE="negate",Nt.INVERT="invert",Nt.MIN="min",Nt.MAX="max",Nt.MOD="mod",Nt.STEP="step",Nt.REFLECT="reflect",Nt.DISTANCE="distance",Nt.DOT="dot",Nt.CROSS="cross",Nt.POW="pow",Nt.MIX="mix",Nt.CLAMP="clamp",Nt.REFRACT="refract",Nt.SMOOTHSTEP="smoothstep",Nt.FACEFORWARD="faceforward";var Dv=class extends Dr{constructor(e,t,r){super("v4"),this.nodeType="TextureCubeUV",this.value=e,this.uv=t,this.bias=r}bilinearCubeUV(e,t,r,n){let i=new HB(Dv.Nodes.bilinearCubeUV,[t,r,n]);this.colorSpaceTL=this.colorSpaceTL??new Vl(new Vr("","v4")),this.colorSpaceTL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTL.input.parse(i.build(e)+".tl"),this.colorSpaceTR=this.colorSpaceTR??new Vl(new Vr("","v4")),this.colorSpaceTR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTR.input.parse(i.build(e)+".tr"),this.colorSpaceBL=this.colorSpaceBL??new Vl(new Vr("","v4")),this.colorSpaceBL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBL.input.parse(i.build(e)+".bl"),this.colorSpaceBR=this.colorSpaceBR??new Vl(new Vr("","v4")),this.colorSpaceBR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBR.input.parse(i.build(e)+".br");let o={include:e.isShader("vertex"),ignoreCache:!0};e.addContext(o),this.colorSpaceTLExp=new Vr(this.colorSpaceTL.build(e,"v4"),"v4"),this.colorSpaceTRExp=new Vr(this.colorSpaceTR.build(e,"v4"),"v4"),this.colorSpaceBLExp=new Vr(this.colorSpaceBL.build(e,"v4"),"v4"),this.colorSpaceBRExp=new Vr(this.colorSpaceBR.build(e,"v4"),"v4"),e.removeContext();let l=new Vr("mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )","v4");return l.keywords.cubeUV_TL=this.colorSpaceTLExp,l.keywords.cubeUV_TR=this.colorSpaceTRExp,l.keywords.cubeUV_BL=this.colorSpaceBLExp,l.keywords.cubeUV_BR=this.colorSpaceBRExp,l.keywords.cubeUV=i,l}generate(e,t){if(e.isShader("fragment")){let r=this.uv,n=this.bias||e.context.roughness,i=new HB(Dv.Nodes.roughnessToMip,[n]),o=new Nt(i,Dv.Nodes.m0,Dv.Nodes.cubeUV_maxMipLevel,Nt.CLAMP),l=new Nt(o,Nt.FLOOR),c=new Nt(o,Nt.FRACT),a=this.bilinearCubeUV(e,this.value,r,l),s=this.bilinearCubeUV(e,this.value,r,new Do(l,new at(1).setReadonly(!0),Do.ADD)),u=new Nt(a,s,c,Nt.MIX);return e.format(u.build(e),"v4",t)}else return console.warn("TextureCubeUVNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t)}},JP=Dv;JP.Nodes=function(){let e=new vQ(`struct TextureCubeUVData {
			vec4 tl;
			vec4 tr;
			vec4 br;
			vec4 bl;
			vec2 f;
		}`),t=new Er("float cubeUV_maxMipLevel 8.0",!0),r=new Er("float cubeUV_minMipLevel 4.0",!0),n=new Er("float cubeUV_maxTileSize 256.0",!0),i=new Er("float cubeUV_minTileSize 16.0",!0),o=new Ze(`float getFace(vec3 direction) {
				vec3 absDirection = abs(direction);
				float face = -1.0;
				if (absDirection.x > absDirection.z) {
					if (absDirection.x > absDirection.y)
						face = direction.x > 0.0 ? 0.0 : 3.0;
					else
						face = direction.y > 0.0 ? 1.0 : 4.0;
				} else {
					if (absDirection.z > absDirection.y)
						face = direction.z > 0.0 ? 2.0 : 5.0;
					else
						face = direction.y > 0.0 ? 1.0 : 4.0;
				}
				return face;
		}`);o.useKeywords=!1;let l=new Ze(`vec2 getUV(vec3 direction, float face) {
				vec2 uv;
				if (face == 0.0) {
					uv = vec2(direction.z, direction.y) / abs(direction.x); // pos x
				} else if (face == 1.0) {
					uv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y
				} else if (face == 2.0) {
					uv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z
				} else if (face == 3.0) {
					uv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x
				} else if (face == 4.0) {
					uv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y
				} else {
					uv = vec2(direction.x, direction.y) / abs(direction.z); // neg z
				}
				return 0.5 * (uv + 1.0);
		}`);l.useKeywords=!1;let c=new Ze(`TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
			float face = getFace(direction);
			float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
			mipInt = max(mipInt, cubeUV_minMipLevel);
			float faceSize = exp2(mipInt);
			float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
			vec2 uv = getUV(direction, face) * (faceSize - 1.0);
			vec2 f = fract(uv);
			uv += 0.5 - f;
			if (face > 2.0) {
				uv.y += faceSize;
				face -= 3.0;
			}
			uv.x += face * faceSize;
			if(mipInt < cubeUV_maxMipLevel){
				uv.y += 2.0 * cubeUV_maxTileSize;
			}
			uv.y += filterInt * 2.0 * cubeUV_minTileSize;
			uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
			uv *= texelSize;
			vec4 tl = texture2D(envMap, uv);
			uv.x += texelSize;
			vec4 tr = texture2D(envMap, uv);
			uv.y += texelSize;
			vec4 br = texture2D(envMap, uv);
			uv.x -= texelSize;
			vec4 bl = texture2D(envMap, uv);
			return TextureCubeUVData( tl, tr, br, bl, f );
		}`,[e,o,l,t,r,n,i]);c.useKeywords=!1;let a=new Er("float r0 1.0",!0),s=new Er("float v0 0.339",!0),u=new Er("float m0 -2.0",!0),d=new Er("float r1 0.8",!0),h=new Er("float v1 0.276",!0),f=new Er("float m1 -1.0",!0),m=new Er("float r4 0.4",!0),p=new Er("float v4 0.046",!0),g=new Er("float m4 2.0",!0),v=new Er("float r5 0.305",!0),x=new Er("float v5 0.016",!0),y=new Er("float m5 3.0",!0),b=new Er("float r6 0.21",!0),w=new Er("float v6 0.0038",!0),_=new Er("float m6 4.0",!0),S=[a,s,u,d,h,f,m,p,g,v,x,y,b,w,_],E=new Ze(`float roughnessToMip(float roughness) {
			float mip = 0.0;
			if (roughness >= r1) {
				mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
			} else if (roughness >= r4) {
				mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
			} else if (roughness >= r5) {
				mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
			} else if (roughness >= r6) {
				mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
			} else {
				mip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25
			}
			return mip;
		}`,S);return{bilinearCubeUV:c,roughnessToMip:E,m0:u,cubeUV_maxMipLevel:t}}();var Vp=class extends Dr{constructor(e){super("v3"),this.nodeType="Normal",this.scope=e??Vp.VIEW}getShared(){return this.scope===Vp.WORLD}build(e,t,r,n){let i=e.context[this.scope+"Normal"];return i?i.build(e,t,r,n):super.build(e,t,r)}generate(e,t,r,n,i){let o;switch(this.scope){case Vp.VIEW:e.isShader("vertex")?o="transformedNormal":o="geometryNormal";break;case Vp.LOCAL:e.isShader("vertex")?o="objectNormal":(e.requires.normal=!0,o="vObjectNormal");break;case Vp.WORLD:e.isShader("vertex")?o="inverseTransformDirection( transformedNormal, viewMatrix ).xyz":(e.requires.worldNormal=!0,o="vWNormal");break}return e.format(o,this.getType(e),t)}},Fo=Vp;Fo.LOCAL="local",Fo.WORLD="world",Fo.VIEW="view",Fo.NORMAL="normal";zo.addKeyword("viewNormal",function(){return new Fo(Fo.VIEW)});zo.addKeyword("localNormal",function(){return new Fo(Fo.NORMAL)});zo.addKeyword("worldNormal",function(){return new Fo(Fo.WORLD)});var Tc=class extends Dr{constructor(e){super("v3"),this.nodeType="Position",this.scope=e??Tc.LOCAL}getType(){switch(this.scope){case Tc.PROJECTION:return"v4"}return this.type}getShader(){switch(this.scope){case Tc.LOCAL:case Tc.WORLD:return!1}return!0}generate(e,t,r,n,i){let o;switch(this.scope){case Tc.LOCAL:e.isShader("vertex")?o="transformed":(e.requires.position=!0,o="vPosition");break;case Tc.WORLD:if(e.isShader("vertex"))return"( modelMatrix * vec4( transformed, 1.0 ) ).xyz";e.requires.worldPosition=!0,o="vWPosition";break;case Tc.VIEW:o=e.isShader("vertex")?"-mvPosition.xyz":"vViewPosition";break;case Tc.PROJECTION:o=e.isShader("vertex")?"( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )":"vec4( 0.0 )";break}return e.format(o,this.getType(),t)}},Xs=Tc;Xs.LOCAL="local",Xs.WORLD="world",Xs.VIEW="view",Xs.PROJECTION="projection";zo.addKeyword("position",function(){return new Xs});zo.addKeyword("worldPosition",function(){return new Xs(Xs.WORLD)});zo.addKeyword("viewPosition",function(){return new Xs(Xs.VIEW)});var Sl=class extends Dr{constructor(e){super("v3"),this.nodeType="Reflect",this.scope=e??Sl.CUBE}getUnique(e){return!e.context.viewNormal}getType(){switch(this.scope){case Sl.SPHERE:return"v2"}return this.type}generate(e,t){let r=this.getUnique(e);if(e.isShader("fragment")){let n;switch(this.scope){case Sl.VECTOR:{let i=new Fo(Fo.VIEW),o=e.context.roughness,l=i.build(e,"v3"),c=new Xs(Xs.VIEW).build(e,"v3"),a=o?o.build(e,"f"):void 0,s=`reflect( -normalize( ${c} ), ${l} )`;a&&(s=`normalize( mix( ${s}, ${l}, ${a} * ${a} ) )`);let u=`inverseTransformDirection( ${s}, viewMatrix )`;r?(e.addNodeCode(`vec3 reflectVec = ${u};`),n="reflectVec"):n=u;break}case Sl.CUBE:{let i=new Sl(Sl.VECTOR).build(e,"v3"),o="vec3( -"+i+".x, "+i+".yz )";r?(e.addNodeCode(`vec3 reflectCubeVec = ${o};`),n="reflectCubeVec"):n=o;break}case Sl.SPHERE:{let i="normalize( ( viewMatrix * vec4( "+new Sl(Sl.VECTOR).build(e,"v3")+", 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5";r?(e.addNodeCode(`vec2 reflectSphereVec = ${i};`),n="reflectSphereVec"):n=i;break}}return e.format(n,this.getType(),t)}else return console.warn("ReflectNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.type,t)}},Hm=Sl;Hm.CUBE="cube",Hm.SPHERE="sphere",Hm.VECTOR="vector";var bRe=class extends Dr{constructor(e=new Wc,t,r){super("v4"),this.nodeType="TextureCube",this.value=e,this.radianceNode=new JP(this.value,t??new Hm(Hm.VECTOR),r),this.irradianceNode=new JP(this.value,new Fo(Fo.WORLD),new at(1).setReadonly(!0))}generate(e,t){return e.isShader("fragment")?(e.require("irradiance"),e.context.bias&&e.context.bias.setTexture(this.value),(e.slot==="irradiance"?this.irradianceNode:this.radianceNode).build(e,t)):(console.warn("TextureCubeNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t))}},xRe=class extends ta{constructor(e=new _j,t,r){super("v4",{shared:!0}),this.nodeType="CubeTexture",this.value=e,this.uv=t??new Hm,this.bias=r}getTexture(e,t){return super.generate(e,t,this.value.uuid,"tc")}generate(e,t){var a;if(t==="samplerCube")return this.getTexture(e,t);let r=this.getTexture(e,t),n=(a=this.uv)==null?void 0:a.build(e,"v3"),i=this.bias?this.bias.build(e,"f"):void 0;i===void 0&&e.context.bias&&(i=e.context.bias.setTexture(this).build(e,"f"));let o;i?o="texCubeBias( "+r+", "+n+", "+i+" )":o="texCube( "+r+", "+n+" )";let l={include:e.isShader("vertex"),ignoreCache:!0},c=this.getType(e);return e.addContext(l),this.colorSpace=this.colorSpace??new Vl(new Vr("",c)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(o),o=this.colorSpace.build(e,c),e.removeContext(),e.format(o,c,t)}},wRe=`
uniform int frameIndex;
uniform vec2 resolution;
uniform mat4 previousModelViewMatrix;
uniform mat4 previousProjectionMatrix;

varying vec4 vCurrentPosition;
varying vec4 vPreviousPosition;
`,_Re=`
layout(location = 1) out vec4 gVelocity;

uniform int frameIndex;
uniform vec2 resolution;

varying vec4 vCurrentPosition;
varying vec4 vPreviousPosition;

const vec2 haltonSequence[16] = vec2[16](
vec2( 0.000000,-0.333334),
vec2(-0.500000, 0.333334),
vec2( 0.500000,-0.777778),
vec2(-0.750000,-0.111112),
vec2( 0.250000, 0.555556),
vec2(-0.250000,-0.555556),
vec2( 0.750000, 0.111112),
vec2(-0.875000, 0.777778),
vec2(0.125000, -0.925926),
vec2(-0.375000, -0.259260),
vec2(0.625000, 0.407408),
vec2(-0.625000, -0.703704),
vec2(0.375000, -0.037038),
vec2(-0.125000, 0.629630),
vec2(0.875000, -0.481482),
vec2(-0.937500, 0.185186));

vec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {
  const float goldenAngle = 2.399963f; // radians
  float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));
  float theta = float(sampleIndex) * goldenAngle + angle;
  float sine = sin(theta);
  float cosine = cos(theta);
  return vec2(cosine, sine) * r;
}

// Derived from the interleaved gradient function from Jimenez 2014 http:goo.gl/eomGso
float getNoiseInterleavedGradient(vec2 screenPos) {
    vec3 magic = vec3(0.06711056f, 0.00583715f, 52.9829189f);
    return fract(magic.z * fract(dot(screenPos, magic.xy)));
}

`,SRe=`
// TODO: This could be generated CPU side and passed to the shader every frame
const vec2 haltonSequence[16] = vec2[16](
vec2( 0.000000,-0.333334),
vec2(-0.500000, 0.333334),
vec2( 0.500000,-0.777778),
vec2(-0.750000,-0.111112),
vec2( 0.250000, 0.555556),
vec2(-0.250000,-0.555556),
vec2( 0.750000, 0.111112),
vec2(-0.875000, 0.777778),
vec2(0.125000, -0.925926),
vec2(-0.375000, -0.259260),
vec2(0.625000, 0.407408),
vec2(-0.625000, -0.703704),
vec2(0.375000, -0.037038),
vec2(-0.125000, 0.629630),
vec2(0.875000, -0.481482),
vec2(-0.937500, 0.185186));

// TODO: Pass correct view size
vec2 offset = haltonSequence[frameIndex];
offset.x /= resolution.x;
offset.y /= resolution.y;

vec4 currentPosition = gl_Position;
vec4 currentPositionJittered = currentPosition + (vec4(offset.x, offset.y, 0.0, 0.0) * currentPosition.w);

// We want to calculate the velocity with unjittered positions
// so that things that are not moving get a velocity = 0
vCurrentPosition = currentPosition;
vPreviousPosition = previousProjectionMatrix * previousModelViewMatrix * vec4(transformed, 1.0);
#ifdef OUTLINE_COMPENSATION
vPreviousPosition.xy += OUTLINE_COMPENSATION;
#endif
gl_Position = currentPositionJittered;

`,ERe=`
vec2 oldPos = vPreviousPosition.xy;
    oldPos /= vPreviousPosition.w;
    oldPos.xy = (oldPos.xy+1.)/2.0;

vec2 newPos = vCurrentPosition.xy;
    newPos /= vCurrentPosition.w;
    newPos.xy = (newPos.xy+1.)/2.0;

vec2 velocity = (newPos - oldPos);

// Discard fully transparent pixels 
if (gl_FragColor.a <= 0.0) discard;

gVelocity = vec4(velocity, 0.0, 1.0);
`,WB=["x","y","z","w"],ARe=["float","vec2","vec3","vec4"],CRe={float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat4:"v4",int:"i",bool:"b","float[]":"f[]","vec4[]":"v4[]"},MRe={t:"sampler2D",tc:"samplerCube",b:"bool",i:"int",f:"float",c:"vec3",v2:"vec2",v3:"vec3",v4:"vec4",m3:"mat3",m4:"mat4","f[]":"float[]","v4[]":"vec4[]"},TRe=class{constructor(){this.includes={consts:{},functions:{},structs:{}},this.cache="",this.slot="",this.shader="",this.context={},this.needsJitter=!0,this.getIncludesCode=function(){function e(t,r){return t.deps.length-r.deps.length}return function(t,r){let n=this.getIncludes(t,r);if(!n)return"";let i="";n=n.sort(e);for(let o=0;o<n.length;o++)n[o].src&&(i+=n[o].src+`
`);return i}}(),this.slots=[],this.caches=[],this.contexts=[],this.keywords={},this.nodeData={},this.fragmentVariables={},this.fragmentParsVariables={},this.vertexParsVariables={},this.requires={uv:[],color:[],transparent:!1,irradiance:!1,position:!1,worldPosition:!1,normal:!1,worldNormal:!1,vWorldViewDir:!1,modelMatrix:!1,viewMatrix:!1,projectionMatrix:!1},this.includes={consts:[],functions:[],structs:[]},this.attributes={},this.prefixCode=["#ifdef TEXTURE_LOD_EXT","	#define texCube(a, b) textureCube(a, b)","	#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)","	#define tex2D(a, b) texture2D(a, b)","	#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)","#else","	#define texCube(a, b) textureCube(a, b)","	#define texCubeBias(a, b, c) textureCube(a, b, c)","	#define tex2D(a, b) texture2D(a, b)","	#define tex2DBias(a, b, c) texture2D(a, b, c)","#endif",`
			// NOTE: Include Spline's blending modes. This could be part of BlendNode
			#define SPE_BLENDING_NORMAL 0
			#define SPE_BLENDING_MULTIPLY 1
			#define SPE_BLENDING_SCREEN 2
			#define SPE_BLENDING_OVERLAY 3

			vec3 spe_normalBlend( vec3 a, vec3 b, float alpha ) {
				return mix( a, b, alpha );
			}

			vec3 spe_multiplyBlend( vec3 a, vec3 b, float alpha ) {
				return mix( a, a * b, alpha );
			}

			vec3 spe_screenBlend( vec3 a, vec3 b, float alpha ) {
				vec3 tmp = 1.0 - ( 1.0 - a ) * ( 1.0 - b );
				return mix( a, tmp, alpha );
			}

			vec3 spe_overlayBlend( vec3 a, vec3 b, float alpha ) {
				vec3 tmp = mix( 1. - 2. * (1. - a) * (1. - b), 2. * a * b, step( a, vec3(.5) ) );
				return clamp( mix( a, tmp, alpha ), 0.0, 1.0 );
			}

			vec3 spe_blend( vec3 a, vec3 b, float alpha, int mode ) {
				if ( mode == SPE_BLENDING_NORMAL ) return spe_normalBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_MULTIPLY ) return spe_multiplyBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_SCREEN ) return spe_screenBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_OVERLAY ) return spe_overlayBlend( a, b, alpha );
				return vec3( 1.0 );
			}
			`,"#include <packing>","#include <common>"].join(`
`),this.parsCode={vertex:["float neighbor_offset = 0.0001;",""].join(`
`),fragment:["float accumAlpha = 0.0;",`void accumulateAlpha(float alpha) {
					accumAlpha += (1.0 - accumAlpha) * alpha;
				}`,""].join(`
`)},this.code={vertex:"",fragment:""},this.nodeCode={vertex:"",fragment:""},this.resultCode={vertex:"",fragment:""},this.finalCode={vertex:"",fragment:""},this.inputs={uniforms:{list:[],vertex:[],fragment:[]},arrayUniforms:{list:[],vertex:[],fragment:[]},vars:{varying:[],vertex:[],fragment:[]}},this.defines={},this.uniforms={},this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.updaters=[],this.nodes=[],this.analyzing=!1}build(e,t){this.addVertexParsCode(wRe),this.addFragmentParsCode(_Re),this.buildShader("vertex",e),this.buildShader("fragment",t);for(let r=0;r<this.requires.uv.length;r++)if(this.requires.uv[r]){let n=r>0?r+1:"";this.addVaryCode("varying vec2 vUv"+n+";"),r>0&&this.addVertexParsCode("attribute vec2 uv"+n+";"),this.addVertexFinalCode("vUv"+n+" = uv"+n+";")}return this.requires.color[0]&&(this.addVaryCode("varying vec4 vColor;"),this.addVertexParsCode("attribute vec4 color;"),this.addVertexFinalCode("vColor = color;")),this.requires.color[1]&&(this.addVaryCode("varying vec4 vColor2;"),this.addVertexParsCode("attribute vec4 color2;"),this.addVertexFinalCode("vColor2 = color2;")),this.requires.position&&(this.addVaryCode("varying vec3 vPosition;"),this.addVertexFinalCode("vPosition = transformed;")),this.requires.worldPosition,this.requires.normal&&(this.addVaryCode("varying vec3 vObjectNormal;"),this.addVertexFinalCode("vObjectNormal = normal;")),this.requires.modelMatrix&&this.addFragmentParsCode("uniform mat4 modelMatrix;"),this.requires.viewMatrix&&this.addFragmentParsCode("uniform mat4 viewMatrix;"),this.requires.projectionMatrix&&this.addFragmentParsCode("uniform mat4 projectionMatrix;"),this.requires.worldNormal&&(this.addVaryCode("varying vec3 vWNormal;"),this.addVertexFinalCode("vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;")),this.requires.vWorldViewDir&&(this.addVaryCode("varying vec3 vWorldViewDir;"),this.addVertexFinalCode("vWorldViewDir = isPerspectiveMatrix( projectionMatrix ) ?  ( (modelMatrix * vec4(position, 1.0)).xyz - cameraPosition ) : vec3( -viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2] );")),this.needsJitter&&(this.addVertexFinalCode(SRe),this.addFragmentFinalCode(ERe)),this}buildShader(e,t){this.resultCode[e]=t.build(this.setShader(e),"v4")}setMaterial(e,t){return this.defines={},this}addFlow(e,t,r){return this.addSlot(e).addCache(t).addContext(r)}removeFlow(){return this.removeSlot().removeCache().removeContext()}addCache(e){return this.cache=e??"",this.caches.push(this.cache),this}removeCache(){return this.caches.pop(),this.cache=this.caches[this.caches.length-1]||"",this}addContext(e){return this.context=Object.assign({},this.context,e),this.context.extra=this.context.extra||{},this.contexts.push(this.context),this}removeContext(){return this.contexts.pop(),this.context=this.contexts[this.contexts.length-1]||{},this}addSlot(e){return this.slot=e||"",this.slots.push(this.slot),this}removeSlot(){return this.slots.pop(),this.slot=this.slots[this.slots.length-1]||"",this}addFragmentVariable(e,t){this.fragmentVariables[e]===void 0&&(this.addFragmentCode(`${t} ${e};`),this.fragmentVariables[e]="")}addFragmentParsVariable(e,t){this.fragmentParsVariables[e]===void 0&&(this.addFragmentParsCode(`${t} ${e};`),this.fragmentParsVariables[e]="")}addVertexParsVariable(e,t){this.vertexParsVariables[e]===void 0&&(this.addVertexParsCode(`${t} ${e};`),this.vertexParsVariables[e]="")}addVertexCode(e){this.addCode(e,"vertex")}addFragmentCode(e){this.addCode(e,"fragment")}addCode(e,t){this.code[t??this.shader]+=e+`
`}addVertexNodeCode(e){this.addNodeCode(e,"vertex")}addFragmentNodeCode(e){this.addNodeCode(e,"fragment")}addNodeCode(e,t){this.nodeCode[t??this.shader]+=e+`
`}clearNodeCode(e){e=e??this.shader;let t=this.nodeCode[e];return this.nodeCode[e]="",t}clearVertexNodeCode(){return this.clearNodeCode("vertex")}clearFragmentNodeCode(){return this.clearNodeCode("fragment")}addVertexFinalCode(e){this.addFinalCode(e,"vertex")}addFragmentFinalCode(e){this.addFinalCode(e,"fragment")}addFinalCode(e,t){this.finalCode[t??this.shader]+=e+`
`}addVertexParsCode(e){this.addParsCode(e,"vertex")}addFragmentParsCode(e){this.addParsCode(e,"fragment")}addParsCode(e,t){this.parsCode[t??this.shader]+=e+`
`}addVaryCode(e){this.addVertexParsCode(e),this.addFragmentParsCode(e)}isCache(e){return this.caches.indexOf(e)!==-1}isSlot(e){return this.slots.indexOf(e)!==-1}define(e,t){this.defines[e]=t===void 0?1:t}require(e){this.requires[e]=!0}isDefined(e){return this.defines[e]!==void 0}getVar(e,t,r,n="varying",i="V",o=""){let l=this.getVars(n),c=l[e];if(!c){let a=l.length;c={name:r||"node"+i+a+(o?"_"+o:""),type:t},l.push(c),l[e]=c}return c}getTempVar(e,t,r,n){return this.getVar(e,t,r,this.shader,"T",n)}getAttribute(e,t){if(!this.attributes[e]){let r=this.getVar(e,t);this.addVertexParsCode("attribute "+t+" "+e+";"),this.addVertexFinalCode(r.name+" = "+e+";"),this.attributes[e]={varying:r,name:e,type:t}}return this.attributes[e]}getCode(e){return[this.prefixCode,this.parsCode[e],this.getVarListCode(this.getVars("varying"),"varying"),this.getVarListCode(this.inputs.uniforms[e],"uniform"),this.getVarListCode(this.inputs.arrayUniforms[e],"uniform"),this.getIncludesCode("consts",e),this.getIncludesCode("structs",e),this.getIncludesCode("functions",e),"void main() {",this.getVarListCode(this.getVars(e)),this.code[e],this.resultCode[e],this.finalCode[e],"}"].join(`
`)}getVarListCode(e,t){t=t??"";let r="";for(let n=0,i=e.length;n<i;++n){let o=e[n],l=o.type,c=o.name,a=o.size,s=this.getFormatByType(l);if(s===void 0)throw new Error("Node pars "+s+" not found.");s.includes("[]")?r+=t+" "+s.substring(0,s.length-2)+" "+c+`[${a}];
`:r+=t+" "+s+" "+c+`;
`}return r}getVars(e){return this.inputs.vars[e??this.shader]}getNodeData(e){let t=e instanceof Jd?e.uuid:e;return this.nodeData[t]=this.nodeData[t]||{}}createUniform(e,t,r,n,i,o){if(t.includes("[]")){let l=this.inputs.arrayUniforms,c=l.list.length,a=new UB({type:t,size:r.size,name:n||"nodeUA"+c+(o?"_"+o:""),node:r,needsUpdate:i});return l.list.push(a),l[e].push(a),l[e][a.name]=a,this.uniforms[a.name]=a,a}else{let l=this.inputs.uniforms,c=l.list.length,a=new UB({type:t,name:n||"nodeU"+c+(o?"_"+o:""),node:r,needsUpdate:i});return l.list.push(a),l[e].push(a),l[e][a.name]=a,this.uniforms[a.name]=a,a}}createVertexUniform(e,t,r,n,i){return this.createUniform("vertex",e,t,r,n,i)}createFragmentUniform(e,t,r,n,i){return this.createUniform("fragment",e,t,r,n,i)}include(e,t,r){var o;let n;if(e=typeof e=="string"?zo.get(e):e,this.context.include===!1)return e.name;e instanceof Ze?n=this.includes.functions:e instanceof Er?n=this.includes.consts:e instanceof vQ&&(n=this.includes.structs);let i=n[this.shader]=n[this.shader]||[];if(e){let l=i[e.name];if(l||(l=i[e.name]={node:e,deps:[]},i.push(l),l.src=e.build(this,"source")),e instanceof Ze&&t&&i[t.name]&&i[t.name].deps.indexOf(e)===-1&&(i[t.name].deps.push(e),(o=e.includes)==null?void 0:o.length)){let c=0;do this.include(e.includes[c++],t);while(c<e.includes.length)}return r&&(l.src=r),e.name}else throw new Error("Include not found.")}colorToVectorProperties(e){return e.replace("r","x").replace("g","y").replace("b","z").replace("a","w")}colorToVector(e){return e.replace(/c/g,"v3")}getIncludes(e,t){return this.includes[e][t||this.shader]}getConstructorFromLength(e){return ARe[e-1]}isTypeMatrix(e){return/^m/.test(e)}getTypeLength(e){return e==="f"?1:parseInt(this.colorToVector(e).substr(1))}getTypeFromLength(e){return e===1?"f":"v"+e}findNode(...e){for(let t=0;t<arguments.length;t++){let r=e[t];if(r!=null&&r.isNode)return r}}resolve(...e){for(let t=0;t<arguments.length;t++){let r=e[t];if(r!==void 0){if(r.isNode)return r;if(r.isTexture)switch(r.mapping){case bf:case xf:return new xRe(r);case W1:return new bRe(new Wc(r));default:return new Wc(r)}else{if(r.isVector2)return new Pi(r);if(r.isVector3)return new Wa(r);if(r.isVector4)return new Oc(r)}}}}format(e,t,r){switch(this.colorToVector(r+" <- "+t)){case"f <- v2":return e+".x";case"f <- v3":return e+".x";case"f <- v4":return e+".x";case"f <- i":case"f <- b":return"float( "+e+" )";case"v2 <- f":return"vec2( "+e+" )";case"v2 <- v3":return e+".xy";case"v2 <- v4":return e+".xy";case"v2 <- i":case"v2 <- b":return"vec2( float( "+e+" ) )";case"v3 <- f":return"vec3( "+e+" )";case"v3 <- v2":return"vec3( "+e+", 0.0 )";case"v3 <- v4":return e+".xyz";case"v3 <- i":case"v3 <- b":return"vec2( float( "+e+" ) )";case"v4 <- f":return"vec4( "+e+" )";case"v4 <- v2":return"vec4( "+e+", 0.0, 1.0 )";case"v4 <- v3":return"vec4( "+e+", 1.0 )";case"v4 <- i":case"v4 <- b":return"vec4( float( "+e+" ) )";case"i <- f":case"i <- b":return"int( "+e+" )";case"i <- v2":return"int( "+e+".x )";case"i <- v3":return"int( "+e+".x )";case"i <- v4":return"int( "+e+".x )";case"b <- f":return"( "+e+" != 0.0 )";case"b <- v2":return"( "+e+" != vec2( 0.0 ) )";case"b <- v3":return"( "+e+" != vec3( 0.0 ) )";case"b <- v4":return"( "+e+" != vec4( 0.0 ) )";case"b <- i":return"( "+e+" != 0 )"}return e}getTypeByFormat(e){return CRe[e]||e}getFormatByType(e){return MRe[e]||e}getUUID(e,t){return t=t!==void 0?t:!0,t&&this.cache&&(e=this.cache+"-"+e),e}getElementByIndex(e){return WB[e]}getIndexByElement(e){return WB.indexOf(e)}isShader(e){return this.shader===e}setShader(e){return this.shader=e,this}mergeDefines(e){for(let t in e)this.defines[t]=e[t];return this.defines}mergeUniform(e){for(let t in e)this.uniforms[t]=e[t];return this.uniforms}getTextureEncodingFromMap(e){let t;return e?e.isTexture&&(t=e.encoding):t=rc,t===rc&&this.context.gamma&&(t=Ft),t}},_n=class extends ta{constructor(e=0,t,r,n){super("c"),this.nodeType="Color",this.value=e instanceof Yo?e:new Yo(e||0,t,r,n)}setRGBA(e){this.value.setRGBA(e.r,e.g,e.b,e.a)}generate(e,t,r,n,i,o){r=e.getUUID(r??this.getUUID()),n=n??this.getType(e);let l=e.getNodeData(r),c=this.getReadonly()&&this.generateReadonly!==void 0;if(this.alpha){let a=this.alpha.build(e,"f");e.addFragmentNodeCode(`accumAlpha += ( 1.0 - accumAlpha ) * ${a};`)}return c?this.generateReadonly(e,t,r,n,i,o):e.isShader("vertex")?(l.vertex||(l.vertex=e.createVertexUniform(n,this,i,o,this.getLabel())),e.format(l.vertex.name,n,t)):(l.fragment||(l.fragment=e.createFragmentUniform(n,this,i,o,this.getLabel())),e.format(l.fragment.name,n,t))}generateReadonly(e,t,r,n,i,o){return e.format("vec3("+this.value.r+", "+this.value.g+", "+this.value.b+")",n,t)}},Ir=class extends ta{constructor(e){super("i"),this.nodeType="Int",this.value=Math.floor(e??0)}generateReadonly(e,t,r,n,i,o){return e.format(this.value.toString(),n,t)}},po=class extends ta{constructor(t){super("b"),this.nodeType="Bool",this.value=t??!1}generateReadonly(t,r,n,i){return t.format(this.value?"true":"false",i,r)}},wh=class extends ta{constructor(e=1,t){super("f[]"),this.nodeType="FloatArray",this.size=e,this.value=Array.isArray(t)?t:typeof t=="number"?new Array(e).fill(t):new Array(e).fill(0)}},_6=class extends ta{},PRe=class extends _6{constructor(e){super("v3"),this.image=e,this._value=new V}get value(){return this._value.x=this.image.isVideo?this.image.img.videoWidth??0:this.image.img.width,this._value.y=this.image.isVideo?this.image.img.videoHeight??0:this.image.img.height,this._value}},ZP=class extends _6{constructor(e,t){super("t"),this.image=e,this.wrap=t}get value(){return this.image.getTexture(this.wrap)}},bQ=class extends ta{constructor(e){super("m3"),this.nodeType="Matrix3",this.value=e??new In}generateReadonly(e,t,r,n,i,o){return e.format("mat3("+this.value.elements.join(", ")+")",n,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}},ac=class extends ta{constructor(e){super("m4"),this.nodeType="Matrix4",this.value=e??new Ne}generateReadonly(e,t,r,n,i,o){return e.format("mat4("+this.value.elements.join(", ")+")",n,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}};function GB(e,t,r){e.setUvTransform(r[0],r[1],t[0],t[1],0,0,0)}var kRe=class extends bQ{constructor(e,t){super(new In),this.repeat=e,this.offset=t,GB(this.value,e,t)}updateMatrix(){GB(this.value,this.repeat,this.offset)}},_h=class extends ta{constructor(e=1,t){super("v4[]"),this.nodeType="Vector4Array",this.size=e,this.value=Array.isArray(t)?t:t instanceof Ut?new Array(e).fill(t):new Array(e).fill(new Ut(0))}},qB=class extends Dr{constructor(e,t,r,n){super("v3"),this.nodeType="Blend",this.a=e,this.b=t,this.alpha=r,this.mode=n}generate(e,t){if(e.isShader("fragment")){let r=[];return r.push(this.a.build(e,"c")),r.push(this.b.build(e,"c")),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),e.format("spe_blend("+r.join(",")+")",this.getType(e),t)}else return console.warn("BlendNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},xQ=class extends Dr{constructor(e,t){super("v3"),this.nodeType="CustomColor",this.color=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let r=e.include(xQ.Nodes.customColor);e.addFragmentVariable(this.calpha,"float");let n=[];return n.push(this.color.build(e,"v3")),n.push(this.mask?`luminance(${this.mask.build(e,"v3")})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("CustomColorNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},e5=xQ;e5.Nodes=function(){return{customColor:new Ze(`vec3 customColor(vec3 color, float mask, float alpha, out float calpha) {
				float lalpha = alpha * mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha;

				return color;
			}`)}}();var wQ=class extends Dr{constructor(e,t){super("v3"),this.nodeType="CustomNormal",this.cnormal=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let r=e.include(wQ.Nodes.customNormal);e.addFragmentVariable(this.calpha,"float");let n=[];return n.push(this.cnormal.build(e,"v3")),n.push("normal"),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("CustomNormalNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},_Q=wQ;_Q.Nodes=function(){return{customNormal:new Ze(`vec3 customNormal(vec3 cnormal, vec3 norm, float mask, float alpha, out float calpha) {
				vec3 normal = packNormalToRGB( norm ).rgb;
				normal *= step( vec3(0.5), cnormal );

				float lalpha = alpha * mask;
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * lalpha;

				return normal;
			}`)}}();var jv=class extends Dr{constructor(e,t,r,n,i,o,l,c,a,s,u,d){super("v3"),this.nodeType="CustomTexture",this.texture=e,this.textureSize=t,this.crop=r,this.projection=n,this.axis=i,this.side=o,this.size=l,this.blending=c,this.mat=a,this.isMask=d,this.alpha=s,this.mode=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){e.require("position"),e.require("normal"),e.require("uv"),e.requires.uv=[!0],e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0;let r=`g${this.uuid.toString().replace(/-/g,"")}`,n;switch(this.projection.value){case 3:n=e.include(jv.Nodes.cylindrical);break;case 2:n=e.include(jv.Nodes.spherical);break;case 1:let o=["vec3(1.0, 0.0, 0.0)","vec3(0.0, 1.0, 0.0)","vec3(0.0, 0.0, 1.0)"][this.axis.value],l=["zy","xz","xy"][this.axis.value],c=new Ze(`
		vec3 ${r}_planarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
				vec2 projected = (1. + (position.${l})) / 2.;
				vec2 uvs = ( mat * vec3( (projected * 2. - 1.) / (size * .5), 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

				vec4 tmp = texture2D( tex, uvs );

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				${this.side.value===2?"":`lalpha *= step(0.0, ${this.side.value===1?"-1.0 * ":""}dot(vObjectNormal, ${o}));`}

				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				
				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}`);n=e.include(c);break;case 4:n=e.include(jv.Nodes.triplanar);break;default:n=e.include(jv.Nodes.uv);break}e.addFragmentVariable(this.calpha,"float");let i=[];if(i.push("normal"),i.push(this.texture.generate(e,"t")),i.push(this.textureSize.build(e,"v2")),i.push(this.crop.build(e,"f")),i.push(this.mat.build(e,"mat3")),i.push(this.size.build(e,"v2")),i.push(this.blending.build(e,"f")),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.mode.build(e,"i")),i.push(this.calpha),this.projection.value===4){let o=`${r}_writeUvs`,l=o+"0",c=o+"1",a=o+"2",s=`${r}_triplanarWeights`;e.addFragmentVariable(l,"vec2"),e.addFragmentVariable(c,"vec2"),e.addFragmentVariable(a,"vec2"),e.addFragmentVariable(s,"vec3"),i.push(l),i.push(c),i.push(a),i.push(s)}else{let o=`${r}_writeUvs`;e.addFragmentVariable(o,"vec2"),i.push(o)}return e.format(n+"("+i.join(",")+")",this.getType(e),t)}},S6=jv;S6.Nodes=function(){let e=new Ze(`
vec3 cylindricalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
                vec3 posN = normalize(position);
                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);
                float scaledHeight = position.y / (size.y * 0.5);
                float v =  (scaledHeight / 2.) + .5;

                vec2 calculatedUv = vec2(u,v);
				vec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

                vec2 df = fwidth(uvs);
               	if(df.x > 0.5) df.x = 0.;

				#ifdef GL_EXT_shader_texture_lod
                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#else
                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;
				
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}
`),t=new Ze(`
vec3 sphericalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
                vec3 posN = normalize(vPosition);
                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);
                float v = 0.5 + asin(posN.y) / 3.1415;

                vec2 calculatedUv = vec2(u,v);
				vec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

                vec2 df = fwidth(uvs);
               	if(df.x > 0.5) df.x = 0.;
				#ifdef GL_EXT_shader_texture_lod
                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#else
                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}
`),r=new Ze(`vec3 uvTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
				vec2 uvs = ( mat * vec3( vUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

				vec4 tmp = texture2D( tex, uvs );

				vec3 col = tmp.rgb;

				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				
				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}`),n=new Ze(`vec3 triplanarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUvs0, out vec2 writeUvs1, out vec2 writeUvs2, out vec3 writeWeights) {
				vec3 p = position;
				vec2 uv0 = (1.0 + p.xy) / 2.0;     
				vec2 uv1 = (1.0 + p.zy) / 2.0;		
				vec2 uv2 = (1.0 + p.xz) / 2.0;		
	
				uv0 = (mat * vec3((uv0 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;
				uv1 = (mat * vec3((uv1 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;
				uv2 = (mat * vec3((uv2 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;

				// Range from 3 to 128 seems to be good
				float exponent = (1.0 - blending) * 125.0 + 3.0;

				vec3 n = vObjectNormal;
				vec3 weights = abs(normalize(n));
				weights = pow(weights, vec3(exponent));
				weights /= dot(weights, vec3(1.0));

				// Write out all sets of UVs that we generated
				writeUvs0 = uv0;
				writeUvs1 = uv1;
				writeUvs2 = uv2;
				writeWeights = weights;

				// Derivatives for LOD
				vec2 df0 = fwidth(uv0);
				vec2 df1 = fwidth(uv1);
				vec2 df2 = fwidth(uv2);
				if (df0.x > 0.5) df0.x = 0.0;
				if (df1.x > 0.5) df1.x = 0.0;
				if (df2.x > 0.5) df2.x = 0.0;

				#ifdef GL_EXT_shader_texture_lod
                	vec4 tmp = 
						texture2DLodEXT(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + 
						texture2DLodEXT(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + 
						texture2DLodEXT(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;
				#else
                	vec4 tmp = 
						textureLod(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + 
						textureLod(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + 
						textureLod(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;

				// Apply cropping across all 3 planes
				if ( crop > 0.5 ) {
					if ( uv0.x < 0.0 || uv0.x > 1.0 || uv0.y < 0.0 || uv0.y > 1.0 )  {
						lalpha = 0.0;
					}
					if ( uv1.x < 0.0 || uv1.x > 1.0 || uv1.y < 0.0 || uv1.y > 1.0 )  {
						lalpha = 0.0;
					}
					if ( uv2.x < 0.0 || uv2.x > 1.0 || uv2.y < 0.0 || uv2.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;//n * 0.5 + 0.5;
			}			
			`);return{cylindrical:e,spherical:t,uv:r,triplanar:n}}();var Iv=class extends Dr{constructor(e,t,r,n,i,o,l,c,a,s,u,d){super("v3"),this.nodeType="Depth",this.gradientType=e,this.smooth=t,this.near=r,this.far=n,this.isVector=i,this.isWorldSpace=o,this.origin=l,this.direction=c,this.colors=a,this.steps=s,this.isMask=d,this.alpha=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let r=`g${this.uuid.toString().replace(/-/g,"")}`,n=new Ze(`vec3 ${r}_sdepth(float near, float far, vec3 origin, vec3 direction, vec4 colors[${r}_MAX_COLORS], float steps[${r}_MAX_COLORS], bool isMask, float mask, float alpha, out float calpha) {
               vec4 color = colors[0];
               #ifdef ${r}_IS_VECTOR
                   #ifdef ${r}_LINEAR
                       #ifdef ${r}_WORLDSPACE
                       float depth = vectorLinearWorldSpaceDepth(direction, origin, near, far);
                       #else
                       float depth = vectorLinearObjectSpaceDepth(direction, origin, near, far);
                       #endif
                   #else
                       #ifdef ${r}_WORLDSPACE
                           float depth = vectorSphericalWorldSpaceDepth(origin, near, far);
                       #else
                           float depth = vectorSphericalObjectSpaceDepth(origin, near, far);
                       #endif
                   #endif
               #else
                   float dist = length(vWPosition - cameraPosition);
			       float depth = ( dist - near ) / ( far - near );
               #endif


              float p;
              #ifdef ${r}_SMOOTH
				for ( int i = 1; i < ${r}_MAX_COLORS; i++ ) {
						p = clamp( ( depth - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
					}
              #else
                for ( int i = 1; i < ${r}_MAX_COLORS; i++ ) {
                   p = clamp(( depth - steps[i - 1] ) / ( steps[i] - steps[i - 1] ), 0.0, 1.0);
                   color = mix(color, colors[i], p);
                 }
              #endif

               float lalpha = alpha * color.a * mask;
               calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
			   accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
			   
               return color.rgb;
			}`,[Iv.Nodes.vectorLinearWorldSpaceDepth,Iv.Nodes.vectorLinearObjectSpaceDepth,Iv.Nodes.vectorSphericalObjectSpaceDepth,Iv.Nodes.vectorSphericalWorldSpaceDepth]);if(e.isShader("fragment")){e.define(`${r}_MAX_COLORS`,this.colors.value.length),this.smooth.value&&e.define(`${r}_SMOOTH`),this.isVector.value>.5&&e.define(`${r}_IS_VECTOR`),this.gradientType.value===0&&e.define(`${r}_LINEAR`),this.isWorldSpace.value>.5&&e.define(`${r}_WORLDSPACE`),e.require("worldPosition"),e.addFragmentVariable(this.calpha,"float");let i=e.include(n),o=[];return o.push(this.near.build(e,"f")),o.push(this.far.build(e,"f")),o.push(this.origin.build(e,"v3")),o.push(this.direction.build(e,"v3")),o.push(this.colors.build(e,"v4[]")),o.push(this.steps.build(e,"f[]")),o.push(this.isMask.build(e,"b")),o.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),o.push(this.alpha.build(e,"f")),o.push(this.calpha),e.format(i+"("+o.join(",")+")",this.getType(e),t)}else return console.warn("DepthNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},SQ=Iv;SQ.Nodes=function(){let e=new Ze(`float vectorLinearWorldSpaceDepth(vec3 direction, vec3 origin, float near, float far) {
               vec3 n = normalize(direction);
               float dist = (n.x*(vWPosition.x - origin.x) + n.y*(vWPosition.y - origin.y) + n.z*(vWPosition.z - origin.z));
               return ( dist - near ) / ( far - near );
            }`),t=new Ze(`float vectorLinearObjectSpaceDepth(vec3 direction, vec3 origin, float near, float far) {
               vec3 n = normalize(direction);
               float dist = (n.x*(position.x - origin.x) + n.y*(position.y - origin.y) + n.z*(position.z - origin.z));
               return ( dist - near ) / ( far - near );
            }`),r=new Ze(`float vectorSphericalWorldSpaceDepth(vec3 origin, float near, float far) {
               float dist = length(vWPosition - origin);
               return ( dist - near ) / ( far - near );
            }`),n=new Ze(`float vectorSphericalObjectSpaceDepth(vec3 origin, float near, float far) {
               float dist = length(position - origin);
               return ( dist - near ) / ( far - near );
            }`);return{vectorLinearWorldSpaceDepth:e,vectorLinearObjectSpaceDepth:t,vectorSphericalWorldSpaceDepth:r,vectorSphericalObjectSpaceDepth:n}}();var DRe=class extends Dr{constructor(e,t,r,n,i,o,l,c){super("v3"),this.nodeType="Fresnel",this.color=e,this.bias=t,this.scale=r,this.intensity=n,this.factor=i,this.isMask=c,this.alpha=o,this.mode=l,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let r=new Ze(`vec3 fresnel(vec3 color, float bias, float scale, float intensity, float factor, bool isMask, float mask, float alpha, int mode, out float calpha) {
					float fresnel = bias + scale * pow( abs( factor + dot( normalize( vWorldViewDir ), normalize( vWNormal ) ) ), intensity );

					float lalpha = clamp(fresnel, 0.0, 1.0) * alpha * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

					return color;
				}`),n=e.include(r),i=[];return i.push(this.color.build(e,"c")),i.push(this.bias.build(e,"f")),i.push(this.scale.build(e,"f")),i.push(this.intensity.build(e,"f")),i.push(this.factor.build(e,"f")),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.mode.build(e,"i")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("FresnelNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},EQ=class extends Dr{constructor(e,t,r,n,i,o,l,c,a){super("v3"),this.nodeType="Gradient",this.gradientType=e,this.smooth=t,this.colors=r,this.steps=n,this.offset=i,this.morph=o,this.angle=l,this.isMask=a,this.alpha=c,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.define("GRAD_MAX",10),e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let r=e.include(EQ.Nodes.gradient),n=[];return n.push(this.gradientType.build(e,"i")),n.push(this.smooth.build(e,"b")),n.push(this.colors.build(e,"v4[]")),n.push(this.steps.build(e,"f[]")),n.push(this.offset.build(e,"v2")),n.push(this.morph.build(e,"v2")),n.push(this.angle.build(e,"f")),n.push(this.isMask.build(e,"b")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("GradientNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},AQ=EQ;AQ.Nodes=function(){return{gradient:new Ze(`vec3 gradient(int gradientType, bool smoothed, vec4 colors[GRAD_MAX], float steps[GRAD_MAX], vec2 offset, vec2 morph, float angle, bool isMask, float mask, float alpha, out float calpha) {
				vec4 color = colors[0];
				vec2 m = morph / vUv.xy;
				vec2 rot = vec2( 0.5 + m.x, m.y );
				vec2 dt = vec2(
					cos( angle ) * rot.x - sin( angle ) * rot.y,
					sin( angle ) * rot.x + cos( angle ) * rot.y
				);
				vec2 pt = ( vUv - 0.5 + offset ) / 2.0 + dt / 2.0;
				float t = dot( pt, dt ) / dot( dt, dt );
				if ( gradientType == 1 ) {
					t = distance (
						( vUv + morph ) * 3.0,
						( vUv + offset ) + 1.0
					) + angle;
				} else if ( gradientType == 2 ) {
					float polar = atan(
						vUv.x + morph.x - 0.5 + offset.x,
						vUv.y + morph.y - 0.5 + offset.y
					) * -1.0;
					t = fract( ( angle / PI / -2.0 ) + 0.5 * ( polar / PI ) );
				}

				float p;
				if (smoothed) {
					for ( int i = 1; i < GRAD_MAX; i++ ) {
						p = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
					}

				} else {
					for ( int i = 1; i < GRAD_MAX; i++ ) {
						p = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], p);
					}
				}

				float lalpha = alpha * color.a * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
				
				return color.xyz;
			}`)}}();var CQ=class extends Dr{constructor(e,t,r,n){super("v3"),this.nodeType="Matcap",this.texture=e,this.isMask=n,this.alpha=t,this.mode=r,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let r=e.include(CQ.Nodes.matcap);e.require("normal"),e.requires.normal=!0;let n=[];return n.push(this.texture.generate(e,"t")),n.push("normal"),n.push(this.isMask.build(e,"b")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.mode.build(e,"i")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("MatcapNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},MQ=CQ;MQ.Nodes=function(){return{matcap:new Ze(`vec3 matcap(sampler2D matcapTex, vec3 normal, bool isMask, float mask, float alpha, int mode, out float calpha) {
					vec3 viewDir = normalize( vViewPosition );
					vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
					vec3 y = cross( viewDir, x );
					vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks
					vec4 matcapColor = texture2D( matcapTex, uv );

					float lalpha = alpha * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
					
					return matcapColor.rgb;
            	}`)}}();var E6=(e=>(e.SIMPLEX="simplex3d",e.SIMPLEX_FRACTAL="simplex3dFractal",e.ASHIMA="simplexAshima",e.FBM="fbm",e.PERLIN="perlin",e.VORONOI="voronoi",e))(E6||{}),Oo=function(){let e=new Ze(`vec3 random3(vec3 c) {
			float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));
			vec3 r;
			r.z = fract(512.0*j);
			j *= .125;
			r.x = fract(512.0*j);
			j *= .125;
			r.y = fract(512.0*j);
			return r-0.5;
		}`),t=new Ze(`float simplex3d(vec3 p) {
			 vec3 s = floor(p + dot(p, vec3(F3)));
			 vec3 x = p - s + dot(s, vec3(G3));
			 
			 vec3 e = step(vec3(0.0), x - x.yzx);
			 vec3 i1 = e*(1.0 - e.zxy);
			 vec3 i2 = 1.0 - e.zxy*(1.0 - e);
				
			 vec3 x1 = x - i1 + G3;
			 vec3 x2 = x - i2 + 2.0*G3;
			 vec3 x3 = x - 1.0 + 3.0*G3;
			 
			 vec4 w, d;
			 
			 w.x = dot(x, x);
			 w.y = dot(x1, x1);
			 w.z = dot(x2, x2);
			 w.w = dot(x3, x3);
			 
			 w = max(0.6 - w, 0.0);
			 
			 d.x = dot(random3(s), x);
			 d.y = dot(random3(s + i1), x1);
			 d.z = dot(random3(s + i2), x2);
			 d.w = dot(random3(s + 1.0), x3);
			 
			 w *= w;
			 w *= w;
			 d *= w;
			 
			 return dot(d, vec4(52.0));
		}`,[e]);t.keywords.F3=new Er("float F3 0.3333333"),t.keywords.G3=new Er("float G3 0.1666667");let r=new Ze(`float simplex3dFractal(vec3 m) {
			mat3 rot1 = mat3(-0.37, 0.36, 0.85,-0.14,-0.93, 0.34,0.92, 0.01,0.4);
			mat3 rot2 = mat3(-0.55,-0.39, 0.74, 0.33,-0.91,-0.24,0.77, 0.12,0.63);
			mat3 rot3 = mat3(-0.71, 0.52,-0.47,-0.08,-0.72,-0.68,-0.7,-0.45,0.56);
			return 0.5333333 * simplex3d(m * rot1)
				 + 0.2666667 * simplex3d(2.0 * m * rot2)
				 + 0.1333333 * simplex3d(4.0 * m * rot3)
				 + 0.0666667 * simplex3d(8.0 * m);
		}`,[t]),n=new Ze("vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}"),i=new Ze("vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}"),o=new Ze(`float simplexAshima(vec3 v) {
		  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
		  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);
		  vec3 i  = floor(v + dot(v, C.yyy) );
		  vec3 x0 =   v - i + dot(i, C.xxx) ;
		  vec3 g = step(x0.yzx, x0.xyz);
		  vec3 l = 1.0 - g;
		  vec3 i1 = min( g.xyz, l.zxy );
		  vec3 i2 = max( g.xyz, l.zxy );
		  vec3 x1 = x0 - i1 + 1.0 * C.xxx;
		  vec3 x2 = x0 - i2 + 2.0 * C.xxx;
		  vec3 x3 = x0 - 1. + 3.0 * C.xxx;
		  i = mod(i, 289.0 ); 
		  vec4 p = permute( permute( permute( 
					 i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
				   + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) 
				   + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));
		  float n_ = 1.0/7.0; // N=7
		  vec3  ns = n_ * D.wyz - D.xzx;
		  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)
		  vec4 x_ = floor(j * ns.z);
		  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)
		  vec4 x = x_ *ns.x + ns.yyyy;
		  vec4 y = y_ *ns.x + ns.yyyy;
		  vec4 h = 1.0 - abs(x) - abs(y);
		  vec4 b0 = vec4( x.xy, y.xy );
		  vec4 b1 = vec4( x.zw, y.zw );
		  vec4 s0 = floor(b0)*2.0 + 1.0;
		  vec4 s1 = floor(b1)*2.0 + 1.0;
		  vec4 sh = -step(h, vec4(0.0));
		  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
		  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;
		  vec3 p0 = vec3(a0.xy,h.x);
		  vec3 p1 = vec3(a0.zw,h.y);
		  vec3 p2 = vec3(a1.xy,h.z);
		  vec3 p3 = vec3(a1.zw,h.w);
		  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
		  p0 *= norm.x;
		  p1 *= norm.y;
		  p2 *= norm.z;
		  p3 *= norm.w;
		  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
		  m = m * m;
		  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), 
										dot(p2,x2), dot(p3,x3) ) );
		}`,[n,i]),l=new Ze("vec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}"),c=new Ze("vec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}",[l]),a=new Ze(`float noise(vec3 p){
			vec3 a = floor(p);
			vec3 d = p - a;
			d = d * d * (3.0 - 2.0 * d);
			vec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);
			vec4 k1 = perm(b.xyxy);
			vec4 k2 = perm(k1.xyxy + b.zzww);
			vec4 c = k2 + a.zzzz;
			vec4 k3 = perm(c);
			vec4 k4 = perm(c + 1.0);
			vec4 o1 = fract(k3 * (1.0 / 41.0));
			vec4 o2 = fract(k4 * (1.0 / 41.0));
			vec4 o3 = o2 * d.z + o1 * (1.0 - d.z);
			vec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);
			return o4.y * d.y + o4.x * (1.0 - d.y);
		}`,[c]),s=new Ze(`float fbm(vec3 x) {
			float v = 0.0;
			float a = 0.5;
			vec3 shift = vec3(100);
			for (int i = 0; i < NUM_OCTAVES; ++i) {
				v += a * noise(x);
				x = x * 2.0 + shift;
				a *= 0.5;
			}
			return v;
		}`,[a]);s.keywords.NUM_OCTAVES=new Er("int NUM_OCTAVES 5");let u=new Ze("vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}"),d=new Ze(`float perlin(vec3 P){
		  vec3 Pi0 = floor(P);
		  vec3 Pi1 = Pi0 + vec3(1.0);
		  Pi0 = mod(Pi0, 289.0);
		  Pi1 = mod(Pi1, 289.0);
		  vec3 Pf0 = fract(P);
		  vec3 Pf1 = Pf0 - vec3(1.0);
		  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
		  vec4 iy = vec4(Pi0.yy, Pi1.yy);
		  vec4 iz0 = Pi0.zzzz;
		  vec4 iz1 = Pi1.zzzz;
		  vec4 ixy = permute(permute(ix) + iy);
		  vec4 ixy0 = permute(ixy + iz0);
		  vec4 ixy1 = permute(ixy + iz1);
		  vec4 gx0 = ixy0 / 7.0;
		  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
		  gx0 = fract(gx0);
		  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
		  vec4 sz0 = step(gz0, vec4(0.0));
		  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
		  gy0 -= sz0 * (step(0.0, gy0) - 0.5);
		  vec4 gx1 = ixy1 / 7.0;
		  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
		  gx1 = fract(gx1);
		  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
		  vec4 sz1 = step(gz1, vec4(0.0));
		  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
		  gy1 -= sz1 * (step(0.0, gy1) - 0.5);
		  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
		  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
		  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
		  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
		  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
		  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
		  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
		  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);
		  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
		  g000 *= norm0.x;
		  g010 *= norm0.y;
		  g100 *= norm0.z;
		  g110 *= norm0.w;
		  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
		  g001 *= norm1.x;
		  g011 *= norm1.y;
		  g101 *= norm1.z;
		  g111 *= norm1.w;
		  float n000 = dot(g000, Pf0);
		  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
		  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
		  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
		  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
		  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
		  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
		  float n111 = dot(g111, Pf1);
		  vec3 fade_xyz = fade(Pf0);
		  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
		  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
		  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 
		  return 2.2 * n_xyz;
		}`,[n,i,u]),h=new Ze(`float hashwithoutsine13(vec3 p3)
		{
			p3  = fract(p3 * .1031);
			p3 += dot(p3, p3.yzx + 33.33);
			return fract((p3.x + p3.y) * p3.z);
		}`),f=new Ze(`vec3 hashwithoutsine33(vec3 p3)
		{
			p3 = fract(p3 * vec3(.1031, .1030, .0973));
			p3 += dot(p3, p3.yxz+33.33);
			return fract((p3.xxy + p3.yxx)*p3.zyx);
		}`),m=new Ze(`float metric(in vec3 p)
		{
			// L2 
			return length(p);

			// Chebyshev 
			// vec3 a = abs(p);
			// return max(a.x, max(a.y, a.z));
		}`),p=new Ze(`float smin( float a, float b, float k )
		{
			float h = smoothstep(0.0, 1.0, 0.5 + 0.5 * (b - a) / k);
			float correction = k * h * (1.0 - h);
			return mix(b, a, h) - correction;
		}`),g=new Ze(`float smax( float a, float b, float k )
		{
			float h = smoothstep(1.0, 0.0, 0.5 + 0.5 * (a - b) / k);
			float correction = k * h * (1.0 - h);
			return mix(a, b, h) + correction;
		}`),v=new Ze(`float remap(float value, float input_min, float input_max, float output_min, float output_max) {
			// Compute width of each interval
			float input_width = input_max - input_min;
			float output_width = output_max - output_min;
		
			// Convert input range into a 0-1 range 
			float scaled = (value - input_min) / input_width;
		
			// Convert the 0-1 range into a value in output range
			return output_min + (scaled * output_width);
		}`),x=new Ze(`float voronoi(in vec3 x, in int style, in float smoothness, in float seed, in int quality) 
		{
			// Integer and fractional parts of this point's coordinates
			ivec3 p = ivec3(floor(x));
			vec3 f = fract(x);

			// Different variables that we will use to construct noise:
			//
			// f1: distance to the closest feature point
			// f2: distance to the second closest feature point
			// e: distance to the closest edge (cell boundary)
			//
			// We also compute "smooth" versions of all of the above quantites, essentially
			// replacing "hard" minimums with "smooth" minimums (described by IQ)
			float f1_smooth = 8.0;
			float f1 = 8.0;
			float f2_smooth = 8.0;
			float f2 = 8.0;
			float e_smooth = 8.0;
			float e = 8.0;

			// Variables stored from closest cell
			ivec3 mb;
			vec3 mr; 

			int steps = quality;
			
			for (int x = -steps; x <= steps; x++) 
			for (int y = -steps; y <= steps; y++)
			for (int z = -steps; z <= steps; z++)
			{
				ivec3 b = ivec3(x, y, z);
				vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
				float d = length(r);
				
				f1_smooth = smin(d, f1_smooth, smoothness);

				// Store un-smoothed distances too 
				if (d < f1) 
				{
					f2 = f1;
					f1 = d;

					mb = ivec3(x, y, z);
					mr = r;
				} 
				else if (d < f2) 
				{
					f2 = d;
				}
			}	
			
			float id = hashwithoutsine13(vec3(p + mb) + seed);

			// Second pass for edge distance  
			for (int x = -steps; x <= steps; x++) 
			for (int y = -steps; y <= steps; y++)
			for (int z = -steps; z <= steps; z++)
			{
				// Start search at the cell that contains the closest point to "x" (found in 1st pass)
				ivec3 b = mb + ivec3(x, y, z);
				vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
				float d1 = dot(0.5 * (mr + r), (r - mr)); 				// IQ normalizes "r - mr" but that breaks things for the smooth version?
				float d2 = dot(0.5 * (mr + r), normalize(r - mr));

				e_smooth = smin(d1, e_smooth, smoothness);

				e = min(e, d2);

				// Also compute a smooth version of F2 in this pass
				{
					ivec3 b = ivec3(x, y, z);
					if (b != mb) 
					{
						vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
						float d = length(r);

						f2_smooth = smin(d, f2_smooth, smoothness);
					}
				}
			}

			// Different visualization modes 
			if (style == 0) 
			{
				return f1_smooth;
			}
			if (style == 1) 
			{
				return f2_smooth;
			}
			if (style == 2) 
			{
				return f2_smooth - f1_smooth;
				
				// "Pebbles" also cool
				//return step(0.2, f2_smooth - f1_smooth);
			}
			if (style == 3) 
			{
				// This one is really good for rock / stone effects
				float a = f1; 
				float b = f2;
				float k = 3.0;
				float h = max(k - abs(a - b), 0.0) / k;
				float final = min(a, b) - h * h * k * (1.0 / 4.0);
				return final;
			}
			if (style == 4) 
			{
				// Some random adjustments to make this style stand out more 
				return exp(5.0 * e_smooth);
			}
			if (style == 5) 
			{
				return pow(f1_smooth, 3.0);
			}
			if (style == 6) 
			{				
				const float eps = 0.0125;

				// Thicker lines as the user increases the smoothness slider
				float thickness = smoothness * 0.25 + eps;

				// Blurrier lines as the user increases the smoothness slider
				float blur = pow(smoothness, 3.0) * 0.25 + eps;

				return smoothstep(
					thickness - thickness * blur, 
					thickness + thickness * blur, 
					e
				);
			}
			if (style == 7) 
			{
				return hashwithoutsine13(vec3(p + mb) + seed);
			}
		}
	`,[h,f,m,p,g,v]);return{simplex:t,simplexFractal:r,simplexAshima:o,fbm:s,perlin:d,voronoi:x}}(),TQ=class extends Dr{constructor(e,t,r,n,i,o,l,c,a,s,u,d,h,f,m,p,g,v,x){super("v3"),this.nodeType="Noise",this.scale=e,this.size=t,this.move=r,this.fA=n,this.fB=i,this.distortion=o,this.colorA=l,this.colorB=c,this.colorC=a,this.colorD=s,this.noiseType=d,this.voronoiStyle=f,this.highCut=m,this.lowCut=p,this.smoothness=g,this.seed=v,this.quality=x,this.isMask=h,this.alpha=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t,r,n,i){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let o=Object.values(E6)[this.noiseType.value],l=o=="voronoi"?`
		float v = ${o}(st + move, voronoiStyle, smoothness, seed, quality);

		// Apply clipping to colors
		v = remap(v, lowCut, highCut, 0.0, 1.0);
		v = smax(v, 0.0, smoothness * 0.25);
		v = smin(v, 1.0, smoothness * 0.25);

		// Note that the voronoi mode only uses colors "A" and "C" from the UI 
		vec4 color = mix(colorA, colorC, v); 
		`:`
		vec3 q = vec3(${o}(st),
					   ${o}(st + vec3(1.0)),
					   ${o}(st + vec3(1.0)));
		vec3 r = vec3(${o}(st + vec3(distortion, 1.0) * q + vec3(fA, 1.0) + move),
					  ${o}(st + vec3(distortion, 1.0) * q + vec3(fB, 1.0) + move), 
					  ${o}(st * q));
		float f = ${o}(st + r);
		vec4 color;
		color = mix(colorA, colorB, clamp((f * f) * 4.0, 0.0, 1.0));
		color = mix(color, colorC, clamp(length(q), 0.0, 1.0));
		color = mix(color, colorD, clamp(length(r.x), 0.0, 1.0));
		`,c=new Ze(`vec3 ${o}customNoise(float scale, vec3 size, float move, vec2 fA, vec2 fB, vec2 distortion, vec4 colorA, vec4 colorB, vec4 colorC, vec4 colorD, int voronoiStyle, float highCut, float lowCut, float smoothness, float seed, int quality, bool isMask, float mask, float alpha, out float calpha) 
			{
                // Prevent scale of zero 
				scale = max(abs(scale), 0.001);

				vec3 st = position / size;
				st /= scale;

				${l}

				float lalpha = alpha * color.a * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return clamp(color, 0.0, 1.0).rgb;
			}`,[Oo.simplex,Oo.simplexFractal,Oo.simplexAshima,Oo.fbm,Oo.perlin,Oo.voronoi]),a=e.include(c),s=[];return s.push(this.scale.build(e,"f")),s.push(this.size.build(e,"v3")),s.push(this.move.build(e,"f")),s.push(this.fA.build(e,"v2")),s.push(this.fB.build(e,"v2")),s.push(this.distortion.build(e,"v2")),s.push(this.colorA.build(e,"v4")),s.push(this.colorB.build(e,"v4")),s.push(this.colorC.build(e,"v4")),s.push(this.colorD.build(e,"v4")),s.push(this.voronoiStyle.build(e,"i")),s.push(this.highCut.build(e,"f")),s.push(this.lowCut.build(e,"f")),s.push(this.smoothness.build(e,"f")),s.push(this.seed.build(e,"f")),s.push(this.quality.build(e,"i")),s.push(this.isMask.build(e,"b")),s.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),s.push(this.alpha.build(e,"f")),s.push(this.calpha),e.format(a+"("+s.join(",")+")",this.getType(e),t)}};TQ.numOctaves=5;var PQ=class extends Dr{constructor(e,t,r,n,i,o,l,c,a,s,u,d,h,f,m,p){super("v3"),this.nodeType="Outline",this.firstTime=!0,this.outlineColor=e,this.contourColor=t,this.outlineWidth=r,this.contourWidth=n,this.contourThreshold=i,this.outlineThreshold=o,this.contourFrequency=l,this.outlineSmoothing=c,this.contourDirection=a,this.positionalLines=s,this.compensation=u,this.resolution=d,this.normalMap=h,this.depthMap=f,this.pixelRatio=m,this.alpha=p,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let r=`g${this.uuid.toString().replace(/-/g,"")}`;if(e.require("vWorldViewDir"),e.require("worldNormal"),e.extensions.derivatives=!0,this.compensation.value&&e.define("OUTLINE_COMPENSATION",`${r}_offset`),this.firstTime){let n=this.outlineWidth.build(e,"f"),i=this.resolution.build(e,"v2"),o=this.compensation.build(e,"b"),l=this.pixelRatio.build(e,"f");e.addVertexParsVariable("randomColor","attribute vec3"),e.addVertexParsVariable("extrudeNormal","attribute vec3"),e.addVertexParsVariable(n,"uniform float"),e.addVertexParsVariable(i,"uniform vec2"),e.addVertexParsVariable(o,"uniform bool"),e.addVertexParsVariable(l,"uniform float"),e.addVertexParsVariable("vID","flat out float"),e.addFragmentParsVariable("vID","flat in float"),e.addVertexFinalCode(`
                vID = randomColor.r;
                vec2 ${r}_offset = vec2(0.0);
                if (${o}) {
                    vec4 ${r}_clipPosition = projectionMatrix * (modelViewMatrix * vec4(position, 1.0));
                    // NOTE: For certain shapes, like spheres, we get incorrect extrusion when the
                    // normals face the camera directly. So we hackily fix this by offsetting the normal
                    // by a tiny amount.
                    vec3 ${r}_clipNormal = mat3(projectionMatrix) * (mat3(modelViewMatrix) * extrudeNormal) + 0.0000001;
                    ${r}_offset = normalize(${r}_clipNormal.xy) / ${i} * (${n} / 2.0) * ${r}_clipPosition.w * 2.0 * ${l};
                    ${r}_clipPosition.xy += ${r}_offset;
                    // TODO(MAX): To handle multiple outline layers, we only want to extrude
                    // if this offset is the biggest of all the potential offsets
                    gl_Position = ${r}_clipPosition;
                }
            `)}if(e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let n=e.include(PQ.Nodes.outline),i=[];return i.push(this.outlineColor.build(e,"c")),i.push(this.contourColor.build(e,"c")),i.push(this.outlineWidth.build(e,"f")),i.push(this.contourWidth.build(e,"f")),i.push(this.contourThreshold.build(e,"f")),i.push(this.outlineThreshold.build(e,"f")),i.push(this.contourFrequency.build(e,"f")),i.push(this.outlineSmoothing.build(e,"f")),i.push(this.contourDirection.build(e,"v3")),i.push(this.positionalLines.build(e,"b")),i.push(this.resolution.build(e,"v2")),i.push(this.normalMap.getTexture(e,"t")),i.push(this.depthMap.getTexture(e,"t")),i.push(this.pixelRatio.build(e,"f")),i.push(this.compensation.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),this.firstTime=!this.firstTime,e.format(n+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("OutlineNode is not compatible with "+e.shader+" shader."),""}},kQ=PQ;kQ.Nodes=function(){let e=new Ze(`
float sobelSample(sampler2D t, sampler2D d, vec2 uv, vec2 resolution, float outlineWidth, float pixelRatio)
{
    vec2 halton = haltonSequence[frameIndex];
    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
    float temporalAngle  = temporalOffset * PI2;

    vec2 texelSize = (vec2(1.0) / resolution);
    vec2 offsetSize = texelSize * outlineWidth * pixelRatio;

    vec2 uvSamples[9];
    vec4 normalSamples[9];

	uvSamples[0] = uv + vec2( -offsetSize.x, -offsetSize.y) + (vogelDiskSample(0, 9, temporalAngle) * texelSize);
	uvSamples[1] = uv + vec2(0.0, -offsetSize.y) + (vogelDiskSample(1, 9, temporalAngle) * texelSize);
	uvSamples[2] = uv + vec2(  offsetSize.x, -offsetSize.y) + (vogelDiskSample(2, 9, temporalAngle) * texelSize);
	uvSamples[3] = uv + vec2( -offsetSize.x, 0.0) + (vogelDiskSample(3, 9, temporalAngle) * texelSize);
	uvSamples[4] = uv;
	uvSamples[5] = uv + vec2(  offsetSize.x, 0.0) + (vogelDiskSample(5, 9, temporalAngle) * texelSize);
	uvSamples[6] = uv + vec2( -offsetSize.x, offsetSize.y) + (vogelDiskSample(6, 9, temporalAngle) * texelSize);
	uvSamples[7] = uv + vec2(0.0, offsetSize.y) + (vogelDiskSample(7, 9, temporalAngle) * texelSize);
	uvSamples[8] = uv + vec2(  offsetSize.x, offsetSize.y) + (vogelDiskSample(8, 9, temporalAngle) * texelSize);


    normalSamples[0] = texture2D(t, uvSamples[0]);
    normalSamples[1] = texture2D(t, uvSamples[1]);
    normalSamples[2] = texture2D(t, uvSamples[2]);
    normalSamples[3] = texture2D(t, uvSamples[3]);
    normalSamples[4] = texture2D(t, uvSamples[4]);
    normalSamples[5] = texture2D(t, uvSamples[5]);
    normalSamples[6] = texture2D(t, uvSamples[6]);
    normalSamples[7] = texture2D(t, uvSamples[7]);
    normalSamples[8] = texture2D(t, uvSamples[8]);

    float depthBias = 0.0001;
    // TODO(MAX): Can we somehow reduce the number of conditionals here with MATH?!
    if (normalSamples[0].a != vID && normalSamples[0].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[0]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[1].a != vID && normalSamples[1].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[1]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[2].a != vID && normalSamples[2].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[2]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[3].a != vID && normalSamples[3].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[3]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }


    if (normalSamples[4].a != vID && normalSamples[4].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[4]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[5].a != vID && normalSamples[5].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[5]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[6].a != vID && normalSamples[6].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[6]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[7].a != vID && normalSamples[7].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[7]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[8].a != vID && normalSamples[8].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[8]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    vec3 sobel_edge_h = normalSamples[2].rgb + (2.0*normalSamples[5].rgb) + normalSamples[8].rgb - (normalSamples[0].rgb + (2.0*normalSamples[3].rgb) + normalSamples[6].rgb);
  	vec3 sobel_edge_v = normalSamples[0].rgb + (2.0*normalSamples[1].rgb) + normalSamples[2].rgb - (normalSamples[6].rgb + (2.0*normalSamples[7].rgb) + normalSamples[8].rgb);

    float edgeNormal = sqrt(dot(sobel_edge_h, sobel_edge_h) + dot(sobel_edge_v, sobel_edge_v));
    return edgeNormal;
}
`);return{outline:new Ze(`vec3 outline(vec3 outlineColor, vec3 contourColor, float outlineWidth, float contourWidth, float outlineThreshold, float contourThreshold, float outlineSmoothing, float contourFrequency, vec3 contourDirection, bool positionalLines, vec2 resolution, sampler2D normalMap, sampler2D depthMap, float pixelRatio, bool compensation, float mask, float alpha, out float calpha) {
                vec3 result = outlineColor;
                float resultAlpha = 0.0;

                vec3 N = normalize(vWNormal);
                vec2 nuv = (gl_FragCoord.xy / resolution);
                float sobelSample = compensation ? sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth / 2., pixelRatio) : sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth, pixelRatio);
                resultAlpha = smoothstep(outlineThreshold - outlineSmoothing, outlineThreshold + outlineSmoothing, sobelSample);

                //resultAlpha = 1.0;
                //result = vec3(sobelSample);

                float t = 1.0 - contourThreshold;
                if(positionalLines) {
                    vec3 NDir = position * contourDirection;
                    float NT = NDir.x + NDir.y + NDir.z;
                    float f  = fract(NT * contourFrequency * 0.01);
                    float df = fwidth(NT * contourFrequency);

                    float g = smoothstep(df * (contourWidth * 0.01), df * (contourWidth * 0.01 * 2.0), f);
                    if (g < 1.0 && resultAlpha == 0.0) {
                        result = contourColor;
                        resultAlpha = 1.0;
                    }
                 }
                 else {
                    vec3 NDir = N * contourDirection;
                    float NT = NDir.x + NDir.y + NDir.z;
                    float df = fwidth(NT * contourThreshold);
                    float f = sin(NT * 1.0 * contourFrequency);
                    float g = smoothstep(0.0, df * contourWidth, 1.0 - f);

                    if (df > (t * 0.5) && g < 1.0 && resultAlpha == 0.0) {
                        result = contourColor;
                        resultAlpha = 1.0 - g;
                    }
                 }

                 float lalpha = alpha * resultAlpha * mask;
                 calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
                 accumAlpha += ( 1.0 - accumAlpha ) * lalpha;
				 
                 return result;
             }`,[e])}}();var Pc=class extends Dr{constructor(e,t,r,n,i,o,l,c,a,s,u,d,h,f,m,p,g,v){super("v3"),this.nodeType="Pattern",this.style=e,this.projection=t,this.axis=r,this.blending=n,this.offset=i,this.colorA=o,this.colorB=l,this.frequency=c,this.size=a,this.variation=s,this.smoothness=u,this.zigzag=d,this.rotation=h,this.vertical=f,this.horizontal=m,this.sides=p,this.isMask=v,this.alpha=g,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.require("position"),e.require("uv"),e.requires.uv=[!0],e.require("normal"),e.requires.normal=!0,e.addFragmentVariable(this.calpha,"float");let r;switch(this.style.value){case 0:r="circle";break;case 1:r="ring";break;case 2:r="polygon";break;case 3:r="xcross";break;case 4:r="diamond";break;case 5:r="checkerboard";break;case 6:r="line";break;case 7:r="wave";break;default:r="circle";break}let n=`g${this.uuid.toString().replace(/-/g,"")}`,i=new Ze(`float hashwithoutsine12(vec2 p)
				{
					vec3 p3 = fract(vec3(p.xyx) * .1031);
					p3 += dot(p3, p3.yzx + 33.33);
					return fract((p3.x + p3.y) * p3.z);
				}`),o=new Ze(`vec2 rotate_uv(in vec2 uv, float a, bool repeat) 
				{
					const float mid = 0.5;
					float radians = a * (PI / 180.0);
					vec2 rotated = vec2(
						cos(radians) * (uv.x - mid) + sin(radians) * (uv.y - mid) + mid,
						cos(radians) * (uv.y - mid) - sin(radians) * (uv.x - mid) + mid
					);
					return repeat ? fract(rotated): rotated;
				}`),l="";if(this.projection.value===4){let u=this.style.value===2?`${r}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${r}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,d=this.style.value===2?`${r}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${r}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,h=this.style.value===2?`${r}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${r}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation)`;l=`
				vec3 p = position;
				float factor = 0.0125;
				vec2 uv0 = fract(p.xy * factor);
				vec2 uv1 = fract(p.zy * factor);
				vec2 uv2 = fract(p.xz * factor);
				
				uv0 = rotate_uv(uv0 + offset, rotation, true);
				uv1 = rotate_uv(uv1 + offset, rotation, true);
				uv2 = rotate_uv(uv2 + offset, rotation, true);
	
				float d0 = ${u};
				float d1 = ${d};
				float d2 = ${h};
				
				// Range from 3 to 128 seems to be good
				float exponent = (1.0 - blending) * 125.0 + 3.0;

				vec3 n = vObjectNormal;
				vec3 weights = abs(normalize(n));
				weights = pow(weights, vec3(exponent));
				weights /= dot(weights, vec3(1.0));
				d0 *= weights.z;
				d1 *= weights.x;
				d2 *= weights.y;
				float draw = d0 + d1 + d2;
	
				vec2 custom_uv = uv0 * weights.z + uv1 * weights.x + uv2 * weights.y;
				`}else{let u=this.style.value===2?`${r}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${r}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,d="";this.axis.value===0?d=`float radius = length(p);
					float theta = atan(p.y, p.z);
					float phi = acos(p.x / radius);`:this.axis.value===1?d=`float radius = length(p);
					float theta = atan(p.x, p.z);
					float phi = acos(p.y / radius);`:(this.axis.value,d=`float radius = length(p);
					float theta = atan(p.y, p.x);
					float phi = acos(p.z / radius);`);let h="";switch(this.projection.value){case 0:h="custom_uv = vUv.st;";break;case 1:break;case 2:h=`
							vec3 p = position;
							${d}
							custom_uv = vec2(theta, phi);
							custom_uv /= PI;
							`;break}l=`
				vec2 custom_uv;
				${h}
	
				custom_uv += offset;
				custom_uv = fract(custom_uv);
				custom_uv = rotate_uv(custom_uv, rotation, true);
	
				float draw = ${u};
				`}let c=new Ze(`vec3 ${n}_pattern(vec3 normal, float blending, int style, vec2 offset, vec4 colorA, vec4 colorB, vec2 frequency, float size, float variation, float smoothness, float zigzag, float rotation, vec2 vertical, vec2 horizontal, int sides, bool isMask, float mask, float alpha, out float calpha) {
					const float TWO_PI = PI * 2.0;
					float smoothness_remapped = pow(smoothness, 5.0);	

					${l}

					// Construct final output color
					vec4 color = mix(colorA, colorB, draw);
					color.a = clamp(color.a, 0.0, 1.0);

					// Apply cuts
					color.a *= 
						step(vertical.x, custom_uv.y) * 
						step(custom_uv.y, vertical.y);
					color.a *= 
						step(horizontal.x, abs(custom_uv.x)) * 
						step(abs(custom_uv.x), horizontal.y);

					// Accumulate alpha 
					float lalpha = alpha * clamp(color.a, 0.0, 1.0) * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

					return clamp(color, 0.0, 1.0).rgb;
				}`,[o,i,Pc.DrawFunctions.circle,Pc.DrawFunctions.ring,Pc.DrawFunctions.polygon,Pc.DrawFunctions.cross,Pc.DrawFunctions.diamond,Pc.DrawFunctions.checkerboard,Pc.DrawFunctions.line,Pc.DrawFunctions.wave]),a=e.include(c),s=[];return s.push("normal"),s.push(this.blending.build(e,"f")),s.push(this.style.build(e,"i")),s.push(this.offset.build(e,"v2")),s.push(this.colorA.build(e,"v4")),s.push(this.colorB.build(e,"v4")),s.push(this.frequency.build(e,"v2")),s.push(this.size.build(e,"f")),s.push(this.variation.build(e,"f")),s.push(this.smoothness.build(e,"f")),s.push(this.zigzag.build(e,"f")),s.push(this.rotation.build(e,"f")),s.push(this.vertical.build(e,"v2")),s.push(this.horizontal.build(e,"v2")),s.push(this.sides.build(e,"i")),s.push(this.isMask.build(e,"b")),s.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),s.push(this.alpha.build(e,"f")),s.push(this.calpha),e.format(a+"("+s.join(",")+")",this.getType(e),t)}else return console.warn("PatterNode is not compatible with "+e.shader+" shader."),e.format("vec3(0.0)",this.getType(e),t)}},DQ=Pc;DQ.DrawFunctions=function(){let e=new Ze(`float hashwithoutsine12(vec2 p) {
				vec3 p3 = fract(vec3(p.xyx) * 0.1031);
				p3 += dot(p3, p3.yzx + 33.33);
				return fract((p3.x + p3.y) * p3.z);
			}`),t=new Ze(`vec2 tile_and_center(in vec2 uv, in vec2 frequency, in float variation, in float zigzag, in float rotation) {
                // Create tiles in UV-space
                uv *= frequency;

                // Integer coords
                vec2 i = floor(uv);

                // Offset every other row based on zigzag param, then compute fractional coords
                float row_offset = mod(i.y, 2.0);
                uv.x += row_offset * zigzag;
                vec2 f = fract(uv);

				// Rotate the tile itself:
				// const float mid = 0.5;
				// f = vec2(
				// 	cos(rotation) * (f.x - mid) + sin(rotation) * (f.y - mid) + mid,
				// 	cos(rotation) * (f.y - mid) - sin(rotation) * (f.x - mid) + mid
				// );
				// f = fract(f);

                f = f * 2.0 - 1.0;

				// Recompute integer coords after shifting - then, random value per tile 
				i = floor(uv);
				float rand = (hashwithoutsine12(i) * 5.0 + 1.0);
				float jitter = mix(1.0, rand, variation);
				f *= jitter;

                return f;
            }`,[e]),r=new Ze(`float circle(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(
                    -smoothness, 
                     smoothness, 
                     length(f) - size
                );
            }`,[t]),n=new Ze(`float ring(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);

				float d = length(f);
                const float inner_width = 0.5;

                float outer = smoothstep(-smoothness, smoothness, d - size);
                float inner = smoothstep(-smoothness, smoothness, d - size * inner_width);
				return outer + (1.0 - inner);   
            }`,[t]),i=new Ze(`float sdf_ngon(in vec2 p, in float r, in int n) {
                float an = (PI * 2.0) / float(n);
                float he = r * tan(0.5 * an);
                
                // Rotate to first sector
                p = -p.yx; 
                float bn = an * floor((atan(p.y, p.x) + 0.5 * an) / an);
                vec2  cs = vec2(cos(bn), sin(bn));
                p = mat2(cs.x, -cs.y, cs.y, cs.x)*p;
            
                // Side of polygon
                return length(p - vec2(r, clamp(p.y, -he, he))) * sign(p.x - r);
            }
            
            float polygon(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation, in int sides) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(-smoothness, smoothness, sdf_ngon(f, size, sides));
            }`,[t]),o=new Ze(`float sdf_cross(in vec2 p, in vec2 b, float r ) {
                p = abs(p); 
				p = (p.y > p.x) ? p.yx : p.xy;
                vec2  q = p - b;
                float k = max(q.y, q.x);
                vec2  w = (k > 0.0) ? q : vec2(b.y - p.x, -k);
                return sign(k) * length(max(w, 0.0)) + r;
            }
            
            // Avoid namespace conflicts 
            float xcross(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(-smoothness, smoothness, sdf_cross(f, vec2(size, size * 0.25), smoothness));
            }`,[t]),l=new Ze(`float ndot(vec2 a, vec2 b) { 
                return a.x*b.x - a.y*b.y; 
            }
            
            float sdf_diamond(in vec2 p, in vec2 b) {
                p = abs(p);
                float h = clamp(ndot(b - 2.0 * p, b) / dot(b, b), -1.0, 1.0);
                float d = length(p - 0.5 * b * vec2(1.0 - h, 1.0 + h));
                return d * sign(p.x * b.y + p.y * b.x - b.x * b.y);
            }

            float diamond(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
	            return smoothstep(-smoothness, smoothness, sdf_diamond(f, vec2(size)));
            }`,[t]),c=new Ze(`float checkerboard(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                uv *= frequency;
                vec2 i = floor(uv);

                float offset = mod(i.y, 2.0);

                uv.x += offset + zigzag * offset;
                float x = floor(uv.x);
                
                return mod(x, 2.0);
            }`),a=new Ze(`float line(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, 0.0, zigzag, rotation);
				
				// Different approach for variation param here
				float row = floor(uv * frequency).y;
				float rand = hashwithoutsine12(vec2(row));
				float s = mix(size, size * rand, variation);

				return smoothstep(
					s - smoothness, 
					s + smoothness, 
					abs(f.y)
				);
            }`,[t]),s=new Ze(`// Uses bisection 
            float udf_cos(in vec2 p, in float a, in float b, in float c, in float d) {
                // Convert all data to a primitive cosine wave
                p = c * (p - vec2(d, a));
                
                const float TWO_PI = PI * 2.0;

                // Reduce to principal half cycle
                p.x = mod(p.x, TWO_PI); 
                if (p.x > PI) {
                    p.x = TWO_PI - p.x;
                }
            
                // Find zero of derivative (minimize distance)
                float xa = 0.0;
                float xb = TWO_PI;

                // 24 bit precision
                for (int i = 0; i < 24; i++) {
                    float x = 0.5 * (xa + xb);
                    float y = x - p.x + b * c * sin(x) * (p.y - b * c * cos(x));
                    if (y < 0.0) xa = x; 
                    else xb = x;
                }
                float x = 0.5 * (xa + xb);
                
                // Compute distance    
                vec2 q = vec2(x, b * c * cos(x));
                return length(p - q) / c;
            }

            float wave(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                float repeat = frequency.x;
                uv *= repeat;
                vec2 i = floor(uv);
                float row_offset = mod(i.y, 2.0);
                uv.x += row_offset * zigzag;
                vec2 f = vec2(uv.x, fract(uv.y));

                // Generalized cosine: y(x) = a + b * cos(cx + d)
                const float amplitude = 0.125;
                float wave_frequency = frequency.y * 0.1;
                float distance_estimate = udf_cos(f, 0.50, amplitude, wave_frequency * (2.0 * PI), 0.0);

				// Different approach for variation param here
				float rand = hashwithoutsine12(vec2(i.y));
				float s = mix(size, size * rand, variation);

                return smoothstep(-smoothness, smoothness, distance_estimate - s * 0.5);
            }`);return{tileAndCenter:t,circle:r,ring:n,polygon:i,cross:o,diamond:l,checkerboard:c,line:a,wave:s}}();var jQ=class extends Dr{constructor(e,t,r,n,i,o,l,c){super("v3"),this.nodeType="Rainbow",this.filmThickness=e,this.movement=t,this.wavelengths=r,this.noiseStrength=n,this.noiseScale=i,this.offset=o,this.isMask=c,this.alpha=l,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let r=e.include(jQ.Nodes.rainbow),n=[];return n.push(this.filmThickness.build(e,"f")),n.push(this.movement.build(e,"f")),n.push(this.wavelengths.build(e,"v3")),n.push(this.noiseStrength.build(e,"f")),n.push(this.noiseScale.build(e,"f")),n.push(this.offset.build(e,"v3")),n.push(this.isMask.build(e,"b")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("RainbowNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},IQ=jQ;IQ.Nodes=function(){let e=new Ze(`vec3 attenuation(vec3 wavelengths, float filmThickness, float movement, float noiseStrength, float noiseScale, vec3 offset) {
                 vec3 st = position / noiseScale;
				 vec3 q = vec3(simplex3d(st),
							  simplex3d(st + vec3(1.0)),
							  simplex3d(st + vec3(1.0)));

				 vec3 r = vec3(simplex3d(st + vec3(1.4, 1.3, 1.0) * q + vec3(1.7, 9.2, 1.0)),
							  simplex3d(st + vec3(2.0, 1.2, 1.0) * q + vec3(8.3, 2.8, 1.0)),
							  simplex3d(st * q));

                 float noise = simplex3d(st + r);

                 return .5 + .5 * cos((((filmThickness + (noise * noiseStrength)) / (vec3(wavelengths.r * 1.0, wavelengths.g * 0.8, wavelengths.b * 0.6) + 1.0)) * dot(normalize(vWorldViewDir + (offset * -0.001)), normalize(vWNormal))) + movement);
             }`,[Oo.simplex]);return{rainbow:new Ze(`vec3 rainbow(float filmThickness, float movement, vec3 wavelengths, float noiseStrength, float noiseScale, vec3 offset, bool isMask, float mask, float alpha, out float calpha) {
				vec3 res = clamp(attenuation(wavelengths, filmThickness, movement, noiseStrength, noiseScale, offset), 0.0, 2.0);

				float rainbowContribution = clamp(res.r + res.g + res.b, 0.0, 1.0);

				float lalpha = alpha * rainbowContribution * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return res;
             }`,[e])}}();var OQ=class extends Dr{constructor(e,t,r,n,i,o,l,c,a,s){super("v3"),this.nodeType="Toon",this.positioning=e,this.colors=t,this.steps=r,this.source=n,this.isWorldSpace=i,this.noiseStrength=o,this.noiseScale=l,this.shadowColor=c,this.offset=a,this.alpha=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("worldNormal"),e.require("worldPosition"),e.isShader("fragment")){e.define("COLORS_MAX",10),e.addFragmentVariable(this.calpha,"float");let r=e.include(OQ.Nodes.toon),n=[];return n.push(this.positioning.build(e,"i")),n.push(this.colors.build(e,"v4[]")),n.push(this.steps.build(e,"f[]")),n.push(this.source.build(e,"v3")),n.push(this.isWorldSpace.build(e,"b")),n.push(this.noiseStrength.build(e,"f")),n.push(this.noiseScale.build(e,"f")),n.push(this.shadowColor.build(e,"v4")),n.push(this.offset.build(e,"v3")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("ToonNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},RQ=OQ;RQ.Nodes=function(){let e=new Ze(`float rand(float n) {
				return fract(sin(n) * 43758.5453123);
			}`),t=new Ze(`float hash1(float p) { 
				p = fract(p * 0.011); 
				p *= p + 7.5; 
				p *= p + p; 
				return fract(p); 
			}`),r=new Ze(`float valueNoise(vec3 x) {
				const vec3 step = vec3(110, 241, 171);
			
				vec3 i = floor(x);
				vec3 f = fract(x);
			 
				// For performance, compute the base input to a 1D hash from the integer part of the argument and the 
				// incremental change to the 1D based on the 3D -> 1D wrapping
				float n = dot(i, step);
			
				vec3 u = f * f * (3.0 - 2.0 * f);
				return mix(mix(mix( hash1(n + dot(step, vec3(0, 0, 0))), hash1(n + dot(step, vec3(1, 0, 0))), u.x),
							   mix( hash1(n + dot(step, vec3(0, 1, 0))), hash1(n + dot(step, vec3(1, 1, 0))), u.x), u.y),
						   mix(mix( hash1(n + dot(step, vec3(0, 0, 1))), hash1(n + dot(step, vec3(1, 0, 1))), u.x),
							   mix( hash1(n + dot(step, vec3(0, 1, 1))), hash1(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);
			}`,[t]),n=new Ze(`vec3 hash3(vec3 x) {
				x = vec3(dot(x,vec3(127.1, 311.7, 74.7)),
						 dot(x,vec3(269.5, 183.3, 246.1)),
						 dot(x,vec3(113.5, 271.9, 124.6)));
			
				return fract(sin(x)*43758.5453123);
			}`),i=new Ze(`vec3 voronoiNoise(in vec3 x)
			{
				vec3 p = floor(x);
				vec3 f = fract(x);

				float id = 0.0;
				vec2 res = vec2(100.0);

				for(int k=-1; k<=1; k++)
				for(int j=-1; j<=1; j++)
				for(int i=-1; i<=1; i++)
				{
					vec3 b = vec3(float(i), float(j), float(k));

					// Comment out the "+ hash(p + b);" part below to get "square" cells
					vec3 r = vec3(b) - f + hash3(p + b);
					float d = dot(r, r);

					if (d < res.x)
					{
						id = dot(p + b, vec3(1.0, 57.0, 113.0));
						res = vec2(d, res.x);			
					}
					else if (d < res.y)
					{
						res.y = d;
					}
				}

				return vec3(sqrt(res), abs(id));
			}
			`,[n]);return{toon:new Ze(`vec3 toon(int positioning, vec4 colors[COLORS_MAX], float steps[COLORS_MAX], vec3 source, bool isWorldSpace, float noiseStrength, float noiseScale, vec4 shadowColor, vec3 offset, float mask, float alpha, out float calpha) {
				float t = 0.0;
				float shadow = 1.0;

				if (positioning == 0) {

					// Can't do this mode if lighting is "none"
					#if (defined(PHONG) || defined(LAMBERT) || defined(STANDARD))

						// Algorithm from Chapter 10 of Graphics Shaders
						const vec3 weights = vec3(0.2125, 0.7154, 0.0721);
						vec3 lpos;
						vec3 l;
						float dproduct;

						#if (NUM_POINT_LIGHTS > 0)

							#if defined(USE_SHADOWMAP) && (NUM_POINT_LIGHT_SHADOWS > 0)
								PointLightShadow pointLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_POINT_LIGHTS; i++) {
								// Light positions are in view-space for some reason?
								lpos = (inverse(viewMatrix) * vec4(pointLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;
								l = normalize(lpos - worldPosition);
								
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								
								// TODO: we want to use "intensity" but it isn't available in the shader code
								//dproduct += dot(pointLights[UNROLLED_LOOP_INDEX].color, weights);

								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS)
									pointLightShadow = pointLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getPointShadow( 
											pointShadowMap[UNROLLED_LOOP_INDEX], 
											pointLightShadow.shadowMapSize, 
											pointLightShadow.shadowBias, 
											pointLightShadow.shadowRadius,
											vPointShadowCoord[UNROLLED_LOOP_INDEX], 
											pointLightShadow.shadowCameraNear, 
											pointLightShadow.shadowCameraFar);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						#if NUM_DIR_LIGHTS > 0 
							
							#if defined(USE_SHADOWMAP) && (NUM_DIR_LIGHT_SHADOWS > 0)
								DirectionalLightShadow directionalLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_DIR_LIGHTS; i++) {
								// Use the direction vector for directional lights instead
								l = (inverse(viewMatrix) * vec4(directionalLights[UNROLLED_LOOP_INDEX].direction, 0.0)).xyz;
		
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS)
									directionalLightShadow = directionalLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getShadow( 
										UNROLLED_LOOP_INDEX,
										directionalShadowMap[UNROLLED_LOOP_INDEX], 
										directionalLightShadow.shadowMapSize, 
										directionalLightShadow.shadowBias, 
										directionalLightShadow.shadowRadius, 
										vDirectionalShadowCoord[UNROLLED_LOOP_INDEX]);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						#if NUM_SPOT_LIGHTS > 0 
							
							#if defined(USE_SHADOWMAP) && (NUM_SPOT_LIGHT_SHADOWS > 0)
								SpotLightShadow spotLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_SPOT_LIGHTS; i++) {
								lpos = (inverse(viewMatrix) * vec4(spotLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;
								l = normalize(lpos - worldPosition);
								
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS)
									spotLightShadow = spotLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getShadow(
										UNROLLED_LOOP_INDEX,
										spotShadowMap[UNROLLED_LOOP_INDEX], 
										spotLightShadow.shadowMapSize, 
										spotLightShadow.shadowBias, 
										spotLightShadow.shadowRadius, 
										vSpotLightCoord[UNROLLED_LOOP_INDEX]);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						t = clamp(t, 0.0, 1.0);
				
					#endif

				} else if (positioning == 1) {
					
					vec3 origin = mix(position, worldPosition, float(isWorldSpace));
					vec3 direction = normalize(source - origin);
					t = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;	

				} else {

					vec3 origin = worldPosition;
					vec3 source = cameraPosition - offset;
					vec3 direction = normalize(source - origin);
					t = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;	
					
				}

				if (noiseStrength > 0.0) {
					// Distort with noise
					vec3 st = position / noiseScale;
					
					// Voronoi "smooth" noise
					float noise = 1.0 - voronoiNoise(st).x;

					// Voronoi cellular noise
					//float noise = 1.0 - rand(voronoiNoise(st).z);

					// Position warp noise
					// vec3 offset = vec3(
					// 	simplex3d(st),
					// 	simplex3d(st + vec3(111.1, 143.89, 217.19)),
					// 	simplex3d(st + vec3(171.1, 247.89, 117.23))
					// );
					// st += offset;
					// float noise = valueNoise(st);

					t += noise * noiseStrength;
				}

				t = clamp(t, 0.0, 1.0);

				// Compute ramp color
				float p;
				vec4 color = colors[0];
				for (int i = 1; i < COLORS_MAX; i++) {
					p = clamp((t - steps[i-1]) / (steps[i] - steps[i-1]), 0.0, 1.0);
					color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
				}

				// Incorporate custom shadow color
				if (positioning == 0) {

					vec3 blendedShadow = mix(color.rgb, shadowColor.rgb, shadowColor.a);
					color.rgb = mix(blendedShadow, color.rgb, shadow);
				
				}

				// Accumulate alpha as usual
				float lalpha = alpha * color.a * mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha;

				return color.xyz;

            }`,[Oo.simplex,e,r,i])}}();var jRe=function(){return{textureBicubic:new Ze(`float w0( float a ) {
            return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
        }
    
        float w1( float a ) {
            return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
        }
    
        float w2( float a ){
            return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
        }
    
        float w3( float a ) {
            return ( 1.0 / 6.0 ) * ( a * a * a );
        }
    
        // g0 and g1 are the two amplitude functions
        float g0( float a ) {
            return w0( a ) + w1( a );
        }
    
        float g1( float a ) {
            return w2( a ) + w3( a );
        }
    
        // h0 and h1 are the two offset functions
        float h0( float a ) {
            return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
        }
    
        float h1( float a ) {
            return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
        }
    
        vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
            uv = uv * texelSize.zw + 0.5;
    
            vec2 iuv = floor( uv );
            vec2 fuv = fract( uv );
    
            float g0x = g0( fuv.x );
            float g1x = g1( fuv.x );
            float h0x = h0( fuv.x );
            float h1x = h1( fuv.x );
            float h0y = h0( fuv.y );
            float h1y = h1( fuv.y );
    
            vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
            vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
            vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
            vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
    
            return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) + 
                   g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
        }

        vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
            vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
            vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
            vec2 fLodSizeInv = 1.0 / fLodSize;
            vec2 cLodSizeInv = 1.0 / cLodSize;
            vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
            vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
            return mix( fSample, cSample, fract( lod ) );
        }`)}}();function IRe(e,t){return e>=t?new oe(t/e,1):new oe(1,e/t)}var LQ=class extends Dr{constructor(e,t,r,n,i,o,l,c){super("v3"),this.nodeType="Transmission",this.thickness=e,this.ior=t,this.roughness=r,this.transmissionSamplerSize=n,this.transmissionSamplerMap=i,this.transmissionDepthMap=o,this.aspectRatio=l,this.alpha=c,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0,e.isShader("fragment")){e.define("NUM_SAMPLES",6),e.define("BLUR_SLOD",Math.pow(2,St.transmissionLod.value)),e.require("worldPosition"),e.requires.worldNormal=!0,e.requires.modelMatrix=!0,e.requires.projectionMatrix=!0,e.addFragmentVariable(this.calpha,"float");let r=e.include(LQ.Nodes.transmission),n=[];return n.push(this.thickness.build(e,"f")),n.push(this.ior.build(e,"f")),n.push(this.roughness.build(e,"f")),n.push(this.transmissionSamplerSize.build(e,"v2")),n.push(this.transmissionSamplerMap.getTexture(e,"t")),n.push(this.transmissionDepthMap.getTexture(e,"t")),n.push(this.aspectRatio.build(e,"v2")),n.push("normal"),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("TransmissionNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},zQ=LQ;zQ.Nodes=function(){let e=new Ze(`vec3 blur(sampler2D sp, vec2 U, vec2 scale, float lod, sampler2D dm, vec2 unrefractedU, vec2 aspectRatio) {
                // Slightly modified version of this:
                // https://www.shadertoy.com/view/ltScRG

				// Special case for blur == 0.0
				if (lod == 0.0) {
					#ifdef TEXTURE_LOD_EXT
					return texture2DLodEXT( sp, U, 0.0).rgb;
					#else
					return textureLod( sp, U, 0.0).rgb;
					#endif
				}
				
				vec2 texelSize = vec2(1.0) / resolution;
                vec2 halton = haltonSequence[frameIndex];
                float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
                float temporalAngle  = temporalOffset * PI2;
				vec3 res = vec3(0.0);
                vec2 uv = vec2(0.0);
                vec2 offset = vec2(0.0);
                vec2 vogelSample = vec2(0.0);
                for (int i = 0; i < NUM_SAMPLES; i++) {
                    vogelSample =  vogelDiskSample(i, NUM_SAMPLES, temporalAngle) * texelSize;
                    offset = vogelSample * scale * (lod * 10.0); // TODO: used to be hardcoded to 20
                    uv = U + offset;
                    float opaqueDepth = unpackRGBAToDepth(textureLod(dm, uv, lod));
                    if (opaqueDepth != 0.0 && opaqueDepth < gl_FragCoord.z) {
                        uv = unrefractedU;
                        lod = lod > 4.0 ? lod : lod / 2.0;
                    }
                    res += textureLod(sp, uv, lod).rgb;
                }
                return res / float(NUM_SAMPLES);
            }`),t=new Ze(`vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		        // Direction of refracted light.
		        vec3 refractionVector = refract( -v,  n, 1.0 / ior );
		        
				// Compute rotation-independant scaling of the model matrix.
		        vec3 modelScale;
		        modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		        modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		        modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );

		        // The thickness is specified in local space
		        return normalize( refractionVector ) * thickness * modelScale;
	        }`),r=new Ze(`float applyIorToRoughness( float roughness, float ior ) {
				// Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and
				// an IOR of 1.5 results in the default amount of microfacet refraction.
				return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
			}`),n=new Ze(`vec3 getTransmissionSample( vec2 fragCoord, float roughness, float ior, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 unrefractedCoords, vec2 aspectRatio) {
				// Threejs exports do not pass a depth map to this shader, so we have to fallback to the "Threejs method of blurring" - see
				// also the code in convertTransmission.ts, which runs during export
				#ifdef IS_THREEJS_EXPORT
					float lod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness / 5.0, ior);
					return textureBicubic(transmissionSamplerMap, fragCoord.xy, lod).rgb;
				#else
					float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
					float lod = applyIorToRoughness(roughness, ior);
					return blur(transmissionSamplerMap, fragCoord, vec2(lod), min(framebufferLod / 5.5, 8.5), transmissionDepthMap, unrefractedCoords, aspectRatio);
				#endif
			}`,[jRe.textureBicubic,r,e]),i=new Ze(`vec3 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;

				// Project refracted vector on the framebuffer, while mapping to normalized device coordinates.
				vec4 ndcPos = projMatrix * viewMatrix *  vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;

				vec4 ndcPosUnrefracted = projMatrix * viewMatrix * vec4(position, 1.0 );
				vec2 unrefractedCoords = ndcPosUnrefracted.xy / ndcPosUnrefracted.w;
				unrefractedCoords += 1.0;
				unrefractedCoords /= 2.0;

				// Sample framebuffer to get pixel the refracted ray hits.
				return getTransmissionSample( refractionCoords, roughness, ior, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, unrefractedCoords, aspectRatio );
    		}`,[n,t]);return{transmission:new Ze(`vec3 transmission(float thickness, float ior, float roughness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio, vec3 normal, float mask, float alpha, out float calpha) {
                vec3 v = vec3(0.);
                if (isOrthographic) {
                    v = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
                } else {
                    v = normalize(vWPosition - cameraPosition);
                }
                vec3 transmission = getIBLVolumeRefraction(vWNormal, -v, roughness,  vWPosition, modelMatrix, viewMatrix, projectionMatrix, ior, thickness, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, aspectRatio );
                
				float lalpha = alpha * mask;
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * alpha;

				return transmission;
            }`,[i])}}();var t5=(e=>(e.NOISE="noise",e.MAP="map",e))(t5||{}),NQ=class extends Dr{constructor(e,t,r,n,i,o,l,c,a,s,u){super("v3"),this.displacementTypeIndex=new Ir(0),this.nodeType="VertexDisplacement",this.intensity=e,this.movementOrTexture=t,Object.values(t5)[this.displacementTypeIndex.value]==="map"&&(this.mat=new bQ(this.movementOrTexture.value.matrix)),this.cropOrOffset=r,this.scale=s,this.noiseFunctionIndex=u,this.voronoiStyle=n,this.smoothness=i,this.seed=o,this.highCut=l,this.lowCut=c,this.quality=a}generate(e,t){if(e.isShader("vertex")){e.define("USE_LAYER_DISPLACE");let r,n=[];switch(n.push("displaced_position"),n.push("displaced_normal"),Object.values(t5)[this.displacementTypeIndex.value]){case"map":{r=e.include(NQ.Nodes.map),n.push(this.movementOrTexture.getTexture(e,"t")),n.push("uv"),n.push(this.cropOrOffset.build(e,"f")),this.mat&&n.push(this.mat.build(e,"mat3"));break}case"noise":{let i=Object.values(E6)[this.noiseFunctionIndex.value],o=new Ze(`vec3 orthogonal(vec3 v) {
							return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));
						}`),l=i=="voronoi"?`
					float v = ${i}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1), voronoiStyle, smoothness, seed, quality);
					v = remap(v, lowCut, highCut, 0.0, 1.0);
					v = smax(v, 0.0, smoothness * 0.25);
					v = smin(v, 1.0, smoothness * 0.25);

					return p + n * v * intensity;
					`:`
					return p + n * ${i}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1)) * intensity;
					`,c=new Ze(`vec3 distorted(vec3 p, vec3 n, float scale, float intensity, vec3 offset, float neighbour_offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality) {
							${l}
						}`,[Oo.simplex,Oo.simplexFractal,Oo.simplexAshima,Oo.fbm,Oo.perlin,Oo.voronoi]),a=new Ze(`vec3 vertexDisplacementNoise(vec3 position, vec3 normal, float scale, vec3 offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality, float intensity, out vec3 displaced_normal) {
							vec3 displaced_position = distorted(position, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							vec3 tangent1 = orthogonal(normal);
							vec3 tangent2 = normalize(cross(normal, tangent1));

                            // TODO(Max): The distance to the neighbors was originally scaled by 0.1.
                            // This caused some small oval/circular visual artifacts in the lighting.
                            // For now, simply using neighbors further away betters the problem,
                            // but we should figure out the underlying cause when we have some time.
                            // Maybe its related to how we calculate the tangent and bitangent?
							vec3 nearby1 = position + tangent1;
							vec3 nearby2 = position + tangent2;
							vec3 distorted1 = distorted(nearby1, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							vec3 distorted2 = distorted(nearby2, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));
							return displaced_position;
						}`,[c,o]);r=e.include(a),n.push(this.scale.build(e,"f")),n.push(this.cropOrOffset.build(e,"v3")),n.push(this.movementOrTexture.build(e,"f")),n.push(this.voronoiStyle.build(e,"i")),n.push(this.smoothness.build(e,"f")),n.push(this.seed.build(e,"f")),n.push(this.highCut.build(e,"f")),n.push(this.lowCut.build(e,"f")),n.push(this.quality.build(e,"i"));break}}return n.push(this.intensity.build(e,"f")),n.push("displaced_normal"),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("VertexDisplacementNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},BQ=NQ;BQ.Nodes=function(){let e=new Ze(`vec3 orthogonal(vec3 v) {
				return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));
			}`),t=new Ze(`float displacementMapTexture(sampler2D tex, float crop, vec2 uv, mat3 mat, vec2 offset) {
				vec2 uvs = (mat * vec3(uv * 2.0 - 1.0, 1.0) / 2.0 + 0.5).xy + offset;
				vec4 tmp = texture2D(tex, uvs);
				vec3 col = tmp.rgb;
				if (crop > 0.5) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						return 0.0;
					}
				}
				return col.r;
			}`);return{map:new Ze(`vec3 vertexDisplacementMap(vec3 position, vec3 normal, sampler2D tex, vec2 uv, float crop, mat3 mat, float intensity, out vec3 displaced_normal) {
				vec3 displaced_position = position + normal * displacementMapTexture(tex, crop, uv, mat, vec2(0.0)) * intensity;
				vec3 tangent1 = normalize(orthogonal(normal));
				vec3 tangent2 = normalize(cross(normal, tangent1));
				vec3 nearby1 = position + tangent1 * 0.1;
				vec3 nearby2 = position + tangent2 * 0.1;
				vec3 distorted1 = nearby1 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;
				vec3 distorted2 = nearby2 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;
				displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));
				return displaced_position;
			}`,[e,t])}}();var St={normalRenderTarget:new Wc,normalRenderTargetDepth:new Wc,transmissionRenderTarget:new Wc,aspectRatio:new Pi,transmissionSize:new Pi(2048,2048),transmissionRenderTargetDepth:new Wc,aoRenderTarget:new Wc,aoEnabled:new po,pixelRatioNode:new at(1),resolution:new Pi,penumbraSize:new wh(5,.5),frameIndex:new Ir(0),transmissionLod:new Ir(2)};for(let e of Object.values(St))e.isRenderGlobal=!0;var FQ=class extends Jd{constructor(){super("basic"),this.nodeType="Basic",this.color=new _n(ms),this.shadingAlpha=new at(1),this.shadingBlend=new Ir(0),this.previousModelViewMatrix=new ac,this.previouseProjectionMatrix=new ac}get category(){return"phong"}generate(e){let t;if(e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:St.frameIndex}),e.mergeUniform({resolution:St.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(Qg.merge([Qe.fog])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>"].join(`
`));let n=["#include <beginnormal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#if defined( USE_LAYER_DISPLACE )
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <begin_vertex>
				#endif /* !USE_LAYER_DISPLACE */
				`];r&&n.push(r.code,r.result?"displaced_position = "+r.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","	vNormal = transformedNormal;","#endif"),n.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>"),n.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=n.join(`
`)}else{this.color===void 0&&(this.color=new _n(ms)),this.color.analyze(e,{slot:"color"}),this.alpha&&this.alpha.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"});let r=this.color.flow(e,"c",{slot:"color"}),n=this.alpha?this.alpha.flow(e,"f"):void 0,i=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,o=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0;e.requires.transparent=n!==void 0,e.addParsCode(["varying vec3 vWPosition;","#include <fog_pars_fragment>","#include <dithering_pars_fragment>","varying vec3 vViewPosition;","#include <normal_pars_fragment>"].join(`
`));let l=["#include <normal_fragment_begin>",r.code];n&&l.push(n.code,"#ifdef ALPHATEST"," if ( "+n.result+" <= ALPHATEST ) discard;","#endif"),o?l.push(o.code,`vec3 outgoingLight = ${r.result};`,`vec3 finalColor = spe_blend(outgoingLight, ${o.result}, 1.0, SPE_BLENDING_NORMAL);`):l.push(`vec3 finalColor = ${r.result};`);let c="1.0";this.mask&&(this.mask.analyze(e),c=`luminance(${this.mask.flow(e,"v3").result})`),n?l.push(`gl_FragColor = vec4( finalColor, accumAlpha * ${n.result} * ${c} );`):l.push("gl_FragColor = vec4("+r.result+", 1.0 );"),i&&l.push(`gl_FragColor.a *= ${i.result};`),l.push("#include <fog_fragment>","#include <dithering_fragment>"),t=l.join(`
`)}return t}},ORe=class extends Jd{constructor(){super("lambert"),this.nodeType="Lambert",this.color=new _n(ms),this.emissive=new _n(0),this.emissiveIntensity=new at(1),this.previousModelViewMatrix=new ac,this.previouseProjectionMatrix=new ac,this.shadingAlpha=new at(1),this.shadingBlend=new Ir(0),this.occlusion=new po(!0)}get category(){return"lambert"}build(e){let t;if(e.define("LAMBERT"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:St.frameIndex}),e.mergeUniform({resolution:St.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(Qg.merge([Qe.fog,Qe.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","	varying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let n=["#include <beginnormal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];r&&n.push(r.code,r.result?"displaced_position = "+r.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),n.push("	#include <project_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>",`
					vec3 diffuse = vec3( 1.0 );
					GeometricContext geometry;
					geometry.position = mvPosition.xyz;
					geometry.normal = normalize( transformedNormal );
					geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
				`),n.push(`
					GeometricContext backGeometry;
					backGeometry.position = geometry.position;
					backGeometry.normal = -geometry.normal;
					backGeometry.viewDir = geometry.viewDir;
					vLightFront = vec3( 0.0 );
					vIndirectFront = vec3( 0.0 );
					#ifdef DOUBLE_SIDED
						vLightBack = vec3( 0.0 );
						vIndirectBack = vec3( 0.0 );
					#endif
					IncidentLight directLight;
					float dotNL;
					vec3 directLightColor_Diffuse;
					vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
					vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
					#ifdef DOUBLE_SIDED
						vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
						vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
					#endif
					#if NUM_POINT_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
							getPointLightInfo( pointLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_SPOT_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
							getSpotLightInfo( spotLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_DIR_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
							getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_HEMI_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
							vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
							#ifdef DOUBLE_SIDED
								vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
							#endif
						}
						#pragma unroll_loop_end
					#endif
				`,"	#include <shadowmap_vertex>","	#include <fog_vertex>"),n.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=n.join(`
`)}else{e.mergeUniform({penumbraSize:St.penumbraSize}),e.mergeUniform({frameIndex:St.frameIndex}),e.mergeUniform({aoMap:St.aoRenderTarget}),e.mergeUniform({aoEnabled:St.aoEnabled}),this.color===void 0&&(this.color=new _n(ms)),this.color.analyze(e,{slot:"color"}),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let r=this.color.flow(e,"c",{slot:"color"}),n=this.emissive.flow(e,"c",{slot:"emissive"}),i=this.emissiveIntensity.flow(e,"f",{slot:"emissive"}),o=this.occlusion.flow(e,"b",{slot:"occlusion"}),l=this.shadingAlpha.flow(e,"f"),c=this.shadingBlend.flow(e,"i"),a=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,s=this.alpha?this.alpha.flow(e,"f"):void 0,u=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=s!==void 0,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#include <normal_pars_fragment>","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","	varying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <fog_pars_fragment>","#include <shadowmap_pars_fragment>","#include <shadowmask_pars_fragment>","#include <clipping_planes_pars_fragment>","#include <dithering_pars_fragment>"].join(`
`));let d=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx, viewdy));
				bool isFrontFacing = (dot(normal, faceNormal) >= 0.0);
				`,"#include <clipping_planes_fragment>"];d.push(r.code,"vec3 diffuseColor = "+r.result+";","ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );"),s&&d.push(s.code,"#ifdef ALPHATEST","if ( "+s.result+" <= ALPHATEST ) discard;","#endif"),d.push("#ifdef DOUBLE_SIDED","	reflectedLight.indirectDiffuse += ( isFrontFacing ) ? vIndirectFront : vIndirectBack;","#else","	reflectedLight.indirectDiffuse += vIndirectFront;","#endif","#include <lightmap_fragment>","reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );","#ifdef DOUBLE_SIDED","	reflectedLight.directDiffuse = ( isFrontFacing ) ? vLightFront : vLightBack;","#else","	reflectedLight.directDiffuse = vLightFront;","#endif","reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();"),n&&d.push(n.code,"reflectedLight.directDiffuse += "+n.result+" * "+i.result+";"),d.push("vec3 ao = aoEnabled && "+o.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = (reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) ;");let h="1.0";this.mask&&(this.mask.analyze(e),h=`luminance(${this.mask.flow(e,"v3").result})`),d.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${l.result} * ${h} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${l.result} * ${h}, ${c.result} );

					outgoingLight *= ao;
				}
				`),a&&d.push(a.code,`outgoingLight = spe_blend(outgoingLight, ${a.result}, 1.0, SPE_BLENDING_NORMAL);`),s?d.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${s.result} );`):d.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),u&&d.push(`gl_FragColor.a *= ${u.result};`),d.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=d.join(`
`)}return t}},Pg=function(){let e=new Ze(`vec2 dHdxy(sampler2D bumpMap, vec2 bumpMapUv, float bumpScale) {

            // Gradient of UVs w.r.t. X coordinate (in screen-space)
            vec2 dSTdx = dFdx(bumpMapUv);

            // Gradient of UVs w.r.t. Y coordinate (in screen-space)
            vec2 dSTdy = dFdy(bumpMapUv);
            
            // Forward differencing
            float Hll = bumpScale * luminance(texture(bumpMap, bumpMapUv).rgb);
            float dBx = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdx).rgb) - Hll;
            float dBy = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdy).rgb) - Hll;
            
            return vec2( dBx, dBy );
        }`),t=new Ze(`vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
            vec3 vSigmaX = dFdx( surf_pos.xyz );
            vec3 vSigmaY = dFdy( surf_pos.xyz );
            vec3 vN = surf_norm; // normalized
            
            vN = normalize(vN);

            vec3 R1 = cross( vSigmaY, vN );
            vec3 R2 = cross( vN, vSigmaX );

            R1 = normalize(R1);
            R2 = normalize(R2);
    
            float fDet = dot( vSigmaX, R1 ) * faceDirection;
    
            vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
            return normalize( abs( fDet ) * vN - vGrad );
        }`);return{dHdxy:e,perturbNormalArb:t}}(),RRe=class extends Jd{constructor(){super("phong"),this.nodeType="Phong",this.color=new _n(ms),this.specular=new _n(1118481),this.shininess=new at(30),this.previousModelViewMatrix=new ac,this.previouseProjectionMatrix=new ac,this.shadingAlpha=new at(1),this.shadingBlend=new Ir(0),this.occlusion=new po(!0)}get category(){return"phong"}build(e){let t;if(e.define("PHONG"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:St.frameIndex}),e.mergeUniform({resolution:St.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(Qg.merge([Qe.fog,Qe.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let n=["#include <beginnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif


				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];r&&n.push(r.code,r.result?"displaced_position = "+r.result+";":""),n.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),n.push("	#include <project_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>","	#include <shadowmap_vertex>","	#include <fog_vertex>"),n.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=n.join(`
`)}else{e.mergeUniform({penumbraSize:St.penumbraSize}),e.mergeUniform({frameIndex:St.frameIndex}),e.mergeUniform({aoMap:St.aoRenderTarget}),e.mergeUniform({aoEnabled:St.aoEnabled}),this.color===void 0&&(this.color=new _n(ms)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e);let r=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let n=this.color.flow(e,"c",{slot:"color"}),i=this.specular.flow(e,"c"),o=this.shininess.flow(e,"f"),l=this.shadingAlpha.flow(e,"f"),c=this.shadingBlend.flow(e,"i"),a=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,s=this.alpha?this.alpha.flow(e,"f"):void 0,u=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=s!==void 0,e.addParsCode(["varying vec3 vWPosition;","uniform vec3 emissive;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_phong_pars_fragment>","#include <shadowmap_pars_fragment>","#include <dithering_pars_fragment>"].join(`
`));let d=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	BlinnPhongMaterial material;"];if(this.bumpMap){e.include(Pg.dHdxy),e.include(Pg.perturbNormalArb);let f=this.bumpMap.texture.flow(e,"t"),m=this.bumpMap.flow(e,"v3"),p=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",g="";this.bumpMap.projection.value===4?g=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${f.result}, uv0, ${p});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${f.result}, uv1, ${p});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${f.result}, uv2, ${p});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:g=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${f.result}, bumpMapCachedUv, ${p});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,d.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${m.result};
					${g}
					`)}d.push(n.code,"	vec3 diffuseColor = "+n.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","	vec3 totalEmissiveRadiance = emissive;",i.code,"	vec3 specular = "+i.result+";",o.code,"	float shininess = max( 0.0001, "+o.result+" );","	float specularStrength = 1.0;"),s&&d.push(s.code,"#ifdef ALPHATEST","if ( "+s.result+" <= ALPHATEST ) discard;","#endif"),d.push("material.diffuseColor = diffuseColor;"),d.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),d.push("vec3 ao = aoEnabled && "+r.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;");let h="1.0";this.mask&&(this.mask.analyze(e),h=`luminance(${this.mask.flow(e,"v3").result})`),d.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${l.result} * ${h} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${l.result} * ${h}, ${c.result} );
					
					outgoingLight *= ao;
				}
				`),a&&d.push(a.code,`outgoingLight = spe_blend(outgoingLight, ${a.result}, 1.0, SPE_BLENDING_NORMAL);`),s?d.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${s.result});`):d.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),u&&d.push(`gl_FragColor.a *= ${u.result};`),d.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=d.join(`
`)}return t}},LRe=class extends Jd{constructor(){super("standard"),this.nodeType="Standard",this.color=new _n(ms),this.roughness=new at(.3),this.metalness=new at(0),this.reflectivity=new at(.5),this.previousModelViewMatrix=new ac,this.previouseProjectionMatrix=new ac,this.shadingAlpha=new at(1),this.shadingBlend=new Ir(0),this.occlusion=new po(!0)}get category(){return"physical"}build(e){let t;if(e.define("STANDARD"),e.requires.lights=!0,e.extensions.derivatives=!0,e.extensions.shaderTextureLOD=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:St.frameIndex}),e.mergeUniform({resolution:St.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(Qg.merge([Qe.fog,Qe.lights])),Qe.LTC_1&&(e.uniforms.ltc_1={value:void 0},e.uniforms.ltc_2={value:void 0}),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let n=["#include <beginnormal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#if defined( USE_LAYER_DISPLACE )
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <begin_vertex>
				#endif /* !USE_LAYER_DISPLACE */
				`];r&&n.push(r.code,r.result?"displaced_position = "+r.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),n.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>","#include <shadowmap_vertex>"),n.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=n.join(`
`)}else{e.mergeUniform({penumbraSize:St.penumbraSize}),e.mergeUniform({frameIndex:St.frameIndex}),e.mergeUniform({aoMap:St.aoRenderTarget}),e.mergeUniform({aoEnabled:St.aoEnabled});let r={gamma:!0};this.color===void 0&&(this.color=new _n(ms)),this.color.analyze(e,{slot:"color",context:r}),this.roughness.analyze(e),this.metalness.analyze(e);let n=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e),this.reflectivity&&this.reflectivity.analyze(e);let i=this.color.flow(e,"c",{slot:"color",context:r}),o=this.roughness.flow(e,"f"),l=this.metalness.flow(e,"f"),c=this.shadingAlpha.flow(e,"f"),a=this.shadingBlend.flow(e,"i"),s=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,u=this.alpha?this.alpha.flow(e,"f"):void 0,d=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,h=this.reflectivity?this.reflectivity.flow(e,"f"):void 0;e.requires.transparent=u!==void 0,e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <dithering_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_physical_pars_fragment>","#include <shadowmap_pars_fragment>"].join(`
`));let f=["#include <clipping_planes_fragment>","	#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	PhysicalMaterial material;","	material.diffuseColor = vec3( 1.0 );"];if(this.bumpMap){e.include(Pg.dHdxy),e.include(Pg.perturbNormalArb);let p=this.bumpMap.texture.flow(e,"t"),g=this.bumpMap.flow(e,"v3"),v=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",x="";this.bumpMap.projection.value===4?x=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${p.result}, uv0, ${v});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${p.result}, uv1, ${v});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${p.result}, uv2, ${v});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:x=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${p.result}, bumpMapCachedUv, ${v});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,f.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${g.result};
					${x}
					`)}if(f.push(i.code,"	vec3 diffuseColor = "+i.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",l.code,"	float metalnessFactor = "+l.result+";"),this.roughnessMap){let p=this.roughnessMap.texture.flow(e,"t"),g=this.roughnessMap.flow(e,"v3"),v="";this.roughnessMap.projection.value===4?v=`
					float roughnessChange = 1.0;
					{
						vec2 uv0 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						float r0 = luminance(texture(${p.result}, uv0).rgb) * roughnessScale;
						float r1 = luminance(texture(${p.result}, uv1).rgb) * roughnessScale;
						float r2 = luminance(texture(${p.result}, uv2).rgb) * roughnessScale;

						roughnessChange = (r0 * weights.z + r1 * weights.x + r2 * weights.y);
					}
					float roughnessFactor = roughnessChange * ${o.result};
					`:v=`
					vec2 roughnessMapCachedUv = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs;

					vec4 vals = texture(${p.result},  roughnessMapCachedUv);
					float roughnessFactor = luminance(vals.rgb) * ${o.result};
					`,f.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${g.result};

					const float roughnessScale = 1.0;

					${v}
				`)}else f.push(o.code,"	float roughnessFactor = "+o.result+";");u&&f.push(u.code,"#ifdef ALPHATEST","	if ( "+u.result+" <= ALPHATEST ) discard;","#endif"),f.push("vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );"),f.push("material.diffuseColor = diffuseColor * ( 1.0 - metalnessFactor );","material.roughness = max( roughnessFactor, 0.0525 );","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.roughness = clamp( roughnessFactor, 0.04, 1.0 );"),h?f.push(h.code,"material.specularColor = mix( vec3( 0.16 * pow2( "+h.result+" ) ), diffuseColor, metalnessFactor );"):f.push("material.specularColor = mix( vec3( 0.04 ), diffuseColor, metalnessFactor );"),f.push("#include <lights_fragment_begin>"),f.push("#include <lights_fragment_end>"),f.push("vec3 ao = aoEnabled && "+n.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular;");let m="1.0";this.mask&&(this.mask.analyze(e),m=`luminance(${this.mask.flow(e,"v3").result})`),f.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${c.result} * ${m} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${c.result} * ${m}, ${a.result} );
					
					outgoingLight *= ao;
				}
				`),s&&f.push(s.code,`outgoingLight = spe_blend(outgoingLight, ${s.result}, 1.0, SPE_BLENDING_NORMAL);`),u?f.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${u.result} );`):f.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),d&&f.push(`gl_FragColor.a *= ${d.result};`),f.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=f.join(`
`)}return t}},zRe=class extends Jd{constructor(){super("toon"),this.nodeType="Toon",this.color=new _n(ms),this.specular=new _n(1118481),this.shininess=new at(30),this.previousModelViewMatrix=new ac,this.previouseProjectionMatrix=new ac,this.shadingAlpha=new at(1),this.shadingBlend=new Ir(0)}get category(){return"toon"}build(e){let t;if(e.define("TOON"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:St.frameIndex}),e.mergeUniform({resolution:St.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(Qg.merge([Qe.fog,Qe.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let n=["#include <beginnormal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];r&&n.push(r.code,r.result?"displaced_position = "+r.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),n.push("	#include <project_vertex>","	#include <fog_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>","	#include <shadowmap_vertex>","	#include <fog_vertex>"),n.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=n.join(`
`)}else{e.mergeUniform({penumbraSize:St.penumbraSize}),e.mergeUniform({frameIndex:St.frameIndex}),e.mergeUniform({aoMap:St.aoRenderTarget}),e.mergeUniform({aoEnabled:St.aoEnabled}),this.color===void 0&&(this.color=new _n(ms)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let r=this.color.flow(e,"c",{slot:"color"}),n=this.specular.flow(e,"c"),i=this.shininess.flow(e,"f"),o=this.shadingAlpha.flow(e,"f"),l=this.shadingBlend.flow(e,"i"),c=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,a=this.alpha?this.alpha.flow(e,"f"):void 0,s=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=a!==void 0,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vWPosition;","#include <normal_pars_fragment>","#include <gradientmap_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <dithering_pars_fragment>",`
					varying vec3 vViewPosition;
					struct ToonMaterial {
						vec3	diffuseColor;
						vec3	specularColor;
						float	specularShininess;
						float	specularStrength;
					};
					void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
						vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
			
						reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
						reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
					}
					void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
						reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
					}
					#define RE_Direct				RE_Direct_Toon
					#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
					#define Material_LightProbeLOD( material )	(0)
					`,"#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>"].join(`
`));let u=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	ToonMaterial material;"];if(this.bumpMap){e.include(Pg.dHdxy),e.include(Pg.perturbNormalArb);let h=this.bumpMap.texture.flow(e,"t"),f=this.bumpMap.flow(e,"v3"),m=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",p="";this.bumpMap.projection.value===4?p=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${h.result}, uv0, ${m});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${h.result}, uv1, ${m});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${h.result}, uv2, ${m});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:p=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${h.result}, bumpMapCachedUv, ${m});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,u.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${f.result};
					${p}
					`)}u.push(r.code,"	vec3 diffuseColor = "+r.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",n.code,"	vec3 specular = "+n.result+";",i.code,"	float shininess = max( 0.0001, "+i.result+" );","	float specularStrength = 1.0;"),a&&u.push(a.code,"#ifdef ALPHATEST","if ( "+a.result+" <= ALPHATEST ) discard;","#endif"),u.push("material.diffuseColor = diffuseColor;"),u.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),u.push("vec3 ao = aoEnabled ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) * ao) + reflectedLight.directSpecular;");let d="1.0";this.mask&&(this.mask.analyze(e),d=`luminance(${this.mask.flow(e,"v3").result})`),u.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${o.result} * ${d} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${o.result} * ${d}, ${l.result} );
				}
				`),c&&u.push(c.code,`outgoingLight = spe_blend(outgoingLight, ${c.result}, 1.0, SPE_BLENDING_NORMAL);`),a?u.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${a.result} );`):u.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),s&&u.push(`gl_FragColor.a *= ${s.result};`),u.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=u.join(`
`)}return t}},NRe=class{constructor(e=1e3*10){this.timeout=e,this.cache=new Map,this.head={data:null,time:0,src:null,next:null,prev:null},this.tail={data:null,time:1/0,src:null,next:null,prev:null},this.hasClean=!1,this.head.next=this.tail,this.tail.prev=this.head}log(...e){}remove(e){let t=this.cache.get(e);t&&(this.dispose(e,t.data),this.cache.delete(e),t.prev.next=t.next,t.next.prev=t.prev)}scheduleCleanup(){this.hasClean||(this.log("scheduled cleanup"),this.hasClean=!0,setTimeout(()=>{this.hasClean=!1,this.log("cleaning");let e=Date.now(),t=this.head.next;for(;t.time<e-this.timeout;)this.dispose(t.src,t.data),this.cache.delete(t.src),t=t.next,t.prev=this.head,this.head.next=t;this.head.next!==this.tail?this.scheduleCleanup():this.log("no more cleanup")},this.timeout+1e3))}has(e){var t;return(t=this.cache.get(e))==null?void 0:t.data}load(e){let t=Date.now(),r=this.cache.get(e);return r===void 0?(r={data:this.create(e),src:e,time:t,next:null,prev:null},this.cache.set(e,r)):(r.time=t,r.prev.next=r.next,r.next.prev=r.prev),r.prev=this.tail.prev,r.next=this.tail,this.tail.prev.next=r,this.tail.prev=r,this.scheduleCleanup(),r.data}},BRe=class extends NRe{create(e){return URL.createObjectURL(new Blob([e]))}dispose(e,t){URL.revokeObjectURL(t)}},tM;function FRe(e){return typeof e=="string"?e:(tM||(tM=new BRe),tM.load(e))}var URe=class{constructor(e,t){this.data=e,this.cache=t,this.refCount=0}deref(){this.refCount,this.refCount-=1,this.refCount===0&&(this.cache.remove(this),this.dispose())}dispose(){this.refCount}},VRe=class{constructor(){this.cache=new Map}remove(e){this.cache.delete(e.data)}load(e){let t=this.cache.get(e);return t===void 0&&(t=this.create(e),this.cache.set(e,t)),t.refCount+=1,t}},UQ=class extends URe{constructor(e,t){super(e,t.imageHolderCache),this.data=e,this.shared=t,this.loaded=!1,this.isVideo=!1,this.isVideo=e.type==="video",this.updateSrc(e.data)}async updateSrc(e){if(typeof document>"u")return;this.disposeTextures(),this.loaded=!1;let t=()=>{this.loaded=!0;let n=[1e3,1001,1002];for(let i of n){let o=this[i];o&&(o.image=this.img,o.needsUpdate=!0)}this.shared.requestRender()};if(this.isVideo){if(this.img=document.createElement("video"),this.img.preload="auto",this.img.playsInline=!0,this.img.currentTime=.01,typeof e!="string"){var r=new FileReader;r.readAsDataURL(new Blob([e],{type:"video/mp4"}));let n;await new Promise(i=>{r.onloadend=o=>{var l;n=(l=o.target)==null?void 0:l.result,i(null)}}),this.img.src=n}else this.img.src=e;this.img.onloadeddata=()=>{t()}}else this.img=new Image,this.img.src=FRe(e),this.img.onload=t}getTexture(e){let t=this[e];if(t)return t;{let r;return this.isVideo?r=new B3e(this.img,void 0,e,e):r=new li(this.img,void 0,e,e),this.loaded&&(r.needsUpdate=!0),this[e]=r,r}}disposeTextures(){var e,t,r;(e=this[1e3])==null||e.dispose(),this[1e3]=void 0,(t=this[1001])==null||t.dispose(),this[1001]=void 0,(r=this[1002])==null||r.dispose(),this[1002]=void 0}dispose(){super.dispose(),this.disposeTextures()}},Hh=class extends UQ{};function HRe(e,t){var r=YRe(t);return r.formatToParts?GRe(r,e):qRe(r,e)}var WRe={year:0,month:1,day:2,hour:3,minute:4,second:5};function GRe(e,t){try{for(var r=e.formatToParts(t),n=[],i=0;i<r.length;i++){var o=WRe[r[i].type];o>=0&&(n[o]=parseInt(r[i].value,10))}return n}catch(l){if(l instanceof RangeError)return[NaN];throw l}}function qRe(e,t){var r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var rM={};function YRe(e){if(!rM[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=t==="06/25/2014, 00:00:00"||t==="06/25/2014 00:00:00";rM[e]=r?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return rM[e]}function VQ(e,t,r,n,i,o,l){var c=new Date(0);return c.setUTCFullYear(e,t,r),c.setUTCHours(n,i,o,l),c}var YB=36e5,XRe=6e4,nM={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function HQ(e,t,r){var n,i;if(!e||(n=nM.timezoneZ.exec(e),n))return 0;var o;if(n=nM.timezoneHH.exec(e),n)return o=parseInt(n[1],10),XB(o)?-(o*YB):NaN;if(n=nM.timezoneHHMM.exec(e),n){o=parseInt(n[1],10);var l=parseInt(n[2],10);return XB(o,l)?(i=Math.abs(o)*YB+l*XRe,o>0?-i:i):NaN}if(QRe(e)){t=new Date(t||Date.now());var c=r?t:$Re(t),a=r5(c,e),s=r?a:KRe(t,a,e);return-s}return NaN}function $Re(e){return VQ(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function r5(e,t){var r=HRe(e,t),n=VQ(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),i=e.getTime(),o=i%1e3;return i-=o>=0?o:1e3+o,n-i}function KRe(e,t,r){var n=e.getTime(),i=n-t,o=r5(new Date(i),r);if(t===o)return t;i-=o-t;var l=r5(new Date(i),r);return o===l?o:Math.max(o,l)}function XB(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var $B={};function QRe(e){if($B[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),$B[e]=!0,!0}catch{return!1}}var JRe=Ai(_xe(),1),KB=Ai(Sxe(),1),ZRe=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,e8e=ZRe,iM=36e5,QB=6e4,t8e=2,mo={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:e8e};function r8e(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var r={},n=r.additionalDigits==null?t8e:(0,JRe.default)(r.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=n8e(e),o=i8e(i.date,n),l=o.year,c=o.restDateString,a=o8e(c,l);if(isNaN(a))return new Date(NaN);if(a){var s=a.getTime(),u=0,d;if(i.time&&(u=a8e(i.time),isNaN(u)))return new Date(NaN);if(i.timeZone||r.timeZone){if(d=HQ(i.timeZone||r.timeZone,new Date(s+u)),isNaN(d))return new Date(NaN)}else d=(0,KB.default)(new Date(s+u)),d=(0,KB.default)(new Date(s+u+d));return new Date(s+u+d)}else return new Date(NaN)}function n8e(e){var t={},r=mo.dateTimePattern.exec(e),n;if(r?(t.date=r[1],n=r[3]):(r=mo.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e)),n){var i=mo.timeZone.exec(n);i?(t.time=n.replace(i[1],""),t.timeZone=i[1].trim()):t.time=n}return t}function i8e(e,t){var r=mo.YYY[t],n=mo.YYYYY[t],i;if(i=mo.YYYY.exec(e)||n.exec(e),i){var o=i[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(i=mo.YY.exec(e)||r.exec(e),i){var l=i[1];return{year:parseInt(l,10)*100,restDateString:e.slice(l.length)}}return{year:null}}function o8e(e,t){if(t===null)return null;var r,n,i,o;if(e.length===0)return n=new Date(0),n.setUTCFullYear(t),n;if(r=mo.MM.exec(e),r)return n=new Date(0),i=parseInt(r[1],10)-1,ZB(t,i)?(n.setUTCFullYear(t,i),n):new Date(NaN);if(r=mo.DDD.exec(e),r){n=new Date(0);var l=parseInt(r[1],10);return c8e(t,l)?(n.setUTCFullYear(t,0,l),n):new Date(NaN)}if(r=mo.MMDD.exec(e),r){n=new Date(0),i=parseInt(r[1],10)-1;var c=parseInt(r[2],10);return ZB(t,i,c)?(n.setUTCFullYear(t,i,c),n):new Date(NaN)}if(r=mo.Www.exec(e),r)return o=parseInt(r[1],10)-1,e7(t,o)?JB(t,o):new Date(NaN);if(r=mo.WwwD.exec(e),r){o=parseInt(r[1],10)-1;var a=parseInt(r[2],10)-1;return e7(t,o,a)?JB(t,o,a):new Date(NaN)}return null}function a8e(e){var t,r,n;if(t=mo.HH.exec(e),t)return r=parseFloat(t[1].replace(",",".")),oM(r)?r%24*iM:NaN;if(t=mo.HHMM.exec(e),t)return r=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),oM(r,n)?r%24*iM+n*QB:NaN;if(t=mo.HHMMSS.exec(e),t){r=parseInt(t[1],10),n=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return oM(r,n,i)?r%24*iM+n*QB+i*1e3:NaN}return null}function JB(e,t,r){t=t||0,r=r||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var i=n.getUTCDay()||7,o=t*7+r+1-i;return n.setUTCDate(n.getUTCDate()+o),n}var s8e=[31,28,31,30,31,30,31,31,30,31,30,31],l8e=[31,29,31,30,31,30,31,31,30,31,30,31];function WQ(e){return e%400===0||e%4===0&&e%100!==0}function ZB(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;var n=WQ(e);if(n&&r>l8e[t]||!n&&r>s8e[t])return!1}return!0}function c8e(e,t){if(t<1)return!1;var r=WQ(e);return!(r&&t>366||!r&&t>365)}function e7(e,t,r){return!(t<0||t>52||r!=null&&(r<0||r>6))}function oM(e,t,r){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}function u8e(e,t,r){var n=r8e(e,r),i=HQ(t,n,!0),o=new Date(n.getTime()-i),l=new Date(0);return l.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),l.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),l}function yo(e,t){return t.color(e)}function t7(e=new Date,t){let r=t.format,n=e.getSeconds(),i=e;t&&t.timeZone!==null&&(i=u8e(new Date,t.timeZone));let o=i.getHours(),l=i.getMinutes(),c;t.format12h24h==="12ampm"&&(c=o>=12?"PM":"AM");let a=o;t.format12h24h!=="24"&&(a=o%12,a===0&&(a=12));let s,u;switch(r){case"HH:mm:ss":s=[a,l,n];break;case"HH:mm":s=[a,l];break;case"HH":s=[a],c=void 0;break;case"mm":s=[l],c=void 0;break;case"ss":s=[n],c=void 0;break;case"year":u=i.getFullYear();break;case"month":u=i.getMonth()+1;break;case"dayOfYear":u=Math.floor((i.getTime()-new Date(i.getFullYear(),0,0).getTime())/864e5);break;case"dayOfMonth":u=i.getDate();break;case"secondOfDay":u=o*60*60+l*60+n;break;default:console.error("Unknown time format",r),u=0;break}return s!==void 0?{textValue:s,suffix:c}:u}function d8e(e,t){switch(e.type){case"fresnel":return p8e(e,t);case"gradient":return m8e(e,t);case"depth":return g8e(e,t);case"normal":return v8e(e,t);case"noise":return y8e(e,t);case"rainbow":return b8e(e,t);case"toon":return x8e(e,t);case"outline":return w8e(e,t);case"transmission":return _8e(e,t);case"color":return f8e(e,t);case"pattern":return S8e(e,t)}}function h8e(e){return{type:e.type}}function sl(e,t){let{alpha:r,mode:n,isMask:i}=e,o=typeof r=="string"?(Number(t.getVariable(r))??100)/100:r;return{...h8e(e),alpha:o,mode:n,isMask:i}}function f8e(e,t){return{...sl(e,t),color:yo(e.color,t)}}function p8e(e,t){let{bias:r,scale:n,intensity:i,factor:o,color:l}=e;return{...sl(e,t),color:yo(l,t),bias:r,scale:n,intensity:i,factor:o}}function m8e(e,t){let{gradientType:r,smooth:n,colors:i,steps:o,angle:l,offset:c,morph:a}=e;return{...sl(e,t),gradientType:r,smooth:n,colors:i.map(s=>new Ut(s[0],s[1],s[2],s[3])),num:i.length,steps:o,offset:new oe(...c),morph:new oe(...a),angle:l}}function g8e(e,t){let{gradientType:r,near:n,far:i,isVector:o,isWorldSpace:l,origin:c,direction:a,colors:s,steps:u,smooth:d}=e;return{...sl(e,t),gradientType:r,near:n,far:i,isVector:o,isWorldSpace:l,origin:new V(...c),direction:a?new V(...a):new V(1,0,0),colors:s.map(h=>h!==void 0?new Ut(h[0],h[1],h[2],h[3]):new Ut(0,0,0,0)),steps:u.slice(0,s.length),smooth:d}}function v8e(e,t){let{cnormal:r}=e;return{...sl(e,t),cnormal:new V(r[0],r[1],r[2])}}function y8e(e,t){return{...sl(e,t),scale:e.scale,move:e.move,fA:new oe(...e.fA),fB:new oe(...e.fB),size:new V(...e.size),distortion:new oe(...e.distortion),colorA:yo(e.colorA,t),colorB:yo(e.colorB,t),colorC:yo(e.colorC,t),colorD:yo(e.colorD,t),noiseType:e.noiseType,voronoiStyle:e.voronoiStyle,highCut:e.highCut,lowCut:e.lowCut,smoothness:e.smoothness,seed:e.seed,quality:e.quality}}function b8e(e,t){return{...sl(e,t),filmThickness:e.filmThickness,movement:e.movement,wavelengths:new V(...e.wavelengths),noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,offset:new V(...e.offset)}}function x8e(e,t){return{...sl(e,t),positioning:e.positioning,colors:e.colors.map(r=>new Ut(r[0],r[1],r[2],r[3])),num:e.colors.length,steps:e.steps,source:new V(...e.source),isWorldSpace:e.isWorldSpace,noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,shadowColor:yo(e.shadowColor,t),offset:new V(...e.offset)}}function w8e(e,t){return{...sl(e,t),outlineColor:yo(e.outlineColor,t),contourColor:yo(e.contourColor,t),outlineWidth:e.outlineWidth,contourWidth:e.contourWidth,outlineThreshold:e.outlineThreshold,contourThreshold:e.contourThreshold,outlineSmoothing:e.outlineSmoothing,contourFrequency:e.contourFrequency,contourDirection:new V(...e.contourDirection),positionalLines:e.positionalLines,compensation:e.compensation}}function _8e(e,t){return{...sl(e,t),thickness:e.thickness,ior:e.ior,roughness:e.roughness}}function S8e(e,t){return{...sl(e,t),style:e.style,projection:e.projection,axis:e.axis,blending:e.blending,offset:new oe(...e.offset),colorA:yo(e.colorA,t),colorB:yo(e.colorB,t),frequency:new oe(...e.frequency),size:e.size,variation:e.variation,smoothness:e.smoothness,zigzag:e.zigzag,rotation:e.rotation,vertical:new oe(...e.vertical),horizontal:new oe(...e.horizontal),sides:e.sides}}var U2=class extends Yo{},GQ={noise:["noiseType"],texture:["projection","axis","side"],video:["projection","axis","side"],displace:["noiseType"],light:["roughnessMap","bumpMap"],depth:["smooth","isWorldSpace","gradientType","isVector"],pattern:["style","projection","axis"]},qQ={depth:["colors"]};function E8e(e,t,r){var o,l;if(t==="isMask")return!0;let n=GQ[e.type],i=qQ[e.type];if(i!==void 0){let c=e.color;if(i.includes(t)){let a=(l=(o=c[t])==null?void 0:o.value)==null?void 0:l.length;if(a!==void 0&&a!==r.length)return!0}}return n!==void 0?n.includes(t):!1}function YQ(e,t,r){let n=r.uniforms[`f${r.id}_texture`];if(!n)return!1;let i=!1,o=e;if("image"in o){let l=o.image,c=t.image(l),a=n;a.image instanceof Hh||a.image.deref(),a.image=c}if("video"in o){let l=o.video,c=t.video(l),a=n;a.image instanceof Hh||a.image.deref(),a.image=c}if("wrapping"in o){let l=n;l.wrap=o.wrapping}if("repeat"in o||"offset"in o){let l="mat",c=r.uniforms[`f${r.id}_${l}`];"repeat"in o&&(c.repeat=o.repeat),"offset"in o&&(c.offset=o.offset),c.updateMatrix()}return i}function A8e(e,t,r,n){let i=!1;for(let[o,l]of Object.entries(e)){if(o==="bumpMap"||o==="roughnessMap"){i=!0;continue}if(!o||l===void 0)continue;if($Q(o,r,n,t)){o==="visible"&&r.type==="light"&&(i=!0);continue}r.visible=n.visible;let c=r.uniforms[`f${r.id}_${o}`];if(c&&!(c instanceof _6))switch(i=i||E8e(r,o,l),c.constructor){case _n:if(typeof l=="string"){let a=t.getColor(l);a&&(c.value=a);break}else{let a=l;c.value instanceof U2?c.value=new Yo(a.r,a.g,a.b,a.a):c.setRGBA(a);break}case Oc:if(typeof l=="string"){let a=t.getColor(l);a&&(c.value=a);break}else{let a=l;c.value instanceof U2?c.value=new Yo(a.r,a.g,a.b,a.a):c.value.setRGBA(a.r,a.g,a.b,a.a);break}case Pi:{let a=l;c.value.setX(a[0]),c.value.setY(a[1]);break}case Wa:{let a=l;c.value.setX(a[0]),c.value.setY(a[1]),c.value.setZ(a[2]);break}case Wc:{YQ(l,t,r);break}case _h:{c.value=l.map(a=>new Ut(...a));break}default:{c.value=l;break}}}return i}var Af=(e,t,r)=>Math.max(0,Math.min(1,Number(t.getVariable(typeof e=="number"?e*100:e,r)??100)/100))??1,of=class{constructor(e,t,r,n,i){this.id=e,this.uuid=t,this.data=r,this.uniforms={};for(let o in n)this.uniforms[`f${this.id}_${o}`]=n[o];for(let o in r)$Q(o,this,r,i)}get type(){return this.data.type}static create(e,t,r,n){if(r.type==="light")return Rc.createLigherLayer(e,t,r,n);if(r.type==="texture"||r.type==="video"){let i=r.type==="texture"?n.image(r.texture.image):n.video(r.texture.video),o=new ZP(i,r.texture.wrapping),l=new PRe(i),c=new kRe(r.texture.repeat,r.texture.offset),a=new at(r.crop?1:0),s=new Ir(r.projection??0),u=new Ir(["x","y","z"].indexOf(r.axis)??0),d=new Ir(r.side??0),h=new Pi(r.size?new oe(r.size[0],r.size[1]):new oe(100,100)),f=new at(r.blending??0),m=new at(Af(r.alpha,n)),p=new Ir(r.mode??0),g=new po(r.isMask??!1),v=new S6(o,l,a,s,u,d,h,f,c,m,p,g),x=new Vr(v.calpha,"f");return new vn(e,t,r,{texture:o,textureSize:l,crop:a,projection:s,axis:u,side:d,size:h,blending:f,mat:c,alpha:m,mode:p,isMask:g},v,p,x,g,n)}else if(r.type==="matcap"){let i=n.image(r.texture.image),o=new ZP(i,r.texture.wrapping),l=new at(Af(r.alpha,n)),c=new Ir(r.mode??0),a=new po(r.isMask??!1),s=new MQ(o,l,c,a),u=new Vr(s.calpha,"f");return new vn(e,t,r,{texture:o,alpha:l,mode:c,isMask:a},s,c,u,a,n)}else if(r.type==="displace")if(r.displacementType==="noise"){let i=new Wa(new V(...r.offset)),o=new at(r.scale??10),l=new at(r.intensity??8),c=new at(r.movement??1),a=new Ir(r.noiseType??0),s=new Ir(r.voronoiStyle??0),u=new at(r.smoothness??.5),d=new at(r.seed??0),h=new at(r.highCut??1),f=new at(r.lowCut??0),m=new Ir(r.quality??1),p=new BQ(l,c,i,s,u,d,h,f,m,o,a);return new XQ(e,t,r,{offset:i,scale:o,intensity:l,movement:c,noiseType:a,voronoiStyle:s,smoothness:u,seed:d,highCut:h,lowCut:f,quality:m},p,n)}else throw new Error;else return T8e(e,t,r,n)}updateByOp(e,t,r){let n=e;if(n.path[0]===void 0){if(n.type===0)return"type"in n.props||"category"in n.props||"visible"in n.props?(r.scene.markNeedsUpdateRendererDirty(),!0):A8e(n.props,r.shared,this,t)}else if(n.path[0]==="texture")return"texture"in t||"video"in t?YQ(n.props,r.shared,this):!0;return!1}dispose(){if(C8e(this)){let e=this.uniforms[`f${this.id}_texture`];if(!e)return!1;let t=e;t.image instanceof Hh||t.image.deref()}}hasValueByKey(e){return this.uniforms[e]!==void 0}hasValue(e){return this.hasValueByKey(`f${this.id}_${e}`)}setValue(e,t){let r=`f${this.id}_${e}`;this.hasValueByKey(r)&&t!==void 0&&(this.uniforms[r].value=t)}getNode(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t]}getValue(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t].value}getName(e){let t=/f\d+_(.*)/.exec(e);if(t&&t.length>1)return t[1];console.log(`Layer.getName: error ${e}`)}getNames(){let e=[];for(let t in this.uniforms){let r=this.getName(t);r&&e.push(r)}return e}},vn=class extends of{constructor(e,t,r,n,i,o,l,c,a){super(e,t,r,n,a),this.params=n,this.color=i,this.mode=o,this.alpha=l,this.isMask=c}},XQ=class extends of{constructor(e,t,r,n,i,o){super(e,t,r,n,o),this.position=i}},Rc=class extends of{constructor(e,t,r,n,i,o){super(e,t,r,i,o),this.node=n}static createLigherLayer(e,t,r,n){let i,o=new at(Af(r.alpha,n)),l=new Ir(r.mode),c=new at(r.bumpMapIntensity),a=new at(Af(r.alphaOverride,n)),s;if(!r.visible)i=new FQ,s={};else if(r.category==="lambert"){i=new ORe;let u=new _n(n.color(r.emissive)??0),d=new po(r.occlusion??!0);s={emissive:u,occlusion:d},i.emissive=u,i.occlusion=d}else if(r.category==="toon"){i=new zRe;let u=new at(r.shininess??30),d=new _n(n.color(r.specular)??1118481);s={shininess:u,specular:d},i.shininess=u,i.specular=d}else if(r.category==="physical"){i=new LRe;let u=new at(r.roughness??.3),d=new at(r.metalness??0),h=new at(r.reflectivity??.5),f=new po(r.occlusion??!0);s={roughness:u,metalness:d,reflectivity:h,occlusion:f},i.roughness=u,i.metalness=d,i.reflectivity=h,i.occlusion=f}else{i=new RRe;let u=new at(r.shininess??30),d=new _n(r.specular!==void 0?n.color(r.specular)??1118481:1118481),h=new po(r.occlusion??!0);s={shininess:u,specular:d,occlusion:h},i.shininess=u,i.specular=d,i.occlusion=h}return i.alpha=new at(1),i.shadingAlpha=o,i.shadingBlend=l,i.bumpMapIntensity=c,i.alphaOverride=a,s.alpha=i.shadingAlpha,s.mode=i.shadingBlend,s.bumpMapIntensity=i.bumpMapIntensity,s.alphaOverride=i.alphaOverride,new Rc(e,t,r,i,s,n)}get category(){return this.node.category}};function C8e(e){let t=e instanceof of?e.type:e;return t==="texture"||t==="video"||t==="displace_map"||t==="matcap"}function za(e){return{alpha:new at(e.alpha??1),mode:new Ir(e.mode??0),isMask:new po(e.isMask??!1)}}function M8e(e,t,r,n,i){switch(e.type){case"color":{let o=new _n(n.color??ms),l=za(n),c=new e5(o,l.alpha),a=new Vr(c.calpha,"f");return new vn(t,r,e,{color:o,...l},c,l.mode,a,l.isMask,i)}case"fresnel":{let o=new _n(n.color??16777215),l=new at(n.bias??.1),c=new at(n.scale??1),a=new at(n.intensity??2),s=new at(n.factor??1),u=za(n),d=new DRe(o,l,c,a,s,u.alpha,u.mode,u.isMask),h=new Vr(d.calpha,"f");return new vn(t,r,e,{color:o,bias:l,scale:c,intensity:a,factor:s,...u},d,u.mode,h,u.isMask,i)}case"rainbow":{let o=new at(n.filmThickness??30),l=new at(n.movement??0),c=new Wa(n.wavelengths??new V(0,0,0)),a=new at(n.noiseStrength??0),s=new at(n.noiseScale??1),u=new Wa(n.offset??new V(0,0,0)),d=za(n),h=new IQ(o,l,c,a,s,u,d.alpha,d.isMask),f=new Vr(h.calpha,"f");return new vn(t,r,e,{filmThickness:o,movement:l,wavelengths:c,noiseStrength:a,noiseScale:s,offset:u,...d},h,d.mode,f,d.isMask,i)}case"transmission":{let o=new at(n.thickness??10),l=new at(n.ior??1.5),c=new at(n.roughness??.5),a=St.transmissionSize,s=St.transmissionRenderTarget,u=St.transmissionRenderTargetDepth,d=window.innerWidth,h=window.innerHeight,f=d>=h?new Pi(h/d,1):new Pi(1,d/h),m=za(n),p=new zQ(o,l,c,a,s,u,f,m.alpha),g=new Vr(p.calpha,"f");return new vn(t,r,e,{thickness:o,ior:l,roughness:c,aspectRatio:f,...m},p,m.mode,g,m.isMask,i)}case"toon":{let o=new Ir(n.positioning??0),l;n.colors?l=new _h(n.colors.length,n.colors):(l=new _h(10,new Ut(0,0,0,1)),l.value[1]=new Ut(1,1,1,1));let c;n.steps?c=new wh(n.steps.length,n.steps):(c=new wh(10,1),c.value[0]=0);let a=new Wa(n.source??new V(0,0,0)),s=new po(n.isWorldSpace??!0),u=new at(n.noiseStrength??0),d=new at(n.noiseScale??1),h=new Oc(n.shadowColor),f=new Wa(n.offset??new V(0,0,0)),m=za(n),p=new RQ(o,l,c,a,s,u,d,h,f,m.alpha),g=new Vr(p.calpha,"f");return new vn(t,r,e,{positioning:o,colors:l,steps:c,source:a,isWorldSpace:s,noiseStrength:u,noiseScale:d,shadowColor:h,offset:f,...m},p,m.mode,g,m.isMask,i)}case"outline":{let o=new _n(n.outlineColor??16777215),l=new _n(n.contourColor??16777215),c=new at(n.outlineWidth??.1),a=new at(n.contourWidth??.1),s=new at(n.outlineThreshold??.1),u=new at(n.contourThreshold??.1),d=new at(n.outlineSmoothing??.1),h=new at(n.contourFrequency??.1),f=new Wa(n.contourDirection??new V(0,1,0)),m=new po(n.positionalLines??!1),p=new po(n.compensation??!0),g=St.normalRenderTarget,v=St.normalRenderTargetDepth,x=St.pixelRatioNode,y=St.resolution,b=za(n),w=new kQ(o,l,c,a,s,u,d,h,f,m,p,y,g,v,x,b.alpha),_=new Vr(w.calpha,"f");return new vn(t,r,e,{outlineColor:o,contourColor:l,outlineWidth:c,contourWidth:a,outlineThreshold:s,contourThreshold:u,outlineSmoothing:d,contourFrequency:h,contourDirection:f,positionalLines:m,compensation:p,...b},w,b.mode,_,b.isMask,i)}case"depth":{let o=new Ir(n.gradientType??0),l=new po(n.smooth??!1),c=new at(n.near??50),a=new at(n.far??200),s=new at(n.isVector??1),u=new at(n.isWorldSpace??0),d=new Wa(n.origin??new V),h=new Wa(n.direction??new V),f;n.colors?f=new _h(n.colors.length,n.colors):(f=new _h(2,new Ut(0,0,0,1)),f.value[1]=new Ut(1,1,1,1));let m;n.steps?m=new wh(n.steps.length,n.steps):(m=new wh(2,1),m.value[0]=0);let p=za(n),g=new SQ(o,l,c,a,s,u,d,h,f,m,p.alpha,p.isMask),v=new Vr(g.calpha,"f");return new vn(t,r,e,{gradientType:o,smooth:l,near:c,far:a,isVector:s,isWorldSpace:u,origin:d,direction:h,colors:f,steps:m,...p},g,p.mode,v,p.isMask,i)}case"noise":{let o=new at(n.scale??1),l=new Wa(n.size??new V(100,100,100)),c=new at(n.move??1),a=new Pi(n.fA??new oe(1.7,9.2)),s=new Pi(n.fB??new oe(8.3,2.8)),u=new Pi(n.distortion??new oe(1,1)),d=new Oc(n.colorA),h=new Oc(n.colorB),f=new Oc(n.colorC),m=new Oc(n.colorD),p=new Ir(n.noiseType??0),g=new Ir(n.voronoiStyle??0),v=new at(n.highCut??1),x=new at(n.lowCut??0),y=new at(n.smoothness??.5),b=new at(n.seed??.5),w=new Ir(n.quality??1),_=za(n),S=new TQ(o,l,c,a,s,u,d,h,f,m,_.alpha,p,_.isMask,g,v,x,y,b,w),E=new Vr(S.calpha,"f");return new vn(t,r,e,{scale:o,size:l,move:c,fA:a,fB:s,distortion:u,colorA:d,colorB:h,colorC:f,colorD:m,noiseType:p,..._,voronoiStyle:g,highCut:v,lowCut:x,smoothness:y,seed:b,quality:w},S,_.mode,E,_.isMask,i)}case"normal":{let o=new Wa(n.cnormal??new V(1,1,1)),l=za(n),c=new _Q(o,l.alpha),a=new Vr(c.calpha,"f");return new vn(t,r,e,{cnormal:o,...l},c,l.mode,a,l.isMask,i)}case"gradient":{let o=new Ir(n.gradientType??0),l=new po(n.smooth??!1),c;n.colors?c=new _h(n.colors.length,n.colors):(c=new _h(10,new Ut(0,0,0,1)),c.value[1]=new Ut(1,1,1,1));let a;n.steps?a=new wh(n.steps.length,n.steps):(a=new wh(10,1),a.value[0]=0);let s=new Pi(n.offset??new oe(0,0)),u=new Pi(n.morph??new oe(0,0)),d=new at(n.angle??0),h=za(n),f=new AQ(o,l,c,a,s,u,d,h.alpha,h.isMask),m=new Vr(f.calpha,"f");return new vn(t,r,e,{gradientType:o,smooth:l,colors:c,steps:a,offset:s,morph:u,angle:d,...h},f,h.mode,m,h.isMask,i)}case"pattern":{let o=new Ir(n.style??0),l=new Ir(n.projection??0),c=new Ir(["x","y","z"].indexOf(n.axis)??0),a=new at(n.blending??0),s=new Pi(n.offset??new oe(0,0)),u=new Oc(n.colorA),d=new Oc(n.colorB),h=new Pi(n.frequency??new oe(10,10)),f=new at(n.size??.5),m=new at(n.variation??0),p=new at(n.smoothness??.5),g=new at(n.zigzag??0),v=new at(n.rotation??0),x=new Pi(n.vertical??new oe(0,1)),y=new Pi(n.horizontal??new oe(0,1)),b=new Ir(n.sides??6),w=za(n),_=new DQ(o,l,c,a,s,u,d,h,f,m,p,g,v,x,y,b,w.alpha,w.isMask),S=new Vr(_.calpha,"f");return new vn(t,r,e,{style:o,projection:l,axis:c,blending:a,offset:s,colorA:u,colorB:d,frequency:h,size:f,variation:m,smoothness:p,zigzag:g,rotation:v,vertical:x,horizontal:y,sides:b,...w},_,w.mode,S,w.isMask,i)}default:{let o=new _n(1,0,0,1),l=za(n),c=new e5(o,l.alpha),a=new Vr(c.calpha,"f");return new vn(t,r,e,{color:o,...l},c,l.mode,a,l.isMask,i)}}}function T8e(e,t,r,n){let i=d8e(r,n);return M8e(r,e,t,i,n)}function $Q(e,t,r,n){if(r.type==="displace"&&(e==="intensity"||e==="visible")){let i=t.uniforms[`f${t.id}_intensity`];return i?(i.value=r.intensity*(r.visible?1:0),i):void 0}if(r.type!=="displace"&&(e==="alpha"||e==="visible")){let i=t.uniforms[`f${t.id}_alpha`];if(!i)return;if(i.value=Af(r.alpha,n)*(r.visible?1:0),r.type==="outline"&&e==="visible"){let o=t.uniforms[`f${t.id}_compensation`];o&&(o.value=r.compensation&&r.visible)}return i}}function bm(e,t){let r=0,n=e.layers.find(i=>i.data.type==="light");if(n){let i=n.data,o=Number(t.getVariable(i.alphaOverride));if((typeof i.alphaOverride=="string"?o/100:i.alphaOverride)<1)return!0}for(let i of e.layers){if(i.data.type!=="displace"&&i.data.isMask)return!0;if(i.data.type!=="displace"&&"alpha"in i.data&&i.data.type!=="light"&&i.data.type!=="fresnel"&&i.data.type!=="texture"&&i.data.type!=="matcap"&&i.data.type!=="rainbow"&&i.data.type!=="outline"&&i.data.type!=="pattern"){let o=i.data.visible?i.data.alpha:0;if(typeof o=="string"&&(o=Math.max(0,Math.min(1,Number(t.getVariable(o)??100)/100))),o===1&&i.data.type==="depth"||i.data.type==="gradient"){for(let l of i.data.colors)if(l[3]<1){o=l[3];break}}else if(o===1&&i.data.type==="noise"){let l=t.color(i.data.colorA).a,c=t.color(i.data.colorB).a,a=t.color(i.data.colorC).a,s=t.color(i.data.colorD).a,u=Math.min(l,Math.min(c,Math.min(a,s)));u<1&&(o=u)}r+=(1-r)*o}}return r<1}var Hd=class extends Or{constructor(){super(void 0),this.flatShading=!1,this.needsJitter=!0,this.cacheKey="",this.fog=!0,this.dithering=!0,this.vertexColors=!0,this.transparent=!0}customProgramCacheKey(){return this.cacheKey}},P8e=class extends Hd{constructor(e,t,r,n){super(),this.flatShading=e,this.side=t,this.wireframe=r,this.root=n}updateAfterBuild(){let e=this.root;this.lights=e.lights,this.vertexShader=e.vertexShader,this.fragmentShader=e.fragmentShader,this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.transparent=e.transparent,this.cacheKey=e.customProgramCacheKey()+"flat"+this.flatShading+this.side}onBeforeCompile(e,t){this.root.onBeforeCompile(e)}get data(){return this.root.data}get category(){return this.root.category}get hasAO(){return this.root.hasAO}getFlavor(e,t,r){return this.root.getFlavor(e,t,r)}get layers(){return this.root.layers}get fragment(){return this.root.fragment}getLayersOfType(e){return this.root.getLayersOfType(e)}getLayerByUuid(e){return this.root.getLayerByUuid(e)}updateByOp(e,t,r){this.root.updateByOp(e,t,r)}nodeMaterialDispose(){this.root.nodeMaterialDispose()}},A6=class extends Hd{constructor(e,t,r=!0){super(),this.data=e,this.allowVariableSaves=r,this.layerIdGen=0,this.flavors=[],this.masks={},this.type="NodeMaterial",this.updaters=[],this.reset0(e,t)}get nodeMaterial(){return this}getFlavor(e,t,r){let n=r?6:(e?3:0)+t;if(n===0)return this;this.flavors===void 0&&(this.flavors=[]),n-=1;let i=this.flavors[n];return i===void 0&&(i=new P8e(e,t,r,this),this.flavors[n]=i,i.flatShading=e,i.side=t,i.updateAfterBuild()),i}get fragment(){return this.lightLayer.node}get category(){return this.lightLayer.category}get hasAO(){var e;return((e=this.lightLayer.getNode("occlusion"))==null?void 0:e.value)??!1}reset(e,t){this.data!==e&&this.reset0(e,t)}reset0(e,t){this.data=e;let r=e.layers??$i.defaultTwoLayerData("phong").layers;try{this.layers=r.map(n=>of.create(this.layerIdGen++,n.id,n.data,t.shared))}catch{this.layers=[]}this.layers.reverse(),this.name=e.name??"Untitled Material",this.onUpdate(t.shared),this.transparent=bm(e,t.shared),this.saveVariableLocations(t)}onVariableUpdate(e,t,r){if(e[0]==="alphaOverride")this.transparent=bm(this.data,r.shared),this.lightLayer.setValue("alphaOverride",Math.max(0,Math.min(Number(t)/100,1)));else if(e[0]==="layer"){let n=e[1],i=e[2];if(n&&i){let o=this.layers.find(l=>l.uuid===n);o!=null&&o.hasValue(i)&&(i==="alpha"?(this.transparent=bm(this.data,r.shared),o.setValue(i,Math.max(0,Math.min(Number(t)/100,1)))):o.setValue(i,t))}}}saveVariableLocations(e){if(!this.allowVariableSaves)return;let t=this.data.layers.find(r=>r.data.type==="light");t&&e.shared.getVariable(t.data.alphaOverride,["material",this.uuid,"alphaOverride"]),this.data.layers.forEach(r=>{"alpha"in r.data&&typeof r.data.alpha=="string"&&e.shared.getVariable(r.data.alpha,["material",this.uuid,"layer",r.id,"alpha"])})}getLayersOfType(e){return this.layers.filter(t=>t.type===e)}getLayerByUuid(e){return this.layers.find(t=>t.uuid===e)}onUpdate(e){this.cacheKey=this.computeCacheKey(),this.lightLayer=this.layers.find(t=>t instanceof Rc),this.lightLayer===void 0&&(this.lightLayer=new Rc(0,"",{...Io.defaultData("light","phong"),visible:!1},new FQ,{},e)),this.dispose();for(let t of this.flavors)t&&t.dispose();this.applyTextureMaps(),this.applyMasks(),this.blendColors(),this.blendAfterColors(),this.blendPositions()}applyTextureMaps(){let e=this.layers.find(i=>i instanceof Rc);if(!e)return;let t=e.data,r=t.bumpMap,n=t.roughnessMap;e.node.bumpMap=void 0,e.node.roughnessMap=void 0;for(let i=0;i<this.layers.length;++i){let o=this.layers[i];o instanceof vn&&o.color instanceof S6&&(o.uuid===r&&(e.node.bumpMap=o.color),o.uuid===n&&(e.node.roughnessMap=o.color))}}updateByOp(e,t,r){if(t!==void 0?this.data=t:t=this.data,this.transparent=bm(t,r.shared),e.path[0]==="layers"){this.data=t;let n=r.shared,i=e.path[1];if(i===void 0){if(this.layers.reverse(),e.type===4){let o=of.create(this.layerIdGen++,e.id,e.data,r.shared);this.layers.splice(e.localIndex,0,o),r.scene.markNeedsUpdateRendererDirty()}else if(e.type===5)this.layers.splice(e.localIndex,1)[0].dispose(),r.scene.markNeedsUpdateRendererDirty();else if(e.type===6){let o=this.layers.findIndex(c=>c.uuid===e.id),l=this.layers[o];this.layers.splice(o,1),this.layers.splice(e.localIndex,0,l),r.scene.markNeedsUpdateRendererDirty()}this.layers.reverse(),this.onUpdate(r.shared)}else{e.type===0&&e.props.occlusion!==void 0&&r.scene.markNeedsUpdateRendererDirty();let o=this.layers.find(l=>l.uuid===i);if(o){let l=t.layers.data(i),c;if(e.type===0&&("alpha"in e.props||"alphaOverride"in e.props)&&("alpha"in e.props?c={...e.props,alpha:Af(e.props.alpha,n,["material",this.uuid,"layer",i,"alpha"])}:c={...e.props,alphaOverride:Af(e.props.alphaOverride,n,["material",this.uuid,"alphaOverride"])}),o.updateByOp({...e,...c?{props:c}:{},path:e.path.slice(2)},l,r)){let a=of.create(this.layerIdGen++,i,l,n);this.layers.splice(this.layers.findIndex(s=>s.uuid===i),1,a),this.onUpdate(r.shared)}}}}else this.reset(t,r)}applyMasks(){for(let e=0;e<this.layers.length;++e){let t=this.layers[e];t instanceof vn?t.color.mask=void 0:t instanceof Rc&&(t.node.mask=void 0)}for(let e=0;e<this.layers.length;++e){let t=this.layers[e];if(t instanceof vn&&t.isMask.value&&t.data.visible&&e>0){let r=e-1,n=this.layers[r];n instanceof Rc?n.node.mask=new Do(t.color,t.alpha,Do.MUL):n instanceof vn&&(n.isMask.value||(n.color.mask=new Do(t.color,t.alpha,Do.MUL)))}}}blendColors(){let e=this.layers.findIndex(r=>r instanceof vn),t=this.layers.findIndex(r=>r instanceof Rc);if(e!==-1&&e<t){let r=this.layers[e].color;for(let n=e+1;n<t;++n){let i=this.layers[n];if(i instanceof vn){if(i.isMask.value)continue;r=new qB(r,i.color,i.alpha,i.mode)}}this.fragment.color=r}else this.fragment.color=void 0}blendAfterColors(){let e=new Vr("outgoingLight","f"),t=this.layers.findIndex(r=>r instanceof Rc);if(this.layers.length>t+1){for(let r=t+1;r<this.layers.length;++r){let n=this.layers[r];if(n instanceof vn){if(n.isMask.value)continue;e=new qB(e,n.color,n.alpha,n.mode)}}this.fragment.afterColor=e}else this.fragment.afterColor=void 0}blendPositions(){let e=this.layers.filter(t=>t instanceof XQ);if(e.length>0){let t=e[0].position;for(let r=1;r<e.length;++r)e[r]&&(t=new Do(t,e[r].position,Do.ADD),t=new Do(t,new at(.5).setReadonly(!0),Do.MUL));this.fragment.position=t}else this.fragment.position=void 0}getDefines(){return this.defines}getUniforms(){return this.uniforms}getVertexShader(){return this.vertexShader}getFragmentShader(){return this.fragmentShader}onBeforeCompile(e){this.build(),e.defines=this.defines,e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.extensionDerivatives=this.extensions.derivatives===!0,e.extensionFragDepth=this.extensions.fragDepth===!0,e.extensionDrawBuffers=this.extensions.drawBuffers===!0,e.extensionShaderTextureLOD=this.extensions.shaderTextureLOD===!0}clampUniformsForPreview(e,t){let r=(n,i,o)=>Math.min(Math.max(n,i),o);for(let n of this.layers)if(n.type==="displace"){let i=r(n.uniforms[`f${n.id}_intensity`].value,e,t);n.uniforms[`f${n.id}_intensity`].value=i}}computeCacheKey(){let e="[";for(let{data:t}of this.data.layers)if(t.type==="light")e+=`"${t.visible?t.category.toUpperCase():"Basic"}"`;else{let r=(GQ[t.type]??[]).map(c=>t[c]),n=(qQ[t.type]??[]).map(c=>{var a;return((a=t[c])==null?void 0:a.length)??0}),i=[...r,...n],o="isMask"in t&&t.isMask,l=`"${t.type}-${t.visible}-${o}"`;i.length?e+=`[${l}, "${i.join('","')}"],`:e+=l}return e=e.slice(0,-1)+"]",e}updateFrame(e){for(let t=0;t<this.updaters.length;++t)e.updateNode(this.updaters[t])}build(){let e=new TRe;e.needsJitter=this.needsJitter,this.lights=this.lightLayer.data.visible,e.build(this.fragment,this.fragment),this.vertexShader=e.getCode("vertex"),this.fragmentShader=e.getCode("fragment"),this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.updaters=e.updaters;for(let t of this.flavors)t&&t.updateAfterBuild();return this}nodeMaterialDispose(){this.layers.forEach(e=>e.dispose()),super.dispose();for(let e of this.flavors)e&&e.dispose()}assetsLoaded(){for(let e of this.layers)if(e instanceof vn){let t=e.params.texture;if(t instanceof ZP&&!t.image.loaded)return!1}return!0}getHash(){let e="{";return e+='"fragment":'+this.fragment.getHash(),e+="}",e}};Object.defineProperties(Hd.prototype,{properties:{get:function(){return this.fragment.properties}}});var n5=class extends A6{constructor(e,t,r){super(e,t,!1),this.uuid=r,this.allowVariableSaves=!0,this.saveVariableLocations(t)}},k8e=Ai(Exe()),r7=new Map;function D8e(e){if(typeof e=="string")return e;let t=r7.get(e);return t||(t={url:URL.createObjectURL(new Blob([e]))},r7.set(e,t)),t.url}var Ov=class{constructor({src:e,volume:t,delay:r,loop:n}){this._volume=1,this.delay=0,this._loop=1,this.loopsRemaining=0,this._status="stopped",this.onEnd=()=>{this.loopsRemaining===1/0?this.replay():this.loopsRemaining>1?(this.replay(),this.loopsRemaining--):(this._status="stopped",this.loopsRemaining=this._loop)};let i;typeof e=="string"?i={src:e}:i={src:D8e(e),format:"wav"},this.sound=new k8e.Howl(i),this.sound.on("end",this.onEnd),this.src=e,t!==void 0&&(this.volume=t),r!==void 0&&(this.delay=r),n!==void 0&&(this.loop=n)}get status(){return this._status}get volume(){return this._volume}set volume(e){this._volume=e,this.sound.volume(e)}get loop(){return this._loop}set loop(e){this._loop=e,this.loopsRemaining=e}replay(){this.clearDelay(),this.delayTimerId=window.setTimeout(()=>{this.sound.play(),this.clearDelay()},this.delay)}fade(e,t=1e3){e?(this.sound.volume(this._volume),this.clearFade(),this.fadeTimerId=window.setTimeout(()=>{this.sound.fade(this._volume,0,t),this.clearFade()},e)):this.sound.fade(this._volume,0,t)}on(e,t,r){this.sound.on(e,t,r)}off(e,t,r){this.sound.off(e,t,r)}play(){this._status==="playing"||this.sound.playing()||(this._status==="paused"?(this.sound.seek()===0?this.replay():this.sound.play(),this._status="playing"):this._status==="stopped"&&(this.replay(),this._status="playing"))}pause(){this._status==="playing"&&(this.sound.pause(),this.clearFade(),this.clearDelay(),this._status="paused")}stop(){this.sound.stop(),this.loopsRemaining=this._loop,this.clearFade(),this.clearDelay(),this._status="stopped"}clearFade(){this.fadeTimerId&&(clearTimeout(this.fadeTimerId),delete this.fadeTimerId)}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}dispose(e=!1){this.off(),this.stop(),this.clearFade(),this.clearDelay()}},j8e=class{constructor(){this.type="ShapePath",this.color=new wt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new s2,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){var r;return(r=this.currentPath)==null||r.lineTo(e,t),this}quadraticCurveTo(e,t,r,n){var i;return(i=this.currentPath)==null||i.quadraticCurveTo(e,t,r,n),this}bezierCurveTo(e,t,r,n,i,o){var l;return(l=this.currentPath)==null||l.bezierCurveTo(e,t,r,n,i,o),this}splineThru(e){var t;return(t=this.currentPath)==null||t.splineThru(e),this}toShapes(){let e={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},t={loc:e.ORIGIN,t:0};function r(f,m,p,g){let v=f.x,x=m.x,y=p.x,b=g.x,w=f.y,_=m.y,S=p.y,E=g.y,C=(b-y)*(w-S)-(E-S)*(v-y),A=(x-v)*(w-S)-(_-w)*(v-y),T=(E-S)*(x-v)-(b-y)*(_-w),k=C/T,D=A/T;if(T===0&&C!==0||k<=0||k>=1||D<0||D>1)return null;if(C===0&&T===0){for(let M=0;M<2;M++)if(n(M===0?p:g,f,m),t.loc===e.ORIGIN){let P=M===0?p:g;return{x:P.x,y:P.y,t:t.t}}else if(t.loc===e.BETWEEN){let P=+(v+t.t*(x-v)).toPrecision(10),j=+(w+t.t*(_-w)).toPrecision(10);return{x:P,y:j,t:t.t}}return null}else{for(let j=0;j<2;j++)if(n(j===0?p:g,f,m),t.loc===e.ORIGIN){let O=j===0?p:g;return{x:O.x,y:O.y,t:t.t}}let M=+(v+k*(x-v)).toPrecision(10),P=+(w+k*(_-w)).toPrecision(10);return{x:M,y:P,t:k}}}function n(f,m,p){let g=p.x-m.x,v=p.y-m.y,x=f.x-m.x,y=f.y-m.y,b=g*y-x*v;if(f.x===m.x&&f.y===m.y){t.loc=e.ORIGIN,t.t=0;return}if(f.x===p.x&&f.y===p.y){t.loc=e.DESTINATION,t.t=1;return}if(b<-Number.EPSILON){t.loc=e.LEFT;return}if(b>Number.EPSILON){t.loc=e.RIGHT;return}if(g*x<0||v*y<0){t.loc=e.BEHIND;return}if(Math.sqrt(g*g+v*v)<Math.sqrt(x*x+y*y)){t.loc=e.BEYOND;return}let w;g!==0?w=x/g:w=y/v,t.loc=e.BETWEEN,t.t=w}function i(f,m){let p=[],g=[];for(let v=1;v<f.length;v++){let x=f[v-1],y=f[v];for(let b=1;b<m.length;b++){let w=m[b-1],_=m[b],S=r(x,y,w,_);S!==null&&p.find(E=>E.t<=S.t+Number.EPSILON&&E.t>=S.t-Number.EPSILON)===void 0&&(p.push(S),g.push(new oe(S.x,S.y)))}}return g}function o(f,m,p){let g=new oe;m.getCenter(g);let v=[];return p.forEach(x=>{x.boundingBox.containsPoint(g)&&i(f,x.points).forEach(y=>{v.push({identifier:x.identifier,isCW:x.isCW,point:y})})}),v.sort((x,y)=>x.point.x-y.point.x),v}function l(f,m,p,g,v){(v==null||v==="")&&(v="nonzero");let x=new oe;f.boundingBox.getCenter(x);let y=[new oe(p,x.y),new oe(g,x.y)],b=o(y,f.boundingBox,m);b.sort((A,T)=>A.point.x-T.point.x);let w=[],_=[];b.forEach(A=>{A.identifier===f.identifier?w.push(A):_.push(A)});let S=w[0].point.x,E=[],C=0;for(;C<_.length&&_[C].point.x<S;)E.length>0&&E[E.length-1]===_[C].identifier?E.pop():E.push(_[C].identifier),C++;if(E.push(f.identifier),v==="evenodd"){let A=E.length%2===0,T=E[E.length-2];return{identifier:f.identifier,isHole:A,for:T}}else if(v==="nonzero"){let A=!0,T=null,k=null;for(let D=0;D<E.length;D++){let M=E[D];m[M]&&(A?(k=m[M].isCW,A=!1,T=M):k!==m[M].isCW&&(k=m[M].isCW,A=!0))}return{identifier:f.identifier,isHole:A,for:T}}else console.warn('fill-rule: "'+v+'" is currently not implemented.')}let c=0,a=999999999,s=-999999999,u=[];this.subPaths.forEach(f=>{let m=f.getPoints(),p=-999999999,g=999999999,v=-999999999,x=999999999;for(let y=0;y<m.length;y++){let b=m[y];b.y>p&&(p=b.y),b.y<g&&(g=b.y),b.x>v&&(v=b.x),b.x<x&&(x=b.x)}s<=v&&(s=v+1),a>=x&&(a=x-1),m.length&&u.push({curves:f.curves,points:m,isCW:n$.isClockWise(m),identifier:c++,boundingBox:new p$(new oe(x,g),new oe(v,p))})});let d=u.map(f=>{var m;return l(f,u,a,s,(m=this.userData)==null?void 0:m.style.fillRule)}),h=[];return u.forEach(f=>{let m=d[f.identifier];if(m&&!m.isHole){let p=new l2;p.curves=f.curves,d.filter(g=>(g==null?void 0:g.isHole)&&g.for===f.identifier).forEach(g=>{if(g){let v=u[g.identifier],x=new s2;x.curves=v.curves,p.holes.push(x)}}),h.push(p)}}),h}},KQ,n7=new Promise(e=>{KQ=e}),i7=!1,Bx;function I8e(){if(i7)return;if(Bx)return Bx;async function e(){let t=await U1(()=>import("./opentype-D6jUvuOk.js"),[]);KQ(t),i7=!0}return Bx=e(),Bx}var O8e=class{async load(e,t,r=()=>{}){let{load:n}=await n7;n(e,(i,o)=>{i||!o?r(i??"Something went wrong"):t(o)})}async parse(e){let{parse:t,Bidi:r}=await n7;try{let n=t(e),i=new r,o=l=>n.charToGlyphIndex(l.char);return i.registerModifier("glyphIndex",null,o),i.applyFeatures(n,n.defaultRenderOptions.features),{font:n,bidi:i}}catch(n){console.error(n)}}};async function R8e(e){return await(await fetch(e)).arrayBuffer()}var L8e=new O8e;async function o7(e){let t,r,n=!1;if(e.url?(t=await R8e(e.url),r=e.url,n=e.url.startsWith("/")):e.data&&(t=e.data.buffer.slice(e.data.byteOffset,e.data.byteOffset+e.data.byteLength)),t){let i=await L8e.parse(t);if(i)return{font:i.font,url:r,intercepted:n,arr:t,bidi:i.bidi}}}function z8e(e,t){return t.state.glyphIndex===e||t.state.fina===e||t.state.medi===e||t.state.init===e}var N8e=class{constructor(e){this._arrayBuffer=new ArrayBuffer(1),this._isLoaded=!1,this._intercepted=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=o7(e).then(t=>{t&&(this._arrayBuffer=t.arr,this._url=t.url,this.font=t.font,this._intercepted=t.intercepted,this._isLoaded=!0,this._bidi=t.bidi)})}update(e){this._isLoaded=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=o7(e).then(t=>{t&&(this._arrayBuffer=t.arr,this._url=t.url,this.font=t.font,this._intercepted=t.intercepted,this._isLoaded=!0,this._bidi=t.bidi)})}get url(){return this._url}get intercepted(){return this._intercepted}get isLoaded(){return this._isLoaded}get loadingPromise(){return this._loadingPromise}reverseLigaturesTable(e,t,r){if(!this._bidi)return[];let n=this._bidi;n.getTextGlyphs(t);let i=n.tokenizer.tokens,o=[],l=0,c=r.length===i.length;for(let a=0;a<r.length;a++){let s=r[a].index,u=String.fromCharCode(r[a].unicode),d=i[l];if(z8e(s,d)||c)o.push({char:u,index:s,replacements:[d.state.glyphIndex],replacementChars:[d.char]}),l++;else{let h=d.char,f="",m=[d.state.glyphIndex],p=[],g=!1;for(;!g;)l++,f=t.charAt(l),h+=f,m.push(e.charToGlyphIndex(f)),p=e.stringToGlyphs(h),p.length===1&&p[0].index===s&&(g=!0),l>t.length&&(g=!0);o.push({char:u,index:s,replacements:m,replacementChars:Array.from(h)}),l++}}return o}generateShapes(e,t){if(!this._isLoaded)return;let r=this.font,n=t.fontSize/this.unitsPerEm,i=t.fontSize*t.lineHeight,o=e.map(v=>this.getTextWidth(v,t)),l=t.width,c=this.getCharWidth(`
`,t),a=t.horizontalAlign===1?c:0,s=this.computeSpaceWidthForLine(e,0,t),u=this.getLineInitialOffsetX(o[0],l,t.horizontalAlign,e[0],c),d=this.getLineInitialOffsetY(i,e.length,t.height,n,t.verticalAlign),h=[],f=e.map(v=>[]),m=e.map(v=>[]),p;for(let v=0;v<e.length;v++){let x=e[v],y={features:{liga:!0}},b=[];try{b=r.stringToGlyphs(x,y)}catch(_){console.warn(_)}u=this.getLineInitialOffsetX(o[v],l,t.horizontalAlign,x,c);let w=[];try{w=this.reverseLigaturesTable(r,x,b)}catch(_){console.warn(_)}s=this.computeSpaceWidthForLine(e,v,t);for(let _=0;_<b.length;_++){let S=b[_],E=S.index===0?`
`:S.unicode?String.fromCharCode(S.unicode):void 0,C=w[_],A=0,T=0;_===0&&t.horizontalAlign===2&&S.leftSideBearing!==void 0&&(T=-S.leftSideBearing*n),p&&(A=r.getKerningValue(S,p)*n),u+=T+A;let k=0;if(E===`
`)k=a;else if(E===" ")k=s;else{let D=this.createPath(S,n,u,d,t);D&&(k=D.offsetX-(A+T),h.push(D.path))}if(C.replacements.length===1)m[v].push([u,d]),f[v].push(k);else{let D=C.replacements.map(O=>(r.glyphs.get(O).advanceWidth??0)*n),M=D.reduce((O,I)=>O+=I,0),P=D.map(O=>O/M),j=u;for(let O=0;O<P.length;O++){let I=k*P[O];m[v].push([j,d]),f[v].push(I),j+=I}}u+=k,p=S}d-=i}let g=[];for(let v=0,x=h.length;v<x;v++)g.push(...h[v].toShapes());return{shapes:g,charWidths:f,lineWidths:o,charCoords:m}}get isUserFont(){return this._isUserFont}get arrayBuffer(){return this._arrayBuffer}get ascender(){var e;return((e=this.font)==null?void 0:e.ascender)??0}get descender(){var e;return((e=this.font)==null?void 0:e.descender)??0}get familyName(){var e;return((e=this.font)==null?void 0:e.names.fontFamily)??""}get subfamilyName(){var e;return((e=this.font)==null?void 0:e.names.fontSubfamily)??""}get unitsPerEm(){var e;return((e=this.font)==null?void 0:e.unitsPerEm)??1}getLineInitialOffsetX(e,t,r,n,i){return(r===3||r===2)&&n.indexOf(`
`)>=0&&(e-=i),r===3?t*.5-e*.5:r===2?t-e:0}getLineInitialOffsetY(e,t,r,n,i){let o=t*e,l=Math.abs(this.ascender-this.descender)*n,c=e-l,a=-this.ascender*n-c/2;return i===3?-(r-o-a):i===2?-(r*.5-o*.5-a):a}createPath(e,t,r,n,i){var a;let o=e.getPath(r,-n,i.fontSize,{kerning:!1,letterSpacing:i.letterSpacing});if(!o){console.error('THREE.Font: character "'+e+'" does not exists in font family '+this.familyName+".");return}let l=new j8e,c=(e.advanceWidth??1)*t;if(e)for(let s of o.commands){let u=(a=l.currentPath)==null?void 0:a.currentPoint;if(!(u&&s.type!=="Z"&&u.x===s.x&&-u.y===s.y))switch(s.type){case"M":l.moveTo(s.x,-s.y);break;case"L":l.lineTo(s.x,-s.y);break;case"Q":l.quadraticCurveTo(s.x1,-s.y1,s.x,-s.y);break;case"C":l.bezierCurveTo(s.x1,-s.y1,s.x2,-s.y2,s.x,-s.y);break}}return l.subPaths.forEach(s=>{let u=B8e(s.curves);u!==void 0&&s.currentPoint.distanceTo(u)>0&&s.lineTo(u.x,u.y)}),{offsetX:c+i.fontSize*i.letterSpacing,path:l}}getCharWidth(e,t){var r;return((r=this.font)==null?void 0:r.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing}))??0}getTextWidth(e,t){var r;return((r=this.font)==null?void 0:r.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing}))??0}computeSpaceWidthForLine(e,t,r){let n=this.getCharWidth(" ",r),i=e[t];if(i){let o=this.countSpaces(i.trimEnd());if(r.horizontalAlign===4&&t<e.length-1&&o){let l=r.width,c=this.getTextWidth(i,r);return(l-(c-o*n))/o}}return n}countSpaces(e){return(e.match(/ /g)||[]).length}};function B8e(e){if(e.length){let t=e[0];if(t instanceof Zs)return t.v1;if(t instanceof qs||t instanceof Ud)return t.v0}}var F8e=class{constructor(){this.objects=new Map,this.unreachable=new Set}getCached(e){return this.objects.get(e)}get size(){return this.objects.size}get(e,t,r){let n=this.objects.get(e);return n===void 0?(n=this.createObject(e,t,r),this.objects.set(e,n)):n.isShared=!0,n}forceDelete(e){let t=this.objects.get(e);t&&(this.disposeObject(t),this.objects.delete(e))}mutateIfUnique(e,t){let r=this.objects.get(e);if(r&&r.isShared!==!0)return this.objects.delete(e),this.objects.set(t,r),r}startGc(){this.unreachable=new Set(this.objects.keys())}markAsReachable(e,t){let r=this.objects.get(e);t===r&&this.unreachable.delete(e)}endGc(){this.unreachable.forEach(e=>{this.disposeObject(this.objects.get(e)),this.objects.delete(e)}),this.unreachable.clear()}dispose(){this.objects.forEach(e=>{this.disposeObject(e)}),this.objects.clear()}},a7=class extends F8e{constructor(e){super(),this.flatShading=e}disposeObject(e){e.dispose()}createObject(e,t,r){let n=F2(e,t,this.flatShading,r);return n.computeBoundingSphere(),n}},U8e={markNeedsUpdateRendererDirty:()=>{}},V8e=class extends VRe{constructor(e){super(),this.shared=e}create(e){return new UQ(e,this.shared)}},C6=class{constructor(e,t={}){if(this.data=e,this.geometryCache=new a7(!0),this.geometryCache2=new a7(!1),this.imageHolderCache=new V8e(this),this.thisContext={scene:U8e,shared:this},this.deletedMaterial=new n5($i.defaultTwoLayerData("phong"),this.thisContext,""),this.deletedImage=new Hh(I2.emptyImage,this),this.deletedVideo=new Hh(C2.defaultVideo,this),this.materials={},this.images={},this.videos={},this.colors={},this.audios={},this.fonts={},this.variables={},this.mouseProperty=null,this.raycastProperty=null,this.requestRender=()=>{this._requestRender&&this._requestRender()},t.images)for(let[r,n]of Object.entries(t.images))this.addImage(r,n);if(t.videos)for(let[r,n]of Object.entries(t.videos))this.addVideo(r,n);if(t.audios)for(let[r,n]of Object.entries(t.audios))this.addAudio(r,n);this.reset(e)}setRequestRender(e){this._requestRender=e}setEntityOpContext(e){this.entityOpContext=e}reset(e,t=!1){this.resetLib(e.lib);for(let{id:r,data:n}of e.variables)this.addVariableHolder(r,n),t&&this.updateVariableHolder(r,n);for(let[r,n]of Object.entries(e.images))this.addImage(r,n);for(let[r,n]of Object.entries(e.videos))this.addVideo(r,n);for(let[r,n]of Object.entries(e.colors))this.addColor(r,n);for(let[r,n]of Object.entries(e.materials))this.addMaterial(r,n);for(let[r,n]of Object.entries(e.audios))this.addAudio(r,n);for(let[r,n]of Object.entries(e.fonts))this.addFont(r,n)}addMaterial(e,t){if(this.materials[e]){let r=this.materials[e];r.reset(t,this.thisContext),r.dispose()}else{let r=new n5(t,this.thisContext,e);this.materials[e]=r}}deleteMaterial(e){this.materials[e]&&(this.materials[e].nodeMaterialDispose(),delete this.materials[e])}getMaterial(e){return this.materials[e]}getMaterialOrDeletedPlaceholder(e){return this.materials[e]??this.deletedMaterial}material(e){return typeof e=="string"?this.getMaterialOrDeletedPlaceholder(e):e==null?(console.error("material is undefined or null"),this.deletedMaterial):new A6(e,this.thisContext)}getMaterials(){return this.materials}addImage(e,t){return this.images[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.images[e].updateSrc(t.data),!0):(this.images[e]=new Hh(t,this),!1)}deleteImage(e){let t=this.images[e];t&&(t.dispose(),delete this.images[e])}getDefaultImage(){return this.images.image_0}getImage(e){return this.images[e]??this.deletedImage}image(e){return typeof e=="string"?this.getImage(e):this.imageHolderCache.load(e)}addVideo(e,t){return this.videos[e]?(this.videos[e].updateSrc(t.data),!0):(this.videos[e]=new Hh(t,this),!1)}deleteVideo(e){let t=this.videos[e];t&&(t.dispose(),delete this.videos[e])}getVideo(e){return this.videos[e]??this.deletedVideo}video(e){return typeof e=="string"?this.getVideo(e):this.imageHolderCache.load(e)}addColor(e,t){return this.colors[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),"a"in t?this.colors[e].setRGBA(t.r,t.g,t.b,t.a):this.colors[e].setRGBA(t.r,t.g,t.b,1),!0):("a"in t?this.colors[e]=new U2(t.r,t.g,t.b,t.a):this.colors[e]=new U2(t.r,t.g,t.b,1),!1)}updateColor(e,t){if(this.colors[e]){this.onColorOrImageUpdate&&this.onColorOrImageUpdate();let r=this.colors[e];return this.colors[e].r=t.r??r.r,this.colors[e].g=t.g??r.g,this.colors[e].b=t.b??r.b,this.colors[e].a=t.a??r.a,!0}return!1}deleteColor(e){this.colors[e]&&delete this.colors[e]}getColor(e){return this.colors[e]}color(e){let t;if(typeof e=="string"){let r=this.getColor(e);r?t=r:(console.warn("Tried to create color layer params with a color key that does not exist in the assets manager"),t=new Yo(0,0,0,0))}else return"a"in e?new Yo(e.r,e.g,e.b,e.a):new Yo(e.r,e.g,e.b,1);return t}addAudio(e,t){this.audios[e]=t}getAudio(e){let t=this.audios[e];if(t instanceof Ov)return t;{let r=new Ov({src:t.data});return this.audios[e]=r,r}}deleteAudio(e){let t=this.audios[e];t&&(t instanceof Ov&&t.dispose(),delete this.audios[e])}addFont(e,t){this.fonts[e]=new N8e(t),this.fonts[e].loadingPromise.then(()=>this.requestRender())}getFont(e){return this.fonts[e]}deleteFont(e){this.fonts[e]&&delete this.fonts[e]}dispose(){Object.keys(this.materials).forEach(e=>this.deleteMaterial(e)),this._requestRender=void 0,Object.values(this.audios).forEach(e=>{e instanceof Ov&&e.dispose()}),this.audios={},this.geometryCache.dispose(),this.geometryCache2.dispose()}addVariableHolder(e,t){return this.variables[e]===void 0?(this.variables[e]={value:t.value,locations:[]},"dynamicVariableType"in t&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0),!0):(this.variables[e].value=t.value,!1)}resetDynamicVariablePlayState(){for(let e in this.variables)this.variables[e].dynamicVariablePlayState!==void 0&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0)}updateVariableHolder(e,t){this.updateVariable(e,t.value)}updateVariable(e,t){if(this.variables[e]===void 0)return!1;this.variables[e].value=t;let r=t;for(;typeof r=="string";)r=this.variables[r].value;let n=this.entityOpContext.scene;for(let i=this.variables[e].locations.length-1;i>=0;i--){let o=this.variables[e].locations[i];if(o[0]==="material"){let l=o[1],c=r,a={scene:n,shared:this},s=o.slice(2);n.traverseMaterial(d=>{let h=d.root??d;h.uuid===l&&h.onVariableUpdate(s,c,a)});let u=this.materials[l];u&&u.onVariableUpdate(s,c,a)}else{let l=n.find(o[0]);if(l===void 0){this.variables[e].locations.splice(i,1);continue}if(o[1]!=="geometry"){for(let c=1;c<o.length-1;c++)l=l[o[c]];o[1]==="rotation"?l[o[o.length-1]]=r*pt.DEG2RAD:l[o[o.length-1]]=r}if(l=n.find(o[0]),or.is(l)){if(o[1]==="position"||o[1]==="rotation"||o[1]==="scale")l.onVariableUpdate();else if(o[1]==="geometry"){let c=l;l.component&&(c=l.component);let a=c.dataPatched;c.chooseGeoemtryCache(this).forceDelete(a.geometry),c.createGeometryDelayed(this.entityOpContext),c.onVariableUpdate(!0),c.instances.forEach(s=>{let u=s.dataPatched;s.chooseGeoemtryCache(this).forceDelete(u.geometry),s.createGeometryDelayed(this.entityOpContext),s.onVariableUpdate(!0)})}}}}return!0}deleteVariable(e){this.variables[e]&&delete this.variables[e]}getVariable(e,t){var r,n,i;if(Array.isArray(e)){if(e[0]==="mouse")return((r=this.mouseProperty)==null?void 0:r[e[1]])??0;if(e[0]==="raycast")return((n=this.raycastProperty)==null?void 0:n[e[1]])??0;let o=this.entityOpContext.scene.find(e[0]);if(e[1]==="width"||e[1]==="height"||e[1]==="depth")return o.geometry.userData.parameters[e[1]];for(let l=1;l<e.length;l++)o=o[e[l]];return e[1]==="rotation"&&(o*=pt.RAD2DEG),o}for(let o in this.variables){if(t===void 0)break;let l=this.variables[o],c=(i=l.locations)==null?void 0:i.findIndex(a=>fo.equal(a,t));c!==void 0&&c!==-1&&l.locations.splice(c,1)}if(typeof e=="string"){let o=e,l=e;do{if(l=o,this.variables[o]===void 0)break;o=this.variables[o].value}while(typeof o=="string");return t&&this.variables[l]!==void 0&&this.variables[l].locations.push(t),o}else return e}getVariables(){return this.variables}getDynamicVariablePlayState(e){var t;return(t=this.variables[e])==null?void 0:t.dynamicVariablePlayState}setDynamicVariablePlayState(e,t){this.variables[e]!==void 0&&(this.variables[e].dynamicVariablePlayState=t)}getDynamicVariableToggleIsForward(e){var t;return(t=this.variables[e])==null?void 0:t.dynamicVariableToggleIsForward}setDynamicVariableToggleIsForward(e,t){this.variables[e]!==void 0&&(this.variables[e].dynamicVariableToggleIsForward=t)}resetLib(e){for(let[t,r]of Object.entries(e.images))this.addImage(t,r.asset);for(let[t,r]of Object.entries(e.audios))this.addAudio(t,r.asset);for(let[t,r]of Object.entries(e.colors))this.addColor(t,r.asset);for(let[t,r]of Object.entries(e.fonts))this.addFont(t,r.asset);for(let[t,r]of Object.entries(e.materials))this.addMaterial(t,r.asset);for(let[t,r]of Object.entries(e.videos))this.addVideo(t,r.asset);for(let[t,r]of Object.entries(e.variables))this.addVariableHolder(t,r.asset)}updateLibByOp(e,t){e.path[0]==="images"?e.path.length===1&&e.type===1?this.addImage(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteImage(e.id):e.path[0]==="videos"?e.path.length===1&&e.type===1?this.addVideo(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteVideo(e.id):e.path[0]==="audios"?e.path.length===1&&e.type===1?this.addAudio(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteAudio(e.id):e.path[0]==="colors"?e.path.length===1&&e.type===1?this.addColor(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteColor(e.id):e.path[0]==="materials"?e.path.length===1&&e.type===1?this.addMaterial(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteMaterial(e.id):e.path[0]==="fonts"?e.path.length===1&&e.type===1?this.addFont(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteFont(e.id):e.path[0]==="variables"?e.path.length===1&&e.type===1?this.addVariableHolder(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteVariable(e.id):e.path[0]==="components"&&t.updateByLibOp(e,this)}updateByOp(e,t,r){this.data=t,e.path[0]==="images"?e.path.length===2&&e.type===0?e.props.data&&this.getImage(e.path[1]).updateSrc(e.props.data):e.path.length===1&&e.type===1?this.addImage(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteImage(e.id):e.path[0]==="videos"?e.path.length===2&&e.type===0?e.props.data&&this.getVideo(e.path[1]).updateSrc(e.props.data):e.path.length===1&&e.type===1?this.addVideo(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteVideo(e.id):e.path[0]==="audios"?e.path.length===2&&e.type===0?e.props.data&&this.addAudio(e.path[1],t.audios[e.path[1]]):e.path.length===1&&e.type===1?this.addAudio(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteAudio(e.id):e.path[0]==="colors"?e.path.length===2&&e.type===0?this.updateColor(e.path[1],e.props):e.path.length===1&&e.type===1?this.addColor(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteColor(e.id):e.path[0]==="materials"?e.path.length===1&&e.type===1?this.addMaterial(e.id,e.data):e.path.length===1&&e.type===2?this.deleteMaterial(e.id):e.path.length>1&&this.getMaterial(e.path[1]).updateByOp(qi.drop(e,2),t.materials[e.path[1]],{shared:this,scene:r}):e.path[0]==="fonts"?e.path.length===2&&e.type===0?this.updateFont(e.path[1],e,r):e.path.length===1&&e.type===1?this.addFont(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteFont(e.id):e.path[0]==="variables"?e.path.length===2&&e.type===0&&"value"in e.props?this.updateVariable(e.path[1],e.props.value):e.path.length===1&&e.type===4?this.addVariableHolder(e.id,e.data):e.path.length===1&&e.type===5&&this.deleteVariable(e.id):e.path[0]==="lib"&&this.updateLibByOp(qi.drop(e,1),r)}updateFont(e,t,r){if(t.props.url){let n=this.getFont(e),i={...this.data.fonts[e],url:t.props.url};n.update(i),n.loadingPromise.then(()=>this.requestRender()),r.updateFont(e,this)}}};new C6(Hs.emptyData());var d0=class extends ea{updateByPatchedOp(e,t,r){if(super.updateByPatchedOp(e,t,r),Fje(e.path,["materials"])!==null&&e.type===0&&Array.isArray(this.material))for(let[n,i]of Object.entries(e.props)){let o=r.shared.material(i);this.material[Number(n)]=o}else if(ns(e.path,["material"])&&this.material instanceof Hd)"material"in t&&typeof t.material!="string"&&this.material.updateByOp(qi.drop(e,1),t.material,r);else if(ns(e.path,["materials","*"])&&Array.isArray(this.material)){let n=e.path[1];if("materials"in t&&n<this.material.length){let i=t.materials[n];typeof i!="string"&&this.material[n].updateByOp(qi.drop(e,2),i,r)}}}get needsAO(){return this.material!==void 0?(Array.isArray(this.material)?this.material[0]:this.material).hasAO:!1}updateState(e,t){var n,i;super.updateState(e,t),e.castShadow!==void 0&&(this.castShadow=e.castShadow),e.receiveShadow!==void 0&&(this.receiveShadow=e.receiveShadow);let r=this.dataPatched;if(((n=e.geometry)==null?void 0:n.type)!=="NonParametricGeometry"&&"material"in e&&e.material!==void 0&&(this.disposeMaterial(),this.material=t.shared.material(e.material).getFlavor(r.flatShading,r.side,r.wireframe),t.scene.markNeedsUpdateRendererDirty()),((i=e.geometry)==null?void 0:i.type)==="NonParametricGeometry"&&("materials"in e&&e.materials!==void 0?(this.disposeMaterial(),this.material=e.materials.map(o=>t.shared.material(o).getFlavor(r.flatShading,r.side,r.wireframe)),t.scene.markNeedsUpdateRendererDirty()):"material"in e&&e.material!==void 0&&(this.disposeMaterial(),this.material=[t.shared.material(e.material).getFlavor(r.flatShading,r.side,r.wireframe)],t.scene.markNeedsUpdateRendererDirty())),e.flatShading!==void 0||e.wireframe!==void 0||e.side!==void 0)if(Array.isArray(this.material))for(let o=0;o<this.material.length;o++)this.material[o]=this.material[o].getFlavor(r.flatShading,r.side,r.wireframe);else this.material=this.material.getFlavor(r.flatShading,r.side,r.wireframe)}disposeMaterial(){this.material&&Q$(this.material).forEach(e=>{e instanceof Hd&&(e instanceof n5||e.nodeMaterialDispose())})}dispose(){this.disposeMaterial(),super.dispose()}},s7=new V,l7=new Ut,c7=new Ut,H8e=new V,u7=new Ne,bo=class extends d0{constructor(e,t,r){super(e,t),this.data=t,this.isSkinnedMesh=!1,this.localGeometry=void 0,t.bindMode&&t.bindMatrix&&(this.bindMode=t.bindMode,this.bindMatrix=new Ne().fromArray(t.bindMatrix),this.bindMatrixInverse=new Ne)}chooseGeoemtryCache(e){return e.geometryCache}markGeometryAsReachable(e){this.geometryCreateDeleyed instanceof vt&&this.chooseGeoemtryCache(e).markAsReachable(this.dataPatched.geometry,this.geometryCreateDeleyed)}get geometry(){if(this.localGeometry!==void 0)return this.localGeometry;if(this.geometryCreateDeleyed instanceof C6){let e=this.geometryCreateDeleyed,t=this.chooseGeoemtryCache(e);this.geometryCreateDeleyed=t.get(this.dataPatched.geometry,e,this)}return this.geometryCreateDeleyed}set geometry(e){this.localGeometry=e}get is2DAndNoDepth(){let e=this.dataPatched.geometry;return P2.is2DParametricMesh(e.type)&&e.depth===0}get is2DType(){return P2.is2DParametricMesh(this.geometry.userData.type)}get isNonParametric(){return this.geometry.userData.type==="NonParametricGeometry"}updateByPatchedOp(e,t,r){super.updateByPatchedOp(e,t,r),ns(e.path,["geometry"])&&this.updateByPatchedOpGeometry(qi.drop(e,1),t.geometry,r)}removeInteractionGeometry(){var e;(e=this.localGeometry)==null||e.dispose(),this.localGeometry=void 0}updateGeometryInteractions(e,t){var n;this.invalidateDownstreamBooleanData();let r=this.data.geometry.type;if(r==="NonParametricGeometry"||r==="SubdivGeometry"){let i=e;if(this.localGeometry===void 0){let s={...this.data.geometry,...i};this.localGeometry=F2(s,t,this.data.flatShading,this)}let o,l,c;i.scaleBaked?[o,l,c]=i.scaleBaked:{width:o,height:l,depth:c}=i;let a=this.localGeometry.userData;a.sxPrev!==void 0&&QP(this.localGeometry.attributes,o/a.sxPrev,l/a.syPrev,c/a.szPrev),a.sxPrev=o,a.syPrev=l,a.szPrev=c}else{let i={...this.data.geometry,...e};(n=this.localGeometry)==null||n.dispose(),this.localGeometry=F2(i,t,this.data.flatShading,this)}}refreshAttachedCloners(e){for(let t of this.attachedSurfaceCloners)e.scene.addPendingUpdateCloner(t.object)}refreshAttachedPaths(e){for(let t of this.attachedPaths)e.scene.addPendingCommand(()=>t.updateShape())}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.refreshAttachedCloners(e),this.refreshAttachedPaths(e)}updateByPatchedOpGeometry(e,t,r){var i;let n=!1;e.type===0&&e.path.length===0&&Object.keys(e.props).includes("scaleBaked")&&this.geometryCreateDeleyed instanceof uo&&this.chooseGeoemtryCache(r.shared).mutateIfUnique(this.geometryCreateDeleyed.data,t)===this.geometryCreateDeleyed&&(n=!0,this.geometryCreateDeleyed.mutateDirectlyScaleBaked(t,e.props.scaleBaked),this.refreshAttachedCloners(r),this.refreshAttachedPaths(r)),n||((i=r.scene)==null||i.markGeometryCacheDirty(),this.createGeometryDelayed(r)),this.resetBBoxNeedsUpdate(),this.invalidateDownstreamBooleanData()}updateGeometryOnStateUpdate(e,t){this.createGeometryDelayed(t)}updateState(e,t){e.geometry!==void 0&&this.updateGeometryOnStateUpdate(e.geometry,t),super.updateState(e,t)}updateGeometryGroupsIfNeeded(){var e;Array.isArray(this.material)&&this.geometry.groups.length===0&&this.geometry.addGroup(0,Math.max(((e=this.geometry.getIndex())==null?void 0:e.count)??0,this.geometry.getAttribute("position").count),0)}updateEntityBoxSize(e,t){let r=this.geometry.userData.parameters;this.is2DType?e.set(0,0,r.depth*.5):this.isNonParametric?(e.setScalar(0),this.geometry.boundingSphere&&e.copy(this.geometry.boundingSphere.center),t.set(r.width,r.height,r.depth??0).multiplyScalar(.5)):e.setScalar(0),t.set(r.width,r.height,r.depth??0).multiplyScalar(.5)}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}bind(e,t){this.skeleton=e,this.isSkinnedMesh=!0,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(e){let t=new Ut,r=this.geometry.attributes.skinWeight;for(let n=0,i=r.count;n<i;n++){t.fromBufferAttribute(r,n);let o=1/t.manhattanLength();o!==1/0?t.multiplyScalar(o):t.set(1,0,0,0),r.setXYZW(n,t.x,t.y,t.z,t.w)}}boneTransform(e,t){let r=this.skeleton;if(r===void 0)return;let n=this.geometry;l7.fromBufferAttribute(n.attributes.skinIndex,e),c7.fromBufferAttribute(n.attributes.skinWeight,e),s7.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){let o=c7.getComponent(i);if(o!==0){let l=l7.getComponent(i);u7.multiplyMatrices(r.bones[l].matrixWorld,r.boneInverses[l]),t.addScaledVector(H8e.copy(s7).applyMatrix4(u7),o)}}return t.applyMatrix4(this.bindMatrixInverse)}};function W8e(e){var l,c;if(e.geometry.attributes.extrudeNormal||!e.geometry.attributes.position||!e.geometry.attributes.normal)return;let t=new Map,r=e.geometry.attributes,n=r.position.array,i=r.normal.array,o=new Float32Array(n.length);for(let a=0;a<n.length;a+=3){let s=`${n[a]}_${n[a+1]}_${n[a+2]}`,u=new V(i[a],i[a+1],i[a+2]);t.has(s)?(l=t.get(s))==null||l.normals.push(u):t.set(s,{normals:[u],result:new V})}t.forEach((a,s)=>{for(let u of a.normals)a.result.add(u);a.result.divideScalar(a.normals.length)});for(let a=0;a<n.length;a+=3){let s=`${n[a]}_${n[a+1]}_${n[a+2]}`,u=(c=t.get(s))==null?void 0:c.result;u&&(o[a]=u.x,o[a+1]=u.y,o[a+2]=u.z)}e.geometry.setAttribute("extrudeNormal",new it(o,3))}function G8e(e){if(e.geometry.attributes.extrudeNormals||!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,r=new Float32Array(t.length),n=new V;for(let i=0;i<t.length;i+=3)n.set(t[i],t[i+1],t[i+2]).normalize(),r[i]=n.x,r[i+1]=n.y,r[i+2]=n.z;e.geometry.setAttribute("extrudeNormal",new it(r,3))}function M6(e){if(Array.isArray(e.material)){for(let t of e.material)if(t.getLayersOfType("outline").length===0)return}else if(!(e.material instanceof Hd)||e.material.getLayersOfType("outline").length===0)return;e instanceof bo&&e.is2DAndNoDepth?G8e(e):W8e(e)}function T6(e){if(!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,r=new Float32Array(t.length),n=parseInt(e.uuid.replace(/\D/g,"")),i=[pt.seededRandom(n),pt.seededRandom(n+1e4),pt.seededRandom(n+2e4)];for(let o=0;o<t.length;o++)r[o]=i[o%3];e.geometry.setAttribute("randomColor",new kt(r,3))}b6.then(e=>{});var gl=new Rn,iv=new V;function q8e(e){let t=!1;return e.scene.objects.traverse((r,n)=>{n.type==="Mesh"&&n.geometry.type==="SubdivGeometry"&&(t=!0)}),t}var m1=class extends bo{constructor(e,t,r){super(e,t,r),this.data=t,this.hiddenMatrixOld=new Ne,this.smoothShading=!0,this.skipReactionUpdate=!1}chooseGeoemtryCache(e){return this.dataPatched.flatShading?e.geometryCache:e.geometryCache2}get subdivPointerNew(){return this.localGeometry!==void 0?this.subdivPointer:this.geometry.ensureSubdivPointer()}get originalGeometryNew(){return this.localGeometry!==void 0?this.originalGeometry:this.geometry.originalGeometry}get phongAngle(){return this.data.geometry.phongAngle??45}updateEntityBoxSize(e,t){let r=this.geometry.userData.parameters;e.copy(this.originalGeometryNew.boundingSphere.center),t.set(r.width,r.height,r.depth??0).multiplyScalar(.5)}createGeometryByControls(e){var o,l,c;if(this.skipReactionUpdate===!0)return;let t=(o=this.localGeometry)==null?void 0:o.uuid,{originalGeometry:r,subdividedGeometry:n,subdivPointer:i}=uo.build(e,this.subdivPointer,this.smoothShading,this.hasNonUniformScale?this.shearScale:void 0);this.subdivPointer=i,r!==void 0&&((l=this.originalGeometry)==null||l.dispose(),this.originalGeometry=r),n!==void 0&&((c=this.subdividedGeometry)==null||c.dispose(),this.subdividedGeometry=n??void 0),this.localGeometry=this.subdividedGeometry??this.originalGeometry,M6(this),T6(this),this.calcBoundingBox(),t&&(this.localGeometry.uuid=t)}updateState(e,t){if(super.updateState(e,t),e.flatShading!==void 0){let r=this.material;this.material=r.getFlavor(!1,r.side,r.wireframe),this.smoothShading=!e.flatShading,this.createGeometryDelayed(t)}}updateMesh(e=!1){uo.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1,this.originalGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0),this.subdividedGeometry&&uo.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1,this.subdividedGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0)}updateTopology(){this.originalGeometry.dispose(),this.originalGeometry=uo.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1),this.subdividedGeometry&&(this.subdividedGeometry.dispose(),this.subdividedGeometry=uo.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1)),this.localGeometry=this.subdividedGeometry??this.originalGeometry}raycast(e,t){let r=this.localGeometry;this.localGeometry=this.originalGeometryNew,ea.prototype.raycast.call(this,e,t),this.localGeometry=r}activateSVDCompensation(){!this.hasNonUniformScale||(this.matrix.copy(this.matrixWorldRigid),this.hiddenMatrixOld.copy(this.hiddenMatrix),this.hiddenMatrix.copy(this.parent.matrixWorld).invert())}deactivateSVDCompensation(){!this.hasNonUniformScale||(this.updateMatrix(),this.hasNonUniformScale=void 0,this.hiddenMatrix.copy(this.hiddenMatrixOld))}calcBoundingBox(){let e=this.originalGeometry;e.boundingSphere===null&&(e.boundingSphere=new Zo,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let t=e.attributes.position,r=e.boundingSphere.center;gl.setFromBufferAttribute(t),gl.getCenter(r),e.boundingSphere.radius=r.distanceTo(gl.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),gl.getSize(iv),this.hasNonUniformScale&&iv.divide(this.scale);let n={width:iv.x,height:iv.y,depth:iv.z};return this.geometry.userData.parameters=n,n}updateBoundingSphere(e){let t=this.originalGeometry;gl.min.set(e[0],e[2],e[4]),gl.max.set(e[1],e[3],e[5]),this.hasNonUniformScale&&(gl.min.applyMatrix4(this.shearScaleInv),gl.max.applyMatrix4(this.shearScaleInv)),t.boundingSphere===null&&(t.boundingSphere=new Zo);let r=t.boundingSphere.center;gl.getCenter(r),t.boundingSphere.radius=r.distanceTo(gl.max)}freeSubdivPointer(){var e,t;this.subdivPointer&&(uo.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0),this.localGeometry=void 0,(e=this.originalGeometry)==null||e.dispose(),(t=this.subdividedGeometry)==null||t.dispose()}dispose(){super.dispose(),this.freeSubdivPointer()}updateByPatchedOpGeometry(e,t,r){super.updateByPatchedOpGeometry(e,t,r),this.localGeometry&&this.createGeometryByControls(t)}},d7=-1,Y8e=1,X8e={x:[1,0,0],"-x":[-1,0,0],y:[0,1,0],"-y":[0,-1,0],z:[0,0,1],"-z":[0,0,-1]},$8e={polygon_center:0,edge:1,vertex:2},Fx=(e,t)=>(r,n)=>!t||r===0||e===0?0:e*n/100,Bt=(e,t)=>{let r=Math.abs(t),n=r*-1;return(e-d7)*(r-n)/(Y8e-d7)+n};function K8e(e){let t=[],r={};for(var n=0,i=e.length;n<i;n++){var o=JSON.stringify(e[n].pos.map(l=>Math.round(l*1e4)/1e4));r[o]||(t.push(e[n]),r[o]=!0)}return t}var Q8e=new V,Ux=new V,J8e=new V,Z8e=new V;function Wm(e,t){let r=J8e.fromArray(e),n=Z8e.fromArray(t);Ux.copy(n).sub(r);let i=Ux.length();return Ux.normalize().multiplyScalar(i*.5),Q8e.copy(r).add(Ux).toArray()}var ts=new Gi,Vx=new V,V2=new V,kh=new V;function eLe(e){let t=[];for(let r=0;r<=e.index.count;r++)if(Vx.fromArray(e.index.array,r*3),ts.setFromAttributeAndIndices(e.attributes.position,Vx.x,Vx.y,Vx.z),ts.getNormal(V2),ts.getMidpoint(kh),!(isNaN(kh.x)||isNaN(kh.y)||isNaN(kh.z))){let{a:n,b:i,c:o}=ts,l=n.toArray(),c=i.toArray(),a=o.toArray(),s=n.distanceTo(i),u=i.distanceTo(o),d=o.distanceTo(n),h=Wm(l,c),f=Wm(c,a),m=Wm(a,l),p=[s,u,d],g=Math.max(...p),v=p.filter(b=>Math.round(b)===Math.round(g)).length>1,x=[],y=ts.getMidpoint(kh).toArray();g===s&&!v&&(x=[f,m,m],y=h),g===u&&!v&&(x=[h,m,m],y=f),g===d&&!v&&(x=[h,f,f],y=m),v&&(x=[h,f,m]),t.push({vertices:[l,c,a],faceCenters:x,midpoint:y,norm:ts.getNormal(V2).toArray()})}return t}function tLe(e){let t=[],{position:r}=e.attributes;for(let n=0;n<r.count;n++){ts.setFromAttributeAndIndices(r,n*3,n*3+1,n*3+2),ts.getNormal(V2),ts.getMidpoint(kh);let i=ts.a.toArray(),o=ts.b.toArray(),l=ts.c.toArray();t.push({vertices:[i,o,l],faceCenters:[Wm(i,o),Wm(o,l),Wm(l,i)],midpoint:kh.toArray(),norm:V2.toArray()})}return t}var rLe=4,nLe=.5,aM=e=>.5*(1-Math.cos(e*Math.PI)),iLe=class{constructor(){this.perlin=new Array(4096)}noise(e,t=0,r=0){if(this.perlin==null){this.perlin=new Array(4096);for(let g=0;g<4096;g++)this.perlin[g]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),r<0&&(r=-r);let n=Math.floor(e),i=Math.floor(t),o=Math.floor(r),l=e-n,c=t-i,a=r-o,s,u,d=0,h=.5,f,m,p;for(let g=0;g<rLe;g++){let v=n+(i<<4)+(o<<8);s=aM(l),u=aM(c),f=this.perlin[v&4095],f+=s*(this.perlin[v+1&4095]-f),m=this.perlin[v+16&4095],m+=s*(this.perlin[v+16+1&4095]-m),f+=u*(m-f),v+=256,m=this.perlin[v&4095],m+=s*(this.perlin[v+1&4095]-m),p=this.perlin[v+16&4095],p+=s*(this.perlin[v+16+1&4095]-p),m+=u*(p-m),f+=aM(a)*(m-f),d+=f*h,h*=nLe,n<<=1,l*=2,i<<=1,c*=2,o<<=1,a*=2,l>=1&&(n++,l--),c>=1&&(i++,c--),a>=1&&(o++,a--)}return d}noiseSeed(e){let t=(()=>{let r,n;return{setSeed(i){n=r=(i??Math.random()*4294967296)>>>0},getSeed(){return r},rand(){return n=(1664525*n+1013904223)%4294967296,n/4294967296}}})();t.setSeed(e),this.perlin=new Array(4096);for(let r=0;r<4096;r++)this.perlin[r]=t.rand()}},oLe=iLe,h7=new V,f7=new Ne,p7=new Kg;function m7(e){let t=!1;return e.scene.objects.traverse((r,n)=>{n.type==="Mesh"&&n.geometry.type==="TextGeometry"&&(t=!0)}),t}var QQ=class extends bo{constructor(e,t,r){super(e,t,r),this.data=t}get textGeometry(){return this.geometry}get charWidths(){return this.textGeometry.charWidths}get charCoords(){return this.textGeometry.charCoords}get wrappedText(){return this.textGeometry.wrappedText}get font(){return this.textGeometry.font}get initialOffsetY(){var t;let e=this.dataPatched;return((t=this.font)==null?void 0:t.getLineInitialOffsetY(this.lineHeight,this.wrappedText.length,e.geometry.height,this.fontScale,e.geometry.verticalAlign))??0}get fontScale(){let e=this.dataPatched;return this.font?e.geometry.fontSize/this.font.unitsPerEm:1}get AD(){return Math.abs(this.ascender-this.descender)}get ascender(){var e;return(((e=this.font)==null?void 0:e.ascender)??1)*this.fontScale}get descender(){var e;return(((e=this.font)==null?void 0:e.descender)??1)*this.fontScale}get lineHeight(){let e=this.dataPatched;return e.geometry.fontSize*e.geometry.lineHeight}raycast(e,t){let{matrixWorld:r}=this;if(!(isNaN(e.ray.origin.x)||this.scale.x===0||this.scale.y===0||this.scale.z===0)&&(f7.copy(r).invert(),p7.copy(e.ray).applyMatrix4(f7),p7.intersectBox(this.singleBBox,h7))){let n=h7.applyMatrix4(r),i=e.ray.origin.distanceTo(n);t.push({distance:i,point:n.clone(),object:this})}}},no=1e-4,vl,JQ,ZQ,eJ,g7=new V,v7=new V;b6.then(e=>{vl=e,JQ=[vl.get_face_center,vl.get_edge_midpoint,vl.get_vertex_position],ZQ=[vl.get_face_normal,vl.get_edge_normal,vl.get_vertex_normal],eJ=[vl.face_count,vl.edge_count,vl.vertex_count]});var aLe=new Ne,sLe=new Ne,Nu=new V,uh=new V,ov=new V,sM=new V,lLe=new V,cLe=new V,wc=new oLe,$s=class extends d6(Tr){constructor(e,t){super(),this.parameters=t,this.objectForSample=void 0,this._pendingMediaLoad=!1,this.object=e}resetOnMove(){this.removeFromParent(),this.parent=null}expandClones(e){if(this.parent===null)this.updateState(this.parameters,e);else for(let t of this.children)t instanceof Yi&&t.expand()}invalidateTransform(e){this.matrixWorldNeedsUpdate=!0,this.traverse(t=>{t instanceof Yi&&t.object===e&&(t.matrixWorldNeedsUpdate=!0)})}onObjUpdateMatrix(){this.parameters.type!=="toObject"&&(this.matrixWorldNeedsUpdate=!0)}update(){switch(this._updateCount(),this.parameters.type){case"radial":this._updateRadial(this.parameters);break;case"linear":this._updateLinear(this.parameters);break;case"grid":this._updateGrid(this.parameters);break;case"toObject":this._updateToObject(this.parameters)}for(let e of this.children)e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD())}_updateCount(e){let t;if(e!==void 0?t=e:t=this.parameters.type==="grid"?Math.round(this.parameters.grid.count[0])*Math.round(this.parameters.grid.count[1])*Math.round(this.parameters.grid.count[2]):this.parameters.count,this.parameters.type==="toObject"&&!this.parameters.toObject.object&&(t=0),this.parameters.type==="toObject"&&this.objectForSample){for(let n=0,i=this.children.length;n<i;++n)this.remove(this.children[0]);let r=this.children;if(r.length===t)return;if(r.length<t)for(let n=0,i=t-r.length;n<i;++n){let o=new Yi(this.object);o.expand(),this.add(o)}else for(let n=0,i=r.length-t;n<i;++n)this.remove(r[n])}else{if(this.children.length===t)return;if(this.children.length<t)for(let r=0,n=t-this.children.length;r<n;++r){let i=new Yi(this.object);i.expand(),this.add(i)}else for(let r=0,n=this.children.length-t;r<n;++r)this.remove(this.children[0])}}_updateRadial(e){let t=e.radial,r=t.start*pt.DEG2RAD,n=t.end*pt.DEG2RAD,i=r-n,o=new yi(t.rotation[0],t.rotation[1],t.rotation[2]),l;switch(t.axis){case"z":l=new V(0,0,1);break;case"y":l=new V(0,1,0);break;default:case"x":l=new V(1,0,0);break}let c=e.randomnessObject??fd.defaultData([1,1,1]).randomnessObject,a=c.noiseType==="perlin";wc.noiseSeed(c.seed);let s=BC((0,Z0.default)(c.seed)),u=Fx(c.strength,this.parameters.randomness);for(let[d,h]of this.children.entries()){let f=d*(c.freqScale/10)+c.movement,m=a?wc.noise(f):s(f,f),p=d+1;h.scale.x=t.scale[0]+u(p,Bt(m,c.scale[0]))||no,h.scale.y=t.scale[1]+u(p,Bt(m,c.scale[1]))||no,h.scale.z=t.scale[2]+u(p,Bt(m,c.scale[2]))||no,h.position.setScalar(0);let g=i/e.count*d-r;switch(t.axis){case"x":h.rotation.set(0,g,0);break;case"y":h.rotation.set(0,0,g);break;case"z":h.rotation.set(g,0,0);break}h.translateOnAxis(l,t.radius),h.position.x+=t.position[0]+u(p,Bt(m,c.position[0])),h.position.y+=t.position[1]+u(p,Bt(m,c.position[1])),h.position.z+=t.position[2]+u(p,Bt(m,c.position[2]));let v=u(p,Bt(m,c.rotation[0])),x=u(p,Bt(m,c.rotation[1])),y=u(p,Bt(m,c.rotation[2]));t.alignment===!0?(h.rotation.x+=o.x+v,h.rotation.y+=o.y+x,h.rotation.z+=o.z+y):h.rotation.set(o.x+v,o.y+x,o.z+y)}}_updateLinear(e){if(e.type!=="linear")throw new Error;let t=e.linear,r=new yi(t.rotation[0],t.rotation[1],t.rotation[2]),n=e.randomnessObject??fd.defaultData([1,1,1]).randomnessObject,i=n.noiseType==="perlin";wc.noiseSeed(n.seed);let o=BC((0,Z0.default)(n.seed)),l=Fx(n.strength,this.parameters.randomness);for(let[c,a]of this.children.entries()){let s=c*(n.freqScale/10)+n.movement,u=i?wc.noise(s):o(s,s),d=c+1,h=l(d,Bt(u,n.rotation[0])),f=l(d,Bt(u,n.rotation[1])),m=l(d,Bt(u,n.rotation[2]));a.scale.x=1+(t.scale[0]-1)*c+l(d,Bt(u,n.scale[0]))||no,a.scale.y=1+(t.scale[1]-1)*c+l(d,Bt(u,n.scale[1]))||no,a.scale.z=1+(t.scale[2]-1)*c+l(d,Bt(u,n.scale[2]))||no,a.rotation.x=r.x*c+h,a.rotation.y=r.y*c+f,a.rotation.z=r.z*c+m,a.position.x=t.position[0]*c+l(d,Bt(u,n.position[0])),a.position.y=t.position[1]*c+l(d,Bt(u,n.position[1])),a.position.z=t.position[2]*c+l(d,Bt(u,n.position[2]))}}_updateGrid(e){let t=0,r=e.grid,n=e.randomnessObject??fd.defaultData([1,1,1]).randomnessObject,i=Fx(n.strength,this.parameters.randomness),o=n.noiseType==="perlin";wc.noiseSeed(n.seed);let l=gIe((0,Z0.default)(n.seed));if(r.useCenter===!0){let c={x:r.count[0]%2===0?2:1,y:r.count[1]%2===0?2:1,z:r.count[2]%2===0?2:1},a=new V(r.size[0]*(r.count[0]-c.x)*.5,r.size[1]*(r.count[1]-c.y)*.5,r.size[2]*(r.count[2]-c.z)*.5);for(let s=0;s<r.count[0];s++)for(let u=0;u<r.count[1];u++)for(let d=0;d<r.count[2];d++){let h=[(s+1)*(n.freqScale/10)+n.movement,(u+1)*(n.freqScale/10)+n.movement,(d+1)*(n.freqScale/10)+n.movement],f=o?wc.noise(...h):l(...h),m=this.children[t++];m.scale.x=1+i(t,Bt(f,n.scale[0]))||no,m.scale.y=1+i(t,Bt(f,n.scale[1]))||no,m.scale.z=1+i(t,Bt(f,n.scale[2]))||no;let p=i(t,Bt(f,n.rotation[0])),g=i(t,Bt(f,n.rotation[1])),v=i(t,Bt(f,n.rotation[2]));m.rotation.set(p,g,v),m.position.x=r.size[0]*s-a.x+i(t,Bt(f,n.position[0])),m.position.y=r.size[1]*u-a.y+i(t,Bt(f,n.position[1])),m.position.z=r.size[2]*d-a.z+i(t,Bt(f,n.position[2]))}}else for(let c=0;c<r.count[0];c++)for(let a=0;a<r.count[1];a++)for(let s=0;s<r.count[2];s++){let u=[(c+1)*(n.freqScale/10)+n.movement,(a+1)*(n.freqScale/10)+n.movement,(s+1)*(n.freqScale/10)+n.movement],d=o?wc.noise(...u):l(...u),h=this.children[t++];h.scale.x=1+i(t,Bt(d,n.scale[0]))||no,h.scale.y=1+i(t,Bt(d,n.scale[1]))||no,h.scale.z=1+i(t,Bt(d,n.scale[2]))||no;let f=i(t,Bt(d,n.rotation[0])),m=i(t,Bt(d,n.rotation[1])),p=i(t,Bt(d,n.rotation[2]));h.rotation.set(f,m,p),h.position.x=r.size[0]*c+i(t,Bt(d,n.position[0])),h.position.y=-r.size[1]*a+i(t,Bt(d,n.position[1])),h.position.z=-r.size[2]*s+i(t,Bt(d,n.position[2]))}}_updateToObject(e){var p;if(e.type!=="toObject")throw new Error;let{toObject:t}=e,r=new yi(t.rotation[0],t.rotation[1],t.rotation[2]),n=e.randomnessObject??fd.defaultData([1,1,1]).randomnessObject,i=n.noiseType==="perlin";wc.noiseSeed(n.seed);let o=BC((0,Z0.default)(n.seed)),l=Fx(n.strength,this.parameters.randomness);if(!t.object){for(let[,g]of this.children.entries())g.position.set(0,0,0),g.scale.setScalar(1),g.rotation.set(0,0,0);this.objectForSample=void 0;return}if(!this.objectForSample)return;if(this.objectForSample instanceof QQ)if(!((p=this.objectForSample.font)!=null&&p.isLoaded)||this.objectForSample.geometry.attributes.position===void 0){this._pendingMediaLoad=!0;return}else this._pendingMediaLoad=!1;if(this.objectForSample.geometry===void 0&&this.objectForSample.isAncestorOf(this.object.uuid)){console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) seem to be a child/descendant of the object it's being cloned to. Please re-parent it so that they are siblings instead.`);return}let c=this.getSubdivData(),a=[],s=g=>{let v=g.length,x=g.map(w=>w[0]).reduce((w,_)=>w+_,0),y=g.map(w=>w[1]).reduce((w,_)=>w+_,0),b=g.map(w=>w[2]).reduce((w,_)=>w+_,0);return[x/v,y/v,b/v]},u=g=>Math.round(g*1e6)/1e6;c.forEach(g=>{let v=c.filter(x=>u(g.pos[0])===u(x.pos[0])&&u(g.pos[1])===u(x.pos[1])&&u(g.pos[2])===u(x.pos[2]));v.length>1?a.push({pos:g.pos,norm:s(v.map(x=>x.norm))}):a.push(g)});let d=K8e(a);if(d.length>0){let g=Math.round(d.length*t.count/100);this._updateCount(g)}else{let g=this.objectForSample.geometry.getAttribute("position");if(!g||isNaN(g.count)||g.count===0){console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) cannot be cloned on the surface of "${this.objectForSample.name}" (${this.objectForSample.uuid}) because the latter does not have a valid geometry.`);return}}this.objectForSample.updateMatrixWorld();let h=new vIe(this.objectForSample).build(),f=X8e[t.axis],m=this.children;h.setRandomGenerator((0,Z0.default)(this.object.uuid+t.seed));for(let[g,v]of m.entries()){let x=g*(n.freqScale/10)+n.movement,y=i?wc.noise(x):o(x,x),b=g+1,w=l(b,Bt(y,n.rotation[0])),_=l(b,Bt(y,n.rotation[1])),S=l(b,Bt(y,n.rotation[2]));t.spreadType==="random"?h.sample(ov,sM):(d.length&&(ov.fromArray(d[g].pos),sM.fromArray(d[g].norm)),this.objectForSample instanceof m1&&ov.applyMatrix4(aLe.copy(this.objectForSample.matrixWorld).invert())),ov.applyMatrix4(this.object.hiddenMatrix.clone().invert()),v.position.copy(ov),Nu.fromArray(f);let E=t.align==="normal"?sM:this.object.getWorldDirection(cLe),C=uh.fromArray(t.position);uh.x+=uh.x+l(b,Bt(y,n.position[0])),uh.y+=uh.y+l(b,Bt(y,n.position[1])),uh.z+=uh.z+l(b,Bt(y,n.position[2]));let A=Math.acos(E.dot(Nu)),T=lLe.crossVectors(Nu,E).normalize(),k=sLe.makeRotationAxis(T,A),D=E.clone().cross(this.object.up).normalize(),M=D.clone().cross(E).normalize(),P=new Ne().makeBasis(D,E,M),j=new V(Nu.y,Nu.z,Nu.x).normalize(),O=j.clone().cross(Nu).normalize(),I=new Ne().makeBasis(j,Nu,O).invert(),N=new Ne().multiplyMatrices(P,I);v.rotation.setFromRotationMatrix(N),C.applyMatrix4(k),v.position.add(C),v.rotation.x=v.rotation.x+r.x+w,v.rotation.y=v.rotation.y+r.y+_,v.rotation.z=v.rotation.z+r.z+S,v.scale.setScalar(1),v.scale.x=v.scale.x+t.scale[0]+l(b,Bt(y,n.scale[0]))||no,v.scale.y=v.scale.y+t.scale[1]+l(b,Bt(y,n.scale[1]))||no,v.scale.z=v.scale.z+t.scale[2]+l(b,Bt(y,n.scale[2]))||no,v.scale.multiply(this.object.scale),v.hiddenMatrix=this.object.hiddenMatrix}}getSubdivData(){if(!this.objectForSample)return[];let e=this.parameters.toObject.spreadType;if(e==="random")return[];if(this.objectForSample instanceof m1){let t=this.objectForSample,r=$8e[e],n=eJ[r],i=JQ[r],o=ZQ[r],l=[],c=n(t.subdivPointerNew);for(let a=0;a<=c-1;a++){let s=i(t.subdivPointerNew,a),u=o(t.subdivPointerNew,a);g7.fromArray(s).applyMatrix4(t.matrixWorld),v7.fromArray(u),l.push({pos:g7.toArray(),norm:v7.toArray()})}return l}else return(this.objectForSample.geometry.index?eLe(this.objectForSample.geometry):tLe(this.objectForSample.geometry)).map((t,r)=>e==="polygon_center"?{pos:t.midpoint,norm:t.norm}:e==="vertex"?[{pos:t.vertices[0],norm:t.norm},{pos:t.vertices[1],norm:t.norm},{pos:t.vertices[2],norm:t.norm}]:e==="edge"?[{pos:t.faceCenters[0],norm:t.norm},{pos:t.faceCenters[1],norm:t.norm},{pos:t.faceCenters[2],norm:t.norm}]:[]).flat()}updateState(e,t){var r;if(this.parameters=HE(e),this.parameters.type!=="toObject")(this.parent===null||this.parent!==this.object)&&(this.removeFromParent(),(r=this.object.parent)==null||r.add(this),this.matrix=this.object.matrix,this.hiddenMatrix=this.object.hiddenMatrix,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1);else if(this.parent===null||this.parent.uuid!==this.parameters.toObject.object){this.removeFromParent();let n=t.find(this.parameters.toObject.object);n instanceof ea?this.objectForSample=n:this.objectForSample=void 0,this.matrix=new Ne,this.hiddenMatrix=new Ne,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1,n&&n.add(this)}this.update()}get pendingMediaLoad(){return this._pendingMediaLoad}},J1=e=>{var t;return t=class extends e{},t.geometryHelper=new nc(30,30,30),t},Hx=new Kg,lM=new Zo,y7=new Ne,Z1=(e,t,r,n,i=!1)=>{let o=t,l=e.matrixWorld;if(o.boundingSphere===null&&o.computeBoundingSphere(),lM.copy(o.boundingSphere),lM.applyMatrix4(l),r.ray.intersectsSphere(lM)===!1||(y7.copy(l).invert(),Hx.copy(r.ray).applyMatrix4(y7),o.boundingBox!==null&&Hx.intersectsBox(o.boundingBox)===!1))return;let c,a,s,u,d=o.index,h=o.attributes.position,f=o.drawRange,m,p;if(i===!1){let v=Math.max(0,f.start),x=Math.min(d.count,f.start+f.count);for(m=v,p=x;m<p;m+=3)if(a=d.getX(m),s=d.getX(m+1),u=d.getX(m+2),c=g(e,r,Hx,h,a,s,u),c){c.faceIndex=Math.floor(m/3),n.push(c);return}}else{let v=o.attributes.position,x=new V,y=new V,b=new V,w=new V,_=2,S=1/((e.scale.x+e.scale.y+e.scale.z)/3),E=S*S,C=Math.max(0,f.start),A=Math.min(v.count,f.start+f.count);for(let T=C,k=A-1;T<k;T+=_){if(x.fromBufferAttribute(v,T),y.fromBufferAttribute(v,T+1),Hx.distanceSqToSegment(x,y,w,b)>E)continue;w.applyMatrix4(e.matrixWorld);let D=r.ray.origin.distanceTo(w);D<r.near||D>r.far||n.push({distance:D,point:b.clone().applyMatrix4(e.matrixWorld),object:e})}}function g(v,x,y,b,w,_,S){let E=new V,C=new V,A=new V,T=new V,k=new V;if(E.fromBufferAttribute(b,w),C.fromBufferAttribute(b,_),A.fromBufferAttribute(b,S),y.intersectTriangle(E,C,A,!1,T)===null)return null;k.copy(T),k.applyMatrix4(v.matrixWorld);let D=x.ray.origin.distanceTo(k);return D<x.near||D>x.far?null:{faceIndex:1,distance:D,point:k.clone(),object:v}}},Wx=new V,Na=new Jg,uLe=class extends Y1{constructor(e){let t=new vt,r=new Qd({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],i=[],o={},l=new wt(15711266),c=new wt(15711266),a=new wt(2857471);s("n1","n2",l),s("n2","n4",l),s("n4","n3",l),s("n3","n1",l),s("f1","f2",l),s("f2","f4",l),s("f4","f3",l),s("f3","f1",l),s("n1","f1",l),s("n2","f2",l),s("n3","f3",l),s("n4","f4",l),s("p","n1",c),s("p","n2",c),s("p","n3",c),s("p","n4",c),s("u1","u2",a),s("u2","u3",a),s("u3","u1",a);function s(d,h,f){u(d,f),u(h,f)}function u(d,h){n.push(0,0,0),i.push(h.r,h.g,h.b),o[d]===void 0&&(o[d]=[]),o[d].push(n.length/3-1)}t.setAttribute("position",new it(n,3)),t.setAttribute("color",new it(i,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){let e=this.geometry,t=this.pointMap;Na.projectionMatrixInverse.elements=[.5112609807824982,-0,-0,-0,-0,.41421356237309503,-0,-0,-0,-0,-0,-.099999,-0,-0,-1.0000000000000002,.100001];let r=1,n=1,i=.8;ks("n1",t,e,Na,-r,-n,i),ks("n2",t,e,Na,r,-n,i),ks("n3",t,e,Na,-r,n,i),ks("n4",t,e,Na,r,n,i);let o=i;ks("f1",t,e,Na,-r,-n,o),ks("f2",t,e,Na,r,-n,o),ks("f3",t,e,Na,-r,n,o),ks("f4",t,e,Na,r,n,o);let l=o,c=.5;ks("u1",t,e,Na,r*.7*c,n*1.1,l),ks("u2",t,e,Na,-r*.7*c,n*1.1,l),ks("u3",t,e,Na,0,n*(1.1+.9*c),l),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function ks(e,t,r,n,i,o,l){Wx.set(i,o,l).unproject(n);let c=t[e];if(c!==void 0){let a=r.getAttribute("position");for(let s=0,u=c.length;s<u;s++)a.setXYZ(c[s],Wx.x,Wx.y,Wx.z)}}var dLe=class extends J1(uLe){constructor(e){super(e),this.object=e,this.object=e,this.name=`CombinedCameraHelper: ${e.uuid}`}updateMatrixWorld(e){super.updateMatrixWorld(e),this.updateTarget()}updateTarget(){let e=this.object.getTarget();this.updateWorldMatrix(!0,!1),this.worldToLocal(e)}raycast(e,t){Z1(this.object,this.geometry,e,t,!0)}},i5;(e=>e.is=t=>"objectHelper"in t)(i5||(i5={}));var eb=(e,t)=>class extends h6(e){constructor(){super(...arguments),this.objectHelper=new t(this),this.gizmos={}}get geometryHelper(){return t.geometryHelper}raycast(r,n){this.objectHelper.raycast(r,n)}showGizmos(){for(let r in this.gizmos){let n=this.gizmos[r];n instanceof h2&&(n.visible=!0)}}updateEntityBoxSize(r,n){this.objectHelper.visible&&this.geometryHelper instanceof nc?(r.setScalar(0),n.set(this.geometryHelper.parameters.width,this.geometryHelper.parameters.height,this.geometryHelper.parameters.height).multiplyScalar(.5)):super.updateEntityBoxSize(r,n)}hideGizmos(){for(let r in this.gizmos){let n=this.gizmos[r];n instanceof h2&&(n.visible=!1)}}},Gx=790,wp=new V,cM=new V,uM=new Rt,dM=new V,av=new V,hM=new V,Ki=class extends eb(Jg,dLe){constructor(e="",t={...c1.defaultData,name:""}){super(),this._cameraType="OrthographicCamera",this.targetOffset=_g.DefaultTargetOffset,this.isUpVectorFlipped=!1,this.angleOffsetFromUp=0,this.wasMovedByUser=!1,this.wasMovedBySwitchCameraAction=!1,this.super_Entity(e,t),this.previousProjectionMatrix=new Ne,this.matrixAutoUpdate=!0,this.width=window.innerWidth,this.height=window.innerHeight;let r=this.width,n=this.height;this.orthoCamera=new Ej(r*-.5,r*.5,n*.5,n*-.5,-5e4,1e4),this.perspCamera=new Wi(45,r/n,50,1e4),this.left=this.orthoCamera.left,this.right=this.orthoCamera.right,this.top=this.orthoCamera.top,this.bottom=this.orthoCamera.bottom,this.far=this.orthoCamera.far,this.view=this.orthoCamera.view,this.aspect=this.perspCamera.aspect,this.focus=this.perspCamera.focus,this.filmGauge=this.perspCamera.filmGauge,this.filmOffset=this.perspCamera.filmOffset,this.objectHelper.update()}get isPerspectiveCamera(){return this.cameraType==="PerspectiveCamera"}get isOrthographicCamera(){return!this.isPerspectiveCamera}get cameraType(){return this._cameraType}set fov(e){this.perspCamera.fov=e}get fov(){return this.perspCamera.fov}setNear(e,t){e==="PerspectiveCamera"?this.perspCamera.near=t:this.orthoCamera.near=t}setZoom(e,t){t>=0&&(e==="PerspectiveCamera"?this.perspCamera.zoom=t:this.orthoCamera.zoom=t)}set cameraType(e){e==="PerspectiveCamera"?this.toPerspective():e==="OrthographicCamera"&&this.toOrthographic()}get near(){return this._cameraType==="PerspectiveCamera"?this.perspCamera.near:this.orthoCamera.near}set near(e){this._cameraType==="PerspectiveCamera"?this.perspCamera.near=e:this.orthoCamera.near=e}get zoom(){return this._cameraType==="PerspectiveCamera"?this.perspCamera.zoom:this.orthoCamera.zoom}set zoom(e){e>=0&&(this._cameraType==="PerspectiveCamera"?this.perspCamera.zoom=e:this.orthoCamera.zoom=e)}lookAt(e,t,r){typeof e=="number"&&(e=new V(e,t,r)),super.lookAt(e),this.getWorldPosition(wp),this.targetOffset=wp.distanceTo(e)}getTarget(e=new V){return this.getWorldDirection(cM),this.getWorldPosition(wp),cM.multiplyScalar(this.targetOffset),e.copy(wp).add(cM),e}getDistanceToTarget(){let e=this.getTarget();return this.getWorldPosition(wp),wp.distanceTo(e)}updateUp(){this.getWorldQuaternion(uM),dM.set(0,0,1).applyQuaternion(uM),av.copy(Tr.DEFAULT_UP),this.isUpVectorFlipped&&av.negate(),av.applyQuaternion(uM),hM.copy(Tr.DEFAULT_UP).projectOnPlane(dM),this.angleOffsetFromUp=hM.angleTo(av),this.angleOffsetFromUp*=hM.cross(av).dot(dM)>=0?1:-1}updateTransformState(e,t){let r=super.updateTransformState(e,t);return e.isUpVectorFlipped!==void 0&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateUp(),r}getViewFrontToObject(e){let t=e.getWorldPosition(new V),r=e.getWorldDirection(new V).multiplyScalar(this.targetOffset);return{position:t.clone().add(r),target:t}}getViewToTarget(e){let t=this.getWorldDirection(new V).multiplyScalar(this.targetOffset);return{position:e.clone().sub(t),target:e}}getViewToObject(e){let t=new V;return e.getWorldPosition(t),this.getViewToTarget(t)}setViewplaneSize(e,t,r=!1){if(this.aspect=e/t,r){let n=e>t?this.aspect:1,i=e>t?1:this.aspect;this.left=-Gx*.5*n,this.right=Gx*.5*n,this.top=Gx*.5*(1/i),this.bottom=-Gx*.5*(1/i)}else this.left=-e*.5,this.right=e*.5,this.top=t*.5,this.bottom=-t*.5;this.updateProjectionMatrix()}copyViewPlaneSize(e){this.aspect=e.aspect,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.updateProjectionMatrix()}toOrthographic(){this.orthoCamera.left=this.left,this.orthoCamera.right=this.right,this.orthoCamera.top=this.top,this.orthoCamera.bottom=this.bottom,this.orthoCamera.view=this.view,this.orthoCamera.far=this.far,this.orthoCamera.updateProjectionMatrix(),this.projectionMatrix=this.orthoCamera.projectionMatrix,this.projectionMatrixInverse=this.orthoCamera.projectionMatrixInverse,this._cameraType="OrthographicCamera",this.objectHelper&&this.objectHelper.update()}toPerspective(){this.perspCamera.aspect=this.aspect,this.perspCamera.fov=this.fov,this.perspCamera.view=this.view,this.perspCamera.far=this.far,this.perspCamera.updateProjectionMatrix(),this.projectionMatrix=this.perspCamera.projectionMatrix,this.projectionMatrixInverse=this.perspCamera.projectionMatrixInverse,this._cameraType="PerspectiveCamera",this.objectHelper&&this.objectHelper.update()}setFocalLength(e){this.perspCamera.setFocalLength(e),this.toPerspective()}getFocalLength(){return this.perspCamera.getFocalLength()}getEffectiveFOV(){return this.perspCamera.getEffectiveFOV()}getFilmWidth(){return this.perspCamera.getFilmWidth()}getFilmHeight(){return this.perspCamera.getFilmHeight()}setViewOffset(e,t,r,n,i,o){this._cameraType==="PerspectiveCamera"?this.perspCamera.setViewOffset(e,t,r,n,i,o):this.orthoCamera.setViewOffset(e,t,r,n,i,o)}clearViewOffset(){this._cameraType==="PerspectiveCamera"?(this.perspCamera.clearViewOffset(),this.toPerspective()):(this.orthoCamera.clearViewOffset(),this.toOrthographic())}copyHistory(){this.previousProjectionMatrix&&this.previousProjectionMatrix.copy(this.projectionMatrix)}updateProjectionMatrix(){this._cameraType==="PerspectiveCamera"?this.toPerspective():this._cameraType==="OrthographicCamera"&&this.toOrthographic()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}copy(e,t){return super.copy(e,t),this.parent=e.parent,this.orthoCamera.copy(e.orthoCamera),this.perspCamera.copy(e.perspCamera),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.far=e.far,this.view=e.view===null?null:Object.assign({},e.view),this._cameraType=e._cameraType,this.aspect=e.aspect,this.fov=e.fov,this.focus=e.focus,this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this.targetOffset=e.targetOffset,this.updateProjectionMatrix(),this}toCameraState(e=[]){let t={type:this.cameraType,far:this.far,orthographic:{near:this.orthoCamera.near,zoom:this.orthoCamera.zoom},perspective:{near:this.perspCamera.near,fov:this.perspCamera.fov,zoom:this.perspCamera.zoom},up:this.up.toArray(),targetOffset:this.targetOffset,isUpVectorFlipped:this.isUpVectorFlipped};return sP(t,e)}updateCameraSubtype(e,t){let r=e==="perspective"?"PerspectiveCamera":"OrthographicCamera";t.zoom!==void 0&&this.setZoom(r,t.zoom),t.near!==void 0&&this.setNear(r,t.near),t.fov!==void 0&&r==="PerspectiveCamera"&&(this.fov=t.fov)}updateState(e,t){this.updateCameraState(e,t)}updateCameraState(e,t){this.updateState_Entity(e,t),e.far!==void 0&&(this.far=e.far),e.orthographic!==void 0&&this.updateCameraSubtype("orthographic",e.orthographic),e.perspective!==void 0&&this.updateCameraSubtype("perspective",e.perspective),e.type!==void 0&&(this.cameraType=e.type),e.up!==void 0&&this.up.fromArray(e.up),e.targetOffset!==void 0&&(this.targetOffset=e.targetOffset),e.isUpVectorFlipped!==void 0&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateProjectionMatrix()}updateByPatchedOp(e,t,r){super.updateByPatchedOp(e,t,r),e.path.length===1&&e.type===0&&this.updateCameraSubtype(e.path[0],e.props)}toState(e){return{...super.toState(e),...this.toCameraState(e),type:this.cameraType}}},_p=new Ne,hLe=new Ne,qx=new Ne,b7=new V,x7=new V;function w7(e){let t=!1;return e.scene.objects.traverse((r,n)=>{var i;((i=n.geometry)==null?void 0:i.type)==="BooleanGeometry"&&(t=!0)}),t}var Cf=class extends d0{constructor(e,t,r){super(e,t),this.data=t,this.meshSetAddresses=[],this.needsTransformForDownstream=!1,this.geometry=new vt,this.onAfterRender=(n,i,o,l,c,a)=>{super.onAfterRender(n,i,o,l,c,a),this.recomputeBoolean()},this.geometry.userData.parameters={width:0,height:0,depth:0}}get booleanOp(){return this.data.geometry.operation}get phongAngle(){return this.data.geometry.phongAngle??45}get isLOD(){return this.recomputeBoolean(),!1}updateByPatchedOp(e,t,r){super.updateByPatchedOp(e,t,r),e.path.length===1&&e.path[0]==="geometry"&&e.type===0&&e.props.operation!==void 0&&(this.freeBooleanPointer(),this.resetBBoxNeedsUpdate())}freeBooleanPointer(){super.freeBooleanPointer(),this.geometry.dispose()}recomputeBoolean(e,t=!0){var n;if(this.booleanMeshSetAddress!==-1&&!e)return;for(let i=0;i<this.children.length;i++){let o=this.children[i];o instanceof Cf&&o.dataPatched.visible===!0&&o.recomputeBoolean(e===!0,t)}this.meshSetAddresses=[];for(let i=0;i<this.children.length;i++){let o=this.children[i];if(o instanceof ea&&o.dataPatched.visible===!0&&((n=o.geometry.attributes.position)==null?void 0:n.count)>0&&o.geometry.drawRange.count>0&&o.booleanMeshSetAddress!==0){_p.multiplyMatrices(o.hiddenMatrix,o.matrix);try{if(o.booleanMeshSetAddress===-1){if((o.geometry.index??o.geometry.getAttribute("position")).count/3<15e5&&(o.booleanMeshSetAddress=Ic.getMeshSet(o.geometry,e===!0,t)),o.booleanMeshSetAddress===-1)return;Ic.transformMeshSet(o.booleanMeshSetAddress,_p),o.booleanMatrixInvOld.copy(_p).invert(),o.booleanWasTransformed=!1}else o instanceof Cf&&o.needsTransformForDownstream===!0?(Ic.transformMeshSet(o.booleanMeshSetAddress,_p),o.needsTransformForDownstream=!1):o.booleanWasTransformed===!0&&(Ic.transformMeshSet(o.booleanMeshSetAddress,hLe.multiplyMatrices(_p,o.booleanMatrixInvOld)),o.booleanMatrixInvOld.copy(_p).invert(),o.booleanWasTransformed=!1)}catch(l){console.error(l),o.booleanMeshSetAddress=0,o.geometry.userData.booleanOperationDidFail=!0;continue}Ic.hasOpenEdges(o.booleanMeshSetAddress)===!1||i===this.children.length-1&&this.booleanOp===2?(this.meshSetAddresses.push(o.booleanMeshSetAddress),o.geometry.userData.booleanOperationDidFail=!1):o.geometry.userData.booleanOperationDidFail="openEdges"}}if(this.meshSetAddresses.length===0){this.geometry.setAttribute("position",new it([],0)),this.geometry.setDrawRange(0,0);return}if(e===!0)return Ic.calcBooleanTopological(this.meshSetAddresses,this.booleanOp);let r=this.geometry;r.dispose(),this.geometry=new vt,this.geometry.userData=r.userData,this.geometry.boundingSphere=r.boundingSphere;try{this.booleanMeshSetAddress=Ic.calcBoolean(this.meshSetAddresses,this.booleanOp,this.geometry,this.phongAngle)}catch(i){this.booleanMeshSetAddress=0,this.geometry.userData.booleanOperationDidFail=!0,console.error(i)}this.booleanMatrixInvOld.copy(this.matrix).invert(),this.needsTransformForDownstream=!0,M6(this),T6(this)}dispose(){super.dispose(),this.geometry.dispose()}get recursiveBBox(){var t;let e=super.recursiveBBox;return((t=this.geometry.boundingSphere)==null?void 0:t.radius)===-1&&(e.getCenter(this.geometry.boundingSphere.center),qx.copy(this.matrixWorld).invert(),this.geometry.boundingSphere.center.applyMatrix4(qx),b7.copy(e.max).applyMatrix4(qx),x7.copy(e.min).applyMatrix4(qx),this.geometry.boundingSphere.radius=b7.distanceTo(x7)/2),e}},o5;(e=>{function t(r){return or.is(r)&&r instanceof $1}e.is=t})(o5||(o5={}));var P6=(e,t)=>class extends eb(e,t){updateState_Light(r,n){this.updateState_Entity(r,n),r.color!==void 0&&(this.color=n.shared.color(r.color)),r.intensity!==void 0&&(this.intensity=r.intensity),r.depth!==void 0&&(this.shadow.camera.far=r.depth,this.shadow.needsUpdate=!0),r.shadows!==void 0&&(this.castShadow=r.shadows)}},Ws=e=>e instanceof ea,Jc=e=>e!==null&&e instanceof Cf,fLe=e=>e instanceof Ki,pLe=e=>o5.is(e),a5=e=>i5.is(e),JE=class extends J1(qAe){constructor(e,t=15){super(t),this.object=e,this.object.updateMatrixWorld(),this.name=`EmptyObjectHelper: ${e.uuid}`,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.object.isBone&&(this.visible=!1)}raycast(e,t){Z1(this.object,JE.geometryHelper,e,t)}update(){}},Gm=class extends eb(mm,JE){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update()}updateState(e,t){this.updateState_Entity(e,t),"buffer"in e&&Object.keys(e).length===1&&t.scene.reloadSplats()}},tJ={RED:0,GREEN:1,BLUE:2,ALPHA:3},tb="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",mLe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;
#if PASS == 1
uniform vec4 kernel64[32];
#else
uniform vec4 kernel16[8];
#endif
varying vec2 vUv;void main(){
#ifdef FOREGROUND
vec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;
#else
float CoC=texture2D(cocBuffer,vUv).g*scale;
#endif
if(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{
#ifdef FOREGROUND
vec2 step=texelSize*max(CoC,CoCNearFar.g*scale);
#else
vec2 step=texelSize*CoC;
#endif
#if PASS == 1
vec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;
#else
vec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;
#endif
}}`,Yx=class extends Or{constructor(e=!1,t=!1){super({name:"BokehMaterial",defines:{PASS:e?"2":"1"},uniforms:{kernel64:new ze(null),kernel16:new ze(null),inputBuffer:new ze(null),cocBuffer:new ze(null),texelSize:new ze(new oe),scale:new ze(1)},blending:Qn,depthWrite:!1,depthTest:!1,fragmentShader:mLe,vertexShader:tb}),this.toneMapped=!1,t&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set cocBuffer(e){this.uniforms.cocBuffer.value=e}setCoCBuffer(e){this.uniforms.cocBuffer.value=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(e){return this.uniforms.scale.value=e}setScale(e){this.uniforms.scale.value=e}generateKernel(){let e=2.39996323,t=new Float32Array(128),r=new Float32Array(32),n=0,i=0;for(let c=0;c<80;++c){let a=c*e,s=Math.sqrt(c)/Math.sqrt(80),u=s*Math.cos(a),d=s*Math.sin(a);c%5===0?(r[i++]=u,r[i++]=d):(t[n++]=u,t[n++]=d)}let o=[],l=[];for(let c=0;c<128;)o.push(new Ut(t[c++],t[c++],t[c++],t[c++]));for(let c=0;c<32;)l.push(new Ut(r[c++],r[c++],r[c++],r[c++]));this.uniforms.kernel64.value=o,this.uniforms.kernel16.value=l}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}};function _7(e,t,r){return e*(t-r)-t}function s5(e,t,r){return Math.min(Math.max((e+t)/(t-r),0),1)}var gLe=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}void main(){float depth=readDepth(vUv);
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearDepth=depth;
#endif
float signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}`,vLe=class extends Or{constructor(e){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new ze(null),focusDistance:new ze(0),focusRange:new ze(0),cameraNear:new ze(.3),cameraFar:new ze(1e3)},blending:Qn,depthWrite:!1,depthTest:!1,fragmentShader:gLe,vertexShader:tb}),this.toneMapped=!1,this.uniforms.focalLength=this.uniforms.focusRange,this.adoptCameraSettings(e)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Au){this.depthBuffer=e,this.depthPacking=t}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(e){this.uniforms.focusDistance.value=e}get worldFocusDistance(){return-_7(this.focusDistance,this.near,this.far)}set worldFocusDistance(e){this.focusDistance=s5(-e,this.near,this.far)}getFocusDistance(e){this.uniforms.focusDistance.value=e}setFocusDistance(e){this.uniforms.focusDistance.value=e}get focalLength(){return this.focusRange}set focalLength(e){this.focusRange=e}get focusRange(){return this.uniforms.focusRange.value}set focusRange(e){this.uniforms.focusRange.value=e}get worldFocusRange(){return-_7(this.focusRange,this.near,this.far)}set worldFocusRange(e){this.focusRange=s5(-e,this.near,this.far)}getFocalLength(e){return this.focusRange}setFocalLength(e){this.focusRange=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof Wi?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},yLe=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <encodings_fragment>
#include <dithering_fragment>
}`,bLe="uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",S7=class extends Or{constructor(e=new oe){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new ze(null),texelSize:new ze(new oe),halfTexelSize:new ze(new oe),kernel:new ze(0),scale:new ze(1)},blending:Qn,depthWrite:!1,depthTest:!1,fragmentShader:yLe,vertexShader:bLe}),this.toneMapped=!1,this.setTexelSize(e.x,e.y)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}setSize(e,t){let r=this.uniforms;r.texelSize.value.set(1/e,1/t),r.halfTexelSize.value.copy(r.texelSize.value).multiplyScalar(.5)}},xLe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
}`,wLe=class extends Or{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new ze(null),opacity:new ze(1)},blending:Qn,depthWrite:!1,depthTest:!1,fragmentShader:xLe,vertexShader:tb}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},_Le=`varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
#if EDGE_DETECTION_MODE == 1
#include <common>
#endif
#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}
#elif PREDICATION_MODE == 2
uniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}
#endif
#if PREDICATION_MODE != 0
vec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}
#endif
#if EDGE_DETECTION_MODE != 0
uniform sampler2D inputBuffer;
#endif
void main(){
#if EDGE_DETECTION_MODE == 0
const vec2 threshold=vec2(DEPTH_THRESHOLD);
#elif PREDICATION_MODE != 0
vec2 threshold=calculatePredicatedThreshold();
#else
const vec2 threshold=vec2(EDGE_THRESHOLD);
#endif
#if EDGE_DETECTION_MODE == 0
vec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 1
float l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 2
vec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#endif
}`,SLe=`uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);
#if EDGE_DETECTION_MODE != 0
vUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,ZE={DEPTH:0,LUMA:1,COLOR:2},ELe={DISABLED:0,DEPTH:1,CUSTOM:2},ALe=class extends Or{constructor(e=new oe,t=ZE.COLOR){super({name:"EdgeDetectionMaterial",defines:{THREE_REVISION:$g.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new ze(null),depthBuffer:new ze(null),predicationBuffer:new ze(null),texelSize:new ze(e)},blending:Qn,depthWrite:!1,depthTest:!1,fragmentShader:_Le,vertexShader:SLe}),this.toneMapped=!1,this.edgeDetectionMode=t}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Au){this.depthBuffer=e,this.depthPacking=t}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(e){this.defines.EDGE_DETECTION_MODE=e.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(e){this.edgeDetectionMode=e}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(e){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=e.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(e){this.localContrastAdaptationFactor=e}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(e){this.defines.EDGE_THRESHOLD=e.toFixed("6"),this.defines.DEPTH_THRESHOLD=(e*.1).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(e){this.edgeDetectionThreshold=e}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(e){this.defines.PREDICATION_MODE=e.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(e){this.predicationMode=e}set predicationBuffer(e){this.uniforms.predicationBuffer.value=e}setPredicationBuffer(e){this.uniforms.predicationBuffer.value=e}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(e){this.defines.PREDICATION_THRESHOLD=e.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(e){this.predicationThreshold=e}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(e){this.defines.PREDICATION_SCALE=e.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(e){this.predicationScale=e}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(e){this.defines.PREDICATION_STRENGTH=e.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(e){this.predicationStrength=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},CLe=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,MLe="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}",Ds={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},l5=class extends Or{constructor(e,t,r,n,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:$g.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new ze(null),depthBuffer:new ze(null),resolution:new ze(new oe),texelSize:new ze(new oe),cameraNear:new ze(.3),cameraFar:new ze(1e3),aspect:new ze(1),time:new ze(0)},blending:Qn,depthWrite:!1,depthTest:!1,dithering:i}),this.toneMapped=!1,e&&this.setShaderParts(e),t&&this.setDefines(t),r&&this.setUniforms(r),this.adoptCameraSettings(n)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Au){this.depthBuffer=e,this.depthPacking=t}setShaderParts(e){return this.fragmentShader=CLe.replace(Ds.FRAGMENT_HEAD,e.get(Ds.FRAGMENT_HEAD)).replace(Ds.FRAGMENT_MAIN_UV,e.get(Ds.FRAGMENT_MAIN_UV)).replace(Ds.FRAGMENT_MAIN_IMAGE,e.get(Ds.FRAGMENT_MAIN_IMAGE)),this.vertexShader=MLe.replace(Ds.VERTEX_HEAD,e.get(Ds.VERTEX_HEAD)).replace(Ds.VERTEX_MAIN_SUPPORT,e.get(Ds.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}setDefines(e){for(let t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(let t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(let t of e)this.extensions[t]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof Wi?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){let r=this.uniforms;r.resolution.value.set(e,t),r.texelSize.value.set(1/e,1/t),r.aspect.value=e/t}static get Section(){return Ds}},TLe=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,PLe=class extends Or{constructor(e=!1,t=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:$g.replace(/\D+/g,"")},uniforms:{inputBuffer:new ze(null),threshold:new ze(0),smoothing:new ze(1),range:new ze(null)},blending:Qn,depthWrite:!1,depthTest:!1,fragmentShader:TLe,vertexShader:tb}),this.toneMapped=!1,this.colorOutput=e,this.luminanceRange=t}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get threshold(){return this.uniforms.threshold.value}set threshold(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}getThreshold(){return this.threshold}setThreshold(e){this.threshold=e}get smoothing(){return this.uniforms.smoothing.value}set smoothing(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(e){this.smoothing=e}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(e){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(e){return this.colorOutput}setColorOutputEnabled(e){this.colorOutput=e}get useRange(){return this.luminanceRange!==null}set useRange(e){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(e){e!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(e){this.luminanceRange=e}},kLe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef MASK_PRECISION_HIGH
uniform mediump sampler2D maskTexture;
#else
uniform lowp sampler2D maskTexture;
#endif
#if MASK_FUNCTION != 0
uniform float strength;
#endif
varying vec2 vUv;void main(){
#if COLOR_CHANNEL == 0
float mask=texture2D(maskTexture,vUv).r;
#elif COLOR_CHANNEL == 1
float mask=texture2D(maskTexture,vUv).g;
#elif COLOR_CHANNEL == 2
float mask=texture2D(maskTexture,vUv).b;
#else
float mask=texture2D(maskTexture,vUv).a;
#endif
#if MASK_FUNCTION == 0
#ifdef INVERTED
mask=step(mask,0.0);
#else
mask=1.0-step(mask,0.0);
#endif
#else
mask=clamp(mask*strength,0.0,1.0);
#ifdef INVERTED
mask=1.0-mask;
#endif
#endif
#if MASK_FUNCTION == 2
gl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);
#else
gl_FragColor=mask*texture2D(inputBuffer,vUv);
#endif
}`,rJ={DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2},DLe=class extends Or{constructor(e=null){super({name:"MaskMaterial",uniforms:{maskTexture:new ze(e),inputBuffer:new ze(null),strength:new ze(1)},blending:Qn,depthWrite:!1,depthTest:!1,fragmentShader:kLe,vertexShader:tb}),this.toneMapped=!1,this.setColorChannel(tJ.RED),this.setMaskFunction(rJ.DISCARD)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set maskTexture(e){this.uniforms.maskTexture.value=e,delete this.defines.MASK_PRECISION_HIGH,e.type!==Ji&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(e){this.maskTexture=e}set colorChannel(e){this.defines.COLOR_CHANNEL=e.toFixed(0),this.needsUpdate=!0}setColorChannel(e){this.colorChannel=e}set maskFunction(e){this.defines.MASK_FUNCTION=e.toFixed(0),this.needsUpdate=!0}setMaskFunction(e){this.maskFunction=e}get inverted(){return this.defines.INVERTED!==void 0}set inverted(e){this.inverted&&!e?delete this.defines.INVERTED:e&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(e){this.inverted=e}get strength(){return this.uniforms.strength.value}set strength(e){this.uniforms.strength.value=e}getStrength(){return this.strength}setStrength(e){this.strength=e}},jLe=`#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)
#if __VERSION__ < 300
#define round(v) floor(v + 0.5)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);
#endif
}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);
#endif
}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){
#if !defined(DISABLE_DIAG_DETECTION)
weights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){
#endif
vec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);
#if !defined(DISABLE_DIAG_DETECTION)
}else{e.r=0.0;}
#endif
}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}`,ILe="uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}",OLe=class extends Or{constructor(e=new oe,t=new oe){super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new ze(null),searchTexture:new ze(null),areaTexture:new ze(null),resolution:new ze(t),texelSize:new ze(e)},blending:Qn,depthWrite:!1,depthTest:!1,fragmentShader:jLe,vertexShader:ILe}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(e){this.uniforms.searchTexture.value=e}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(e){this.uniforms.areaTexture.value=e}setLookupTextures(e,t){this.searchTexture=e,this.areaTexture=t}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(e){let t=Math.min(Math.max(e,0),112);this.defines.MAX_SEARCH_STEPS_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(e){this.orthogonalSearchSteps=e}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(e){let t=Math.min(Math.max(e,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(e){this.diagonalSearchSteps=e}get diagonalDetection(){return this.defines.DISABLE_DIAG_DETECTION===void 0}set diagonalDetection(e){e?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(e){this.diagonalDetection=e}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(e){let t=Math.min(Math.max(e,0),100);this.defines.CORNER_ROUNDING=t.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(t/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(e){this.cornerRounding=e}get cornerDetection(){return this.defines.DISABLE_CORNER_DETECTION===void 0}set cornerDetection(e){e?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(e){this.cornerDetection=e}setSize(e,t){let r=this.uniforms;r.texelSize.value.set(1/e,1/t),r.resolution.value.set(e,t)}},RLe=new Jg,Bu=null;function LLe(){if(Bu===null){let e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]);Bu=new vt,Bu.setAttribute!==void 0?(Bu.setAttribute("position",new kt(e,3)),Bu.setAttribute("uv",new kt(t,2))):(Bu.addAttribute("position",new kt(e,3)),Bu.addAttribute("uv",new kt(t,2)))}return Bu}var Co=class{constructor(e="Pass",t=new kd,r=RLe){this.name=e,this.renderer=null,this.scene=t,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){let t=this.getFullscreenMaterial();t!==null&&(t.needsUpdate=!0),this.rtt=!e}}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;t!==null?t.material=e:(t=new vo(LLe(),e),t.frustumCulled=!1,this.scene===null&&(this.scene=new kd),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=Au){}render(e,t,r,n,i){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,r){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(t!==null&&typeof t.dispose=="function"){if(t instanceof kd||t===this.renderer)continue;this[e].dispose()}}}},c5=class extends Co{constructor(e,t=!0){super("CopyPass"),this.fullscreenMaterial=new wLe,this.needsSwap=!1,this.renderTarget=e,e===void 0&&(this.renderTarget=new Cr(1,1,{minFilter:Kt,magFilter:Kt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,r,n,i){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,r){r!==void 0&&(this.renderTarget.texture.type=r,r!==Ji?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e.outputEncoding===Ft&&(this.renderTarget.texture.encoding=Ft))}},zLe=class extends Co{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,r,n,i){let o=e.state.buffers.stencil;o.setLocked(!1),o.setTest(!1)}},fM=new wt,k6=class extends Co{constructor(e=!0,t=!0,r=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=r,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,r){this.color=e,this.depth=t,this.stencil=r}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,r,n,i){let o=this.overrideClearColor,l=this.overrideClearAlpha,c=e.getClearAlpha(),a=o!==null,s=l>=0;a?(fM.copy(e.getClearColor(fM)),e.setClearColor(o,s?l:c)):s&&e.setClearAlpha(l),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),a?e.setClearColor(fM,c):s&&e.setClearAlpha(c)}},Fu=-1,Uo=class extends Ri{constructor(e,t=Fu,r=Fu,n=1){super(),this.resizable=e,this.base=new oe(1,1),this.preferred=new oe(t,r),this.target=this.preferred,this.s=n}get width(){let{base:e,preferred:t,scale:r}=this,n;return t.width!==Fu?n=t.width:t.height!==Fu?n=Math.round(t.height*(e.width/Math.max(e.height,1))):n=Math.round(e.width*r),n}set width(e){this.preferredWidth=e}get height(){let{base:e,preferred:t,scale:r}=this,n;return t.height!==Fu?n=t.height:t.width!==Fu?n=Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):n=Math.round(e.height*r),n}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferred.setScalar(Fu),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.base.width}set baseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseWidth(){return this.base.width}setBaseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get baseHeight(){return this.base.height}set baseHeight(e){this.base.height!==e&&(this.base.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){(this.base.width!==e||this.base.height!==t)&&(this.base.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get preferredWidth(){return this.preferred.width}set preferredWidth(e){this.preferred.width!==e&&(this.preferred.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferred.height}set preferredHeight(e){this.preferred.height!==e&&(this.preferred.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){(this.preferred.width!==e||this.preferred.height!==t)&&(this.preferred.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}copy(e){this.base.set(e.getBaseWidth(),e.getBaseHeight()),this.preferred.set(e.getPreferredWidth(),e.getPreferredHeight()),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height)}static get AUTO_SIZE(){return Fu}},pM=!1,E7=class{constructor(e=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=t=>{if(t.isMesh){let r;if(t.material.flatShading)switch(t.material.side){case Bo:r=this.materialsFlatShadedDoubleSide;break;case bi:r=this.materialsFlatShadedBackSide;break;default:r=this.materialsFlatShaded;break}else switch(t.material.side){case Bo:r=this.materialsDoubleSide;break;case bi:r=this.materialsBackSide;break;default:r=this.materials;break}this.originalMaterials.set(t,t.material),t.isSkinnedMesh?t.material=r[2]:t.isInstancedMesh?t.material=r[1]:t.material=r[0],++this.meshCount}}}setMaterial(e){if(this.disposeMaterials(),this.material=e,e!==null){let t=this.materials=[e.clone(),e.clone(),e.clone()];for(let r of t)r.uniforms=Object.assign({},e.uniforms),r.side=rl;t[2].skinning=!0,this.materialsBackSide=t.map(r=>{let n=r.clone();return n.uniforms=Object.assign({},e.uniforms),n.side=bi,n}),this.materialsDoubleSide=t.map(r=>{let n=r.clone();return n.uniforms=Object.assign({},e.uniforms),n.side=Bo,n}),this.materialsFlatShaded=t.map(r=>{let n=r.clone();return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n}),this.materialsFlatShadedBackSide=t.map(r=>{let n=r.clone();return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n.side=bi,n}),this.materialsFlatShadedDoubleSide=t.map(r=>{let n=r.clone();return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n.side=Bo,n})}}render(e,t,r){let n=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,pM){let i=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,r);for(let o of i)o[0].material=o[1];this.meshCount!==i.size&&i.clear()}else{let i=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,r),t.overrideMaterial=i}e.shadowMap.enabled=n}disposeMaterials(){if(this.material!==null){let e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(let t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return pM}static set workaroundEnabled(e){pM=e}},NLe=class extends Co{constructor(e,t,r=null){super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new k6,this.overrideMaterialManager=r===null?null:new E7(r),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){let e=this.overrideMaterialManager;return e!==null?e.material:null}set overrideMaterial(e){let t=this.overrideMaterialManager;e!==null?t!==null?t.setMaterial(e):this.overrideMaterialManager=new E7(e):t!==null&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,r,n,i){let o=this.scene,l=this.camera,c=this.selection,a=l.layers.mask,s=o.background,u=e.shadowMap.autoUpdate,d=this.renderToScreen?null:t;c!==null&&l.layers.set(c.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(o.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(d),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(e,o,l):e.render(o,l),l.layers.mask=a,o.background=s,e.shadowMap.autoUpdate=u}},A7=class extends Co{constructor(e,t,{resolutionScale:r=1,width:n=Uo.AUTO_SIZE,height:i=Uo.AUTO_SIZE,renderTarget:o}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new NLe(e,t,new WX({depthPacking:kX}));let l=this.renderPass;l.skipShadowMapUpdate=!0,l.ignoreBackground=!0;let c=l.getClearPass();c.overrideClearColor=new wt(16777215),c.overrideClearAlpha=1,this.renderTarget=o,this.renderTarget===void 0&&(this.renderTarget=new Cr(1,1,{minFilter:Nr,magFilter:Nr,stencilBuffer:!1}),this.renderTarget.texture.name="DepthPass.Target");let a=this.resolution=new Uo(this,n,i,r);a.addEventListener("change",s=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,n,i){let o=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,o)}setSize(e,t){let r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height)}},ur={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18},BLe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}",FLe="vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}",ULe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}",VLe="float blend(const in float x,const in float y){return(y==0.0)?y:max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",HLe="float blend(const in float x,const in float y){return(y==1.0)?y:min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",WLe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}",GLe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}",qLe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}",YLe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}",XLe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}",$Le="float blend(const in float x,const in float y){return(y>0.0)?min(x/y,1.0):1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",KLe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}",QLe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}",JLe="float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",ZLe="float blend(const in float x,const in float y){return(y==1.0)?y:min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",eze="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}",tze="float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",rze="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}",nze=new Map([[ur.SKIP,null],[ur.ADD,BLe],[ur.ALPHA,FLe],[ur.AVERAGE,ULe],[ur.COLOR_BURN,VLe],[ur.COLOR_DODGE,HLe],[ur.DARKEN,WLe],[ur.DIFFERENCE,GLe],[ur.EXCLUSION,qLe],[ur.LIGHTEN,YLe],[ur.MULTIPLY,XLe],[ur.DIVIDE,$Le],[ur.NEGATION,KLe],[ur.NORMAL,QLe],[ur.OVERLAY,JLe],[ur.REFLECT,ZLe],[ur.SCREEN,eze],[ur.SOFT_LIGHT,tze],[ur.SUBTRACT,rze]]),ize=class extends Ri{constructor(e,t=1){super(),this.f=e,this.opacity=new ze(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this.f}set blendFunction(e){this.f=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return nze.get(this.blendFunction)}},Ql={NONE:0,DEPTH:1,CONVOLUTION:2},hc=class extends Ri{constructor(e,t,{attributes:r=Ql.NONE,blendFunction:n=ur.SCREEN,defines:i=new Map,uniforms:o=new Map,extensions:l=null,vertexShader:c=null}={}){super(),this.name=e,this.renderer=null,this.attributes=r,this.fragmentShader=t,this.vertexShader=c,this.defines=i,this.uniforms=o,this.extensions=l,this.blendMode=new ize(n),this.blendMode.addEventListener("change",a=>this.setChanged())}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=Au){}update(e,t,r){}setSize(e,t){}initialize(e,t,r){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(t!==null&&typeof t.dispose=="function"){if(t instanceof kd||t===this.renderer)continue;this[e].dispose()}}}};function C7(e,t,r){for(let n of t){let i="$1"+e+n.charAt(0).toUpperCase()+n.slice(1),o=new RegExp("([^\\.])(\\b"+n+"\\b)","g");for(let l of r.entries())l[1]!==null&&r.set(l[0],l[1].replace(o,i))}}function oze(e,t,r,n,i,o,l){let c=new Map([["fragment",t.getFragmentShader()],["vertex",t.getVertexShader()]]),a=c.get("fragment")!==void 0&&/mainImage/.test(c.get("fragment")),s=c.get("fragment")!==void 0&&/mainUv/.test(c.get("fragment")),u=[],d=[],h=!1,f=!1;if(c.get("fragment")===void 0)console.error("Missing fragment shader",t);else if(s&&l&Ql.CONVOLUTION)console.error("Effects that transform UV coordinates are incompatible with convolution effects",t);else if(!a&&!s)console.error("The fragment shader contains neither a mainImage nor a mainUv function",t);else{let m=/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,p=l5.Section;if(s){let v=`	${e}MainUv(UV);
`;r.set(p.FRAGMENT_MAIN_UV,r.get(p.FRAGMENT_MAIN_UV)+v),h=!0}if(c.get("vertex")!==null&&/mainSupport/.test(c.get("vertex"))){let v=`	${e}MainSupport(`;v+=/mainSupport *\([\w\s]*?uv\s*?\)/.test(c.get("vertex"))?`vUv);
`:`);
`,r.set(p.VERTEX_MAIN_SUPPORT,r.get(p.VERTEX_MAIN_SUPPORT)+v),u=u.concat([...c.get("vertex").matchAll(/(?:varying\s+\w+\s+(\w*))/g)].map(x=>x[1])),d=d.concat(u).concat([...c.get("vertex").matchAll(m)].map(x=>x[1]))}d=d.concat([...c.get("fragment").matchAll(m)].map(v=>v[1])),d=d.concat([...t.defines.keys()].map(v=>v.replace(/\([\w\s,]*\)/g,""))),d=d.concat([...t.uniforms.keys()]),t.uniforms.forEach((v,x)=>o.set(e+x.charAt(0).toUpperCase()+x.slice(1),v)),t.defines.forEach((v,x)=>i.set(e+x.charAt(0).toUpperCase()+x.slice(1),v)),C7(e,d,i),C7(e,d,c);let g=t.blendMode;if(n.set(g.blendFunction,g),a){let v=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/,x=`${e}MainImage(color0, UV, `;l&Ql.DEPTH&&v.test(c.get("fragment"))&&(x+="depth, ",f=!0),x+=`color1);
	`;let y=e+"BlendOpacity";o.set(y,g.opacity),x+=`color0 = blend${g.blendFunction}(color0, color1, ${y});

	`,r.set(p.FRAGMENT_MAIN_IMAGE,r.get(p.FRAGMENT_MAIN_IMAGE)+x),x=`uniform float ${y};

`,r.set(p.FRAGMENT_HEAD,r.get(p.FRAGMENT_HEAD)+x)}r.set(p.FRAGMENT_HEAD,r.get(p.FRAGMENT_HEAD)+c.get("fragment")+`
`),c.get("vertex")!==null&&r.set(p.VERTEX_HEAD,r.get(p.VERTEX_HEAD)+c.get("vertex")+`
`)}return{varyings:u,transformedUv:h,readDepth:f}}var H2=class extends Co{constructor(e,...t){super("EffectPass"),this.fullscreenMaterial=new l5(null,null,null,e),this.effects=t.sort((r,n)=>n.attributes-r.attributes),this.skipRendering=!1,this.uniformCount=0,this.varyingCount=0,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){let t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}verifyResources(){let e=this.renderer.capabilities,t=Math.min(e.maxFragmentUniforms,e.maxVertexUniforms);this.uniformCount>t&&console.warn("The current rendering context doesn't support more than "+t+" uniforms, but "+this.uniformCount+" were defined"),t=e.maxVaryings,this.varyingCount>t&&console.warn("The current rendering context doesn't support more than "+t+" varyings, but "+this.varyingCount+" were defined")}updateMaterial(){let e=l5.Section,t=new Map([[e.FRAGMENT_HEAD,""],[e.FRAGMENT_MAIN_UV,""],[e.FRAGMENT_MAIN_IMAGE,""],[e.VERTEX_HEAD,""],[e.VERTEX_MAIN_SUPPORT,""]]),r=new Map,n=new Map,i=new Map,o=new Set,l=0,c=0,a=0,s=!1,u=!1;for(let h of this.effects)if(h.blendMode.blendFunction===ur.SKIP)a|=h.getAttributes()&Ql.DEPTH;else if(a&h.getAttributes()&Ql.CONVOLUTION)console.error("Convolution effects cannot be merged",h);else{a|=h.getAttributes();let f="e"+l++,m=oze(f,h,t,r,n,i,a);if(c+=m.varyings.length,s=s||m.transformedUv,u=u||m.readDepth,h.extensions!==null)for(let p of h.extensions)o.add(p)}let d=/\bblend\b/g;for(let h of r.values()){let f=h.getShaderCode().replace(d,`blend${h.blendFunction}`);t.set(e.FRAGMENT_HEAD,t.get(e.FRAGMENT_HEAD)+f+`
`)}a&Ql.DEPTH?(u&&t.set(e.FRAGMENT_MAIN_IMAGE,`float depth = readDepth(UV);

	`+t.get(e.FRAGMENT_MAIN_IMAGE)),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,s?(t.set(e.FRAGMENT_MAIN_UV,`vec2 transformedUv = vUv;
`+t.get(e.FRAGMENT_MAIN_UV)),n.set("UV","transformedUv")):n.set("UV","vUv"),t.forEach((h,f,m)=>m.set(f,h.trim().replace(/^#/,`
#`))),this.uniformCount=i.size,this.varyingCount=c,this.skipRendering=l===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderParts(t).setExtensions(o).setUniforms(i).setDefines(n)}recompile(){this.updateMaterial(),this.verifyResources()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e,t=Au){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(let r of this.effects)r.setDepthTexture(e,t)}render(e,t,r,n,i){for(let o of this.effects)o.update(e,t,n);if(!this.skipRendering||this.renderToScreen){let o=this.fullscreenMaterial;o.inputBuffer=t.texture,o.time+=n,e.setRenderTarget(this.renderToScreen?null:r),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(let r of this.effects)r.setSize(e,t)}initialize(e,t,r){this.renderer=e;for(let n of this.effects)n.initialize(e,t,r),n.addEventListener("change",i=>this.handleEvent(i));this.updateMaterial(),this.verifyResources(),r!==void 0&&r!==Ji&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(let e of this.effects)e.dispose()}handleEvent(e){switch(e.type){case"change":this.recompile();break}}},aze=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],nJ=class extends Co{constructor({resolutionScale:e=.5,width:t=Uo.AUTO_SIZE,height:r=Uo.AUTO_SIZE,kernelSize:n=D6.LARGE}={}){super("KawaseBlurPass"),this.renderTargetA=new Cr(1,1,{minFilter:Kt,magFilter:Kt,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";let i=this.resolution=new Uo(this,t,r,e);i.addEventListener("change",o=>this.setSize(i.baseWidth,i.baseHeight)),this.blurMaterial=new S7,this.ditheredBlurMaterial=new S7,this.ditheredBlurMaterial.uniforms.scale=this.blurMaterial.uniforms.scale,this.ditheredBlurMaterial.dithering=!0,this.dithering=!1,this.kernelSize=n}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,n,i){let o=this.scene,l=this.camera,c=this.renderTargetA,a=this.renderTargetB,s=aze[this.kernelSize],u=this.blurMaterial,d=t,h,f;for(this.fullscreenMaterial=u,h=0,f=s.length-1;h<f;++h){let m=h&1?a:c;u.kernel=s[h],u.inputBuffer=d.texture,e.setRenderTarget(m),e.render(o,l),d=m}this.dithering&&(u=this.ditheredBlurMaterial,this.fullscreenMaterial=u),u.kernel=s[h],u.inputBuffer=d.texture,e.setRenderTarget(this.renderToScreen?null:r),e.render(o,l)}setSize(e,t){let r=this.resolution;r.setBaseSize(e,t);let n=r.width,i=r.height;this.renderTargetA.setSize(n,i),this.renderTargetB.setSize(n,i),this.blurMaterial.setSize(n,i),this.ditheredBlurMaterial.setSize(n,i)}initialize(e,t,r){r!==void 0&&(this.renderTargetA.texture.type=r,this.renderTargetB.texture.type=r,r!==Ji?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.ditheredBlurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e.outputEncoding===Ft&&(this.renderTargetA.texture.encoding=Ft,this.renderTargetB.texture.encoding=Ft))}static get AUTO_SIZE(){return Uo.AUTO_SIZE}},sze=class extends Co{constructor({width:e=Uo.AUTO_SIZE,height:t=Uo.AUTO_SIZE,renderTarget:r,luminanceRange:n,colorOutput:i}={}){super("LuminancePass"),this.fullscreenMaterial=new PLe(i,n),this.needsSwap=!1,this.renderTarget=r,this.renderTarget===void 0&&(this.renderTarget=new Cr(1,1,{minFilter:Kt,magFilter:Kt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target",this.renderTarget.texture.generateMipmaps=!1);let o=this.resolution=new Uo(this,e,t);o.addEventListener("change",l=>this.setSize(o.baseWidth,o.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(e,t,r,n,i){let o=this.fullscreenMaterial;o.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){let r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height)}initialize(e,t,r){r!==void 0&&r!==Ji&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},lze=class extends Co{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new k6(!1,!1,!0),this.inverse=!1}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,r,n,i){let o=e.getContext(),l=e.state.buffers,c=this.scene,a=this.camera,s=this.clearPass,u=this.inverted?0:1,d=1-u;l.color.setMask(!1),l.depth.setMask(!1),l.color.setLocked(!0),l.depth.setLocked(!0),l.stencil.setTest(!0),l.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),l.stencil.setFunc(o.ALWAYS,u,4294967295),l.stencil.setClear(d),l.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?s.render(e,null):(s.render(e,t),s.render(e,r))),this.renderToScreen?(e.setRenderTarget(null),e.render(c,a)):(e.setRenderTarget(t),e.render(c,a),e.setRenderTarget(r),e.render(c,a)),l.color.setLocked(!1),l.depth.setLocked(!1),l.stencil.setLocked(!1),l.stencil.setFunc(o.EQUAL,1,4294967295),l.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),l.stencil.setLocked(!0)}},Il=class extends Co{constructor(e,t="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=e,this.inputBufferUniform=null,this.setInput(t)}setInput(e){if(this.inputBufferUniform=null,this.fullscreenMaterial!==null){let t=this.fullscreenMaterial.uniforms;t!==void 0&&t[e]!==void 0&&(this.inputBufferUniform=t[e])}}render(e,t,r,n,i){this.inputBufferUniform!==null&&t!==null&&(this.inputBufferUniform.value=t.texture),e.setRenderTarget(this.renderToScreen?null:r),e.render(this.scene,this.camera)}initialize(e,t,r){r!==void 0&&r!==Ji&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},mM=1/1e3,cze=1e3,uze=class{constructor(){this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1,this.autoReset=!1}setFixedDeltaEnabled(e){return this.fixedDeltaEnabled=e,this}isAutoResetEnabled(e){return this.autoReset}setAutoResetEnabled(e){return typeof document<"u"&&document.hidden!==void 0&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this.autoReset=e),this}getDelta(){return this.delta*mM}getFixedDelta(){return this.fixedDelta*mM}setFixedDelta(e){return this.fixedDelta=e*cze,this}getElapsed(){return this.elapsed*mM}getTimescale(){return this.timescale}setTimescale(e){return this.timescale=e,this}update(e){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=e!==void 0?e:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}reset(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}handleEvent(e){document.hidden||(this.currentTime=performance.now())}dispose(){this.setAutoResetEnabled(!1)}},D6={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},dze=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=clamp(texture2D(map,uv)*intensity,0.0,1.0);}`,hze=class extends hc{constructor({blendFunction:e=ur.SCREEN,luminanceThreshold:t=.9,luminanceSmoothing:r=.025,resolutionScale:n=.5,intensity:i=1,width:o=Uo.AUTO_SIZE,height:l=Uo.AUTO_SIZE,kernelSize:c=D6.LARGE}={}){super("BloomEffect",dze,{blendFunction:e,uniforms:new Map([["map",new ze(null)],["intensity",new ze(i)]])}),this.renderTarget=new Cr(1,1,{minFilter:Kt,magFilter:Kt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.renderTarget.texture.generateMipmaps=!1,this.uniforms.get("map").value=this.renderTarget.texture,this.luminancePass=new sze({renderTarget:this.renderTarget,colorOutput:!0}),this.luminanceMaterial.threshold=t,this.luminanceMaterial.smoothingFactor=r,this.blurPass=new nJ({resolutionScale:n,width:o,height:l,kernelSize:c});let a=this.blurPass.getResolution();a.addEventListener("change",s=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(e){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}update(e,t,r){let n=this.renderTarget;this.luminancePass.enabled?(this.luminancePass.render(e,t,n),this.blurPass.render(e,n,n)):this.blurPass.render(e,t,n)}setSize(e,t){let r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height),this.luminancePass.resolution.copy(r)}initialize(e,t,r){this.blurPass.initialize(e,t,r),r!==void 0&&(this.renderTarget.texture.type=r,e.outputEncoding===Ft&&(this.renderTarget.texture.encoding=Ft))}},fze="uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(min(color+vec3(0.5),1.0),inputColor.a);}",pze=class extends hc{constructor({blendFunction:e=ur.NORMAL,brightness:t=0,contrast:r=0}={}){super("BrightnessContrastEffect",fze,{blendFunction:e,uniforms:new Map([["brightness",new ze(t)],["contrast",new ze(r)]])})}get brightness(){return this.uniforms.get("brightness").value}set brightness(e){this.uniforms.get("brightness").value=e}getBrightness(e){return this.brightness}setBrightness(e){this.brightness=e}get contrast(){return this.uniforms.get("contrast").value}set contrast(e){this.uniforms.get("contrast").value=e}getContrast(e){return this.contrast}setContrast(e){this.contrast=e}},mze="void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",gze=class extends hc{constructor(e=ur.NORMAL){super("ColorAverageEffect",mze,{blendFunction:e})}},vze="varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 ra=texture2D(inputBuffer,vUvR).ra;vec2 ba=texture2D(inputBuffer,vUvB).ba;outputColor=vec4(ra.x,inputColor.g,ba.x,max(max(ra.y,ba.y),inputColor.a));}",yze="uniform vec2 offset;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vec2 shift=offset*vec2(1.0,aspect);vUvR=uv+shift;vUvB=uv-shift;}",bze=class extends hc{constructor({blendFunction:e=ur.NORMAL,offset:t=new oe(.001,5e-4)}={}){super("ChromaticAberrationEffect",vze,{vertexShader:yze,blendFunction:e,attributes:Ql.CONVOLUTION,uniforms:new Map([["offset",new ze(t)]])})}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}},xze=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;
#else
uniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;
#endif
uniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float CoCNear=texture2D(nearCoCBuffer,uv).r;CoCNear=min(CoCNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,CoCNear);outputColor=result;}`,wze=class extends hc{constructor(e,{blendFunction:t=ur.NORMAL,worldFocusDistance:r,worldFocusRange:n,focusDistance:i=0,focalLength:o=.1,focusRange:l=o,bokehScale:c=1,width:a=Uo.AUTO_SIZE,height:s=Uo.AUTO_SIZE}={}){super("DepthOfFieldEffect",xze,{blendFunction:t,attributes:Ql.DEPTH,uniforms:new Map([["nearColorBuffer",new ze(null)],["farColorBuffer",new ze(null)],["nearCoCBuffer",new ze(null)],["scale",new ze(1)]])}),this.camera=e,this.renderTarget=new Cr(1,1,{minFilter:Kt,magFilter:Kt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTarget.texture.generateMipmaps=!1,this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new Il(new vLe(e));let u=this.cocMaterial;u.focusDistance=i,u.focusRange=l,r!==void 0&&(u.worldFocusDistance=r),n!==void 0&&(u.worldFocusRange=n),this.blurPass=new nJ({kernelSize:D6.MEDIUM,width:a,height:s});let d=this.blurPass.getResolution();d.addEventListener("change",f=>this.setSize(d.getBaseWidth(),d.getBaseHeight())),this.maskPass=new Il(new DLe(this.renderTargetCoC.texture));let h=this.maskPass.fullscreenMaterial;h.maskFunction=rJ.MULTIPLY,h.colorChannel=tJ.GREEN,this.bokehNearBasePass=new Il(new Yx(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new Il(new Yx(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new Il(new Yx(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new Il(new Yx(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null,this.bokehScale=c}get cocTexture(){return this.renderTargetCoC.texture}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.circleOfConfusionMaterial}getBlurPass(){return this.blurPass}get resolution(){return this.blurPass.getResolution()}getResolution(){return this.blurPass.getResolution()}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(e){let t=[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];for(let r of t)r.fullscreenMaterial.setScale(e);this.maskPass.fullscreenMaterial.setStrength(e),this.uniforms.get("scale").value=e}getBokehScale(){return this.bokehScale}setBokehScale(e){this.bokehScale=e}getTarget(){return this.target}setTarget(e){this.target=e}calculateFocusDistance(e){let t=this.camera,r=t.position.distanceTo(e);return s5(-r,t.near,t.far)}setDepthTexture(e,t=Au){this.circleOfConfusionMaterial.depthBuffer=e,this.circleOfConfusionMaterial.depthPacking=t}update(e,t,r){let n=this.renderTarget,i=this.renderTargetCoC,o=this.renderTargetCoCBlurred,l=this.renderTargetMasked;if(this.target!==null){let c=this.calculateFocusDistance(this.target);this.circleOfConfusionMaterial.focusDistance=c}this.cocPass.render(e,null,i),this.blurPass.render(e,i,o),this.maskPass.render(e,t,l),this.bokehFarBasePass.render(e,l,n),this.bokehFarFillPass.render(e,n,this.renderTargetFar),this.bokehNearBasePass.render(e,t,n),this.bokehNearFillPass.render(e,n,this.renderTargetNear)}setSize(e,t){let r=this.resolution;r.setBaseSize(e,t);let n=r.width,i=r.height,o=[this.cocPass,this.blurPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];o.push(this.renderTargetCoC,this.renderTargetMasked),o.forEach(l=>l.setSize(e,t)),o=[this.renderTarget,this.renderTargetNear,this.renderTargetFar,this.renderTargetCoCBlurred],o.forEach(l=>l.setSize(n,i)),[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(l=>l.fullscreenMaterial.setSize(n,i))}initialize(e,t,r){[this.cocPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(n=>n.initialize(e,t,r)),this.blurPass.initialize(e,t,Ji),r!==void 0&&(this.renderTarget.texture.type=r,this.renderTargetNear.texture.type=r,this.renderTargetFar.texture.type=r,this.renderTargetMasked.texture.type=r,e.outputEncoding===Ft&&(this.renderTarget.texture.encoding=Ft,this.renderTargetNear.texture.encoding=Ft,this.renderTargetFar.texture.encoding=Ft,this.renderTargetMasked.texture.encoding=Ft))}};new V;new Ne;var _ze="uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",Sze=class extends hc{constructor({blendFunction:e=ur.NORMAL,hue:t=0,saturation:r=0}={}){super("HueSaturationEffect",_ze,{blendFunction:e,uniforms:new Map([["hue",new ze(new V)],["saturation",new ze(r)]])}),this.hue=t}get saturation(){return this.uniforms.get("saturation").value}set saturation(e){this.uniforms.get("saturation").value=e}getSaturation(){return this.saturation}setSaturation(e){this.saturation=e}get hue(){let e=this.uniforms.get("hue").value;return Math.acos((e.x*3-1)/2)}set hue(e){let t=Math.sin(e),r=Math.cos(e);this.uniforms.get("hue").value.set((2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3)}getHue(){return this.hue}setHue(e){this.hue=e}};new wt;var Eze=`void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));
#ifdef PREMULTIPLY
outputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);
#else
outputColor=vec4(noise,inputColor.a);
#endif
}`,Aze=class extends hc{constructor({blendFunction:e=ur.SCREEN,premultiply:t=!1}={}){super("NoiseEffect",Eze,{blendFunction:e}),this.premultiply=t}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(e){this.premultiply!==e&&(e?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(e){this.premultiply=e}},Cze="uniform bool active;uniform vec2 d;void mainUv(inout vec2 uv){if(active){uv=vec2(d.x*(floor(uv.x/d.x)+0.5),d.y*(floor(uv.y/d.y)+0.5));}}",Mze=class extends hc{constructor(e=30){super("PixelationEffect",Cze,{uniforms:new Map([["active",new ze(!1)],["d",new ze(new oe)]])}),this.resolution=new oe,this.d=0,this.granularity=e}get granularity(){return this.d}set granularity(e){let t=Math.floor(e);t%2>0&&(t+=1),this.d=t,this.uniforms.get("active").value=t>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(e){this.granularity=e}setSize(e,t){this.resolution.set(e,t),this.uniforms.get("d").value.setScalar(this.d).divide(this.resolution)}};new V;new V;var M7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",T7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC",Tze="uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",Pze="varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",Dh={LOW:0,MEDIUM:1,HIGH:2,ULTRA:3},iJ=class extends hc{constructor({preset:e=Dh.MEDIUM,edgeDetectionMode:t=ZE.COLOR,predicationMode:r=ELe.DISABLED}={}){super("SMAAEffect",Tze,{vertexShader:Pze,blendFunction:ur.NORMAL,attributes:Ql.CONVOLUTION|Ql.DEPTH,uniforms:new Map([["weightMap",new ze(null)]])});let n,i;arguments.length>1&&(n=arguments[0],i=arguments[1],arguments.length>2&&(e=arguments[2]),arguments.length>3&&(t=arguments[3])),this.renderTargetEdges=new Cr(1,1,{minFilter:Kt,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new k6(!0,!1,!1),this.clearPass.overrideClearColor=new wt(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new Il(new ALe),this.edgeDetectionMaterial.edgeDetectionMode=t,this.edgeDetectionMaterial.predicationMode=r,this.weightsPass=new Il(new OLe);let o=new u$;o.onLoad=()=>{let l=new li(n);l.name="SMAA.Search",l.magFilter=Nr,l.minFilter=Nr,l.generateMipmaps=!1,l.needsUpdate=!0,l.flipY=!0,this.weightsMaterial.searchTexture=l;let c=new li(i);c.name="SMAA.Area",c.magFilter=Kt,c.minFilter=Kt,c.generateMipmaps=!1,c.needsUpdate=!0,c.flipY=!1,this.weightsMaterial.areaTexture=c,this.dispatchEvent({type:"load"})},o.itemStart("search"),o.itemStart("area"),n!==void 0&&i!==void 0?(o.itemEnd("search"),o.itemEnd("area")):typeof Image<"u"&&(n=new Image,i=new Image,n.addEventListener("load",()=>o.itemEnd("search")),i.addEventListener("load",()=>o.itemEnd("area")),n.src=M7,i.src=T7),this.applyPreset(e)}get edgesTexture(){return this.renderTargetEdges.texture}getEdgesTexture(){return this.edgesTexture}get weightsTexture(){return this.renderTargetWeights.texture}getWeightsTexture(){return this.weightsTexture}get edgeDetectionMaterial(){return this.edgeDetectionPass.fullscreenMaterial}get colorEdgesMaterial(){return this.edgeDetectionMaterial}getEdgeDetectionMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.fullscreenMaterial}getWeightsMaterial(){return this.weightsMaterial}setEdgeDetectionThreshold(e){this.edgeDetectionMaterial.edgeDetectionThreshold=e}setOrthogonalSearchSteps(e){this.weightsMaterial.orthogonalSearchSteps=e}applyPreset(e){let t=this.edgeDetectionMaterial,r=this.weightsMaterial;switch(e){case Dh.LOW:t.edgeDetectionThreshold=.15,r.orthogonalSearchSteps=4,r.diagonalDetection=!1,r.cornerDetection=!1;break;case Dh.MEDIUM:t.edgeDetectionThreshold=.1,r.orthogonalSearchSteps=8,r.diagonalDetection=!1,r.cornerDetection=!1;break;case Dh.HIGH:t.edgeDetectionThreshold=.1,r.orthogonalSearchSteps=16,r.diagonalSearchSteps=8,r.cornerRounding=25,r.diagonalDetection=!0,r.cornerDetection=!0;break;case Dh.ULTRA:t.edgeDetectionThreshold=.05,r.orthogonalSearchSteps=32,r.diagonalSearchSteps=16,r.cornerRounding=25,r.diagonalDetection=!0,r.cornerDetection=!0;break}}setDepthTexture(e,t=Au){this.edgeDetectionMaterial.depthBuffer=e,this.edgeDetectionMaterial.depthPacking=t}update(e,t,r){this.clearPass.render(e,this.renderTargetEdges),this.edgeDetectionPass.render(e,t,this.renderTargetEdges),this.weightsPass.render(e,this.renderTargetEdges,this.renderTargetWeights)}setSize(e,t){this.edgeDetectionMaterial.setSize(e,t),this.weightsMaterial.setSize(e,t),this.renderTargetEdges.setSize(e,t),this.renderTargetWeights.setSize(e,t)}dispose(){let{searchTexture:e,areaTexture:t}=this.weightsMaterial;e!==null&&t!==null&&(e.dispose(),t.dispose()),super.dispose()}static get searchImageDataURL(){return M7}static get areaImageDataURL(){return T7}},kze=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,Xx={DEFAULT:0,ESKIL:1},Dze=class extends hc{constructor({blendFunction:e=ur.NORMAL,technique:t=Xx.DEFAULT,eskil:r=!1,offset:n=.5,darkness:i=.5}={}){super("VignetteEffect",kze,{blendFunction:e,defines:new Map([["VIGNETTE_TECHNIQUE",t.toFixed(0)]]),uniforms:new Map([["offset",new ze(n)],["darkness",new ze(i)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(e){this.technique!==e&&(this.defines.set("VIGNETTE_TECHNIQUE",e.toFixed(0)),this.setChanged())}get eskil(){return this.technique===Xx.ESKIL}set eskil(e){this.technique=e?Xx.ESKIL:Xx.DEFAULT}getTechnique(){return this.technique}setTechnique(e){this.technique=e}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}get darkness(){return this.uniforms.get("darkness").value}set darkness(e){this.uniforms.get("darkness").value=e}getDarkness(){return this.darkness}setDarkness(e){this.darkness=e}},Cu=class{constructor(t,r){this.enabled=!1,this.effect=new t(r),Object.defineProperty(this,"opacity",{enumerable:!0,set(n){this.effect.blendMode.opacity.value=n},get(){return this.effect.blendMode.opacity.value}}),Object.defineProperty(this,"blendFunction",{enumerable:!0,set(n){this.effect.blendMode.setBlendFunction(Number(n))},get(){return this.effect.blendMode.blendFunction}}),this.blendFunction=ur.NORMAL}},jze=class extends Cu{constructor(){super(hze),this.blendFunction=ur.SCREEN}set intensity(e){this.effect.intensity=e}get intensity(){return this.effect.intensity}set luminanceThreshold(e){this.effect.luminanceMaterial.threshold=e}get luminanceThreshold(){return this.effect.luminanceMaterial.threshold}set luminanceSmoothing(e){this.effect.luminanceMaterial.smoothing=e}get luminanceSmoothing(){return this.effect.luminanceMaterial.smoothing}set blurScale(e){this.effect.blurPass.scale=e}get blurScale(){return this.effect.blurPass.scale}set kernelSize(e){this.effect.blurPass.kernelSize=e}get kernelSize(){return this.effect.blurPass.kernelSize}},Ize=class extends Cu{constructor(){super(pze)}set contrast(e){this.effect.uniforms.get("contrast").value=e}get contrast(){return this.effect.uniforms.get("contrast").value}set brightness(e){this.effect.uniforms.get("brightness").value=e}get brightness(){return this.effect.uniforms.get("brightness").value}},Oze=class extends Cu{constructor(){super(bze),this.effect.offset=new oe(.01,.01)}set offset(e){this.effect.offset.set(e[0]/1e3,e[1]/1e3)}get offset(){return[this.effect.offset.x*1e3,this.effect.offset.y*1e3]}},Rze=class extends Cu{constructor(){super(gze)}},Lze=class extends Cu{constructor(){super(Sze),this._hue=0}set hue(e){this._hue=e,this.effect.setHue(e)}get hue(){return this._hue}set saturation(e){this.effect.uniforms.get("saturation").value=e}get saturation(){return this.effect.uniforms.get("saturation").value}},zze=class extends Cu{constructor(){super(Aze),this.blendFunction=ur.OVERLAY}},Nze=class extends Cu{constructor(){super(Dze)}get eskil(){return this.effect.eskil}set eskil(e){this.effect.eskil=e}get darkness(){return this.effect.uniforms.get("darkness").value}set darkness(e){this.effect.uniforms.get("darkness").value=e}get offset(){return this.effect.uniforms.get("offset").value}set offset(e){this.effect.uniforms.get("offset").value=e}},Bze=class extends Cu{constructor(e){super(wze,e)}set focalLength(e){this.effect.circleOfConfusionMaterial.uniforms.focalLength.value=e}get focalLength(){return this.effect.circleOfConfusionMaterial.uniforms.focalLength.value}set focusDistance(e){this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value=e}get focusDistance(){return this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value}get bokehScale(){return this.effect.bokehScale}set bokehScale(e){this.effect.bokehScale=e}},Fze=class extends Cu{constructor(){super(Mze)}get granularity(){return this.effect.getGranularity()}set granularity(e){this.effect.setGranularity(e)}},Uze=`#define GLSLIFY 1
varying vec2 vUv;varying vec2 vTexCoords[9];uniform vec2 resolution;void main(){vUv=position.xy*0.5+0.5;vec2 texelSize=vec2(1.0)/resolution;vTexCoords[0]=vUv+vec2(-texelSize.x,-texelSize.y);vTexCoords[1]=vUv+vec2(0.0,-texelSize.y);vTexCoords[2]=vUv+vec2(texelSize.x,-texelSize.y);vTexCoords[3]=vUv+vec2(-texelSize.x,0.0);vTexCoords[4]=vUv+vec2(0.0,0.0);vTexCoords[5]=vUv+vec2(texelSize.x,0.0);vTexCoords[6]=vUv+vec2(-texelSize.x,texelSize.y);vTexCoords[7]=vUv+vec2(0.0,texelSize.y);vTexCoords[8]=vUv+vec2(texelSize.x,texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}`,Vze=`#define GLSLIFY 1
#include <common>
varying vec2 vUv;varying vec2 vTexCoords[9];uniform sampler2D inputBuffer;uniform sampler2D historyBuffer;uniform sampler2D velocityBuffer;uniform sampler2D depthBuffer;uniform vec2 resolution;
#define USE_YCOCG
#define USE_CATMULL_ROM
const float feedback_min=0.5;const float feedback_max=0.95;vec3 RGB_YCoCg(vec3 c){return vec3(c.x/4.0+c.y/2.0+c.z/4.0,c.x/2.0-c.z/2.0,-c.x/4.0+c.y/2.0-c.z/4.0);}vec3 YCoCg_RGB(vec3 c){return clamp(vec3(c.x+c.y-c.z,c.x+c.z,c.x-c.y-c.z),vec3(0.0),vec3(1.0));}vec4 sample_color(sampler2D tex,vec2 uv){
#ifdef USE_YCOCG
vec4 c=texture(tex,uv);return vec4(RGB_YCoCg(c.rgb),c.a);
#else
return texture(tex,uv);
#endif
}vec4 sample_catmull_rom(sampler2D tex,vec2 uv,vec2 texSize){vec2 samplePos=uv*texSize;vec2 texPos1=floor(samplePos-0.5)+0.5;vec2 f=samplePos-texPos1;vec2 w0=f*(-0.5+f*(1.0-0.5*f));vec2 w1=1.0+f*f*(-2.5+1.5*f);vec2 w2=f*(0.5+f*(2.0-1.5*f));vec2 w3=f*f*(-0.5+0.5*f);vec2 w12=w1+w2;vec2 offset12=w2/(w1+w2);vec2 texPos0=texPos1-1.0;vec2 texPos3=texPos1+2.0;vec2 texPos12=texPos1+offset12;texPos0/=texSize;texPos3/=texSize;texPos12/=texSize;vec4 result=vec4(0.0);result+=texture2D(tex,vec2(texPos12.x,texPos0.y))*w12.x*w0.y;result+=texture2D(tex,vec2(texPos0.x,texPos12.y))*w0.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos12.y))*w12.x*w12.y;result+=texture2D(tex,vec2(texPos3.x,texPos12.y))*w3.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos3.y))*w12.x*w3.y;return result;}vec3 choose_motion_vector(){
#ifdef CHOOSE_LONGEST_MOTION_VECTOR
float longest=-1.0;vec3 v_choose=vec3(-1.0);for(int i=0;i<9;i++){vec3 v=texture2D(velocityBuffer,vTexCoords[i]).rgb;float l=length(v.xy);if(l>longest){longest=l;v_choose=v;}}return v_choose;
#else
float closest_depth=1000.0;vec2 closest_uv_offset=vec2(0.0);for(int i=0;i<9;i++){float neighbor_depth=texture2D(depthBuffer,vTexCoords[i]).r;if(neighbor_depth<closest_depth){closest_uv_offset=vTexCoords[i];closest_depth=neighbor_depth;}}return texture2D(velocityBuffer,closest_uv_offset).rgb;
#endif
}vec4 clipAabb(vec3 aabb_min,vec3 aabb_max,vec4 avg,vec4 input_texel){const float FLT_EPS=0.00000001;vec3 p_clip=0.5*(aabb_max+aabb_min);vec3 e_clip=0.5*(aabb_max-aabb_min)+FLT_EPS;vec4 v_clip=input_texel-vec4(p_clip,avg.w);vec3 v_unit=v_clip.xyz/e_clip;vec3 a_unit=abs(v_unit);float ma_unit=max(a_unit.x,max(a_unit.y,a_unit.z));if(ma_unit>1.0){return vec4(p_clip,avg.w)+v_clip/ma_unit;}else{return input_texel;}}vec3 clip_aabb_variance(in vec3 cOld,in vec3 cNew,in vec3 centre,in vec3 halfSize){if(all(lessThanEqual(abs(cOld-centre),halfSize))){return cOld;}vec3 dir=(cNew-cOld);vec3 near=centre-sign(dir)*halfSize;vec3 tAll=(near-cOld)/dir;float t=0.0001;for(int i=0;i<3;i++){if(tAll[i]>=0.0&&tAll[i]<t){t=tAll[i];}}if(t>=0.0001){return cOld;}return cOld+dir*t;}void main(){vec3 v=choose_motion_vector();vec2 velocity=v.rg;vec2 previousPixelPos=vUv-velocity;vec4 currentColor=sample_color(inputBuffer,vUv);
#ifdef USE_CATMULL_ROM
vec4 previousColor=sample_catmull_rom(historyBuffer,previousPixelPos,resolution);
#else
vec4 previousColor=sample_color(historyBuffer,previousPixelPos);
#endif
#ifdef USE_YCOCG
previousColor=vec4(RGB_YCoCg(previousColor.rgb),previousColor.a);
#endif
vec4 ctl=sample_color(inputBuffer,vTexCoords[0]);vec4 ctc=sample_color(inputBuffer,vTexCoords[1]);vec4 ctr=sample_color(inputBuffer,vTexCoords[2]);vec4 cml=sample_color(inputBuffer,vTexCoords[3]);vec4 cmc=sample_color(inputBuffer,vTexCoords[4]);vec4 cmr=sample_color(inputBuffer,vTexCoords[5]);vec4 cbl=sample_color(inputBuffer,vTexCoords[6]);vec4 cbc=sample_color(inputBuffer,vTexCoords[7]);vec4 cbr=sample_color(inputBuffer,vTexCoords[8]);vec4 cmin=min(ctl,min(ctc,min(ctr,min(cml,min(cmc,min(cmr,min(cbl,min(cbc,cbr))))))));vec4 cmax=max(ctl,max(ctc,max(ctr,max(cml,max(cmc,max(cmr,max(cbl,max(cbc,cbr))))))));vec4 cavg=(ctl+ctc+ctr+cml+cmc+cmr+cbl+cbc+cbr)/9.0;vec4 cmin5=min(ctc,min(cml,min(cmc,min(cmr,cbc))));vec4 cmax5=max(ctc,max(cml,max(cmc,max(cmr,cbc))));vec4 cavg5=(ctc+cml+cmc+cmr+cbc)/5.0;cmin=0.5*(cmin+cmin5);cmax=0.5*(cmax+cmax5);cavg=0.5*(cavg+cavg5);
#ifdef USE_YCOCG
vec2 chroma_extent=vec2(0.25*0.5*(cmax.r-cmin.r));vec2 chroma_center=currentColor.gb;cmin.yz=chroma_center-chroma_extent;cmax.yz=chroma_center+chroma_extent;cavg.yz=chroma_center;
#endif
vec4 previousColorClipped=clamp(previousColor,cmin,cmax);
#ifdef LUMINANCE_DIFFERENCES
#ifdef USE_YCOCG
float lum0=currentColor.r;float lum1=previousColorClipped.r;
#else
float lum0=luminance(currentColor.rgb);float lum1=luminance(previousColorClipped.rgb);
#endif
float unbiased_diff=abs(lum0-lum1)/max(lum0,max(lum1,0.2));float unbiased_weight=1.0-unbiased_diff;float unbiased_weight_sqr=unbiased_weight*unbiased_weight;float k_feedback=mix(feedback_min,feedback_max,unbiased_weight_sqr);vec4 result=mix(currentColor,previousColorClipped,vec4(k_feedback));
#else
const float alpha=0.1;vec4 result=mix(currentColor,previousColorClipped,1.0-alpha);
#endif
#ifdef USE_YCOCG
gl_FragColor=vec4(YCoCg_RGB(result.rgb).rgb,result.a);
#else
gl_FragColor=result;
#endif
}`,Hze=`#define GLSLIFY 1
varying vec2 vUv;void main(){gl_Position=vec4(position.xy,1.0,1.0);vUv=position.xy*0.5+0.5;}`,Wze=`#define GLSLIFY 1
layout(location=1)out vec4 gVelocity;varying vec2 vUv;uniform sampler2D inputBuffer;void main(){gl_FragColor=texture2D(inputBuffer,vUv);gVelocity=vec4(0.0);}`,u5=class extends Or{constructor(){super({name:"PassthroughMaterial",uniforms:{inputBuffer:new ze(null)},blending:Qn,depthWrite:!1,depthTest:!1,vertexShader:Hze,fragmentShader:Wze})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}},Gze=class extends Co{constructor(){super("TAAResolvePass"),this.MRTCompatible=!0,this.needsSwap=!1,this.passThroughMaterial=new u5,this.resolutionVector=new oe,this.resolveMaterial=new Or({name:"TAAResolveMaterial",uniforms:{inputBuffer:new ze(null),historyBuffer:new ze(null),velocityBuffer:new ze(null),depthBuffer:new ze(null),resolution:new ze(new oe)},blending:Qn,depthWrite:!1,depthTest:!1,vertexShader:Uze,fragmentShader:Vze}),this.historyRenderTarget=new Cr(1024,1024,{minFilter:Kt,stencilBuffer:!1,depthBuffer:!1}),this.historyRenderTarget.texture.name="TAA.History",this.resultRenderTarget=new Cr(1024,1024,{minFilter:Kt,stencilBuffer:!1,depthBuffer:!1}),this.resultRenderTarget.texture.name="TAA.Output"}setSize(e,t){this.historyRenderTarget.setSize(e,t),this.resultRenderTarget.setSize(e,t)}render(e,t){this.fullscreenMaterial=this.resolveMaterial,this.resolveMaterial.uniforms.inputBuffer.value=t.texture[0],this.resolveMaterial.uniforms.velocityBuffer.value=t.texture[1],this.resolveMaterial.uniforms.depthBuffer.value=t.depthTexture,this.resolveMaterial.uniforms.historyBuffer.value=this.historyRenderTarget.texture,this.resolveMaterial.uniforms.resolution.value.set(t.width,t.height),e.setRenderTarget(this.resultRenderTarget),e.render(this.scene,this.camera),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(this.historyRenderTarget),e.render(this.scene,this.camera);let r=this.renderToScreen?null:t;this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(r),e.render(this.scene,this.camera)}dispose(){this.resultRenderTarget.dispose(),this.historyRenderTarget.dispose(),this.resolveMaterial.dispose(),this.passThroughMaterial.dispose()}},qze=class extends Co{constructor(e,t,r){super("TransmissionPass",void 0,t),this.MRTCompatible=!0,this.depthPass=new A7(e,t,{renderTarget:r.transmissionDepthTarget}),this.passThroughMaterial=new u5,this.splineScene=e,this.needsSwap=!1}updatePasses(e){this.passThroughMaterial=new u5,this.depthPass=new A7(this.splineScene,this.camera,{renderTarget:e.transmissionDepthTarget})}setCamera(e){this.camera=e}setScene(e){this.splineScene=e}render(e,t,r){let n=this.camera.layers.mask,i=e;i.setRenderTarget(i.transmissionRenderTarget),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=t.texture[0],i.clear(),i.render(this.scene,this.camera),this.camera.layers.disable(3),this.depthPass.render(e,t,r),i.shadowMap.needsUpdate=!1,i.shadowMap.autoUpdate=!1;let o=this.renderToScreen?null:t;this.camera.layers.set(3),e.setRenderTarget(o),e.render(this.splineScene,this.camera),this.camera.layers.mask=n}},P7=new kd,Yze=new Or({transparent:!0,vertexShader:`
        void main() {
            gl_Position = vec4(0.0);
        }
    `,fragmentShader:`
        layout(location = 1) out vec4 gVelocity;

        void main() {
            gl_FragColor = vec4(0.0);
			gVelocity = vec4(0.0);
        }
    `}),d5=class extends Co{constructor(e,t,r){super("OpaquePass",t??P7,r),this.MRTCompatible=!0,this.hasTransmissionPass=!1,this.clear=!0,this.clearColorOnly=!1,this.clearDepth=!1,this.needsSwap=!1,this.originalMaterials=new Map,this.MRTCompatible=e}set splatViewer(e){this._splatViewer=e}get splatViewer(){return this._splatViewer}setCamera(e){this.camera=e}setScene(e){this.scene=e??P7}getScene(){return this.scene}render(e,t){var n;this.camera.layers.enable(3),this.hasTransmissionPass&&(this.originalMaterials.clear(),this.scene.traverse(i=>{i.layers.isEnabled(3)&&i instanceof ea&&(this.originalMaterials.set(i.id,i.material),i.material=Yze)}),e.shadowMap.needsUpdate=!0,e.shadowMap.autoUpdate=!0),this.camera.layers.enable(8);let r=this.renderToScreen?null:t;if(e.setRenderTarget(r),this.clearColorOnly&&e.clear(!0,!1,!0),this.clear&&e.clear(),((n=this._splatViewer)==null?void 0:n.splatRenderingInitialized)===!0){let i=e.autoClear;e.autoClear=!1,e.render(this.scene,this.camera),this._splatViewer.update(),e.render(this._splatViewer.splatMesh,this.camera),e.autoClear=i}else e.render(this.scene,this.camera);this.clearDepth&&e.clear(!1,!0,!1),this.hasTransmissionPass&&this.originalMaterials.forEach((i,o)=>{let l=this.scene.getObjectById(o);l&&(l.material=i)})}},Xze=class{constructor(e,{depthBuffer:t=!0,stencilBuffer:r=!1,multisampling:n=0,frameBufferType:i=0}={}){this.renderer=e,this.helperStartIndex=0,this.copyPass=new c5,this.depthTexture=null,this.timer=new uze,this._width=1,this._height=1,this.passes=[],this.helperPasses=[],this.autoRenderToScreen=!0,this.inputBuffer=this.createBuffer(t,r,i,n,!0,"input buffer mrt"),this.inputBufferSingle=this.createBuffer(t,r,i,n,!1," input buffer single"),this.inputBufferSingle.texture.dispose(),this.inputBufferSingle.depthTexture.dispose(),this.inputBufferSingle.texture=this.inputBuffer.texture[0],this.inputBufferSingle.depthTexture=this.inputBuffer.depthTexture,this.outputBuffer=this.inputBuffer.clone(),this.outputBuffer.name="output buffer mrt",this.outputBufferSingle=this.createBuffer(t,r,i,n,!1,"output buffer single"),this.outputBufferSingle.texture.dispose(),this.outputBufferSingle.depthTexture.dispose(),this.outputBufferSingle.texture=this.outputBuffer.texture[0],this.outputBufferSingle.depthTexture=this.outputBuffer.depthTexture,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){let t=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("creating new input buffer"),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e,!0,"new input buffer"),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){var t;if(this.renderer=e,e!==null){let r=e.getSize(new oe),n=((t=e.getContext().getContextAttributes())==null?void 0:t.alpha)??!1,i=this.inputBuffer.texture[0].type;i===Ji&&e.outputEncoding===Ft&&(this.inputBuffer.texture[0].encoding=Ft,this.outputBuffer.texture[0].encoding=Ft,this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("doing some kinda dispose??")),e.autoClear=!1,this.setSize(r.width,r.height,!1);for(let o of this.passes)o.initialize(e,n,i)}}replaceRenderer(e,t=!0){let r=this.renderer,n=r.domElement.parentNode;return this.setRenderer(e),t&&n!==null&&(n.removeChild(r.domElement),n.appendChild(e.domElement)),r}createDepthTexture(){let e=this.depthTexture=new vg(this._width,this._height);return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=_f,e.type=Jh):e.type=Kc,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(let e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,r,n,i,o){let l=this.renderer,c=l===null?new oe:l.getDrawingBufferSize(new oe),a={minFilter:Kt,magFilter:Kt,wrapS:jn,wrapT:jn,stencilBuffer:t,depthBuffer:e},s;return n>0?(s=new Cr(c.width,c.height,a),s.samples=n):(i?(s=new Vwe(c.width,c.height,2,a),s.texture[1].type=wf):s=new Cr(c.width,c.height,a),s.depthTexture=new vg(2048,2048),s.depthTexture.type=go),r===Ji&&l!==null&&l.outputEncoding===Ft&&(Array.isArray(s.texture)?s.texture.forEach(u=>u.encoding=Ft):s.texture.encoding=Ft),Array.isArray(s.texture)?s.texture.forEach((u,d)=>{u.name=`EffectComposer.Buffer ${i} ${d}`,u.generateMipmaps=!1}):(s.texture.name=`EffectComposer.Buffer ${i}`,s.texture.generateMipmaps=!1),s.name=o,s}addPass(e,t){var c;let r=this.passes,n=this.renderer,i=n.getDrawingBufferSize(new oe),o=((c=n.getContext().getContextAttributes())==null?void 0:c.alpha)??!1,l;if(e.MRTCompatible&&(l=this.inputBuffer.texture[0].type),e.MRTCompatible||(l=this.inputBuffer.texture.type),e.setRenderer(n),e.setSize(i.width,i.height),e.initialize(n,o,l),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),t!==void 0?r.splice(t,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){let a=this.createDepthTexture();for(e of r)e.setDepthTexture(a)}else e.setDepthTexture(this.depthTexture)}setHelperStartIndex(e){this.helperStartIndex=e}removePass(e){let t=this.passes,r=t.indexOf(e);if(r!==-1&&t.splice(r,1).length>0){if(this.depthTexture!==null){let n=(i,o)=>i||o.needsDepthTexture;t.reduce(n,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&r===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){let e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){let t=this.renderer,r=this.copyPass,n=this.inputBuffer,i=this.outputBuffer,o=this.inputBufferSingle,l=this.outputBufferSingle,c=!1,a,s,u,d;e===void 0&&(e=this.timer.update().getDelta());for(let h of this.passes)h.enabled&&(h.MRTCompatible?h.render(t,n,i,e,c):h.render(t,o,l,e,c),h.needsSwap&&(c&&(r.renderToScreen=h.renderToScreen,a=t.getContext(),s=t.state.buffers.stencil,s.setFunc(a.NOTEQUAL,1,4294967295),r.render(t,n,i,e,c),s.setFunc(a.EQUAL,1,4294967295)),u=n,d=o,n=i,o=l,i=u,l=d),h instanceof lze?c=!0:h instanceof zLe&&(c=!1))}setSize(e,t,r){let n=this.renderer;if(this._width=e,this._height=t,e===void 0||t===void 0){let o=n.getSize(new oe);e=o.width,t=o.height}n.setSize(e,t,r);let i=n.getDrawingBufferSize(new oe);this.inputBuffer.setSize(i.width,i.height),this.outputBuffer.setSize(i.width,i.height),this.inputBufferSingle.setSize(i.width,i.height),this.outputBufferSingle.setSize(i.width,i.height);for(let o of this.passes)o.setSize(i.width,i.height)}reset(){let e=this.timer.isAutoResetEnabled();this.dispose(),this.autoRenderToScreen=!0,this.timer.setAutoResetEnabled(e)}dispose(){for(let e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.inputBufferSingle!==null&&this.inputBufferSingle.dispose(),this.outputBufferSingle!==null&&this.outputBufferSingle.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},$ze=new Or({name:"CombineMaterial",uniforms:{inputBufferA:new ze(null),inputBufferB:new ze(null)},blending:Qn,depthWrite:!1,depthTest:!1,vertexShader:`
varying vec2 vUv;
void main() {
    gl_Position = vec4(position.xy, 1.0, 1.0);
    vUv = position.xy * 0.5 + 0.5;
}
`,fragmentShader:`
    varying vec2 vUv;
    uniform sampler2D inputBufferA;
    uniform sampler2D inputBufferB;

    // TODO: Why do we need these when postpro of framemode is enabled???
    layout(location = 1) out vec4 gVelocity;

    void main() {
	vec4 resA = texture2D(inputBufferA, vUv);
	vec4 resB = texture2D(inputBufferB, vUv);
    float a = resA.a + resB.a * ( 1.0 - resA.a );

	vec4 res;
	res.rgb =  resA.rgb + (resB.rgb * (1.0 - resA.a));
	res.a = resA.a + resB.a * (1.0 - resA.a);
	gl_FragColor = res;
    gVelocity = vec4(0.0);
    }
`}),Kze=class extends Co{constructor(e){super("HelperPass",void 0,e),this.MRTCompatible=!1,this.fullscreenMaterial=$ze,this.helperPass=new d5(!1,void 0,this.camera),this.helperPass.hasTransmissionPass=!1,this.helperPass.clear=!1,this.helperPass.renderToScreen=!1,this.helperPassOnTop=new d5(!1,void 0,this.camera),this.helperPassOnTop.hasTransmissionPass=!1,this.helperPassOnTop.clear=!1,this.helperPassOnTop.renderToScreen=!1;let t=new iJ({preset:Dh.LOW,edgeDetectionMode:ZE.COLOR});this.effectPass=new H2(this.camera,t),this.rt=new Cr(10,10,{minFilter:Kt,magFilter:Kt,wrapS:jn,wrapT:jn,depthBuffer:!0})}setSize(e,t){this.rt.setSize(e,t),this.effectPass.setSize(e,t)}set sceneHelpers(e){this.helperPass.setScene(e)}get sceneHelpers(){return this.helperPass.getScene()}set sceneHelpersOnTop(e){this.helperPassOnTop.setScene(e)}get sceneHelpersOnTop(){return this.helperPassOnTop.getScene()}setCamera(e){this.helperPass.setCamera(e),this.helperPassOnTop.setCamera(e)}initialize(e,t,r){super.initialize(e,t,r),this.effectPass.initialize(e,t,r)}dispose(){super.dispose(),this.rt.dispose(),this.effectPass.dispose()}render(e,t,r){this.rt.depthTexture=t.depthTexture;let n=e.getClearAlpha();e.setClearAlpha(0),this.helperPass.clearDepth=!0,this.helperPass.clearColorOnly=!0,this.helperPass.render(e,this.rt),this.helperPassOnTop.render(e,this.rt),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.rt,r),this.fullscreenMaterial.uniforms.inputBufferA.value=r.texture,this.fullscreenMaterial.uniforms.inputBufferB.value=t.texture,e.setClearAlpha(n),e.setRenderTarget(null),e.clear(),e.render(this.scene,this.camera)}},Qze=`#define GLSLIFY 1
#include <skinning_pars_vertex>
out vec3 n;void main(){
#include <beginnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <defaultnormal_vertex>
#include <begin_vertex>
#include <skinning_vertex>
vec4 view_space=viewMatrix*modelMatrix*vec4(transformed,1.0);gl_Position=projectionMatrix*view_space;n=normalize(transformedNormal);}`,Jze=`#define GLSLIFY 1
in vec3 n;void main(){gl_FragColor=vec4(n,1.0);}`,Zze=`#define GLSLIFY 1
out vec2 v_uv;void main(){v_uv=uv;gl_Position=vec4(position.xy,1.0,1.0);}`,eNe=`#define GLSLIFY 1
in vec2 v_uv;const float pi=3.14159265;const float num_steps=4.0;const float num_directions=4.0;uniform float near;uniform float far;uniform float fov;uniform vec4 proj_info;uniform bool is_ortho;uniform vec2 resolution;uniform float radius_of_influence;uniform float radius_in_screen_space;uniform float exponent;uniform vec3 ao_color;uniform float bias;uniform sampler2D texture_depth;uniform sampler2D texture_normals;uniform sampler2D texture_blue_noise;uniform sampler2D texture_blue_noise_in_disk;uniform sampler2D texture_color_pass;uniform int frame_index;uniform bool fog_enabled;uniform float fog_near;uniform float fog_far;vec3 uv_to_view_space(vec2 uv,float eye_z){return vec3((uv*proj_info.xy+proj_info.zw)*(is_ortho ? 1.0 : eye_z),eye_z);}float linearize_depth(float depth_sampled){float z=is_ortho ? depth_sampled : depth_sampled*2.0-1.0;return mix((2.0*near*far)/(far+near-z*(far-near)),near+z*(far-near),float(is_ortho));}vec3 get_view_position(vec2 uv_coords){float linear_depth=linearize_depth(texture(texture_depth,uv_coords).x);return uv_to_view_space(uv_coords,linear_depth);}vec3 min_difference(vec3 p,vec3 right,vec3 left){vec3 v1=right-p;vec3 v2=p-left;return(dot(v1,v1)<dot(v2,v2))? v1 : v2;}vec3 rebuild_normal(in vec2 uv,in vec3 p){vec2 one_over_resolution=1.0/resolution;vec3 r=get_view_position(uv+vec2(one_over_resolution.x,0));vec3 l=get_view_position(uv+vec2(-one_over_resolution.x,0));vec3 t=get_view_position(uv+vec2(0,one_over_resolution.y));vec3 b=get_view_position(uv+vec2(0,-one_over_resolution.y));return normalize(cross(min_difference(p,r,l),min_difference(p,t,b)));}float falloff(float distance_squared){float neg_inv_r2=-1.0/(radius_of_influence*radius_of_influence);return distance_squared*neg_inv_r2+1.0;}float ao_contribution(vec3 P,vec3 N,vec3 S){vec3 to_sample=S-P;float norm_squared=dot(to_sample,to_sample);float norm=sqrt(norm_squared);float cos_theta=dot(N,to_sample)/norm;return clamp(cos_theta-bias,0.0,1.0)*clamp(falloff(norm_squared),0.0,1.0);}float compute_ambient_occlusion(vec2 uv,float radius_in_screen_space,vec3 pc,vec3 view_space_n){vec2 one_over_resolution=1.0/resolution;ivec2 noise_uv=ivec2(int(mod(gl_FragCoord.x,128.0)),int(mod(gl_FragCoord.y,128.0)));float noise=texelFetch(texture_blue_noise,noise_uv,0).r;noise=fract(noise+0.61803398875*float(frame_index));float theta=noise*2.0*3.1415;float ct=cos(theta);float st=sin(theta);float step_size=radius_in_screen_space/(num_steps+1.0);const float angle_step=2.0*pi/num_directions;float contribution=0.0;for(int i=0;i<int(num_directions);++i){float current_pixel=step_size+1.0;for(int j=0;j<int(num_steps);++j){int index=i*int(num_steps)+j;vec2 blue_noise_sample=texelFetch(texture_blue_noise_in_disk,ivec2(index,0),0).rg;vec2 disk_point;disk_point.x=blue_noise_sample.x*ct-blue_noise_sample.y*st;disk_point.y=blue_noise_sample.x*st+blue_noise_sample.y*ct;vec2 sample_direction=disk_point;vec2 snapped_uv=round(current_pixel*sample_direction)*one_over_resolution+uv;vec3 ps=get_view_position(snapped_uv);current_pixel+=step_size;contribution+=ao_contribution(pc,view_space_n,ps);}}float mult=1.0/(1.0-bias);contribution*=mult/(num_directions*num_steps);return clamp(1.0-contribution*2.0,0.0,1.0);}
#define USE_GBUFFER_NORMALS
void main(){vec3 view_space_p=get_view_position(v_uv);
#ifdef USE_GBUFFER_NORMALS
vec3 view_space_n=texture(texture_normals,v_uv).rgb;view_space_n.z*=-1.0;
#else
vec3 view_space_n=-rebuild_normal(v_uv,view_space_p);
#endif
float radius_ss=radius_in_screen_space/(is_ortho ? 1.0 : view_space_p.z);float ao=compute_ambient_occlusion(v_uv,radius_ss,view_space_p,view_space_n);float final=pow(ao,exponent);if(view_space_p.z>=far){final=1.0;}vec3 color=mix(ao_color,vec3(1.0),final);if(fog_enabled){float fog_factor=smoothstep(fog_near,fog_far,view_space_p.z);color=mix(color,vec3(1.0),fog_factor);}gl_FragColor=vec4(color,1.0);}`,tNe=`#define GLSLIFY 1
out vec2 v_uv;void main(){gl_Position=vec4(position.xy,1.0,1.0);v_uv=uv;}`,rNe=`#define GLSLIFY 1
in vec2 v_uv;uniform sampler2D texture_ao_lrez;uniform sampler2D texture_depth_lrez;uniform sampler2D texture_depth_hrez;uniform float near;uniform float far;float linearize_depth(float depth_sampled){float z=depth_sampled*2.0-1.0;return(2.0*near*far)/(far+near-z*(far-near));}vec2 nearest_depth_filter(in vec2 uv){vec2 resolution=vec2(textureSize(texture_depth_lrez,0));vec2 texel_size=1.0/resolution;vec2 offset=uv-0.5*texel_size;float d_hrez=texture(texture_depth_hrez,uv).r;float a=abs(d_hrez-texture(texture_depth_lrez,offset).r);float b=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,0.0)).r);float c=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(0.0,texel_size.y)).r);float d=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,texel_size.y)).r);float min_diff=min(a,min(b,min(c,d)));if(min_diff==a)return offset;if(min_diff==b)return offset+vec2(texel_size.x,0.0);if(min_diff==c)return offset+vec2(0.0,texel_size.y);if(min_diff==d)return offset+vec2(texel_size.x,texel_size.y);}void main(){
#ifdef DEBUG
float d_lrez=texture(texture_depth_lrez,v_uv).r;float d_hrez=texture(texture_depth_hrez,v_uv).r;float output_d=mix(linearize_depth(d_lrez)/far,linearize_depth(d_hrez)/far,step(0.5,v_uv.x));gl_FragColor=vec4(vec3(output_d),1.0);
#else
vec2 filtered_uv=nearest_depth_filter(v_uv);vec4 ao=texture(texture_ao_lrez,filtered_uv);gl_FragColor=vec4(ao.rgb,1.0);gl_FragColor=ao;
#endif
}`,sv=[[.478712,.875764],[-.337956,-.793959],[-.955259,-.028164],[.864527,.325689],[.209342,-.395657],[-.106779,.672585],[.156213,.235113],[-.413644,-.082856],[-.415667,.323909],[.141896,-.93998],[.954932,-.182516],[-.766184,.410799],[-.434912,-.458845],[.415242,-.078724],[.728335,-.491777],[-.058086,-.066401],[.20299,.686837],[-.808362,-.556402],[.507386,-.640839],[-.723494,-.22924],[.48974,.317826],[-.622663,.765301],[-.01064,.929347],[.663146,.647618],[-.096674,-.413835],[.525945,-.321063],[-.122533,.366019],[.195235,-.687983],[-.563203,.098748],[.418563,.561335],[-.378595,.800367],[.826922,.001024],[-.085372,-.766651],[-.92192,.183673],[-.590008,-.721799],[.167751,-.164393],[.032961,-.56253],[.6329,-.107059],[-.46408,.569669],[-.173676,-.958758],[-.242648,-.234303],[-.275362,.157163],[.382295,-.795131],[.562955,.115562],[.190586,.470121],[.770764,-.297576],[.237281,.93105],[-.666642,-.455871],[-.905649,-.298379],[.33952,.157829],[.701438,-.7041],[-.062758,.160346],[-.220674,.957141],[.642692,.432706],[-.77339,-.015272],[-.671467,.24688],[.158051,.062859],[.806009,.527232],[-.05762,-.247071],[.333436,-.51671],[-.550658,-.315773],[-.652078,.589846],[.008818,.530556],[-.210004,.519896]],nNe=new Or({vertexShader:Qze,fragmentShader:Jze}),$x=new Or({vertexShader:tNe,fragmentShader:rNe,uniforms:{texture_ao_lrez:new ze(null),texture_depth_lrez:new ze(null),texture_depth_hrez:new ze(null),near:new ze(null),far:new ze(null)}}),iNe=class extends Co{constructor(e,t){super("AmbientOcclusionPass",void 0,t),this.fogEnabled=!1,this.fogNear=1,this.fogFar=1e3,this.frameIndex=0,this._runHalfRes=!0,this._width=1,this._height=1;let r=1024,n=1024;this.gBuffer=new Cr(r,n,{type:go,depthTexture:new vg(r,n),minFilter:Kt,magFilter:Kt}),this.depthBufferHighRes=new Cr(r,n,{depthTexture:new vg(r,n)}),this.aoBuffer=new Cr(r,n,{minFilter:Kt,magFilter:Kt}),this.splineScene=e,this.splineCamera=t;let i=new Float32Array(sv.length*2);for(let l=0;l<sv.length;l++){let c=l*2;i[c+0]=sv[l][0],i[c+1]=sv[l][1]}this.blueNoiseInDiskTexture=new ud(i,sv.length,1,Z_,go),this.blueNoiseInDiskTexture.wrapS=$c,this.blueNoiseInDiskTexture.wrapT=$c,this.blueNoiseInDiskTexture.needsUpdate=!0,this.hbaoMaterial=new Or({vertexShader:Zze,fragmentShader:eNe,uniforms:{near:new ze(null),far:new ze(null),fov:new ze(null),proj_info:new ze(new Ut),is_ortho:new ze(!1),resolution:new ze(new oe),radius_of_influence:new ze(8),radius_in_screen_space:new ze(1),exponent:new ze(1),ao_color:new ze(new V),bias:new ze(.5),texture_depth:new ze(null),texture_normals:new ze(null),texture_blue_noise:new ze(null),texture_blue_noise_in_disk:new ze(this.blueNoiseInDiskTexture),frame_index:new ze(0),fog_enabled:new ze(!1),fog_near:new ze(1),fog_far:new ze(1e3)}}),this.radius=128,this.aoColor={r:0,g:0,b:0},this.bias=.5,this.hbaoMaterial.uniforms.texture_depth.value=this.gBuffer.depthTexture,this.hbaoMaterial.uniforms.texture_normals.value=this.gBuffer.texture,this.needsSwap=!0,this.aaBuffer=new Cr(r,n,{minFilter:Kt,magFilter:Kt,wrapS:jn,wrapT:jn,depthBuffer:!1,type:go});let o=new iJ({preset:Dh.ULTRA,edgeDetectionMode:ZE.COLOR});this.effectPass=new H2(this.camera,o)}initialize(e,t,r){super.initialize(e,t,r),this.effectPass.initialize(e,t,r)}setBlueNoiseTexture(e){this.hbaoMaterial.uniforms.texture_blue_noise.value=e}setSize(e,t){this._width=e,this._height=t,this.depthBufferHighRes.setSize(e,t);let r=this._runHalfRes?.5:1,n=e*r,i=t*r;this.gBuffer.setSize(n,i),this.aoBuffer.setSize(n,i),this.hbaoMaterial.uniforms.resolution.value.set(n,i),this.aaBuffer.setSize(n,i),this.effectPass.setSize(n,i)}get runHalfRes(){return this._runHalfRes}set runHalfRes(e){this._runHalfRes=e,this.setSize(this._width,this._height)}setCamera(e){this.splineCamera=e}setScene(e){this.splineScene=e}render(e,t,r){this.splineScene.overrideMaterial=nNe;let n=this.splineCamera.layers.mask;if(this.splineCamera.layers.set(5),e.setRenderTarget(this.gBuffer),e.clear(),e.render(this.splineScene,this.splineCamera),e.setRenderTarget(this.depthBufferHighRes),e.clear(),e.render(this.splineScene,this.splineCamera),this.splineScene.overrideMaterial=null,this.splineCamera.layers.mask=n,this.hbaoMaterial.uniforms.radius_of_influence.value=this.radius,this.hbaoMaterial.uniforms.ao_color.value.set(this.aoColor.r,this.aoColor.g,this.aoColor.b),this.hbaoMaterial.uniforms.bias.value=this.bias,this.hbaoMaterial.uniforms.fog_enabled.value=this.fogEnabled,this.hbaoMaterial.uniforms.fog_near.value=this.fogNear,this.hbaoMaterial.uniforms.fog_far.value=this.fogFar,this.hbaoMaterial.uniforms.frame_index.value=this.frameIndex,this.frameIndex++,this.splineCamera.isPerspectiveCamera){this.hbaoMaterial.uniforms.near.value=this.splineCamera.perspCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.perspCamera.far;let i=this.splineCamera.perspCamera.projectionMatrix.elements,o=2/i[0],l=2/i[5],c=-(1-i[8])/i[0],a=-(1+i[9])/i[5];this.hbaoMaterial.uniforms.proj_info.value.set(o,l,c,a);let s=this.splineCamera.perspCamera.fov*(Math.PI/180),u=this.hbaoMaterial.uniforms.resolution.value.y/(Math.tan(s*.5)*2),d=this.hbaoMaterial.uniforms.radius_of_influence.value*.5*u;this.hbaoMaterial.uniforms.radius_in_screen_space.value=d,this.hbaoMaterial.uniforms.is_ortho.value=!1}else{this.hbaoMaterial.uniforms.near.value=this.splineCamera.orthoCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.orthoCamera.far;let i=this.splineCamera.orthoCamera.projectionMatrix.elements,o=2/i[0],l=2/i[5],c=-(1+i[12])/i[0],a=-(1-i[13])/i[5];this.hbaoMaterial.uniforms.proj_info.value.set(o,l,c,a);let s=.5*(this.hbaoMaterial.uniforms.resolution.value.y/l),u=this.hbaoMaterial.uniforms.radius_of_influence.value*s;this.hbaoMaterial.uniforms.radius_in_screen_space.value=u,this.hbaoMaterial.uniforms.is_ortho.value=!0}this.runHalfRes?(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aoBuffer),e.clear(),e.render(this.scene,this.camera),this.fullscreenMaterial=$x,$x.uniforms.texture_ao_lrez.value=this.aoBuffer.texture,$x.uniforms.texture_depth_lrez.value=this.gBuffer.depthTexture,$x.uniforms.texture_depth_hrez.value=this.depthBufferHighRes.depthTexture,e.setRenderTarget(e.aoRenderTarget),e.clear(),e.render(this.scene,this.camera)):(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aaBuffer),e.clear(),e.render(this.scene,this.camera),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.aaBuffer,e.aoRenderTarget))}dispose(){this.gBuffer.dispose(),this.depthBufferHighRes.dispose(),this.aoBuffer.dispose()}},oNe=`
varying vec2 vUv;
void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,aNe=`
uniform sampler2D tInput;
uniform sampler2D tMap;
uniform vec2 resolution;
varying vec2 vUv;

uniform vec2 uResolution;
uniform vec2 uCoords;

// Draws a rectangle at center <st> with size <size>
float rectangle(vec2 st, vec2 size) {
    size = vec2(0.5) - size * 0.5;
    vec2 uv = vec2(step(size.x, st.x), step(size.y, st.y));
    uv *= vec2(step(size.x, 1.0 - st.x), step(size.y, 1.0 - st.y));

    return uv.x * uv.y;
}

uniform vec2 uSize;
uniform float uScale;
uniform float uDPR;
uniform float uCurrent;
uniform vec3 uSceneColor;

void main() {
    vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
    screenUv *= 1.0 / uDPR;

    vec2 center = vec2(0.5, -0.5);
    vec2 outsideUv = screenUv;
    outsideUv += center;
    outsideUv -= uCoords.xy / uResolution.xy;
    outsideUv = (outsideUv - 0.5) + 0.5;
    outsideUv -= center;
    vec2 s = (uSize / uResolution) * uScale;
    float isOutside = 1.0 - rectangle(outsideUv, s);
    
    vec2 mid = vec2(0.5);
    vec2 insideUv = (screenUv - mid + s * mid) / s;
    vec4 background = texture2D(tInput, screenUv);
    vec4 image = texture2D(tMap, insideUv);
    gl_FragColor = mix(image, background, isOutside);
}
`,sNe=class extends Il{constructor(){super(new Or({vertexShader:oNe,fragmentShader:aNe,uniforms:{tInput:new ze(null),tMap:new ze(null),uResolution:new ze(new oe),uSize:new ze(new oe),uCoords:new ze(new oe),uScale:new ze(1),uSceneColor:new ze(new wt(16711680)),uDPR:new ze(1),uCurrent:new ze(0)}}),"tInput"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.tMap.value}set texture(e){this.uniforms.tMap.value=e}},lNe=`
void main() {
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,cNe=`
uniform sampler2D toScene;
uniform sampler2D fromScene;
uniform vec2 resolution;

uniform vec2 uResolution;
uniform float uDPR;

uniform float mixRatio;
uniform sampler2D tMixTexture;
uniform int useTexture;
uniform float threshold;

void main() {
	vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
	screenUv *= 1.0 / uDPR;

	vec4 texel1 = texture2D( fromScene, screenUv );
	vec4 texel2 = texture2D( toScene, screenUv );

	if (useTexture==1) {
		
		vec4 transitionTexel = texture2D( tMixTexture, screenUv );
		float r = mixRatio * (1.0 + threshold * 2.0) - threshold;
		float mixf=clamp((transitionTexel.r - r)*(1.0/threshold), 0.0, 1.0);
		
		gl_FragColor = mix( texel1, texel2, mixf );
	} else {
		
		gl_FragColor = mix( texel1, texel2, mixRatio );
		
	}
}
`,uNe=[],dNe=class extends Il{constructor(){super(new Or({vertexShader:lNe,fragmentShader:cNe,uniforms:{toScene:new ze(null),fromScene:new ze(null),uResolution:new ze(new oe),uDPR:new ze(1),mixRatio:new ze(0),threshold:new ze(.1),useTexture:new ze(0),tMixTexture:{value:uNe[0]}}}),"toScene"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.fromScene.value}set texture(e){this.uniforms.fromScene.value=e}};function k7(e,t){return t&&t.enabled&&e.push(t.effect),e}var hNe=e=>Object.values(ur).includes(e)?e:ur.NORMAL,fNe=class extends Ri{constructor(e){super(),this.postprocessingState=k2.defaultData,this._scene=new kd,this._camera=new Ki,this.effects=new Map,this.blueNoiseTexture=new ud,this._renderToScreen=!0,this.clock=new PAe,this.renderer=e,this.debug=!1,this.effects.set("bloom",new jze),this.effects.set("chromaticAberration",new Oze),this.effects.set("vignette",new Nze),this.effects.set("noise",new zze),this.effects.set("colorAverage",new Rze),this.effects.set("hueSaturation",new Lze),this.effects.set("brightnessContrast",new Ize),this.effects.set("depthOfField",new Bze),this.effects.set("pixelation",new Fze),this.effectComposer=new Xze(this.renderer),this.effectComposer.autoRenderToScreen=!1,this.opaquePass=new d5(!0,this.scene,this.camera),this.opaquePass.clear=!0,this.transmissionPass=new qze(this.scene,this.camera,this.renderer),this.aoPass=new iNe(this.scene,this.camera),this.taaPass=new Gze,this.taaPass.renderToScreen=!1,this.helperPass=new Kze(this.camera),this.helperPass.renderToScreen=!1,this.overlayPass=new sNe,this.overlayPass.enabled=!1,this.sceneTransitionPass=new dNe,this.sceneTransitionPass.enabled=!1,this._initCopyPass(),this._initPasses()}set overlayTexture(e){e!==void 0?(this.overlayPass.texture=e,this.overlayPass.enabled=!0):this.overlayPass.enabled=!1}get overlayTexture(){return this.overlayPass.texture}set sceneHelpers(e){this.helperPass.sceneHelpers=e}get sceneHelpers(){return this.helperPass.sceneHelpers}set sceneHelpersOnTop(e){this.helperPass.sceneHelpersOnTop=e}get sceneHelpersOnTop(){return this.helperPass.sceneHelpersOnTop}get scene(){return this._scene}set scene(e){this._scene=e,this.opaquePass.setScene(e),this.transmissionPass.setScene(e),this.aoPass.setScene(e)}get camera(){return this._camera}set camera(e){this._camera=e,this.opaquePass.setCamera(e),this.transmissionPass.setCamera(e),this.aoPass.setCamera(e),this.helperPass.setCamera(e)}updateRenderToScreen(){let e=!1;for(let t=this.effectComposer.passes.length-1;t>=0;t--){let r=this.effectComposer.passes[t];if(r.enabled===!0&&!e&&this._renderToScreen){r.renderToScreen=!0,e=!0;continue}r.renderToScreen=!1}}disableHelpers(){this.helperPass.enabled=!1,this.updateRenderToScreen()}enableHelpers(){this.helperPass.enabled=!0,this.updateRenderToScreen()}updateBlueNoiseTexture(e){this.blueNoiseTexture=new ud(e,128,128),this.blueNoiseTexture.wrapS=$c,this.blueNoiseTexture.wrapT=$c,this.blueNoiseTexture.minFilter=Nr,this.blueNoiseTexture.magFilter=Nr,this.blueNoiseTexture.needsUpdate=!0}setAmbientOcclusionParams(e,t,r,n,i,o,l,c){this.aoPass.enabled=e,this.aoPass.radius=t,this.aoPass.bias=r,this.aoPass.aoColor=n,this.aoPass.fogEnabled=i,this.aoPass.fogNear=o,this.aoPass.fogFar=l,this.aoPass.runHalfRes!==!c&&(this.aoPass.runHalfRes=!c)}setTransmissionPassEnabled(e){this.transmissionPass.enabled=e,this.opaquePass.hasTransmissionPass=e}_initPasses(){var e,t;if((e=this.uvEffectPass)==null||e.dispose(),(t=this.effectPass)==null||t.dispose(),this.effectComposer.removeAllPasses(),this.transmissionPass.updatePasses(this.renderer),this.effectComposer.addPass(this.aoPass),this.effectComposer.addPass(this.opaquePass),this.effectComposer.addPass(this.transmissionPass),this.effectComposer.addPass(this.taaPass),this.postprocessingState.enabled){let r=[this.effects.get("pixelation")].reduce(k7,[]);r.length>0&&(this.uvEffectPass=new H2(this.camera,...r),this.uvEffectPass.renderToScreen=!1,this.effectComposer.addPass(this.uvEffectPass));let n=[this.effects.get("chromaticAberration"),this.effects.get("bloom"),this.effects.get("colorAverage"),this.effects.get("hueSaturation"),this.effects.get("brightnessContrast"),this.effects.get("vignette"),this.effects.get("noise")].reduce(k7,[]);n.length>0&&(this.effectPass=new H2(this.camera,...n),this.effectPass.renderToScreen=!1,this.effectComposer.addPass(this.effectPass))}this.effectComposer.addPass(this.overlayPass),this.effectComposer.addPass(this.sceneTransitionPass),this.effectComposer.addPass(this.helperPass)}_initCopyPass(){if(this._savePass)return;let e=new oe;this.renderer.getDrawingBufferSize(e),this._rt=new Cr(e.x,e.y,{depthBuffer:!1,stencilBuffer:!1,wrapS:$c,wrapT:$c}),this._rt.samples=0,this._savePass=new c5(this._rt,!1),this._savePass.renderToScreen=!1}setCopyPass(e){this._rt=e,this._savePass=new c5(this._rt,!1),this.renderToScreen=!1}get renderToScreen(){return this._renderToScreen}set renderToScreen(e){if(this._renderToScreen===e)return;let t=this.effectComposer;!t||(e===!0?t.removePass(this._savePass):t.addPass(this._savePass),this._renderToScreen=e,this.updateRenderToScreen())}set sceneTransitionFromTexture(e){e!==this.sceneTransitionPass.texture&&(e!==null?this.sceneTransitionPass.enabled=!0:(this.sceneTransitionPass.enabled=!1,this.updateRenderToScreen()),this.sceneTransitionPass.texture=e)}get texture(){return this._rt&&this._rt.texture}get renderTarget(){return this._rt}updatePostprocessing(e){let{enabled:t,...r}=e,n=!1;t!==this.postprocessingState.enabled&&(n=!0);for(let i of Object.entries(r)){let o=i[1],l=this.effects.get(i[0]);if(l){l.enabled!==o.enabled&&(n=!0),l.enabled=o.enabled;for(let[c,a]of Object.entries(o))c==="blendFunction"?l.blendFunction=hNe(a):l[c]=a}}this.postprocessingState=e,n&&this._initPasses()}render(){this.effectComposer.render(this.clock.getDelta())}setScissor(e,t,r,n){e instanceof Ut?(this.effectComposer.inputBuffer.scissor.set(e.x,e.y,e.z,e.w),this.effectComposer.outputBuffer.scissor.set(e.x,e.y,e.z,e.w)):(this.effectComposer.inputBuffer.scissor.set(e,t,r,n),this.effectComposer.outputBuffer.scissor.set(e,t,r,n));let i=this.renderer.getPixelRatio();this.effectComposer.inputBuffer.scissor.multiplyScalar(i),this.effectComposer.outputBuffer.scissor.multiplyScalar(i),this.renderer.setScissor(e,t,r,n)}setScissorTest(e){this.effectComposer.inputBuffer.scissorTest=e,this.effectComposer.outputBuffer.scissorTest=e,this.renderer.setScissorTest(e)}setViewport(e,t,r,n){e instanceof Ut?(this.effectComposer.inputBuffer.viewport.copy(e),this.effectComposer.outputBuffer.viewport.copy(e)):(this.effectComposer.inputBuffer.viewport.set(e,t,r,n),this.effectComposer.outputBuffer.viewport.set(e,t,r,n))}resize(e,t,r){if(this.effectComposer.setSize(e,t,r),this._rt){let n=this.renderer.getPixelRatio();this._rt.setSize(e*n,t*n)}}dispose(){var e,t;(e=this.uvEffectPass)==null||e.dispose(),(t=this.effectPass)==null||t.dispose(),this.effectComposer.dispose()}},pNe=e=>`

// PCSS implementation based on:
// https://www.gamedev.net/articles/programming/graphics/contact-hardening-soft-shadows-made-fast-r4906/
// NOTE: This number affects how big the shadow blur can
// possibly get. Bigger number == bigger blur, but less precise results

const float  gPenumbraFilterSize = 80.0;
const int   gPenumbraSamples = ${e};
const int gShadowSamples = ${e};
const float gShadowSamplesRpc = 1.0f / float(gShadowSamples);

#ifdef USE_SHADOWMAP
    #if NUM_DIR_LIGHT_SHADOWS > 0

        uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
        varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];

        struct DirectionalLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
        };

        uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];

    #endif

    #if NUM_SPOT_LIGHT_SHADOWS > 0

        uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
        varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_SHADOWS ];

        struct SpotLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
        };

        uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];

    #endif

    #if NUM_POINT_LIGHT_SHADOWS > 0

        uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
        varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];

        struct PointLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
            float shadowCameraNear;
            float shadowCameraFar;
        };

        uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];

    #endif

    /*
    #if NUM_RECT_AREA_LIGHTS > 0

        // TODO (abelnation): create uniforms for area light shadows

    #endif
    */

float computePenumbra(int index, sampler2D shadowMap, float temporalAngle, float texelSize, vec2 uv, float compare, float texelScalar, float shadowRadius)
{
    float penumbra = 1.0;
    float blockerDepthAvg = 0.0;
    float blockerCount = 0.0;

    #pragma unroll_loop_start
    for(int i = 0; i < gPenumbraSamples; i ++)
    {
        vec2 offset = (vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize) * texelScalar;
        float depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) );

        if(depth < compare + 0.0001)
        {
            blockerDepthAvg += depth;
            blockerCount++;
        }
    }
    #pragma unroll_loop_end

    if (blockerCount > 0.0)
    {
        blockerDepthAvg /= blockerCount;

        // Compute penumbra
        penumbra = (compare - blockerDepthAvg) / (blockerDepthAvg);
        penumbra *= penumbra;
        penumbra *= 200.0 * penumbraSize[min(index, 5 - 1)]; // Magic number that affects how quickly the penumbra grows

        return clamp(penumbra, 0.00, 1.0);
    }
    return 0.0;
}

float vogelShadow(int index, sampler2D shadowMap, vec2 uv, float texelSize, float compare, float shadowRadius)
{
    float shadow         = 0.0f;

    // NOTE: When using TAA, we should use screen space interleaved gradient noise
    vec2 halton = haltonSequence[frameIndex];
    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
    float temporalAngle  = temporalOffset * PI2;

    float texelScalar = (gPenumbraFilterSize) / (texelSize * 1024.);
    float penumbra = computePenumbra(index, shadowMap, temporalAngle, texelSize, uv, compare, texelScalar, shadowRadius);
    if (penumbra == -1.0) {
        return 1.0;
    }

    #pragma unroll_loop_start
    for (int i = 0; i < gShadowSamples; i++)
    {
        vec2 vogelSample =  vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;
        // Overall blurring offset
        vec2 offset = vogelSample * (shadowRadius * 2.);

        // Penumbra offset
        offset += vogelSample * (penumbra * texelScalar);

        shadow += step( compare, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );
    }
    #pragma unroll_loop_end

    return shadow * gShadowSamplesRpc;
}


    float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {

        return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );

    }

    vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {

        return unpackRGBATo2Half( texture2D( shadow, uv ) );

    }

    float VSMShadow (sampler2D shadow, vec2 uv, float compare ){

        float occlusion = 1.0;

        vec2 distribution = texture2DDistribution( shadow, uv );

        float hard_shadow = step( compare , distribution.x ); // Hard Shadow

        if (hard_shadow != 1.0 ) {

            float distance = compare - distribution.x ;
            float variance = max( 0.00000, distribution.y * distribution.y );
            float softness_probability = variance / (variance + distance * distance ); // Chebeyshevs inequality
            softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 ); // 0.3 reduces light bleed
            occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );

        }
        return occlusion;

    }

    float getShadow( int i, sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {

        float shadow = 1.0;

        shadowCoord.xyz /= shadowCoord.w;
        shadowCoord.z += shadowBias;

        // if ( something && something ) breaks ATI OpenGL shader compiler
        // if ( all( something, something ) ) using this instead

        bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
        bool inFrustum = all( inFrustumVec );

        bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );

        bool frustumTest = all( frustumTestVec );

        if ( frustumTest ) {

        #if defined( SHADOWMAP_TYPE_PCF )

            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
            return vogelShadow(i, shadowMap, shadowCoord.xy, texelSize.x, shadowCoord.z, shadowRadius );

        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )

            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
            float dx = texelSize.x;
            float dy = texelSize.y;

            vec2 uv = shadowCoord.xy;
            vec2 f = fract( uv * shadowMapSize + 0.5 );
            uv -= f * texelSize;

            shadow = (
                texture2DCompare( shadowMap, uv, shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
                mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
                     f.x ) +
                mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
                     f.x ) +
                mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
                     f.y ) +
                mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
                     f.y ) +
                mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
                          f.x ),
                     mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
                          f.x ),
                     f.y )
            ) * ( 1.0 / 9.0 );

        #elif defined( SHADOWMAP_TYPE_VSM )

            shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );

        #else // no percentage-closer filtering:

            shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );

        #endif

        }

        return shadow;

    }

    // cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D
    // vector suitable for 2D texture mapping. This code uses the following layout for the
    // 2D texture:
    //
    // xzXZ
    //  y Y
    //
    // Y - Positive y direction
    // y - Negative y direction
    // X - Positive x direction
    // x - Negative x direction
    // Z - Positive z direction
    // z - Negative z direction
    //
    // Source and test bed:
    // https://gist.github.com/tschw/da10c43c467ce8afd0c4

    vec2 cubeToUV( vec3 v, float texelSizeY ) {

        // Number of texels to avoid at the edge of each square

        vec3 absV = abs( v );

        // Intersect unit cube

        float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
        absV *= scaleToCube;

        // Apply scale to avoid seams

        // two texels less per square (one texel will do for NEAREST)
        v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );

        // Unwrap

        // space: -1 ... 1 range for each square
        //
        // #X##         dim    := ( 4 , 2 )
        //  # #         center := ( 1 , 1 )

        vec2 planar = v.xy;

        float almostATexel = 1.5 * texelSizeY;
        float almostOne = 1.0 - almostATexel;

        if ( absV.z >= almostOne ) {

            if ( v.z > 0.0 )
                planar.x = 4.0 - v.x;

        } else if ( absV.x >= almostOne ) {

            float signX = sign( v.x );
            planar.x = v.z * signX + 2.0 * signX;

        } else if ( absV.y >= almostOne ) {

            float signY = sign( v.y );
            planar.x = v.x + 2.0 * signY + 2.0;
            planar.y = v.z * signY - 2.0;

        }

        // Transform to UV space

        // scale := 0.5 / dim
        // translate := ( center + 0.5 ) / dim
        return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );

    }

    float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {

        float shadow = 1.0;
        vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );

        // for point lights, the uniform @vShadowCoord is re-purposed to hold
        // the vector from the light to the world-space position of the fragment.
        vec3 lightToPosition = shadowCoord.xyz;

        // dp = normalized distance from light to fragment position
        float compare = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?
        compare += shadowBias;

        // bd3D = base direction 3D
        vec3 bd3D = normalize( lightToPosition );

        vec2 halton = haltonSequence[frameIndex];
        float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
        float temporalAngle  = temporalOffset * PI2;

        #if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_VSM )
            for (int i = 0; i < gShadowSamples; i++) {
                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;

                // Overall blurring offset
                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);

                // NOTE: Removed for now
                // Penumbra offset
                //offset += vec3(vogelSample.x, vogelSample.y, vogelSample.y)  * (penumbra * gPenumbraFilterSize);

                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );

            }
            return shadow * gShadowSamplesRpc;

        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )
            for (int i = 0; i < 16; i++) {
                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;

                // Overall blurring offset
                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);

                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );

            }
            return shadow * (1.0 / 16.0);
        #else // no percentage-closer filtering

            return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), compare );

        #endif

    }

#endif
`,mNe=Wt.lights_fragment_begin,gNe=Wt.shadowmask_pars_fragment,D7=null,vNe=e=>{switch(e){case"low":return 8;case"medium":return 16;case"high":return 32;default:return 16}},yNe=(e="medium")=>{if(D7===e)return!1;D7=e;let t=vNe(e);Wt.shadowmap_pars_fragment=pNe(t);let r=mNe.slice();r=r.replace("getShadow( spotShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX + 3, spotShadowMap[ i ]"),r=r.replace("getShadow( directionalShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX, directionalShadowMap[ i ]"),Wt.lights_fragment_begin=r;let n=gNe.slice();return n=n.replaceAll("getShadow(","getShadow( UNROLLED_LOOP_INDEX, "),Wt.shadowmask_pars_fragment=n,!0},bNe=`
attribute vec3 randomColor;
varying vec3 vNormal;
flat out vec3 vColor;

void main()
{
vNormal = normal;
vColor = randomColor;
gl_Position = projectionMatrix * (modelViewMatrix * vec4(position, 1.0));
}
`,xNe=`
uniform float depthContrast;
varying vec3 vNormal;
flat in vec3 vColor;
void main()
{
vec3 normal = (normalize(vNormal)).rgb;

float contrastDepth = (gl_FragCoord.z - 0.5) * depthContrast + 0.5;

vec3 resultColor = mix(mix(vColor, normal, 0.2), vec3(contrastDepth), 0.4);
gl_FragColor = vec4(resultColor, vColor.r);
}
`,gM=new Or({vertexShader:bNe,fragmentShader:xNe,uniforms:{depthContrast:{value:1}}}),j7=new li,wNe=class extends GX{constructor(e){super(e),this._pixelRatio=this.getPixelRatio(),this.viewportWidth=1,this.viewportHeight=1,this.resolution=new oe,this.pipeline=new fNe(this),this.dummyCamera=new Ki,this.sceneTransitionDuration=0,this.sceneTransitionTimeRemaining=-1,this.isXRCopyPassSet=!1,this.clear=(i=!0,o=!0,l=!0)=>{let c=this.getContext(),a=0;i&&(a|=c.COLOR_BUFFER_BIT),o&&(a|=c.DEPTH_BUFFER_BIT),l&&(a|=c.STENCIL_BUFFER_BIT),c.clear(a),c.clearBufferfv(c.COLOR,1,[0,0,0,1])},this.autoClear=!1;let t=this.setPixelRatio.bind(this),r=this.setSize.bind(this);this.shadowMap.enabled=!0,this.shadowMap.type=vj,this.dummyCamera.matrixAutoUpdate=!1;let n=this.getContext();if(n&&"drawingBufferColorSpace"in n)try{n.drawingBufferColorSpace="display-p3"}catch(i){console.warn(i)}this.setPixelRatio=i=>{this._pixelRatio!==i&&(this._pixelRatio=i,t(i))},this.setSize=(i,o,l=!0)=>{var c,a;(this.viewportWidth!==i||this.viewportHeight!==o)&&(this.viewportWidth=i,this.viewportHeight=o,r(i,o,l),(c=this.normalRenderTarget)==null||c.setSize(i*this._pixelRatio,o*this._pixelRatio),this._resizeTransmission(i,o),(a=this.transmissionDepthTarget)==null||a.setSize(i*this._pixelRatio/2,o*this._pixelRatio/2),this.pipeline.resize(i,o,l))},this._superDispose=this.dispose,this.dispose=this._currentDispose}createAORenderTarget(){this.aoRenderTarget===void 0&&(this.aoRenderTarget=new Cr(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:Kt,magFilter:Kt,wrapS:jn,wrapT:jn,depthBuffer:!1}))}_resizeTransmission(e,t){var r,n;(r=this.transmissionRenderTarget)==null||r.setSize(e*this._pixelRatio/(this.hdTransmission?1:2),t*this._pixelRatio/(this.hdTransmission?1:2)),(n=this.aoRenderTarget)==null||n.setSize(e*this._pixelRatio/1,t*this._pixelRatio/1)}get hdTransmission(){return St.transmissionLod.value===1}set hdTransmission(e){St.transmissionLod.value=e===!0?1:2,this._resizeTransmission(this.viewportWidth,this.viewportHeight)}createTransmissionRenderTarget(){this.transmissionRenderTarget===void 0&&(this.transmissionRenderTarget=new Cr(this.viewportWidth*this._pixelRatio/(this.hdTransmission?1:2),this.viewportHeight*this._pixelRatio/(this.hdTransmission?1:2),{generateMipmaps:!0,minFilter:mg,magFilter:Kt,wrapS:jn,wrapT:jn,depthBuffer:!1}),this.transmissionDepthTarget=new Cr(this.viewportWidth*this._pixelRatio/2,this.viewportHeight*this._pixelRatio/2,{minFilter:Nr,magFilter:Nr,depthBuffer:!1}))}createNormalRenderTarget(){this.normalRenderTarget===void 0&&(this.normalRenderTarget=new Cr(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:Nr,magFilter:Nr,type:go,depthTexture:new vg(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio)}))}renderNormal(e,t,r){this.normalRenderTarget&&(this.setClearColor(0),r.layers.enable(8),r.layers.disable(0),r.layers.disable(3),t.traverseEntity(n=>{n.layers.isEnabled(8)&&(n.copyPreviousMatrix=!1)}),this.setRenderTarget(this.normalRenderTarget),this.clear(),r instanceof Ki?gM.uniforms.depthContrast.value=(r.far-r.near)/1e4:gM.uniforms.depthContrast.value=1,t.overrideMaterial=gM,this.render(t,r),this.setClearColor(t.bgColor,t.bgColor.a),this.setRenderTarget(null),t.overrideMaterial=e.wireframeState?g5:null,r.layers.enable(0),r.layers.enable(3),t.traverseEntity(n=>{n.layers.isEnabled(8)&&(n.copyPreviousMatrix=!0)}))}renderSplineSceneWithDummyCamera(e,t,r=1){this.dummyCamera.updateCameraState(t.dataPatched),this.dummyCamera.matrix.copy(t.matrixWorld);let n=t.height,i=t.width,o=this.viewportWidth/this.viewportHeight;i<n?i=n*o:n=i/o,this.dummyCamera.setViewplaneSize(i,n);for(let l=0;l<r;l++)this.renderSplineScene(e,this.dummyCamera)}renderSplineScene(e,t,{sceneHelpers:r=void 0,sceneHelpersOnTop:n=void 0,overrideTransmission:i=void 0,overrideNormal:o=void 0}={}){let l=e instanceof R6?e.activePage:e,c=l.visible;l.visible=!0;let a=l.scene;this.xr.enabled&&(this.isXRCopyPassSet===!1&&this.getRenderTarget()!==null&&(this.pipeline.setCopyPass(this.getRenderTarget()),this.isXRCopyPassSet=!0),this.xr.updateCamera(t)),this.setClearColor(l.bgColor,l.bgColor.a),l.penumbraSizeArray.forEach((h,f)=>{St.penumbraSize.value[f]=h}),St.pixelRatioNode.value=this.getPixelRatio(),this.resolution.x!==0&&this.resolution.y!==0?St.resolution.value.set(this.resolution.x,this.resolution.y):St.resolution.value.set(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio),o!==void 0?(St.normalRenderTarget.value=o,St.normalRenderTargetDepth.value=j7):a.needsNormal()&&(this.createNormalRenderTarget(),St.normalRenderTarget.value=this.normalRenderTarget.texture,St.normalRenderTargetDepth.value=this.normalRenderTarget.depthTexture,this.renderNormal(a,l,t));let s=l.data.ao,u=s.occlusion;u&&(this.createAORenderTarget(),St.aoRenderTarget.value=this.aoRenderTarget.texture),St.aoEnabled.value=u,this.pipeline.setAmbientOcclusionParams(s.occlusion,s.radius,s.bias,l.aoColor,l.fog!==null,l.backupFog.near,l.backupFog.far,s.aoFullRes),this.pipeline.aoPass.setBlueNoiseTexture(this.pipeline.blueNoiseTexture);let d=!1;if(i!==void 0)St.transmissionRenderTarget.value=i,St.transmissionRenderTargetDepth.value=j7,this.pipeline.setTransmissionPassEnabled(!1);else{let h=a.needsTransmission();h&&(this.transmissionRenderTarget===void 0&&(d=!0),this.createTransmissionRenderTarget(),St.transmissionRenderTarget.value=this.transmissionRenderTarget.texture,St.aspectRatio.value=IRe(this.viewportWidth,this.viewportHeight),St.transmissionRenderTargetDepth.value=this.transmissionDepthTarget.texture),this.pipeline.setTransmissionPassEnabled(h)}t.layers.enable(3),t.layers.enable(8),this.pipeline.sceneHelpers=r,this.pipeline.sceneHelpersOnTop=n,this.pipeline.scene=l,this.pipeline.camera=t,d&&this.pipeline.transmissionPass.updatePasses(this),this.pipeline.postprocessingState!==l.postprocessing&&(this.pipeline.updatePostprocessing(l.postprocessing),!r&&!n&&this.pipeline.disableHelpers()),this.clearAlphaOverride!==void 0&&this.setClearAlpha(this.clearAlphaOverride),l.overrideMaterial=a.wireframeState?g5:null,this.pipeline.render(),St.frameIndex.value=(St.frameIndex.value+1)%16,t instanceof Ki&&t.copyHistory(),l.visible=c}renderFromSceneForSceneTransitionPass(e,t,r){this.pipeline.renderToScreen=!1,this.pipeline.renderTarget,this.renderSplineScene(e,t),this.pipeline.sceneTransitionFromTexture=this.pipeline.renderTarget.texture,this.sceneTransitionDuration=r,this.sceneTransitionTimeRemaining=r,this.pipeline.renderToScreen=!0;let n=this.pipeline.sceneTransitionPass.uniforms;n.uDPR.value=window.devicePixelRatio,n.uResolution.value.set(this.domElement.width,this.domElement.height).divideScalar(window.devicePixelRatio)}_currentDispose(){var e,t,r,n,i,o;this._superDispose(),this.pipeline.dispose(),(e=this.aoRenderTarget)==null||e.dispose(),(t=this.transmissionRenderTarget)==null||t.dispose(),(r=this.transmissionDepthTarget)==null||r.dispose(),(n=this.normalRenderTarget)==null||n.dispose(),(o=(i=this.normalRenderTarget)==null?void 0:i.depthTexture)==null||o.dispose()}},oJ=class extends J1(GAe){constructor(e,t=15,r=10066329){super(e,t,r),this.object=e,this.added=!1,this.name=`DirectionalLightHelper: ${e.uuid}`}raycast(e,t){Z1(this.object,oJ.geometryHelper,e,t)}},aJ=class extends J1(WAe){constructor(e,t=15,r=6710886){super(e,t,r),this.object=e,this.name=`PointLightHelper: ${e.uuid}`}raycast(e,t){Z1(this.object,aJ.geometryHelper,e,t)}},h5=class extends J1(HAe){constructor(e,t=6710886){super(e,t),this.object=e,this.name=`SpotLightHelper: ${e.uuid}`}raycast(e,t){Z1(this.object,h5.geometryHelper,e,t)}update(){if(this.object!==void 0){let e=h5._vector,t=this.object.distance?this.object.distance:1e3,r=t*Math.tan(this.object.angle);this.cone.scale.set(r,r,t),e.setFromMatrixPosition(this.object.target.matrixWorld),this.cone.lookAt(e);let n=this.color!==void 0?this.color:this.light.color;if(this.cone.material instanceof Array)for(let i=0,o=this.cone.material.length;i<o;i++)this.cone.material[i].color.set(n);else this.cone.material.color.set(n)}}},sJ=h5;sJ._vector=new V;function _Ne(e,t){e.shadow.camera.right=t/2,e.shadow.camera.left=-t/2,e.shadow.camera.top=t/2,e.shadow.camera.bottom=-t/2,e.shadow.needsUpdate=!0}var lJ=class extends P6(TAe,oJ){constructor(e,t,r){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=2048,this.shadow.mapSize.height=2048,this.shadow.normalBias=1,this.layers.enable(3);let n=this.shadow.camera;n.top=1250,n.bottom=-1250,n.right=1250,n.left=-1250,n.near=-1e4,n.far=2500;let i=new d2(this.shadow.camera);i.visible=!1,this.gizmos.shadowmap=i}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof d2&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t);let r=e.depth!==void 0&&e.depth!==this.shadow.camera.far||e.size!==void 0&&e.size/2!==this.shadow.camera.right;e.size!==void 0&&_Ne(this,e.size),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null)),e.penumbraSize!==void 0&&t.scene.markPenumbraSizeDirty(),r&&this.update()}},I7=new V,O7=new V,R7=new Rt,cJ=class extends P6(EAe,sJ){constructor(e,t,r){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let n=this.shadow.camera;n.fov=pt.RAD2DEG*2*this.angle,n.aspect=1,n.near=100,n.far=2500;let i=new d2(this.shadow.camera);i.visible=!1,this.gizmos.shadowmap=i,this.update()}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof d2&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),O7.setFromMatrixPosition(this.matrixWorld),R7.setFromRotationMatrix(this.matrixWorld),I7.copy(this.up).applyQuaternion(R7).negate().multiplyScalar(this.distance),this.target.position.copy(O7).add(I7),this.target.updateMatrixWorld(),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),e.distance!==void 0&&(this.distance=e.distance),e.decay!==void 0&&(this.decay=e.decay),e.angle!==void 0&&(this.angle=e.angle),e.penumbra!==void 0&&(this.penumbra=e.penumbra),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.penumbraSize!==void 0&&t.scene.markPenumbraSizeDirty(),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}},Rd=class extends h6(kd){constructor(e,t){super(),this.data=t,this.bgColor=new Yo(1,1,1,1),this.fog=null,this.backupFog=new qX(16777215,.1,2e3),this.fogUseBGColor=!1,this.isActive=!1,this.aoColor=new wt,this.penumbraSizeArrayCache=null,this.super_Entity(e,t),this.personalCamera=new Ki(l0,{...c1.defaultData,...t.camera,name:"Personal Camera"}),this.personalCamera.objectHelper.visible=!1,this.add(this.personalCamera),this.activeCamera=this.personalCamera,this.ambientLight=new _Ae(13882323,8553090,.75),this.ambientLight.name="Default Ambient Light",this.ambientLight.layers.enable(3),this.ambientLight.removeFromParent(),this.add(this.ambientLight)}get scene(){return this.parent}get postprocessing(){return this.data.postprocessing}updateVisible(){}setBackgroundColor(e){this.bgColor=e,this.fogUseBGColor===!0&&(this.backupFog.color=e)}updateAmbientLight(e,t){e.color!==void 0&&(this.ambientLight.color=yo(e.color,t)),e.intensity!==void 0&&(this.ambientLight.intensity=e.intensity),e.enabled!==void 0&&(e.enabled?this.add(this.ambientLight):this.remove(this.ambientLight))}onDeactive(){this.isActive=!1}onActive(e){this.isActive=!0,e.fog=this.fog,this.traverseEntity(t=>{t instanceof Cf&&t.recomputeBoolean()}),this.updateShadow(this.data.shadow)}forceMaterialsUpdate(){this.traverseEntity(e=>{if(e instanceof d0)if(Array.isArray(e.material))for(let t of e.material)t.needsUpdate=!0;else e.material.needsUpdate=!0,e.material.dispose()})}updateShadow(e){e.softShadowQuality!==void 0&&this.isActive&&yNe(e.softShadowQuality)&&this.forceMaterialsUpdate()}updateFog(e,t){if(e.enabled?this.fog=this.backupFog:this.fog=null,this.isActive){let r=this.scene;r.fog=this.fog}this.fogUseBGColor=e.useBackgroundColor,e.useBackgroundColor?this.backupFog.color.set(this.bgColor):this.backupFog.color=yo(e.color,t),this.backupFog.near=e.near,this.backupFog.far=e.far}updateAo(e,t){e.aoColor!==void 0&&(this.aoColor=yo(e.aoColor,t))}updateByOp(e,t,r,n){super.updateByOp(e,t,r,n);let i=t;ns(e.path,["fog"])?this.updateFog(i.fog,r.shared):ns(e.path,["ao"])?this.updateAo(i.ao,r.shared):ns(e.path,["ambient"])?this.updateAmbientLight(i.ambient,r.shared):ns(e.path,["shadow"])&&this.updateShadow(i.shadow)}updateState(e,t){this.updateState_Entity(e,t),e.backgroundColor!==void 0&&this.setBackgroundColor(yo(e.backgroundColor,t.shared)),e.fog!==void 0&&this.updateFog(e.fog,t.shared),e.ambient!==void 0&&this.updateAmbientLight(e.ambient,t.shared),e.ao!==void 0&&this.updateAo(e.ao,t.shared),e.shadow!==void 0&&this.updateShadow(e.shadow)}raycast(e,t){super.raycast(e,t)}switchActiveCamera(e){e&&e.isDescendantOf(this)&&(this.activeCamera!==this.personalCamera&&(this.activeCamera.objectHelper.visible=!0),this.activeCamera=e,e.objectHelper.visible=!1)}get playCamera(){var e;return((e=this.scene)==null?void 0:e.find(this.data.publish.playCamera))??this.personalCamera}switchToPlayCamera(){this.switchActiveCamera(this.playCamera)}get penumbraSizeArray(){return this.penumbraSizeArrayCache===null&&this.updatePenumbraSizeArray(),this.penumbraSizeArrayCache}updatePenumbraSizeArray(){this.penumbraSizeArrayCache=new Array(5).fill(.5);let e=0,t=0;this.traverseEntity(r=>{if(!r.visible)return!0;r instanceof lJ&&r.visible&&e<3&&(this.penumbraSizeArrayCache[e]=r.data.penumbraSize,e+=1),r instanceof cJ&&r.visible&&e<2&&(this.penumbraSizeArrayCache[3+t]=r.data.penumbraSize,t+=1)})}raycastWithClones(e){let t=[],r=n=>{for(let i of n.children){let o=i.cloner;or.is(i)&&(i.visible||o!=null&&o.object.data.visible)&&((Ws(i)||a5(i)&&this.scene.enableHelpers&&i.objectHelper.visible)&&(e.intersectObject(i,!1,t),f5(i,e,t,!0)),r(i))}};return r(this),t}},SNe=class extends P6(CAe,aJ){constructor(e,t,r){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let n=this.shadow.camera;n.fov=90,n.aspect=1,n.near=100,n.far=2500;let i=new V(-n.far+this.position.x,-n.far+this.position.y,-n.far+this.position.z),o=new V(n.far+this.position.x,n.far+this.position.y,n.far+this.position.z),l=new Rn(i,o),c=new h2(l,new wt(16755200));c.visible=!1,this.gizmos.shadowmap=c,this.update()}update(){if(this.shadow&&(this.shadow.camera.updateProjectionMatrix(),this.gizmos))for(let e in this.gizmos){let t=this.gizmos[e];if(t instanceof h2){let r=this.shadow.camera,n=new V(-r.far+this.position.x,-r.far+this.position.y,-r.far+this.position.z),i=new V(r.far+this.position.x,r.far+this.position.y,r.far+this.position.z);t.box.set(n,i),t.updateMatrixWorld(!0)}}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),e.distance!==void 0&&(this.distance=e.distance),e.decay!==void 0&&(this.decay=e.decay),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}},ENe=class extends bo{get forceComputeSize(){return!0}get shape(){return this.geometry.userData.shape}updateEntityBoxSize(e,t){let r=this.geometry.getAttribute("position");r!==void 0?x6(r,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:r.count,e,t):super.updateEntityBoxSize(e,t)}},j6=class extends bo{constructor(e,t,r){super(e,t,r),this._shapeId=null,this._context=r}updateState(e,t){super.updateState(e,t),this.updateShape()}updateShape(){var n;let e={...this.data.geometry.extrusion.shape};for(let i in e)typeof e[i]=="string"&&(e[i]=this._context.shared.getVariable(e[i],[this.uuid,"geometry","extrusion","shape",i]));let t;if(e.type==="Custom"){let i=e.shapeId;if(i!==this._shapeId&&this.detachShape(),i){this._shapeId=i;let o=this._context.scene.find(i);o!=null&&o.data&&(o.attachedPaths.add(this),t=(n=o.geometry.userData)==null?void 0:n.shape),t||this._context.scene.addPendingCommand(()=>this.updateShape())}}else{let i;switch(e.type){case"Rectangle":i=oQ;break;case"Ellipse":i=y6;break;case"Polygon":i=iQ;break;case"Star":i=aQ;break;default:throw new Error(`Unknown shape type: ${e.type}`)}t=i.create({parameters:e}).userData.shape}let r=this.geometry;t&&r.inputs&&(r.inputs.shapeData=t,r.build(),this.attachedSurfaceCloners.forEach(i=>i.update()))}detachShape(){var e;this._shapeId!==null&&((e=this._context.scene.find(this._shapeId))==null||e.attachedPaths.delete(this))}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.updateShape(),this.refreshAttachedPaths(e)}updateTransformState(e,t){return super.updateTransformState(e,t)}updateGeometryInteractions(e,t){super.updateGeometryInteractions(e,t),this.updateShape()}updateEntityBoxSize(e,t){let r=this.geometry.getAttribute("position");r!==void 0?x6(r,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:r.count,e,t):super.updateEntityBoxSize(e,t)}},qm=class extends eb(mm,JE){constructor(e,t,r){super(),t.type==="Instance"&&typeof e=="string"&&(t=this.transformAssignData(t,r)),this.super_Entity(e,t),this.objectHelper.update()}get isComponentRoot(){return this.data.type==="Component"&&typeof this.identity=="string"}get isInstanceRoot(){return this.data.type==="Instance"&&typeof this.identity=="string"}transformAssignData(e,t){let r=L2.getComponentData({scene:t.scene.data,shared:t.shared.data},e.component);if(r){let n,i;for(let o of pd.rootOverrideProps)e[o]===void 0?(n===void 0&&(n={...e}),n[o]=r.data[o]):(i===void 0&&(i={}),i[o]=e[o],n===void 0&&(n={...e}),n[o]=Dd.apply(r.data[o],e[o]));return this.overrideData=i,n}else return{...wo.defaultData,...e,...iu(wo.defaultData,pd.rootOverrideProps)}}updateByOp(e,t,r,n){let i;if(this.isInstanceRoot&&!n){if(t=this.transformAssignData(t,r),e.type===0&&e.path.length===0&&this.component)for(let o of pd.rootOverrideProps)o in e.props&&e.props[o]===void 0&&(i===void 0&&(i={...e,props:{...e.props}}),i.props[o]=this.component.data[o]);else if(e.type===0&&e.path.length>0&&pd.rootOverrideProps.includes(e.path[0])){let o=e.path[0];i===void 0&&(i={...e,path:[],props:{[o]:t[o]}})}}super.updateByOp(i??e,t,r,n)}updateState(e,t){this.updateState_Entity(e,t)}expandInstanceChildren(e){let t=this.data;if(this.component===void 0){let r=e.scene.find(t.component)??null,n=!1;if(r!==this.oldComponent){if(this.oldComponent){let i=0;for(let o of this.children)if(or.is(o))e.scene.disposeAndUnregisterEntityRecursivelyIfNotReregistered(o),I6(o),i+=1;else break;this.children.splice(0,i)}n=!0}if(r){let i={};uJ(e,[this.uuid],t.overrides,this,r,r,0,n,i);for(let o of this.children)if(or.is(o)){let l=o.data;l.type==="Empty"&&l.animations&&o.traverseEntity(c=>{if(c instanceof bo&&c.isSkinnedMesh){let a=c.dataPatched;if(a.bones&&a.boneInverses){let s=a.bones.map(h=>e.scene.find(i[h])),u=a.boneInverses.map(h=>new Ne().fromArray(h)),d=new Cj(s,u);c.bind(d,c.bindMatrix)}}else c.matrixAutoUpdate=!0})}}this.oldComponent=this.component}}};function I6(e){if(e.component){let t=e.component.instances.indexOf(e);t>=0&&e.component.instances.splice(t,1);for(let r of e.children)or.is(r)&&I6(r)}}function L7(e,t,r,n){return e.component===t&&K$(e.identity,n)?e.overrideData===r?2:1:0}function uJ(e,t,r,n,i,o,l,c,a){if(l>50)return!1;if(n.component!==i){if(n.component){let u=n.component.instances.indexOf(n);u>=0&&n.component.instances.splice(u,1)}i.instances.push(n),n.component=i}i instanceof qm&&i.isInstanceRoot&&i.expandInstanceChildren(e);let s=0;for(let u of i.children)if(or.is(u)){let d=[...t,...typeof u.identity=="string"?[u.identity]:u.identity],h=D2.resolve(r,d,1);h!=null&&!(h instanceof ci)&&(Object.setPrototypeOf(h,ci.prototype),console.error("wrong prototype"));let f=null,m;if(!c){let p=n.children[s];if(f=or.is(p)?p:null,f!==null){let g=L7(f,u,h,d);m=g>=1?f.stateSelection:void 0,g!==2&&(f=null)}if(f===null&&(f=e.scene.findInstance(d)??null,f!==null)){let g=L7(f,u,h,d);if(m=g>=1?f.stateSelection:void 0,g!==2)f=null;else{let v=f.parent.children.indexOf(f);f.parent.children.splice(v,1),n.children.splice(s,0,f),f.parent===n?v<=s&&console.error("not possible"):(f.parent=n,f.matrixWorldNeedsUpdate=!0,f.resetBBoxNeedsUpdate(),f.updateVisible(),e.pendingDeletes.delete(f))}}}if(f===null){let p=h?Dd.apply(u.data,h):u.data;Ef.is(p.type)&&(p={...p,type:"Empty"}),f=md.createEntity(d,p,e),f.overrideData=h,n.add(f),n.children.splice(n.children.length-1,1),n.children.splice(s,0,f),f.updateState(f.data,e),m&&f.changeSelectedState(m,e),e.scene.registerInstanceAndSetUuid(f)}if(f.isBone){let p=f.identity[f.identity.length-1];a[p]=f.uuid}s+=1,uJ(e,t,r,f,u,o,l+1,c,a)}if(!c){let u=s;for(;;){let d=n.children[s];if(or.is(d))e.pendingDeletes.add(d);else break;s+=1}n.children.splice(u,s-u)}return!0}var ANe=class extends eb(YX,JE){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update(),this.matrixAutoUpdate=!0}updateState(e,t){this.updateState_Entity(e,t)}};function CNe(e,t,r){let n;return t.geometry.type==="TextGeometry"?new QQ(e,t,r):(t.geometry.type==="SubdivGeometry"?n=new m1(e,t,r):t.geometry.type==="PathGeometry"?n=new j6(e,t,r):t.geometry.type==="VectorGeometry"?n=new ENe(e,t,r):t.geometry.type==="BooleanGeometry"?n=new Cf(e,t,r):n=new bo(e,t,r),n)}function O6(e,t,r){return t.type==="Mesh"?CNe(e,t,r):t.type==="Empty"?new Gm(e,t):t.type==="Splat"?new Gm(e,t):t.type==="Bone"?new ANe(e,t):t.type==="Page"?new Rd(e,t):t.type==="PointLight"?new SNe(e,t,r):t.type==="SpotLight"?new cJ(e,t,r):t.type==="DirectionalLight"?new lJ(e,t,r):t.type==="Component"||t.type==="Instance"?new qm(e,t,r):Ef.is(t.type)?new Ki(e,t):(console.error(t),new Gm(e,t))}md.createEntity=O6;function MNe(e,t,r){let n=O6(e.identity,t,r),i=e.children,o=e.attachedPaths,l=e.parent,c=e.component,a=e.instances,s=e.overrideData,u=e.uuid,d=e.stateSelection;e.dispose();for(let h of Object.keys(e))delete e[h];Object.setPrototypeOf(e,Object.getPrototypeOf(n));for(let h of Object.keys(n))e[h]=n[h];e.children=[...e.children,...i],e.attachedPaths=o,e.parent=l,e.component=c,e.instances=a,e.uuid=u,e.overrideData=s,e.updateState(e.data,r),d&&e.changeSelectedState(d,r),e.resetBBoxNeedsUpdate()}md.changeEntityProptotype=MNe;md.Cloner=$s;function TNe(e,t,r,n){e.updateByOp(t,r,n,!1)}function z7(e,t){let r=!1,n=t.getLayersOfType("transmission"),i=t.getLayersOfType("outline");return i.length>0&&(e.layers.set(8),n.length>0&&e.layers.enable(3),r=!0,T6(e),M6(e)),n.length===0&&i.length===0&&e.layers.set(0),e instanceof d0&&e.needsAO&&e.layers.enable(5),r}function N7(e,t){if(!t.layers)return!1;let r=!1,n=t.getLayersOfType("transmission").filter(o=>o.data.visible),i=t.getLayersOfType("outline").filter(o=>o.data.visible);return n.length>0&&(e.layers.set(3),i.length>0&&e.layers.enable(8),r=!0),n.length===0&&i.length===0&&e.layers.set(0),e.needsAO&&e.layers.enable(5),r}function PNe(e){let t=!1;return e.traverseEntity(r=>{if(r instanceof d0)if(Array.isArray(r.material))for(let n=0;n<r.material.length;n++)z7(r,r.material[n])&&(t=!0);else z7(r,r.material)&&(t=!0)}),t}function kNe(e){let t=!1;return e.traverseEntity(r=>{if(r instanceof d0)if(Array.isArray(r.material))for(let n=0;n<r.material.length;n++)N7(r,r.material[n])&&(t=!0);else N7(r,r.material)&&(t=!0)}),t}var DNe=new f$,jNe=new Ne,INe=new Kg;function f5(e,t,r,n=!1){let i=e.cloner;if(i)for(let o of i.children){let l=jNe.copy(o.matrixWorld).invert(),c=INe.copy(t.ray).applyMatrix4(l),a=e.matrixWorld;c.applyMatrix4(a);let s=DNe;s.set(c.origin,c.direction),s.near=t.near,s.far=t.far;let u=s.intersectObject(e,!1);u.length>0&&r.push({...u[0],object:n?o:e})}}var ONe=class{constructor(){this._constraints=new Map}setConstraint(e,t){t===null?this._constraints.delete(e):this._constraints.set(e,t)}removeDependencies(e){this._constraints.delete(e)}applyConstraints(e){let t=new Set;this._constraints.forEach((r,n)=>{let i=[n,r],o=r;for(;this._constraints.has(o);)o=this._constraints.get(o),t.has(o)||i.push(o);for(let l=i.length-2;l>=0;l--)if(!t.has(i[l])){let c=e.find(i[l]);c?c.applyPathSnapping(e):console.warn(`missing entity ${i[l]}`),t.add(i[l])}})}findDependency(e,t){let r=e;for(;this._constraints.has(r);)if(r=this._constraints.get(r),r===t)return!0;return!1}},yl=Ai(V1()),_c=Ai(H1()),Tn=Ai(V1()),Xt=Ai(H1()),W2=class{constructor(e,t,r){this._dataNormalized=e,this._minD=t,this._maxD=r}static createFromUnnormalized(e){let t=Xt.sup(e),r=Xt.inf(e),n=(0,Tn.default)(new Float32Array(e.size),e.shape),i=t-r;return i<1e-4?Xt.assigns(n,0):(Xt.subs(n,e,r),Xt.divs(n,n,i)),new W2(n,r,t)}get data(){return this._dataNormalized}get minD(){return this._minD}get maxD(){return this._maxD}denormalize(){let e=(0,Tn.default)(new Float32Array(this._dataNormalized.size),this._dataNormalized.shape);return Xt.muls(e,this._dataNormalized,this._maxD-this._minD),Xt.adds(e,e,this._minD),e}},rn=class{constructor(e,t){this._quantized=e,this._method=t}get quantized(){return this._quantized}static maxIntBits(e){return 2**e-1}static fromNormalized(e,t){let r=e.data,n;if(t==="norm8x"){let i=rn.maxIntBits(8),o=(0,Tn.default)(new Float32Array(r.size),r.shape);Xt.muls(o,r,i),Xt.roundeq(o),n=(0,Tn.default)(new Uint8Array(o.data),r.shape)}else if(t==="norm565"){let i=(0,Tn.default)(new Float32Array(r.size),r.shape);Xt.assign(i,r),Xt.mulseq(i.pick(null,0),rn.maxIntBits(5)),Xt.mulseq(i.pick(null,1),rn.maxIntBits(6)),Xt.mulseq(i.pick(null,2),rn.maxIntBits(5)),Xt.roundeq(i);let o=(0,Tn.default)(new Uint16Array(i.data),r.shape),l=(0,Tn.default)(new Uint16Array(r.shape[0]),[r.shape[0]]),c=(0,Tn.default)(new Uint16Array(r.shape[0]),[r.shape[0]]);Xt.lshifts(l,o.pick(null,0),11),Xt.lshifts(c,o.pick(null,1),5),Xt.boreq(l,c),Xt.boreq(l,o.pick(null,2)),n=l}else{let i=(0,Tn.default)(new Float32Array(r.size),r.shape);Xt.assign(i,r),Xt.mulseq(i.pick(null,0),rn.maxIntBits(11)),Xt.mulseq(i.pick(null,1),rn.maxIntBits(10)),Xt.mulseq(i.pick(null,2),rn.maxIntBits(11)),Xt.roundeq(i);let o=(0,Tn.default)(new Uint32Array(i.data),r.shape),l=(0,Tn.default)(new Uint32Array(r.shape[0]),[r.shape[0]]),c=(0,Tn.default)(new Uint32Array(r.shape[0]),[r.shape[0]]);Xt.lshifts(l,o.pick(null,0),21),Xt.lshifts(c,o.pick(null,1),11),Xt.boreq(l,c),Xt.boreq(l,o.pick(null,2)),n=l}return new rn(n,t)}dequantize(e,t){let r=this._method,n,i=this._quantized;if(r==="norm8x"){let o=rn.maxIntBits(8);n=(0,Tn.default)(new Float32Array(i.size),i.shape),Xt.muls(n,i,1/o)}else if(r==="norm565"){let o=(0,Tn.default)(new Uint8Array(i.shape[0]),[i.shape[0]]),l=(0,Tn.default)(new Uint8Array(i.shape[0]),[i.shape[0]]),c=(0,Tn.default)(new Uint8Array(i.shape[0]),[i.shape[0]]);Xt.rrshifts(o,i,11),Xt.rrshifts(l,i,5),Xt.bandseq(l,rn.maxIntBits(6)),Xt.bands(c,i,rn.maxIntBits(5)),n=(0,Tn.default)(new Float32Array(i.shape[0]*3),[i.shape[0],3]),Xt.muls(n.pick(null,0),o,1/rn.maxIntBits(5)),Xt.muls(n.pick(null,1),l,1/rn.maxIntBits(6)),Xt.muls(n.pick(null,2),c,1/rn.maxIntBits(5))}else{let o=(0,Tn.default)(new Uint16Array(i.shape[0]),[i.shape[0]]),l=(0,Tn.default)(new Uint16Array(i.shape[0]),[i.shape[0]]),c=(0,Tn.default)(new Uint16Array(i.shape[0]),[i.shape[0]]);Xt.rrshifts(o,i,21),Xt.rrshifts(l,i,11),Xt.bandseq(l,rn.maxIntBits(10)),Xt.bands(c,i,rn.maxIntBits(11)),n=(0,Tn.default)(new Float32Array(i.shape[0]*3),[i.shape[0],3]),Xt.muls(n.pick(null,0),o,1/rn.maxIntBits(11)),Xt.muls(n.pick(null,1),l,1/rn.maxIntBits(10)),Xt.muls(n.pick(null,2),c,1/rn.maxIntBits(11))}return new W2(n,e,t)}},gn=class{constructor(e,t,r,n,i,o=!1){this._quantized=e,this._minMaxMatrix=t,this._chunkSize=r,this._quantizationMethod=n,this._variableChunkSize=i,this._isDynamicChunks=o}get length(){return this._quantized.shape[0]}get nchunks(){return this._minMaxMatrix.shape[0]}get quantized(){return this._quantized}get method(){return this._quantizationMethod}get minmaxMatrix(){return this._minMaxMatrix}_createPrunedMinMax(e){let t=e.length,r=this.minmaxMatrix.shape[0]-t,n=(0,yl.default)(new Float32Array(r*2),[r,2]),i=0,o=r,l=0,c=this.minmaxMatrix.shape[0];for(let a=0;a<e.length;a++)c=e[a],o=c-l+i,o>i&&_c.assign(n.hi(o,2).lo(i,0),this.minmaxMatrix.hi(c,2).lo(l,0)),i=o,l=c+1;return i<r&&_c.assign(n.lo(i,0),this.minmaxMatrix.lo(l,0)),n}_createPrunedQuantized(e){let t=e.length,r=this.quantized.shape[0]-t,n=this._quantizationMethod,i,o;if(n==="norm8x"){o=this._quantized.shape[1];let u=o?r*o:r;i=(0,yl.default)(new Uint8Array(u),o?[r,o]:[r,1])}else n==="norm565"?i=(0,yl.default)(new Uint16Array(r),[r]):i=(0,yl.default)(new Uint32Array(r),[r]);let l=0,c=r,a=0,s=i.shape[0];for(let u=0;u<e.length;u++)s=e[u],c=s-a+l,c>l&&(o?_c.assign(i.hi(c,o).lo(l,0),this._quantized.hi(s,o).lo(a,0)):_c.assign(i.hi(c).lo(l),this._quantized.hi(s).lo(a))),l=c,a=s+1;return l<r&&(o?_c.assign(i.lo(l,0),this._quantized.lo(a,0)):_c.assign(i.lo(l),this._quantized.lo(a))),i}pruneFeature(e,t,r){let n=this._createPrunedQuantized(e),i=this._createPrunedMinMax(t);return new gn(n,i,this._chunkSize,this._quantizationMethod,r,!0)}static getRequiredNChunks(e,t){return Math.floor(e/t)}static fromArray(e,t,r){let n=e.shape[0],i=Math.floor(n/r),o=(0,yl.default)(new Float32Array(i*2),[i,2],[2,1]),l;t==="norm8x"?l=(0,yl.default)(new Uint8Array(e.size),e.shape):t==="norm565"?l=(0,yl.default)(new Uint16Array(e.shape[0]),[e.shape[0]]):l=(0,yl.default)(new Uint32Array(e.shape[0]),[e.shape[0]]);for(let c=0;c<i;c++){let a=c*r,s=c+1<i?(c+1)*r:n,u;e.shape.length>1?u=W2.createFromUnnormalized(e.hi(s,e.shape[1]).lo(a,0)):u=W2.createFromUnnormalized(e.hi(s).lo(a)),o.set(c,0,u.minD),o.set(c,1,u.maxD),l.shape.length>1?_c.assign(l.hi(s,l.shape[1]).lo(a,0),rn.fromNormalized(u,t).quantized):_c.assign(l.hi(s).lo(a),rn.fromNormalized(u,t).quantized)}return new gn(l,o,r,t)}denormDequant(){let e=this._minMaxMatrix.shape[0],t=this._quantized,r=t.shape[0],n=this._quantizationMethod,i=this._chunkSize,o;if(this._isDynamicChunks){if(!this._variableChunkSize)throw new Error("variable chunk must exists if chunkSize isDynamic");o=this._variableChunkSize}let l;n==="norm8x"?l=(0,yl.default)(new Float32Array(t.size),t.shape):l=(0,yl.default)(new Float32Array(r*3),[r,3]);let c=0,a=i;for(let s=0;s<e;s++){let[u,d]=[this._minMaxMatrix.get(s,0),this._minMaxMatrix.get(s,1)];this._isDynamicChunks&&(a=o[s]);let h=s+1<e?c+a:r,f;t.shape.length>1?f=new rn(t.hi(h,t.shape[1]).lo(c,0),n):f=new rn(t.hi(h).lo(c),n),_c.assign(l.hi(h,l.shape[1]).lo(c,0),f.dequantize(u,d).denormalize()),c=h}return l}static async fetchArrayBuffer(e){return await(await fetch(e,{mode:"cors"})).arrayBuffer()}},Uu=Ai(V1()),lr=Ai(H1()),RNe="http://127.0.0.1:8000",Ym=Ai(V1()),Wn=Ai(H1()),B7=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function F7(e){return e<1e5?e<100?e<10?0:1:e<1e4?e<1e3?2:3:4:e<1e7?e<1e6?5:6:e<1e9?e<1e8?7:8:9}function U7(e,t){if(e===t)return 0;if(~~e===e&&~~t===t){if(e===0||t===0)return e<t?-1:1;if(e<0||t<0){if(t>=0)return-1;if(e>=0)return 1;e=-e,t=-t}let i=F7(e),o=F7(t),l=0;return i<o?(e*=B7[o-i-1],t/=10,l=-1):i>o&&(t*=B7[i-o-1],e/=10,l=1),e===t?l:e<t?-1:1}let r=String(e),n=String(t);return r===n?0:r<n?-1:1}function LNe(e){let t=0;for(;e>=32;)t|=e&1,e>>=1;return e+t}function V7(e,t,r,n){let i=t+1;if(i===r)return 1;if(n(e[i++],e[t])<0){for(;i<r&&n(e[i],e[i-1])<0;)i++;zNe(e,t,i)}else for(;i<r&&n(e[i],e[i-1])>=0;)i++;return i-t}function zNe(e,t,r){for(r--;t<r;){let n=e[t];e[t++]=e[r],e[r--]=n}}function H7(e,t,r,n,i){for(n===t&&n++;n<r;n++){let o=e[n],l=t,c=n;for(;l<c;){let s=l+c>>>1;i(o,e[s])<0?c=s:l=s+1}let a=n-l;switch(a){case 3:e[l+3]=e[l+2];case 2:e[l+2]=e[l+1];case 1:e[l+1]=e[l];break;default:for(;a>0;)e[l+a]=e[l+a-1],a--}e[l]=o}}function vM(e,t,r,n,i,o){let l=0,c=0,a=1;if(o(e,t[r+i])>0){for(c=n-i;a<c&&o(e,t[r+i+a])>0;)l=a,a=(a<<1)+1,a<=0&&(a=c);a>c&&(a=c),l+=i,a+=i}else{for(c=i+1;a<c&&o(e,t[r+i-a])<=0;)l=a,a=(a<<1)+1,a<=0&&(a=c);a>c&&(a=c);let s=l;l=i-a,a=i-s}for(l++;l<a;){let s=l+(a-l>>>1);o(e,t[r+s])>0?l=s+1:a=s}return a}function yM(e,t,r,n,i,o){let l=0,c=0,a=1;if(o(e,t[r+i])<0){for(c=i+1;a<c&&o(e,t[r+i-a])<0;)l=a,a=(a<<1)+1,a<=0&&(a=c);a>c&&(a=c);let s=l;l=i-a,a=i-s}else{for(c=n-i;a<c&&o(e,t[r+i+a])>=0;)l=a,a=(a<<1)+1,a<=0&&(a=c);a>c&&(a=c),l+=i,a+=i}for(l++;l<a;){let s=l+(a-l>>>1);o(e,t[r+s])<0?a=s:l=s+1}return a}var NNe=class{constructor(e,t){lo(this,"array",null),lo(this,"compare",null),lo(this,"minGallop",7),lo(this,"length",0),lo(this,"tmpStorageLength",256),lo(this,"stackLength",0),lo(this,"runStart",null),lo(this,"runLength",null),lo(this,"stackSize",0),this.array=e,this.compare=t,this.length=e.length,this.length<2*256&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}pushRun(e,t){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=t,this.stackSize+=1}mergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}}forceMergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}}mergeAt(e){let t=this.compare,r=this.array,n=this.runStart[e],i=this.runLength[e],o=this.runStart[e+1],l=this.runLength[e+1];this.runLength[e]=i+l,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;let c=yM(r[o],r,n,i,0,t);n+=c,i-=c,i!==0&&(l=vM(r[n+i-1],r,o,l,l-1,t),l!==0&&(i<=l?this.mergeLow(n,i,o,l):this.mergeHigh(n,i,o,l)))}mergeLow(e,t,r,n){let i=this.compare,o=this.array,l=this.tmp,c=0;for(c=0;c<t;c++)l[c]=o[e+c];let a=0,s=r,u=e;if(o[u++]=o[s++],--n===0){for(c=0;c<t;c++)o[u+c]=l[a+c];return}if(t===1){for(c=0;c<n;c++)o[u+c]=o[s+c];o[u+n]=l[a];return}let d=this.minGallop;for(;;){let h=0,f=0,m=!1;do if(i(o[s],l[a])<0){if(o[u++]=o[s++],f++,h=0,--n===0){m=!0;break}}else if(o[u++]=l[a++],h++,f=0,--t===1){m=!0;break}while((h|f)<d);if(m)break;do{if(h=yM(o[s],l,a,t,0,i),h!==0){for(c=0;c<h;c++)o[u+c]=l[a+c];if(u+=h,a+=h,t-=h,t<=1){m=!0;break}}if(o[u++]=o[s++],--n===0){m=!0;break}if(f=vM(l[a],o,s,n,0,i),f!==0){for(c=0;c<f;c++)o[u+c]=o[s+c];if(u+=f,s+=f,n-=f,n===0){m=!0;break}}if(o[u++]=l[a++],--t===1){m=!0;break}d--}while(h>=7||f>=7);if(m)break;d<0&&(d=0),d+=2}if(this.minGallop=d,d<1&&(this.minGallop=1),t===1){for(c=0;c<n;c++)o[u+c]=o[s+c];o[u+n]=l[a]}else{if(t===0)throw new Error("mergeLow preconditions were not respected");for(c=0;c<t;c++)o[u+c]=l[a+c]}}mergeHigh(e,t,r,n){let i=this.compare,o=this.array,l=this.tmp,c=0;for(c=0;c<n;c++)l[c]=o[r+c];let a=e+t-1,s=n-1,u=r+n-1,d=0,h=0;if(o[u--]=o[a--],--t===0){for(d=u-(n-1),c=0;c<n;c++)o[d+c]=l[c];return}if(n===1){for(u-=t,a-=t,h=u+1,d=a+1,c=t-1;c>=0;c--)o[h+c]=o[d+c];o[u]=l[s];return}let f=this.minGallop;for(;;){let m=0,p=0,g=!1;do if(i(l[s],o[a])<0){if(o[u--]=o[a--],m++,p=0,--t===0){g=!0;break}}else if(o[u--]=l[s--],p++,m=0,--n===1){g=!0;break}while((m|p)<f);if(g)break;do{if(m=t-yM(l[s],o,e,t,t-1,i),m!==0){for(u-=m,a-=m,t-=m,h=u+1,d=a+1,c=m-1;c>=0;c--)o[h+c]=o[d+c];if(t===0){g=!0;break}}if(o[u--]=l[s--],--n===1){g=!0;break}if(p=n-vM(o[a],l,0,n,n-1,i),p!==0){for(u-=p,s-=p,n-=p,h=u+1,d=s+1,c=0;c<p;c++)o[h+c]=l[d+c];if(n<=1){g=!0;break}}if(o[u--]=o[a--],--t===0){g=!0;break}f--}while(m>=7||p>=7);if(g)break;f<0&&(f=0),f+=2}if(this.minGallop=f,f<1&&(this.minGallop=1),n===1){for(u-=t,a-=t,h=u+1,d=a+1,c=t-1;c>=0;c--)o[h+c]=o[d+c];o[u]=l[s]}else{if(n===0)throw new Error("mergeHigh preconditions were not respected");for(d=u-(n-1),c=0;c<n;c++)o[d+c]=l[c]}}};function BNe(e,t,r,n){if(!Array.isArray(e))throw new TypeError("Can only sort arrays");t?typeof t!="function"&&(n=r,r=t,t=U7):t=U7,r||(r=0),n||(n=e.length);let i=n-r;if(i<2)return;let o=0;if(i<32){o=V7(e,r,n,t),H7(e,r,n,r+o,t);return}let l=new NNe(e,t),c=LNe(i);do{if(o=V7(e,r,n,t),o<c){let a=i;a>c&&(a=c),H7(e,r,r+a,r+o,t),o=a}l.pushRun(r,o),l.mergeRuns(),i-=o,r+=o}while(i!==0);l.forceMergeRuns()}function bM(e){let t=(0,Ym.default)(new Int32Array(e.shape[0]),[e.shape[0]]),r=(0,Ym.default)(new Int32Array(e.shape[0]),[e.shape[0]]);return Wn.bands(t,e,1023),Wn.lshifts(r,t,16),Wn.bxoreq(t,r),Wn.bandseq(t,4278190335),Wn.lshifts(r,t,8),Wn.bxoreq(t,r),Wn.bandseq(t,50393103),Wn.lshifts(r,t,4),Wn.bxoreq(t,r),Wn.bandseq(t,51130563),Wn.lshifts(r,t,2),Wn.bxoreq(t,r),Wn.bandseq(t,153391689),t}function FNe(e){let t=bM(e.pick(null,0)),r=bM(e.pick(null,1));Wn.lshiftseq(r,1);let n=bM(e.pick(null,2));return Wn.lshiftseq(n,2),Wn.boreq(t,r),Wn.boreq(t,n),t}function Sp(e,t){if(e.shape[0]!==t.shape[0])throw new Error("wrong length");let r=(0,Ym.default)(new Float32Array(e.size),e.shape,e.stride,e.offset);for(let n=0;n<t.shape[0];n++){let i=t.get(n);if(e.shape.length>1)for(let o=0;o<e.shape[1];o++)r.set(n,o,e.get(i,o));else r.set(n,e.get(i))}return r}function UNe(e){let t=Wn.sup(e),r=Wn.inf(e),n=1e3/Math.min(1e3,t-r),i=(0,Ym.default)(new Float32Array(e.data),e.shape);Wn.mulseq(i,n);let o=(0,Ym.default)(new Int32Array(i.data),e.shape),l=FNe(o),c=Array.from(l.data).map((s,u)=>[s,u]);BNe(c,(s,u)=>s[0]-u[0]);let a=c.map(([s,u])=>u);return(0,Ym.default)(Uint32Array.from(a))}var Sh=class{constructor(e,t,r,n,i,o,l,c,a,s){this.propertyDescs=e,this.format=t,this.nsplats=r,this.xyz=n,this.colors=i,this.harmonics=o,this.opacity=l,this.scaling=c,this.rotation=a,this.maxSHDegree=s}getPlyBinary(){let e=Sh._generateHeaderString(this.propertyDescs,this.format,this.nsplats),t=new TextEncoder().encode(e),r=Object.keys(this.propertyDescs).length,n=(0,Uu.default)(new Float32Array(this.nsplats*r),[this.nsplats,r]);if(lr.assign(n.pick(null,this.propertyDescs.x.index),this.xyz.pick(null,0)),lr.assign(n.pick(null,this.propertyDescs.y.index),this.xyz.pick(null,1)),lr.assign(n.pick(null,this.propertyDescs.z.index),this.xyz.pick(null,2)),lr.assign(n.pick(null,this.propertyDescs.f_dc_0.index),this.colors.pick(null,0)),lr.assign(n.pick(null,this.propertyDescs.f_dc_1.index),this.colors.pick(null,1)),lr.assign(n.pick(null,this.propertyDescs.f_dc_2.index),this.colors.pick(null,2)),lr.assign(n.pick(null,this.propertyDescs.opacity.index),this.opacity.pick(null,0)),lr.assign(n.pick(null,this.propertyDescs.scale_0.index),this.scaling.pick(null,0)),lr.assign(n.pick(null,this.propertyDescs.scale_1.index),this.scaling.pick(null,1)),lr.assign(n.pick(null,this.propertyDescs.scale_2.index),this.scaling.pick(null,2)),lr.assign(n.pick(null,this.propertyDescs.rot_0.index),this.rotation.pick(null,0)),lr.assign(n.pick(null,this.propertyDescs.rot_1.index),this.rotation.pick(null,1)),lr.assign(n.pick(null,this.propertyDescs.rot_2.index),this.rotation.pick(null,2)),lr.assign(n.pick(null,this.propertyDescs.rot_3.index),this.rotation.pick(null,3)),this.harmonics&&this.harmonics.length>0)for(let l=0;l<this.harmonics.length;l++){let c=l*3;lr.assign(n.pick(null,this.propertyDescs[`f_rest_${c}`].index),this.harmonics[l].pick(null,0)),lr.assign(n.pick(null,this.propertyDescs[`f_rest_${c+1}`].index),this.harmonics[l].pick(null,1)),lr.assign(n.pick(null,this.propertyDescs[`f_rest_${c+2}`].index),this.harmonics[l].pick(null,2))}let i=new Uint8Array(n.data.buffer),o=new Uint8Array(i.length+t.length);return o.set(t),o.set(i,t.length),o.buffer}save(e,t){let r=this.getPlyBinary(),n=new Blob([r],{type:"application/octet-stream"}),i=new File([n],e),o=new FormData;o.append("file",i),o.append("filename",e),o.append("basedir",t),fetch(`${RNe}/push_file`,{method:"POST",body:o})}static async loadFile(e){return await(await fetch(e)).arrayBuffer()}mortonPositionSplatsSort(){let e=UNe(this.xyz),t=Sp(this.xyz,e),r=Sp(this.colors,e),n=Sp(this.opacity,e),i=Sp(this.scaling,e),o=Sp(this.rotation,e),l=[];for(let c=0;c<this.harmonics.length;c++)l.push(Sp(this.harmonics[c],e));return new Sh(this.propertyDescs,this.format,this.nsplats,t,r,l,n,i,o,this.maxSHDegree)}static _generateHeaderString(e,t,r){let n=`ply
format ${t.format} ${t.version}
element vertex ${r}`,i=Object.keys(e).length,o=Array(i);for(let l in e){let c=e[l];o[c.index]={name:l,dtype:c.dtype}}for(let l=0;l<o.length;l++)n=`${n}
property ${o[l].dtype} ${o[l].name}`;return`${n}
end_header
`}static fromArrayBuffer(e,t=3){let{splatCount:r,vertexData:n,propertiesDesc:i,format:o}=Sh.decodeHeader(e),l=n.buffer.slice(n.byteOffset),c=Object.keys(i).length,a=(0,Uu.default)(new Float32Array(l),[r,c]),s=0,u={},d={double:8,int:4,uint:4,float:4,short:2,ushort:2,uchar:1};for(let y in i)if(i.hasOwnProperty(y)){let b=i[y].dtype;u[y]=s,s+=d[b]}let h=(0,Uu.default)(new Float32Array(r*3),[r,3]);lr.assign(h.pick(null,0),a.pick(null,u.x/4)),lr.assign(h.pick(null,1),a.pick(null,u.y/4)),lr.assign(h.pick(null,2),a.pick(null,u.z/4));let f=(0,Uu.default)(new Float32Array(r*3),[r,3]);lr.assign(f.pick(null,0),a.pick(null,u.scale_0/4)),lr.assign(f.pick(null,1),a.pick(null,u.scale_1/4)),lr.assign(f.pick(null,2),a.pick(null,u.scale_2/4));let m=(0,Uu.default)(new Float32Array(r*3),[r,3]);lr.assign(m.pick(null,0),a.pick(null,u.f_dc_0/4)),lr.assign(m.pick(null,1),a.pick(null,u.f_dc_1/4)),lr.assign(m.pick(null,2),a.pick(null,u.f_dc_2/4));let p=(0,Uu.default)(new Float32Array(r*4),[r,4]);lr.assign(p.pick(null,0),a.pick(null,u.rot_1/4)),lr.assign(p.pick(null,1),a.pick(null,u.rot_2/4)),lr.assign(p.pick(null,2),a.pick(null,u.rot_3/4)),lr.assign(p.pick(null,3),a.pick(null,u.rot_0/4));for(let y=0;y<r;y++){let b=p.pick(y,null),w=Math.sqrt(b.get(0)**2+b.get(1)**2+b.get(2)**2+b.get(3)**2);lr.divseq(b,w)}let g=(0,Uu.default)(new Float32Array(r*1),[r,1]);lr.assign(g.pick(null,0),a.pick(null,u.opacity/4));let v=(Math.min(Math.max(t,0),3)+1)**2-1,x=[];for(let y=0;y<v;y++){let b=(0,Uu.default)(new Float32Array(r*3),[r,3]),w=y*3;lr.assign(b.pick(null,0),a.pick(null,u[`f_rest_${w}`]/4)),lr.assign(b.pick(null,1),a.pick(null,u[`f_rest_${w+1}`]/4)),lr.assign(b.pick(null,2),a.pick(null,u[`f_rest_${w+2}`]/4)),x.push(b)}return new Sh(i,o,r,h,m,x,g,f,p,t)}static async fromPLYFile(e,t=3){let r=await Sh.loadFile(e);return Sh.fromArrayBuffer(r,t)}static decodeHeader(e){let t=new TextDecoder,r=0,n="",i=100;for(;;){if(r+i>=e.byteLength)throw new Error("End of file reached while searching for end of header");let h=new Uint8Array(e,r,i);n+=t.decode(h),r+=i;let f=r-i*2,m=new Uint8Array(e,Math.max(0,f),f>0?i*2:i);if(t.decode(m).includes("end_header"))break}let o=n.split(`
`),l=0,c={},a=0,s;for(let h=0;h<o.length;h++){let f=o[h].trim();if(f.startsWith("element vertex")){let m=f.match(/\d+/);m&&(l=parseInt(m[0]))}else if(f.startsWith("property")){let m=f.match(/(\w+)\s+(\w+)\s+(\w+)/);if(m){let p=m[2],g=m[3];c[g]={dtype:p,index:a},a++}}else if(f.startsWith("format")){let m=f.match(/(\w+)\s+(\w+)\s+(\d+\.?\d*)/);m&&(s={format:m[2],version:m[3]})}else if(f==="end_header")break}let u=n.indexOf("end_header")+10+1,d=new DataView(e,u);return{splatCount:l,vertexData:d,headerOffset:r,propertiesDesc:c,format:s}}},p5=class{constructor(e,t,r,n,i,o,l,c){this.config=e,this.xyz=t,this.scaling=r,this.color=n,this.opacity=i,this.harmonics=l,this.quaternion=o,this.variableChunkSize=c}get isDynamicChunks(){return this.variableChunkSize&&this.variableChunkSize.length>0}get nchunks(){return this.xyz.nchunks}get nsplats(){return this.xyz.length}get chunkSize(){return this.config.chunkSize}static compressFromGaussianData(e,t){let r=gn.fromArray(e.xyz,t.xyz,t.chunkSize),n=gn.fromArray(e.scaling,t.scaling,t.chunkSize),i=gn.fromArray(e.colors,t.color,t.chunkSize),o=gn.fromArray(e.opacity,t.opacity,t.chunkSize),l=gn.fromArray(e.rotation,t.quaternion,t.chunkSize),c=e.harmonics,a=[];if(t.harmonics)for(let s=0;s<c.length;s++){let u=gn.fromArray(c[s],t.harmonics,t.chunkSize);a.push(u)}return new p5(t,r,n,i,o,l,a)}_countIndexesInChunks(e){let t=[],r=this.nchunks,n=this.chunkSize,i=this.nsplats,o=gn.getRequiredNChunks(i,n);if(r===o)for(let l=0;l<e.length;l++){let c=e[l],a=Math.floor(c/this.chunkSize);a in t?t[a].push(c):t[a]=[c]}else{let l=this.variableChunkSize,c={},a=0;for(let s=0;s<r;s++)c[s]=a,a+=l[s];for(let s=0;s<e.length;s++){let u=e[s],d=Math.min(Math.floor(u/n),r-1);for(;u>=c[d]+l[d];)d++;d in t?t[d].push(u):t[d]=[u]}}return t}pruneSplats(e){let t=this._countIndexesInChunks(e),r,n=[];return t.length>0&&(r=this.variableChunkSize?[...this.variableChunkSize]:Array(this.nchunks).fill(this.chunkSize),t.forEach((i,o)=>{r[o]-=i.length,r[o]<=0&&n.push(o)}),r=r.filter(i=>i>0)),new p5(this.config,this.xyz.pruneFeature(e,n,r),this.scaling.pruneFeature(e,n,r),this.color.pruneFeature(e,n,r),this.opacity.pruneFeature(e,n,r),this.quaternion.pruneFeature(e,n,r),this.harmonics?this.harmonics.map(i=>i.pruneFeature(e,n,this.variableChunkSize)):void 0,r)}static async loadConfig(e){return await(await fetch(e,{method:"GET",mode:"cors",headers:{Accept:"application/json"}})).json()}toGaussians(){var i;let e={format:"binary_little_endian",version:"1.0"},t={},r=0;if(t.x={dtype:"float",index:r},r++,t.y={dtype:"float",index:r},r++,t.z={dtype:"float",index:r},r++,t.f_dc_0={dtype:"float",index:r},r++,t.f_dc_1={dtype:"float",index:r},r++,t.f_dc_2={dtype:"float",index:r},r++,this.harmonics&&this.harmonics.length>0)for(let o=0;o<this.harmonics.length;o++)t[`f_rest_${o}`]={dtype:"float",index:r},r++,t[`f_rest_${o+1}`]={dtype:"float",index:r},r++,t[`f_rest_${o+2}`]={dtype:"float",index:r},r++;t.opacity={dtype:"float",index:r},r++,t.scale_0={dtype:"float",index:r},r++,t.scale_1={dtype:"float",index:r},r++,t.scale_2={dtype:"float",index:r},r++,t.rot_0={dtype:"float",index:r},r++,t.rot_1={dtype:"float",index:r},r++,t.rot_2={dtype:"float",index:r},r++,t.rot_3={dtype:"float",index:r},r++;let n=(i=this.harmonics)==null?void 0:i.map(o=>o.denormDequant());return new Sh(t,e,this.xyz.length,this.xyz.denormDequant(),this.color.denormDequant(),n||[],this.opacity.denormDequant(),this.scaling.denormDequant(),this.quaternion.denormDequant(),3)}},Ep=Ai(V1()),Ba=Ai(H1()),W7={xyz:3,color:3,opacity:1,scaling:3,quaternion:4,harmonics:3},m5=class{constructor(e){this._buffer=e}get buffer(){return this._buffer}get decoded(){return this._decoded||(this._decoded=this.decodeBuffer()),this._decoded}get colorsA(){let e=.28209479177387814,t=this.decoded.color.denormDequant(),r=this.decoded.opacity.denormDequant(),n=(0,Ep.default)(new Float32Array(t.shape[0]*4),[t.shape[0],4]);return Ba.mulseq(t,e),Ba.addseq(t,.5),Ba.mulseq(t,255),Ba.maxseq(t,0),Ba.minseq(t,255),Ba.negeq(r),Ba.expeq(r),Ba.addseq(r,1),Ba.recipeq(r),Ba.mulseq(r,255),Ba.assign(n.hi(t.shape[0],3).lo(0,0),t),Ba.assign(n.hi(t.shape[0],4).lo(0,3),r),(0,Ep.default)(new Uint8Array(n.data),[t.shape[0],4]).data}get nsplats(){return this.decoded.nsplats}getSplatCount(){return this.decoded.nsplats}get precomputedCovarianceBufferData(){return this._precomputedCovarianceBufferData}decodeBuffer(){let{splatCount:e,chunkCount:t,chunkSize:r,typeChunks:n,vertexData:i,propertiesDesc:o}=this.decodeHeader(),l={xyz:o.xyz.compressionMethod,color:o.color.compressionMethod,opacity:o.opacity.compressionMethod,scaling:o.scaling.compressionMethod,quaternion:o.quaternion.compressionMethod,chunkSize:r};o.harmonics_0&&(l.harmonics=o.harmonics_0.compressionMethod);let c=i.byteOffset,a=Array(Object.keys(o).length);for(let g in o)a[o[g].index]={name:g,method:o[g].compressionMethod};let s=t*2*4,u=c,d=n==="dynamic"?t*2:0,h,f=!1;if(d>0){let g=new Uint16Array(i.buffer.slice(u,u+d));u+=d,h=Array.from(g),f=!0}let m={};for(let g of a){let v=0,x=!0;if(g.method==="norm8x")v=e*1*W7[g.name];else if(g.method==="norm11")v=e*4;else if(g.method==="norm565")v=e*2;else throw x=!1,new Error(`Not Implemented format: ${g.method}`);let y;if(x){let _=i.buffer.slice(u,u+s);y=(0,Ep.default)(new Float32Array(_),[t,2]),u+=s}else throw new Error("loading chunk byt hasnot minmax!");let b=i.buffer.slice(u,u+v);u+=v;let w;if(g.method==="norm8x")w=(0,Ep.default)(new Uint8Array(b),[e,W7[g.name]]);else if(g.method==="norm11")w=(0,Ep.default)(new Uint32Array(b));else if(g.method==="norm565")w=(0,Ep.default)(new Uint16Array(b));else throw new Error(`Not Implemented format: ${g.method}`);m[g.name]=new gn(w,y,r,g.method,h,f)}let p=[];for(let g=0;g<15;g++){let v=m[`harmonics_${g}`];v&&(p.push(v),delete m[`harmonics_${g}`])}return p.length>0&&(m.harmonics=p),new p5(l,m.xyz,m.scaling,m.color,m.opacity,m.quaternion,m.harmonics,h)}buildPreComputedBuffers(){let e=this.decoded,t=e.nsplats,r=new ArrayBuffer(24*t),n=new Float32Array(r),i=e.scaling.denormDequant(),o=e.quaternion.denormDequant(),l=new Rt,c=new In,a=new In,s=new In,u=new Ne;for(let d=0;d<t;d++){u.makeScale(Math.exp(i.get(d,0)),Math.exp(i.get(d,1)),Math.exp(i.get(d,2))),a.setFromMatrix4(u),l.set(o.get(d,0),o.get(d,1),o.get(d,2),o.get(d,3)),u.makeRotationFromQuaternion(l),c.setFromMatrix4(u),s.copy(c).multiply(a);let h=s.elements;n[6*d]=h[0]*h[0]+h[3]*h[3]+h[6]*h[6],n[6*d+1]=h[0]*h[1]+h[3]*h[4]+h[6]*h[7],n[6*d+2]=h[0]*h[2]+h[3]*h[5]+h[6]*h[8],n[6*d+3]=h[1]*h[1]+h[4]*h[4]+h[7]*h[7],n[6*d+4]=h[1]*h[2]+h[4]*h[5]+h[7]*h[8],n[6*d+5]=h[2]*h[2]+h[5]*h[5]+h[8]*h[8]}this._precomputedCovarianceBufferData=r}decodeHeader(){let e=this._buffer,t=new TextDecoder,r=0,n="",i=100;for(;;){if(r+i>=e.byteLength)throw new Error("End of file reached while searching for end of header");let m=new Uint8Array(e,r,i);n+=t.decode(m),r+=i;let p=r-i*2,g=new Uint8Array(e,Math.max(0,p),p>=0?i*2:i);if(t.decode(g).includes("end_header"))break}let o=n.split(`
`),l=0,c=0,a=0,s=0,u="",d={};for(let m=0;m<o.length;m++){let p=o[m].trim();if(p.startsWith("element vertex")){let g=p.match(/\d+/);g&&(l=parseInt(g[0]))}else if(p.startsWith("property")){let g=p.match(/(\w+)\s+(\w+)\s+(\w+)/);if(g){let v=g[2],x=g[3];d[v]={compressionMethod:x,index:s},s++}}else if(p.startsWith("element chunks")){let g=p.match(/\d+/);g&&(c=parseInt(g[0]))}else if(p.startsWith("element chunkSize")){let g=p.match(/\d+/);g&&(a=parseInt(g[0]))}else if(p.startsWith("element typeChunks")){let g=p.match(/(\w+)\s+(\w+)\s+(\w+)/);g&&(u=g[3])}else if(p==="end_header")break}let h=n.indexOf("end_header")+10+1,f=new DataView(e,h);return{splatCount:l,chunkCount:c,chunkSize:a,typeChunks:u,vertexData:f,propertiesDesc:d}}pruneSplats(e){let t=this.decodeBuffer().pruneSplats(e);return m5.fromCompressedGaussianSplats(t)}static fromCompressedGaussianSplats(e){let t=e.xyz.length,r=e.xyz.nchunks,n=`gspline
element vertex ${t}
element chunks ${r}
element chunkSize ${e.chunkSize}
element typeChunks ${e.isDynamicChunks?"dynamic":"static"}
property xyz ${e.xyz.method}
property color ${e.color.method}
property opacity ${e.opacity.method}
property scaling ${e.scaling.method}
property quaternion ${e.quaternion.method}`;if(e.harmonics&&e.harmonics.length>0)for(let S=0;S<e.harmonics.length;S++)n=`${n}
property harmonics_${S} ${e.harmonics[S].method}`;n=`${n}
end_header
`;let i=new TextEncoder().encode(n),o=r*2*4,l=e.xyz.quantized.data.buffer.byteLength,c=e.xyz instanceof gn?o:0,a=e.color.quantized.data.buffer.byteLength,s=e.color instanceof gn?o:0,u=e.opacity.quantized.data.buffer.byteLength,d=e.opacity instanceof gn?o:0,h=e.scaling.quantized.data.buffer.byteLength,f=e.scaling instanceof gn?o:0,m=e.quaternion.quantized.data.buffer.byteLength,p=e.quaternion instanceof gn?o:0,g=e.variableChunkSize?Uint16Array.from(e.variableChunkSize):void 0,v=g?g.byteLength:0,x=i.byteLength+v+l+c+a+s+u+d+h+f+m+p,y=0,b=0;if(e.harmonics&&e.harmonics.length>0)for(let S=0;S<e.harmonics.length;S++)y+=e.harmonics[S].quantized.data.buffer.byteLength,b+=e.harmonics[S]instanceof gn?o:0;y=0,b=0,x+=y+b;let w=new Uint8Array(x),_=0;if(w.set(i,_),_+=i.byteLength,v>0&&(w.set(new Uint8Array(g.buffer),_),_+=v),e.xyz instanceof gn&&(w.set(new Uint8Array(e.xyz.minmaxMatrix.data.buffer),_),_+=o),w.set(new Uint8Array(e.xyz.quantized.data.buffer),_),_+=l,e.color instanceof gn&&(w.set(new Uint8Array(e.color.minmaxMatrix.data.buffer),_),_+=o),w.set(new Uint8Array(e.color.quantized.data.buffer),_),_+=a,e.opacity instanceof gn&&(w.set(new Uint8Array(e.opacity.minmaxMatrix.data.buffer),_),_+=o),w.set(new Uint8Array(e.opacity.quantized.data.buffer),_),_+=u,e.scaling instanceof gn&&(w.set(new Uint8Array(e.scaling.minmaxMatrix.data.buffer),_),_+=o),w.set(new Uint8Array(e.scaling.quantized.data.buffer),_),_+=h,e.quaternion instanceof gn&&(w.set(new Uint8Array(e.quaternion.minmaxMatrix.data.buffer),_),_+=o),w.set(new Uint8Array(e.quaternion.quantized.data.buffer),_),_+=m,y>0&&e.harmonics&&e.harmonics.length>0)for(let S=0;S<e.harmonics.length;S++){let E=e.harmonics[S];E instanceof gn&&(w.set(new Uint8Array(E.minmaxMatrix.data.buffer),_),_+=o),w.set(new Uint8Array(E.quantized.data.buffer),_),_+=E.quantized.data.byteLength}return new m5(w.buffer)}},VNe="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAETA2AAAGAIf39/f39/f38AYAABfwISAQNlbnYGbWVtb3J5AgMAgIAEAwQDAAECBzkDEV9fd2FzbV9jYWxsX2N0b3JzAAALc29ydEluZGV4ZXMAARNlbXNjcmlwdGVuX3Rsc19pbml0AAIK3gMDAwABC9IDAwF/BnwBfgJAIAdFDQAgAysDUCEMIAMrAzAhDSADKwMQIQ5BACEDRP///////+9/IQtEAAAAAAAAEAAhCgNAIAIgA0ECdGoCfyAOIAEgA0EMbGoiCCoCALuiIA0gCCoCBLuioCAMIAgqAgi7oqBEAAAAAAAAsECiIgmZRAAAAAAAAOBBYwRAIAmqDAELQYCAgIB4CzYCACAJIAsgCSALYxshCyAJIAogCSAKZBshCiADQQFqIgMgB0cNAAsgB0UNACAGuCAKIAuhoyEJQQAhAwNAAn8gCSACIANBAnRqIgEoAgC3IAuhoiIKmUQAAAAAAADgQWMEQCAKqgwBC0GAgICAeAshCCABIAg2AgAgBCAIQQJ0aiIBIAEoAgBBAWo2AgAgA0EBaiIDIAdHDQALCyAGQQJPBEAgBCgCACEIQQEhAwNAIAQgA0ECdGoiASABKAIAIAhqIgg2AgAgA0EBaiIDIAZHDQALCyAHQQFrIgGtIQ8DQCAEIAIgD6dBAnQiA2ooAgBBAnRqIgcgBygCAEEBayIHNgIAIAUgASAHa0ECdGogACADaigCADYCACAPUCEDIA9CAX0hDyADRQ0ACyAGBEAgBEEAIAZBAnT8CwALCwQAQQAL",vd=class{};lo(vd,"DepthMapRange",65536),lo(vd,"MemoryPageSize",65536),lo(vd,"BytesPerFloat",4),lo(vd,"BytesPerInt",4);function HNe(e){let t,r,n,i,o,l,c,a,s,u,d,h,f,m,p,g;function v(T){let k=new Float64Array(u,l,16);for(let M=0;M<16;M++)k[M]=T[M];let D;if(n>1){t.exports.sortIndexes(i,o,s,l,c,a,h.DepthMapRange,n);let M=new Uint32Array(n);D=M.buffer,M.set(new Uint32Array(u,a,n))}else if(n===1){let M=new Uint32Array(n);M[0]=new Uint32Array(u,i,r)[0],D=M.buffer}else D=new ArrayBuffer(0);e.postMessage({sortDone:!0,indexesBuffer:D},[D])}function x(T,k,D){let M=new Float32Array(u,o,r*3);n=0;let P=new Uint32Array(u,i,r);for(let j=0;j<D.length-1;j++){let O=k[j],I=T[j].elements,N=O.filter(B=>B.enabled&&B.mode==="Include").map(B=>B.type==="Box"?_(B):C(B)),L=O.filter(B=>B.enabled&&B.mode==="Exclude").map(B=>B.type==="Box"?_(B):C(B));for(let B=D[j];B<D[j+1];B++){let R=f[B*3],z=f[B*3+1],W=f[B*3+2];if((N.length===0||b(R,z,W,N))&&(L.length===0||!b(R,z,W,L))){let U=1/(I[3]*R+I[7]*z+I[11]*W+I[15]);M[n*3]=(I[0]*R+I[4]*z+I[8]*W+I[12])*U,M[n*3+1]=(I[1]*R+I[5]*z+I[9]*W+I[13])*U,M[n*3+2]=(I[2]*R+I[6]*z+I[10]*W+I[14])*U,P[n]=B,n++}}}}function y(T,k){let D=[],M=k.filter(O=>O.enabled&&O.mode==="Include").map(O=>O.type==="Box"?_(O):C(O)),P=k.filter(O=>O.enabled&&O.mode==="Exclude").map(O=>O.type==="Box"?_(O):C(O)),j=T.length;for(let O=0;O<j;O+=3){let I=T[O],N=T[O+1],L=T[O+2];(M.length===0||b(I,N,L,M))&&(P.length===0||!b(I,N,L,P))||D.push(O/3)}return console.log(D),D}function b(T,k,D,M,P){return M.some(j=>{let O=w(T,k,D,j.invRotationMatrix,j.cropCenter);return Array.isArray(j)?E(O.x,O.y,O.z,j):A(O.x,O.y,O.z,j)})}function w(T,k,D,M,P){let j=T-P[0],O=k-P[1],I=D-P[2],N=1/(M[3]*j+M[7]*O+M[11]*I+M[15]);return{x:(M[0]*j+M[4]*O+M[8]*I+M[12])*N+P[0],y:(M[1]*j+M[5]*O+M[9]*I+M[13])*N+P[1],z:(M[2]*j+M[6]*O+M[10]*I+M[14])*N+P[2]}}function _(T){let k=T.cropSize[0]/2,D=T.cropSize[1]/2,M=T.cropSize[2]/2,P=[T.cropCenter[0]-k,T.cropCenter[1]-D,T.cropCenter[2]-M,T.cropCenter[0]+k,T.cropCenter[1]+D,T.cropCenter[2]+M],j=S(T.cropRotation);return Object.assign(P,{invRotationMatrix:j,cropCenter:T.cropCenter})}function S(T){let k=[],D=T[0]*Math.PI/180,M=T[1]*Math.PI/180,P=T[2]*Math.PI/180,j=Math.cos(D),O=Math.sin(D),I=Math.cos(M),N=Math.sin(M),L=Math.cos(P),B=Math.sin(P),R=j*L,z=j*B,W=O*L,U=O*B;return k[0]=I*L,k[1]=-I*B,k[2]=N,k[4]=z+W*N,k[5]=R-U*N,k[6]=-O*I,k[8]=U-R*N,k[9]=W+z*N,k[10]=j*I,k[12]=0,k[13]=0,k[14]=0,k[3]=0,k[7]=0,k[11]=0,k[15]=1,k}function E(T,k,D,M){return T>=M[0]&&T<=M[3]&&k>=M[1]&&k<=M[4]&&D>=M[2]&&D<=M[5]}function C(T){let k=2/T.cropSize[0],D=2/T.cropSize[1],M=2/T.cropSize[2],P=S(T.cropRotation);return{invRadiusX:k,invRadiusY:D,invRadiusZ:M,cropCenter:T.cropCenter,invRotationMatrix:P}}function A(T,k,D,M){let P=(T-M.cropCenter[0])*M.invRadiusX,j=(k-M.cropCenter[1])*M.invRadiusY,O=(D-M.cropCenter[2])*M.invRadiusZ;return P*P+j*j+O*O<=1}e.onmessage=T=>{if(T.data.getCroppedIndexes){let k=new Uint32Array(y(new Float32Array(T.data.positions),T.data.crops)).buffer;e.postMessage({outOfBoundsIndexes:k},[k])}else if(T.data.positions)d=T.data.positions,f=new Float32Array(d),p=T.data.meshMatrixWorlds,g=T.data.cropsArray,m=T.data.meshIndexIntervals,x(p,g,m),e.postMessage({sortSetupComplete:!0});else if(T.data.sort||T.data.newMatrixWorlds||T.data.newCropsArray)(T.data.newMatrixWorlds||T.data.newCropsArray)&&(g=T.data.newCropsArray||g,p=T.data.newMatrixWorlds||p,x(p,g,m)),v(T.data.sort.view,T.data.sort.cameraPosition);else if(T.data.init){h=T.data.init.Constants,r=T.data.init.splatCount;let k=h.BytesPerInt,D=h.BytesPerFloat*3,M=new Uint8Array(T.data.init.sorterWasmBytes),P=k+D,j=r*P,O=r*h.BytesPerInt*2+h.DepthMapRange*h.BytesPerInt*2,I=h.MemoryPageSize*32,N=j+O+I,L=Math.floor(N/h.MemoryPageSize)+1,B={module:{},env:{memory:new WebAssembly.Memory({initial:L*2,maximum:L*3,shared:!0})}};WebAssembly.compile(M).then(R=>WebAssembly.instantiate(R,B)).then(R=>{t=R,i=0,o=r*k,l=o+r*D,s=l+16*h.BytesPerFloat*2,c=s+r*h.BytesPerInt,a=c+h.DepthMapRange*h.BytesPerInt,u=B.env.memory.buffer,e.postMessage({sortSetupPhase1Complete:!0})})}}}function WNe(e){let t=new Worker(URL.createObjectURL(new Blob(["(",HNe.toString(),")(self)"],{type:"application/javascript"}))),r=atob(VNe),n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return t.postMessage({init:{sorterWasmBytes:n.buffer,splatCount:e,Constants:{BytesPerFloat:vd.BytesPerFloat,BytesPerInt:vd.BytesPerInt,DepthMapRange:vd.DepthMapRange,MemoryPageSize:vd.MemoryPageSize}}}),t}var xM=function(){let e=new Float32Array(1),t=new Int32Array(e.buffer);return function(r){return e[0]=r,t[0]}}(),GNe=function(e,t,r,n){return e+(t<<8)+(r<<16)+(n<<24)},Kx=new oe,Ww=class extends vo{constructor(e,t,r,n,i=!1,o=1,l,c){super(r,n),this.splatCount=t,this.meshIndexIntervals=l,this.meshMatrixWorlds=c,this.splatBuffers=e,this.geometry=r,this.material=n,this.splatDataTextures=null,this.halfPrecisionCovariancesOnGPU=i,this.devicePixelRatio=o,this.resetLocalSplatDataAndTexturesFromSplatBuffer()}static buildMesh(e,t,r=!1,n=1,i,o){let l=Ww.buildGeomtery(t),c=Ww.buildMaterial(i);return new Ww(e,t,l,c,r,n,i,o)}static buildMaterial(e){let t=`
            precision highp float;
            #include <common>

            attribute uint splatIndex;

            uniform highp sampler2D covariancesTexture;
            uniform highp usampler2D centersColorsTexture;
            uniform vec2 focal;
            uniform vec2 viewport;
            uniform vec2 basisViewport;
            uniform vec2 covariancesTextureSize;
            uniform vec2 centersColorsTextureSize;
						uniform highp sampler2D meshMatrixWorldsTexture;
						uniform uint meshIndexIntervals[257];
						uniform float orthoZoom;

            varying vec4 vColor;
            varying vec2 vUv;

            varying vec2 vPosition;

            const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);
            const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));
            const uvec4 shift4 = uvec4(0, 8, 16, 24);
            vec4 uintToRGBAVec (uint u) {
               uvec4 urgba = mask4 & u;
               urgba = urgba >> shift4;
               vec4 rgba = vec4(urgba) * encodeNorm4;
               return rgba;
            }

            vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {
                vec2 samplerUV = vec2(0.0, 0.0);
                float d = float(splatIndex * uint(stride) + uint(offset)) / dimensions.x;
                samplerUV.y = float(floor(d)) / dimensions.y;
                samplerUV.x = fract(d);
                return samplerUV;
            }

            void main () {
                uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));
                vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));
                vColor = uintToRGBAVec(sampledCenterColor.r);

                vPosition = position.xy * 2.0;

								uint meshIndex;
								for (int i = 1; i < 257; i++) {
									if (splatIndex < meshIndexIntervals[i]) {
										meshIndex = uint(i - 1);
										break;
									}
								}

								float strideMulmeshIndex = float(4u*meshIndex);
								float meshMatrixWorldsTextureLength = float(256*4);

								mat4 modelMat = mat4(
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+0.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+1.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+2.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+3.0)/meshMatrixWorldsTextureLength, 0))
								);
								mat4 modelViewMat = viewMatrix * modelMat;
								vec4 viewCenter = modelViewMat * vec4(splatCenter, 1.0); 
                vec4 clipCenter = projectionMatrix * viewCenter;

                vec2 sampledCovarianceA = texture(covariancesTexture, getDataUV(3, 0, covariancesTextureSize)).rg;
                vec2 sampledCovarianceB = texture(covariancesTexture, getDataUV(3, 1, covariancesTextureSize)).rg;
                vec2 sampledCovarianceC = texture(covariancesTexture, getDataUV(3, 2, covariancesTextureSize)).rg;

                vec3 cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rg, sampledCovarianceB.r);
                vec3 cov3D_M22_M23_M33 = vec3(sampledCovarianceB.g, sampledCovarianceC.rg);

                // Compute the 2D covariance matrix from the upper-right portion of the 3D covariance matrix
                mat3 Vrk = mat3(
                    cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,
                    cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,
                    cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z
                );
                float s = 1.0 / (viewCenter.z * viewCenter.z);

                mat3 W = transpose(mat3(modelViewMat));
                mat3 T = orthoZoom > 0.0 ? W : W * mat3(
									focal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,
									0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,
									0., 0., 0.
								);
                mat3 cov2Dm = transpose(T) * Vrk * T;
                cov2Dm[0][0] += 0.3;
                cov2Dm[1][1] += 0.3;

                // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because
                // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],
                // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't
                // need cov2Dm[1][0] because it is a symetric matrix.
                vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);

                vec3 ndcCenter = clipCenter.xyz / clipCenter.w;

                // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix
                // so that we can determine the 2D basis for the splat. This is done using the method described
                // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html
                //
                // This is a different approach than in the original work at INRIA. In that work they compute the
                // max extents of the 2D covariance matrix in screen space to form an axis aligned bounding rectangle
                // which forms the geometry that is actually rasterized. They then use the inverse 2D covariance
                // matrix (called 'conic') to determine fragment opacity.
                float a = cov2Dv.x;
                float d = cov2Dv.z;
                float b = cov2Dv.y;
                float D = a * d - b * b;
                float trace = a + d;
                float traceOver2 = 0.5 * trace;
                float term2 = sqrt(trace * trace / 4.0 - D);
                float eigenValue1 = traceOver2 + term2;
								float eigenValue2 = max(traceOver2 - term2, 0.00); // prevent negative eigen value

                const float maxSplatSize = 1024.0;
                vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));
                // since the eigen vectors are orthogonal, we derive the second one from the first
                vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);
                vec2 basisVector1 = eigenVector1 * min(sqrt(2.0 * eigenValue1), maxSplatSize);
                vec2 basisVector2 = eigenVector2 * min(sqrt(2.0 * eigenValue2), maxSplatSize);

                vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) * basisViewport;

								if (orthoZoom > 0.0) {
									ndcOffset *= orthoZoom;
								}

                gl_Position = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            }`,r=`
            precision highp float;
            #include <common>

            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;

            varying vec2 vPosition;
						layout(location = 1) out vec4 gVelocity; 

            void main () {
                // compute the negative squared distance from the center of the splat to the
                // current fragment in the splat's local space.
                float A = -dot(vPosition, vPosition);
                if (A < -4.0) discard;
                vec3 color = vColor.rgb;
                A = exp(A) * vColor.a;
                gl_FragColor = vec4(color.rgb, A);
								gVelocity = vec4(0.0); // so it is ignored by TAA
            }`,n={covariancesTexture:{type:"t",value:null},centersColorsTexture:{type:"t",value:null},meshIndexIntervals:{value:e},meshMatrixWorldsTexture:{type:"t",value:null},focal:{type:"v2",value:new oe},viewport:{type:"v2",value:new oe},basisViewport:{type:"v2",value:new oe},debugColor:{type:"v3",value:new wt},covariancesTextureSize:{type:"v2",value:new oe(1024,1024)},centersColorsTextureSize:{type:"v2",value:new oe(1024,1024)},orthoZoom:{type:"f",value:-1}};return new Or({uniforms:n,vertexShader:t,fragmentShader:r,transparent:!0,alphaTest:1,blending:Qh,depthTest:!0,depthWrite:!1,side:Bo})}static buildGeomtery(e){let t=new vt;t.setIndex([0,1,2,0,2,3]);let r=new Float32Array(4*3),n=new kt(r,3);t.setAttribute("position",n),n.setXYZ(0,-1,-1,0),n.setXYZ(1,-1,1,0),n.setXYZ(2,1,1,0),n.setXYZ(3,1,-1,0),n.needsUpdate=!0;let i=new d$().copy(t),o=new Uint32Array(e),l=new XX(o,1,!1);return l.setUsage(Awe),i.setAttribute("splatIndex",l),i.instanceCount=e,i}resetLocalSplatDataAndTexturesFromSplatBuffer(){this.updateLocalSplatDataFromSplatBuffer(),this.allocateAndStoreLocalSplatDataInTextures()}updateLocalSplatDataFromSplatBuffer(){this.splatBuffers.forEach(n=>n.buildPreComputedBuffers()),this.covariances=new Float32Array(this.splatCount*6),this.colors=new Uint8Array(this.splatCount*4),this.centers=new Float32Array(this.splatCount*3);let e=0,t=0,r=0;for(let n of this.splatBuffers){let i=n.nsplats;this.colors.subarray(e,e+i*4).set(n.colorsA),e+=i*4,this.centers.subarray(t,t+i*3).set(n.decoded.xyz.denormDequant().data),t+=i*3,this.covariances.subarray(r,r+i*6).set(new Float32Array(n.precomputedCovarianceBufferData)),r+=i*6}}allocateAndStoreLocalSplatDataInTextures(){let e=this.splatCount,t=new oe(4096,1024);for(;t.x*t.y*2<e*6;)t.y*=2;let r=new oe(4096,1024);for(;r.x*r.y*4<e*4;)r.y*=2;let n,i;if(this.halfPrecisionCovariancesOnGPU){i=new Uint16Array(t.x*t.y*2);for(let u=0;u<this.covariances.length;u++)i[u]=KAe.toHalfFloat(this.covariances[u]);n=new ud(i,t.x,t.y,Z_,wf)}else i=new Float32Array(t.x*t.y*2),i.set(this.covariances),n=new ud(i,t.x,t.y,Z_,go);n.needsUpdate=!0,this.material.uniforms.covariancesTexture.value=n,this.material.uniforms.covariancesTextureSize.value.copy(t);let o=new Uint32Array(r.x*r.y*4);for(let u=0;u<e;u++){let d=u*4,h=u*3,f=u*4;o[f]=GNe(this.colors[d],this.colors[d+1],this.colors[d+2],this.colors[d+3]),o[f+1]=xM(this.centers[h]),o[f+2]=xM(this.centers[h+1]),o[f+3]=xM(this.centers[h+2])}let l=new ud(o,r.x,r.y,MX,Kc);l.internalFormat="RGBA32UI",l.needsUpdate=!0,this.material.uniforms.centersColorsTexture.value=l,this.material.uniforms.centersColorsTextureSize.value.copy(r);let c=256*4,a=new Float32Array(256*16);for(let u=0;u<this.meshMatrixWorlds.length;u++)a.set(this.meshMatrixWorlds[u].elements,u*16);let s=new ud(a,c,1,ma,go);s.needsUpdate=!0,this.material.uniforms.meshMatrixWorldsTexture.value=s,this.material.uniformsNeedUpdate=!0,this.splatDataTextures={covariances:{data:i,texture:n,size:t},centerColors:{data:o,texture:l,size:r},meshMatrixWorlds:{data:a,texture:s}}}updateIndexes(e){let t=this.geometry;t.attributes.splatIndex.set(e),t.attributes.splatIndex.needsUpdate=!0,t.instanceCount=e.length}updateUniforms(e,t,r,n){this.splatCount>0&&(Kx.set(e.x*this.devicePixelRatio,e.y*this.devicePixelRatio),this.material.uniforms.viewport.value.copy(Kx),this.material.uniforms.basisViewport.value.set(2/Kx.x,2/Kx.y),this.material.uniforms.focal.value.set(t,r),this.material.uniforms.orthoZoom.value=n,this.material.uniformsNeedUpdate=!0)}getSplatDataTextures(){return this.splatDataTextures}getSplatCount(){return this.splatCount}getCenters(){return this.centers}getColors(){return this.colors}getCovariances(){return this.covariances}dispose(){this.geometry.dispose(),this.material.dispose(),this.splatDataTextures&&(this.splatDataTextures.covariances.texture.dispose(),this.splatDataTextures.centerColors.texture.dispose(),this.splatDataTextures.meshMatrixWorlds.texture.dispose())}},qNe=class{constructor(e={}){lo(this,"updateSplatMeshUniforms",function(){let t=new oe;return function(){this.splatMesh!==null&&this.splatMesh.getSplatCount()>0&&(this.renderer.getSize(t),this.cameraFocalLengthX=this.camera.projectionMatrix.elements[0]*this.devicePixelRatio*t.x*.45,this.cameraFocalLengthY=this.camera.projectionMatrix.elements[5]*this.devicePixelRatio*t.y*.45,this.splatMesh.updateUniforms(t,this.cameraFocalLengthX,this.cameraFocalLengthY,this.camera.isPerspectiveCamera?-1:this.camera.zoom*this.devicePixelRatio))}}()),lo(this,"updateView",function(){let t=new Ne,r=[],n=new V(0,0,-1),i=new V(0,0,-1),o=new V,l=new V;return function(c=!1){let a=this.updateMatrixWorldsInWorkerIfNeeded(),s=this.cropsChanged();if(!c){i.set(0,0,-1).applyQuaternion(this.camera.quaternion);let d=!1,h=!1;if(i.dot(n)<=.95&&(d=!0),l.copy(this.camera.position).sub(o).length()>=1&&(h=!0),!d&&!h&&!a&&!s)return}o.copy(this.camera.position),n.copy(i),t.copy(this.camera.matrixWorld).invert(),t.premultiply(this.camera.perspCamera.projectionMatrix),r[0]=this.camera.position.x,r[1]=this.camera.position.y,r[2]=this.camera.position.z;let u={sort:{view:t.elements,cameraPosition:r,splatRenderCount:this.splatRenderCount,splatSortCount:this.splatRenderCount},...a?{newMatrixWorlds:this.meshMatrixWorlds}:{},...s?{newCropsArray:this.cropsArray}:{}};this.sortRunning?this.queuedMessage=u:(this.queuedMessage=null,this.sortRunning=!0,this.sortWorker.postMessage(u))}}()),this.scene=e.scene,this.currentPage=null,this.renderer=e.renderer,this.devicePixelRatio=window.devicePixelRatio,this.sortWorker=null,this.splatRenderCount=0,this.splatSortCount=0,this.splatMesh=null,this.sortRunning=!1,this.splatRenderingInitialized=!1,this.meshMatrixWorlds=null,this.meshMatrixWorldsOld=null,this.cropsArray=null,this.splatEntries=null,this.queuedMessage=null}get camera(){return this.scene.activeCamera}reloadSplats(){this.splatRenderingInitialized=!1;let e=this.loadSplat();this.renderer.pipeline.opaquePass.splatViewer=e?this:null}loadSplat(e={}){this.activePage=this.scene.activePage,e.position&&(e.position=new V().fromArray(e.position)),e.orientation&&(e.orientation=new Rt().fromArray(e.orientation)),e.halfPrecisionCovariances=!!e.halfPrecisionCovariances;let t=[];if(this.splatEntries=t,this.activePage.traverseEntity(o=>{if(o.data.type==="Splat"){let l=o.visible;o.traverseAncestors(c=>{l&&(l=c.visible)}),l&&t.push(o)}}),this.splatMesh&&this.splatMesh.dispose(),t.length===0)return this.splatMesh=null,!1;this.meshMatrixWorlds=t.map(o=>o.matrixWorld),this.meshMatrixWorldsOld=t.map(o=>o.matrixWorld.clone()),this.cropsArray=t.map(o=>o.data.crops.map(l=>l.data));let r=t.map(o=>new m5(new Uint8Array(o.data.buffer).buffer)),n=0,i=[0];for(let o of r)n+=o.getSplatCount(),i.push(n);return this.setupSplatMesh(r,n,e.position,e.orientation,e.halfPrecisionCovariances,this.devicePixelRatio,i,this.meshMatrixWorlds),this.setupSortWorker(n),!0}updateMatrixWorldsInWorkerIfNeeded(){let e=this.splatDataTextures.meshMatrixWorlds.data;for(let t=0;t<this.meshMatrixWorlds.length;t++)e.set(this.meshMatrixWorlds[t].elements,t*16);return this.splatDataTextures.meshMatrixWorlds.texture.needsUpdate=!0,this.meshMatrixWorlds.every((t,r)=>t.equals(this.meshMatrixWorldsOld[r]))?!1:(this.meshMatrixWorldsOld=this.meshMatrixWorlds.map(t=>t.clone()),!0)}cropsChanged(){let e=!1;return this.splatEntries.forEach((t,r)=>{var n;t.data.crops.forEach((i,o)=>{this.cropsArray[r][o]===void 0?(e=!0,this.cropsArray[r][o]=i.data):Object.entries(i.data).forEach(([l,c])=>{var a;Array.isArray(c)&&c.some((s,u)=>s!==this.cropsArray[r][o][l][u])?(e=!0,this.cropsArray[r][o][l]=c):c!==((a=this.cropsArray[r][o])==null?void 0:a[l])&&(e=!0,this.cropsArray[r][o][l]=c)})}),t.data.crops.length!==((n=this.cropsArray[r])==null?void 0:n.length)&&(this.cropsArray[r].length=t.data.crops.length,e=!0)}),e}setupSplatMesh(e,t,r=new V,n=new Rt,i=!1,o=1,l,c){this.splatMesh=Ww.buildMesh(e,t,i,o,l,c),this.splatMesh.position.copy(r),this.splatMesh.quaternion.copy(n),this.splatMesh.frustumCulled=!1,this.splatMesh.renderOrder=10,this.updateSplatMeshUniforms(),this.splatRenderCount=t}setupSortWorker(e){this.sortWorker=WNe(e),this.sortWorker.onmessage=t=>{var r;t.data.sortDone?(this.sortRunning=!1,(r=this.splatMesh)==null||r.updateIndexes(new Uint32Array(t.data.indexesBuffer)),this.lastSortTime=t.data.sortTime,this.queuedMessage&&(this.sortWorker.postMessage(this.queuedMessage),this.queuedMessage=null)):t.data.sortCanceled?this.sortRunning=!1:t.data.sortSetupPhase1Complete?this.sortWorker.postMessage({positions:this.splatMesh.getCenters().buffer,meshMatrixWorlds:this.splatMesh.meshMatrixWorlds,meshIndexIntervals:this.splatMesh.meshIndexIntervals,cropsArray:this.cropsArray}):t.data.sortSetupComplete&&(this.splatDataTextures=this.splatMesh.getSplatDataTextures(),this.updateView(!0,!0),this.splatRenderingInitialized=!0)}}update(){this.splatRenderingInitialized!==!1&&(this.updateSplatMeshUniforms(),this.updateView())}getSplatMesh(){return this.splatMesh}},g5=new q1;g5.wireframe=!0;var G7=new V,R6=class extends kd{constructor(e,t){super(),this.data=e,this.enableHelpers=!1,this.wireframeState=!1,this.needsTransmissionDirty=!0,this.needsNormalDirty=!0,this._needsTransmission=!1,this._needsNormal=!1,this.geometryCacheChanged=!1,this.splatViewer=null,this.entityByUuid={},this.entityIdentityToEntity={},this.toExpandCloner=new Set,this.toUpdateCloner=new Set,this.pendingCommands=[],this.pathConstraints=new ONe,this.errorPage=new Rd("fdasfa",{...Cg.defaultData,name:""}),this.invisibleObjects=new Gm("jflkdsafjasdifjaslk",{...RP.defaultData,visible:!1,name:"buildin invisible"}),this.needsRecomputeInstances=!1,this.init(e,t),this.matrixAutoUpdate=!1}markGeometryCacheDirty(){this.geometryCacheChanged=!0}markNeedsUpdateRendererDirty(){this.needsTransmissionDirty=!0,this.needsNormalDirty=!0}needsTransmission(){return this.needsTransmissionDirty&&(this._needsTransmission=kNe(this),this.needsTransmissionDirty=!1),this._needsTransmission}needsNormal(){return this.needsNormalDirty&&(this._needsNormal=PNe(this),this.needsNormalDirty=!1),this._needsNormal}registerInstanceAndSetUuid(e){let t=e.identity.join("-"),r=this.entityIdentityToEntity[t];r&&(e.uuid=r.uuid),this.entityIdentityToEntity[t]=e,this.entityByUuid[e.uuid]=e}markPenumbraSizeDirty(){for(let e of this.children)e instanceof Rd&&(e.penumbraSizeArrayCache=null)}findInstance(e){return this.entityIdentityToEntity[e.join("-")]}get bgColor(){return this.activePage.bgColor}get postprocessing(){return this.activePage.data.postprocessing}getWithSortKey(e){let t=this.find(e);if(t===void 0)return;let r=[],n=t;for(;n!==this;){let i=n;n=n.parent;let o=n.children.indexOf(i);r.splice(0,0,o)}return{entity:t,sortKey:r}}getAllSorted(e){let t=[];for(let r of e){let n=this.getWithSortKey(r.id);n!==void 0&&t.push(n)}return t.sort((r,n)=>wje(r.sortKey,n.sortKey)),t.map(r=>r.entity)}nonExistOrDescendantOf(e,t){let r=this.find(e);if(r===void 0)return!0;for(;r;){if(r.uuid===t)return!0;r=r.parent}return!1}find(e){if(this.activePage&&this.activePage.personalCamera.parent){if(e==="f23858d0-4a3b-4bd8-8173-66ed0af7f6fb-personalCamera")return this.activePage.personalCamera;if(e===l0)return this.activePage.personalCamera}if(e===""||e===void 0)return;let t=this.entityByUuid[e];return t===void 0?this.getObjectByProperty("uuid",e):t}debugEnsureEntity(e){let t=this.find(e);if(t){if(Array.isArray(t.identity)&&this.findInstance(t.identity)===void 0){console.error("not found instance");debugger}}else{console.error("not found");debugger}}addPendingExpandCloner(e){this.toExpandCloner.add(e)}addPendingUpdateCloner(e){this.toUpdateCloner.add(e)}markToExpandCloner(e){this.toExpandCloner.add(e),e.traverseEntityAncestors(t=>{this.toExpandCloner.add(t)})}doPendingExpandCloner(){this.toExpandCloner.forEach(e=>{e.expandCloner(this)}),this.toExpandCloner.clear()}doPendingUpdateCloner(){this.toUpdateCloner.forEach(e=>{var t;(t=e.cloner)==null||t.update()}),this.toUpdateCloner.clear()}doPendingUpdates(){this.doPendingExpandCloner(),this.doPendingUpdateCloner(),this.applyPendingCommands()}addPendingCommand(e){this.pendingCommands.push(e)}applyPendingCommands(){this.pendingCommands.forEach(e=>e()),this.pendingCommands.length=0}updateByLibOp(e,t){e.path.length===1&&e.path[0]==="components"&&e.type===1&&this.createChildrenObjects([{...e.data.asset,id:e.id}],this.invisibleObjects,t)}updateTreeByOp(e,t){var r;if(e.path.length===0&&e.type===7){let n=e.parent===null?this:this.find(e.parent);if(n===void 0)throw new Error("unexpected");let i=this.createObject(e.id,e.data,e.children,n,e.localIndex,t);i.updateVisible(),i.resetBBoxNeedsUpdate(),Ws(i)&&Jc(i.parent)&&(i.invalidateUpstreamBooleanData(),i.parent.invalidateDownstreamBooleanData().recomputeBoolean()),this.markNeedsRecomputeInstancesForAncessors(n),this.markNeedsRecomputeInstancesForChildren(i),this.markToExpandCloner(i),this.markPenumbraSizeDirty(),i.updatePathSnapping()}else if(e.path.length===0&&e.type===8){let n=this.find(e.id);if(n===void 0)throw new Error("unexpected");this.markToExpandCloner(n),n.resetBBoxNeedsUpdate(),this.unregisterObject(n);let i=n.parent;this.markNeedsRecomputeInstancesForAncessors(i),this.markNeedsRecomputeInstancesForChildren(n),this.markPenumbraSizeDirty(),n.parent.remove(n),Jc(n.parent)&&(n.parent.invalidateUpstreamBooleanData(),n.parent.invalidateDownstreamBooleanData().recomputeBoolean()),Ws(n)&&(n.freeBooleanPointer(),i instanceof Cf&&i.invalidateDownstreamBooleanData().recomputeBoolean()),n instanceof j6&&n.detachShape(),this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(n),this.pathConstraints.removeDependencies(n.uuid),n.updatePathSnapping()}else if(e.path.length===0&&e.type===9){let n=this.find(e.id);if(n===void 0)throw new Error("unexpected");this.markNeedsRecomputeInstancesForChildren(n);let i=n.parent;this.markNeedsRecomputeInstancesForAncessors(i),(r=n.cloner)==null||r.resetOnMove(),this.markToExpandCloner(n);let o=e.parent===null?this:this.find(e.parent);if(o===void 0)throw new Error("unexpected");o.add(n),this.markNeedsRecomputeInstancesForAncessors(o),this.markToExpandCloner(n),n.invalidateClonerTransform(n),n.updateVisible(),n.resetBBoxNeedsUpdate(),this.markPenumbraSizeDirty();let l=e.localIndex;o.children.splice(l,0,o.children.pop()),Ws(n)&&(n.invalidateUpstreamBooleanData(),Jc(n.parent)?n.parent.invalidateDownstreamBooleanData().recomputeBoolean():i instanceof Cf&&i.invalidateDownstreamBooleanData().recomputeBoolean()),n.updatePathSnapping()}this.markNeedsUpdateRendererDirty(),this.markGeometryCacheDirty()}get playPage(){return this.find(this.data.publish.playPage)??this.errorPage}updatePage(e){var t;this.activePage&&this.activePage.onDeactive(),this.activePage=this.errorPage;for(let r of this.children)r instanceof Rd&&(r.visible=r.uuid===e,r.visible&&(this.activePage=r,this.activePage.onActive(this)));this.activePage!==((t=this.splatViewer)==null?void 0:t.activePage)&&this.reloadSplats()}updateEntityByOp(e,t,r,n){if(t.type===0){if(("overrides"in t.props||"component"in t.props)&&this.markNeedsRecomputeInstances(),"visible"in t.props&&this.markPenumbraSizeDirty(),t.path.includes("overrides")&&"states"in t.props){let{rest:o}=t.props;t={...t,props:o},this.markNeedsRecomputeInstances()}t.path[0]==="pathSnapping"&&t.props.pathId!==void 0&&this.pathConstraints.setConstraint(e,t.props.pathId)}let i=this.find(e);if(i)try{TNe(i,t,r,{scene:this,shared:n}),i instanceof bo&&i.updateGeometryGroupsIfNeeded()}catch(o){console.error(o)}}get activeCamera(){return this.activePage.activeCamera}switchActiveCamera(e){this.activePage.switchActiveCamera(e)}isInvisibleObjects(e){return e===this.invisibleObjects||e.hasAnccestor(this.invisibleObjects)}init(e,t){let r=Object.entries(t.data.lib.components).map((n,i)=>({data:n[1].asset.data,children:n[1].asset.children,id:n[0],fi:i}));this.invisibleObjects.updateState(this.invisibleObjects.data,{scene:this,shared:t}),this.add(this.invisibleObjects),this.createChildrenObjects(r,this.invisibleObjects,t),this.createChildrenObjects(e.objects,this,t),this.updatePage(e.publish.playPage),this.activePage.switchToPlayCamera(),this.expandInstances(t,!0),this.traverseEntity(n=>{n instanceof Ki&&n.updateUp()}),this.doPendingExpandCloner(),this.applyPendingCommands()}markNeedsRecomputeInstances(){this.needsRecomputeInstances=!0}markNeedsRecomputeInstancesForChildren(e){e.traverseEntity(t=>{(t.data.type==="Component"||t.data.type==="Instance")&&this.markNeedsRecomputeInstances()})}markNeedsRecomputeInstancesForAncessors(e){or.is(e)&&(e.data.type==="Component"&&this.markNeedsRecomputeInstances(),e.traverseAncestors(t=>{or.is(t)&&t.data.type==="Component"&&this.markNeedsRecomputeInstances()}))}relativeizeInner(e,t,r,n,i,o,l){if(e){let c=n.find(e);c&&c!==n&&i.forInstancesRec(a=>{a.data=l1(a.data,s=>{let u=s.events.data(l.id),d=a.goUp(o);if(d){let h=[...Q$(d.identity),e].join("-"),f=this.entityIdentityToEntity[h];if(f){let m=f.uuid,p=fo.zoom(u,t);p[r]=m}else console.warn("cannot find instance")}}).data})}}rewriteActions(e,t,r,n,i,o){e.forEach(l=>{l.data.type==="Transition"?this.relativeizeInner(l.data.object,[...t,l.id],"object",r,n,i,o):l.data.type==="Animation"&&this.relativeizeInner(l.data.object,[...t,l.id],"object",r,n,i,o)})}rewriteEventsBeforeGoToPlayMode(){this.traverseEntity(e=>{if(e instanceof qm&&typeof e.identity=="string"&&e.data.type==="Component")return e.traverseEntity((t,r)=>{t.data.events.forEach(n=>{if(n.data.type==="GameControl"){let i=!1;if(t.forInstancesRec(o=>{o.data=l1(o.data,l=>{o.isInstanceRoot||(l.events.delete(n.id),i=!0)}).data}),i===!1)for(let o of O2.list)this.rewriteActions(n.data.gameActions[o],["gameActions",o],e,t,r,n)}else n.data.type==="Conditional"?(n.data.condition.type==="Distance"?(this.relativeizeInner(n.data.condition.fromObject,["condition"],"fromObject",e,t,r,n),this.relativeizeInner(n.data.condition.toObject,["condition"],"toObject",e,t,r,n)):n.data.condition.type==="State"?this.relativeizeInner(n.data.condition.object,["condition"],"object",e,t,r,n):n.data.condition.type==="Comparison"&&(n.data.condition.lOperand.type==="Property"&&this.relativeizeInner(n.data.condition.lOperand.value[0],["condition","lOperand","value"],0,e,t,r,n),n.data.condition.rOperand.type==="Property"&&this.relativeizeInner(n.data.condition.rOperand.value[0],["condition","rOperand","value"],0,e,t,r,n)),this.rewriteActions(n.data.inActions,["inActions"],e,t,r,n),this.rewriteActions(n.data.outActions,["outActions"],e,t,r,n)):"actions"in n.data&&this.rewriteActions(n.data.actions,["actions"],e,t,r,n)})}),!0})}expandInstances(e,t,r){let n=new Set;this.traverseEntity(i=>{if(i instanceof qm&&i.isInstanceRoot)return i.expandInstanceChildren({scene:this,shared:e,pendingDeletes:n}),t||i.resetBBoxNeedsUpdate(),r&&i.traverseEntity(o=>{r.addClip(o)}),!0});for(let i of n)this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(i),I6(i)}recomputeInstances(e,t){this.needsRecomputeInstances&&(this.needsRecomputeInstances=!1,this.traverseEntity(r=>{r instanceof qm&&r.isInstanceRoot&&(r.component=void 0)}),this.expandInstances(e,!1,t))}disposeAndUnregisterEntityRecursivelyIfNotReregistered(e){e.traverseEntity(t=>{let r=typeof t.identity=="string"?t.identity:t.identity.join("-");this.entityIdentityToEntity[r]===t&&(delete this.entityByUuid[t.uuid],delete this.entityIdentityToEntity[r]),t.dispose()})}clearScene(){for(let e of this.children)or.is(e)&&e.disposeRecursively();this.children.length=0}resetAfterClear(e,t){this.init(e,t)}raycast(e){return this.raycast1(e,!1)}raycast1(e,t){let r=[],n=i=>{for(let o of i.children){let l=o.cloner;if(or.is(o)&&!o.raycastLock&&(o.visible||l!=null&&l.object.data.visible))if(t===!0&&o.isInstanceRoot){let c=[];if(e.intersectObject(o,!0,c),c.length){let a=c[0];a.object=o,a.point.applyMatrix4(a.object.matrixWorld);let s=o.matrixWorld.clone().invert();a.point.applyMatrix4(s),r.push(a)}}else(Ws(o)||a5(o)&&this.enableHelpers&&o.objectHelper.visible)&&(e.intersectObject(o,!1,r),f5(o,e,r)),n(o)}};return n(this),r}raycastWithClones(e){let t=[],r=n=>{for(let i of n.children){let o=i.cloner;or.is(i)&&(i.visible||o!=null&&o.object.data.visible)&&((Ws(i)||a5(i)&&this.enableHelpers&&i.objectHelper.visible)&&(e.intersectObject(i,!1,t),f5(i,e,t,!0)),r(i))}};return r(this),t}forEachEntity(e){for(let t of this.children)or.is(t)&&e(t)}traverseConcreteEntity(e){for(let t of this.children)or.is(t)&&t.isConcreteEntity&&t.traverseEntity(e)}traverseEntity(e){for(let t of this.children)or.is(t)&&t.traverseEntity(e)}updateFont(e,t){this.traverseEntity(r=>{if(r instanceof bo&&r.data.type==="Mesh"&&r.data.geometry.type==="TextGeometry"&&r.data.geometry.font===e){let n=r.geometry,i=r.data.geometry;n.updateFont(e,t).then(()=>{n.update(i);let o=r.invalidateDownstreamBooleanData();Jc(o)&&o.recomputeBoolean()})}})}traverseObject(e){for(let t of this.children)p1.is(t)&&t.traverseObject(e)}traverseVisibleEntity(e){for(let t of this.children)or.is(t)&&t.visible&&t.traverseVisibleEntity(e)}dispose(){this.clearScene()}createChildrenObjects(e,t,r){let n=0;for(let i of e)this.createObject(i.id,i.data,i.children,t,n,r),n+=1}registerObjectCreatedInLegacy(e){this.entityByUuid[e.uuid]=e}unregisterObject(e){delete this.entityByUuid[e.uuid];for(let t of e.children)this.unregisterObject(t)}createObject(e,t,r,n,i,o){var a;let l={scene:this,shared:o},c=O6(e,t,l);return c&&(this.entityByUuid[e]=c,n.add(c),n.children.splice(i,0,n.children.pop()),r.length>0&&(c.isInstanceRoot?console.error("instance should not have children!"):this.createChildrenObjects(r,c,o)),c.updateState(t,l),c instanceof bo&&c.updateGeometryGroupsIfNeeded(),c.updateVisible(),c.cloner&&this.toExpandCloner.add(c),(a=t.pathSnapping)!=null&&a.pathId&&this.pathConstraints.setConstraint(e,t.pathSnapping.pathId)),t.type==="Empty"&&t.animations&&c.traverseEntity(s=>{let u=s.dataPatched;if(s instanceof bo&&u.bones&&u.boneInverses){let d=u.bones.map(m=>this.find(m)),h=u.boneInverses.map(m=>new Ne().fromArray(m)),f=new Cj(d,h);s.bind(f,s.bindMatrix)}else s.matrixAutoUpdate=!0}),c}getCenter(e){let t=[];for(let n=0,i=e.length;n<i;++n){let{id:o,recursive:l}=e[n],c=this.find(o),a=l?c.recursiveBBox:c.singleBBox;t.push(...a.vertices)}let r=new Rn;return r.setFromPoints(t),r.getCenter(G7),G7}copyMatrixWorld(e,t){if(e===null){t.identity();return}let r=this.find(e);r?t.copy(r.matrixWorld):t.identity()}copyParentMatrixWorld(e,t){var n;if(e===null){t.identity();return}let r=(n=this.find(e))==null?void 0:n.parent;r?t.copy(r.matrixWorld):t.identity()}traverseMaterial(e){this.traverseEntity(t=>{if(t instanceof ea)if(Array.isArray(t.material))for(let r=0;r<t.material.length;r++)t.material[r]instanceof Hd&&e(t.material[r]);else t.material instanceof Hd&&e(t.material)})}updateViewPlaneSize(e,t,r=!1){this.traverseConcreteEntity(n=>{n instanceof Ki&&n.setViewplaneSize(e,t,r)})}initializeSplatViewer(e){this.splatViewer=new qNe({scene:this,renderer:e}),this.reloadSplats()}reloadSplats(){var e;(e=this.splatViewer)==null||e.reloadSplats()}},Gw=(e,t)=>{let r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)},YNe=(e,t)=>{let r=t.x-e.x,n=t.y-e.y;return $Ne(Math.atan2(n,r))},XNe=(e,t,r)=>{let n={x:0,y:0};return r=v5(r),n.x=e.x-t*Math.cos(r),n.y=e.y-t*Math.sin(r),n},v5=e=>e*(Math.PI/180),$Ne=e=>e*(180/Math.PI),KNe=e=>isNaN(e.buttons)?e.pressure!==0:e.buttons!==0,wM=new Map,q7=e=>{wM.has(e)&&clearTimeout(wM.get(e)),wM.set(e,setTimeout(e,100))},G2=(e,t,r)=>{let n=t.split(/[ ,]+/g),i;for(let o=0;o<n.length;o+=1)i=n[o],e.addEventListener?e.addEventListener(i,r,!1):e.attachEvent&&e.attachEvent(i,r)},Y7=(e,t,r)=>{let n=t.split(/[ ,]+/g),i;for(let o=0;o<n.length;o+=1)i=n[o],e.removeEventListener?e.removeEventListener(i,r):e.detachEvent&&e.detachEvent(i,r)},dJ=e=>(e.preventDefault(),e.type.match(/^touch/)?e.changedTouches:e),X7=()=>{if(typeof window>"u")return;let e=window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return{x:e,y:t}},y5=(e,t)=>{t.top||t.right||t.bottom||t.left?(e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left):(e.style.left=t.x+"px",e.style.top=t.y+"px")},L6=(e,t,r)=>{let n=hJ(e);for(let i in n)if(n.hasOwnProperty(i))if(typeof t=="string")n[i]=t+" "+r;else{let o="";for(let l=0,c=t.length;l<c;l+=1)o+=t[l]+" "+r+", ";n[i]=o.slice(0,-2)}return n},QNe=(e,t)=>{let r=hJ(e);for(let n in r)r.hasOwnProperty(n)&&(r[n]=t);return r},hJ=e=>{let t={};return t[e]="",["webkit","Moz","o"].forEach(function(r){t[r+e.charAt(0).toUpperCase()+e.slice(1)]=""}),t},_M=(e,t)=>{for(let r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},JNe=(e,t)=>{let r={};for(let n in e)e.hasOwnProperty(n)&&t.hasOwnProperty(n)?r[n]=t[n]:e.hasOwnProperty(n)&&(r[n]=e[n]);return r},b5=(e,t)=>{if(e.length)for(let r=0,n=e.length;r<n;r+=1)t(e[r]);else t(e)},ZNe=(e,t,r)=>({x:Math.min(Math.max(e.x,t.x-r),t.x+r),y:Math.min(Math.max(e.y,t.y-r),t.y+r)});typeof window<"u"&&(fJ="ontouchstart"in window,pJ=!!window.PointerEvent,mJ=!!window.MSPointerEvent);var fJ,pJ,mJ,lv={touch:{start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"},MSPointer:{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}},xm,g1={};pJ?xm=lv.pointer:mJ?xm=lv.MSPointer:fJ?(xm=lv.touch,g1=lv.mouse):xm=lv.mouse;function Ff(){}Ff.prototype.on=function(e,t){var r=this,n=e.split(/[ ,]+/g),i;r._handlers_=r._handlers_||{};for(var o=0;o<n.length;o+=1)i=n[o],r._handlers_[i]=r._handlers_[i]||[],r._handlers_[i].push(t);return r};Ff.prototype.off=function(e,t){var r=this;return r._handlers_=r._handlers_||{},e===void 0?r._handlers_={}:t===void 0?r._handlers_[e]=null:r._handlers_[e]&&r._handlers_[e].indexOf(t)>=0&&r._handlers_[e].splice(r._handlers_[e].indexOf(t),1),r};Ff.prototype.trigger=function(e,t){var r=this,n=e.split(/[ ,]+/g),i;r._handlers_=r._handlers_||{};for(var o=0;o<n.length;o+=1)i=n[o],r._handlers_[i]&&r._handlers_[i].length&&r._handlers_[i].forEach(function(l){l.call(r,{type:i,target:r},t)})};Ff.prototype.config=function(e){var t=this;t.options=t.defaults||{},e&&(t.options=JNe(t.options,e))};Ff.prototype.bindEvt=function(e,t){var r=this;return r._domHandlers_=r._domHandlers_||{},r._domHandlers_[t]=function(){typeof r["on"+t]=="function"?r["on"+t].apply(r,arguments):console.warn('[WARNING] : Missing "on'+t+'" handler.')},G2(e,xm[t],r._domHandlers_[t]),g1[t]&&G2(e,g1[t],r._domHandlers_[t]),r};Ff.prototype.unbindEvt=function(e,t){var r=this;return r._domHandlers_=r._domHandlers_||{},Y7(e,xm[t],r._domHandlers_[t]),g1[t]&&Y7(e,g1[t],r._domHandlers_[t]),delete r._domHandlers_[t],this};var z6=Ff;function hi(e,t){return this.identifier=t.identifier,this.position=t.position,this.frontPosition=t.frontPosition,this.collection=e,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(t),this.options.mode==="dynamic"&&(this.options.restOpacity=0),this.id=hi.id,hi.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}hi.prototype=new z6;hi.constructor=hi;hi.id=0;hi.prototype.buildEl=function(e){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)};hi.prototype.stylize=function(){if(this.options.dataOnly)return this;var e=this.options.fadeTime+"ms",t=QNe("borderRadius","50%"),r=L6("transition","opacity",e),n={};return n.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},n.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:"rgba(255, 255, 255, .4)",border:"solid 2px rgba(0, 0, 0, .1)"},n.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:"rgba(255, 255, 255, .8)",border:"solid 2px rgba(0, 0, 0, .1)"},_M(n.el,r),this.options.shape==="circle"&&_M(n.back,t),_M(n.front,t),this.applyStyles(n),this};hi.prototype.applyStyles=function(e){for(var t in this.ui)if(this.ui.hasOwnProperty(t))for(var r in e[t])this.ui[t].style[r]=e[t][r];return this};hi.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)};hi.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)};hi.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()};hi.prototype.show=function(e){var t=this;return t.options.dataOnly||(clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.addToDom(),t.restCallback(),setTimeout(function(){t.ui.el.style.opacity=1},0),t.showTimeout=setTimeout(function(){t.trigger("shown",t.instance),typeof e=="function"&&e.call(this)},t.options.fadeTime)),t};hi.prototype.hide=function(e){var t=this;if(t.options.dataOnly)return t;if(t.ui.el.style.opacity=t.options.restOpacity,clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.removeTimeout=setTimeout(function(){var r=t.options.mode==="dynamic"?"none":"block";t.ui.el.style.display=r,typeof e=="function"&&e.call(t),t.trigger("hidden",t.instance)},t.options.fadeTime),t.options.restJoystick){let r=t.options.restJoystick,n={};n.x=r===!0||r.x!==!1?0:t.instance.frontPosition.x,n.y=r===!0||r.y!==!1?0:t.instance.frontPosition.y,t.setPosition(e,n)}return t};hi.prototype.setPosition=function(e,t){var r=this;r.frontPosition={x:t.x,y:t.y};var n=r.options.fadeTime+"ms",i={};i.front=L6("transition",["top","left"],n);var o={front:{}};o.front={left:r.frontPosition.x+"px",top:r.frontPosition.y+"px"},r.applyStyles(i),r.applyStyles(o),r.restTimeout=setTimeout(function(){typeof e=="function"&&e.call(r),r.restCallback()},r.options.fadeTime)};hi.prototype.restCallback=function(){var e=this,t={};t.front=L6("transition","none",""),e.applyStyles(t),e.trigger("rested",e.instance)};hi.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}};hi.prototype.computeDirection=function(e){var t=e.angle.radian,r=Math.PI/4,n=Math.PI/2,i,o,l;if(t>r&&t<r*3&&!e.lockX?i="up":t>-r&&t<=r&&!e.lockY?i="left":t>-r*3&&t<=-r&&!e.lockX?i="down":e.lockY||(i="right"),e.lockY||(t>-n&&t<n?o="left":o="right"),e.lockX||(t>0?l="up":l="down"),e.force>this.options.threshold){var c={},a;for(a in this.direction)this.direction.hasOwnProperty(a)&&(c[a]=this.direction[a]);var s={};this.direction={x:o,y:l,angle:i},e.direction=this.direction;for(a in c)c[a]===this.direction[a]&&(s[a]=!0);if(s.x&&s.y&&s.angle)return e;(!s.x||!s.y)&&this.trigger("plain",e),s.x||this.trigger("plain:"+o,e),s.y||this.trigger("plain:"+l,e),s.angle||this.trigger("dir dir:"+i,e)}else this.resetDirection();return e};var e9e=hi;function Ln(e,t){var r=this;r.nipples=[],r.idles=[],r.actives=[],r.ids=[],r.pressureIntervals={},r.manager=e,r.id=Ln.id,Ln.id+=1,r.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},r.config(t),(r.options.mode==="static"||r.options.mode==="semi")&&(r.options.multitouch=!1),r.options.multitouch||(r.options.maxNumberOfNipples=1);let n=getComputedStyle(r.options.zone.parentElement);return n&&n.display==="flex"&&(r.parentIsFlex=!0),r.updateBox(),r.prepareNipples(),r.bindings(),r.begin(),r.nipples}Ln.prototype=new z6;Ln.constructor=Ln;Ln.id=0;Ln.prototype.prepareNipples=function(){var e=this,t=e.nipples;t.on=e.on.bind(e),t.off=e.off.bind(e),t.options=e.options,t.destroy=e.destroy.bind(e),t.ids=e.ids,t.id=e.id,t.processOnMove=e.processOnMove.bind(e),t.processOnEnd=e.processOnEnd.bind(e),t.get=function(r){if(r===void 0)return t[0];for(var n=0,i=t.length;n<i;n+=1)if(t[n].identifier===r)return t[n];return!1}};Ln.prototype.bindings=function(){var e=this;e.bindEvt(e.options.zone,"start"),e.options.zone.style.touchAction="none",e.options.zone.style.msTouchAction="none"};Ln.prototype.begin=function(){var e=this,t=e.options;if(t.mode==="static"){var r=e.createNipple(t.position,e.manager.getIdentifier());r.add(),e.idles.push(r)}};Ln.prototype.createNipple=function(e,t){var r=this,n=r.manager.scroll,i={},o=r.options,l={x:r.parentIsFlex?n.x:n.x+r.box.left,y:r.parentIsFlex?n.y:n.y+r.box.top};if(e.x&&e.y)i={x:e.x-l.x,y:e.y-l.y};else if(e.top||e.right||e.bottom||e.left){var c=document.createElement("DIV");c.style.display="hidden",c.style.top=e.top,c.style.right=e.right,c.style.bottom=e.bottom,c.style.left=e.left,c.style.position="absolute",o.zone.appendChild(c);var a=c.getBoundingClientRect();o.zone.removeChild(c),i=e,e={x:a.left+n.x,y:a.top+n.y}}var s=new e9e(r,{color:o.color,size:o.size,threshold:o.threshold,fadeTime:o.fadeTime,dataOnly:o.dataOnly,restJoystick:o.restJoystick,restOpacity:o.restOpacity,mode:o.mode,identifier:t,position:e,zone:o.zone,frontPosition:{x:0,y:0},shape:o.shape});return o.dataOnly||(y5(s.ui.el,i),y5(s.ui.front,s.frontPosition)),r.nipples.push(s),r.trigger("added "+s.identifier+":added",s),r.manager.trigger("added "+s.identifier+":added",s),r.bindNipple(s),s};Ln.prototype.updateBox=function(){var e=this;e.box=e.options.zone.getBoundingClientRect()};Ln.prototype.bindNipple=function(e){var t=this,r,n=function(i,o){r=i.type+" "+o.id+":"+i.type,t.trigger(r,o)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",n),e.on("dir:up dir:right dir:down dir:left",n),e.on("plain:up plain:right plain:down plain:left",n)};Ln.prototype.pressureFn=function(e,t,r){var n=this,i=0;clearInterval(n.pressureIntervals[r]),n.pressureIntervals[r]=setInterval((function(){var o=e.force||e.pressure||e.webkitForce||0;o!==i&&(t.trigger("pressure",o),n.trigger("pressure "+t.identifier+":pressure",o),i=o)}).bind(n),100)};Ln.prototype.onstart=function(e){var t=this,r=t.options,n=e;e=dJ(e),t.updateBox();var i=function(o){t.actives.length<r.maxNumberOfNipples?t.processOnStart(o):n.type.match(/^touch/)&&(Object.keys(t.manager.ids).forEach(function(l){if(Object.values(n.touches).findIndex(function(a){return a.identifier===l})<0){var c=[e[0]];c.identifier=l,t.processOnEnd(c)}}),t.actives.length<r.maxNumberOfNipples&&t.processOnStart(o))};return b5(e,i),t.manager.bindDocument(),!1};Ln.prototype.processOnStart=function(e){var t=this,r=t.options,n,i=t.manager.getIdentifier(e),o=e.force||e.pressure||e.webkitForce||0,l={x:e.pageX,y:e.pageY},c=t.getOrCreate(i,l);c.identifier!==i&&t.manager.removeIdentifier(c.identifier),c.identifier=i;var a=function(u){u.trigger("start",u),t.trigger("start "+u.id+":start",u),u.show(),o>0&&t.pressureFn(e,u,u.identifier),t.processOnMove(e)};if((n=t.idles.indexOf(c))>=0&&t.idles.splice(n,1),t.actives.push(c),t.ids.push(c.identifier),r.mode!=="semi")a(c);else{var s=Gw(l,c.position);if(s<=r.catchDistance)a(c);else{c.destroy(),t.processOnStart(e);return}}return c};Ln.prototype.getOrCreate=function(e,t){var r=this,n=r.options,i;return/(semi|static)/.test(n.mode)?(i=r.idles[0],i?(r.idles.splice(0,1),i):n.mode==="semi"?r.createNipple(t,e):(console.warn("Coudln't find the needed nipple."),!1)):(i=r.createNipple(t,e),i)};Ln.prototype.processOnMove=function(e){var t=this,r=t.options,n=t.manager.getIdentifier(e),i=t.nipples.get(n),o=t.manager.scroll;if(!KNe(e)){this.processOnEnd(e);return}if(!i){console.error("Found zombie joystick with ID "+n),t.manager.removeIdentifier(n);return}if(r.dynamicPage){var l=i.el.getBoundingClientRect();i.position={x:o.x+l.left,y:o.y+l.top}}i.identifier=n;var c=i.options.size/2,a={x:e.pageX,y:e.pageY};r.lockX&&(a.y=i.position.y),r.lockY&&(a.x=i.position.x);var s=Gw(a,i.position),u=YNe(a,i.position),d=v5(u),h=s/c,f={distance:s,position:a},m,p;if(i.options.shape==="circle"?(m=Math.min(s,c),p=XNe(i.position,m,u)):(p=ZNe(a,i.position,c),m=Gw(p,i.position)),r.follow){if(s>c){let y=a.x-p.x,b=a.y-p.y;i.position.x+=y,i.position.y+=b,i.el.style.top=i.position.y-(t.box.top+o.y)+"px",i.el.style.left=i.position.x-(t.box.left+o.x)+"px",s=Gw(a,i.position)}}else a=p,s=m;var g=a.x-i.position.x,v=a.y-i.position.y;i.frontPosition={x:g,y:v},r.dataOnly||y5(i.ui.front,i.frontPosition);var x={identifier:i.identifier,position:a,force:h,pressure:e.force||e.pressure||e.webkitForce||0,distance:s,angle:{radian:d,degree:u},vector:{x:g/c,y:-v/c},raw:f,instance:i,lockX:r.lockX,lockY:r.lockY};x=i.computeDirection(x),x.angle={radian:v5(180-u),degree:180-u},i.trigger("move",x),t.trigger("move "+i.id+":move",x)};Ln.prototype.processOnEnd=function(e){var t=this,r=t.options,n=t.manager.getIdentifier(e),i=t.nipples.get(n),o=t.manager.removeIdentifier(i.identifier);!i||(r.dataOnly||i.hide(function(){r.mode==="dynamic"&&(i.trigger("removed",i),t.trigger("removed "+i.id+":removed",i),t.manager.trigger("removed "+i.id+":removed",i),i.destroy())}),clearInterval(t.pressureIntervals[i.identifier]),i.resetDirection(),i.trigger("end",i),t.trigger("end "+i.id+":end",i),t.ids.indexOf(i.identifier)>=0&&t.ids.splice(t.ids.indexOf(i.identifier),1),t.actives.indexOf(i)>=0&&t.actives.splice(t.actives.indexOf(i),1),/(semi|static)/.test(r.mode)?t.idles.push(i):t.nipples.indexOf(i)>=0&&t.nipples.splice(t.nipples.indexOf(i),1),t.manager.unbindDocument(),/(semi|static)/.test(r.mode)&&(t.manager.ids[o.id]=o.identifier))};Ln.prototype.onDestroyed=function(e,t){var r=this;r.nipples.indexOf(t)>=0&&r.nipples.splice(r.nipples.indexOf(t),1),r.actives.indexOf(t)>=0&&r.actives.splice(r.actives.indexOf(t),1),r.idles.indexOf(t)>=0&&r.idles.splice(r.idles.indexOf(t),1),r.ids.indexOf(t.identifier)>=0&&r.ids.splice(r.ids.indexOf(t.identifier),1),r.manager.removeIdentifier(t.identifier),r.manager.unbindDocument()};Ln.prototype.destroy=function(){var e=this;e.unbindEvt(e.options.zone,"start"),e.nipples.forEach(function(r){r.destroy()});for(var t in e.pressureIntervals)e.pressureIntervals.hasOwnProperty(t)&&clearInterval(e.pressureIntervals[t]);e.trigger("destroyed",e.nipples),e.manager.unbindDocument(),e.off()};var t9e=Ln;function _i(e){var t=this;t.ids={},t.index=0,t.collections=[],t.scroll=X7(),t.config(e),t.prepareCollections();var r=function(){var i;t.collections.forEach(function(o){o.forEach(function(l){i=l.el.getBoundingClientRect(),l.position={x:t.scroll.x+i.left,y:t.scroll.y+i.top}})})};if(typeof window>"u")return t.collections;G2(window,"resize",function(){q7(r)});var n=function(){t.scroll=X7()};return G2(window,"scroll",function(){q7(n)}),t.collections}_i.prototype=new z6;_i.constructor=_i;_i.prototype.prepareCollections=function(){var e=this;e.collections.create=e.create.bind(e),e.collections.on=e.on.bind(e),e.collections.off=e.off.bind(e),e.collections.destroy=e.destroy.bind(e),e.collections.get=function(t){var r;return e.collections.every(function(n){return r=n.get(t),!r}),r}};_i.prototype.create=function(e){return this.createCollection(e)};_i.prototype.createCollection=function(e){var t=this,r=new t9e(t,e);return t.bindCollection(r),t.collections.push(r),r};_i.prototype.bindCollection=function(e){var t=this,r,n=function(i,o){r=i.type+" "+o.id+":"+i.type,t.trigger(r,o)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",n),e.on("dir:up dir:right dir:down dir:left",n),e.on("plain:up plain:right plain:down plain:left",n)};_i.prototype.bindDocument=function(){var e=this;e.binded||(e.bindEvt(document,"move").bindEvt(document,"end"),e.binded=!0)};_i.prototype.unbindDocument=function(e){var t=this;(!Object.keys(t.ids).length||e===!0)&&(t.unbindEvt(document,"move").unbindEvt(document,"end"),t.binded=!1)};_i.prototype.getIdentifier=function(e){var t;return e?(t=e.identifier===void 0?e.pointerId:e.identifier,t===void 0&&(t=this.latest||0)):t=this.index,this.ids[t]===void 0&&(this.ids[t]=this.index,this.index+=1),this.latest=t,this.ids[t]};_i.prototype.removeIdentifier=function(e){var t={};for(var r in this.ids)if(this.ids[r]===e){t.id=r,t.identifier=this.ids[r],delete this.ids[r];break}return t};_i.prototype.onmove=function(e){var t=this;return t.onAny("move",e),!1};_i.prototype.onend=function(e){var t=this;return t.onAny("end",e),!1};_i.prototype.oncancel=function(e){var t=this;return t.onAny("end",e),!1};_i.prototype.onAny=function(e,t){var r=this,n,i="processOn"+e.charAt(0).toUpperCase()+e.slice(1);t=dJ(t);var o=function(c,a,s){s.ids.indexOf(a)>=0&&(s[i](c),c._found_=!0)},l=function(c){n=r.getIdentifier(c),b5(r.collections,o.bind(null,c,n)),c._found_||r.removeIdentifier(n)};return b5(t,l),!1};_i.prototype.destroy=function(){var e=this;e.unbindDocument(!0),e.ids={},e.index=0,e.collections.forEach(function(t){t.destroy()}),e.off()};_i.prototype.onDestroyed=function(e,t){var r=this;if(r.collections.indexOf(t)<0)return!1;r.collections.splice(r.collections.indexOf(t),1)};var r9e=_i,$7=new r9e,n9e={create:function(e){return $7.create(e)},factory:$7},gJ=new Map,dy=new Map,Wh=class{constructor(e,t,r,n){this.data=t;let{audio:i,volume:o,delay:l,loop:c}=t;if(!i)throw new Error("Missing property");let a=typeof i=="string"?n.getAudio(i).src:i.data;this.audioPlayer=new Ov({src:a,volume:o,delay:l,loop:c}),dy.has(r.uuid)?dy.get(r.uuid).push(this):dy.set(r.uuid,[this]),gJ.set(e,this)}playByToggle(){this.data.toggle==="stop"?this.audioPlayer.status==="playing"?this.audioPlayer.stop():(this.audioPlayer.stop(),this.audioPlayer.play()):this.data.toggle==="pause"?this.audioPlayer.status==="playing"?this.audioPlayer.pause():this.audioPlayer.play():(this.audioPlayer.stop(),this.audioPlayer.play())}dispose(){this.audioPlayer.stop()}},x5=class{constructor(e){this.data=e}dispatch(){this.data.playAudio?this.pauseAudio(this.data.playAudio):this.data.object?this.pauseAllAudiosFromObject(this.data.object):this.pauseAllAudios()}pauseAudio(e){let t=gJ.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.audioPlayer[this.data.interaction](),this.disposeDelay()},this.data.delay)):t.audioPlayer[this.data.interaction]())}pauseAllAudiosFromObject(e){let t=dy.get(e);!(t!=null&&t.length)||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(r=>r.audioPlayer[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(r=>r.audioPlayer[this.data.interaction]()))}pauseAllAudios(){let e=[...dy.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(r=>{r.audioPlayer[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(r=>{r.audioPlayer[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},vJ=class{constructor(e,t,r,n,i){if(this.data=t,this.shared=n,this.condition=i,t.interaction==="play")this.interaction=new Wh(e,t,r,n);else if(t.interaction==="pause"||t.interaction==="stop")this.interaction=new x5(t);else throw new Error("Missing property")}dispatchBasic(){if(Zn(this.shared,this.condition)===!1)return!1;this.interaction instanceof Wh?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(Zn(this.shared,this.condition)===!1)return!1;this.interaction instanceof Wh?this.interaction.audioPlayer.play():this.interaction.dispatch()}dispatchGameControl(e){if(Zn(this.shared,this.condition)===!1)return!1;this.interaction instanceof Wh&&(e==="start"?this.interaction.audioPlayer.play():this.interaction.audioPlayer.stop())}dispose(){this.interaction.dispose()}},i9e="text/plain",o9e="us-ascii",K7=(e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),a9e=(e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:o}=r.groups,l=n.split(";");o=t?"":o;let c=!1;l[l.length-1]==="base64"&&(l.pop(),c=!0);let a=(l.shift()||"").toLowerCase(),s=[...l.map(u=>{let[d,h=""]=u.split("=").map(f=>f.trim());return d==="charset"&&(h=h.toLowerCase(),h===o9e)?"":`${d}${h?`=${h}`:""}`}).filter(Boolean)];return c&&s.push("base64"),(s.length>0||a&&a!==i9e)&&s.unshift(a),`data:${s.join(";")},${c?i.trim():i}${o?`#${o}`:""}`};function s9e(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return a9e(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let n=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&n.protocol==="https:"&&(n.protocol="http:"),t.forceHttps&&n.protocol==="http:"&&(n.protocol="https:"),t.stripAuthentication&&(n.username="",n.password=""),t.stripHash?n.hash="":t.stripTextFragment&&(n.hash=n.hash.replace(/#?:~:text.*?$/i,"")),n.pathname){let o=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,c="";for(;;){let s=o.exec(n.pathname);if(!s)break;let u=s[0],d=s.index,h=n.pathname.slice(l,d);c+=h.replace(/\/{2,}/g,"/"),c+=u,l=d+u.length}let a=n.pathname.slice(l,n.pathname.length);c+=a.replace(/\/{2,}/g,"/"),n.pathname=c}if(n.pathname)try{n.pathname=decodeURI(n.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let o=n.pathname.split("/"),l=o[o.length-1];K7(l,t.removeDirectoryIndex)&&(o=o.slice(0,-1),n.pathname=o.slice(1).join("/")+"/")}if(n.hostname&&(n.hostname=n.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(n.hostname)&&(n.hostname=n.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let o of[...n.searchParams.keys()])K7(o,t.removeQueryParameters)&&n.searchParams.delete(o);if(t.removeQueryParameters===!0&&(n.search=""),t.sortQueryParameters){n.searchParams.sort();try{n.search=decodeURIComponent(n.search)}catch{}}t.removeTrailingSlash&&(n.pathname=n.pathname.replace(/\/$/,""));let i=e;return e=n.toString(),!t.removeSingleSlash&&n.pathname==="/"&&!i.endsWith("/")&&n.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||n.pathname==="/")&&n.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}var l9e=class{constructor({url:e,context:t},r,n,i){if(this.controlsManager=r,this.shared=n,this.condition=i,!e)throw new Error("Missing property");this.url=e.startsWith("mailto:")?e:s9e(e,{removeTrailingSlash:!1,removeSingleSlash:!1}),this.context=t??"tab"}dispatch(){var e;if(Zn(this.shared,this.condition)===!1)return!1;Zj?window.location.assign(this.url):(this.context==="tab"?window.open(this.url,"_blank"):this.context==="window"?window.open(this.url,"_blank",`width=${window.innerWidth}, height=${window.innerHeight}`):window.open(this.url,"_parent"),(e=this.controlsManager.orbitControls)==null||e.onPointerUp(Mt[0]),_je())}},yJ=class{constructor(e,t,r,n,i){this.data=e,this.page=t,this.controlsManager=r,this.shared=n,this.condition=i,this.timeoutIdQueue=[],this.dispatchInner=()=>{this.objects.forEach(this.destroyCallback)},this.destroyCallback=o=>{var s,u;this.timeoutIdQueue.shift();let l=this.page.scene.find(o);if(l===void 0)return;let c=this.controlsManager.sharedGameControlGlobals.rapierWorld,a=c?(s=l.dataPatched.physics)==null?void 0:s.fusedBody:!0;if(l.cloner){for(let d of l.cloner.children)a?(d.playModeVisible=!1,d.rigidBody&&((u=l.dataPatched.physics)==null?void 0:u.rigidBody)==="positioned"&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(d.rigidBody.collider(0).handle),c.removeRigidBody(d.rigidBody),d.rigidBody=void 0),d.bvhGeometry&&(d.bvhGeometry=void 0)):this.clone===void 0||this.clone===d?(d.playModeVisible=!1,d.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(d.rigidBody.collider(0).handle),c.removeRigidBody(d.rigidBody),d.rigidBody=void 0)):d.playModeVisible===void 0&&(d.playModeVisible=!0);(a||this.clone===void 0||this.clone===!1)&&(l.visible=!1,l.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(l.rigidBody.collider(0).handle),c.removeRigidBody(l.rigidBody),l.rigidBody=void 0),l.bvhGeometry&&(l.bvhGeometry=void 0))}else l.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(l.rigidBody.collider(0).handle),c.removeRigidBody(l.rigidBody),l.rigidBody=void 0),l.bvhGeometry&&(l.bvhGeometry=void 0),l.visible=!1;c===void 0?this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(d=>d.bvhGeometry!==void 0):this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(d=>d.rigidBody!==void 0),l.destroyedInAction=!0,this.controlsManager.requestRender()},this.objects=[...e.objects]}dispatch(e){if(Zn(this.shared,this.condition)===!1)return!1;this.clone=e,this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3)):this.dispatchInner()}dispatchFromStart(){if(Zn(this.shared,this.condition)===!1)return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3))}dispose(){this.timeoutIdQueue.forEach(e=>window.clearTimeout(e))}},bJ=class{constructor(e,t,r,n,i){this.data=e,this.page=t,this.shared=r,this.eventManager=n,this.condition=i,this.shared=r}dispatch(){if(Zn(this.shared,this.condition)===!1)return!1;clearTimeout(this.timeoutId),delete this.timeoutId,this.timeoutId=window.setTimeout(()=>{var e;this.shared.reset(this.shared.data,!0),Y6(this.page,this.shared,!0),this.eventManager.reset(),(e=this.eventManager.controlsManager.gameControl)==null||e.reset(!0),this.page.switchToPlayCamera(),this.eventManager.controlsManager.requestRender(),delete this.timeoutId},(this.data.delay??0)*1e3)}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},xJ={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,timelineChangeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0,rewind:!0},N6={duration:1e3,delay:0,endDelay:0,startOnceDelay:0,pingPongDelayCorrection:0,pingPongEndDelayCorrection:0,easing:"easeOutElastic(1, .5)",round:0},c9e=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],q2={CSS:{},springs:{}};function Ks(e,t,r){return Math.min(Math.max(e,t),r)}function hy(e,t){return e.indexOf(t)>-1}function SM(e,t){return e.apply(null,t)}var Pt={arr:function(e){return Array.isArray(e)},obj:function(e){return hy(Object.prototype.toString.call(e),"Object")},pth:function(e){return Pt.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return!("isNode"in e)&&(e.nodeType||Pt.svg(e))},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return Pt.hex(e)||Pt.rgb(e)||Pt.hsl(e)},key:function(e){return!xJ.hasOwnProperty(e)&&!N6.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function wJ(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(r){return parseFloat(r)}):[]}function _J(e,t){var r=wJ(e),n=Ks(Pt.und(r[0])?1:r[0],.1,100),i=Ks(Pt.und(r[1])?100:r[1],.1,100),o=Ks(Pt.und(r[2])?10:r[2],.1,100),l=Ks(Pt.und(r[3])?0:r[3],.1,100),c=Math.sqrt(i/n),a=o/(2*Math.sqrt(i*n)),s=a<1?c*Math.sqrt(1-a*a):0,u=1,d=a<1?(a*c+-l)/s:-l+c;function h(m){var p=t?t*m/1e3:m;return a<1?p=Math.exp(-p*a*c)*(u*Math.cos(s*p)+d*Math.sin(s*p)):p=(u+d*p)*Math.exp(-p*c),m===0||m===1?m:1-p}function f(){var m=q2.springs[e];if(m)return m;for(var p=1/6,g=0,v=0;;)if(g+=p,h(g)===1){if(v++,v>=16)break}else v=0;var x=g*p*1e3;return q2.springs[e]=x,x}return t?h:f}function u9e(e){return e===void 0&&(e=10),function(t){return Math.ceil(Ks(t,1e-6,1)*e)*(1/e)}}var d9e=function(){var e=11,t=1/(e-1);function r(u,d){return 1-3*d+3*u}function n(u,d){return 3*d-6*u}function i(u){return 3*u}function o(u,d,h){return((r(d,h)*u+n(d,h))*u+i(d))*u}function l(u,d,h){return 3*r(d,h)*u*u+2*n(d,h)*u+i(d)}function c(u,d,h,f,m){var p,g,v=0;do g=d+(h-d)/2,p=o(g,f,m)-u,p>0?h=g:d=g;while(Math.abs(p)>1e-7&&++v<10);return g}function a(u,d,h,f){for(var m=0;m<4;++m){var p=l(d,h,f);if(p===0)return d;var g=o(d,h,f)-u;d-=g/p}return d}function s(u,d,h,f){if(!(0<=u&&u<=1&&0<=h&&h<=1))return;var m=new Float32Array(e);if(u!==d||h!==f)for(var p=0;p<e;++p)m[p]=o(p*t,u,h);function g(v){for(var x=0,y=1,b=e-1;y!==b&&m[y]<=v;++y)x+=t;--y;var w=(v-m[y])/(m[y+1]-m[y]),_=x+w*t,S=l(_,u,h);return S>=.001?a(v,_,u,h):S===0?_:c(v,x,x+t,u,h)}return function(v){return u===d&&h===f||v===0||v===1?v:o(g(v),d,f)}}return s}(),SJ=function(){var e={linear:function(){return function(n){return n}}},t={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var i,o=4;n<((i=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((i*3-2)/22-n,2)}},Elastic:function(n,i){n===void 0&&(n=1),i===void 0&&(i=.5);var o=Ks(n,1,10),l=Ks(i,.1,2);return function(c){return c===0||c===1?c:-o*Math.pow(2,10*(c-1))*Math.sin((c-1-l/(Math.PI*2)*Math.asin(1/o))*(Math.PI*2)/l)}}},r=["Quad","Cubic","Quart","Quint","Expo"];return r.forEach(function(n,i){t[n]=function(){return function(o){return Math.pow(o,i+2)}}}),Object.keys(t).forEach(function(n){var i=t[n];e["easeIn"+n]=i,e["easeOut"+n]=function(o,l){return function(c){return 1-i(o,l)(1-c)}},e["easeInOut"+n]=function(o,l){return function(c){return c<.5?i(o,l)(c*2)/2:1-i(o,l)(c*-2+2)/2}}}),e}();function B6(e,t){if(Pt.fnc(e))return e;var r=e.split("(")[0],n=SJ[r],i=wJ(e);switch(r){case"spring":return _J(e,t);case"cubicBezier":return SM(d9e,i);case"steps":return SM(u9e,i);default:return SM(n,i)}}function EJ(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function e3(e,t){for(var r=e.length,n=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<r;o++)if(o in e){var l=e[o];t.call(n,l,o,e)&&i.push(l)}return i}function t3(e){return e.reduce(function(t,r){return t.concat(Pt.arr(r)?t3(r):r)},[])}function Q7(e){return Pt.arr(e)?e:(Pt.str(e)&&(e=EJ(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function F6(e,t){return e.some(function(r){return r===t})}function U6(e){var t={};for(var r in e)t[r]=e[r];return t}function w5(e,t){var r=U6(e);for(var n in e)r[n]=t.hasOwnProperty(n)?t[n]:e[n];return r}function r3(e,t){var r=U6(e);for(var n in t)r[n]=Pt.und(e[n])?t[n]:e[n];return r}function h9e(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function f9e(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=e.replace(t,function(c,a,s,u){return a+a+s+s+u+u}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),i=parseInt(n[1],16),o=parseInt(n[2],16),l=parseInt(n[3],16);return"rgba("+i+","+o+","+l+",1)"}function p9e(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),r=parseInt(t[1],10)/360,n=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100,o=t[4]||1;function l(h,f,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?h+(f-h)*6*m:m<1/2?f:m<2/3?h+(f-h)*(2/3-m)*6:h}var c,a,s;if(n==0)c=a=s=i;else{var u=i<.5?i*(1+n):i+n-i*n,d=2*i-u;c=l(d,u,r+1/3),a=l(d,u,r),s=l(d,u,r-1/3)}return"rgba("+c*255+","+a*255+","+s*255+","+o+")"}function m9e(e){if(Pt.rgb(e))return h9e(e);if(Pt.hex(e))return f9e(e);if(Pt.hsl(e))return p9e(e)}function au(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function g9e(e){if(hy(e,"translate")||e==="perspective")return"px";if(hy(e,"rotate")||hy(e,"skew"))return"deg"}function _5(e,t){return Pt.fnc(e)?e(t.target,t.id,t.total):e}function Hl(e,t){return e.getAttribute(t)}function V6(e,t,r){var n=au(t);if(F6([r,"deg","rad","turn"],n))return t;var i=q2.CSS[t+r];if(!Pt.und(i))return i;var o=100,l=document.createElement(e.tagName),c=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;c.appendChild(l),l.style.position="absolute",l.style.width=o+r;var a=o/l.offsetWidth;c.removeChild(l);var s=a*parseFloat(t);return q2.CSS[t+r]=s,s}function AJ(e,t,r){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(n)||"0";return r?V6(e,i,r):i}}function H6(e,t){if(Pt.dom(e)&&!Pt.inp(e)&&(Hl(e,t)||Pt.svg(e)&&e[t]))return"attribute";if(Pt.dom(e)&&F6(c9e,t))return"transform";if(Pt.dom(e)&&t!=="transform"&&AJ(e,t))return"css";if(e[t]!=null)return"object"}function CJ(e){if(Pt.dom(e)){for(var t=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,n=new Map,i;i=r.exec(t);)n.set(i[1],i[2]);return n}}function v9e(e,t,r,n){var i=hy(t,"scale")?1:0+g9e(t),o=CJ(e).get(t)||i;return r&&(r.transforms.list.set(t,o),r.transforms.last=t),n?V6(e,o,n):o}function W6(e,t,r,n){switch(H6(e,t)){case"transform":return v9e(e,t,n,r);case"css":return AJ(e,t,r);case"attribute":return Hl(e,t);default:return e[t]||0}}function G6(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var n=au(e)||0,i=parseFloat(t),o=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return i+o+n;case"-":return i-o+n;case"*":return i*o+n}}function MJ(e,t){if(Pt.col(e))return m9e(e);if(/\s/g.test(e))return e;var r=au(e),n=r?e.substr(0,e.length-r.length):e;return t?n+t:n}function q6(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function y9e(e){return Math.PI*2*Hl(e,"r")}function b9e(e){return Hl(e,"width")*2+Hl(e,"height")*2}function x9e(e){return q6({x:Hl(e,"x1"),y:Hl(e,"y1")},{x:Hl(e,"x2"),y:Hl(e,"y2")})}function TJ(e){for(var t=e.points,r=0,n,i=0;i<t.numberOfItems;i++){var o=t.getItem(i);i>0&&(r+=q6(n,o)),n=o}return r}function w9e(e){var t=e.points;return TJ(e)+q6(t.getItem(t.numberOfItems-1),t.getItem(0))}function PJ(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return y9e(e);case"rect":return b9e(e);case"line":return x9e(e);case"polyline":return TJ(e);case"polygon":return w9e(e)}}function _9e(e){var t=PJ(e);return e.setAttribute("stroke-dasharray",t),t}function S9e(e){for(var t=e.parentNode;Pt.svg(t)&&Pt.svg(t.parentNode);)t=t.parentNode;return t}function kJ(e,t){var r=t||{},n=r.el||S9e(e),i=n.getBoundingClientRect(),o=Hl(n,"viewBox"),l=i.width,c=i.height,a=r.viewBox||(o?o.split(" "):[0,0,l,c]);return{el:n,viewBox:a,x:a[0]/1,y:a[1]/1,w:l/a[2],h:c/a[3]}}function E9e(e,t){var r=Pt.str(e)?EJ(e)[0]:e,n=t||100;return function(i){return{property:i,el:r,svg:kJ(r),totalLength:PJ(r)*(n/100)}}}function A9e(e,t){function r(c){c===void 0&&(c=0);var a=t+c>=1?t+c:0;return e.el.getPointAtLength(a)}var n=kJ(e.el,e.svg),i=r(),o=r(-1),l=r(1);switch(e.property){case"x":return(i.x-n.x)*n.w;case"y":return(i.y-n.y)*n.h;case"angle":return Math.atan2(l.y-o.y,l.x-o.x)*180/Math.PI}}function J7(e,t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=MJ(Pt.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(r)?n.match(r).map(Number):[0],strings:Pt.str(e)||t?n.split(r):[]}}function DJ(e){var t=e?t3(Pt.arr(e)?e.map(Q7):Q7(e)):[];return e3(t,function(r,n,i){return i.indexOf(r)===n})}function jJ(e){var t=DJ(e);return t.map(function(r,n){return{target:r,id:n,total:t.length,transforms:{list:CJ(r)}}})}function C9e(e,t){var r=U6(t);if(/^spring/.test(r.easing)&&(r.duration=_J(r.easing)),Pt.arr(e)){var n=e.length,i=n===2&&!Pt.obj(e[0]);i?e={value:e}:Pt.fnc(t.duration)||(r.duration=t.duration/n)}var o=Pt.arr(e)?e:[e];return o.map(function(l,c){var a=Pt.obj(l)&&!Pt.pth(l)?l:{value:l};return Pt.und(a.delay)&&(a.delay=c?0:t.delay),Pt.und(a.endDelay)&&(a.endDelay=c===o.length-1?t.endDelay:0),a}).map(function(l){return r3(l,r)})}function M9e(e){for(var t=e3(t3(e.map(function(o){return Object.keys(o)})),function(o){return Pt.key(o)}).reduce(function(o,l){return o.indexOf(l)<0&&o.push(l),o},[]),r={},n=function(o){var l=t[o];r[l]=e.map(function(c){var a={};for(var s in c)Pt.key(s)?s==l&&(a.value=c[s]):a[s]=c[s];return a})},i=0;i<t.length;i++)n(i);return r}function T9e(e,t){var r=[],n=t.keyframes;n&&(t=r3(M9e(n),t));for(var i in t)Pt.key(i)&&r.push({name:i,tweens:C9e(t[i],e)});return r}function P9e(e,t){var r={};for(var n in e){var i=_5(e[n],t);Pt.arr(i)&&(i=i.map(function(o){return _5(o,t)}),i.length===1&&(i=i[0])),r[n]=i}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function k9e(e,t){var r;return e.tweens.map(function(n){var i=P9e(n,t),o=i.value,l=Pt.arr(o)?o[1]:o,c=au(l),a=W6(t.target,e.name,c,t),s=r?r.to.original:a,u=Pt.arr(o)?o[0]:s,d=au(u)||au(a),h=c||d;return Pt.und(l)&&(l=s),i.from=J7(u,h),i.to=J7(G6(l,u),h),i.start=r?r.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=B6(i.easing,i.duration),i.isPath=Pt.pth(o),i.isColor=Pt.col(i.from.original),i.isColor&&(i.round=1),r=i,i})}var IJ={css:function(e,t,r){return e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,n,i){if(n.list.set(t,r),t===n.last||i){var o="";n.list.forEach(function(l,c){o+=c+"("+l+") "}),e.style.transform=o}}};function OJ(e,t){var r=jJ(e);r.forEach(function(n){for(var i in t){var o=_5(t[i],n),l=n.target,c=au(o),a=W6(l,i,c,n),s=c||au(a),u=G6(MJ(o,s),a),d=H6(l,i);IJ[d](l,i,u,n.transforms,!0)}})}function D9e(e,t){var r=H6(e.target,t.name);if(r){var n=k9e(t,e),i=n[n.length-1];return{type:r,property:t.name,animatable:e,tweens:n,duration:i.end,delay:n[0].delay,endDelay:i.endDelay}}}function j9e(e,t){return e3(t3(e.map(function(r){return t.map(function(n){return D9e(r,n)})})),function(r){return!Pt.und(r)})}function RJ(e,t){var r=e.length,n=function(o){return o.timelineOffset?o.timelineOffset:0},i={};return i.duration=r?Math.max.apply(Math,e.map(function(o){let l=o.startOnceDelay??0,c=o.pingPongDelayCorrection??0,a=o.pingPongEndDelayCorrection??0;return n(o)+l+c+a+o.duration*(o.loop??1)})):t.duration,i.delay=r?Math.min.apply(Math,e.map(function(o){let l=o.startOnceDelay??0,c=o.pingPongDelayCorrection??0;return n(o)+l+c+o.delay})):t.delay,i.endDelay=r?i.duration-Math.max.apply(Math,e.map(function(o){let l=o.startOnceDelay??0,c=o.pingPongDelayCorrection??0,a=o.pingPongEndDelayCorrection??0;return n(o)+l+c+o.duration*(o.loop??1)-o.endDelay-a})):t.endDelay,i}var Z7=0;function I9e(e){var t=w5(xJ,e),r=w5(N6,e),n=T9e(r,e),i=jJ(e.targets),o=j9e(i,n),l=RJ(o,r),c=Z7;return Z7++,r3(t,{id:c,children:[],animatables:i,animations:o,duration:l.duration,delay:l.delay,endDelay:l.endDelay,startOnceDelay:r.startOnceDelay,pingPongDelayCorrection:r.pingPongDelayCorrection,pingPongEndDelayCorrection:r.pingPongEndDelayCorrection})}var ls=[],eF=[],qw,O9e=function(){function e(){qw=requestAnimationFrame(t)}function t(r){var n=ls.length;if(n){for(var i=0;i<n;){var o=ls[i];o.paused?(ls.splice(i,1),n-=1):(o.tick(r),i++)}e()}else qw=cancelAnimationFrame(qw)}return e}();function R9e(e){document.hidden?(ls.forEach(function(t){return t.pause(e.timeStamp)}),eF=ls.slice(0),On.running=ls=[]):eF.forEach(function(t){return t.play(e.timeStamp)})}typeof document<"u"&&document.addEventListener("visibilitychange",R9e);function On(e){e===void 0&&(e={});var t=0,r=0,n=0,i,o,l=0,c=null;function a(_){var S=window.Promise&&new Promise(function(E){return c=E});return _.finished=S,S}var s=I9e(e);a(s);function u(){var _=s.direction;_!=="alternate"&&(s.direction=_!=="normal"?"normal":"reverse"),s.reversed=!s.reversed,o.forEach(function(S){(S.loop===1||S.loop%2===0)&&(S.reversed=s.reversed)})}function d(){s.direction="normal",s.reversed=!1,o.forEach(function(_){return _.reversed=!1})}function h(_){return s.reversed?s.duration-_:_}function f(){t=0,r=h(s.currentTime)*(1/On.speed)}function m(_,S,E=!1){S&&(s.reversed?S.seek(S.duration*S.loop-(_-S.timelineOffset-S.pingPongDelayCorrection),E):S.seek(_-S.timelineOffset-S.startOnceDelay-S.pingPongDelayCorrection,E))}function p(_,S=!1){if(s.reversed)for(var E=l;E--;)m(_,o[E],S);else for(var C=0;C<l;C++)m(_,o[C],S)}function g(_){var X,K,Q,Y,$,J,ie,ne,ae,je;var S=0,E=s.animations,C=E.length;for(s.direction!=="alternate"&&((X=s.parent)==null?void 0:X.direction)==="alternate"?((K=s.parent)==null?void 0:K.rewind)===!1&&s.reversePlayback===!0&&s.rewind===!1&&((Q=s.parent)!=null&&Q.reversed&&s.direction==="alternate"?_=s.duration-s.delay+s.endDelay-_:_=s.duration+s.delay-s.endDelay-_):b(!1,(Y=s.parent)==null?void 0:Y.rewind,s.rewind,($=s.parent)==null?void 0:$.reversePlayback,s.reversePlayback)&&((J=s.parent)!=null&&J.reversed&&s.direction==="alternate"?_=s.duration-s.delay+s.endDelay-_:_=s.duration+s.delay-s.endDelay-_);S<C;){var A=E[S],T=A.animatable,k=A.tweens,D=k.length-1,M=k[D];D&&(M=e3(k,function(we){return _<we.end})[0]||M);let Ee;(ie=s.parent)!=null&&ie.reversed&&s.direction==="alternate"?Ee=Ks(_-M.start-M.endDelay,0,M.duration)/M.duration:Ee=Ks(_-M.start-M.delay,0,M.duration)/M.duration;for(var P=isNaN(Ee)?1:M.easing(Ee),j=M.to.strings,O=M.round,I=[],N=M.to.numbers.length,L=void 0,B=0;B<N;B++){var R=void 0;let we,De;s.direction!=="alternate"?((ne=s.parent)==null?void 0:ne.rewind)===!1&&s.reversePlayback===!0&&s.rewind===!1?(we=M.to.numbers[B],De=M.from.numbers[B]||0):(De=M.to.numbers[B],we=M.from.numbers[B]||0):b(!0,(ae=s.parent)==null?void 0:ae.rewind,s.rewind,(je=s.parent)==null?void 0:je.reversePlayback,s.reversePlayback)?(we=M.to.numbers[B],De=M.from.numbers[B]||0):(De=M.to.numbers[B],we=M.from.numbers[B]||0),M.isPath?R=A9e(M.value,P*De):R=we+P*(De-we),O&&(M.isColor&&B>2||(R=Math.round(R*O)/O)),I.push(R)}var z=j.length;if(!z)L=I[0];else{L=j[0];for(var W=0;W<z;W++){j[W];var U=j[W+1],H=I[W];isNaN(H)||(U?L+=H+U:L+=H+" ")}}IJ[A.type](T.target,A.property,L,T.transforms),A.currentValue=L,S++}}function v(_){s[_]&&!s.passThrough&&s[_](s)}function x(){s.remaining&&s.remaining!==!0&&s.remaining--}let y={0:!1,1:!0,2:!1,3:!0,4:!1,5:!1,6:!1,7:!1,8:!1,9:!0,10:!0,11:!1,12:!1,13:!1,14:!0,15:!0,16:!1,17:!0,18:!0,19:!1,20:!1,21:!1,22:!0,23:!0,24:!1,25:!0,26:!1,27:!0,28:!1,29:!1,30:!1,31:!1};function b(_,S,E,C,A){return y[_<<4|S<<3|E<<2|C<<1|A]}function w(_,S=!1){var k;var E=s.duration;let C=s.delay,A=E-s.endDelay;(k=s.parent)!=null&&k.reversed&&s.direction==="alternate"&&(C=s.endDelay,A=E-s.delay);var T=h(_);if(s.progress=Ks(T/E*100,0,100),S||(s.reversePlayback=T<s.currentTime),l&&p(T,S),!s.began&&s.currentTime>=0&&(s.began=!0,v("begin")),!s.loopBegan&&s.currentTime>0&&(s.loopBegan=!0,v("loopBegin")),(s.reversed||T>=0)&&T<=C&&s.currentTime!==0&&(g(0),v("change")),(T>=A&&s.currentTime!==E+s.pingPongDelayCorrection||!E)&&(g(E),v("change")),T>C&&T<A?(s.changeBegan||(s.changeBegan=!0,s.changeCompleted=!1,v("changeBegin")),g(T),v("change")):s.changeBegan?(s.changeCompleted=!0,s.changeBegan=!1,v("change"),l&&v("timelineChangeComplete")):s.began&&T>A&&v("changeComplete"),s.currentTime=Ks(T,0,E+s.pingPongDelayCorrection),s.began&&v("update"),_>=E)if(x(),!s.remaining)s.paused=!0,s.completed||(s.completed=!0,v("loopComplete"),v("complete"),!s.passThrough&&"Promise"in window&&(c(),a(s)));else{l?t+=s.duration/On.speed:t+=s.duration;for(let D of o)D.setStartTime(0),D.remaining=D.loop;v("loopComplete"),s.loopBegan=!1,s.direction==="alternate"?u():l&&d()}}return s.reset=function(){var _=s.direction;s.passThrough=!1,s.currentTime=0,s.progress=0,s.paused=!0,s.began=!1,s.loopBegan=!1,s.changeBegan=!1,s.completed=!1,s.changeCompleted=!1,s.reversePlayback=!1,s.reversed=_==="reverse",s.remaining=s.loop,o=s.children,l=o.length;for(var S=l;S--;)s.children[S].reset();g(s.reversed?s.duration:0)},s.setStartTime=function(_){t=_},s.set=function(_,S){return OJ(_,S),s},s.tick=function(_){n=_,t||(t=n),w((n+(r-t))*On.speed)},s.seek=function(_,S=!1){w(_-t,S)},s.pause=function(_){s.paused=!0,l&&(i=_??performance.now())},s.play=function(_){!s.paused||(s.completed&&s.reset(),s.paused=!1,ls.push(s),l&&i!==void 0&&(t+=(_??performance.now())-i),qw||O9e())},s.reverse=function(){u(),s.completed=!s.reversed,f()},s.restart=function(){s.reset(),s.play()},s.reset(),s.autoplay&&s.play(),s}function tF(e,t){for(var r=t.length;r--;)F6(e,t[r].animatable.target)&&t.splice(r,1)}function L9e(e){for(var t=DJ(e),r=ls.length;r--;){var n=ls[r],i=n.animations,o=n.children;tF(t,i);for(var l=o.length;l--;){var c=o[l],a=c.animations;tF(t,a),!a.length&&!c.children.length&&o.splice(l,1)}!i.length&&!o.length&&n.pause()}}function z9e(e,t){t===void 0&&(t={});var r=t.direction||"normal",n=t.easing?B6(t.easing):null,i=t.grid,o=t.axis,l=t.from||0,c=l==="first",a=l==="center",s=l==="last",u=Pt.arr(e),d=parseFloat(u?e[0]:e),h=u?parseFloat(e[1]):0,f=au(u?e[1]:e)||0,m=t.start||0+(u?d:0),p=[],g=0;return function(v,x,y){if(c&&(l=0),a&&(l=(y-1)/2),s&&(l=y-1),!p.length){for(var b=0;b<y;b++){if(!i)p.push(Math.abs(l-b));else{var w=a?(i[0]-1)/2:l%i[0],_=a?(i[1]-1)/2:Math.floor(l/i[0]),S=b%i[0],E=Math.floor(b/i[0]),C=w-S,A=_-E,T=Math.sqrt(C*C+A*A);o==="x"&&(T=-C),o==="y"&&(T=-A),p.push(T)}g=Math.max.apply(Math,p)}n&&(p=p.map(function(D){return n(D/g)*g})),r==="reverse"&&(p=p.map(function(D){return o?D<0?D*-1:-D:Math.abs(g-D)}))}var k=u?(h-d)/g:d;return m+k*(Math.round(p[x]*100)/100)+f}}function N9e(e){e===void 0&&(e={});var t=On(e);return t.duration=0,t.add=function(r,n){var i=ls.indexOf(t),o=t.children;i>-1&&ls.splice(i,1);function l(h){h.passThrough=!0}for(var c=0;c<o.length;c++)l(o[c]);var a=r3(r,w5(N6,e));a.targets=a.targets||e.targets;var s=t.duration;a.autoplay=!1,a.timelineOffset=Pt.und(n)?s:G6(n,s),l(t);var u=On(a);l(u),o.push(u),u.parent=t;var d=RJ(o,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,u.loop===!0&&(t.duration=1/0),t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}On.version="3.2.0";On.speed=1;On.running=ls;On.remove=L9e;On.get=W6;On.set=OJ;On.convertPx=V6;On.path=E9e;On.setDashoffset=_9e;On.stagger=z9e;On.timeline=N9e;On.easing=B6;On.penner=SJ;On.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var LJ=On,rF=new V,nF=new V,iF=new Rt;function B9e(e,t,r,n){if(n===0)return r.copy(e);if(n===1)return r.copy(t);let i=e.w*t.w+e.x*t.x+e.y*t.y+e.z*t.z;if(i>=1)return r.copy(e);let o=1-i*i;if(o<=Number.EPSILON){let u=1-n;return r.w=u*e.w+n*t.w,r.x=u*e.x+n*t.x,r.y=u*e.y+n*t.y,r.z=u*e.z+n*t.z,r.normalize(),r}let l=Math.sqrt(o),c=Math.atan2(l,i),a=Math.sin((1-n)*c)/l,s=Math.sin(n*c)/l;return r.w=e.w*a+t.w*s,r.x=e.x*a+t.x*s,r.y=e.y*a+t.y*s,r.z=e.z*a+t.z*s,r}function Mf(e,t,r,n,i,o){let l=r[e]?r[e]:void 0,c=n[e];if(c==null)return;let a=l!=null?typeof l=="string"?Number(i.getVariable(l)??0):l:t[e],s=typeof c=="string"?Number(i.getVariable(c)??0):c;if(a!==s)return{update:u=>{let d=pt.lerp(a,s,u);o?t[e]=Math.trunc(d):t[e]=d},start:()=>{t[e]=a},end:()=>{t[e]=s}}}function zJ(e,t,r,n,i,o){let l=r[e]?r[e]:void 0,c=n[e];if(!c)return;let a=t[e],s=[...l??a].map(d=>typeof d=="string"?Number(i.getVariable(d)??0):d),u=[...c].map(d=>typeof d=="string"?Number(i.getVariable(d)??0):d);if(!(s.length!==u.length||K$(s,u)))return{update:d=>{s.forEach((h,f)=>{let m=pt.lerp(h,u[f],d);t[e][f]=o?Math.trunc(m):m})},start:()=>{Object.assign(t[e],s)},end:()=>{Object.assign(t[e],u)}}}function Y2(e,t,r){return t.forEach((n,i)=>{e.setComponent(i,typeof n=="string"?Number(r.getVariable(n)??0):n)}),e}function oF(e,t,r,n,i){let o=r[e]?r[e]:void 0,l=n[e];if(!l)return;let c=t[e],a=o?Y2(new V,o,i):c.clone(),s=Y2(new V,l,i);if(!a.equals(s))return{update:u=>{c.lerpVectors(a,s,u)},start:()=>{c.copy(a)},end:()=>{c.copy(s)}}}function F9e(e,t,r,n){let i=r[e]?r[e]:void 0,o=n[e];if(!o)return;let l=t[e],c=i?new Ne().fromArray(i):l.clone(),a=new V,s=new Rt,u=new V;c.decompose(a,s,u);let d=new Ne().fromArray(o),h=new V,f=new Rt,m=new V;if(d.decompose(h,f,m),!c.equals(d))return{update:p=>{iF.slerpQuaternions(s,f,p),rF.lerpVectors(a,h,p),nF.lerpVectors(u,m,p),l.compose(rF,iF,nF)},start:()=>{l.compose(a,s,u)},end:()=>{l.compose(h,f,m)}}}function U9e(e,t,r,n,i){let o=r[e]?r[e]:void 0,l=n[e];if(!l)return;let c=t[e],a=o?typeof o=="string"?i.getColor(o).clone():new wt().setRGB(o.r,o.g,o.b):c.clone(),s=typeof l=="string"?i.getColor(l).clone():new wt().setRGB(l.r,l.g,l.b);if(a.equals(s))return;let u=c.clone();return t[e]=u,{update:d=>{u.lerpColors(a,s,d)},start:()=>{u.copy(a)},end:()=>{u.copy(s)}}}function Zd(e,t,r,n,i){if(typeof t[e]=="number")return Mf(e,t,r??{},n,i);if(Array.isArray(t[e]))return zJ(e,t,r??{},n,i)}function V9e(e,t,r,n){var c,a,s,u;let i=[],o=e.cameraType==="OrthographicCamera"?(c=t.orthographic)==null?void 0:c.zoom:(a=t.perspective)==null?void 0:a.zoom,l=e.cameraType==="OrthographicCamera"?(s=r.orthographic)==null?void 0:s.zoom:(u=r.perspective)==null?void 0:u.zoom;if(l!==void 0){let d=o??e.zoom,h=l;d!==h&&i.push({update:f=>{e.zoom=pt.lerp(d,h,f),e.updateProjectionMatrix()},start:()=>{e.zoom=d,e.updateProjectionMatrix()},end:()=>{e.zoom=h,e.updateProjectionMatrix()}})}if(r.targetOffset!==void 0){let d=Mf("targetOffset",e,t,r,n);d&&i.push(d)}return i}function H9e(e,t,r,n){if(r.scaleBaked===void 0)return;let i=(t.scaleBaked??e.data.geometry.scaleBaked).map(c=>typeof c=="string"?Number(n.getVariable(c)??0):c),o=r.scaleBaked.map(c=>typeof c=="string"?Number(n.getVariable(c)??0):c);if(tf.isEqual(i,o))return;let l=[];return l.push({update:c=>{e.updateGeometryInteractions({scaleBaked:[pt.lerp(i[0],o[0],c),pt.lerp(i[1],o[1],c),pt.lerp(i[2],o[2],c)]},n),e.invalidateDownstreamBooleanData()},start:()=>{e.updateGeometryInteractions({scaleBaked:i},n),e.invalidateDownstreamBooleanData()},end:()=>{e.updateGeometryInteractions({scaleBaked:o},n),e.invalidateDownstreamBooleanData()}}),l}function W9e(e,t,r,n){if(!r.extrusion)return;let i=e.extrusion,o=t.extrusion??{},l=r.extrusion,c=[];return jK.forEach(a=>{let s=Zd(a,i,o,l,n);s&&c.push(s)}),c}function G9e(e,t,r,n){let i=[];if(!("geometry"in r))return i;let o=e.geometry.userData.parameters,l="geometry"in t?t.geometry:{},c=r.geometry;if(e instanceof m1){let a=H9e(e,l,c,n);a&&i.push(...a)}else{let a={};if(Object.assign(a,iu(o,Y9)),Y9.forEach(s=>{let u=Zd(s,a,l,c,n);u&&i.push(u)}),e instanceof j6){Object.assign(a,{extrusion:{...o.extrusion}});let s=W9e(a,l,c,n);s&&i.push(...s)}i.length&&i.push({update:s=>{e.updateGeometryInteractions(a,n),e.updateGeometryGroupsIfNeeded()},start:s=>{e.updateGeometryInteractions(a,n),e.updateGeometryGroupsIfNeeded()},end:s=>{e.updateGeometryInteractions(a,n),e.updateGeometryGroupsIfNeeded()}})}return i}function q9e(e,t,r,n){let i=[];if(r.intensity!==void 0){let o=Mf("intensity",e,t,r,n);o&&i.push(o)}if(r.color!==void 0){let o=U9e("color",e,t,r,n);o&&i.push(o)}return i}function Y9e(e,t,r,n){let i=[];if(Array.isArray(e.material)){if(!("materials"in r&&r.materials))return i;let o="materials"in t&&t.materials?t.materials:[],l=r.materials;e.material.forEach((c,a)=>{if(!l[a])return;let s=o[a]??{},u=l[a];typeof s=="string"||typeof u=="string"||i.push(...aF(c,s,u,n))})}else{if(!("material"in r&&r.material))return i;let o="material"in t&&t.material?t.material:{},l=r.material;if(typeof o=="string"||typeof l=="string")return i;i.push(...aF(e.material,o,l,n))}return i}function aF(e,t,r,n){var l;let i=[],o=bm(r,n)||!!t.layers&&bm(t,n);i.push(rBe(e,o));for(let c of e.layers){let a=(l=t.layers)==null?void 0:l.data(c.uuid),s=r.layers.data(c.uuid);if(!s||c.type!=="light"&&(!(c.visible??!0)||!(s.visible??!0)))continue;let u=c.getNames().filter(d=>!PK.some(h=>d.includes(h)));for(let d of u)try{let h=c.getValue(d),f;if(d==="colors")f=eBe(c,a,s,d);else if(Array.isArray(h))d==="steps"&&(f=Z9e(c,a,s,d));else if(typeof h=="number")f=X9e(c,a,s,d,n);else{if(typeof h=="boolean")continue;h instanceof oe?f=$9e(c,a,s,d):h instanceof V?f=K9e(c,a,s,d,n):h instanceof Yo?f=J9e(c,a,s,d,n):h instanceof wt?f=Q9e(c,a,s,d,n):"isTexture"in h&&(f=tBe(c,a,s,d))}f&&(Array.isArray(f)?i.push(...f):i.push(f))}catch(h){console.error(`lerpMaterial: unexpected material layer for ${d}`,h)}}return i}function X9e(e,t,r,n,i){if(!e.hasValue(n)||!(n in r))return;let o=t?t[n]:e.getValue(n),l=r[n],c=typeof o=="string"?Number(i.getVariable(o)??0):o,a=typeof l=="string"?Number(i.getVariable(l)??0):l;if(c!==a)return{update:s=>{e.setValue(n,pt.lerp(c,a,s))},start:()=>{e.setValue(n,c)},end:()=>{e.setValue(n,a)}}}function $9e(e,t,r,n){if(!e.hasValue(n)||!(n in r))return;let i=e.getValue(n),o=t?new oe().fromArray(t[n]):i.clone(),l=new oe().fromArray(r[n]);if(!o.equals(l))return{update:c=>{i.lerpVectors(o,l,c)},start:()=>{i.copy(o)},end:()=>{i.copy(l)}}}function K9e(e,t,r,n,i){if(!e.hasValue(n)||!(n in r))return;let o=e.getValue(n),l=t?t[n]:void 0,c=r[n],a=l?Y2(new V,l,i):o.clone(),s=Y2(new V,c,i);if(!a.equals(s))return{update:u=>{o.lerpVectors(a,s,u)},start:()=>{o.copy(a)},end:()=>{o.copy(s)}}}function Q9e(e,t,r,n,i){if(!e.hasValue(n)||!(n in r))return;let o=t?t[n]:void 0,l=r[n],c=e.getValue(n),a=o?typeof o=="string"?i.getColor(o).clone():new wt().setRGB(o.r,o.g,o.b):c.clone(),s=typeof l=="string"?i.getColor(l).clone():new wt().setRGB(l.r,l.g,l.b);if(a.equals(s))return;let u=c.clone();return{update:d=>{e.getValue(n)!==u&&e.setValue(n,u),u.lerpColors(a,s,d)},start:()=>{u.copy(a)},end:()=>{u.copy(s)}}}function J9e(e,t,r,n,i){if(!e.hasValue(n)||!(n in r))return;let o=t?t[n]:void 0,l=r[n],c=e.getValue(n),a=o?typeof o=="string"?i.getColor(o).clone():new wt().setRGB(o.r,o.g,o.b):c.clone(),s=typeof l=="string"?i.getColor(l).clone():new Yo(l.r,l.g,l.b,l.a);if(a.equals(s))return;let u=c.clone();return{update:d=>{e.getValue(n)!==u&&e.setValue(n,u),u.lerpColors(a,s,d)},start:()=>{u.copy(a)},end:()=>{u.copy(s)}}}function Z9e(e,t,r,n="steps"){if(!e.hasValue(n)||!(n in r))return;let i=[],o=e.getValue(n),l=t?t[n]:o,c=r[n];for(let a=0;a<o.length;++a){let s=l[a],u=c[a];s!==u&&i.push({update:d=>{o[a]=pt.lerp(s,u,d)},start:()=>{o[a]=s},end:()=>{o[a]=u}})}return i.length?i:void 0}function eBe(e,t,r,n="colors"){if(!e.hasValue(n)||!(n in r))return;let i=[],o=e.getValue(n),l=t?t[n]:o.map(a=>a.toArray()),c=r[n];for(let a=0;a<o.length;++a){let s=[...l[a]],u=[...c[a]];A2.isEqual(s,u)||i.push({update:d=>{o[a].fromArray(A2.lerp(s,u,d))},start:()=>{o[a].fromArray(s)},end:()=>{o[a].fromArray(u)}})}return i.length?i:void 0}function tBe(e,t,r,n="texture"){if(!e.hasValue(n)||!(n in r))return;let i=e.getNode("mat");if(!i)return;let o=t?t[n]:i,l=r[n],c=[...o.repeat],a=[...o.offset],s=[...l.repeat],u=[...l.offset];if(!vm.isEqual(c,s)||!vm.isEqual(a,u))return{update:d=>{i.repeat=vm.lerp(c,s,d),i.offset=vm.lerp(a,u,d),i.updateMatrix()},start:()=>{i.repeat=[...c],i.offset=[...a],i.updateMatrix()},end:()=>{i.repeat=[...s],i.offset=[...u],i.updateMatrix()}}}function rBe(e,t){return{update:()=>{e.transparent=t}}}var EM=new V,sF=new yi;function nBe(e,t,r,n,i){var f,m,p,g,v,x;let o=[],l,c,a,s,u,d,h={slide:((f=t.pathSnapping)==null?void 0:f.slide)??((m=e.updatedPathSnapping)==null?void 0:m.slide)??((p=e.dataPatched.pathSnapping)==null?void 0:p.slide)??0,offset:((g=t.pathSnapping)==null?void 0:g.offset)??((v=e.updatedPathSnapping)==null?void 0:v.offset)??((x=e.dataPatched.pathSnapping)==null?void 0:x.offset)??0};if(u=Mf("slide",h,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,r.pathSnapping??e.dataPatched.pathSnapping,i),u&&o.push(u),d=Mf("offset",h,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,r.pathSnapping??e.dataPatched.pathSnapping,i),d&&o.push(d),!u&&!d&&(l=oF("position",e,t,r,i),l&&o.push(l),c=oF("scale",e,t,r,i),c&&o.push(c),a=iBe(e,t,r,n,i),a&&o.push(a),s=F9e("hiddenMatrix",e,t,r),s&&o.push(s)),l||c||a||s||u||d){let y=()=>{var b;e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD()),(b=e.parent)!=null&&b.matrixWorldFusedFalse&&(e.matrixWorld.multiplyMatrices(e.parent.matrixWorldFusedFalse,e.matrix),e.matrixWorldNeedsUpdate=!1),Ws(e)&&Jc(e.parent)&&e.invalidateDownstreamBooleanData(!0),e.updatePathSnapping(Object.assign({},t.pathSnapping,h))};o.push({update:y,start:y,end:y})}return o}function iBe(e,t,r,n,i){var u;let o=t!=null&&t.rotation?t.rotation.map(d=>(typeof d=="string"?Number(i.getVariable(d)??0):d)*pt.DEG2RAD):void 0,l=(u=r.rotation)==null?void 0:u.map(d=>(typeof d=="string"?Number(i.getVariable(d)??0):d)*pt.DEG2RAD);if(!l)return;let c=o?new V().fromArray(o):new V().setFromEuler(e.rotation),a=new V().fromArray(l);if(c.equals(a))return;let s=EM.subVectors(a,c);if(n&&s.toArray().every(d=>Math.abs(d)<2*Math.PI)){let d=new Rt().setFromEuler(sF.setFromVector3(c)),h=new Rt().setFromEuler(sF.setFromVector3(a));return{update:f=>{B9e(d,h,e.quaternion,f)},start:()=>{e.rotation.setFromVector3(c)},end:()=>{e.rotation.setFromVector3(a)}}}else return{update:d=>{EM.lerpVectors(c,a,d),e.rotation.setFromVector3(EM)},start:()=>{e.rotation.setFromVector3(c)},end:()=>{e.rotation.setFromVector3(a)}}}function oBe(e,t,r,n){let i=[];if(!("cloner"in r)||!e.cloner)return i;let o=e.cloner,l="cloner"in t?t.cloner:{},c=r.cloner;SK.forEach(f=>{let m;f==="count"?m=Mf("count",o.parameters,l,c,n,!0):m=Zd(f,o.parameters,l??{},c,n),m&&i.push(m)});let a=aBe(o,l,c,n);a!=null&&a.length&&i.push(...a);let s=sBe(o,l,c,n);s!=null&&s.length&&i.push(...s);let u=lBe(o,l,c,n);u!=null&&u.length&&i.push(...u);let d=cBe(o,l,c,n);d!=null&&d.length&&i.push(...d);let h=uBe(o,l,c,n);return h!=null&&h.length&&i.push(...h),i.length&&i.push({update:()=>{o.update()}}),i}function aBe(e,t,r,n){if(e.parameters.type!=="radial")return;let i=t.radial,o=r.radial;if(!o)return;let l=e.parameters.radial,c=[];return EK.forEach(a=>{let s=Zd(a,l,i??{},o,n);s&&c.push(s)}),c}function sBe(e,t,r,n){if(e.parameters.type!=="linear")return;let i=t.linear,o=r.linear;if(!o)return;let l=[],c=e.parameters.linear;return AK.forEach(a=>{let s=Zd(a,c,i??{},o,n);s&&l.push(s)}),l}function lBe(e,t,r,n){if(e.parameters.type!=="grid")return;let i=t.grid,o=r.grid;if(!o)return;let l=[],c=e.parameters.grid;return CK.forEach(a=>{let s;a==="count"?s=zJ(a,c,i??{},o,n,!0):s=Zd(a,c,i??{},o,n),s&&l.push(s)}),l}function cBe(e,t,r,n){if(e.parameters.type!=="toObject")return;let i=t.toObject,o=r.toObject;if(!o)return;let l=[],c=e.parameters.toObject;return MK.forEach(a=>{let s;a==="count"?s=Mf(a,c,i??{},o,n,!0):s=Zd(a,c,i??{},o,n),s&&l.push(s)}),l}function uBe(e,t,r,n){if(!e.parameters.randomness)return;let i=t.randomnessObject,o=r.randomnessObject;if(!o)return;let l=[],c=e.parameters.randomnessObject;return TK.forEach(a=>{let s=Zd(a,c,i??{},o,n);s&&l.push(s)}),l}function lF(e,t,r,n,i){let o=[];return e.data.visible&&o.push(...nBe(e,t,r,i,n)),e.data.visible&&o.push(...oBe(e,t,r,n)),Ws(e)?(e instanceof bo&&e.data.visible&&o.push(...G9e(e,t,r,n)),e.data.visible&&o.push(...Y9e(e,t,r,n))):pLe(e)?e.data.visible&&o.push(...q9e(e,t,r,n)):fLe(e)&&o.push(...V9e(e,t,r,n)),o.length?{update:l=>{o.forEach(c=>c.update(l))},start:l=>{o.forEach(c=>{var a;return(a=c.start)==null?void 0:a.call(c,l)})},end:l=>{o.forEach(c=>{var a;return(a=c.end)==null?void 0:a.call(c,l)})}}:void 0}var cF=new V;function Y6(e,t,r=!1){let n=[];e.traverseChildren(i=>{var a,s,u,d,h;if(r&&((a=i.rigidBody)==null||a.setTranslation(i.position0,!0),(s=i.rigidBody)==null||s.setRotation(i.rotation0,!0),(u=i.rigidBody)==null||u.setLinvel(cF,!0),(d=i.rigidBody)==null||d.setAngvel(cF,!0)),!or.is(i))return;let o=i.uuid,l=i.data;if(delete i.states,i.uuid===l0)return;let c=!1;n.some(f=>{var m;return(m=e.scene.find(o))==null?void 0:m.isDescendantOf(f)})?c=!0:((h=l.physics)==null?void 0:h.fusedBody)===!0&&l.physics.rigidBody==="dynamic"&&n.push(o),i.data=l,i.currentState=null,i.reversibleToState=null,i.currentTransitionEvent=null;for(let f of l.states){let m={...f.data};e.data.globalPhysics.usePhysics===!0&&l.physics&&(l.physics.rigidBody==="dynamic"||c)&&(f.data.position!==void 0&&delete m.position,f.data.rotation!==void 0&&delete m.rotation,f.data.hiddenMatrix!==void 0&&delete m.hiddenMatrix),i.states||(i.states={}),i.states[f.id]=Uh.patch(l,m)}hBe(e.scene,i,null,t,l.events.find(f=>f.data.type==="Follow"||f.data.type==="LookAt")!==void 0),dBe(e)})}function dBe(e){e.traverseEntity(t=>{for(let r of t.data.events){let n=[];switch(r.data.type){case"Follow":case"MouseHover":case"Scroll":case"MouseDown":case"MouseUp":case"MousePress":case"KeyUp":case"KeyDown":case"KeyPress":case"Collision":n.push(...r.data.actions);break;case"GameControl":for(let i of Object.values(r.data.gameActions))n.push(...i);break;case"DragDrop":n.push(...r.data.dragDropActions.drag,...r.data.dragDropActions.drop);break;case"Conditional":n.push(...r.data.inActions,...r.data.outActions);break}for(let i of n)if(i.data.type==="Create"&&i.data.hideBase==="Yes"){let o=e.scene.find(i.data.object);o&&(o.visible=!1)}}})}function hBe(e,t,r,n,i=!1){if(t instanceof bo&&t.removeInteractionGeometry(),t.changeSelectedState(r,{scene:e,shared:n},i),t instanceof bo&&t.updateGeometryGroupsIfNeeded(),t instanceof Ki&&t.updateCameraState(t.dataPatched,{scene:e,shared:n}),t.cloner)for(let o of t.cloner.children)o.playModeVisible=void 0;t.updateVisible()}function NJ(e){let t;if(e.easing===5){let{control1:r,control2:n}=e;t=`cubicBezier(
			${r[0]}, ${r[1]}, ${n[0]}, ${n[1]}
		)`}else if(e.easing===6){let{mass:r,stiffness:n,damping:i,velocity:o}=e;t=`spring( ${r}, ${n}, ${i}, ${o} )`}else{let r;switch(e.easing){case 0:r=ed.linear;break;case 1:r=ed.ease;break;case 2:r=ed.easeIn;break;case 3:r=ed.easeOut;break;case 4:r=ed.easeInOut;break;default:r=ed.linear}let[n,i,o,l]=r;t=`cubicBezier( ${n}, ${i}, ${o}, ${l} )`}return{duration:e.duration,easing:t}}function S5(e){let t={delay:0,loop:e.repeat===-1?!0:e.repeat+1};if(e.repeat===0)t.direction="normal",t.rewind=!1;else switch(e.direction){case"pingpong":t.direction="alternate",t.rewind=!1;break;case"pingpong-rewind":t.direction="alternate",t.rewind=!0;break;default:t.direction="normal",t.rewind=!1;break}switch(t.delay=0,t.endDelay=0,t.startOnceDelay=0,t.pingPongDelayCorrection=0,t.pingPongEndDelayCorrection=0,e.delayDirection){case"start-once":t.startOnceDelay=e.delay;break;case"start":t.delay=e.delay;break;case"end":t.endDelay=e.delay;break;case"start-end":case void 0:t.delay=e.delay,t.endDelay=e.delay;break}return t.direction==="alternate"&&(t.delay/=2,t.endDelay/=2,e.delayDirection==="start"?(t.pingPongDelayCorrection=t.delay,typeof t.loop=="number"&&t.loop%2===0&&(t.pingPongEndDelayCorrection=t.delay)):e.delayDirection==="end"?typeof t.loop=="number"&&t.loop%2!==0&&(t.pingPongEndDelayCorrection=t.endDelay):e.delayDirection==="start-end"&&(t.pingPongDelayCorrection=t.delay,t.pingPongEndDelayCorrection=t.endDelay)),t}var fBe={type:"beginState"},pBe={type:"completeState",isfromEntity:!1},uF=class{constructor(e,t,r,n,i,o){if(this.object=e,this.data=n,this.sharedAssets=i,this.allowSlerp=o,this.targets={t:0},this.firstLoop=!0,this._changeBegan=!1,this._changeCompleted=!0,this.onChange=()=>{this.callback&&(this.callback.update(this.targets.t),this.object.dispatchEvent({type:"requestRender"})),this.targets.t===0||this.targets.t===1?this._changeCompleted||(this._changeCompleted=!0,this._changeBegan=!1,this.onChangeComplete()):(this._changeCompleted&&(this._changeCompleted=!1),this._changeBegan||(this._changeBegan=!0,this.onChangeBegin()))},this.onChangeBegin=()=>{this.object.reversibleToState=this.to.id;let l=this.targets.t>.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=l,this.object.dispatchEvent({type:"beginState",state:l}),this.object.traverseEntity(c=>{c!==this.object&&c instanceof Ki&&c.dispatchEvent(fBe)})},this.onChangeComplete=()=>{this.firstLoop&&(this.onFirstLoop(),this.firstLoop=!1),this.object.reversibleToState=this.to.id;let l=this.targets.t<.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=l,this.object.dispatchEvent({type:"completeState",state:l}),this.object.traverseEntity(c=>{c!==this.object&&c instanceof Ki&&c.dispatchEvent(pBe)})},this.onFirstLoop=()=>{this.useCurrentState&&(this.callback=lF(this.object,this.from.data,this.to.data,this.sharedAssets,this.allowSlerp))},t===void 0){let l=Yw(this.object,this.object.currentState===r?this.object.prevState:this.object.currentState);if(!l)throw new Error("Missing property");this.from=l}else{let l=Yw(this.object,t);if(!l)throw new Error("Missing property");this.from=l}if(r===void 0)throw new Error("Missing property");{let l=Yw(this.object,r);if(!l)throw new Error("Missing property");this.to=l}this.useCurrentState=t===void 0||r===void 0,this.params={targets:this.targets,t:1,autoplay:!1,...S5(n),...NJ(n),change:this.onChange},this.callback=lF(this.object,t===void 0?{}:this.from.data,r===void 0?{}:this.to.data,this.sharedAssets,this.allowSlerp)}get changeBegan(){return this._changeBegan}get changeCompleted(){return this._changeCompleted}},BJ=class extends Ri{constructor(e,t,r,n){if(super(),this.data=e,this.page=t,this.shared=r,this.condition=n,this.toggleIsForward=!1,this.timelineNeedsRebuild=!1,this.useToggle=!1,this.onTimelineChangeComplete=()=>{var o;this.data.tweens[0].data.direction!=="normal"&&(this.toggleIsForward=!this.toggleIsForward),this.timelineNeedsRebuild!==!1&&((o=this.timeline)==null||o.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!1,isRebuild:!0}),this.timeline.play())},!e.object)throw new Error("Missing property");let i=this.page.scene.find(e.object);if(!i)throw new Error("Missing property");if(!i.states)throw new Error("Missing property");if(this.object=i,e.tweens.length<2)throw new Error("Missing property");this.tweens=Array(this.data.tweens.length-1),this.startOnceDelay=e.tweens[0].data.delayDirection==="start-once"?e.tweens[0].data.delay:0,this.init()}get playing(){return this.timeline&&this.timeline.paused===!1}init(){this.initialCurrentState=Yw(this.object,this.object.currentState).id,this.toggleIsForward=!1}get currentState(){return this.useToggle?this.initialCurrentState:this.object.currentState}buildTimeline({isForward:e=!0,needsRebuild:t=!1,isRebuild:r=!1}={}){var n,i,o,l;try{let c=S5(this.data.tweens[0].data);r&&typeof c.loop=="number"&&c.loop--,(n=this.timeline)==null||n.pause(),this.timeline=LJ.timeline({autoplay:!1,...c,...c.loop===!0||c.loop>1?{timelineChangeComplete:this.onTimelineChangeComplete}:{}});let a=this.tweens.findIndex(s=>s==null?void 0:s.changeBegan);if(t===!0&&(this.timelineNeedsRebuild=!0),e){let s=a===-1?0:a;for(let u=s;u<this.data.tweens.length-1;u++){let d=this.data.tweens[u],h=this.data.tweens[u+1],f;u===s&&(this.object.wasMovedByUser===!0||((i=this.object.previousAction)==null?void 0:i.playing)===!0)?(f=void 0,this.object instanceof Ki&&(this.object.wasMovedByUser=!1)):f=d.data.state===void 0?this.currentState:d.data.state;let m=new uF(this.object,f,h.data.state===void 0?this.currentState:h.data.state,h.data,this.shared,this.data.allowSlerp??!1);a!==-1&&u===s&&Object.assign(m.params,{startOnceDelay:0}),this.tweens[u]=m,this.timeline.add(m.params,this.timeline.duration+(u===s?c.delay:0))}this.timeline.duration+=c.endDelay}else{let s=a===-1?this.data.tweens.length-1:a+1;for(let u=s;u>0;u--){let d=this.data.tweens[u],h=this.data.tweens[u-1],f;u===s&&(this.object.wasMovedByUser===!0||((o=this.object.previousAction)==null?void 0:o.playing)===!0)?(f=void 0,this.object instanceof Ki&&(this.object.wasMovedByUser=!1)):f=d.data.state===void 0?this.currentState:d.data.state;let m=new uF(this.object,f,h.data.state===void 0?this.currentState:h.data.state,d.data,this.shared,this.data.allowSlerp??!1);a!==-1&&u===s&&Object.assign(m.params,{startOnceDelay:0}),this.tweens[u-1]=m,this.timeline.add(m.params,this.timeline.duration+(u===s?c.endDelay:0))}this.timeline.duration+=c.delay}}catch(c){c instanceof Error&&console.error(c.message)}((l=this.object.previousAction)==null?void 0:l.playing)===!0&&this.object.previousAction.pause(),this.object.previousAction=this}play(){if(Zn(this.shared,this.condition)===!1||this.playing)return!1;clearTimeout(this.timeoutId);let e=S5(this.data.tweens[0].data).pingPongDelayCorrection;this.timeoutId=window.setTimeout(()=>{try{this.buildTimeline(),this.timeline.play()}catch(t){t instanceof Error&&console.error(t.message)}},this.startOnceDelay+e)}pause(){var e;(e=this.timeline)==null||e.pause(),clearTimeout(this.timeoutId),this.tweens=Array(this.data.tweens.length-1),delete this.timeoutId}stop(){this.pause();let e=this.data.tweens[0].data.state===void 0?this.initialCurrentState:this.data.tweens[0].data.state;this.object.changeSelectedState(e,{scene:this.page.scene,shared:this.shared}),this.object.currentState=e}seek(e){var t;this.timeline===void 0&&this.buildTimeline(),(t=this.timeline)==null||t.seek(e*this.timeline.duration,!0)}toggle(e){var t;if(Zn(this.shared,this.condition)===!1)return!1;this.useToggle=!0,clearTimeout(this.timeoutId),this.toggleIsForward=e??!this.toggleIsForward,this.playing?((t=this.timeline)==null||t.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!0}),this.timeline.play()):this.timeoutId=window.setTimeout(()=>{var r;(r=this.timeline)==null||r.pause(),this.buildTimeline({isForward:this.toggleIsForward}),this.timeline.play()},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause()}};function Yw(e,t){var i;let r,n;if(typeof t=="string"?(r=t,n=(i=e.states)==null?void 0:i[r]):t===null&&(r=null,n=e.data),!(r===void 0||n===void 0))return{id:r,data:n}}var mBe={type:"beginState"},dF={type:"completeState",isfromEntity:!1},hF={type:"requestRender"},FJ=class extends Ri{constructor(e,t,r,n){super(),this.data=e,this.page=t,this.shared=r,this.condition=n,this.toggleIsForward=!1,this.useToggle=!1,this.posStart=new V,this.posEnd=new V,this.qStart=new Rt,this.qEnd=new Rt,this.zoomStart=1,this.zoomEnd=1}init(){}get playing(){return this.animation&&this.animation.began&&!this.animation.completed}buildAnimation(e=!1){if(!this.data.animate)return;let t=this.page.scene.find(this.data.targetCamera);if(!t||!t.visible)throw new ReferenceError("Target camera not founded or not visible");let r={t:0};this.posStart.copy(this.page.activeCamera.position),this.qStart.copy(this.page.activeCamera.quaternion),this.zoomStart=this.page.activeCamera.zoom,this.animation=LJ({targets:r,t:1,...NJ(this.data),update:()=>{r.t===0&&(this.useToggle&&!this.toggleIsForward?(this.posEnd.copy(this.fromCamera.position),this.qEnd.copy(this.fromCamera.quaternion),this.zoomEnd=this.fromCamera.zoom,this.switchCamera(this.fromCamera.uuid)):(this.posEnd.copy(t.position),this.qEnd.copy(t.quaternion),this.zoomEnd=t.zoom,this.fromCamera=this.page.activeCamera,this.switchCamera(t.uuid)),this.page.activeCamera.dispatchEvent(mBe));let n=this.page.activeCamera;n.position.lerpVectors(this.posStart,this.posEnd,r.t),n.quaternion.slerpQuaternions(this.qStart,this.qEnd,r.t),n.zoom=this.zoomStart+(this.zoomEnd-this.zoomStart)*r.t,n.wasMovedBySwitchCameraAction=!0,n.updateMatrix(),n.updateMatrixWorld(),n.updateProjectionMatrix(),n.dispatchEvent(hF),r.t===1&&n.dispatchEvent(dF)}})}switchCamera(e){let t=this.page.scene.find(e);if(!t||!t.visible)throw new ReferenceError("Target camera not founded or not visible");this.page.switchActiveCamera(t),this.page.activeCamera.dispatchEvent({type:"cameraChange",camera:t})}play(){if(Zn(this.shared,this.condition)===!1)return!1;if(!this.playing&&this.page.activeCamera.uuid!==this.data.targetCamera)try{clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{var e;delete this.timeoutId,this.data.animate?(this.buildAnimation(),(e=this.animation)==null||e.play()):this.switchCamera(this.data.targetCamera)},this.data.delay*1e3)}catch{}}pause(){var e;(e=this.animation)==null||e.pause(),clearTimeout(this.timeoutId),delete this.timeoutId}toggle(e){var t,r;if(Zn(this.shared,this.condition)===!1)return!1;this.useToggle=!0,clearTimeout(this.timeoutId),this.toggleIsForward=e??!this.toggleIsForward;try{this.playing?((t=this.animation)==null||t.pause(),this.buildAnimation(!0),(r=this.animation)==null||r.play()):this.timeoutId=window.setTimeout(()=>{var n,i;delete this.timeoutId,this.data.animate?((n=this.animation)==null||n.pause(),this.buildAnimation(),(i=this.animation)==null||i.play()):(this.toggleIsForward?(this.fromCamera=this.page.activeCamera,this.switchCamera(this.data.targetCamera)):this.switchCamera(this.fromCamera.uuid),this.page.activeCamera.dispatchEvent(dF),this.page.activeCamera.dispatchEvent(hF))},this.data.delay*1e3)}catch{}}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause(),this.toggleIsForward=!1}},UJ=class extends Ri{constructor(e,t,r,n,i){var s,u,d;super(),this.page=t,this.animationControls=r,this.shared=n,this.condition=i,this.startOnceDelay=0,this.toggleIsForward=!1;let o=e.object,l=t.scene.find(e.object);l&&Array.isArray(l.identity)&&(o=l.identity[0]),this.data={...e,object:o};let c=this.animationControls.clipIdToAction[e.clipId+"/"+o];this.duration=((s=c==null?void 0:c.getClip())==null?void 0:s.duration)??1;let a=((d=(u=c==null?void 0:c.getClip())==null?void 0:u.tracks[0])==null?void 0:d.times.length)??1/0;this.leftFrameTime=this.data.crop[0]/a*this.duration,this.rightFrameTime=this.data.crop[1]/a*this.duration,this.startOnceDelay=e.delay}get playing(){var e;return((e=this.threeAnimAction)==null?void 0:e.isRunning())??!1}play(e=!1){if(Zn(this.shared,this.condition)===!1)return!1;window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{var r;if(this.threeAnimAction=this.animationControls.play(this.data),!this.threeAnimAction)return;this.threeAnimAction.reset(),this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime;let t=this.data.object;Object.entries(this.animationControls.clipIdToAction).forEach(([n,i])=>{let o=n.split("/")[1];this.threeAnimAction!==i&&o===t&&i.isRunning()&&(e?i.fadeOut(.2):i.stop())}),e&&((r=this.threeAnimAction)==null||r.fadeIn(.2))},this.startOnceDelay)}pause(){this.threeAnimAction&&(this.threeAnimAction.paused=!0),window.clearTimeout(this.timeoutId),delete this.timeoutId}stop(){var e;(e=this.threeAnimAction)==null||e.fadeOut(.2)}seek(e){this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction&&(this.threeAnimAction.paused=!0,this.threeAnimAction.time=pt.clamp(this.threeAnimAction.time+1/60*e,this.leftFrameTime,this.rightFrameTime-16e-5),this.animationControls.needsUpdate=!0,this.animationControls.requestRender())}toggle(e,t=!1){if(Zn(this.shared,this.condition)===!1)return!1;this.toggleIsForward=e??!this.toggleIsForward,this.threeAnimAction&&(this.threeAnimAction._loopCount=0),this.playing?this.threeAnimAction&&(this.threeAnimAction.timeScale=this.toggleIsForward?1:-1,this.toggleIsForward?(this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime)):this.timeoutId=window.setTimeout(()=>{var r;if(this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction){this.toggleIsForward?(this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction.time=this.rightFrameTime,this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime),this.threeAnimAction.paused=!1,this.threeAnimAction.timeScale=this.toggleIsForward?1:-1;let n=this.data.clipId.split("/")[1];Object.entries(this.animationControls.clipIdToAction).forEach(([i,o])=>{let l=i.split("/")[1];this.threeAnimAction!==o&&l===n&&o.isRunning()&&(t?o.fadeOut(.2):o.stop())}),t&&((r=this.threeAnimAction)==null||r.fadeIn(.2))}},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){var t;let e=(t=this.animationControls.clipIdToAction[this.data.clipId+"/"+this.data.object])==null?void 0:t.getClip();e&&(e.duration=this.duration),this.pause()}},VJ=class{constructor(e,t,r,n,i){this.data=e,this.page=t,this.eventManager=r,this.shared=n,this.condition=i,this.timeOutId=-1,this.scene=t.scene}dispatch(){if(Zn(this.shared,this.condition)===!1)return!1;this.data.target!==this.page.uuid&&(window.clearTimeout(this.timeOutId),this.timeOutId=window.setTimeout(()=>{this.play()},this.data.delay*1e3))}dispose(){window.clearTimeout(this.timeOutId)}play(){if(this.scene.children.every(t=>t.uuid!==this.data.target))return;this.data.transition==="fade"&&this.data.duration>0&&this.eventManager.eventContext.renderer.renderFromSceneForSceneTransitionPass(this.scene,this.scene.activeCamera,this.data.duration*1e3),this.eventManager.deactivate(),this.eventManager.controlsManager.deactivate();let e=this.scene.activeCamera;this.scene.updatePage(this.data.target),this.scene.activePage.switchToPlayCamera(),this.scene.activeCamera.copyViewPlaneSize(e),Y6(this.scene.activePage,this.shared),this.eventManager.activate(),this.eventManager.controlsManager.activate(this.eventManager)}},HJ=class{constructor(e,t,r,n){this.data=e,this.page=t,this.shared=r,this.condition=n,this.evaluatedCondition=!1}checkConditions(){this.evaluatedCondition=Zn(this.shared,this.condition)}dispatch(){if(this.evaluatedCondition===!1)return!1;let e=this.shared.getVariable(this.data.variableId),t=sQ(this.data.expression,this.shared,ba.typeOfVariable(e));t!==void 0&&this.shared.updateVariable(this.data.variableId,typeof t=="string"?{textValue:t}:t)}dispose(){}},WJ=class{constructor(e,t,r,n){this.data=e,this.page=t,this.shared=r,this.condition=n,this.timeoutId=null}dispatchInner(){if(Zn(this.shared,this.condition)===!1)return!1;let e=this.shared.getDynamicVariablePlayState(this.data.variableId);if(this.data.mode==="PlayPause")this.shared.getDynamicVariableToggleIsForward(this.data.variableId)===void 0&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,e==="Playing"?"Paused":"Playing");else if(this.data.mode==="Play"&&e!=="Playing")this.shared.getDynamicVariableToggleIsForward(this.data.variableId)===void 0&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing");else if(this.data.mode==="Stop"&&e!=="Stopped")this.shared.setDynamicVariablePlayState(this.data.variableId,"Stopped");else if(this.data.mode==="Pause"&&e!=="Paused")this.shared.setDynamicVariablePlayState(this.data.variableId,"Paused");else if(this.data.mode==="Restart")this.shared.setDynamicVariablePlayState(this.data.variableId,"Restarted");else if(this.data.mode==="Toggle"){let t=this.shared.getDynamicVariableToggleIsForward(this.data.variableId);e==="Playing"?this.shared.setDynamicVariableToggleIsForward(this.data.variableId,t===void 0?!1:!t):(this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!t),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing"))}}dispatch(){let e=this.data.delay,t=this.shared.getDynamicVariablePlayState(this.data.variableId);this.data.mode==="PlayPause"&&t==="Playing"&&(e=this.data.pauseDelay),e!==0?(this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{this.timeoutId=null,this.dispatchInner()},e)):this.dispatchInner()}dispose(){this.timeoutId&&window.clearTimeout(this.timeoutId)}};function Zn(e,t){if(t===void 0)return!0;if(t.expression.length===0)return!1;let r=sQ(t.expression,e,"boolean");return t.negate?!r:!!r}function So(e,t,r,n,i,o){let l={Audio:[],Video:[],Link:[],Destroy:[],Create:[],Reset:[],Transition:[],SwitchCamera:[],Animation:[],SceneTransition:[],SetVariable:[],DynamicVariablePlay:[]},c=a=>({id:s,data:u})=>{try{u.type==="Audio"?aa[e.type].includes("Audio")&&l.Audio.push(new vJ(s,u,o,n,a)):u.type==="Video"?aa[e.type].includes("Video")&&l.Video.push(new qJ(s,u,o,n,a)):u.type==="Link"?aa[e.type].includes("Link")&&l.Link.push(new l9e(u,i.controlsManager,n,a)):u.type==="Create"?aa[e.type].includes("Create")&&l.Create.push(new YJ(u,r,i.controlsManager,n,a)):u.type==="Destroy"?aa[e.type].includes("Destroy")&&l.Destroy.push(new yJ(u,r,i.controlsManager,n,a)):u.type==="Reset"?aa[e.type].includes("Reset")&&l.Reset.push(new bJ(u,r,n,i,a)):u.type==="Transition"?aa[e.type].includes("Transition")&&l.Transition.push(new BJ(u,r,n,a)):u.type==="SwitchCamera"?aa[e.type].includes("SwitchCamera")&&l.SwitchCamera.push(new FJ(u,r,n,a)):u.type==="SceneTransition"?aa[e.type].includes("SceneTransition")&&l.SceneTransition.push(new VJ(u,r,i,n,a)):u.type==="Animation"?aa[e.type].includes("Animation")&&l.Animation.push(new UJ(u,r,i.animationControls,n,a)):u.type==="SetVariable"?aa[e.type].includes("SetVariable")&&l.SetVariable.push(new HJ(u,r,n,a)):u.type==="DynamicVariablePlay"?aa[e.type].includes("DynamicVariablePlay")&&l.DynamicVariablePlay.push(new WJ(u,r,n,a)):u.type==="Conditional"&&aa[e.type].includes("Conditional")&&(u.ifActions.forEach(c({expression:u.condition,negate:!1})),u.elseActions.forEach(c({expression:u.condition,negate:!0})))}catch{}};return t.forEach(c()),l}function xi(e){Object.values(e).forEach(t=>{t.forEach(r=>{(r instanceof vJ||r instanceof qJ||r instanceof UJ||r instanceof BJ||r instanceof YJ||r instanceof yJ||r instanceof FJ||r instanceof VJ||r instanceof bJ||r instanceof HJ||r instanceof WJ)&&r.dispose()})})}function gBe(e,t){let r;if("material"in e){let n=e.material;Array.isArray(n)?r=e.material[0].layers.find(i=>i.uuid===t):r=e.material.layers.find(i=>i.uuid===t)}if(r)return r.color.texture.image.img instanceof HTMLVideoElement?r.color.texture.image.img:void 0}var GJ=new Map,fy=new Map,Xm=class{constructor(e,t,r){this.data=t,this.delay=0,this.status="stopped";let{layerId:n,loop:i,volume:o,delay:l}=t;if(this.object=r,n===void 0)throw new Error("Missing property");let c=gBe(r,n);c&&(this.videoElement=c,this.videoElement.loop=i===1/0,Zj&&(this.videoElement.autoplay=!0),o!==void 0&&(this.videoElement.volume=o)),l!==void 0&&(this.delay=l),fy.has(r.uuid)?fy.get(r.uuid).push(this):fy.set(r.uuid,[this]),GJ.set(e,this),this.pause()}mute(){!this.videoElement||(this.videoElement.muted=!0)}unMute(){!this.videoElement||(this.videoElement.muted=!1)}play(e){if(!this.videoElement)return;let t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);e?(this.mute(),this.delay+=150):t?(this.mute(),window.setTimeout(()=>{this.unMute()},100)):this.unMute(),this.delayTimerId=window.setTimeout(()=>{if(!this.videoElement)return;let r=this.videoElement.play();r!==void 0&&r.then(n=>{}).catch(n=>{this.play()}),this.clearDelay()},this.delay),this.status="playing"}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}pause(){!this.videoElement||(this.videoElement.pause(),this.status="paused")}stop(){!this.videoElement||(this.videoElement.pause(),this.videoElement.currentTime=0,this.status="stopped",this.clearDelay())}playByToggle(){this.data.toggle==="stop"?this.status==="playing"?this.stop():(this.stop(),this.play()):this.data.toggle==="pause"?this.status==="playing"?this.pause():this.play():(this.stop(),this.play())}dispose(){!this.videoElement||(this.stop(),this.videoElement.muted=!0)}},E5=class{constructor(e){this.data=e}dispatch(){this.data.playVideo?this.pauseVideo(this.data.playVideo):this.data.object?this.pauseAllVideosFromObject(this.data.object):this.pauseAllVideos()}pauseVideo(e){let t=GJ.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t[this.data.interaction](),this.disposeDelay()},this.data.delay)):t[this.data.interaction]())}pauseAllVideosFromObject(e){let t=fy.get(e);!(t!=null&&t.length)||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(r=>r[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(r=>r[this.data.interaction]()))}pauseAllVideos(){let e=[...fy.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(r=>{r[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(r=>{r[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},qJ=class{constructor(e,t,r,n,i){if(this.data=t,this.shared=n,this.condition=i,t.interaction==="play")this.interaction=new Xm(e,t,r);else if(t.interaction==="pause"||t.interaction==="stop")this.interaction=new E5(t);else throw new Error("Missing property")}dispatchBasic(){if(Zn(this.shared,this.condition)===!1)return!1;this.interaction instanceof Xm?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(Zn(this.shared,this.condition)===!1)return!1;this.interaction instanceof Xm?this.interaction.play():this.interaction.dispatch()}dispose(){this.interaction.dispose()}},fF=(()=>{let e,t,r,n;function i(c){!e&&!pF()&&(t==null?void 0:t.sharedGameControlGlobals.createdObjects.length)>0&&(e=requestAnimationFrame(o)),c&&(t=c,n=c.requestRender)}function o(c){let a=r?c-r:0,s=t.sharedGameControlGlobals.createdObjects,u=t.sharedGameControlGlobals.nCreatedPerAction,d=s.length,h=0;for(;h<d;){let f=s[h];f.userData.createdTime===void 0&&(f.userData.createdTime=c),f.userData.lifetime===void 0&&f.userData.quantity===void 0||f.userData.lifetime&&c-f.userData.createdTime<f.userData.lifetime||f.userData.quantity&&u[f.userData.actionId]<=f.userData.quantity?(f.userData.velocity&&(f.position.addScaledVector(f.userData.velocity,a/1e3),f.updateMatrix(),n()),h++):(u[f.userData.actionId]>f.userData.quantity&&u[f.userData.actionId]--,s.splice(h,1),f.removeFromParent(),t.sharedGameControlGlobals.rapierWorld&&f.rigidBody?(t.sharedGameControlGlobals.colliderToEntity.delete(f.rigidBody.collider(0).handle),t.sharedGameControlGlobals.rapierWorld.removeRigidBody(f.rigidBody)):(f.bvhGeometry=void 0,t.sharedGameControlGlobals.entitiesWithTransformAnim=t.sharedGameControlGlobals.entitiesWithTransformAnim.filter(m=>m.bvhGeometry!==void 0)),d--,n())}e=h>0?requestAnimationFrame(o):void 0,r=h>0?c:void 0}function l(){pF()?e&&(cancelAnimationFrame(e),e=void 0,r=void 0):i()}return typeof document<"u"&&document.addEventListener("visibilitychange",l),i})();function pF(){return!!document&&document.hidden}var mF=new Rt,vBe=new V,yBe=new V,YJ=class{constructor(e,t,r,n,i){this.data=e,this.page=t,this.controlsManager=r,this.shared=n,this.condition=i,this.intervalId=null,this.timeoutIdQueue=[],this.uniqueId=pt.generateUUID(),this.dispatch=()=>{if(Zn(this.shared,this.condition)===!1)return!1;this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3)):this.dispatchInner()},this.dispatchFromStart=()=>{if(Zn(this.shared,this.condition)===!1)return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3))},this.dispatchThrottled=cje(this.dispatch,1e3/this.data.creationSpeed),this.dispatchStart=()=>{this.intervalId===null&&(this.intervalId=window.setInterval(this.dispatch,1e3/this.data.creationSpeed))},this.dispatchStop=()=>{this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null)},this.dispatchInner=()=>{this.timeoutIdQueue.shift();let l=new Yi(this.object);if(l.playModeVisible=!0,l.expand(),this.data.coordinateSystem!=="world"){let a=this.data.coordinateSystem,s=this.page.scene.find(a);s&&(s.updateMatrixWorldSVD(),l.hiddenMatrix.copy(s.matrixWorldRigid))}l.position.fromArray(this.data.position),l.rotation.fromArray(this.data.rotation),l.updateMatrix(),this.page.add(l);let c=this.controlsManager.sharedGameControlGlobals;c.createdObjects.push(l),c.nCreatedPerAction[this.uniqueId]===void 0?c.nCreatedPerAction[this.uniqueId]=1:c.nCreatedPerAction[this.uniqueId]++,l.updateWorldMatrix(!0,!0),l.traverseObject(this.traverseObjectCB),fF(),this.controlsManager.requestRender()},this.traverseObjectCB=l=>{var u,d,h,f;l.hasNonUniformScale&&l.updateMatrixWorldSVD();let c;if(this.controlsManager.sharedGameControlGlobals.rapierWorld){if(l instanceof $s)if(l.objectForSample){if(l.objectForSample.dataPatched.physics.fusedBody)return;c=l.object}else return l.object.dataPatched.physics.fusedBody===!0&&l.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(l instanceof Yi)c=l.object;else if(c=l,(u=c.dataPatched.cloner)==null?void 0:u.hideBase)return!0}else{if(l instanceof $s)return;l instanceof Yi?c=l.object:c=l}this.data.destroy==="Time"?l.userData.lifetime=this.data.lifetime*1e3:this.data.destroy==="Quantity"&&(l.userData.quantity=this.data.destroyAfterQuantity,l.userData.actionId=this.uniqueId);let a=new V().fromArray(this.data.velocity),s=c.dataPatched;if(!(s.physics.enabled==="visibility"?!s.visible:!s.physics.enabled)&&(this.controlsManager.sharedGameControlGlobals.rapierWorld?(this.controlsManager.addRigidBody(l,c,{fromCreate:!0,dynamic:this.data.dynamic}),this.data.destroy==="Collision"&&((d=l.rigidBody)==null||d.collider(0).setActiveEvents(1),l.userData.hasCollisionDestroy=!0),l.matrixWorld.decompose(vBe,mF,yBe),a.applyQuaternion(mF),this.data.velocity.some(m=>m!==0)&&this.data.dynamic&&((h=l.rigidBody)==null||h.setLinvel(a.divideScalar(this.controlsManager.pixelsPerMeter),!0))):("geometry"in l.object&&this.controlsManager.addBoundsTree(l),this.data.velocity.some(m=>m!==0)&&this.data.dynamic&&(l.userData.velocity=a)),((f=c.dataPatched.physics)==null?void 0:f.fusedBody)===!0))return!0};let o=this.page.scene.find(this.data.object);if(!o)throw new Error("Missing Property");if(this.object=o,this.data.coordinateSystem!=="world"&&!this.page.scene.find(this.data.coordinateSystem))throw new Error("Missing Property");fF(r)}dispose(){this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null),this.timeoutIdQueue.forEach(e=>window.clearTimeout(e)),this.dispatchThrottled.cancel(),this.page.remove(...this.controlsManager.sharedGameControlGlobals.createdObjects),this.controlsManager.sharedGameControlGlobals.createdObjects=[]}},XJ=200,AM=.02,CM=.3,bBe=65;new V;var gF=new V,vF=new V,xBe=new V,io=new V,To=new V,Vu=new V,MM=new Ne,yF=new Ne,wBe=new Ne;new Ne;var js=new Rt,Sc=new Rt,bl=new yi(0,0,0,"YXZ"),_Be=new V(1,0,0),Is=new V(0,1,0),SBe=new V(0,0,1),bF=new V(1,1,1);new Zo;var EBe=1,ABe=.025,CBe=16e-6,xF=12,MBe=20,pi=new ss,Fa=new Rn,TBe={type:"requestRender"},PBe={type:"updateMatrix"},wF=Math.PI/6,A5=class extends Ri{constructor(e,t,r,n,i,o,l,c,a){var m;super(),this.object=e,this.domElement=t,this.data=r,this.gloabalPhysics=n,this.controlsManager=i,this.cameraFollow=o,this.camera=l,this.page=c,this.sharedAssets=a,this.enableDamping=!0,this.hiddenMatrix0=new Ne,this.target0=new V,this.zoom0=1,this.rotForce=1,this.moveForce=1,this.pixelsPerMeter=XJ,this.euler0=new yi(0,0,0,"YXZ"),this.position0Cam=new V,this.quat0Cam=new Rt,this.scale0Cam=new V,this.hiddenMatrix0Cam=new Ne,this.threshEndTranslate=.01,this.threshEndRotate=1e-8,this.threshEndRotVel=.005,this.collider={type:"capsule",radius:40,segment:new ss(new V(0,-40,0),new V(0,40,0)),matrix:new Ne,position:new V,rotation:new Rt},this.euler=new yi(0,0,0,"YXZ"),this.eulerDelta=new V,this.lastPosition=new V,this.lastCameraQuaternion=new Rt,this.lastCameraPosition=new V,this.PI_2=Math.PI/2,this.prevMouse=new oe,this.velocityTarget=new V,this.velocity=new V,this.directionXZ=new V,this.rotVelocityStick=new V,this.rotVelocityTarget=new V,this.rotVelocity=new V,this.rotDirection=new V,this.nonColliderRotOffset=new Ne,this.nonColliderPosOffset=new Ne,this.firstPointerId=-1,this.rot=new V,this.path=[],this.movementState={moveNegZ:0,movePosZ:0,moveNegX:0,movePosX:0,moveNegY:0,movePosY:0,rotPosX:0,rotNegX:0,rotPosY:0,rotNegY:0,jump:0,run:0},this.vrEulerYOffset=0,this.onObject=!1,this.actionState={},this.keyAssignments=[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","ArrowUp"],["rotPosY","ArrowLeft"],["rotNegX","ArrowDown"],["rotNegY","ArrowRight"],["jump"," "]],this.collisionEnabled=!0,this.offsetMatrix=new Ne,this.objectToTarget=new V,this.objectToTarget0=new V,this.objectToCamXZ=new V,this.objectToCamXZ0=new V,this.targetToCamera=new V,this.targetToCamera0=new V,this.cameraPolarAxis0=new V,this.targetPos=new V,this.targetQuat=new Rt,this.lerpFactorPos=new V().setScalar(.3),this.lerpFactorPosStart=.3,this.lerpFactorPosEnd=.3,this.lerpFactorRotStart=.3,this.lerpFactorRotEnd=.3,this.lerpFactorPosCamera=.3,this.lerpFactorRotCamera=.3,this.objXZQuat=new Rt,this.objXZQuatInv=new Rt,this.objXZRotMat=new Ne,this.isFirstPerson=!1,this.didHit=!1,this.groundVelocity=new V,this.pushedVelocity=new V,this.groundYRotation=0,this.objectRealQuat=new Rt,this.colliderWorldQuat=new Rt,this.groundNormal=new V,this.groundTilt=new Rt,this.groundTiltInv=new Rt,this.lastHitObj=null,this.isFirstFrame=!0,this.rotationAccumWhenOrientWithCamera=0,this.navMeshPathDest=null,this.position=new V,this.quaternion=new Rt,this.scale=new V,this.initialAction=!0,this.onPointerDown=p=>{p.target!==this.domElement||this.firstPointerId!==-1||(this.firstPointerId=p.pointerId,this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),this.rotBy!=="keys"&&!ya&&(!v9||y9>=15.5)&&this.domElement.requestPointerLock(),this.prevMouse.set(p.clientX,p.clientY))},this.onPointerUp=p=>{this.firstPointerId=-1,this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),p.pointerType==="mouse"&&this.domElement.ownerDocument.exitPointerLock()},this.onPointerMove=p=>{if(p.pointerId!==this.firstPointerId)return;let g=p.clientX-this.prevMouse.x,v=p.clientY-this.prevMouse.y;this.prevMouse.set(p.clientX,p.clientY),p.pointerType==="mouse"&&this.rotBy!=="keys"&&(v9&&y9<15.5&&!ya?(this.eulerDelta.y=-g*this.mouseOrbitSensitivity,this.eulerDelta.x=-v*this.mouseOrbitSensitivity):(this.eulerDelta.y=-p.movementX*this.mouseOrbitSensitivity,this.eulerDelta.x=-p.movementY*this.mouseOrbitSensitivity)),p.pointerType!=="mouse"&&this.rotByTouch==="drag"&&(this.eulerDelta.y=-g*this.mouseOrbitSensitivity*5,this.eulerDelta.x=-v*this.mouseOrbitSensitivity*5),this.controlsManager.requestRender()},this.onPointerlockChange=p=>{this.domElement.ownerDocument.pointerLockElement===this.domElement?A5.isLocked=!0:A5.isLocked=!1},this.onPointerlockError=()=>{console.error("SPE.GameControls: Unable to use Pointer Lock API")},this.handleVisibilityChange=()=>{if(document!=null&&document.hidden)for(let p in this.movementState)this.movementState[p]=0},this.onKeyDown=p=>{!(p.target instanceof HTMLInputElement)&&(p.code==="ArrowLeft"||p.code==="ArrowUp"||p.code==="ArrowRight"||p.code==="ArrowDown"||p.code==="Space")&&p.preventDefault();for(let g of this.keyAssignments)if(p.key.toUpperCase()===g[1]||p.key===g[1]){this.movementState[g[0]]=1;break}this.controlsManager.requestRender()},this.onKeyUp=p=>{for(let g of this.keyAssignments)if(p.key.toUpperCase()===g[1]||p.key===g[1]||p.code.slice(3,p.code.length).toUpperCase()===g[1]){this.movementState[g[0]]=0;break}},this.copyVRGamePadValues=(p,g)=>{for(let v=2;v<4;v++){let x=p.axes[v];g===0?v===2?this.movementState.movePosX=x:this.movementState.movePosZ=x:(p.buttons[3].pressed?this.movementState.jump=1:this.movementState.jump=0,v===2?(Math.abs(this.movementState.rotPosY)<.3&&Math.abs(x)>=.3&&(this.vrEulerYOffset+=x<0?1:-1),this.movementState.rotPosY=x):this.moveMode==="fly"&&(this.movementState.moveNegY=x))}},this.sharedGameControlGlobals=i.sharedGameControlGlobals,e===l&&(this.isFirstPerson=!0),this.hiddenMatrix0.copy(this.object.hiddenMatrix),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.euler0.setFromQuaternion(this.quaternion,"YXZ");let s=this.euler0.clone(),u=s.y;if(this.objectRealQuat.copy(this.quaternion),s.y=0,this.quaternion.setFromEuler(s),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),s.set(0,u,0),this.quaternion.setFromEuler(s),this.rot.setFromEuler(s),this.object.matrixAutoUpdate=!1,(this.isFirstPerson||this.cameraFollow===!0)&&(this.target0.copy(this.camera.getTarget()),this.zoom0=this.camera.zoom),this.cameraFollow===!0){this.position0Cam.copy(this.camera.position),this.quat0Cam.copy(this.camera.quaternion),this.scale0Cam.copy(this.camera.scale),this.hiddenMatrix0Cam.copy(this.camera.hiddenMatrix),this.camera.parent?(this.camera.hiddenMatrix.copy((m=this.camera)==null?void 0:m.parent.matrixWorld),this.camera.matrix.copy(this.camera.matrixWorld)):this.camera.hiddenMatrix.identity(),this.camera.matrix.copy(this.camera.matrixWorld),this.camera.matrix.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.matrixAutoUpdate=!1,this.offsetMatrix.copy(this.object.matrix).invert().multiply(this.camera.matrix);let p=new V(0,0,-1).applyQuaternion(this.camera.quaternion),g=new V().subVectors(this.position,this.camera.position);this.objectToCamXZ.copy(g),this.objectToCamXZ.y=0,this.objectToCamXZ0.copy(this.objectToCamXZ);let v,x;Math.abs(p.y)<1e-6?(g.y=0,p.y=0,x=g.projectOnVector(p)):g.y/p.y>0?x=p.multiplyScalar(g.y/p.y):x=p.multiplyScalar(g.length()),this.targetToCamera0.copy(x).negate(),v=this.camera.position.clone().add(x),this.objectToTarget0.subVectors(v,this.position);let y=new yi().setFromQuaternion(this.camera.quaternion,"YXZ");this.cameraPolarOffset=-y.x,y.x=0,y.z=0,y.y-=Math.PI/2,this.cameraPolarAxis0.set(0,0,-1).applyEuler(y)}if(this.object instanceof Ki&&(this.object.matrixAutoUpdate=!1),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.rotByTouch=r.rotByTouch??"joystick",this.rotBy=r.rotBy??"keys",this.rotationMode=r.rotationMode??"normal",this.moveMode=r.moveMode??"walk",this.collisionEnabled=r.collisionEnabled,this.speedTranslate=(r.speedTranslate??250)*EBe,this.speedOrbit=(r.speedRotate??100)*ABe,this.mouseOrbitSensitivity=(r.speedRotate??100)*CBe,this.keyAssignments=r.keyAssignments.map(p=>{let g=[p[0],p[1]];return g[1]===""?g[1]="ArrowUp":g[1]===""?g[1]="ArrowLeft":g[1]===""?g[1]="ArrowDown":g[1]===""?g[1]="ArrowRight":g[1]===""?g[1]="Shift":g[1]===""?g[1]="Enter":g[1]==="Space"?g[1]=" ":g[1]===""?g[1]="Meta":g[1]==="Ctrl"?g[1]="Control":g[1]==="Esc"&&(g[1]="Escape"),g}),r.rotBy==="mouse"){let p;p=this.keyAssignments.findIndex(g=>g[0]==="rotNegX"),p!==-1&&(this.keyAssignments[p][1]=""),p=this.keyAssignments.findIndex(g=>g[0]==="rotPosX"),p!==-1&&(this.keyAssignments[p][1]=""),p=this.keyAssignments.findIndex(g=>g[0]==="rotPosY"),p!==-1&&(this.keyAssignments[p][1]=""),p=this.keyAssignments.findIndex(g=>g[0]==="rotNegY"),p!==-1&&(this.keyAssignments[p][1]="")}this.lerpFactorPosStart=1-.02**(1/((r.delayPos[0]??.3)*60)),this.lerpFactorPosEnd=1-.02**(1/((r.delayPos[1]??.3)*60)),this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.lerpFactorRotStart=1-.02**(1/((r.delayRot[0]??.3)*60)),this.lerpFactorRotEnd=1-.02**(1/((r.delayRot[1]??.3)*60)),this.lerpFactorPosCamera=1-.02**(1/((r.delayPosCamera??.3)*60)),this.lerpFactorRotCamera=1-.02**(1/((r.delayRotCamera??.3)*60)),this.gravity=(this.gloabalPhysics.gravity??Eg.defaultData.gravity)*xF,this.usePhysics=this.gloabalPhysics.usePhysics??Eg.defaultData.usePhysics,this.jumpPower=r.jumpPower*MBe,this.resetYPosition=this.position.y+Math.abs(r.resetYPosition)*(this.gravity>0?1:-1),this.alignToGround=r.alignToGround??!1,this.orientMode=r.autoOrientMove?r.orientMode:"none",this.orientWith=r.orientWith??R2.defaultDataThirdPerson.orientWith,this.slopeThresh=bBe*Math.PI/180,r.collider.type==="capsule"?(this.collider.radius=r.collider.radius,this.collider.segment.start.y=r.collider.height/2-r.collider.radius,this.collider.segment.end.y=-this.collider.segment.start.y,this.offset=r.collider.height*AM/this.pixelsPerMeter,this.stepThresh=r.collider.height*CM/this.pixelsPerMeter,this.colliderHeight=r.collider.height):r.collider.type==="sphere"?(this.collider.radius=r.collider.radius,this.collider.segment.start.y=0,this.collider.segment.end.y=0,this.offset=2*r.collider.radius*AM/this.pixelsPerMeter,this.stepThresh=2*r.collider.radius*CM/this.pixelsPerMeter,this.colliderHeight=r.collider.radius*2):(this.offset=r.collider.height*AM/this.pixelsPerMeter,this.stepThresh=r.collider.height*CM/this.pixelsPerMeter,this.colliderHeight=r.collider.height),this.collider.type=r.collider.type;let d=new V().fromArray(r.collider.position),h=new Rt().setFromEuler(new yi().fromArray([...r.collider.rotation,"XYZ"]));this.collider.position.copy(d).multiply(this.scale),this.collider.rotation.copy(h),this.collider.matrix.compose(d,h,bF),r.cameraXAxis!==void 0&&(this.cameraXAxis=r.cameraXAxis,this.cameraYAxis=r.cameraYAxis,this.minPolarAngle=r.cameraRotXLimits[0],this.maxPolarAngle=r.cameraRotXLimits[1],this.minAzimuthAngleRel=r.cameraRotYLimits[0],this.maxAzimuthAngleRel=r.cameraRotYLimits[1]),this.forwardDir=r.forwardDirection??"-z",this.runMultiplier=r.runMultiplier??2;let f=r.navmesh.destinationHelperRadius*2;if(f>0){let p=new At;p.push({fi:0,data:{...Io.defaultData("light","phong"),alpha:0},id:"layer1"}),p.push({fi:0,data:{...Io.defaultData("color"),color:r.navmesh.destinationHelperColor,alpha:r.navmesh.destinationHelperColor.a},id:"layer2"});let g=new A6({layers:p},{scene:this.page.scene,shared:this.sharedAssets});this.navMeshPathDest=new vo(UK.create({parameters:{width:f,height:f/10,hollow:.7}}),g),this.navMeshPathDest.material.userData.opacity0=r.navmesh.destinationHelperColor.a}this.activate()}reset(e=!1){if(this.object.hiddenMatrix.copy(this.hiddenMatrix0),e){this.object.updateMatrix(),this.object.updateMatrixWorld(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity();let t=new yi().setFromQuaternion(this.quaternion,"YXZ"),r=t.y;this.objectRealQuat.copy(this.quaternion),t.y=0,this.quaternion.setFromEuler(t),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),t.set(0,r,0),this.quaternion.setFromEuler(t),this.rot.setFromEuler(t),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.velocityTarget.set(0,0,0),this.velocity.set(0,0,0)}else this.object instanceof Ki?this.object.matrixAutoUpdate=!0:this.object.updateMatrix();this.cameraFollow===!0&&(this.camera.quaternion.copy(this.quat0Cam),this.camera.position.copy(this.position0Cam),this.camera.scale.copy(this.scale0Cam),this.camera.hiddenMatrix.copy(this.hiddenMatrix0Cam),this.camera.matrixAutoUpdate=!0),this.controlsManager.requestRender()}activate(){this.instantiateActions(),this.domElement.ownerDocument.addEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.addEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.addEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.addEventListener("visibilitychange",this.handleVisibilityChange)}deactivate(){this.disposeActions(),this.domElement.ownerDocument.removeEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.removeEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.removeEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.removeEventListener("visibilitychange",this.handleVisibilityChange)}dispose(){var e;this.deactivate(),(e=this.navMeshPathDest)!=null&&e.parent&&this.page.remove(this.navMeshPathDest)}instantiateActions(){let e=this.data,t=this.sharedAssets;e.gameActions!==void 0&&(this.actions={},O2.list.forEach(r=>{this.actions[r]=So({...e,disabled:!1,type:"GameControl"},e.gameActions[r],this.page,t,this.controlsManager.eventManager,this.object)})),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"),this.initialAction&&(this.initialAction=!1)}disposeActions(){this.initialAction=!1,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),xi(this.actions.idle),xi(this.actions.move),xi(this.actions.run),xi(this.actions.jump)}dispatchStartEvent(e){this.actions[e]!==void 0&&(this.actionState[e]||(this.actionState[e]=!0,this.actions[e].Transition.forEach(t=>{t.play()}),this.actions[e].Animation.forEach(t=>{t.play(this.initialAction===!1)}),this.actions[e].Create.forEach(t=>{t.dispatchStart()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("start")})))}dispatchStopEvent(e){this.actions[e]!==void 0&&(!this.actionState[e]||(this.actionState[e]=!1,this.actions[e].Transition.forEach(t=>{t.stop(),t.object.currentState!==null&&t.object.changeSelectedState(null,{scene:this.page.scene,shared:this.sharedAssets})}),this.actions[e].Create.forEach(t=>{t.dispatchStop()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("stop")})))}get colliderWorldPosition(){return io.copy(this.collider.position).applyQuaternion(this.objectRealQuat).add(this.position)}update(e,t,r){var c,a,s,u,d,h,f,m,p;if(this.gravity<0?this.position.y<this.resetYPosition:this.position.y>this.resetYPosition)return this.reset(!0),!0;this.sharedGameControlGlobals.gamePads.forEach(this.copyVRGamePadValues);let n=(this.isFirstFrame?16.6:e)/1e3;this.isFirstFrame&&(this.isFirstFrame=!1);let i=n*60,o=!1;if(this.usePhysics&&this.collisionEnabled){let g=To.set(0,(this.velocity.y===0?this.pixelsPerMeter*Math.max(Math.abs(this.gravity)/(10*xF),1)*(this.gravity>0?1:-1):this.velocity.y)*n,0).divideScalar(this.pixelsPerMeter),v=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter),this.colliderWorldQuat,g,(c=this.object.rigidBody)==null?void 0:c.collider(0).shape,1,!1,16,void 0,void 0,this.object.rigidBody);if(v){this.onObject=!0,this.groundNormal.set(v.normal2.x,v.normal2.y,v.normal2.z).applyQuaternion(this.colliderWorldQuat).negate(),this.alignToGround&&this.groundTiltAdjustment(this.groundNormal),Math.acos(this.groundNormal.y)<this.slopeThresh&&(o=!0),((a=v.collider.parent())==null?void 0:a.bodyType())===0&&Math.acos(this.groundNormal.y)*(180/Math.PI)>45&&(this.onObject=!1);let x=v.collider.parent();this.groundYRotation=0,this.groundVelocity.set(0,0,0);for(let y of this.sharedGameControlGlobals.entitiesWithTransformAnim)if(y.rigidBody===x&&y.userData.isFollowingObj!==this.object.uuid){(y.hasNonUniformScale?y.matrixWorldRigid:y.matrixWorld).decompose(io,Sc,To),this.groundVelocity.subVectors(io,y.prevT),this.object.getWorldPosition(To).add(this.collider.position).sub(io),this.groundYRotation=bl.setFromQuaternion(Sc).y-y.prevR.y,Vu.copy(To).applyAxisAngle(Is,this.groundYRotation),this.groundVelocity.add(Vu.sub(To)).divideScalar(n);break}}else this.onObject=!1}if(this.moveMode==="walk"&&this.collisionEnabled&&(this.movementState.jump===1&&this.onObject&&(this.velocityTarget.y=this.jumpPower,this.movementState.jump=0,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("jump"),this.onObject=!1),this.onObject?this.velocityTarget.y/=2:this.velocityTarget.y+=this.gravity*i),this.moveMode==="fly"&&(this.velocityTarget.y=(this.movementState.movePosY-this.movementState.moveNegY)*this.speedTranslate),this.directionXZ.z=this.movementState.movePosZ-this.movementState.moveNegZ,this.directionXZ.x=this.movementState.movePosX-this.movementState.moveNegX,this.forwardDir==="+z"&&this.directionXZ.multiplyScalar(-1),this.directionXZ.manhattanLength()>0&&(this.path=[]),this.navMeshPathDest){let g=this.navMeshPathDest.material;if(this.moveMode==="walk"&&this.path.length>1){this.navMeshPathDest.position.copy(this.path[this.path.length-1]),this.navMeshPathDest.parent||this.page.add(this.navMeshPathDest);let v=io.subVectors(this.path[1],this.position),x=To.subVectors(this.path[1],this.path[0]);v.dot(x)<0?this.path.shift():(this.directionXZ.x=x.x,this.directionXZ.z=x.z),g.opacity=g.userData.opacity0}else g.opacity-=.05*g.userData.opacity0,this.navMeshPathDest.material.opacity<=0&&this.navMeshPathDest.parent&&this.page.remove(this.navMeshPathDest)}this.directionXZ.normalize(),this.movementState.run?this.moveForce=this.runMultiplier:this.moveForce=1,this.velocityTarget.z=this.directionXZ.z*this.speedTranslate*this.moveForce,this.velocityTarget.x=this.directionXZ.x*this.speedTranslate*this.moveForce,(this.moveMode==="walk"?this.velocityTarget.x+this.velocityTarget.z===0:this.velocityTarget.manhattanLength()===0)?this.lerpFactorPos.setScalar(this.lerpFactorPosEnd):this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.moveMode==="walk"&&(this.lerpFactorPos.y=1),this.didHit===!1&&this.pushedVelocity.manhattanLength()===0||this.usePhysics===!1?(this.velocity.x+=(this.velocityTarget.x-this.velocity.x)*(1-(1-this.lerpFactorPos.x)**i),this.velocity.y+=(this.velocityTarget.y-this.velocity.y)*(1-(1-this.lerpFactorPos.y)**i),this.velocity.z+=(this.velocityTarget.z-this.velocity.z)*(1-(1-this.lerpFactorPos.z)**i)):this.velocity.copy(this.velocityTarget),(this.moveMode==="walk"?this.velocity.x**2+this.velocity.z**2<this.speedTranslate:this.velocity.lengthSq()<this.speedTranslate)?(this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.onObject&&(this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"))):(this.dispatchStopEvent("idle"),this.onObject&&(this.dispatchStopEvent("jump"),this.movementState.run?(this.dispatchStopEvent("move"),this.dispatchStartEvent("run")):(this.dispatchStopEvent("run"),this.dispatchStartEvent("move"))));let l=xBe.copy(this.velocity);if(this.orientMode!=="none"&&this.isFirstPerson===!1){let g=To.copy(l);g.y=0,l.set(0,l.y,g.length()*(this.forwardDir==="+z"?1:-1))}if(this.directionXZ.manhattanLength()>0&&this.orientMode!=="none")if(this.orientWith==="camera"&&this.path.length<=1){let g=io;this.camera.getWorldDirection(g);let v=Vu.copy(Is).multiplyScalar(g.dot(Is));g.sub(v);let x=To.copy(this.directionXZ);x.x*=-1,this.rot.y=g.angleTo(x)*(g.cross(x).y>0?-1:1)+this.rotationAccumWhenOrientWithCamera}else this.rot.y=(this.path.length>1?0:this.euler.y)+Math.atan2(-this.directionXZ.z,this.directionXZ.x)+Math.PI/2*(this.forwardDir==="+z"?1:-1);if(bl.setFromVector3(this.rot),this.moveMode==="walk"&&(bl.x=0),l.applyEuler(bl),o&&(Sc.setFromUnitVectors(Is,this.groundNormal),l.applyQuaternion(Sc)),r){let g=bl.set(0,this.vrEulerYOffset*wF,0);r.applyEuler(g),l.x+=r.x,l.z+=r.z,this.nonColliderPosOffset.elements[13]+=r.y*n}if(this.usePhysics===!0){let g=To;this.pushedVelocity.set(0,0,0);for(let v of this.sharedGameControlGlobals.entitiesWithTransformAnim){let x=Vu.setFromMatrixPosition(v.matrixWorld).sub(v.prevT).divideScalar(n).divideScalar(this.pixelsPerMeter),y=v.rigidBody.collider(0).castCollider(x,this.object.rigidBody.collider(0),io.copy(l).divideScalar(this.pixelsPerMeter),n,!1);x.multiplyScalar(this.pixelsPerMeter);let b=or.is(v)?v:v.object;if(y!==null&&this.lastHitObj!==b){let w;v instanceof Yi&&(w=v);let _=this.sharedGameControlGlobals.entityToCollisionEvents[b.uuid];if(_)for(let S of _)S.data.target==="character"&&(S.dispatch(w),b.dispatchEvent(M5));this.lastHitObj=b}if(y!==null){this.pushedVelocity.copy(x),g.copy(y.normal1).applyQuaternion(v.quaternion);break}}if(this.pushedVelocity.manhattanLength()!==0){let v=g.dot(l);v<0&&l.addScaledVector(g,-v),l.add(this.pushedVelocity)}else l.add(this.groundVelocity)}if(this.rotDirection.y=Number(this.movementState.rotPosY)-Number(this.movementState.rotNegY),this.rotDirection.x=Number(this.movementState.rotPosX)-Number(this.movementState.rotNegX),this.rotDirection.normalize(),this.rotationMode==="normal"&&(this.movementState.rotPosX||this.movementState.rotNegX)||this.rotationMode==="steer"&&(this.movementState.rotPosX||this.movementState.rotNegX)&&(this.movementState.movePosZ||this.movementState.moveNegZ||this.moveMode==="walk")?this.rotVelocityStick.x=-this.rotDirection.x*this.speedOrbit*this.rotForce:this.rotVelocityStick.x=0,this.rotationMode==="normal"&&(this.movementState.rotPosY||this.movementState.rotNegY)||this.rotationMode==="steer"&&(this.movementState.rotPosY||this.movementState.rotNegY)&&(this.movementState.movePosZ||this.movementState.moveNegZ)?this.rotVelocityStick.y=-this.rotDirection.y*this.speedOrbit*this.rotForce:this.rotVelocityStick.y=0,this.rotVelocityTarget.subVectors(this.eulerDelta.divideScalar(n),this.rotVelocityStick),this.rotVelocityTarget.manhattanLength()===0?this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotEnd)**i):this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotStart)**i),this.euler.x+=this.rotVelocity.x*n,this.euler.y+=this.rotVelocity.y*n+this.groundYRotation,this.rotVelocityTarget.y===0&&this.directionXZ.manhattanLength()===0?this.rotationAccumWhenOrientWithCamera=0:(this.cameraFollow===!1||this.cameraYAxis==="Locked")&&(this.rotationAccumWhenOrientWithCamera+=this.rotVelocity.y*n),this.isFirstPerson===!1&&this.orientMode!=="none"&&this.directionXZ.manhattanLength()>0){if(this.orientMode==="radial"){this.objectToCamXZ.copy(this.objectToCamXZ0).applyAxisAngle(Is,this.euler.y-this.euler0.y);let g=To.copy(this.objectToCamXZ).normalize(),v=Vu.copy(l).multiplyScalar(n);v.y=0;let x=v.sub(io.copy(g).multiplyScalar(v.dot(g))).cross(g).y;this.euler.y-=Math.atan2(x,this.objectToCamXZ.length())}}else this.rot.y+=this.rotVelocity.y*n+this.groundYRotation,this.rotVelocityTarget.y!==0&&(this.cameraFollow===!1||this.cameraYAxis==="Locked")&&(this.euler.y=this.rot.y);if(this.cameraFollow===!0&&(this.moveMode==="walk"?this.cameraXAxis==="Limit"?this.euler.x=pt.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):this.euler.x=pt.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset,this.PI_2+this.cameraPolarOffset):this.cameraXAxis==="Limit"&&(this.euler.x=pt.clamp(this.euler.x,-this.PI_2,this.PI_2))),this.moveMode==="fly"?this.rot.x=this.euler.x:this.isFirstPerson&&(t?(bl.copy(t),bl.y=0):(bl.copy(this.euler),bl.y=0),this.nonColliderRotOffset.makeRotationFromEuler(bl)),t&&(this.moveMode==="walk"?(this.rot.y=t.y,this.rot.x=0,this.rot.z=0):this.rot.setFromEuler(t),this.rot.y+=this.vrEulerYOffset*wF),js.setFromAxisAngle(_Be,this.rot.x),Sc.setFromAxisAngle(Is,this.rot.y),Sc.multiply(js),js.setFromAxisAngle(SBe,this.rot.z),Sc.multiply(js),this.quaternion.copy(Sc),this.objectRealQuat.multiplyQuaternions(this.quaternion,this.objXZQuat),this.objectRealQuat.multiply(this.objXZQuat),this.colliderWorldQuat.copy(this.objectRealQuat).multiply(this.collider.rotation),this.collisionEnabled)if(this.usePhysics){let g=To.copy(l).multiplyScalar(n/this.pixelsPerMeter),v=null;this.didHit=!1;let x=new V;for(let y=0;y<5;y++){let b=g.length(),w=Vu.copy(g).normalize();if(v=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(x),this.colliderWorldQuat,w,(s=this.object.rigidBody)==null?void 0:s.collider(0).shape,b,!1,24,void 0,void 0,this.object.rigidBody),v!==null){this.didHit=!0;let _=this.sharedGameControlGlobals.colliderToEntity.get(v.collider.handle);if(_!==this.lastHitObj&&y===0){this.lastHitObj=_;let A=this.sharedGameControlGlobals.entityToCollisionEvents[_==null?void 0:_.uuid];if(A){for(let T of A)if(T.data.target==="character"){let k=((u=this.sharedGameControlGlobals.rapierWorld)==null?void 0:u.getCollider(v.collider.handle))._parent,D;if(_.cloner){for(let M of _.cloner.children)if(M.rigidBody===k){D=M;break}}T.dispatch(D),_.dispatchEvent(M5)}}}let S=gF.set(v.normal2.x,v.normal2.y,v.normal2.z).applyQuaternion(this.colliderWorldQuat),E=vF.copy(w).multiplyScalar(v.toi).dot(S),C=v.toi;if(C===0&&(this.position.y+=this.offset*this.pixelsPerMeter),E>this.offset&&(C=v.toi*(E-this.offset)/E,x.addScaledVector(w,C)),g.copy(w).multiplyScalar(b-C),Math.acos(-S.y)>this.slopeThresh){let A=this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(x),T=Vu.copy(v.witness2).applyQuaternion(this.colliderWorldQuat);T.y=0;let k=A.add(T);k.y+=this.stepThresh;let D=this.sharedGameControlGlobals.rapierWorld.castShape(k,this.colliderWorldQuat,g,(d=this.object.rigidBody)==null?void 0:d.collider(0).shape,1,!1,24,void 0,void 0,this.object.rigidBody);D!==null&&D.toi===0&&(S.y=0,S.normalize())}g.addScaledVector(S,-g.dot(S))}else{y===0&&this.directionXZ.manhattanLength()!==0&&(this.lastHitObj=null),x.add(g);break}}this.position.addScaledVector(x,this.pixelsPerMeter),(h=this.object.rigidBody)==null||h.setTranslation(io.copy(this.position).divideScalar(this.pixelsPerMeter),!0),(f=this.object.rigidBody)==null||f.setRotation(js.copy(this.quaternion).premultiply(this.groundTilt).multiply(this.objXZQuat),!0)}else{let g=this.onObject?1:5,v=l.multiplyScalar(n/g);for(let x=0;x<g;x++)this.position.add(v),this.collisionAdjustment(n/g)}else this.position.addScaledVector(l,n);if(this.moveMode==="walk"&&this.onObject&&(this.velocityTarget.y=0,this.velocity.y=0),this.quaternion.premultiply(this.groundTilt).multiply(this.objXZQuat),this.object.matrix.compose(this.position,this.quaternion,this.scale),this.object.matrixWorldNeedsUpdate=!0,this.object.matrix.multiply(this.nonColliderPosOffset).multiply(this.nonColliderRotOffset),this.quaternion.premultiply(this.groundTiltInv).multiply(this.objXZQuatInv),this.cameraFollow===!0){this.updateFollowArms();let g=this.objectToTarget.add(this.position),v=this.targetToCamera.add(g);MM.lookAt(v,g,Is).setPosition(v),MM.decompose(this.targetPos,this.targetQuat,io),this.camera.quaternion.slerp(this.targetQuat,1-(1-this.lerpFactorRotCamera)**i),this.camera.position.lerp(this.targetPos,1-(1-this.lerpFactorPosCamera)**i),this.camera.updateMatrix(),this.camera.updateMatrixWorld(),this.cameraYAxis==="Limit"&&this.orientMode==="cartesian"&&(this.euler.y=pt.clamp(this.euler.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel)),this.euler.x=pt.clamp(this.euler.x,-this.PI_2+(this.cameraPolarOffset<0?this.cameraPolarOffset:0),this.PI_2+(this.cameraPolarOffset>0?this.cameraPolarOffset:0))}return this.eulerDelta.set(0,0,0),this.object.dispatchEvent(PBe),this.path.length<2&&this.lastPosition.distanceToSquared(this.position)<this.threshEndTranslate&&Math.abs(this.rotVelocity.x)<this.threshEndRotVel&&Math.abs(this.rotVelocity.y)<this.threshEndRotVel&&(this.camera===void 0||this.isFirstPerson||this.lastCameraPosition.distanceToSquared(this.camera.position)<this.threshEndTranslate&&8*(1-this.lastCameraQuaternion.dot(this.camera.quaternion))<this.threshEndRotate)&&(this.moveMode==="fly"||this.onObject===!0||this.collisionEnabled===!1)&&(this.navMeshPathDest===null||this.navMeshPathDest.material.opacity<-.04*((p=(m=this.navMeshPathDest)==null?void 0:m.material)==null?void 0:p.userData.opacity0))?!1:(this.camera&&(this.lastCameraPosition.copy(this.camera.position),this.lastCameraQuaternion.copy(this.camera.quaternion)),this.lastPosition.copy(this.position),this.object.dispatchEvent(TBe),!0)}updateFollowArms(){this.objectToTarget.copy(this.objectToTarget0),this.targetToCamera.copy(this.targetToCamera0);let e=js.setFromAxisAngle(Is,this.cameraYAxis==="Limit"&&this.orientMode!=="radial"?pt.clamp(this.euler.y-this.euler0.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel):this.euler.y-this.euler0.y);(this.cameraYAxis!=="Locked"||this.orientMode==="radial")&&this.objectToTarget.applyQuaternion(e);let t;this.cameraXAxis==="Limit"?t=pt.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):t=pt.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset+1e-6,this.PI_2+this.cameraPolarOffset-1e-6);let r=io.copy(this.cameraPolarAxis0);(this.cameraYAxis!=="Locked"||this.orientMode==="radial")&&r.applyQuaternion(e);let n=Sc.setFromAxisAngle(r,t);this.cameraYAxis!=="Locked"&&this.targetToCamera.applyQuaternion(e),this.cameraXAxis!=="Locked"&&this.targetToCamera.applyQuaternion(n)}groundTiltAdjustment(e){Is.angleTo(e)*180/Math.PI<15||Is.angleTo(e)*180/Math.PI>85?js.identity():js.setFromUnitVectors(Is,e),this.groundTilt.slerp(js,.06),this.groundTiltInv.copy(this.groundTilt).invert()}collisionAdjustment(e){var i;let t=vF.set(0,0,0);this.object.matrix.compose(this.position,this.quaternion,this.scale);let r=MM.multiplyMatrices(this.object.matrix,this.objXZRotMat).multiply(this.collider.matrix).decompose(io,js,To).compose(io,js,bF);this.sharedGameControlGlobals.entitiesWithTransformAnim.forEach(o=>{if(o===this.object||o.isDescendantOf(this.object))return;Fa.makeEmpty(),o.updateMatrixWorldSVD();let l=o.matrixWorldRigid,c=yF.copy(l).invert(),a=wBe.copy(yF).multiply(r);pi.copy(this.collider.segment),pi.start.applyMatrix4(a),pi.end.applyMatrix4(a);let s=gF.copy(this.position).applyMatrix4(c);Fa.expandByPoint(pi.start),Fa.expandByPoint(pi.end),Fa.min.addScalar(-this.collider.radius),Fa.max.addScalar(this.collider.radius),o.bvhGeometry.boundsTree.shapecast({traverseBoundsOrder(u){return u.distanceToPoint(pi.end)},intersectsBounds:u=>u.intersectsBox(Fa),intersectsTriangle:u=>{let d=io,h=To,f=u.closestPointToSegment(pi,d,h);if(f<this.collider.radius){let m=this.collider.radius-f,p=h.sub(d).normalize(),g=Vu.copy(s);g.addScaledVector(p,m);let v=g.applyMatrix4(l).sub(this.position);t.add(v),pi.start.addScaledVector(p,m),pi.end.addScaledVector(p,m)}}})}),Fa.makeEmpty(),pi.copy(this.collider.segment),pi.start.applyMatrix4(r),pi.end.applyMatrix4(r),Fa.expandByPoint(pi.start),Fa.expandByPoint(pi.end),Fa.min.addScalar(-this.collider.radius),Fa.max.addScalar(this.collider.radius),(i=this.sharedGameControlGlobals.staticMeshBVH)==null||i.shapecast({traverseBoundsOrder(o){return o.distanceToPoint(pi.end)},intersectsBounds:o=>o.intersectsBox(Fa),intersectsTriangle:o=>{let l=io,c=To,a=o.closestPointToSegment(pi,l,c);if(a<this.collider.radius){let s=this.collider.radius-a,u=c.sub(l).normalize();this.alignToGround&&this.groundTiltAdjustment(u),t.addScaledVector(u,s),pi.start.addScaledVector(u,s),pi.end.addScaledVector(u,s)}}}),this.onObject=Math.abs(t.y)>Math.abs(e*this.velocity.y*.25),this.onObject&&this.dispatchStopEvent("jump");let n=Math.max(0,t.length()-1e-5);t.normalize().multiplyScalar(n),this.position.add(t)}},$J=A5;$J.isLocked=!1;var kBe=Ai(wX());function Bc(e,t){let r=new vt;if(!e.getAttribute("position"))return r.setAttribute("position",new it([],3)),r.setIndex([]),r;let{positions:n,triIndices:i}=QE(e.getAttribute("position"),e.getIndex());return r.setAttribute("position",new it(n,3)),r.setIndex(i),t&&r.applyMatrix4(t),r}var DBe=new Ne,jBe=new Ne,xl=[[0,0,0],[0,0,0],[0,0,0]];function KJ(e){let t=e.elements;xl[0][0]=t[0],xl[0][1]=t[4],xl[0][2]=t[8],xl[1][0]=t[1],xl[1][1]=t[5],xl[1][2]=t[9],xl[2][0]=t[2],xl[2][1]=t[6],xl[2][2]=t[10];let{u:r,v:n}=(0,kBe.SVD)(xl),i=DBe.set(r[0][0],r[0][1],r[0][2],0,r[1][0],r[1][1],r[1][2],0,r[2][0],r[2][1],r[2][2],0,0,0,0,1),o=jBe.set(n[0][0],n[0][1],n[0][2],0,n[1][0],n[1][1],n[1][2],0,n[2][0],n[2][1],n[2][2],0,0,0,0,1);return i.multiply(o.transpose())}var IBe=class extends f${constructor(){super(),this.layers.enable(3),this.layers.enable(8)}setFromCamera(e,t){t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):t.isPerspectiveCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):console.error("Raycaster: Unsupported camera type.")}intersectVisibleObjects(e,t=!0,r=[]){return e.forEach(n=>{n.visible&&this.intersectObject(n,t,r)}),r}createRaycastLineHelper(){let e=new Qd({color:65280,linewidth:10}),t=new V(this.ray.origin.x,this.ray.origin.y,this.ray.origin.z),r=new V(this.ray.direction.x,this.ray.direction.y,this.ray.direction.z),n=this.camera.far-this.camera.near,i=new V().addVectors(t,r.multiplyScalar(n)),o=new vt;return o.setFromPoints([t,i]),new a2(o,e)}},QJ=e=>e instanceof Gm||e instanceof qm;function OBe(e,t){return e.distance-t.distance}function JJ(e,t,r){if(!(!Nc(t)||!t.visible)){Ws(t)&&t.raycast(e,r);for(let n of t.children)JJ(e,n,r)}}function Xw(e,t,r,n=!1){if(!n&&!r.some(o=>X2(e,o)!==void 0))return[];let i=[];return t.children.forEach(o=>JJ(e,o,i)),i.sort(OBe),i}function C5(e){let t=[];if(e.length){let r=e[0].object;Nc(r)&&t.push(r);let n=r.parent;for(;n;)QJ(n)&&t.push(n),n=n.parent}return t}function X2(e,t){if(Ws(t)){if(t.visible){let r=[];return t.raycast(e,r),r.length?r[0]:void 0}}else if(QJ(t))return ZJ(e,t)}function ZJ(e,t){if(!(!Nc(t)||!t.visible)){if(Ws(t)){let r=[];if(t.raycast(e,r),r.length)return r[0]}for(let r of t.children){let n=ZJ(e,r);if(n)return n}}}function RBe(e,t,r){return{x:(e-(r.left+window.scrollX))/r.width*2-1,y:-((t-(r.top+window.scrollY))/r.height)*2+1}}var LBe=class{constructor(e,t,r,n,i,o,l,c){this.renderer=e,this.publish=t,this.scene=r,this.getCamera=n,this.sharedAssets=i,this.requestRender=o,this.isExport=l,this.frame=c,this.raycaster=new IBe,this._useWindowEvents=!1,this._useWindowEvents=t.mouseEventTarget==="window",this.domElement=e.domElement,this.eventElement=this._useWindowEvents?window:e.domElement,this._domRect=this.domElement.getBoundingClientRect()}get stopRaycast(){return this.publish.stopRaycast}get page(){return this.scene.activePage}set useWindowEvents(e){this._useWindowEvents=e,this.eventElement=e?window:this.renderer.domElement}get useWindowEvents(){return this._useWindowEvents}set domRect(e){this._domRect=e}updateRaycaster(e){var n;let{pageX:t,pageY:r}=((n=e.touches)==null?void 0:n.length)>0?e.touches[0]:e;this.raycaster.setFromCamera(RBe(t,r,this._domRect),this.getCamera())}},ll=class{constructor(t){this.eventContext=t,this.domEventsNeeded=new Set,this.hasVideoAction=!1}connect(){}disconnect(){}},X6=[["start","Start"],["keyDown","KeyDown"],["keyUp","KeyUp"],["mouseDown","MouseDown"],["mouseUp","MouseUp"],["mouseHover","MouseHover"],["collision","Collision"],["lookAt","LookAt"],["follow","Follow"],["scroll","Scroll"]],eZ=e=>{var t;return(t=X6.find(([r,n])=>n===e))==null?void 0:t[0]},rb=e=>{var t;return(t=X6.find(([r])=>r===e))==null?void 0:t[1]},zBe=(e,t)=>{let r=eZ(e);if(r){let n=new CustomEvent(r,{bubbles:!0});return Object.defineProperty(n,"target",{writable:!1,value:t}),n}},NBe=class extends ll{constructor(e){super(e),this.objectsPerEvents=new Map,this.splineEvents={},this.onBeginEvent=r=>{var o;if(!r.eventName||!r.target||r.eventName==="Scroll")return;let n=(o=this.splineEvents[eZ(r.eventName)])==null?void 0:o[r.target.uuid];if(!n)return;r.eventName==="Scroll"&&r.deltaY!==void 0&&Object.assign(n,{deltaY:r.deltaY});let{domElement:i}=this.eventContext;i.dispatchEvent(n)};let{page:t}=this.eventContext;t.traverseEntity(r=>{var n,i;if((n=r.data)!=null&&n.events.length){for(let[o,l]of X6)if(r.data.events.some(c=>c.data.type===l&&!c.data.disabled)){this.objectsPerEvents.has(o)?(i=this.objectsPerEvents.get(o))==null||i.push(r):this.objectsPerEvents.set(o,[r]);let c={id:r.uuid,name:r.name},a=zBe(l,c),s=this.splineEvents[o];s?s[r.uuid]=a:this.splineEvents[o]={[r.uuid]:a}}}})}connect(){this.objectsPerEvents.forEach(e=>{e.forEach(t=>{t.addEventListener("beginEvent",this.onBeginEvent)})})}disconnect(){this.objectsPerEvents.forEach(e=>{e.forEach(t=>{t.removeEventListener("beginEvent",this.onBeginEvent)})})}},BBe=class{constructor(e,t,r,n,i,o){if(this.id=e,this.data=t,this.object=r,this.entered=!1,this.alreadyPlayedNonTogglingActions=new Set,this.useToggle=t.runMode==="Toggle",(t.type==="KeyDown"||t.type==="KeyUp"||t.type==="KeyPress")&&!t.key)throw new Error("Missing property");this.actions=So(t,t.actions,n,i,o,r)}disconnect(){xi(this.actions)}dispatchHeld(e){this.actions.Create.forEach(t=>{e&&t.dispatchThrottled.cancel(),t.dispatchThrottled()})}dispatch(e=!1){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this?(t.object.currentTransitionEvent=this,t.init()):this.data.runMode==="Once"&&this.alreadyPlayedNonTogglingActions.add(t)}),this.useToggle?(this.actions.Transition.forEach(t=>{t.toggle()}),this.actions.Animation.forEach(t=>{t.toggle()}),this.actions.SwitchCamera.forEach(t=>{t.toggle()})):this.data.type==="MousePress"||this.data.type==="KeyPress"?this.entered||(this.entered=!0,this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatchStart())):(this.actions.Transition.some(t=>t.playing)||this.actions.Transition.forEach(t=>{this.alreadyPlayedNonTogglingActions.has(t)===!1&&t.play()}),this.actions.SwitchCamera.some(t=>t.playing)||this.actions.SwitchCamera.forEach(t=>{t.play()}),this.actions.Animation.forEach(t=>{t.play()})),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),e===!1&&this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}dispatchRelease(){this.entered&&(this.entered=!1,this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.Animation.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()),this.actions.Create.forEach(e=>e.dispatchStop()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},FBe=class extends ll{constructor(e,t,r){super(e),this.useForRaycastProperty=r,this.objectsPerTypes={MouseDown:[],MouseUp:[],MousePress:[],KeyDown:[],KeyUp:[],KeyPress:[]},this.canvasMouseEvents=[],this.eventsPerObjects={MouseDown:{},MouseUp:{},MousePress:{},KeyDown:{},KeyUp:{},KeyPress:{}},this.heldKeys={},this.heldKeysPress={},this._prevObjects=[],this.sceneInterects=null,this.onCanvasRaycast=o=>{if(this.useForRaycastProperty===!0&&this.sceneInterects===null){this.eventContext.updateRaycaster(o);let{raycaster:l,page:c}=this.eventContext,a=Xw(l,c,[],!0);this.sceneInterects=a,a.length&&(this.eventContext.sharedAssets.raycastProperty={x:a[0].point.x,y:a[0].point.y,z:a[0].point.z,objX:a[0].object.matrixWorld.elements[12],objY:a[0].object.matrixWorld.elements[13],objZ:a[0].object.matrixWorld.elements[14]})}},this.onCanvasMouseDown=o=>{(o.target===this.eventContext.domElement||o.target.tagName==="SPLINE-VIEWER")&&this.canvasMouseEvents.forEach(l=>{(l.data.type==="MouseDown"||l.data.type==="MousePress")&&(this.onCanvasRaycast(o),l.dispatch())})},this.onCanvasMouseUp=o=>{(o.target===this.eventContext.domElement||o.target.tagName==="SPLINE-VIEWER")&&this.canvasMouseEvents.forEach(l=>{l.data.type==="MouseUp"?(this.onCanvasRaycast(o),l.dispatch()):l.data.type==="MousePress"&&l.dispatchRelease()})},this.onMouseDown=o=>{Mt.length>1||(this.eventContext.updateRaycaster(o),this.handleMouseEvent("MouseDown"))},this.onMouseUp=o=>{Mt.length>1||(this.eventContext.updateRaycaster(o),this.handleMouseEvent("MouseUp"))},this.onMousePressDown=o=>{Mt.length>1||(this.eventContext.updateRaycaster(o),this.handleMousePressEvent())},this.onMousePressRelease=o=>{Mt.length>1||(this.eventContext.updateRaycaster(o),this.handleMousePressEvent(!0))},this.onKeyDown=o=>{this.heldKeys[o.key]||(this.handleKeyEvent(o,"KeyDown"),this.handleKeyEventHeld(o,"KeyDown",!0)),this.heldKeys[o.key]=!0},this.onKeyUp=o=>{this.handleKeyEvent(o,"KeyUp"),this.handleKeyEventHeld(o,"KeyUp",!0)},this.onKeyPressDown=o=>{this.heldKeysPress[o.key]?this.handleKeyEventHeld(o,"KeyPress"):(this.handleKeyEvent(o,"KeyPress"),this.handleKeyEventHeld(o,"KeyPress",!0)),this.heldKeysPress[o.key]=!0},this.onKeyPressUp=o=>{this.handleKeyEvent(o,"KeyPress",!0)},this.releaseHeldKey=o=>{delete this.heldKeys[o.key]},this.releaseHeldKeyPress=o=>{delete this.heldKeysPress[o.key]},this._onUserEvent=({eventName:o,target:l,reverse:c})=>{var s,u,d,h;if(!o||!l)return;let a=rb(o);a&&(a==="MouseDown"||a==="MouseUp"||a==="MousePress"?(l.dispatchEvent({type:"beginEvent",eventName:a}),(u=(s=this.eventsPerObjects[a])==null?void 0:s[l.uuid])==null||u.forEach(f=>{f.dispatchUserEvent(c)})):(a==="KeyDown"||a==="KeyUp"||a==="KeyPress")&&(l.dispatchEvent({type:"beginEvent",eventName:a}),(h=(d=this.eventsPerObjects[a])==null?void 0:d[l.uuid])==null||h.forEach(f=>{f.dispatchUserEvent()})))};let{page:n,sharedAssets:i}=this.eventContext;n.traverseEntity(o=>{var c,a;if(!((c=o.data)!=null&&c.events.length))return;let l=["MouseDown","MouseUp","MousePress","KeyDown","KeyUp","KeyPress"];for(let s of l){let u=this.eventsPerObjects[s];o.data.events.filter(({data:d})=>d.type===s&&d.disabled!==!0).forEach(({id:d,data:h})=>{try{let f=new BBe(d,h,o,n,i,t);f.actions.Video.length&&(this.hasVideoAction=!0),(h.type==="MouseDown"||h.type==="MouseUp"||h.type==="MousePress")&&(h.mode==="Canvas"||h.mode==="Window")?this.canvasMouseEvents.push(f):u[o.uuid]?u[o.uuid].push(f):u[o.uuid]=[f]}catch{}}),(a=u[o.uuid])!=null&&a.length&&this.objectsPerTypes[s].push(o)}})}connect(){var t,r,n,i,o,l;let{domElement:e}=this.eventContext;this.heldKeys={},this.heldKeysPress={},this.domEventsNeeded.clear(),e.addEventListener("pointerdown",this.onCanvasMouseDown),e.addEventListener("pointerup",this.onCanvasMouseUp),((t=this.objectsPerTypes.MouseDown)!=null&&t.length||this.useForRaycastProperty)&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseDown)),(r=this.objectsPerTypes.MouseUp)!=null&&r.length&&(this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMouseUp)),(n=this.objectsPerTypes.MousePress)!=null&&n.length&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMousePressDown),this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMousePressRelease)),(i=this.objectsPerTypes.KeyDown)!=null&&i.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.releaseHeldKey)),(o=this.objectsPerTypes.KeyUp)!=null&&o.length&&(this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyUp)),(l=this.objectsPerTypes.KeyPress)!=null&&l.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyPressDown),document.addEventListener("keyup",this.releaseHeldKeyPress),this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyPressUp)),Object.entries(this.objectsPerTypes).forEach(([c,a])=>{a.forEach(s=>{s.addEventListener("userEvent",this._onUserEvent)})})}disconnect(){let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),this.heldKeys={},this.heldKeysPress={},e.removeEventListener("pointerdown",this.onCanvasMouseDown),e.removeEventListener("pointerup",this.onCanvasMouseUp),e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerdown",this.onMousePressDown),e.removeEventListener("pointerup",this.onMouseUp),e.removeEventListener("pointerup",this.onMousePressRelease),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("keydown",this.onKeyPressDown),document.removeEventListener("keyup",this.onKeyPressUp),document.removeEventListener("keyup",this.releaseHeldKey),Object.values(this.eventsPerObjects).forEach(t=>{Object.values(t).forEach(r=>{r.forEach(n=>{n.disconnect()})})}),this.canvasMouseEvents.forEach(t=>{t.disconnect()}),Object.entries(this.objectsPerTypes).forEach(([t,r])=>{r.forEach(n=>{n.removeEventListener("userEvent",this._onUserEvent)})})}handleMouseEvent(e){let{stopRaycast:t,raycaster:r,page:n}=this.eventContext,i=this.objectsPerTypes[e];if(!(!i.length&&!this.useForRaycastProperty)){if(t||this.useForRaycastProperty){let o;this.sceneInterects===null?o=Xw(r,n,i,this.useForRaycastProperty):(o=this.sceneInterects,this.sceneInterects=null),this.useForRaycastProperty&&o.length&&(this.eventContext.sharedAssets.raycastProperty={x:o[0].point.x,y:o[0].point.y,z:o[0].point.z,objX:o[0].object.matrixWorld.elements[12],objY:o[0].object.matrixWorld.elements[13],objZ:o[0].object.matrixWorld.elements[14]}),t&&C5(o).forEach(l=>{this.eventsPerObjects[e][l.uuid]&&this.handleObjectMouseEventDispatch(l,e)})}t||i.forEach(o=>{X2(r,o)&&this.handleObjectMouseEventDispatch(o,e)})}}handleMousePressEvent(e=!1){let t="MousePress",r=this.objectsPerTypes[t],n=[];if(r.length){if(!e){let{stopRaycast:i,raycaster:o,page:l}=this.eventContext;if(i){let c=Xw(o,l,r);n=C5(c)}else r.forEach(c=>{X2(o,c)&&n.push(c)})}this._prevObjects.length&&this._prevObjects.forEach(i=>{n.includes(i)||this.handleObjectMouseEventDispatchRelease(i,t)}),n.length&&n.forEach(i=>{this.handleObjectMouseEventDispatch(i,t)}),this._prevObjects=n}}handleObjectMouseEventDispatch(e,t){var r,n;e.dispatchEvent({type:"beginEvent",eventName:t}),(n=(r=this.eventsPerObjects[t])==null?void 0:r[e.uuid])==null||n.forEach(i=>{i.dispatch()})}handleObjectMouseEventDispatchRelease(e,t){var r,n;e.dispatchEvent({type:"beginEvent",eventName:t}),(n=(r=this.eventsPerObjects[t])==null?void 0:r[e.uuid])==null||n.forEach(i=>{i.dispatchRelease()})}handleKeyEvent(e,t,r=!1){this.objectsPerTypes[t].forEach(n=>{let i=this.eventsPerObjects[t][n.uuid];i.some(({data:o})=>"key"in o&&o.key===e.key)&&n.dispatchEvent({type:"beginEvent",eventName:t}),i.forEach(o=>{"key"in o.data&&o.data.key===e.key&&(r?o.dispatchRelease():o.dispatch(!0))})})}handleKeyEventHeld(e,t,r=!1){this.objectsPerTypes[t].forEach(n=>{this.eventsPerObjects[t][n.uuid].forEach(i=>{"key"in i.data&&i.data.key===e.key&&i.dispatchHeld(r)})})}},UBe=new V,VBe=new V,tZ=class{constructor(e,t,r,n,i){this.actionsIn=So(e,e.inActions,r,n,i,t),this.actionsOut=So(e,e.outActions,r,n,i,t)}disconnect(){xi(this.actionsIn),xi(this.actionsOut)}},HBe=class extends tZ{constructor(e,t,r,n,i,o){super(t,r,n,i,o),this.id=e,this.data=t,this.object=r,this.stage="out",this.objects=[],this.onUpdateMatrixWorld=()=>{for(let h of this.objects)if(!h.visible)return;let s=UBe.setFromMatrixPosition(this.objects[0].matrixWorld),u=VBe.setFromMatrixPosition(this.objects[1].matrixWorld),d=s.distanceTo(u)<=this.distance?"in":"out";if(this.stage!==d){this.stage=d;let h=d==="in"?this.actionsIn:this.actionsOut;h.Audio.forEach(f=>f.dispatchConditional()),h.Video.forEach(f=>f.dispatchConditional()),h.Link.forEach(f=>f.dispatch()),h.Create.forEach(f=>f.dispatch()),h.Destroy.forEach(f=>f.dispatch()),h.Reset.forEach(f=>f.dispatch()),h.Transition.forEach(f=>{f.object.currentTransitionEvent!==this&&(f.object.currentTransitionEvent=this),f.init()}),h.Transition.forEach(f=>f.play()),h.Animation.forEach(f=>f.play()),h.SwitchCamera.forEach(f=>f.play()),h.SceneTransition.forEach(f=>f.dispatch()),h.SetVariable.forEach(f=>f.checkConditions()),h.SetVariable.forEach(f=>f.dispatch()),h.DynamicVariablePlay.forEach(f=>f.dispatch())}};let{distance:l,fromObject:c,toObject:a}=t.condition;this.distance=l;for(let s of[c,a]){if(!s)throw new Error("Missing property");let u=n.find(s);if(!u)throw new Error("Missing property");this.objects.push(u)}}connect(){window.setTimeout(()=>{this.objects.forEach(e=>{e.addEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)}),this.onUpdateMatrixWorld()},0)}disconnect(){super.disconnect(),this.stage="out",this.objects.forEach(e=>{e.removeEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)})}},WBe=class extends tZ{constructor(e,t,r,n,i,o){var a;super(t,r,n,i,o),this.id=e,this.data=t,this.object=r,this.onBegin=({target:s,state:u})=>{this.toState!==u&&(this.actionsOut.Audio.forEach(d=>d.dispatchConditional()),this.actionsOut.Video.forEach(d=>d.dispatchConditional()),this.actionsOut.Link.forEach(d=>d.dispatch()),this.actionsOut.Create.forEach(d=>d.dispatch()),this.actionsOut.Destroy.forEach(d=>d.dispatch()),this.actionsOut.Reset.forEach(d=>d.dispatch()),this.actionsIn.Transition.forEach(d=>d.pause()),this.object.currentTransitionEvent=this,this.actionsOut.Transition.forEach(d=>d.play()),this.actionsOut.Animation.forEach(d=>d.play()),this.actionsIn.SwitchCamera.forEach(d=>d.pause()),this.actionsOut.SwitchCamera.forEach(d=>d.play()),this.actionsOut.SceneTransition.forEach(d=>d.dispatch()),this.actionsOut.SetVariable.forEach(d=>d.checkConditions()),this.actionsOut.SetVariable.forEach(d=>d.dispatch()),this.actionsOut.DynamicVariablePlay.forEach(d=>d.dispatch()))},this.onComplete=({target:s,state:u})=>{this.toState===u&&(this.actionsIn.Audio.forEach(d=>d.dispatchConditional()),this.actionsIn.Video.forEach(d=>d.dispatchConditional()),this.actionsIn.Link.forEach(d=>d.dispatch()),this.actionsIn.Create.forEach(d=>d.dispatch()),this.actionsIn.Destroy.forEach(d=>d.dispatch()),this.actionsIn.Reset.forEach(d=>d.dispatch()),this.actionsOut.Transition.forEach(d=>d.pause()),this.actionsOut.Transition.forEach(d=>d.pause()),this.object.currentTransitionEvent=this,this.actionsIn.Transition.forEach(d=>d.play()),this.actionsIn.Animation.forEach(d=>d.play()),this.actionsOut.SwitchCamera.forEach(d=>d.pause()),this.actionsIn.SwitchCamera.forEach(d=>d.play()),this.actionsIn.SceneTransition.forEach(d=>d.dispatch()),this.actionsIn.SetVariable.forEach(d=>d.checkConditions()),this.actionsIn.SetVariable.forEach(d=>d.dispatch()),this.actionsIn.DynamicVariablePlay.forEach(d=>d.dispatch()))};let{condition:l}=t;if(!l.object)throw new Error("Missing property");let c=n.find(l.object);if(!c)throw new Error("Missing property");if(this.toObject=c,l.state&&!((a=this.toObject.states)!=null&&a[l.state]))throw new Error("Missing property");this.toState=l.state}connect(){Fh(this.actionsOut).forEach(e=>{var t;(t=this.actionsOut[e])!=null&&t.length&&this.toObject.addEventListener("beginState",this.onBegin)}),Fh(this.actionsIn).forEach(e=>{var t;(t=this.actionsIn[e])!=null&&t.length&&this.toObject.addEventListener("completeState",this.onComplete)})}disconnect(){super.disconnect(),Fh(this.actionsOut).forEach(e=>{var t;(t=this.actionsIn[e])!=null&&t.length&&this.toObject.removeEventListener("beginState",this.onBegin)}),Fh(this.actionsIn).forEach(e=>{var t;(t=this.actionsIn[e])!=null&&t.length&&this.toObject.removeEventListener("completeState",this.onComplete)})}},GBe=class extends ll{constructor(e,t){super(e),this.eventsPerConditions={Comparison:[],Distance:[],State:[]},this.hasVideoAction=!1;let{page:r,sharedAssets:n}=this.eventContext;r.traverseEntity(i=>{var o;if((o=i.data)!=null&&o.events.length){for(let{id:l,data:c}of i.data.events)if(!c.disabled&&c.type==="Conditional")try{let a;c.condition.type==="Comparison"||(c.condition.type==="Distance"?a=new HBe(l,c,i,r,n,t):c.condition.type==="State"&&(a=new WBe(l,c,i,r,n,t))),a&&(this.eventsPerConditions[c.condition.type].push(a),(a.actionsIn.Video.length||a.actionsOut.Video.length)&&(this.hasVideoAction=!0))}catch{}}})}connect(){super.connect(),Object.values(this.eventsPerConditions).forEach(e=>e.forEach(t=>t.connect()))}disconnect(){super.disconnect(),Object.values(this.eventsPerConditions).forEach(e=>e.forEach(t=>t.disconnect()))}},cv=new V,Hu=new V,dh=new V,_F=new fa,qBe=.01,gr=new V,ni=new V,SF=new V,Gh=new Rt,TM=new yi,YBe=new Ne,PM=new In,Ap=new V,wl=new V,Cp=.2;function kM(e,t){!t||(t[0]<t[1]&&(e.x=Math.min(Math.max(e.x,t[0]),t[1])),t[2]<t[3]&&(e.y=Math.min(Math.max(e.y,t[2]),t[3])),t[4]<t[5]&&(e.z=Math.min(Math.max(e.z,t[4]),t[5])))}var XBe=function(){let e=new Ne;return(t,r,n)=>{let i=t.obj;e.copy(i.hiddenMatrix),i.parent!==null&&e.premultiply(i.parent.matrixWorld),e.invert(),i.position.copy(r),t.reference==="global"&&kM(i.position,t.limits),i.position.applyMatrix4(e),t.reference==="parent"?kM(i.position,t.limits):t.reference==="local"&&(Gh.copy(t.quat0).invert(),i.position.sub(t.position0),i.position.applyQuaternion(Gh),kM(i.position,t.limits),Gh.invert(),i.position.applyQuaternion(Gh),i.position.add(t.position0)),e.multiply(n??i.matrixWorld).decompose(gr,i.quaternion,ni),i.updateMatrix(),i.hasNonUniformScale&&(i.updateMatrixWorld(),i.updateMatrixWorldSVD()),i instanceof ea&&Jc(i.parent)&&i.invalidateDownstreamBooleanData(!0)}}(),$Be=class{constructor(e,t,r,n,i,o){this.object=e,this.data=t,this.dropDestIds=[],this.activeIdx=null,this.wasDragEventTriggered=!1,this.resetDampingFactor=this.data.resetSpeed===0?1:8/this.data.resetSpeed+1,this.snapDampingFactor=this.data.snapSpeed===0?1:8/this.data.snapSpeed+1,this.actionsDrag=So(t,t.dragDropActions.drag,r,n,i,this.object),this.actionsDrop=So(t,t.dragDropActions.drop,r,n,i,this.object);let l=[];this.data.objects.forEach(c=>{let a=r.find(c);!a||a.data.visible!==!1&&(l.push(a),o[a.uuid]&&o[a.uuid].forEach(s=>{let u=r.find(s);!u||u.data.visible!==!1&&l.push(u)}))}),this.data.dropDestinations.forEach(c=>{let a=r.find(c);!a||a.data.visible!==!1&&(this.dropDestIds.push(a.uuid),o[a.uuid]&&o[a.uuid].forEach(s=>{let u=r.find(s);!u||u.data.visible!==!1&&this.dropDestIds.push(u.uuid)}))}),this.dragItems=l.map(c=>(this.data.planeMode==="locked"&&(c.userData.lockedPlane=!0),c.userData.worldPosition0=new V().setFromMatrixPosition(c.matrixWorld),{obj:c,fromPosition:new V().setFromMatrixPosition(c.matrixWorld),pointStart:new V,pointEnd:new V,paused:!0,currentDampingFactor:this.data.dampingFactor,reset:!1,position0:new V().copy(c.position),quat0:new Rt().copy(c.quaternion),snapped:!1,orientationMatrix:new Ne,limits:this.data.limits,reference:this.data.referenceFrame}))}get activeDragItem(){return this.activeIdx!==null?this.dragItems[this.activeIdx]:null}dispose(){xi(this.actionsDrag),xi(this.actionsDrop),this.dragItems.forEach(e=>{e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart),e.obj.recursiveBBoxNeedsUpdate=!0,e.obj.userData.lockedPlane=void 0,e.obj.position.copy(e.position0),e.obj.quaternion.copy(e.quat0),e.obj.updateMatrix()})}},KBe=class extends ll{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.lastDropDestination=null,this.dragTimeout=null,this.onPointerDown=n=>{var c;if(Mt.length>1)return;this.eventContext.updateRaycaster(n);let{raycaster:i,page:o}=this.eventContext,l=o.raycastWithClones(i);if(this.lastDropDestination=null,l.length===0){this.activeEvent=null;return}for(let a of this.events){let s=0;for(let{obj:u,pointEnd:d,pointStart:h}of a.dragItems){if(u===l[0].object||u===l[0].object.object||or.is(u)&&u.isAncestorOf(l[0].object.uuid)){if(a.activeIdx=s,a.activeDragItem.reset=!1,a.activeDragItem.currentDampingFactor=a.data.dampingFactor,a.activeDragItem.snapped=!1,a.data.cursor==="hand"&&this.setCursor("grabbing"),this.eventManager.controlsManager.usePhysics){a.activeDragItem.obj.rigidBody&&a.activeDragItem.obj.rigidBody.setBodyType(2,!0);let f=a.activeDragItem.obj;u.hasNonUniformScale&&u.updateMatrixWorldSVD(),(f.hasNonUniformScale?f.matrixWorldRigid:f.matrixWorld).decompose(gr,Gh,ni),TM.setFromQuaternion(Gh),f.prevR===void 0?(f.prevR=TM.clone(),f.prevT=gr.clone()):(f.prevR.copy(TM),f.prevT.copy(gr)),this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.push(a.activeDragItem.obj)}this.calcPlaneIntersectPos(u,h,a.data.plane,a.data.referenceFrame),d.copy(h),(this.eventManager.controlsManager.usePhysics&&((c=u.data.physics)==null?void 0:c.rigidBody)==="dynamic"||a.data.drop===!1||a.data.resetOnSnapFail===!1)&&a.activeDragItem.fromPosition.setFromMatrixPosition(a.activeDragItem.obj.matrixWorld),this.activeEvent=a,this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!1);return}s++}}this.activeEvent=null},this.onPointerMove=n=>{var c,a,s,u;if(Mt.length>1)return;this.eventContext.updateRaycaster(n);let{raycaster:i,page:o}=this.eventContext,l=o.raycastWithClones(i);if(Mt.length===0){let d=!1;for(let h of this.events){for(let{obj:f}of h.dragItems)if(f===((c=l[0])==null?void 0:c.object)||f===((s=(a=l[0])==null?void 0:a.object)==null?void 0:s.object)||or.is(f)&&f.isAncestorOf((u=l[0])==null?void 0:u.object.uuid)){switch(d=!0,h.data.cursor){case"hand":this.setCursor("grab");break;case"move":this.setCursor("move");break}break}if(d)break}d||this.setCursor("default");return}if(this.activeEvent&&this.activeEvent.activeDragItem){let d=this.activeEvent.activeDragItem;d.snapped=!1;let h;if(this.activeEvent.data.drop&&(h=l.filter(f=>d.obj!==f.object&&!d.obj.isAncestorOf(f.object.uuid)&&!(f.object instanceof Gm)&&(this.activeEvent.data.dropOn==="all"||this.activeEvent.dropDestIds.some(m=>m===f.object.uuid||o.scene.find(m).isAncestorOf(f.object.uuid))))[0]),h){let f=SF.copy(h.face.normal).applyMatrix3(PM.getNormalMatrix(h.object.matrixWorld));if(this.activeEvent.data.snapTo==="center")d.fromPosition.setFromMatrixPosition(h.object.matrixWorld);else if(this.activeEvent.data.snapTo==="surface"){if(d.fromPosition.copy(h.point),this.activeEvent.data.snapSurfaceMode==="bbox"){gr.copy(f).applyMatrix3(PM.setFromMatrix4(d.obj.matrixWorld).transpose());let m=d.obj;gr.x>Cp?ni.x=-m.recursiveBBox.min.x:gr.x<-Cp&&(ni.x=-m.recursiveBBox.max.x),gr.y>Cp?ni.y=-m.recursiveBBox.min.y:gr.y<-Cp&&(ni.y=-m.recursiveBBox.max.y),gr.z>Cp?ni.z=-m.recursiveBBox.min.z:gr.z<-Cp&&(ni.z=-m.recursiveBBox.max.z),ni.applyMatrix3(PM.invert())}else ni.copy(f).multiplyScalar(this.activeEvent.data.snapSurfaceOffset);d.fromPosition.add(ni)}this.activeEvent.data.autoOrient&&(gr.set(0,1,0).cross(f),gr.length()<1e-4&&gr.set(-1,0,0).cross(f),ni.crossVectors(SF,gr),d.orientationMatrix.makeBasis(gr,ni,f)),d.pointStart.copy(d.fromPosition),d.pointEnd.copy(d.pointStart),d.currentDampingFactor=this.activeEvent.snapDampingFactor,d.snapped=!0,this.lastDropDestination!==h.object&&(this.lastDropDestination=h.object,this.activeEvent.actionsDrop.Transition.forEach(m=>{m.play()}),this.activeEvent.actionsDrop.Animation.forEach(m=>{m.play()}),this.activeEvent.actionsDrop.Audio.forEach(m=>{m.dispatchGameControl("start")}),this.activeEvent.actionsDrop.Create.forEach(m=>{m.dispatchThrottled()}))}else d.orientationMatrix.makeRotationFromQuaternion(d.quat0),this.lastDropDestination=null,d.currentDampingFactor=this.activeEvent.data.dampingFactor,this.calcPlaneIntersectPos(d.obj,d.pointEnd,this.activeEvent.data.plane,this.activeEvent.data.referenceFrame),this.activeEvent.actionsDrop.Transition.forEach(f=>{f.stop(),f.object.currentState!==null&&f.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrop.Animation.forEach(f=>{f.stop()}),this.activeEvent.actionsDrop.Audio.forEach(f=>{f.dispatchGameControl("stop")});this.activeEvent.actionsDrag.Create.forEach(f=>{f.dispatchThrottled()}),this.activeEvent.actionsDrag.SetVariable.forEach(f=>f.checkConditions()),this.activeEvent.actionsDrag.SetVariable.forEach(f=>f.dispatch()),this.activeEvent.actionsDrag.DynamicVariablePlay.forEach(f=>f.dispatch()),this.activeEvent.wasDragEventTriggered===!1&&(this.activeEvent.wasDragEventTriggered=!0,this.activeEvent.actionsDrag.Transition.forEach(f=>{f.play()}),this.activeEvent.actionsDrag.Animation.forEach(f=>{f.play()}),this.activeEvent.actionsDrag.Audio.forEach(f=>{f.dispatchGameControl("start")})),this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(()=>{!this.activeEvent||(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Audio.forEach(f=>{f.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Transition.forEach(f=>{f.stop(),f.object.currentState!==null&&f.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(f=>{f.stop()}))},500),this.updateDragItem(d),d.obj.dispatchEvent({type:"requestRender"})}},this.onPointerUp=n=>{var i;if(this.activeEvent&&this.activeEvent.activeDragItem){this.activeEvent.data.cursor==="hand"&&this.setCursor("grab");let o=((i=this.activeEvent.activeDragItem.obj.data.physics)==null?void 0:i.rigidBody)==="dynamic";this.activeEvent.activeDragItem.snapped===!1&&this.activeEvent.data.drop&&this.activeEvent.data.resetOnSnapFail&&(this.eventManager.controlsManager.usePhysics===!1||!o)&&(this.activeEvent.activeDragItem.reset=this.activeEvent.data.resetOnSnapFail,this.activeEvent.activeDragItem.paused=!1,this.activeEvent.activeDragItem.currentDampingFactor=this.activeEvent.resetDampingFactor),this.eventManager.controlsManager.usePhysics&&o&&(this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.pop(),this.activeEvent.activeDragItem.obj.rigidBody.setBodyType(0,!0),this.activeEvent.activeDragItem.paused=!0),this.activeEvent.wasDragEventTriggered===!0&&(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Transition.forEach(l=>{l.stop(),l.object.currentState!==null&&l.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(l=>{l.stop()}),this.activeEvent.actionsDrag.Audio.forEach(l=>{l.dispatchGameControl("stop")}),this.activeEvent.actionsDrop.SetVariable.forEach(l=>l.checkConditions()),this.activeEvent.actionsDrop.SetVariable.forEach(l=>l.dispatch()),this.activeEvent.actionsDrop.DynamicVariablePlay.forEach(l=>l.dispatch())),this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!0)}};let r={};e.page.traverseEntity(n=>{n.component&&(r[n.component.uuid]?r[n.component.uuid].push(n.uuid):r[n.component.uuid]=[n.uuid])}),e.page.traverseEntity(n=>{var i;(i=n.data)==null||i.events.filter(o=>o.data.type==="DragDrop"&&!o.data.disabled).forEach(o=>{this.events.push(new $Be(n,o.data,e.page,e.sharedAssets,t,r))})})}connect(){if(!this.events.length)return;this.domEventsNeeded.clear(),this.domEventsNeeded.add("pointerdown");let e=this.eventContext.domElement;e.addEventListener("pointerdown",this.onPointerDown),e.addEventListener("pointermove",this.onPointerMove),e.addEventListener("pointerup",this.onPointerUp),this.domEventsNeeded.add("pointermove")}disconnect(){if(!this.events.length)return;this.domEventsNeeded.clear();let e=this.eventContext.domElement;e.removeEventListener("pointerdown",this.onPointerDown),e.removeEventListener("pointermove",this.onPointerMove),e.removeEventListener("pointerup",this.onPointerUp),this.events.forEach(t=>t.dispose())}setCursor(e){this.eventContext.domElement.style.cursor=e}onAnimationFrameDamping(){for(let e of this.events)for(let t of e.dragItems)t.paused||this.updateDragItem(t,!0)}calcPlaneIntersectPos(e,t,r,n){let{getCamera:i,raycaster:o}=this.eventContext;i().getWorldDirection(Hu),Hu.negate();let l=Gh.identity();switch(n==="parent"?YBe.multiplyMatrices(e.parent.matrixWorld,e.hiddenMatrix).decompose(gr,l,ni):n==="local"&&e.matrixWorld.decompose(gr,l,ni),r){case"x":gr.set(1,0,0).applyQuaternion(l),Ap.copy(Hu).cross(gr),wl.copy(gr).cross(Ap);break;case"y":gr.set(0,1,0).applyQuaternion(l),Ap.copy(Hu).cross(gr),wl.copy(gr).cross(Ap);break;case"z":gr.set(0,0,1).applyQuaternion(l),Ap.copy(Hu).cross(gr),wl.copy(gr).cross(Ap);break;case"xy":wl.set(0,0,1).applyQuaternion(l);break;case"yz":wl.set(1,0,0).applyQuaternion(l);break;case"xz":wl.set(0,1,0).applyQuaternion(l);break;case"adaptive":Hu.angleTo(ni.set(0,1,0))>Math.PI/6?(gr.crossVectors(ni.set(0,1,0),Hu),wl.crossVectors(gr,ni)):wl.set(0,1,0);break;default:wl.copy(Hu);break}dh.setFromMatrixPosition(e.matrixWorld);let c=e.userData.lockedPlane?e.userData.worldPosition0:dh;if(_F.setFromNormalAndCoplanarPoint(wl,c),!!o.ray.intersectPlane(_F,t)&&(r==="x"||r==="y"||r==="z")){let a=ni.subVectors(t,c).dot(gr);t.copy(c).addScaledVector(gr,a)}}updateDragItem(e,t=!1){var r,n;dh.setFromMatrixPosition(e.obj.matrixWorld),e.reset==="current"?cv.subVectors(e.fromPosition,dh).divideScalar(e.currentDampingFactor):e.reset==="original"?(cv.subVectors(e.obj.userData.worldPosition0,dh).divideScalar(e.currentDampingFactor),e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart)):cv.subVectors(e.pointEnd,e.pointStart).add(e.fromPosition).sub(dh).divideScalar(e.currentDampingFactor),e.paused=e.currentDampingFactor>1?cv.length()<qBe:!0,(this.activeEvent&&this.activeEvent.data.dampingFactor===1||t)&&XBe(e,cv.add(dh),(r=this.activeEvent)!=null&&r.data.drop&&((n=this.activeEvent)!=null&&n.data.autoOrient)?e.orientationMatrix:null),e.obj.dispatchEvent({type:"beginEvent",eventName:"DragDrop"}),this.eventManager.requestRender()}},Mp=new V,DM=new V,Ec=new V,Ac=new V,EF=new fa,QBe=.01,JBe={type:"requestRender"},ZBe=function(){let e=new V,t=new V;return(r,n,i)=>i>0?(e.subVectors(r,n),e.length()<=i?r:t.copy(n).add(e.normalize().multiplyScalar(i))):n}(),AF=function(){let e=new Ne;return(t,r)=>{t.position.copy(r),t.parent!==null&&(e.copy(t.parent.matrixWorld).invert(),t.position.applyMatrix4(e)),e.copy(t.hiddenMatrix).invert(),t.position.applyMatrix4(e),t.updateMatrix(),t.hasNonUniformScale&&(t.updateMatrixWorld(),t.updateMatrixWorldSVD()),t instanceof ea&&Jc(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),e7e=class{constructor(e,t,r,n,i){this.data=e,this.object=t,this.paused=!1,this.currentDampingFactor=1,this.snapComplete=!1,this.isReset=!1,this.worldPosition0=new V,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={...gP.defaultData,...e,...e.resetOnPointerLeave===void 0&&{resetOnPointerLeave:!1}},e.target===void 0||e.target==="cursor"||(this.target=r.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.resetDampingFactor=80/this.data.resetSpeed+1,this.object.getWorldPosition(this.worldPosition0),this.actions=So(e,e.actions,r,n,i,t)}},t7e=class extends ll{constructor(e,t){super(e),this.events=[],this.pairOfEventListeners=[],this.onMouseMove=n=>{if(!(Mt.length>1)){this.eventContext.updateRaycaster(n);for(let i of this.events)i.target===void 0&&this.updateSingleEvent(i)}},this.onMouseEnter=n=>{for(let i of this.events)i.target===void 0&&(i.isReset=!1,i.currentDampingFactor=i.data.dampingFactor)},this.onMouseLeave=n=>{for(let i of this.events)i.target===void 0&&(i.data.resetOnPointerLeave&&(i.isReset=!0,i.currentDampingFactor=i.resetDampingFactor),this.updateSingleEvent(i))},this.onTargetChange=n=>()=>{this.updateSingleEvent(n)};let{page:r}=this.eventContext;r.traverseEntity(n=>{var o,l;let i=(o=n.data)==null?void 0:o.events.find(c=>c.data.type==="Follow"&&!c.data.disabled);i&&(!r.data.globalPhysics.usePhysics||((l=n.dataPatched.physics)==null?void 0:l.rigidBody)!=="dynamic")&&this.events.push(new e7e(i.data,n,r,e.sharedAssets,t))})}connect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),ya&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),t.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents||(e.addEventListener("pointerenter",this.onMouseEnter),e.addEventListener("pointerleave",this.onMouseLeave));for(let r of this.events)if(r.target!==void 0){let n=r.target,i=this.onTargetChange(r);this.pairOfEventListeners.push([n,i]),n.addEventListener("requestRender",i)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),ya&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave);for(let[r,n]of this.pairOfEventListeners)r.removeEventListener("requestRender",n);for(let r of this.events)r.paused=!0,r.isReset=!1,xi(r.actions)}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e,!0)}updateSingleEvent(e,t=!1){var l;this.events.forEach(c=>{c.actions.Create.forEach(a=>{a.dispatchThrottled()})});let{plane:r,limitDistance:n,limitDistanceEnabled:i}=e.data;if(e.object.getWorldPosition(Ec),e.isReset)Ac.copy(e.worldPosition0);else if(e.target)e.target.getWorldPosition(Ac);else{let{getCamera:c,raycaster:a}=this.eventContext;if(r==="custom"?(c().getWorldDirection(DM),DM.negate(),Mp.copy(DM)):r==="xy"?Mp.set(0,0,1):r==="xz"?Mp.set(0,1,0):r==="yz"&&Mp.set(1,0,0),EF.setFromNormalAndCoplanarPoint(Mp,Ec),!a.ray.intersectPlane(EF,Ac))return}if(!e.isReset){if(Ac.distanceTo(e.worldPosition0)>n&&i&&e.target)if(e.snapComplete=!1,e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&e.timeoutId!==null&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,e.data.resetAfterDistanceLimit)Ac.copy(e.worldPosition0),e.currentDampingFactor=e.resetDampingFactor;else return;else if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},e.data.snapDelay*1e3)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),e.delayFinished===!1)return}e.data.enabledTranslation[0]===!1&&(Ac.x=Ec.x),e.data.enabledTranslation[1]===!1&&(Ac.y=Ec.y),e.data.enabledTranslation[2]===!1&&(Ac.z=Ec.z);let o=ZBe(Ec,Ac,e.wasOutside?0:e.data.maxDelta);if(e.currentDampingFactor>1){let c=Mp.subVectors(o,Ec).divideScalar(e.currentDampingFactor);Ec.add(c),t&&AF(e.object,Ec),e.paused=c.length()<QBe}else AF(e.object,o),e.paused=!0;(l=e.object)==null||l.dispatchEvent({type:"beginEvent",eventName:"Follow"}),e.object.dispatchEvent(JBe)}},uv=new V,Qx=new V,dv=new Ne,Tp=new Rt,Wu=new Rt,hv=new V,fv=new V,hh=new V,Cc=new V,jM=new fa,r7e=1e-6,n7e={type:"requestRender"},i7e={type:"changeRotation"},CF=function(){let e=new Ne;return function(t,r){t.parent!==null?e.multiplyMatrices(t.parent.matrixWorld,t.hiddenMatrix):e.copy(t.hiddenMatrix),r.premultiply(KJ(e).invert()),t.rotation.setFromRotationMatrix(r),t.updateMatrix(),t instanceof ea&&Jc(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),o7e=class{constructor(e,t,r){this.object=t,this.paused=!1,this.currentDampingFactor=1,this.isReset=!1,this.worldQuaternion0=new Rt,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={...vP.defaultData,...e,...e.resetOnPointerLeave===void 0&&{resetOnPointerLeave:!1}},e.target===void 0||e.target==="cursor"||(this.target=r.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.object.getWorldQuaternion(this.worldQuaternion0),this.resetDampingFactor=80/this.data.resetSpeed+1}},a7e=class extends ll{constructor(e){super(e),this.events=[],this.pairOfEventListeners=[],this.pairOfUserEventListeners=[],this.onMouseMove=r=>{if(!(Mt.length>1)){this._lastMouseEvent=r,this.eventContext.updateRaycaster(r);for(let n of this.events)n.target===void 0&&this.updateSingleEvent(n)}},this.onMouseEnter=r=>{for(let n of this.events)n.target===void 0&&(n.isReset=!1,n.currentDampingFactor=n.data.dampingFactor)},this.onMouseLeave=r=>{for(let n of this.events)n.target===void 0&&(n.data.resetOnPointerLeave&&(n.isReset=!0,n.currentDampingFactor=n.resetDampingFactor),this.updateSingleEvent(n))},this.onScroll=r=>{if(this._lastMouseEvent){let n=new PointerEvent("pointermove",{clientX:this._lastMouseEvent.clientX,clientY:this._lastMouseEvent.clientY,bubbles:!0,cancelable:!0,view:window});this.eventContext.eventElement.dispatchEvent(n)}},this.onTargetChange=r=>()=>{this.updateSingleEvent(r)},this.createUserEventListener=r=>({eventName:n,target:i})=>{if(!n||!i)return;let o=rb(n);o&&o==="LookAt"&&this.updateSingleEvent(r)};let{page:t}=this.eventContext;t.traverseEntity(r=>{var i,o;let n=(i=r.data)==null?void 0:i.events.find(l=>l.data.type==="LookAt"&&!l.data.disabled);n&&(!t.data.globalPhysics.usePhysics||((o=r.dataPatched.physics)==null?void 0:o.rigidBody)!=="dynamic")&&this.events.push(new o7e(n.data,r,t))})}connect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),ya&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),t.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents?t.addEventListener("scroll",this.onScroll):(e.addEventListener("pointerenter",this.onMouseEnter),e.addEventListener("pointerleave",this.onMouseLeave));for(let r of this.events){if(r.target!==void 0){let o=this.onTargetChange(r),l=r.target;this.pairOfEventListeners.push([l,o]),l.addEventListener("requestRender",o)}let n=this.createUserEventListener(r),i=r.object;this.pairOfUserEventListeners.push([i,n]),i.addEventListener("userEvent",n)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),ya&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave),t.removeEventListener("scroll",this.onScroll);for(let[r,n]of this.pairOfEventListeners)r.removeEventListener("requestRender",n);for(let[r,n]of this.pairOfUserEventListeners)r.removeEventListener("userEvent",n);for(let r of this.events)r.paused=!0,r.isReset=!1}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e)}updateSingleEvent(e){var h;let{tilt:t,axis:r,distance:n,plane:i,limitDistance:o,enabledRotation:l,limitDistanceEnabled:c}=e.data,{getCamera:a,raycaster:s}=this.eventContext,{object:u,target:d}=e;if(u.getWorldPosition(hv),!e.isReset)if(e.target)e.target.getWorldPosition(fv);else{if(i==="custom"?(a().getWorldDirection(Qx),Qx.negate(),jM.setFromNormalAndCoplanarPoint(Qx,hv)):(i==="xy"?uv.set(0,0,1):i==="xz"?uv.set(0,1,0):i==="yz"&&uv.set(1,0,0),jM.setFromNormalAndCoplanarPoint(uv,hv)),!s.ray.intersectPlane(jM,fv))return;n>0&&(i==="custom"||i===void 0)&&fv.addScaledVector(Qx,n)}if(e.isReset||(d?t==="target"?hh.copy(d.up).applyMatrix4(dv.extractRotation(d.matrixWorld)).normalize():l.some(f=>f===!1)?(r==="x"?(Cc.set(0,0,1),l[2]===!1&&Cc.set(0,1,0)):r==="y"?(Cc.set(1,0,0),l[0]===!1&&Cc.set(0,0,1)):(Cc.set(0,1,0),l[1]===!1&&Cc.set(1,0,0)),hh.copy(Cc).applyQuaternion(e.worldQuaternion0).normalize()):hh.set(0,1,0):i==="custom"?hh.set(0,1,0):hh.copy(uv)),e.isReset)Wu.copy(e.worldQuaternion0);else if(hv.distanceTo(fv)>o&&c&&d)if(e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&e.timeoutId!==null&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,e.data.resetAfterDistanceLimit)Wu.copy(e.worldQuaternion0),e.currentDampingFactor=e.resetDampingFactor;else return;else{if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},e.data.snapDelay*1e3)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),e.delayFinished===!1)return;s7e(dv,fv,hv,hh,r,Cc),Wu.setFromRotationMatrix(dv),Tp.setFromUnitVectors(Cc.applyQuaternion(Wu),hh),l.some(f=>f===!1)&&t!=="target"&&Wu.premultiply(Tp).normalize()}e.currentDampingFactor>1?(u.updateWorldMatrix(!0,!1),Tp.setFromRotationMatrix(KJ(u.matrixWorld)),Tp.slerp(Wu,1/e.currentDampingFactor),CF(u,dv.makeRotationFromQuaternion(Tp)),e.paused=8*(1-Tp.dot(Wu))<r7e):(CF(u,dv.makeRotationFromQuaternion(Wu)),e.paused=!0),(h=e.object)==null||h.dispatchEvent({type:"beginEvent",eventName:"LookAt"}),u.dispatchEvent(n7e),u.dispatchEvent(i7e)}},Ua=new V,ri=new V,Mn=new V;function s7e(e,t,r,n,i,o){let l=e.elements;Mn.subVectors(t,r),Mn.lengthSq()===0&&(Mn.z=1),Mn.normalize(),ri.crossVectors(n,Mn),ri.lengthSq()===0&&(Math.abs(n.z)===1?Mn.x+=1e-4:Mn.z+=1e-4,Mn.normalize(),ri.crossVectors(n,Mn)),ri.normalize(),Ua.crossVectors(Mn,ri),i==="x"?o.z===1?[ri,Ua,Mn]=[Mn,ri,Ua]:(ri.negate(),[ri,Mn]=[Mn,ri]):i==="y"?o.x===1?[ri,Ua,Mn]=[Ua,Mn,ri]:(ri.negate(),[Ua,Mn]=[Mn,Ua]):o.x===1&&(ri.negate(),[ri,Ua]=[Ua,ri]),l[0]=ri.x,l[4]=Ua.x,l[8]=Mn.x,l[1]=ri.y,l[5]=Ua.y,l[9]=Mn.y,l[2]=ri.z,l[6]=Ua.z,l[10]=Mn.z}var l7e=class{constructor(e,t,r,n,i,o){this.id=e,this.data=t,this.object=r,this.entered=!1,this.actions=So(t,t.actions,n,i,o,r)}disconnect(){xi(this.actions)}dispatchEnter(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered||(this.entered=!0,this.actions.Transition.forEach(e=>e.playFromCurrent()),this.actions.Animation.forEach(e=>e.play()),this.actions.Create.forEach(e=>e.dispatch()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.SwitchCamera.forEach(e=>e.playFromCurrent()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()))}dispatchLeave(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered&&(this.entered=!1,this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatch()),this.actions.Destroy.forEach(t=>t.dispatch()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},c7e=class extends ll{constructor(e,t){super(e),this.eventsPerObjects={},this.objects=[],this._prevObjects=[],this.onMouseDown=i=>{Mt.length>1||(this.eventContext.updateRaycaster(i),this.handleMouseHoverEvent())},this.onMouseUp=i=>{Mt.length>1||this.handleMouseHoverEvent(!0)},this.onMouseMove=i=>{Mt.length>1||(this.eventContext.updateRaycaster(i),this.handleMouseHoverEvent())},this.onUserEvent=({eventName:i,target:o,reverse:l})=>{var a;if(!i||!o)return;let c=rb(i);c&&c==="MouseHover"&&(o.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(a=this.eventsPerObjects[o.uuid])==null||a.forEach(s=>s.dispatchUserEvent(l)))};let{page:r,sharedAssets:n}=this.eventContext;r.traverseEntity(i=>{var o,l;if(!(!i.visible||!((o=i.data)!=null&&o.events.length))){for(let{id:c,data:a}of i.data.events)if(!a.disabled&&a.type==="MouseHover")try{let s=new l7e(c,a,i,r,n,t);this.eventsPerObjects[i.uuid]?this.eventsPerObjects[i.uuid].push(s):this.eventsPerObjects[i.uuid]=[s]}catch{}(l=this.eventsPerObjects[i.uuid])!=null&&l.length&&this.objects.push(i)}})}connect(){if(!this.objects.length)return;let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),ya&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseDown),this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMouseUp)),this.domEventsNeeded.add("pointermove"),e.addEventListener("pointermove",this.onMouseMove),this.objects.forEach(t=>{t.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if(!this.objects.length)return;let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),ya&&(e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerup",this.onMouseUp)),e.removeEventListener("pointermove",this.onMouseMove),Object.values(this.eventsPerObjects).forEach(t=>{t.forEach(r=>{r.disconnect()})}),this.objects.forEach(t=>{t.removeEventListener("userEvent",this.onUserEvent)})}handleMouseHoverEvent(e=!1){let t=[];if(!e){let{stopRaycast:r,raycaster:n,page:i}=this.eventContext;if(r){let o=Xw(n,i,this.objects);t=C5(o)}else this.objects.forEach(o=>{X2(n,o)&&t.push(o)})}this._prevObjects.length&&this._prevObjects.forEach(r=>{var n;t.includes(r)||(r.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(n=this.eventsPerObjects[r.uuid])==null||n.forEach(i=>i.dispatchLeave()))}),t.length&&t.forEach(r=>{var n;r.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(n=this.eventsPerObjects[r.uuid])==null||n.forEach(i=>i.dispatchEnter())}),this._prevObjects=t}},u7e=class{constructor(e,t,r,n,i,o){this.id=e,this.data=t,this.object=r,this.scrollCounter=0,this.actions=So(t,t.actions,n,i,o,r)}connect(){this.scrollCounter=0}disconnect(){xi(this.actions)}dispatch(e){this.actions.Transition.forEach(n=>{n.object.currentTransitionEvent!==this&&(n.object.currentTransitionEvent=this,n.init())});let t=e>0?1:-1;this.scrollCounter+=t,this.scrollCounter=Math.min(Math.max(this.scrollCounter,0),this.data.steps);let r=this.scrollCounter/this.data.steps;this.actions.Transition.forEach(n=>n.seek(r)),this.actions.Animation.forEach(n=>n.seek(t)),this.actions.Create.forEach(n=>n.dispatchThrottled()),this.actions.SetVariable.forEach(n=>n.checkConditions()),this.actions.SetVariable.forEach(n=>n.dispatch()),this.actions.DynamicVariablePlay.forEach(n=>n.dispatch())}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},d7e=class{constructor(e,t,r,n,i,o,l){this.id=e,this.data=t,this.object=r,this.domElement=o,this.eventManager=l,this.scrollStart=0,this.scrollEnd=0,this.actions=So(t,t.actions,n,i,l,r)}computeScrollBounds(){let e=this.domElement.getBoundingClientRect(),t=document.body,r=document.documentElement,n=window.pageYOffset||r.scrollTop||t.scrollTop,i=r.clientTop||t.clientTop||0,o=Math.round(e.top+n-i);if(this.data.startFrom==="enter"){let l=window.innerHeight,c=e.height,a=this.data.enterAnchor,s=a==="top"?l:a==="bottom"?l-c:l-c*.5;this.scrollStart=o-s}else this.scrollStart=0;this.scrollStart+=this.data.startOffset??0,this.scrollEnd=this.scrollStart+(this.data.endAfter??400),this.box=e,this.computeScroll({x:window.scrollX,y:window.scrollY})}connect(){this.computeScrollBounds()}disconnect(){xi(this.actions)}handleResize(){this.computeScrollBounds()}get isInvalidBox(){return this.box===void 0||this.box.width===0&&this.box.height===0&&this.box.top===0&&this.box.bottom===0}computeScroll({x:e,y:t}){this.actions.Transition.forEach(i=>{i.object.currentTransitionEvent!==this&&(i.object.currentTransitionEvent=this,i.init())});let r=this.scrollEnd-this.scrollStart,n=Math.min(1,Math.max(0,(t-this.scrollStart)/r));this.actions.Transition.forEach(i=>i.seek(n)),this.actions.Animation.forEach(i=>i.seek(n)),this.actions.Create.forEach(i=>i.dispatchThrottled()),this.actions.SetVariable.forEach(i=>i.checkConditions()),this.actions.SetVariable.forEach(i=>i.dispatch()),this.actions.DynamicVariablePlay.forEach(i=>i.dispatch())}dispatch(e){this.isInvalidBox&&this.computeScrollBounds(),this.computeScroll(e)}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},h7e=class extends ll{constructor(e,t){super(e),this.wheelEventsPerObject=new Map,this.scrollEventsPerObject=new Map,this.isInview=!0,this.handleResize=()=>{[...this.scrollEventsPerObject.entries()].forEach(([l,c])=>{c.forEach(a=>a.handleResize())})},this.onScroll=l=>{if(!this.isInview)return;let c={y:window.scrollY,x:window.scrollX};[...this.scrollEventsPerObject.entries()].forEach(([a,s])=>{a.dispatchEvent({type:"beginEvent",eventName:"Scroll",scroll:c}),s.forEach(u=>u.dispatch(c))})},this.onWheel=l=>{!this.isInview||l.ctrlKey||[...this.wheelEventsPerObject.entries()].forEach(([c,a])=>{c.dispatchEvent({type:"beginEvent",eventName:"Scroll",deltaY:l.deltaY}),a.forEach(s=>s.dispatch(l.deltaY))})},this.onUserEvent=({eventName:l,target:c,reverse:a})=>{var u;if(!l||!c)return;let s=rb(l);s&&s==="Scroll"&&(c.dispatchEvent({type:"beginEvent",eventName:"Scroll"}),(u=this.wheelEventsPerObject.get(c))==null||u.forEach(d=>{d.dispatchUserEvent(a)}))};let{page:r,sharedAssets:n,domElement:i,isExport:o}=this.eventContext;r.traverseEntity(l=>{var c,a,s;if((c=l.data)!=null&&c.events.length){for(let{id:u,data:d}of l.data.events)if(!d.disabled&&d.type==="Scroll")if(d.trigger==="load"||!o){let h=new u7e(u,d,l,r,n,t);this.wheelEventsPerObject.has(l)?(a=this.wheelEventsPerObject.get(l))==null||a.push(h):this.wheelEventsPerObject.set(l,[h])}else{let h=new d7e(u,d,l,r,n,i,t);this.scrollEventsPerObject.has(l)?(s=this.scrollEventsPerObject.get(l))==null||s.push(h):this.scrollEventsPerObject.set(l,[h])}}}),this.intersectionObserver=new IntersectionObserver(l=>{let c=l[0];c&&(this.isInview=c.isIntersecting)},{root:null})}connect(){this.intersectionObserver.observe(this.eventContext.domElement),[...this.wheelEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(r=>r.connect()),e.addEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(r=>r.connect()),e.addEventListener("userEvent",this.onUserEvent)}),[...this.wheelEventsPerObject.values()].some(e=>e.length)&&(this.domEventsNeeded.add("wheel"),window.addEventListener("wheel",this.onWheel)),[...this.scrollEventsPerObject.values()].some(e=>e.length)&&(this.domEventsNeeded.add("scroll"),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.handleResize))}disconnect(){window.removeEventListener("wheel",this.onWheel),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.handleResize),this.intersectionObserver.unobserve(this.eventContext.domElement),this.domEventsNeeded.clear(),[...this.wheelEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(r=>r.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(r=>r.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)})}},f7e=class{constructor(e,t,r,n,i,o){this.id=e,this.data=t,this.object=r,this.actions=So(t,t.actions,n,i,o,r)}disconnect(){xi(this.actions)}dispatch(){this.actions.Transition.forEach(e=>{e.play()}),this.actions.Animation.forEach(e=>{e.play()}),this.actions.SwitchCamera.forEach(e=>{e.play()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.Create.forEach(e=>{e.dispatchFromStart()}),this.actions.Destroy.forEach(e=>{e.dispatchFromStart()})}dispatchAfter(e){this.actions.Audio.forEach(t=>{(t.interaction.data.triggerAfter??"any")===e&&(t.interaction instanceof Wh?t.interaction.audioPlayer.play():t.interaction instanceof x5&&t.interaction.dispatch())}),this.actions.Video.forEach(t=>{let r=t.interaction.data.triggerAfter??"autoplay";r===e&&(t.interaction instanceof Xm?t.interaction.play(r==="autoplay"):t.interaction instanceof E5&&t.interaction.dispatch())})}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.Reset.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.interaction instanceof Wh?t.interaction.audioPlayer.play():t.interaction instanceof x5&&t.interaction.dispatch()}),this.actions.Video.forEach(t=>{t.interaction instanceof Xm?t.interaction.play():t.interaction instanceof E5&&t.interaction.dispatch()})}},p7e=class extends ll{constructor(e,t){super(e),this.eventManager=t,this.eventsPerObject=new Map,this.eventsAfterPerObject=new Map,this.onMouseDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([r,n])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(i=>{i.dispatchAfter("mouseDown")})})},this.onKeyDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([r,n])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(i=>{i.dispatchAfter("keyDown")})})},this.onAny=()=>{let{domElement:r,isExport:n}=this.eventContext;(n?document:r).removeEventListener("pointerdown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([i,o])=>{i.dispatchEvent({type:"beginEvent",eventName:"Start"}),o.forEach(l=>{l.dispatchAfter("any")})})},this.onSceneTransitionAudioVideoPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([r,n])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(i=>{i.actions.Audio.forEach(o=>{o.interaction instanceof Wh&&o.interaction.audioPlayer.play()}),i.actions.Video.forEach(o=>{let l=o.interaction.data.triggerAfter??"autoplay";o.interaction instanceof Xm&&o.interaction.play(l==="autoplay")})})})},this.onPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([r,n])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(i=>{i.dispatchAfter("autoplay")})})},this.onUserEvent=({eventName:r,target:n,reverse:i})=>{var l,c;if(!r||!n)return;let o=rb(r);o&&o==="Start"&&(n.dispatchEvent({type:"beginEvent",eventName:"Start"}),(l=this.eventsPerObject.get(n))==null||l.forEach(a=>{a.dispatchUserEvent(i)}),(c=this.eventsAfterPerObject.get(n))==null||c.forEach(a=>{a.dispatchUserEvent(i)}))}}connect(){let{sharedAssets:e,page:t}=this.eventContext;if(t.traverseEntity(r=>{var n,i,o,l;if((n=r.data)!=null&&n.events.length)for(let{id:c,data:a}of r.data.events){if(a.disabled||a.type!=="Start")continue;let s=new f7e(c,a,r,t,e,this.eventManager);(s.actions.Transition.length||s.actions.Animation.length||s.actions.SwitchCamera.length||s.actions.Create.length||s.actions.Destroy.length||s.actions.SceneTransition.length||s.actions.Reset.length||s.actions.SetVariable.length||s.actions.DynamicVariablePlay.length)&&(this.eventsPerObject.has(r)?(i=this.eventsPerObject.get(r))==null||i.push(s):this.eventsPerObject.set(r,[s])),s.actions.Audio.length&&(this.eventsAfterPerObject.has(r)?(o=this.eventsAfterPerObject.get(r))==null||o.push(s):this.eventsAfterPerObject.set(r,[s])),s.actions.Video.length&&(this.hasVideoAction=!0,this.eventsAfterPerObject.has(r)?(l=this.eventsAfterPerObject.get(r))==null||l.push(s):this.eventsAfterPerObject.set(r,[s]))}}),[...this.eventsAfterPerObject.values()].some(r=>r.length)){if(this.eventManager.activateCount===0){let{domElement:r,isExport:n}=this.eventContext,i=n?document:r;i.addEventListener("pointerdown",this.onMouseDown,{once:!0}),i.addEventListener("mousedown",this.onMouseDown,{once:!0}),document.addEventListener("keydown",this.onKeyDown,{once:!0}),i.addEventListener("pointerdown",this.onAny),i.addEventListener("mousedown",this.onAny),document.addEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([o,l])=>{o.addEventListener("userEvent",this.onUserEvent)})}else this.onSceneTransitionAudioVideoPlay();this.onPlay()}[...this.eventsPerObject.entries()].forEach(([r,n])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(i=>i.dispatch()),r.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if([...this.eventsAfterPerObject.values()].some(e=>e.length)){let{domElement:e,isExport:t}=this.eventContext,r=t?document:e;r.removeEventListener("pointerdown",this.onMouseDown),r.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keydown",this.onKeyDown),r.removeEventListener("pointerdown",this.onAny),r.removeEventListener("mousedown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.removeEventListener("userEvent",this.onUserEvent),i.forEach(o=>o.disconnect())})}[...this.eventsPerObject.entries()].forEach(([e,t])=>{e.removeEventListener("userEvent",this.onUserEvent),t.forEach(r=>r.disconnect())}),this.eventsPerObject.clear(),this.eventsAfterPerObject.clear()}},m7e=class{constructor(e,t,r,n,i,o){this.id=e,this.data=t,this.object=r,this.disabled=!1,this.alreadyPlayedNonTogglingActions=new Set,this.actions=So(t,t.actions,n,i,o,r),this.target=t.target,this.useToggle=t.runMode==="Toggle"}disconnect(){xi(this.actions)}dispatch(e){this.disabled||(this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this?(t.object.currentTransitionEvent=this,t.init()):this.data.runMode==="Once"&&this.alreadyPlayedNonTogglingActions.add(t)}),this.object.dispatchEvent({type:"beginEvent",eventName:"Collision"}),this.useToggle?(this.actions.Transition.forEach(t=>{t.toggle()}),this.actions.Animation.forEach(t=>{t.toggle()})):(this.actions.Transition.forEach(t=>{this.alreadyPlayedNonTogglingActions.has(t)===!1&&t.play()}),this.actions.Animation.forEach(t=>{t.play()})),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch(e??!1)}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}))}},g7e=class extends ll{constructor(e,t,r,n,i){super(e),this.sharedVariables=t,this.eventManager=r,this.needsMouse=n,this.needsRaycast=i,this.dynamicVars=[],this.variablesToWatch=[],this.prevMouseProperty=null,this.prevRaycastProperty=null,this.pauseTime=0,this.events=[],this.onFrame=o=>{this.rafId=window.requestAnimationFrame(this.onFrame);let l=new Date,c=[],a=[];for(let d=0;d<this.propertiesToWatch.length;d++){let{objectId:h,property:f,prevValue:m}=this.propertiesToWatch[d],p=this.eventContext.scene.find(h),g=bP.propertyPaths[f];if(g[0]==="width"||g[0]==="height"||g[0]==="depth")p=p.geometry.userData.parameters[g[0]];else for(let v=0;v<g.length;v++)p=p[g[v]];m===null?this.propertiesToWatch[d].prevValue=p instanceof V?p.clone():p:(p instanceof V?!p.equals(m):m!==p)&&(a.push({objId:h,property:f}),p instanceof V?this.propertiesToWatch[d].prevValue.copy(p):this.propertiesToWatch[d].prevValue=p)}for(let d=0;d<this.variablesToWatch.length;d++){let{id:h,prevValue:f}=this.variablesToWatch[d],m=this.shared.getVariable(h);m!==f&&(c.push(h),this.variablesToWatch[d].prevValue=m)}for(let d=0;d<this.dynamicVars.length;d++){let{id:h,expectedTime:f,last:m,data:p,timerSeconds:g,startValue:v}=this.dynamicVars[d],x=1e3;if((p.dynamicVariableType==="timer"||p.dynamicVariableType==="stopwatch")&&p.format==="number3decimal"?x=1:p.dynamicVariableType==="counter"?x=p.updateInterval:p.dynamicVariableType==="random"&&(x=p.isStatic?1/0:p.updateInterval),f===-1){this.dynamicVars[d].last=o,this.dynamicVars[d].expectedTime=o+x;continue}if(!((this.shared.getDynamicVariablePlayState(h)==="Stopped"||this.shared.getDynamicVariablePlayState(h)==="Restarted")&&(this.dynamicVars[d].last=o,this.dynamicVars[d].expectedTime=o+x,p.dynamicVariableType==="counter"&&this.shared.getVariable(h)!==v&&(this.shared.updateVariable(h,v),this.eventManager.requestRender()),(p.dynamicVariableType==="timer"||p.dynamicVariableType==="stopwatch")&&this.dynamicVars[d].timerSeconds!==v&&(this.dynamicVars[d].timerSeconds=v,this.shared.updateVariable(h,Hs.getFormattedTimerTime(v,p)),this.eventManager.requestRender()),this.shared.getDynamicVariablePlayState(h)==="Restarted"&&this.shared.setDynamicVariablePlayState(h,"Playing"),this.shared.getDynamicVariablePlayState(h)==="Stopped"))){if(this.shared.getDynamicVariablePlayState(h)==="Paused"){this.dynamicVars[d].deltaToExpectedTime===void 0&&(this.dynamicVars[d].deltaToExpectedTime=Math.max(this.dynamicVars[d].expectedTime-o,0)),this.dynamicVars[d].last=o-(x-this.dynamicVars[d].deltaToExpectedTime),this.dynamicVars[d].expectedTime=o+this.dynamicVars[d].deltaToExpectedTime;continue}else this.dynamicVars[d].deltaToExpectedTime=void 0;if(o>=f)if(this.dynamicVars[d].last=o,this.dynamicVars[d].expectedTime+=x,p.dynamicVariableType==="random"){let y=p.min+Math.random()*(p.max-p.min),b=p.decimals;y=Math.round(y*Math.pow(10,b))/Math.pow(10,b),this.shared.updateVariable(h,y),c.push(h),this.eventManager.requestRender()}else if(p.dynamicVariableType==="counter"){if(p.increment===0)continue;let y=this.shared.getVariable(h),b=this.shared.getDynamicVariableToggleIsForward(h)??!0,w=this.shared.getVariable(h)+p.increment*(b?1:-1);p.hasEnd&&(w=p.increment>0?pt.clamp(w,v,p.endValue):pt.clamp(w,p.endValue,v),w===v&&this.shared.setDynamicVariableToggleIsForward(h,void 0),p.repeat?w===p.endValue&&(w=v):(w===v||w===p.endValue)&&this.shared.setDynamicVariablePlayState(h,"Paused")),w!==y&&(c.push(h),this.shared.updateVariable(h,w),this.eventManager.requestRender())}else if(p.dynamicVariableType==="time")this.shared.updateVariable(h,t7(l,p)),c.push(h),this.eventManager.requestRender();else{let y=ba.isTextValue(p.endValue)?MF(p.endValue.textValue):p.endValue,b=this.shared.getDynamicVariableToggleIsForward(h)??!0,w=g+(o-m)/1e3*(p.dynamicVariableType==="timer"?-1:1)*(b?1:-1);w=Math.max(w,0),p.hasEnd&&(w=p.dynamicVariableType==="stopwatch"?pt.clamp(w,v,y):pt.clamp(w,y,v),w===v&&this.shared.setDynamicVariableToggleIsForward(h,void 0),p.repeat?Math.abs(w-y)<(p.format==="number3decimal"?1e-4:.1)&&(w=v):(Math.abs(w-v)<(p.format==="number3decimal"?1e-4:.1)||Math.abs(w-y)<(p.format==="number3decimal"?1e-4:.1))&&this.shared.setDynamicVariablePlayState(h,"Paused")),w!==g&&(c.push(h),this.dynamicVars[d].timerSeconds=w,this.shared.updateVariable(h,Hs.getFormattedTimerTime(w,p)),this.eventManager.requestRender())}}}this.needsMouse&&this.shared.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=this.shared.mouseProperty,this.events.forEach(d=>{d.data.variableId==="mouseProperty"&&(d.dispatch(),this.eventManager.requestRender())}));let s=!1;this.shared.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=this.shared.mouseProperty,s=!0);let u=!1;this.shared.raycastProperty!==this.prevRaycastProperty&&(this.prevRaycastProperty=this.shared.raycastProperty,u=!0),this.events.forEach(d=>{(c.includes(d.data.variableId)||a.find(h=>h.objId===d.data.objectId&&h.property===d.data.property)||d.data.variableId==="mouseProperty"&&s||d.data.variableId==="raycastProperty"&&u)&&(d.dispatch(),this.eventManager.requestRender())})},this.onBlur=()=>{this.pause()},this.onFocus=()=>{this.resume()},e.page.traverseEntity(o=>{var l;(l=o.data)==null||l.events.filter(c=>c.data.type==="VariableChange"&&!c.data.disabled).forEach(c=>{this.events.push(new v7e(o.uuid,c.data,o,e.page,e.sharedAssets,r))})}),this.propertiesToWatch=this.events.filter(o=>o.data.variableId==="objectProperty"&&o.data.objectId!==null).map(o=>({objectId:o.data.objectId,property:o.data.property,prevValue:null})),this.shared=e.sharedAssets,this.sharedVariables.forEach(({id:o,data:l})=>{if(!("dynamicVariableType"in l)){this.events.find(a=>a.data.variableId===o)&&this.variablesToWatch.push({id:o,prevValue:this.shared.getVariable(o)});return}let c;if(l.dynamicVariableType==="timer"||l.dynamicVariableType==="stopwatch"){let a;if(ba.isTextValue(l.value)&&Array.isArray(l.value.textValue)){let s=l.value.textValue;s.length===3?a=s[2]+s[1]*60+s[0]*3600:a=s[1]+s[0]*60}else a=l.value;c=a,this.dynamicVars.push({id:o,last:-1,expectedTime:-1,data:l,timerSeconds:a,startValue:c})}else l.dynamicVariableType==="time"&&this.shared.updateVariable(o,t7(new Date,l)),l.dynamicVariableType==="counter"&&(c=ba.isTextValue(l.value)?MF(l.value.textValue):l.value),this.dynamicVars.push({id:o,last:-1,expectedTime:-1,data:l,startValue:c})})}pause(){this.pauseTime=Date.now()}resume(){let e=Date.now()-this.pauseTime;for(let t=0;t<this.dynamicVars.length;t++)this.dynamicVars[t].last+=e,this.dynamicVars[t].expectedTime+=e}connect(){this.rafId=window.requestAnimationFrame(this.onFrame),window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus)}disconnect(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=void 0),this.events.forEach(e=>e.dispose())}},v7e=class{constructor(e,t,r,n,i,o){this.id=e,this.data=t,this.object=r,this.actions=So(t,t.actions,n,i,o,r)}dispatch(){let e=this.actions;e.Audio.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch())}dispose(){xi(this.actions)}};function MF(e){return e.length===3?e[2]+e[1]*60+e[0]*3600:e[1]+e[0]*60}var y7e="https://unpkg.com/@splinetool/runtime@0.9.526/build/",b7e="https://unpkg.com/@splinetool/navmesh-wasm@0.9.526/build/",x7e=`
(async function() {
	const [wasmImport, wasmBinary] = await Promise.all([
		import('${y7e}' + 'navmesh.js'),
		fetch('${b7e}' + 'navmesh.wasm').then((res) => res.arrayBuffer()),
	]);
	const wasmModule = wasmImport.default;
	self.module = await wasmModule({ wasmBinary });
	postMessage('ready');
})();
`,w7e=`
(async function() {
	const [wasmImport, wasmBinary] = await Promise.all([
		import(self.location.origin + '/_libraries/navmesh.js'),
		fetch(self.location.origin + '/_libraries/navmesh.wasm').then((res) => res.arrayBuffer()),
	]);
	const wasmModule = wasmImport.default;
	self.module = await wasmModule({ wasmBinary });
	postMessage('ready');
})();
`,_7e=`

onmessage = function(messageEvent) {
	const meshData = messageEvent.data;
	const positions = meshData[0];
	const offset = meshData[1];
	const indices = meshData[2];
	const indicesLength = meshData[3];
	const parameters = meshData[4];

	const module = self.module;
	const rc = new module.rcConfig();
	rc.cs = parameters.cs;
	rc.ch = parameters.ch;
	rc.borderSize = parameters.borderSize ? parameters.borderSize : 0;
	rc.tileSize = parameters.tileSize ? parameters.tileSize : 0;
	rc.walkableSlopeAngle = parameters.walkableSlopeAngle;
	rc.walkableHeight = parameters.walkableHeight;
	rc.walkableClimb = parameters.walkableClimb;
	rc.walkableRadius = parameters.walkableRadius;
	rc.maxEdgeLen = parameters.maxEdgeLen;
	rc.maxSimplificationError = parameters.maxSimplificationError;
	rc.minRegionArea = parameters.minRegionArea;
	rc.mergeRegionArea = parameters.mergeRegionArea;
	rc.maxVertsPerPoly = parameters.maxVertsPerPoly;
	rc.detailSampleDist = parameters.detailSampleDist;
	rc.detailSampleMaxError = parameters.detailSampleMaxError;

	if (!self.navMesh) {
		self.navMesh = new module.NavMesh();
	}
	self.navMesh.build(positions, offset, indices, indicesLength, rc);

	const navmeshData = navMesh.getNavmeshData();
	const arrView = new Uint8Array(module.HEAPU8.buffer, navmeshData.dataPointer, navmeshData.size);
	const ret = new Uint8Array(navmeshData.size);
	ret.set(arrView);
	navMesh.freeNavmeshData(navmeshData);

	postMessage(ret);
}
`,S7e=.001,E7e={cs:6,ch:2,walkableSlopeAngle:90,walkableHeight:20,walkableClimb:5,walkableRadius:0,maxEdgeLen:12,maxSimplificationError:1.3,minRegionArea:8,mergeRegionArea:20,maxVertsPerPoly:6,detailSampleDist:6,detailSampleMaxError:1},rZ,Jt,Mi;Aje.then(e=>{rZ=e,Jt=new e.Vec3,Mi=new e.Vec3});var A7e=new V,C7e=class{constructor(e=!1,t=!1){this.usePhysics=e,this.isExport=t,this.onPointerDown=r=>{if(Mt.length!==1)return;let{raycaster:n,page:i}=this.eventContext;this.eventContext.updateRaycaster(r);let o=i.raycastWithClones(n);if(o.length!==0){if(this.gameControl){let l=A7e.copy(this.gameControl.colliderWorldPosition);l.y-=this.gameControl.colliderHeight/2,this.gameControl.path=this.computePath(l,o[0].point)}this.eventContext.requestRender()}},this.traverseWithPhysics=(r,n)=>i=>{var h,f,m,p,g,v,x;let o;if(i instanceof $s)if(i.objectForSample){if(i.objectForSample.dataPatched.physics.fusedBody)return;o=i.object}else return i.object.dataPatched.physics.fusedBody===!0&&i.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(i instanceof Yi)o=i.object;else if(o=i,((h=o.dataPatched.cloner)==null?void 0:h.disabled)===!1&&((f=o.dataPatched.cloner)==null?void 0:f.hideBase)&&((m=o.dataPatched.physics)==null?void 0:m.fusedBody)!==!0)return!0;if(n&&!o.userData.navmesh)return;let l=o.dataPatched;if(!l.visible&&((p=l.physics)==null?void 0:p.enabled)!==!0)return!0;i.updateMatrixWorldSVD();let c=$2(l),a=o.userData.hasDestroy,s=o.userData.hasDrag,u=!1,d=!1;for(let y of l.events)y.data.disabled!==!0&&(y.data.type==="GameControl"?u=!0:y.data.type==="Follow"&&(d=!0));if(u||c||d||a||s)return!0;if(this.usePhysics&&((g=l.physics)==null?void 0:g.rigidBody)==="dynamic"){if(this.usePhysics&&((v=l.physics)!=null&&v.fusedBody))return!0}else if("geometry"in i&&i.geometry&&r.push(Bc(i.geometry,i.matrixWorld)),this.usePhysics&&((x=l.physics)==null?void 0:x.fusedBody))return i.traverseObject((y,b)=>{var S,E;if(b===0)return;let w;if(y instanceof $s)if(y.objectForSample){if(y.objectForSample.dataPatched.physics.fusedBody)return;w=y.object}else return y.object.dataPatched.physics.fusedBody===!0&&y.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(y instanceof Yi)w=y.object;else if(w=y,(S=y.dataPatched.cloner)==null?void 0:S.hideBase)return!0;let _=w.dataPatched;if(!_.visible&&((E=_.physics)==null?void 0:E.enabled)!==!0)return!0;"geometry"in y&&y.geometry&&r.push(Bc(y.geometry,y.matrixWorld))}),!0},this.traverseNoPhysics=(r,n)=>i=>{let o;if(i instanceof $s)return;i instanceof Yi?o=i.object:o=i;let l=o.dataPatched;if(l.physics.enabled==="visibility"?!l.visible:!l.physics.enabled)return!0;if(n&&!o.userData.navmesh)return;let c=i.geometry,a=o.userData.hasDestroy===!0,s=o.userData.hasDrag===!0;if($2(l)||a||s||o.dataPatched.events.some(u=>u.data.disabled!==!0&&u.data.type==="GameControl"))return!0;c&&r.push(Bc(c,i.matrixWorld))},this.navmeshWasm=rZ,this.navMesh=new this.navmeshWasm.NavMesh,this._workerURL=URL.createObjectURL(new Blob([(t?x7e:w7e)+_7e])),this._worker=new Worker(this._workerURL)}init(e,t,r){this.gameControl=t,this.eventContext=r,this.resolution=e.ch,this.setDefaultQueryExtent(new V().setScalar(e.ch*e.walkableRadius*1.2)),this._worker.onmessage=()=>{this.createNavMesh(r.page,e,n=>{this.buildFromNavmeshData(n.data)})},this.eventContext.renderer.domElement.addEventListener("pointerdown",this.onPointerDown)}createNavMesh(e,t,r){t.objects.forEach(a=>{var u;let s=e.scene.find(a);s.traverseEntity(d=>{d.userData.navmesh=!0}),(u=s.cloner)==null||u.traverseObject(d=>{d.userData.navmesh=!0})});let n=[],i=(this.usePhysics?this.traverseWithPhysics:this.traverseNoPhysics)(n,t.zones==="custom");if(e.traverseChildren(i),t.objects.forEach(a=>{var u;let s=e.scene.find(a);s.traverseEntity(d=>{d.userData.navmesh=void 0}),(u=s.cloner)==null||u.traverseObject(d=>{d.userData.navmesh=void 0})}),n.length===0)return!1;let o=Vh(n),{positions:l,triIndices:c}=QE(o.getAttribute("position"),o.getIndex());return this._worker.postMessage([l,l.length/3,c,c.length,{...E7e,...t}]),this._worker.onmessage=r,!0}createDebugNavGeometry(){let e,t,r=this.navMesh.getDebugNavMesh(),n=r.getTriangleCount(),i=new Uint32Array(n*3),o=new Float32Array(n*3*3);for(e=0;e<n*3;e++)i[e]=e;for(e=0;e<n;e++)for(t=0;t<3;t++){let c=r.getTriangle(e).getPoint(t);o[e*9+t*3+0]=c.x,o[e*9+t*3+1]=c.y,o[e*9+t*3+2]=c.z}let l=new vt;return l.setIndex(new kt(i,1)),l.setAttribute("position",new kt(o,3)),l}getClosestPoint(e){return Jt.x=e.x,Jt.y=e.y,Jt.z=e.z,this.navMesh.getClosestPoint(Jt)}getClosestPointToRef(e,t){Jt.x=e.x,Jt.y=e.y,Jt.z=e.z;let r=this.navMesh.getClosestPoint(Jt);t.set(r.x,r.y,r.z)}getRandomPointAround(e,t){return Jt.x=e.x,Jt.y=e.y,Jt.z=e.z,this.navMesh.getRandomPointAround(Jt,t)}getRandomPointAroundToRef(e,t,r){Jt.x=e.x,Jt.y=e.y,Jt.z=e.z;let n=this.navMesh.getRandomPointAround(Jt,t);r.set(n.x,n.y,n.z)}moveAlong(e,t){return Jt.x=e.x,Jt.y=e.y,Jt.z=e.z,Mi.x=t.x,Mi.y=t.y,Mi.z=t.z,this.navMesh.moveAlong(Jt,Mi)}moveAlongToRef(e,t,r){return Jt.x=e.x,Jt.y=e.y,Jt.z=e.z,Mi.x=t.x,Mi.y=t.y,Mi.z=t.z,this.navMesh.moveAlong(Jt,Mi)}computePath(e,t){let r=this.getClosestPoint(t);Mi.x=r.x,Mi.y=r.y,Mi.z=r.z,this.getClosestPoint(e);let n=this.navMesh.computePath(Jt,Mi),i=n.getPointCount(),o=[];for(let l=0;l<i;l++){let c=n.getPoint(l);o.push(new V(c.x,c.y,c.z))}return o}createCrowd(e,t){return new M7e(this,e,t)}setDefaultQueryExtent(e){Jt.x=e.x,Jt.y=e.y,Jt.z=e.z,this.navMesh.setDefaultQueryExtent(Jt)}getDefaultQueryExtent(){return this.navMesh.getDefaultQueryExtent()}buildFromNavmeshData(e){let t=e.length*e.BYTES_PER_ELEMENT,r=this.navmeshWasm._malloc(t),n=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,r,t);n.set(e);let i=new this.navmeshWasm.NavmeshData;i.dataPointer=n.byteOffset,i.size=e.length,this.navMesh.buildFromNavmeshData(i),this.navmeshWasm._free(n.byteOffset)}getNavmeshData(){let e=this.navMesh.getNavmeshData(),t=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,e.dataPointer,e.size),r=new Uint8Array(e.size);return r.set(t),this.navMesh.freeNavmeshData(e),r}getDefaultQueryExtentToRef(e){let t=this.navMesh.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}dispose(){var e;this.navMesh.destroy(),this._worker.terminate(),URL.revokeObjectURL(this._workerURL),(e=this.eventContext)==null||e.renderer.domElement.removeEventListener("pointerdown",this.onPointerDown)}addCylinderObstacle(e,t,r){return Jt.x=e.x,Jt.y=e.y,Jt.z=e.z,this.navMesh.addCylinderObstacle(Jt,t,r)}addBoxObstacle(e,t,r){return Jt.x=e.x,Jt.y=e.y,Jt.z=e.z,Mi.x=t.x,Mi.y=t.y,Mi.z=t.z,this.navMesh.addBoxObstacle(Jt,Mi,r)}removeObstacle(e){this.navMesh.removeObstacle(e)}isSupported(){return this.navmeshWasm!==void 0}},M7e=class{constructor(e,t,r){this.navmeshWasmWrapper=e,this.transforms=[],this.agents=new Array,this.reachRadii=new Array,this._agentDestinationArmed=new Array,this._agentDestination=new Array,this.crowd=new this.navmeshWasmWrapper.navmeshWasm.Crowd(t,r,this.navmeshWasmWrapper.navMesh.getNavMesh())}onReachTarget(e,t){}addAgent(e,t,r){let n=new this.navmeshWasmWrapper.navmeshWasm.dtCrowdAgentParams;n.radius=t.radius,n.height=t.height,n.maxAcceleration=t.maxAcceleration,n.maxSpeed=t.maxSpeed,n.collisionQueryRange=t.collisionQueryRange,n.pathOptimizationRange=t.pathOptimizationRange,n.separationWeight=t.separationWeight,n.updateFlags=7,n.obstacleAvoidanceType=0,n.queryFilterType=0,n.userData=0;let i=this.crowd.addAgent(new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z),n);return this.transforms.push(r),this.agents.push(i),this.reachRadii.push(t.reachRadius?t.reachRadius:t.radius),this._agentDestinationArmed.push(!1),this._agentDestination.push(new V(0,0,0)),i}getAgentPosition(e){return this.crowd.getAgentPosition(e)}getAgentPositionToRef(e,t){let r=this.crowd.getAgentPosition(e);t.set(r.x,r.y,r.z)}getAgentVelocity(e){return this.crowd.getAgentVelocity(e)}getAgentVelocityToRef(e,t){let r=this.crowd.getAgentVelocity(e);t.set(r.x,r.y,r.z)}getAgentNextTargetPath(e){return this.crowd.getAgentNextTargetPath(e)}getAgentNextTargetPathToRef(e,t){let r=this.crowd.getAgentNextTargetPath(e);t.set(r.x,r.y,r.z)}getAgentState(e){return this.crowd.getAgentState(e)}overOffmeshConnection(e){return this.crowd.overOffmeshConnection(e)}agentGoto(e,t){this.crowd.agentGoto(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z));let r=this.agents.indexOf(e);r>-1&&(this._agentDestinationArmed[r]=!0,this._agentDestination[r].set(t.x,t.y,t.z))}agentTeleport(e,t){this.crowd.agentTeleport(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z))}updateAgentParameters(e,t){let r=this.crowd.getAgentParameters(e);t.radius!==void 0&&(r.radius=t.radius),t.height!==void 0&&(r.height=t.height),t.maxAcceleration!==void 0&&(r.maxAcceleration=t.maxAcceleration),t.maxSpeed!==void 0&&(r.maxSpeed=t.maxSpeed),t.collisionQueryRange!==void 0&&(r.collisionQueryRange=t.collisionQueryRange),t.pathOptimizationRange!==void 0&&(r.pathOptimizationRange=t.pathOptimizationRange),t.separationWeight!==void 0&&(r.separationWeight=t.separationWeight),this.crowd.setAgentParameters(e,r)}removeAgent(e){this.crowd.removeAgent(e);let t=this.agents.indexOf(e);t>-1&&(this.agents.splice(t,1),this.transforms.splice(t,1),this.reachRadii.splice(t,1),this._agentDestinationArmed.splice(t,1),this._agentDestination.splice(t,1))}getAgents(){return this.agents}update(e){if(this.navmeshWasmWrapper.navMesh.update(),e<=S7e)return;let t=1/60,r=10;{let n=Math.floor(e/t);n>r&&(n=r),n<1&&(n=1);let i=e/n;for(let o=0;o<n;o++)this.crowd.update(i)}for(let n=0;n<this.agents.length;n++){let i=this.agents[n],o=this.getAgentPosition(i);if(this.transforms[n].copy(o),this._agentDestinationArmed[n]){let l=o.x-this._agentDestination[n].x,c=o.z-this._agentDestination[n].z,a=this.reachRadii[n],s=this._agentDestination[n].y-this.reachRadii[n],u=this._agentDestination[n].y+this.reachRadii[n],d=l*l+c*c;o.y>s&&o.y<u&&d<a*a&&(this.onReachTarget(i,this._agentDestination[n]),this._agentDestinationArmed[n]=!1)}}}setDefaultQueryExtent(e){let t=new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z);this.crowd.setDefaultQueryExtent(t)}getDefaultQueryExtent(){return this.crowd.getDefaultQueryExtent()}getDefaultQueryExtentToRef(e){let t=this.crowd.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}getCorners(e){let t,r=this.crowd.getCorners(e),n=r.getPointCount(),i=[];for(t=0;t<n;t++){let o=r.getPoint(t);i.push(new V(o.x,o.y,o.z))}return i}dispose(){this.crowd.destroy()}};function T7e(e){let t=!1;return e.scene.objects.forEach(r=>{r.data.type==="Page"&&!t&&r.data.publish.gameControlObject&&u1.traverseModuleInstances(e,r.id,(n,i,o)=>{for(let l of o)l.data.type==="GameControl"&&l.data.navmesh.enabled&&(t=!0)})}),t}var P7e={type:"change"},TF={type:"changeZoom"},k7e={type:"changePan"},Pp={type:"start"},kp={type:"end",changed:!0},D7e={type:"end",changed:!1},IM=new Rt,PF=new oe,j7e=2*Math.PI,I7e=1e-8,O7e=.01,OM=new V,Jx=new oe,RM=new V,Zx=new Rt,kF=new Ne,R7e={type:"requestRender"},nZ=class extends Ri{constructor(e,t,r={isPlayMode:!1,isExport:!1}){super(),this.object=e,this.domElement=t,this.options=r,this.enabled=!0,this.useKeyEvents=!0,this.enableDamping=!1,this.enableZoom=!0,this.enableRotate=!0,this.enablePan=!0,this.autoRotate=!1,this.rotationLimitsMode=0,this.panLimitsMode=0,this.rotationSoftLimit=2,this.panSoftLimit=2,this.hoverRotatePanMode=0,this.zoomLimitsEnabled=!1,this.mouseButtons=[0,5],this.mouseButtonsPlay=[3,4,5],this.touches=[null,Ra.DOLLY_ROTATE,Ra.PAN],this.offset=new V,this.eye=new V,this.lastPosition=new V,this.lastQuaternion=new Rt,this.current=new oe,this.overShoot=new oe,this.overRatio=new oe,this.spherical=new PN,this.sphericalDelta=new PN,this.panOffset=new V,this.panLeftV=new V,this.panUpV=new V,this.panV=new V,this.rotateStart=new oe,this.rotateEnd=new oe,this.rotateDelta=new oe,this.panStart=new oe,this.panEnd=new oe,this.panDelta=new oe,this.dollyStart=new oe,this.dollyEnd=new oe,this.dollyDelta=new oe,this.rotationRangeFactor=new oe,this.panRangeFactor=new oe,this.state=-1,this.zoomChanged=!1,this.isPointerDown=!1,this.isThetaFlipped=!1,this.prevScale=0,this.scale=1,this.gesture=!1,this.timer=-1,this.timerHover=-1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPhi=0,this.maxPhi=Math.PI,this.minTheta=-1/0,this.maxTheta=1/0,this.minH=0,this.maxH=Math.PI,this.minV=-1/0,this.maxV=1/0,this.autoRotateClockwise=!0,this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.resetHoverEffectOnPointerLeave=!1,this.hasChange=!1,this.useWindowEvents=!1,this.isTouchZoom=!0,this.autoRotateSpeed=2,this.dampingFactor=.125,this.zoomSpeed=2,this.rotateSpeed=1,this.panSpeed=1,this.hoverRotatePanStrength=.1,this.hoverRotateDamping=this.dampingFactor,this.thetaIsFree=!1,this.phiIsFree=!1,this.needsUpdate=!0,this.onCameraChange=n=>{this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange),this.object=n.camera,this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)},this.update=()=>{this.object.updateWorldMatrix(!0,!1),this.object.matrixWorld.decompose(RM,Zx,OM),this.offset.copy(RM).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.autoRotate&&this.state===-1&&this.rotateLeft((this.autoRotateClockwise===!0?1:-1)*this.getAutoRotationAngle()),this.rotationLimitsMode!==0&&this.applyLimits(this.sphericalDelta,this.rotationLimitsMode,this.rotationSoftLimit,this.maxTheta,this.minTheta,this.maxPhi,this.minPhi,this.rotationRangeFactor),this.rotationLimitsMode!==2&&(this.spherical.phi+=this.sphericalDelta.phi),(this.rotationLimitsMode!==1||this.autoRotate===!0)&&(this.spherical.theta+=this.sphericalDelta.theta),this.spherical.radius*=this.scale,this.zoomLimitsEnabled&&(this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius))),this.panLimitsMode!==0&&(this.target.applyQuaternion(IM.copy(Zx).invert()),this.panOffset.applyQuaternion(IM),this.applyLimits(this.panOffset,this.panLimitsMode,this.panSoftLimit,this.maxH,this.minH,this.maxV,this.minV,this.panRangeFactor),this.target.applyQuaternion(Zx),this.panOffset.applyQuaternion(Zx)),this.panLimitsMode===2&&(this.panOffset.y=0),this.panLimitsMode===1&&(this.panOffset.x=0),this.state===-1&&!this.gesture?(this.panOffset.multiplyScalar(1-this.dampingFactor),this.target.add(this.panOffset)):(this.target.add(this.panOffset),this.panOffset.set(0,0,0)),this.offset.setFromSpherical(this.spherical),RM.copy(this.target).add(this.offset),this.object.position.copy(this.target).add(this.offset),this.object.parent&&(kF.copy(this.object.parent.matrixWorld).invert(),this.object.position.applyMatrix4(kF));let n=this.spherical.phi%j7e;if(this.eye.copy(this.offset).normalize(),this.object.up.copy(Tr.DEFAULT_UP).applyAxisAngle(this.eye,this.object.angleOffsetFromUp),n>0&&n>Math.PI||n<0&&n>-Math.PI?(this.object.up.negate(),this.object.lookAt(this.target),this.object.isUpVectorFlipped=!0):(this.object.lookAt(this.target),this.object.isUpVectorFlipped=!1),this.state===-1||this.enableDamping===!0){let i=this.hoverRotatePanMode===1?this.hoverRotateDamping:this.dampingFactor;this.sphericalDelta.theta*=1-i,this.sphericalDelta.phi*=1-i}else this.sphericalDelta.set(0,0,0);return this.scale=1,this.zoomChanged||this.lastPosition.distanceToSquared(this.object.position)>O7e||8*(1-this.lastQuaternion.dot(this.object.quaternion))>I7e?(this.dispatchEvent(P7e),this.object.dispatchEvent(R7e),this.lastPosition.copy(this.object.position),this.lastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0):(this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.object.wasMovedBySwitchCameraAction=!1,this.sphericalDelta.set(0,0,0),this.panOffset.set(0,0,0),!1)},this.onPointerDown=n=>{this.enabled!==!1&&(n.pointerType==="touch"||n.pointerType==="pen"&&ya?this.onPointerDownTouch(n):this.onPointerDownMouse(n),this.state!==-1&&(this.isPointerDown=!0,this.dispatchEvent(Pp),this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp),n.stopPropagation(),n.pointerType==="touch"||n.pointerType==="pen"&&ya||this.domElement.setPointerCapture(n.pointerId)))},this.onPointerLeave=n=>{this.resetHoverEffectOnPointerLeave&&!this.useWindowEvents?(this.hoverRotatePanMode===1?(this.sphericalDelta.theta=-this.spherical.theta,this.sphericalDelta.phi=-this.spherical.phi,OM.subVectors(this.position0,this.target0),this.spherical.setFromVector3(OM),this.sphericalDelta.theta+=this.spherical.theta,this.sphericalDelta.phi+=this.spherical.phi,this.sphericalDelta.theta/=8,this.sphericalDelta.phi/=8):this.hoverRotatePanMode===2&&this.panOffset.subVectors(this.target0,this.target).divideScalar(8),this.update()):this.pointerLeaveEvent=n},this.onPointerEnter=n=>{this.resetHoverEffectOnPointerLeave||this.pointerLeaveEvent===void 0?Jx.set(n.clientX-this.domElement.clientWidth/2,n.clientY-this.domElement.clientHeight/2):Jx.set(n.clientX-this.pointerLeaveEvent.clientX,n.clientY-this.pointerLeaveEvent.clientY),this.hoverRotatePanMode===1?(this.rotateDelta.copy(Jx).multiplyScalar(this.rotateSpeed*this.hoverRotatePanStrength).rotateAround(PF,-this.object.angleOffsetFromUp),this.rotateLeft(2*Math.PI*this.rotateDelta.x/this.domElement.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/this.domElement.clientHeight),this.rotateStart.set(n.clientX,n.clientY)):this.hoverRotatePanMode===2&&(this.panDelta.copy(Jx).multiplyScalar(this.panSpeed*this.hoverRotatePanStrength),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.set(n.clientX,n.clientY)),this.update()},this.onPointerMove=n=>{this.enabled!==!1&&(this.checkRaycastLock()||(n.pointerType==="touch"||n.pointerType==="pen"&&ya?this.onPointerMoveTouch(n):this.onPointerMoveMouse(n),n.stopPropagation()))},this.onPointerUp=n=>{this.isPointerDown=!1,Mt.length===0&&(this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)),Mt.length>1&&n.preventDefault(),this.hasChange?this.dispatchEvent(kp):this.dispatchEvent(D7e),this.state=-1,n&&(n.stopPropagation(),n.pointerType==="touch"||n.pointerType==="pen"&&ya||this.domElement.releasePointerCapture(n.pointerId))},this.onPointerDownMouse=n=>{let i;switch(this.useKeyEvents?i=this.mouseButtons[n.button]:i=this.mouseButtonsPlay[n.button],i){case 0:if(n.altKey===!0&&!n.shiftKey&&!mx(n)){if(this.enableRotate===!1)return;this.handleMouseDownRotate(n),this.state=0}else if(this.key===" "){if(this.enablePan===!1)return;this.handleMouseDownPan(n),this.state=2}break;case 4:if(this.enablePan===!1)return;this.handleMouseDownPan(n),this.state=2;break;case 3:if(mx(n)||n.shiftKey){if(this.enablePan===!1)return;this.handleMouseDownPan(n),this.state=2}else{if(this.enableRotate===!1)return;this.handleMouseDownRotate(n),this.state=0}break;case 5:if(mx(n)||n.shiftKey){if(this.enableRotate===!1)return;this.handleMouseDownRotate(n),this.state=0}else{if(this.enablePan===!1)return;this.handleMouseDownPan(n),this.state=2}break;default:this.state=-1}},this.onPointerMoveMouse=n=>{switch(this.state){case 0:if(this.enableRotate===!1)return;this.handleMouseMoveRotate(n);break;case 1:if(this.enableZoom===!1)return;this.handleMouseMoveDolly(n);break;case 2:if(this.enablePan===!1)return;this.handleMouseMovePan(n);break}this.object.wasMovedByUser=!0},this.onPointerDownTouch=n=>{switch(Mt.length>1&&n.preventDefault(),this.touches[Mt.length-1]){case Ra.ROTATE:if(this.enableRotate===!1){this.state=-1;return}this.handleTouchStartRotate(),this.state=3;break;case Ra.PAN:if(this.enablePan===!1){this.state=-1;return}this.handleTouchStartPan(),this.state=4;break;case Ra.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this.handleTouchStartDollyPan(),this.state=5;break;case Ra.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this.handleTouchStartDollyRotate(),this.state=6;break;default:this.state=-1}},this.onPointerMoveTouch=n=>{switch(Mt.length>1&&n.preventDefault(),this.state){case 3:if(this.enableRotate===!1)return;this.handleTouchMoveRotate(n),this.update();break;case 4:if(this.enablePan===!1)return;this.handleTouchMovePan(n),this.update();break;case 5:if(this.enableZoom===!1&&this.enablePan===!1)return;this.handleTouchMoveDollyPan(n),this.update();break;case 6:if(this.enableZoom===!1&&this.enableRotate===!1)return;this.handleTouchMoveDollyRotate(n),this.update();break;default:this.state=-1}this.object.wasMovedByUser=!0},this.dispatchEndDebounced=Jj(()=>this.dispatchEvent(kp),33),this.onMouseWheel=n=>{this.enabled===!1||this.enableZoom===!1&&this.enablePan===!1||this.checkRaycastLock()||(!this.options.isExport&&this.domElement.clientHeight===document.body.clientHeight&&this.domElement.clientWidth===document.body.clientWidth&&n.preventDefault(),this.dispatchEvent(Pp),this.handleMouseWheel(n),this.dispatchEndDebounced(),this.object.wasMovedByUser=!0)},this.onGesture=n=>{if(n.preventDefault(),this.enabled!==!1&&!this.checkRaycastLock()&&!Zj)if(n.type==="gesturechange"){if(this.enableZoom===!1||this.isTouchZoom===!1)return;this.dispatchEvent(Pp),n.scale>this.prevScale?this.dollyIn(this.getZoomScale()):n.scale<this.prevScale&&this.dollyOut(this.getZoomScale()),this.prevScale=n.scale,this.update(),this.object.wasMovedByUser=!0}else this.dispatchEvent(kp)},this.onContextMenu=n=>{n.preventDefault()},this.onTouchEnd=n=>{n.preventDefault()},this.onKeyDown=n=>{this.enabled!==!1&&(this.key=n.key,n.key===" "&&this.dispatchEvent(Pp))},this.onKeyUp=n=>{this.enabled!==!1&&(this.key=void 0,this.state!==-1&&n.key==="Alt"&&this.onPointerUp(Mt[0]),n.key===" "&&this.dispatchEvent(kp))},this.onPointerHover=n=>{n.pointerType!=="mouse"||this.enabled===!1||this.state!==-1||this.hoverRotatePanMode===2&&this.isPanOverShoot||this.hoverRotatePanMode===1&&this.isRotateOverShoot||(this.isPointerDown=!0,this.hoverRotatePanMode===2?this.handleMouseMovePan(n,this.hoverRotatePanStrength):this.hoverRotatePanMode===1&&this.handleMouseMoveRotate(n,this.hoverRotatePanStrength))},this.onBeginState=()=>{this.enabled=!1,this.needsUpdate=!1},this.onCompleteState=n=>{n.isfromEntity&&this.options.isPlayMode||(this.enabled=!0,this.needsUpdate=!0,this.object.updateUp(),this.object.getTarget(this.target))},this.target=this.object.getTarget(),this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.quat0=this.object.quaternion.clone(),this.isUpVectorFlipped0=this.object.isUpVectorFlipped,this.offset.copy(this.object.position).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.addEventListenersToCamera()}dispatchEvent(e){e.type==="start"?this.hasChange=!1:this.hasChange=!0,super.dispatchEvent(e)}addEventListenersToCamera(){this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)}removeEventListenersFromCamera(){this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange)}updateUseWindowEvents(e){if(window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("pointermove",this.onPointerHover),this.useWindowEvents=e,this.hoverRotatePanMode!==0&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover)),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.hoverRotatePanMode!==0&&!this.useWindowEvents){let t=this.useWindowEvents?window:this.domElement;t.addEventListener("pointerleave",this.onPointerLeave),t.addEventListener("pointerenter",this.onPointerEnter)}}fromJSON(e,t){this.setEnableDampingSpeed(e.enableDamping),this.enablePan=e.enablePan,this.enableZoom=e.enableZoom,this.enableRotate=e.enableRotate,this.rotationLimitsMode=e.rotationLimitsMode,this.thetaIsFree=e.rotationHorizontalOffset.min===e.rotationHorizontalOffset.max&&e.rotationHorizontalOffset.min===Math.PI,this.phiIsFree=e.rotationVerticalOffset.min===e.rotationVerticalOffset.max&&e.rotationVerticalOffset.min===Math.PI,this.panLimitsMode=e.panLimitsMode,this.panSoftLimit=e.panSoftLimit,this.rotationSoftLimit=e.rotationSoftLimit,this.hoverRotatePanMode=e.hoverRotatePanMode,this.hoverRotateDamping=e.hoverRotateDamping??this.dampingFactor,this.useWindowEvents=t==="window",this.hoverRotatePanMode!==0&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover));let r=e.hoverRotatePanStrength/100;this.hoverRotatePanStrength=r**2,this.zoomLimitsEnabled=e.zoomLimitsEnabled,this.minZoom=e.zoomLimits.min,this.maxZoom=Math.max(e.zoomLimits.min,e.zoomLimits.max),this.minDistance=1e3/e.zoomLimits.max,this.maxDistance=Math.max(this.minDistance,1e3/e.zoomLimits.min),this.autoRotate=e.autoRotate,this.autoRotateSpeed=e.autoRotateSpeed,this.autoRotateClockwise=e.autoRotateClockwise;let n=this.object.getTarget().applyQuaternion(IM.copy(this.object.quaternion).invert());this.minV=-e.panVerticalOffset.min+n.y,this.maxV=e.panVerticalOffset.max+n.y,this.minH=-e.panHorizontalOffset.min+n.x,this.maxH=e.panHorizontalOffset.max+n.x,this.panRangeFactor.set(this.maxH-this.minH,this.maxV-this.minV).divideScalar(2),this.rotationRangeFactor.setScalar(Math.PI).divideScalar(4),this.minPhi=_l(this.spherical.phi-e.rotationVerticalOffset.min),this.maxPhi=_l(this.spherical.phi+e.rotationVerticalOffset.max),this.minTheta=_l(_l(this.spherical.theta)-e.rotationHorizontalOffset.min),this.maxTheta=_l(_l(this.spherical.theta)+e.rotationHorizontalOffset.max),this.isThetaFlipped=this.minTheta>this.maxTheta,e.orbitTouches===1&&(this.touches[0]=Ra.ROTATE),e.panTouches===1&&(this.touches[0]=Ra.PAN),e.orbitTouches===2&&(this.touches[1]=Ra.DOLLY_ROTATE),e.panTouches===2&&(this.touches[1]=Ra.DOLLY_PAN),e.orbitTouches===3&&(this.touches[2]=Ra.ROTATE),e.panTouches===3&&(this.touches[2]=Ra.PAN),this.isTouchZoom=e.isTouchZoom,this.resetHoverEffectOnPointerLeave=e.resetHoverEffectOnPointerLeave??!1}connect(){if(this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("wheel",this.onMouseWheel),window.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("keyup",this.onKeyUp,!1),this.domElement.addEventListener("gesturestart",this.onGesture),this.domElement.addEventListener("gesturechange",this.onGesture),this.domElement.addEventListener("gestureend",this.onGesture),this.domElement.addEventListener("touchend",this.onTouchEnd),this.hoverRotatePanMode!==0&&!this.useWindowEvents){let e=this.useWindowEvents?window:this.domElement;e.addEventListener("pointerleave",this.onPointerLeave),e.addEventListener("pointerenter",this.onPointerEnter)}this.pointerLeaveEvent=void 0}dispose(){this.removeEventListenersFromCamera(),this.domElement.removeEventListener("contextmenu",this.onContextMenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("wheel",this.onMouseWheel),window.removeEventListener("keydown",this.onKeyDown,!1),window.removeEventListener("keyup",this.onKeyUp,!1),this.domElement.removeEventListener("pointermove",this.onPointerHover),window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("gesturestart",this.onGesture),this.domElement.removeEventListener("gesturechange",this.onGesture),this.domElement.removeEventListener("gestureend",this.onGesture),this.domElement.removeEventListener("touchend",this.onTouchEnd),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)}applyLimits(e,t,r,n,i,o,l,c){this.overShoot.set(0,0);let a,s,u;e instanceof V?(a=e.x,s=e.y,this.current.set(this.target.x,this.target.y),u=!0):(a=e.theta,s=e.phi,this.current.set(_l(this.spherical.theta),_l(this.spherical.phi)),u=!1),r===0&&(this.current.x+=a,this.current.y+=s),(t===3||t===2)&&(!u&&this.isThetaFlipped?this.current.x>n&&this.current.x<0?this.overShoot.x=n-this.current.x:this.current.x<i&&this.current.x>0&&(this.overShoot.x=i-this.current.x):this.current.x>n?this.overShoot.x=n-this.current.x:this.current.x<i&&(this.overShoot.x=i-this.current.x)),(t===3||t===1)&&(this.current.y>o?this.overShoot.y=o-this.current.y:this.current.y<l&&(this.overShoot.y=l-this.current.y)),u||(this.overShoot.x=_l(this.overShoot.x),this.overShoot.y=_l(this.overShoot.y)),r!==0?(this.overRatio.copy(this.overShoot).divide(c),this.overRatio.x=Math.min(Math.abs(this.overRatio.x),1),this.overRatio.y=Math.min(Math.abs(this.overRatio.y),1),r===1&&(this.overRatio.x=DF(Math.abs(this.overRatio.x)),this.overRatio.y=DF(Math.abs(this.overRatio.y))),this.isPointerDown||r===1?r===2&&(this.overRatio.x>.9&&!this.thetaIsFree||this.overRatio.y>.9&&!this.phiIsFree)?this.isPointerDown=!1:(a*this.overShoot.x<0&&!this.thetaIsFree&&(a*=1-this.overRatio.x),s*this.overShoot.y<0&&!this.phiIsFree&&(s*=1-this.overRatio.y)):r===2&&(!u&&(this.overRatio.x>.002&&!this.thetaIsFree||this.overRatio.y>.002&&!this.phiIsFree)||u&&(Math.abs(this.overShoot.x)>2||Math.abs(this.overShoot.y)>2)?(this.thetaIsFree||(a=this.overShoot.x*.05),this.phiIsFree||(s=this.overShoot.y*.05),u?this.isPanOverShoot=!0:this.isRotateOverShoot=!0):u?this.isPanOverShoot=!1:this.isRotateOverShoot=!1)):(a+=this.overShoot.x,s+=this.overShoot.y),e instanceof V?(e.x=a,e.y=s):(this.thetaIsFree||(e.theta=a),this.phiIsFree||(e.phi=s))}setEnableDampingSpeed(e){this.enableDamping=e,this.rotateSpeed=e===!0?.2:1}stopDamping(){this.sphericalDelta.theta=0,this.sphericalDelta.phi=0}getAutoRotationAngle(){return 2*Math.PI/60/60*this.autoRotateSpeed}getZoomScale(){return Math.pow(.95,this.zoomSpeed)}rotateLeft(e){this.sphericalDelta.theta-=e}rotateUp(e){this.sphericalDelta.phi-=e}panLeft(e,t){this.panLeftV.setFromMatrixColumn(t,0),this.panLeftV.multiplyScalar(-e),this.panOffset.add(this.panLeftV)}panUp(e,t){this.panUpV.setFromMatrixColumn(t,1),this.panUpV.multiplyScalar(e),this.panOffset.add(this.panUpV)}pan(e,t){let r=this.domElement;if(r&&this.object.isPerspectiveCamera){let n=this.object.position;this.panV.copy(n).sub(this.target);let i=this.panV.length();i*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*e*i/r.clientHeight,this.object.matrixWorld),this.panUp(2*t*i/r.clientHeight,this.object.matrixWorld)}else r&&this.object.isOrthographicCamera&&(this.panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrixWorld),this.panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrixWorld));this.dispatchEvent(k7e)}dollyOut(e){this.object.isPerspectiveCamera?this.scale/=e:this.object.isOrthographicCamera&&(this.object.zoom*=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(TF)}dollyIn(e){this.object.isPerspectiveCamera?this.scale*=e:this.object.isOrthographicCamera&&(this.object.zoom/=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(TF)}zoomOut(e=this.getZoomScale()){this.dispatchEvent(Pp),this.dollyOut(e),this.dispatchEvent(kp)}zoomIn(e=this.getZoomScale()){this.dispatchEvent(Pp),this.dollyIn(e),this.dispatchEvent(kp)}handleMouseDownRotate(e){this.rotateStart.set(e.clientX,e.clientY)}handleMouseDownDolly(e){this.dollyStart.set(e.clientX,e.clientY)}handleMouseDownPan(e){this.panStart.set(e.clientX,e.clientY)}handleMouseMoveRotate(e,t=1){e.movementX!==void 0?this.rotateDelta.set(e.movementX,e.movementY):(this.rotateEnd.set(e.clientX,e.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd)),this.rotateDelta.multiplyScalar(this.rotateSpeed*t).rotateAround(PF,-this.object.angleOffsetFromUp);let r=this.domElement,n=this.useWindowEvents?window.innerHeight:r.clientHeight,i=2*Math.PI*this.rotateDelta.x/n,o=2*Math.PI*this.rotateDelta.y/n;this.rotateLeft(i),this.rotateUp(o),this.update()}handleMouseMoveDolly(e){this.dollyEnd.set(e.clientX,e.clientY),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y>0?this.dollyOut(this.getZoomScale()):this.dollyDelta.y<0&&this.dollyIn(this.getZoomScale()),this.dollyStart.copy(this.dollyEnd),this.update()}handleMouseMovePan(e,t=1){e.movementX!==void 0?this.panDelta.set(e.movementX,e.movementY):(this.panEnd.set(e.clientX,e.clientY),this.panDelta.subVectors(this.panEnd,this.panStart),this.panStart.copy(this.panEnd)),this.panDelta.multiplyScalar(this.panSpeed*t),this.pan(this.panDelta.x,this.panDelta.y),this.update()}handleMouseWheel(e){if(xje===!1&&mx(e)===!1&&L7e(e)===!0){if(this.enablePan===!1)return;this.gesture?(this.panDelta.set(-e.deltaX,-e.deltaY).multiplyScalar(this.panSpeed),this.panDelta.x=Math.min(Math.abs(this.panDelta.x),100)*(this.panDelta.x<0?-1:1),this.panDelta.y=Math.min(Math.abs(this.panDelta.y),100)*(this.panDelta.y<0?-1:1),e.altKey?this.pan(0,this.panDelta.y):e.shiftKey?this.pan(this.panDelta.x,0):this.pan(this.panDelta.x,this.panDelta.y),this.update()):(this.gesture=!0,this.isPointerDown=!0),window.clearTimeout(this.timer),this.timer=window.setTimeout(()=>{this.gesture=!1,this.isPointerDown=!1},30)}else{if(this.enableZoom===!1)return;e.deltaY===0?e.deltaX<0?this.dollyIn(this.getZoomScale()):e.deltaX>0&&this.dollyOut(this.getZoomScale()):e.deltaY<0?this.dollyIn(this.getZoomScale()):e.deltaY>0&&this.dollyOut(this.getZoomScale()),this.update(),this.gesture=!1,this.isPointerDown=!1}}handleTouchStartRotate(){if(Mt.length===2){let e=.5*(Mt[0].pageX+Mt[1].pageX),t=.5*(Mt[0].pageY+Mt[1].pageY);this.rotateStart.set(e,t)}else this.rotateStart.set(Mt[0].pageX,Mt[0].pageY)}handleTouchStartPan(){if(Mt.length===2){let e=.5*(Mt[0].pageX+Mt[1].pageX),t=.5*(Mt[0].pageY+Mt[1].pageY);this.panStart.set(e,t)}else this.panStart.set(Mt[0].pageX,Mt[0].pageY)}handleTouchStartDolly(){let e=Mt[0].pageX-Mt[1].pageX,t=Mt[0].pageY-Mt[1].pageY,r=Math.sqrt(e*e+t*t);this.dollyStart.set(0,r)}handleTouchStartDollyPan(){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchStartDolly(),this.enablePan&&this.handleTouchStartPan()}handleTouchStartDollyRotate(){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchStartDolly(),this.enableRotate&&this.handleTouchStartRotate()}handleTouchMoveRotate(e){if(Mt.length===2){let r=TC(e),n=.5*(e.pageX+r.x),i=.5*(e.pageY+r.y);this.rotateEnd.set(n,i)}else{if(e.pointerId!==Mt[0].pointerId)return;this.rotateEnd.set(e.pageX,e.pageY)}this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart).multiplyScalar(this.rotateSpeed);let t=this.domElement;t&&(this.rotateLeft(2*Math.PI*this.rotateDelta.x/t.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/t.clientHeight)),this.rotateStart.copy(this.rotateEnd)}handleTouchMovePan(e){if(Mt.length===2){let t=TC(e),r=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);this.panEnd.set(r,n)}else{if(e.pointerId!==Mt[0].pointerId)return;this.panEnd.set(e.pageX,e.pageY)}this.panDelta.subVectors(this.panEnd,this.panStart).multiplyScalar(this.panSpeed),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd)}handleTouchMoveDolly(e){let t=TC(e),r=e.pageX-t.x,n=e.pageY-t.y,i=Math.sqrt(r*r+n*n);this.dollyEnd.set(0,i),this.dollyDelta.set(0,Math.pow(this.dollyEnd.y/this.dollyStart.y,this.zoomSpeed)),this.dollyOut(this.dollyDelta.y),this.dollyStart.copy(this.dollyEnd)}handleTouchMoveDollyPan(e){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchMoveDolly(e),this.enablePan&&this.handleTouchMovePan(e)}handleTouchMoveDollyRotate(e){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchMoveDolly(e),this.enableRotate&&this.handleTouchMoveRotate(e)}checkRaycastLock(){var e;if(this.object.data.raycastLock){if(this.options.isPlayMode)return!1;{let t=(e=this.options)==null?void 0:e.showCameraLock;return t&&t(),!0}}else return!1}};function _l(e){let t=Math.PI*2;for(;e<=-Math.PI;)e+=t;for(;e>Math.PI;)e-=t;return e}function DF(e){return 1-Math.pow(1-e,4)}function L7e(e){return e.wheelDeltaY===0||e.deltaY===0?WE&&e.shiftKey&&Math.abs(e.wheelDeltaX)>=120?!1:e.wheelDeltaX?e.wheelDeltaX===-3*e.deltaX||e.wheelDeltaX===-3*window.devicePixelRatio*e.deltaX:e.deltaMode===0:e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY||e.wheelDeltaY===-3*window.devicePixelRatio*e.deltaY:e.deltaMode===0}var jF=class{constructor(e,t,r,n,i,o){this.id=e,this.data=t,this.object=r,this.page=n,this.currentIntersectedObjects=[],this.disabled=!1,this.alreadyPlayedNonTogglingActions=new Set,this.actions=So(t,t.actions,n,i,o,r),this.target=t.target,this.useToggle=t.runMode==="Toggle",this.triggeringObjects=t.triggeringObjects.map(l=>n.scene.find(l))}isValidTriggeringObject(e){return this.target==="all"?!0:this.triggeringObjects.some(t=>t===e||t.isAncestorOf(e.uuid)||e.isAncestorOf(t.uuid))}disconnect(){xi(this.actions)}dispatch(){this.disabled||this.object.destroyedInAction||(this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this?(e.object.currentTransitionEvent=this,e.init()):this.data.runMode==="Once"&&this.alreadyPlayedNonTogglingActions.add(e)}),this.object.dispatchEvent({type:"beginEvent",eventName:"Trigger"}),this.useToggle?(this.actions.Transition.forEach(e=>{e.toggle()}),this.actions.SwitchCamera.forEach(e=>{e.toggle()})):(this.actions.Transition.forEach(e=>{this.alreadyPlayedNonTogglingActions.has(e)===!1&&e.play()}),this.actions.SwitchCamera.forEach(e=>{e.play()})),this.actions.Link.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>{e.dispatch()}),this.actions.Create.forEach(e=>{e.dispatch()}),this.actions.Destroy.forEach(e=>{e.dispatch(!1)}),this.actions.Audio.forEach(e=>{e.dispatchBasic()}),this.actions.Video.forEach(e=>{e.dispatchBasic()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()))}},cr;Mje.then(e=>cr=e);var Fn=new V,Os=new Rt,Gu=new V,LM=new yi(0,0,0,"YXZ"),IF=new yi(0,0,0,"XYZ"),Rs=new V,zM=new V,NM=new V(1,1,1),Dp=new Rt,ew=new Ne,OF=new Ne,z7e={type:"updateMatrix"},RF=new Rt,BM=new Zo,M5={type:"beginEvent",eventName:"Collision"},N7e={type:"beginEvent",eventName:"Trigger"};function B7e(e){if(u1.physicsEnabled(e.scene.objects))return!0;let t=!1;return e.scene.objects.traverse((r,n)=>{if(n.events){if(Array.isArray(n.events)){for(let i of n.events)if(i.data.disabled!==!0&&i.data.type==="GameControl"&&i.data.collisionEnabled){t=!0;break}}else for(let i of Object.values(n.events))if(i.disabled!==!0&&i.type==="GameControl"&&i.collisionEnabled){t=!0;break}}}),t}var $2=e=>e.states.some(t=>t.data.position!==void 0||t.data.rotation!==void 0||t.data.hiddenMatrix!==void 0||t.data.cloner!==void 0||t.data.pathSnapping!==void 0),F7e=class{constructor(e){this.eventContext=e,this.isEnabled=!1,this.gameControl=null,this.joysticks=[],this.joystickToGameControls=[],this.sharedGameControlGlobals={entitiesWithTransformAnim:[],entityToCollisionEvents:{},colliderToEntity:new Map,triggers:[],gamePads:[],createdObjects:[],nCreatedPerAction:{}},this.sensorToTriggerEvent={},this.eventManager=void 0,this.needsCollisionDetection=!1,this.initializationCounter=-1,this.rigidBodyToMesh=new Map,this.nActiveRigidBodies=0,this.collisionEvents=[],this.isExport=!1,this.processRigidBody=t=>{if(t.bodyType()!==cr.RigidBodyType.Dynamic)return;t.isSleeping()||this.nActiveRigidBodies++;let[r,n,i]=this.rigidBodyToMesh.get(t.handle);if(Fn.copy(t.translation()).multiplyScalar(this.pixelsPerMeter),Os.copy(t.rotation()),r.matrixWorld.compose(Fn,Os,n),r.hasNonUniformScale&&r.matrixWorld.multiply(r.shearScale),r.dispatchEvent(z7e),i){let o=r.cloner;if(o&&o.objectForSample===void 0){o.matrixWorld.copy(r.matrixWorld);for(let l of o.children)l.updateMatrixWorld(!0)}for(let l of r.children)l.updateMatrixWorld(!0)}},this.accumulator=0,this.handleCollisionEvents=(t,r,n)=>{var l,c,a,s;if(n===!1)return;let i,o;if(this.sensorToTriggerEvent[t]?(i=this.sensorToTriggerEvent[t],o=this.sharedGameControlGlobals.colliderToEntity.get(r)):this.sensorToTriggerEvent[r]&&(i=this.sensorToTriggerEvent[r],o=this.sharedGameControlGlobals.colliderToEntity.get(t)),i&&o&&i.isValidTriggeringObject(o)){i.dispatch();return}for(let u=this.sharedGameControlGlobals.createdObjects.length-1;u>=0;u--){let d=this.sharedGameControlGlobals.createdObjects[u];if(d.userData.hasCollisionDestroy&&(((l=d.rigidBody)==null?void 0:l.collider(0).handle)===t||((c=d.rigidBody)==null?void 0:c.collider(0).handle)===r)){this.sharedGameControlGlobals.createdObjects.splice(u,1),d.removeFromParent(),requestAnimationFrame(()=>{var h;return(h=this.sharedGameControlGlobals.rapierWorld)==null?void 0:h.removeRigidBody(d.rigidBody)});break}}if(((a=this.gameControl)==null?void 0:a.object)===this.sharedGameControlGlobals.colliderToEntity.get(t)){let u=this.sharedGameControlGlobals.colliderToEntity.get(r),d=this.sharedGameControlGlobals.entityToCollisionEvents[u.uuid];if(d===void 0)return;for(let h of d)h.data.target==="character"&&this.dispatchCollisionEvent(h,u,r)}else if(((s=this.gameControl)==null?void 0:s.object)===this.sharedGameControlGlobals.colliderToEntity.get(r)){let u=this.sharedGameControlGlobals.colliderToEntity.get(t),d=this.sharedGameControlGlobals.entityToCollisionEvents[u.uuid];if(d===void 0)return;for(let h of d)h.data.target==="character"&&this.dispatchCollisionEvent(h,u,t)}else{let u=this.sharedGameControlGlobals.colliderToEntity.get(t),d=this.sharedGameControlGlobals.entityToCollisionEvents[u.uuid];if(d!==void 0)for(let m of d)m.data.target==="scene"&&this.dispatchCollisionEvent(m,u,t);let h=this.sharedGameControlGlobals.colliderToEntity.get(r),f=this.sharedGameControlGlobals.entityToCollisionEvents[h==null?void 0:h.uuid];if(f!==void 0)for(let m of f)m.data.target==="scene"&&this.dispatchCollisionEvent(m,h,r)}},this.isExport=e.isExport,this.sharedAssets=e.sharedAssets,this.renderer=e.renderer,this.requestRender=e.requestRender,this.domElement=this.renderer.domElement,this.pixelsPerMeter=XJ,this.gravity=this.page.data.globalPhysics.gravity}get page(){return this.eventContext.page}attachVRControllers(e){e.forEach(t=>{t.addEventListener("connected",r=>{"gamepad"in r.data&&"axes"in r.data.gamepad&&this.sharedGameControlGlobals.gamePads.push(r.data.gamepad)})})}markIsDestroyTarget(){this.page.traverseVisibleEntity(e=>{var r,n;let t=e.dataPatched;for(let i of t.events){if(i.data.disabled===!0)continue;let o=(n=(r=i.data.actions)==null?void 0:r.find(l=>l.data.type==="Destroy"))==null?void 0:n.data;if(o)for(let l of o.objects){let c=this.page.scene.find(l);c&&(c.userData.hasDestroy=!0)}}})}markIsDragObject(){this.page.traverseVisibleEntity(e=>{let t=e.dataPatched;for(let r of t.events)if(!(r.data.disabled===!0||r.data.type!=="DragDrop"))for(let n of r.data.objects){let i=this.page.scene.find(n);i&&(i.userData.hasDrag=!0)}})}initBVH(){let e=[];if(this.page.traverseChildren(t=>{var c,a;let r;if(t instanceof $s)return;t instanceof Yi?r=t.object:r=t;let n=r.dataPatched;if(((c=n.physics)==null?void 0:c.enabled)==="visibility"?!n.visible:!((a=n.physics)!=null&&a.enabled))return!0;let i=t.geometry,o=r.userData.hasDestroy===!0,l=r.userData.hasDrag===!0;if($2(n)||o||l||r.dataPatched.events.some(s=>s.data.disabled!==!0&&s.data.type==="GameControl"))return t.updateMatrixWorldSVD(),this.addBoundsTree(t),!0;i&&e.push(Bc(i,t.matrixWorld))}),e.length>0){let t=Vh(e,!1);this.sharedGameControlGlobals.staticMeshBVH=new cy(t)}}addRigidBody(e,t,r){let n=[],i="geometry"in e?e.geometry:void 0,o=t.dataPatched;if((i==null?void 0:i.getAttribute("position"))!==void 0&&n.push(Bc(i,e.shearScale)),o.physics.fusedBody){let l=this.gatherChildrenGeom(e,n);e.traverseObject(l),e.children.forEach(a=>a.updateMatrixWorld(!0));let c=e.cloner;c&&c.objectForSample===void 0&&o.physics.rigidBody==="dynamic"&&(c.traverseObject(l),c.children.forEach(a=>a.updateMatrixWorld(!0)))}if(n.length>0){let l,c=!r.fromCreate&&o.physics.rigidBody==="dynamic"||r.fromCreate&&r.dynamic;c?(l=cr.RigidBodyDesc.dynamic(),l.setLinearDamping(o.physics.damping).setAngularDamping(o.physics.damping).setAdditionalMass(1e-9).setGravityScale(o.physics.gravityScale).enabledRotations(...o.physics.enabledRotation).enabledTranslations(...o.physics.enabledTranslation)):(r.hasTransformAnim||r.hasFollow||r.hasDrag)&&!r.fromCreate?(l=cr.RigidBodyDesc.kinematicPositionBased(),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)):l=cr.RigidBodyDesc.fixed();let a=Vh(n);(e.hasNonUniformScale?e.matrixWorldRigid:e.matrixWorld).decompose(Fn,Os,Gu),e.position0=Fn.clone().divideScalar(this.pixelsPerMeter),e.rotation0=Os.clone(),Fn.divideScalar(this.pixelsPerMeter),l.setTranslation(Fn.x,Fn.y,Fn.z).setRotation(Os),i?a==null||a.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter):a==null||a.scale(Gu.x/this.pixelsPerMeter,Gu.y/this.pixelsPerMeter,Gu.z/this.pixelsPerMeter);let s=this.sharedGameControlGlobals.rapierWorld.createRigidBody(l);c&&this.rigidBodyToMesh.set(s.handle,[e,Gu.clone(),o.physics.fusedBody]);let u=!(o.geometry===void 0||o.geometry.type==="SubdivGeometry"||o.geometry.type==="NonParametricGeometry"||o.geometry.type==="BooleanGeometry"||o.geometry.type==="VectorGeometry"||o.geometry.type==="StarGeometry"||o.geometry.type==="RectangleGeometry"||o.geometry.type==="EllipseGeometry"||o.geometry.type==="TriangleGeometry"||o.geometry.type==="TorusGeometry"||o.geometry.type==="HelixGeometry");try{this.addCollider(s,o.physics,a,t,u)}catch{try{this.addCollider(s,o.physics,a,t,!1)}catch(d){console.error(d)}}e.rigidBody=s}}addBoundsTree(e){var r,n;let t=[];if(((r=e.geometry)==null?void 0:r.getAttribute("position"))!==void 0&&((n=e.geometry)==null?void 0:n.getAttribute("position").count)>0&&t.push(Bc(e.geometry,e.shearScale)),e.traverseObject(this.gatherChildrenGeom(e,t)),e.children.forEach(i=>i.updateMatrixWorld(!0)),t.length>0){let i=Vh(t,!1);e.bvhGeometry=i,e.bvhGeometry.boundsTree=new cy(i),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)}}addCollider(e,t,r,n,i=!0){var c,a;if((r==null?void 0:r.getAttribute("position").count)===0||((c=r==null?void 0:r.getIndex())==null?void 0:c.count)===0)return;let o;r&&(t.colliderType==="trimesh"?o=cr.ColliderDesc.trimesh(r.getAttribute("position").array,r.getIndex().array):o=cr.ColliderDesc.convexMesh(r.getAttribute("position").array,i?r.getIndex().array:void 0)),o.setFrictionCombineRule(cr.CoefficientCombineRule.Average).setRestitutionCombineRule(cr.CoefficientCombineRule.Average).setDensity(t.density).setFriction(t.friction).setRestitution(t.restitution);let l=this.sharedGameControlGlobals.rapierWorld.createCollider(o,e);this.sharedGameControlGlobals.colliderToEntity.set(l.handle,n),(a=this.sharedGameControlGlobals.entityToCollisionEvents[n.uuid])!=null&&a.some(s=>s.target==="scene")&&l.setActiveEvents(cr.ActiveEvents.COLLISION_EVENTS)}gatherChildrenGeom(e,t){return(r,n)=>{var c;if(n===0)return;let i;if(r instanceof $s)if(r.objectForSample){if(r.objectForSample.dataPatched.physics.fusedBody)return;i=r.object}else return r.object.dataPatched.physics.fusedBody===!0&&r.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(r instanceof Yi)i=r.object;else if(i=r,(c=i.dataPatched.cloner)==null?void 0:c.hideBase)return!0;let o=i.dataPatched;if(o.physics.enabled==="visibility"?!o.visible:!o.physics.enabled)return!0;n===1?e.hasNonUniformScale?r.matrixWorld.multiplyMatrices(e.shearScale,r.hiddenMatrix):r.matrixWorld.copy(r.hiddenMatrix):r.matrixWorld.multiplyMatrices(r.parent.matrixWorld,r.hiddenMatrix),r.matrixWorld.multiply(r.matrix);let l=r.geometry;(l==null?void 0:l.getAttribute("position"))!==void 0&&t.push(Bc(l,r.matrixWorld))}}activate(e){var h,f;if(this.isEnabled)return;this.isEnabled=!0,this.eventManager=e,this.usePhysics=this.page.data.globalPhysics.usePhysics;let t=this.page.playCamera,r=!1,n=5,i=8,o=9,l="drag",c=this.page.data.publish.gameControlObject,a=c!==null?this.page.find(c):null,s=null;if(a)for(let m of a.data.events){if(m.data.disabled||m.data.type!=="GameControl")break;let p=a;for(;this.usePhysics&&((h=p=p.parent)==null?void 0:h.parent)!==null&&!((f=p.data.physics)!=null&&f.fusedBody););m.data.collisionEnabled&&(this.needsCollisionDetection=!0),s===null&&(s=m.data)}if(this.page.traverseEntity(m=>{for(let p of m.dataPatched.events)if(p.data.disabled===!1&&p.data.type==="Trigger")return this.needsCollisionDetection=!0,!0}),a&&s){r=r||s.camera===t.uuid||a.uuid===t.uuid;let m=new $J(a,this.renderer.domElement,s,this.eventContext.page.data.globalPhysics,this,a.uuid!==t.uuid&&s.camera===t.uuid,t,this.page,this.sharedAssets);this.gameControl=m,n=s.joystickPosLoc,i=s.joystickRotLoc,o=s.jumpTouchButtonLoc,l=s.rotByTouch,ya&&s.touchControl&&(this.joystickToGameControls[n]="pos",s.moveMode==="walk"&&(this.joystickToGameControls[o]="jmp"),l==="joystick"&&(this.joystickToGameControls[i]="rot"))}if(this.gameControl&&this.gameControl.data.navmesh.enabled){let m=this.gameControl.data;if(!this.navigationMeshWrapper){this.navigationMeshWrapper=new C7e(this.usePhysics,this.isExport);let p;m.collider.type==="sphere"?p=m.collider.radius*2:p=m.collider.height,p=Math.floor(p/m.navmesh.ch-1),this.navigationMeshWrapper.init({...m.navmesh,walkableHeight:p},this.gameControl,this.eventContext)}}if(r===!1){let{enableRotate:m,enablePan:p,enableZoom:g,autoRotate:v,hoverRotatePanMode:x}=this.eventManager.publish.orbitControls;(m||p||g||v||x!==0)&&(this.orbitControls=new nZ(t,this.renderer.domElement,{isExport:this.isExport,isPlayMode:!0}),this.orbitControls.addEventListener("change",this.requestRender),this.orbitControls.addEventListener("end",this.requestRender),this.orbitControls.addEventListener("start",this.requestRender),this.orbitControls.fromJSON(this.eventManager.publish.orbitControls,this.eventManager.publish.mouseEventTarget),this.orbitControls.useKeyEvents=!1,this.orbitControls.addEventListenersToCamera(),this.orbitControls.connect(),this.orbitControls.update())}let u=this.renderer.domElement.width/this.renderer.getPixelRatio(),d=this.renderer.domElement.height/this.renderer.getPixelRatio();this.joystickToGameControls.forEach((m,p)=>{let g=document.body.appendChild(document.createElement("div")),[v,x,y]=this.eventManager.eventContext.publish.joystickSizeAndXYOffset[p],b=(u-5*v)/4+v,w={},_=m==="jmp",S=_?0:v;p<10?(p<5?w.top=S/2:w.bottom=S/2,w.left=S/2+p%5*b):p===10?(w.left=S/2,w.top=d/2):(w.right=S/2,w.top=d/2),w.top?w.top-=x[1]:w.bottom+=x[1],w.left?w.left+=x[0]:w.right-=x[0];for(let A in w)w[A]+="px";if(_){let A=g.appendChild(document.createElement("div"));Object.assign(A.style,w,{position:"absolute",width:v+"px",height:v+"px",backgroundColor:`rgba(255,255,255,${y==="show"?.4:0})`,zIndex:"9999",borderRadius:v+"px",border:y==="show"?"solid 2px rgba(0, 0, 0, .1)":"none",display:"flex",alignItems:"center",justifyContent:"center",touchAction:"none"});let T=v/16*16*.4;y==="show"&&(A.innerHTML=`
						<svg width="${T}" height="${v*.4}" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M2 10L8 4L14 10" stroke="black" stroke-opacity="40%" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
						</svg>
					`),A.addEventListener("pointerdown",()=>{this.gameControl.movementState.jump=1,this.requestRender()}),A.addEventListener("touchend",k=>k.preventDefault()),this.joysticks[p]=[void 0,g];return}let E={zone:g,mode:"static",position:w,size:v};y==="hide"&&(E.restOpacity=0);let C=n9e.create(E);C.on("move",(A,T)=>{let k=this.gameControl;m==="pos"?T.force<.2?k.moveForce=0:(k.movementState.movePosZ=Math.sin(-T.angle.radian),k.movementState.movePosX=Math.cos(-T.angle.radian),T.force>1.2?k.movementState.run=1:k.movementState.run=0,T.force<.3?k.moveForce=(T.force-.2)/.1:k.moveForce=1):m==="rot"&&(T.force<.2?k.rotForce=0:(k.movementState.rotPosX=T.vector.y,k.movementState.rotPosY=-T.vector.x,T.force<.3?k.rotForce=(T.force-.2)/.1:k.rotForce=1)),this.requestRender()}),C.on("end",(A,T)=>{let k=this.gameControl;m==="pos"?(k.movementState.movePosZ=0,k.movementState.movePosX=0,k.moveForce=1):m==="rot"&&(k.movementState.rotPosX=0,k.movementState.rotPosY=0,k.rotForce=1)}),this.joysticks[p]=[C,g]}),this.markIsDestroyTarget(),this.markIsDragObject(),this.rebuildBVH(),this.initializationCounter++,window.setTimeout(()=>{this.collisionEvents.forEach(m=>m.disabled=!1)},80)}initPhysics(){var l;(l=this.sharedGameControlGlobals.rapierWorld)==null||l.free(),this.sharedGameControlGlobals.rapierWorld=new cr.World(new cr.Vector3(0,this.gravity,0)),this.events=new cr.EventQueue(!0);let e=[],t=[];if(this.page.traverseChildren(c=>{var v,x,y,b;let a;if(c instanceof $s)if(c.objectForSample){if(c.objectForSample.dataPatched.physics.fusedBody)return;a=c.object}else return c.object.dataPatched.physics.fusedBody===!0&&c.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(c instanceof Yi)a=c.object;else if(a=c,((v=a.dataPatched.cloner)==null?void 0:v.disabled)===!1&&((x=a.dataPatched.cloner)==null?void 0:x.hideBase)&&((y=a.dataPatched.physics)==null?void 0:y.fusedBody)!==!0)return!0;let s=a.dataPatched,u;for(let w of s.events)w.data.disabled!==!0&&w.data.type==="GameControl"&&(u=w.data);if(!s.physics||(s.physics.enabled==="visibility"?!s.visible:!s.physics.enabled))return!0;c.updateMatrixWorldSVD();let d=$2(s),h=!1,f=a.userData.hasDestroy,m=a.userData.hasDrag,p=!1;for(let w of s.events)if(w.data.disabled!==!0){if(w.data.type==="Collision"){h=!0;let _=new m7e(w.id,w.data,a,this.page,this.sharedAssets,this.eventManager);_.disabled=!0,this.collisionEvents.push(_),this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid]&&this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid].every(S=>S.id!==w.id)?this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid].push(_):this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid]=[_]}else if(w.data.type==="Follow"){p=!0;let _=w.data.target;c.traverseVisible(S=>{S.userData.isFollowingObj=_})}}s.physics.rigidBody==="dynamic"&&s.physics.fusedBody===!1&&(c.matrixWorldFusedFalse=c.matrixWorld.clone());let g=c.geometry;if(u!==void 0){let w=cr.RigidBodyDesc.kinematicPositionBased();(c.hasNonUniformScale?c.matrixWorldRigid:c.matrixWorld).decompose(Fn,Os,Gu),c.position0=Fn.clone().divideScalar(this.pixelsPerMeter),c.rotation0=Os.clone(),Fn.divideScalar(this.pixelsPerMeter),w.setTranslation(Fn.x,Fn.y,Fn.z).setRotation(Os);let _=this.sharedGameControlGlobals.rapierWorld.createRigidBody(w);c.rigidBody=_;let S;u.collider.type==="sphere"?S=cr.ColliderDesc.ball(u.collider.radius/this.pixelsPerMeter):u.collider.type==="capsule"?S=cr.ColliderDesc.capsule((u.collider.height/2-u.collider.radius)/this.pixelsPerMeter,u.collider.radius/this.pixelsPerMeter):S=cr.ColliderDesc.cuboid(u.collider.width/this.pixelsPerMeter/2,u.collider.height/this.pixelsPerMeter/2,u.collider.depth/this.pixelsPerMeter/2),S.setFrictionCombineRule(cr.CoefficientCombineRule.Average).setRestitutionCombineRule(cr.CoefficientCombineRule.Average).setDensity(s.physics.density).setFriction(s.physics.friction).setRestitution(s.physics.restitution);let E=this.sharedGameControlGlobals.rapierWorld.createCollider(S,_);this.sharedGameControlGlobals.colliderToEntity.set(E.handle,a),Fn.fromArray(u.collider.position).multiply(Gu.setFromMatrixScale(a.matrixWorld)).divideScalar(this.pixelsPerMeter),E.setTranslationWrtParent(Fn);let C=new Rt().setFromEuler(new yi().setFromVector3(new V().fromArray(u.collider.rotation)));E.setRotationWrtParent(C),E.setActiveEvents(cr.ActiveEvents.COLLISION_EVENTS),this.generateSensorColliderDescs(a,!0)}else s.physics.rigidBody==="dynamic"||d||p||f||m||h?(this.addRigidBody(c,a,{hasFollow:p,hasTransformAnim:d,hasDrag:m}),this.generateSensorColliderDescs(a,s.physics.fusedBody)):(g&&e.push(Bc(g,c.matrixWorld)),s.physics.fusedBody&&c.traverseObject((w,_)=>{var A;if(_===0)return;let S;if(w instanceof $s)if(w.objectForSample){if(w.objectForSample.dataPatched.physics.fusedBody)return;S=w.object}else return w.object.dataPatched.physics.fusedBody===!0&&w.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(w instanceof Yi)S=w.object;else if(S=w,(A=S.dataPatched.cloner)==null?void 0:A.hideBase)return!0;let E=S.dataPatched;if(E.physics.enabled==="visibility"?!E.visible:!E.physics.enabled)return!0;let C=w.geometry;(C==null?void 0:C.getAttribute("position"))!==void 0&&e.push(Bc(C,w.matrixWorld))}),this.generateSensorColliderDescs(a,s.physics.fusedBody,t));if(((b=s.physics)==null?void 0:b.fusedBody)===!0||u)return!0}),e.length===0)return;let r=Vh(e);r.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter);let n=cr.RigidBodyDesc.fixed(),i=this.sharedGameControlGlobals.rapierWorld.createRigidBody(n),o=cr.ColliderDesc.trimesh(r.getAttribute("position").array,r.getIndex().array).setFrictionCombineRule(cr.CoefficientCombineRule.Multiply).setRestitutionCombineRule(cr.CoefficientCombineRule.Multiply).setFriction(1).setRestitution(1);this.sharedGameControlGlobals.rapierWorld.createCollider(o,i);for(let[c,a]of t){let s=this.sharedGameControlGlobals.rapierWorld.createCollider(c,i);this.sensorToTriggerEvent[s.handle]=a}}updatePositions(){return this.nActiveRigidBodies=0,this.sharedGameControlGlobals.rapierWorld.forEachRigidBody(this.processRigidBody),this.nActiveRigidBodies>0}rebuildBVH(){this.usePhysics?this.initPhysics():(this.page.traverseEntity(e=>{for(let t of e.dataPatched.events)if(t.data.type==="Trigger"&&t.data.disabled!==!0){let r=new jF(t.id,t.data,e,this.page,this.sharedAssets,this.eventManager),n=new Ne().compose(Rs.fromArray(t.data.position),Dp.setFromEuler(IF.fromArray(t.data.rotation)),NM);if(t.data.triggerZone==="box"){let i=new Rn;i.min.fromArray(t.data.size).multiplyScalar(-.5),i.max.fromArray(t.data.size).multiplyScalar(.5),this.sharedGameControlGlobals.triggers.push([i,n,e,r])}else this.sharedGameControlGlobals.triggers.push([t.data.radius,n,e,r])}}),this.needsCollisionDetection&&this.initBVH())}disconnectEvents(){this.collisionEvents.forEach(e=>e.disconnect()),this.sharedGameControlGlobals.triggers.forEach(e=>e[3].disconnect()),this.sharedGameControlGlobals.triggers.length=0}deactivate(){var e,t,r,n;if(this.isEnabled){this.isEnabled=!1,this.page.traverse(i=>{let o=i;o.matrixWorldFusedFalse&&(o.matrixWorldFusedFalse=void 0),o.rigidBody&&(o.rigidBody=void 0),o.position0&&(o.position0=void 0),o.rotation0&&(o.rotation0=void 0)}),(e=this.sharedGameControlGlobals.rapierWorld)==null||e.free(),this.sharedGameControlGlobals.rapierWorld=void 0,this.sharedGameControlGlobals.staticMeshBVH=void 0,this.accumulator=0,this.sharedGameControlGlobals.entitiesWithTransformAnim=[],this.disconnectEvents(),(t=this.gameControl)==null||t.reset(),(r=this.gameControl)==null||r.dispose(),this.gameControl=null,this.initializationCounter=-1,this.joysticks.forEach(([i,o])=>{i==null||i.destroy(),o.remove()}),this.joystickToGameControls=[],this.joysticks=[],this.orbitControls&&(this.orbitControls.dispose(),this.orbitControls=void 0),(n=this.navigationMeshWrapper)==null||n.dispose(),this.navigationMeshWrapper=void 0;for(let i of Object.values(this.sharedGameControlGlobals.entityToCollisionEvents))i.forEach(o=>o.disconnect());this.sharedGameControlGlobals.entityToCollisionEvents={},this.page.updateMatrixWorld(!0)}}update(e,t,r){if(!this.isEnabled)return!0;let n=!0;if(this.orbitControls!==void 0&&this.orbitControls.needsUpdate&&(n=!this.orbitControls.update()),this.initializationCounter>=0&&this.initializationCounter<2?(this.initializationCounter++,n=!1):this.initializationCounter===2&&this.gameControl&&(n=!this.gameControl.update(e,t,r)&&n),this.usePhysics===!1&&this.checkTrigger(),this.usePhysics){let i=.016666666666666666;if(e===0)n=this.stepPhysics()&&n;else{let o=e/1e3;o<i&&o>i*.55&&(o=i),this.accumulator+=o;let l=performance.now(),c=0,a=6;for(;this.accumulator>=i&&c<a&&(n=this.stepPhysics()&&n,this.accumulator-=i,c++,!(performance.now()-l>i*1e3)););this.accumulator=this.accumulator%i}}return n}stepPhysics(){var e;for(let t of this.sharedGameControlGlobals.entitiesWithTransformAnim){(t.hasNonUniformScale?t.matrixWorldRigid:t.matrixWorld).decompose(Fn,Os,Gu),LM.setFromQuaternion(Os);let r=t;r.prevR===void 0?(r.prevR=LM.clone(),r.prevT=Fn.clone()):(r.prevR.copy(LM),r.prevT.copy(Fn)),t.rigidBody&&(t.rigidBody.setNextKinematicTranslation(Fn.divideScalar(this.pixelsPerMeter)),t.rigidBody.setNextKinematicRotation(Os))}return this.sharedGameControlGlobals.rapierWorld.step(this.events),(e=this.events)==null||e.drainCollisionEvents(this.handleCollisionEvents),!this.updatePositions()}dispatchCollisionEvent(e,t,r){var o;let n=((o=this.sharedGameControlGlobals.rapierWorld)==null?void 0:o.getCollider(r))._parent,i;if(t.cloner){for(let l of t.cloner.children)if(l.rigidBody===n){i=l;break}}e.dispatch(i),t.dispatchEvent(M5)}updateUseWindowEvents(e){var t;(t=this.orbitControls)==null||t.updateUseWindowEvents(e)}generateSensorColliderDescs(e,t,r){let n=OF.copy(e.matrixWorld).invert();e.traverseEntity((i,o)=>{if(t===!1&&o===1)return!0;for(let l of i.dataPatched.events)if(l.data.type==="Trigger"&&l.data.disabled!==!0){let c=new jF(l.id,l.data,i,this.page,this.sharedAssets,this.eventManager),a;if(l.data.triggerZone==="box"?a=cr.ColliderDesc.cuboid(...l.data.size.map(s=>s/(2*this.pixelsPerMeter))):a=cr.ColliderDesc.ball(l.data.radius/this.pixelsPerMeter),a.setDensity(0).setSensor(!0).setActiveEvents(cr.ActiveEvents.COLLISION_EVENTS),Rs.fromArray(l.data.position),Dp.setFromEuler(IF.fromArray(l.data.rotation)),ew.compose(Rs,Dp,NM).premultiply(i.matrixWorld),r?(ew.decompose(Rs,Dp,zM),a.setActiveCollisionTypes(cr.ActiveCollisionTypes.KINEMATIC_FIXED|cr.ActiveCollisionTypes.DYNAMIC_FIXED)):(ew.premultiply(n).decompose(Rs,Dp,zM),e.rigidBody.bodyType()===cr.RigidBodyType.Dynamic||(e.rigidBody.bodyType()===cr.RigidBodyType.Fixed?a.setActiveCollisionTypes(cr.ActiveCollisionTypes.KINEMATIC_FIXED|cr.ActiveCollisionTypes.DYNAMIC_FIXED):a.setActiveCollisionTypes(cr.ActiveCollisionTypes.KINEMATIC_KINEMATIC|cr.ActiveCollisionTypes.DYNAMIC_KINEMATIC))),Rs.divideScalar(this.pixelsPerMeter),a.setTranslation(Rs.x,Rs.y,Rs.z),a.setRotation(Dp),r)r.push([a,c]);else{let s=this.sharedGameControlGlobals.rapierWorld.createCollider(a,e.rigidBody);this.sensorToTriggerEvent[s.handle]=c}}})}checkTrigger(){let e;for(let t=0;t<this.sharedGameControlGlobals.triggers.length;t++){let[r,n,i,o]=this.sharedGameControlGlobals.triggers[t];for(let l=0;l<this.sharedGameControlGlobals.entitiesWithTransformAnim.length;l++){let c=this.sharedGameControlGlobals.entitiesWithTransformAnim[l];if(i===c||o.isValidTriggeringObject(or.is(c)?c:c.object)===!1)continue;let a=OF.copy(i.matrixWorld).decompose(Rs,RF,zM).compose(Rs,RF,NM).multiply(n),s=ew.copy(c.matrixWorld).invert().multiply(a);r instanceof Rn?e=c.bvhGeometry.boundsTree.intersectsBox(r,s):(BM.radius=r,BM.center.setFromMatrixPosition(s),e=c.bvhGeometry.boundsTree.intersectsSphere(BM)),e?o.currentIntersectedObjects.indexOf(c)===-1&&(o.currentIntersectedObjects.push(c),o.dispatch(),i.dispatchEvent(N7e)):o.currentIntersectedObjects=o.currentIntersectedObjects.filter(u=>u!==c)}}}};function U7e(e){let t=this._clip.duration,r=this._clip.start??0,n=this.loop,i=this.time+e,o=this._loopCount,l=n===yj;if(e===0)return o===-1?i:l&&(o&1)===1?t-(i-r):i;if(n===TX){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),i>=t||i<r){let c=Math.floor((i-r)/(t-r));i-=(t-r)*c,o+=Math.abs(c);let a=this.repetitions-o;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,l||(i=e>0?t:r,this.repetitions===1&&(i=t)),this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(a===1){let s=e<0;this._setEndings(s,!s,l)}else this._setEndings(!1,!1,l);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=i;if(l&&(o&1)===1)return t-(i-r)}return i}var LF=!1,V7e=class{constructor(e,t,r,n){this.scene=e,this.requestRender=t,this.updateDisplayProgress=r,this.animationInspectorState=n,this.clipIdToAction={},this.activeClip=null,this.needsUpdate=!1,this.addClip=i=>{i.data.type==="Empty"&&i.data.animations&&i.data.animations.forEach((o,l)=>{let c=o[0]+"/";if(Array.isArray(i.identity)?c+=i.identity[0]:c+=i.uuid,this.clipIdToAction[c])return;let a=Q4.parse(JSON.parse(o[2]));i.animations[l]=a;let s=this.mixer.clipAction(a,i);LF===!1&&(Object.getPrototypeOf(s)._updateTime=U7e,LF=!0),s.clampWhenFinished=!0,this.clipIdToAction[c]=s})},this.mixer=new VAe(e),this.scene.traverseEntity(this.addClip)}deleteClip(e,t){let r=this.scene.find(t);if(!r)return;let n=r.animations.find(o=>o.uuid===e);if(!n)return;let i=this.clipIdToAction[e];!i||(i.stop(),this.mixer.uncacheClip(n),delete this.clipIdToAction[e],r.animations=r.animations.filter(o=>o.uuid!==e))}get isPlaying(){return Object.values(this.clipIdToAction).some(e=>e.isRunning())}playFromInspector(e){this.mixer.stopAllAction();let t=this.clipIdToAction[e];!t||(t.play(),this.activeClip=t.getClip(),this.requestRender())}onExitPlayMode(){Object.values(this.clipIdToAction).forEach(e=>{e.repetitions=1/0,e.loop=PX}),this.mixer.stopAllAction(),this.requestRender()}play(e){let t=e.clipId+"/"+e.object,r=this.clipIdToAction[t];if(r)return e&&(e.repeat>=0&&(r.repetitions=e.repeat+1),e.direction==="pingpong"&&e.repeat!==0&&(r.loop=yj)),r.play(),r.paused=!1,this.requestRender(),r}resumeFromInspector(e){let t=this.clipIdToAction[e];!t||(t.play(),t.paused=!1,this.requestRender())}pauseFromInspector(e){let t=this.clipIdToAction[e];!t||(t.paused=!0)}stop(){this.mixer.stopAllAction(),this.requestRender()}update(e){var t;if(this.needsUpdate)this.needsUpdate=!1;else if(this.isPlaying===!1||(t=this.animationInspectorState)!=null&&t.isScrubbing)return;this.mixer.update(e/1e3),this.activeClip&&this.updateDisplayProgress(Math.round(this.mixer.time/this.activeClip.duration*this.maxFrames%this.maxFrames)),this.requestRender()}get maxFrames(){var e,t;return((t=(e=this.activeClip)==null?void 0:e.tracks[0])==null?void 0:t.times.length)??0}setProgressFromInspector(e,t){if(!this.clipIdToAction[t])return;this.activeClip!==this.clipIdToAction[t].getClip()&&this.playFromInspector(t);let r=this.clipIdToAction[t].paused;this.clipIdToAction[t].paused=!1,this.mixer.setTime(Math.min(this.maxFrames?e/this.maxFrames:0,.9999)*this.activeClip.duration),this.requestRender(),r&&(this.clipIdToAction[t].paused=!0)}},FM=new WeakMap,H7e=class extends jj{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,n){let i=new J4(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,o=>{this.decodeDracoFile(o,t).catch(n)},r,n)}decodeDracoFile(e,t,r,n){let i={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes,useUniqueIDs:!!r};return this.decodeGeometry(e,i).then(t)}decodeGeometry(e,t){let r=JSON.stringify(t);if(FM.has(e)){let c=FM.get(e);if(c.key===r)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let n,i=this.workerNextTaskID++,o=e.byteLength,l=this._getWorker(i,o).then(c=>(n=c,new Promise((a,s)=>{n._callbacks[i]={resolve:a,reject:s},n.postMessage({type:"decode",id:i,taskConfig:t,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return l.catch(()=>!0).then(()=>{n&&i&&this._releaseTask(n,i)}),FM.set(e,{key:r,promise:l}),l}_createGeometry(e){let t=new vt;e.index&&t.setIndex(new kt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){let n=e.attributes[r],i=n.name,o=n.array,l=n.itemSize;t.setAttribute(i,new kt(o,l))}return t}_loadLibrary(e,t){let r=new J4(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((n,i)=>{r.load(e,n,void 0,i)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{let n=r[0];e||(this.decoderConfig.wasmBinary=r[1]);let i=W7e.toString(),o=["/* draco decoder */",n,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let n=new Worker(this.workerSourceURL);n._callbacks={},n._taskCosts={},n._taskLoad=0,n.postMessage({type:"init",decoderConfig:this.decoderConfig}),n.onmessage=function(i){let o=i.data;switch(o.type){case"decode":n._callbacks[o.id].resolve(o);break;case"error":n._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(n)}else this.workerPool.sort(function(n,i){return n._taskLoad>i._taskLoad?-1:1});let r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}};function W7e(){let e,t;onmessage=function(l){let c=l.data;switch(c.type){case"init":e=c.decoderConfig,t=new Promise(function(u){e.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(e)});break;case"decode":let a=c.buffer,s=c.taskConfig;t.then(u=>{let d=u.draco,h=new d.Decoder,f=new d.DecoderBuffer;f.Init(new Int8Array(a),a.byteLength);try{let m=r(d,h,f,s),p=m.attributes.map(g=>g.array.buffer);m.index&&p.push(m.index.array.buffer),self.postMessage({type:"decode",id:c.id,geometry:m},p)}catch(m){console.error(m),self.postMessage({type:"error",id:c.id,error:m.message})}finally{d.destroy(f),d.destroy(h)}});break}};function r(l,c,a,s){let u=s.attributeIDs,d=s.attributeTypes,h,f,m=c.GetEncodedGeometryType(a);if(m===l.TRIANGULAR_MESH)h=new l.Mesh,f=c.DecodeBufferToMesh(a,h);else if(m===l.POINT_CLOUD)h=new l.PointCloud,f=c.DecodeBufferToPointCloud(a,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!f.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+f.error_msg());let p={index:null,attributes:[]};for(let g in u){let v=self[d[g]],x,y;if(s.useUniqueIDs)y=u[g],x=c.GetAttributeByUniqueId(h,y);else{if(y=c.GetAttributeId(h,l[u[g]]),y===-1)continue;x=c.GetAttribute(h,y)}p.attributes.push(i(l,c,h,g,v,x))}return m===l.TRIANGULAR_MESH&&(p.index=n(l,c,h)),l.destroy(h),p}function n(l,c,a){let s=a.num_faces()*3,u=s*4,d=l._malloc(u);c.GetTrianglesUInt32Array(a,u,d);let h=new Uint32Array(l.HEAPF32.buffer,d,s).slice();return l._free(d),{array:h,itemSize:1}}function i(l,c,a,s,u,d){let h=d.num_components(),f=a.num_points()*h,m=f*u.BYTES_PER_ELEMENT,p=o(l,u),g=l._malloc(m);c.GetAttributeDataArrayForAllPoints(a,d,p,m,g);let v=new u(l.HEAPF32.buffer,g,f).slice();return l._free(g),{name:s,array:v,itemSize:h}}function o(l,c){switch(c){case Float32Array:return l.DT_FLOAT32;case Int8Array:return l.DT_INT8;case Int16Array:return l.DT_INT16;case Int32Array:return l.DT_INT32;case Uint8Array:return l.DT_UINT8;case Uint16Array:return l.DT_UINT16;case Uint32Array:return l.DT_UINT32}}}var yd;function G7e(){return yd||(yd=new H7e,yd.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.2/").preload()),yd.decoderPending}async function q7e(e){if(yd){let t={attributeIDs:yd.defaultAttributeIDs,attributeTypes:yd.defaultAttributeTypes,useUniqueIDs:!1},r;try{r=await yd.decodeGeometry(new Int8Array(e).buffer,t)}catch(n){console.error(n)}if(r)return{index:r.index?{array:r.index.array}:void 0,attributes:Object.entries(r.attributes).map(([n,i])=>({name:n,itemSize:i.itemSize,array:i.array}))}}return null}async function Y7e(e,t){let[r,n]=uK(pP.deserialize(new Uint8Array(e)));RK(r);let i=[];r.scene.objects.traverse((o,l)=>{l.type==="Mesh"&&l.geometry.type==="NonParametricGeometry"&&l.geometry.data.draco!==void 0&&i.push(l)}),i.length&&await G7e();for(let o of i){let l=await q7e(Jn(o.geometry.data.draco));if(l){l.index&&(o.geometry.data.index={array:l.index.array,itemSize:1,normalized:!1,type:"Uint32Array"});let c={};l.attributes.forEach(({name:a,array:s,itemSize:u})=>{c[a]={array:s,itemSize:u,type:"Float32Array",normalized:!1}}),o.geometry.data.attributes=c,o.geometry.data.draco=void 0}}return n.result().data}var X7e=class{constructor(e,t,r,n,i,o,l){this.id=e,this.data=t,this.dataEvent=r,this.object=n,this.stage=!1,this.actions=So(r,t.actions,i,o,l,n)}disconnect(){xi(this.actions)}dispatchIn(){this.actions.Audio.forEach(e=>e.dispatchBasic()),this.actions.Video.forEach(e=>e.dispatchBasic()),this.actions.Create.forEach(e=>e.dispatch()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.Link.forEach(e=>e.dispatch()),this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.actions.Transition.forEach(e=>e.toggle()),this.actions.Animation.forEach(e=>e.play()),this.actions.SwitchCamera.forEach(e=>e.play()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch())}dispatchOut(){this.actions.Transition.forEach(e=>{e.toggle()})}},$7e=class extends ll{constructor(e,t){super(e),this.eventManager=t,this.breakpoints=[],this.resize=(r,n)=>{this.breakpoints.forEach(i=>{let o=yP.deviceToSize(i.data.size),l=i.dataEvent.orientation==="horizontal"?r:n,c;switch(i.data.operator){case"<":c=l<o[0];break;case">":c=l>o[0];break;case"<>":c=l>o[0]&&l<o[1];break}i.stage!==c&&(i.stage=c,i.stage?i.dispatchIn():i.dispatchOut())})},this.onResizeObserver=new ResizeObserver(r=>{for(let n of r){let{width:i,height:o}=n.contentRect;this.resize(i,o)}})}connect(){let{page:e,sharedAssets:t,domElement:r}=this.eventContext;this.onResizeObserver.observe(r),e.traverseEntity(n=>{var i;if(!(!n.visible||!((i=n.data)!=null&&i.events.length)))for(let{data:o}of n.data.events)o.disabled||o.type==="Resize"&&o.breakpoints.forEach(({data:l,id:c})=>{try{let a=new X7e(c,l,o,n,e,t,this.eventManager);this.breakpoints.push(a)}catch{}})})}disconnect(){this.onResizeObserver.disconnect(),this.breakpoints.forEach(e=>{e.disconnect()}),this.breakpoints=[]}},K7e=class{constructor(e,t,r,n,i){this.publish=e,this.controlsManager=t,this.animationControls=r,this.eventContext=n,this.sharedVariables=i,this.isEnabled=!1,this.activateCount=0,this.needsMouse=!1,this.needsRaycast=!1,this.onTouchMovePreventScroll=o=>{(o.touches.length>1||this.preventTouchScroll)&&o.preventDefault()},this.onMouseWheelPreventScroll=o=>{this.preventScroll&&o.preventDefault()},this.onMouseMove=o=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(o),pressed:o.buttons>0}},this.onMouseDown=o=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(o),pressed:!0}},this.onMouseUp=o=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(o),pressed:!1}},this.getMousePosition=o=>{var s;let{domRect:l}=this.eventContext,{pageX:c,pageY:a}=((s=o.touches)==null?void 0:s.length)>0?o.touches[0]:o;return{x:c-(l.left+window.scrollX),y:a-(l.top+window.scrollY)}},this.stopRaycast=e.stopRaycast,this.preventScroll=e.preventScroll,this.preventTouchScroll=e.preventTouchScroll,this.hideCursor=e.hideCursor,this.requestRender=n.requestRender}activate(){if(this.isEnabled)return;this.isEnabled=!0,this.initializeActionsDependentStates(),this.needsMouse&&(this.eventContext.domElement.addEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.addEventListener("pointerdown",this.onMouseDown)),this.handlers={Spline:new NBe(this.eventContext),DynamicVariable:new g7e(this.eventContext,this.sharedVariables,this,this.needsMouse,this.needsRaycast),Conditional:new GBe(this.eventContext,this),Start:new p7e(this.eventContext,this),Basic:new FBe(this.eventContext,this,this.needsRaycast),MouseHover:new c7e(this.eventContext,this),Scroll:new h7e(this.eventContext,this),Follow:new t7e(this.eventContext,this),DragDrop:new KBe(this.eventContext,this),LookAt:new a7e(this.eventContext),Resize:new $7e(this.eventContext,this)};let{page:e,domElement:t,eventElement:r}=this.eventContext;this.hideCursor&&(t.style.cursor="none"),e.traverseEntity(n=>{n.addEventListener("requestRender",this.requestRender)}),Object.values(this.handlers).forEach(n=>n.connect()),t.addEventListener("wheel",this.onMouseWheelPreventScroll),t.addEventListener("touchmove",this.onTouchMovePreventScroll),this.activateCount++}deactivate(){var r;if(!this.isEnabled)return;this.isEnabled=!1,this.eventContext.domElement.removeEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.removeEventListener("pointerdown",this.onMouseDown),this.eventContext.domElement.removeEventListener("pointerup",this.onMouseUp),this.eventContext.sharedAssets.mouseProperty=null,this.eventContext.sharedAssets.raycastProperty=null;let{page:e,domElement:t}=this.eventContext;t.style.cursor="",Object.values(this.handlers).forEach(n=>n.disconnect()),(r=this.controlsManager.gameControl)==null||r.disposeActions(),this.controlsManager.disconnectEvents(),e.traverseEntity(n=>{n.removeEventListener("requestRender",this.requestRender),n.destroyedInAction=!1}),t.removeEventListener("touchmove",this.onTouchMovePreventScroll),t.removeEventListener("wheel",this.onMouseWheelPreventScroll),this.animationControls.onExitPlayMode()}get isPaused(){return this.isEnabled}pause(){this.deactivate()}resume(){this.activate()}reset(){this.deactivate(),this.activate(),this.controlsManager.page.updateMatrixWorld(!0),this.controlsManager.rebuildBVH()}updateUseWindowEvents(e){let t=this.isEnabled;t&&this.deactivate(),this.eventContext.useWindowEvents=e,t&&this.activate()}initializeActionsDependentStates(){let e=this.eventContext.sharedAssets;e.resetDynamicVariablePlayState();let t=r=>{if(r.data.type==="Conditional"&&(r.data.ifActions.forEach(t),r.data.elseActions.forEach(t)),r.data.type==="Conditional"||r.data.type==="SetVariable")for(let n of r.data.type==="Conditional"?r.data.condition:r.data.expression)"id"in n&&Array.isArray(n.id)&&(n.id[0]==="mouse"&&(this.needsMouse=!0),n.id[0]==="raycast"&&(this.needsRaycast=!0));r.data.type==="DynamicVariablePlay"&&r.data.variableId!==""&&(r.data.mode==="Play"||r.data.mode==="PlayPause"||r.data.mode==="Toggle")&&e.setDynamicVariablePlayState(r.data.variableId,"Stopped")};this.eventContext.page.traverseEntity(r=>{var n;if((n=r.data)!=null&&n.events.length){for(let i of r.data.events)if(!i.data.disabled)if(i.data.type==="VariableChange"&&(i.data.variableId==="mouseProperty"&&(this.needsMouse=!0),i.data.variableId==="raycastProperty"&&(this.needsRaycast=!0)),i.data.type==="Conditional")for(let o of["inActions","outActions"])i.data[o].forEach(t);else if(i.data.type==="DragDrop")for(let o of["drag","drop"])i.data.dragDropActions[o].forEach(t);else if(i.data.type==="GameControl")for(let o of["idle","move","jump","run"])i.data.gameActions[o].forEach(t);else if(i.data.type==="Resize")for(let o of i.data.breakpoints)o.data.actions.forEach(t);else i.data.type==="LookAt"||i.data.actions.forEach(t)}})}},Q7e=class{constructor(e,t,r,n,i){this._aspect=1,this.enableResponsive=!1,this._renderer=e,this._camera=t,this._frameSize=new oe().copy(r),this._editorSize=new oe().copy(n),this._aspect=t.aspect,this._fov=i??t.fov}set frameSize(e){this._frameSize.copy(e)}updateRenderer(){!this._renderer||this._renderer.setSize(this._frameSize.x,this._frameSize.y)}updateViewport(){if(!this._renderer||!this._camera||this._camera.cameraType!=="PerspectiveCamera")return;let e=this._frameSize.x,t=this._frameSize.y,r=this._editorSize.y;this._aspect=e/t,t<=r&&(this._camera.zoom*=r/t),this._renderer.setViewport(0,0,e,t)}updateCamera(e=!0){if(this._camera)if(this._camera.cameraType==="PerspectiveCamera"){let t=this._frameSize.y,r=this._editorSize.y,n=this._fov;if(e&&t>r){let i=J7e(t,1080,2160,1,15)/100;n*=t/r,n*=1-i}this._camera.aspect=this._aspect,this._camera.fov=n,this._camera.updateProjectionMatrix()}else this._camera.setViewplaneSize(this._frameSize.x,this._frameSize.y,this.enableResponsive)}setCamera(e){this._camera=e,this._aspect=e.aspect,this._fov=e.fov}revert(){let e=window.innerWidth,t=window.innerHeight;this._renderer&&(this._renderer.setViewport(0,0,e,t),this._renderer.setSize(e,t)),this._camera&&(this._camera.aspect=e/t,this._camera.fov=this._fov,this._camera.setViewplaneSize(e,t,this.enableResponsive),this._camera.updateProjectionMatrix())}};function J7e(e,t,r,n,i){return(e-t)/(r-t)*(i-n)+n}var Z7e=class{get sharedAssets(){return this.shared}constructor(e,t={}){this.shared=new C6(e.shared,t),this.scene=new R6(e.scene,this.sharedAssets),this.shared.setEntityOpContext({scene:this.scene,shared:this.shared})}reset(e,t){this.scene.clearScene(),this.sharedAssets.reset(e.shared),this.scene.resetAfterClear(e.scene,this.sharedAssets)}resetPersonalCameraFromDocumentData(){for(let e of this.scene.children)e instanceof Rd&&e.personalCamera.updateState(e.data.camera,{scene:this.scene,shared:this.shared})}dispose(){this.scene.dispose(),this.shared.dispose()}gc(){this.shared.geometryCache.startGc(),this.shared.geometryCache2.startGc(),this.scene.traverseEntity(e=>{e instanceof bo&&e.markGeometryAsReachable(this.shared)}),this.shared.geometryCache.endGc(),this.shared.geometryCache2.endGc()}},eFe=class{constructor({x:e=10,y:t=10}){this._startTime=0;let r=document.getElementById("spe-perfs");r?this.element=r:(this.element=document.createElement("div"),document.body.appendChild(this.element),this.element.style.position="absolute",this.element.style.zIndex="10000",this.element.style.fontFamily="monospace",this.element.style.background="black",this.element.style.color="white",this.element.style.padding="10px",this.element.style.opacity="0.5",this.element.style.fontSize="11px",this.element.setAttribute("id","spe-perfs")),this.element.style.left=`${e}px`,this.element.style.top=`${t}px`}dispose(){var e;(e=this.element.parentElement)==null||e.removeChild(this.element)}start(){this._startTime=performance.now()}end(){let e=performance.now()-this._startTime;this.element.innerHTML=e.toFixed(3)+" ms"}};function tFe(e){let t;if(e.index)for(let r=0;r<e.index.array.length;r+=3)t=e.index.array[r],e.index.array[r]=e.index.array[r+2],e.index.array[r+2]=t}function py(e){return e instanceof m1?"SubdivObject":e.geometry.type==="NonParametricGeometry"?"NonParametric":"Mesh"}function rFe(e,t){let r={};return e.traverseEntity(n=>{var a;if(!n.visible||!(n instanceof ea)||n.type!=="Mesh"||Array.isArray(n.material)||n.states&&Object.keys(n.states).length)return;let i=n.parent;for(;i;){if(i instanceof ea&&n.states&&Object.keys(n.states).length)return;i=i.parent}let o=n.material.uuid,l=t.shared.materials[o];if(l){if(!$i.isMergable(l))return}else{let s=(a=t.scene.objects.get(n.uuid))==null?void 0:a.data;if(s&&"material"in s&&typeof s.material!="string"){if(!$i.isMergable(s.material))return;o=$i.getHash(s.material)}}r[o]||(r[o]={});let c=r[o][py(n)];if(c){if(c.push(n),n.cloner)for(let s of n.cloner.children)c.push(s)}else if(r[o][py(n)]=[n],n.cloner)for(let s of n.cloner.children)r[o][py(n)].push(s)}),r}function nFe(e){let t=0;return Object.values(e).forEach(r=>{Object.values(r).forEach(n=>{let i=n.length;i>t&&(t=i)})}),t}function iFe(e,t){let r=rFe(t,e),n=nFe(r),i=new Array(n),o=0,l=new Array(n),c=0,a=new Array(n),s=0,u=new Array(n),d=0;for(let[h,f]of Object.entries(r))for(let m of Object.values(f)){if(c=0,s=0,m.forEach(g=>{g instanceof ea&&(l[c++]=g.geometry.clone(),a[s++]=g)}),s<2)continue;for(let g=0;g<s;g++)a[g].updateWorldMatrix(!0,!1),l[g].applyMatrix4(a[g].matrixWorld),a[g].matrixWorld.determinant()<0&&tFe(l[g]);let p=Vh(l.slice(0,c),!1);if(p){let g;switch(h){case"SubdivObject":{console.warn("Turning subdiv object into mesh"),g=new vo(p,a[0].material);break}default:{g=new vo(p,a[0].material);break}}g.castShadow=a[0].castShadow,g.receiveShadow=a[0].receiveShadow,t.add(g);let v=x=>{d=0;for(let y of x)y.children&&v(y.children),y instanceof ea&&(Array.isArray(y.material)||r[y.material.uuid]&&r[y.material.uuid][py(y)]&&r[y.material.uuid][py(y)].length>1||(u[d++]=y));for(let y=0;y<d;y++)t.attach(u[y])};for(let x=0;x<s;x++){let y=a[x];v(y.children),i[o++]=y}}}for(let h=0;h<o;h++)i[h].removeFromParent()}var oFe=Ai(Dxe(),1),aFe=new oe;function sFe(e){let t="The Spline Runtime only accepts .splinecode files that are generated from Spline export panel.";e.endsWith(".spline")?console.warn(t+" The .spline files are only meant to be used by the Editor."):e.endsWith(".splinecode")||console.warn(t)}var lFe=class{constructor(e,{renderOnDemand:t,renderMode:r="auto"}={}){this._viewportMode=1,this._viewportWidth=window.innerWidth,this._viewportHeight=window.innerHeight,this._proxyObjectCache=new Map,this._variablesCache=new Map,this._isPaused=!1,this._renderRequested=!1,this._skipRender=!1,this.time=performance.now(),this.dt=0,this.currentTAAFrame=0,this.disposed=!1,this._requestRenderAutoMode=()=>{this._skipRender=!1},this.requestRender=()=>{this._renderRequested=!0},this.render=n=>{var i,o,l,c,a,s,u,d,h,f,m,p;if(this.time=n,this._lastTime&&(this.dt=this.time-this._lastTime),this._lastTime=this.time,(i=this._perfs)==null||i.start(),!this._renderer){(o=this._perfs)==null||o.end();return}if(!this._isPaused&&(this.renderMode==="manual"&&!this._renderRequested||this.renderMode==="auto"&&this._skipRender)){(l=this._perfs)==null||l.end();return}if(this._renderRequested=!1,this._skipRender=!0,this._controls&&(this._skipRender=this._controls.update(this.dt)),this._eventManager&&((c=this._eventManager.handlers)!=null&&c.Start.hasVideoAction||(a=this._eventManager.handlers)!=null&&a.Basic.hasVideoAction||(s=this._eventManager.handlers)!=null&&s.Conditional.hasVideoAction)&&(this._skipRender=!1),(u=this._animationControls)==null||u.update(this.dt),this._skipRender?(this.currentTAAFrame++,this.currentTAAFrame<32?this._skipRender=!1:this.currentTAAFrame=0):this.currentTAAFrame=0,this._scene&&this._scene.activeCamera!==this._camera&&(this._camera=this._scene.activeCamera),(d=this._eventManager)!=null&&d.isEnabled&&(((h=this._eventManager.handlers)==null?void 0:h.Follow).onAnimationFrameDamping(),((f=this._eventManager.handlers)==null?void 0:f.LookAt).onAnimationFrameDamping(),((m=this._eventManager.handlers)==null?void 0:m.DragDrop).onAnimationFrameDamping()),this._scene&&this._camera){if(this._scene.pathConstraints.applyConstraints(this._scene),this._renderer.sceneTransitionTimeRemaining>0){this._renderer.sceneTransitionTimeRemaining-=this.dt;let g=1-this._renderer.sceneTransitionTimeRemaining/this._renderer.sceneTransitionDuration;this._renderer.pipeline.sceneTransitionPass.uniforms.mixRatio.value=g,this._skipRender=!1}else this._renderer.pipeline.sceneTransitionFromTexture=null;this._renderer.renderSplineScene(this._scene,this._camera)}this.canvas.dispatchEvent(this._renderedEvent),(p=this._perfs)==null||p.end()},this._resize=()=>{var n,i,o,l,c,a,s,u,d,h;if(this._renderer){if(this._viewportMode===1&&this._frameView&&(this._frameView.frameSize=aFe.set(this._viewportWidth,this._viewportHeight)),this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1),this._camera=(n=this._scene)==null?void 0:n.activeCamera,(s=this._scene)==null||s.updateViewPlaneSize(((o=(i=this._frameView)==null?void 0:i.frameSize)==null?void 0:o.x)??this._viewportWidth,((c=(l=this._frameView)==null?void 0:l.frameSize)==null?void 0:c.y)??this._viewportHeight,((a=this._frameView)==null?void 0:a.enableResponsive)??!1),this._camera){let f=Object.values(((u=this._data)==null?void 0:u.frames)??{})[0].preset??"fullscreen";(d=this._frameView)==null||d.setCamera(this._camera),(h=this._frameView)==null||h.updateCamera(f!=="fullscreen"),this._camera.cameraType==="PerspectiveCamera"&&(this._camera.aspect=this._viewportWidth/this._viewportHeight),this._camera.updateProjectionMatrix()}this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect()),this._requestRenderAutoMode()}},this._debouncedResize=Jj(this._resize,10),this.canvas=e,this.renderMode=t?"auto":r,this._renderedEvent=new CustomEvent("rendered",{bubbles:!0}),Object.defineProperty(this._renderedEvent,"target",{writable:!1,value:this}),window.location.search.includes("perfs")&&(this._perfs=new eFe({x:10,y:10})),Sje(e)}async load(e,t,r){sFe(e),this.disposed=!1;let n=await(await fetch(e,r)).arrayBuffer();await this.start(n,{variables:t})}async start(e,{interactive:t=!0,variables:r}={}){var c,a,s;if(this.disposed)return;let n=await Y7e(e);this._data=n,n.version&&(0,oFe.default)(n.version,"0.9.526")>0&&console.warn("Your .splinecode file is more recent than the library. Please upgrade @splinetool/runtime to the latest version."),await Promise.all([w7(n)&&nRe(),q8e(n)&&ZOe(),u1.physicsEnabled(n.scene.objects)&&Tje(),m7(n)&&I8e(),T7e(n)&&Cje()].filter(Boolean)),(c=this._eventManager)==null||c.deactivate(),(a=this._controls)==null||a.deactivate(),(s=this._scene)==null||s.dispose();let i=new Z7e(n);if(i.resetPersonalCameraFromDocumentData(),this._scene=i.scene,this._sharedAssetsManager=i.sharedAssets,this._camera=this._scene.activeCamera,window.location.search.includes("merge-geometries")){let u=performance.now();iFe(n,i.scene);let d=performance.now();console.log("Merged geometries in ",d-u," ms")}w7(n)&&this._scene.traverse(u=>{Jc(u)&&u.recomputeBoolean()}),this._sharedAssetsManager.setRequestRender(()=>{var u;this._requestRenderAutoMode(),(u=this._scene)==null||u.traverse(d=>{d instanceof $s&&d.pendingMediaLoad&&d.update()})});let o=Object.keys(n.shared.fonts).map(u=>this._sharedAssetsManager.getFont(u).loadingPromise);Promise.all(o).then(()=>{i.scene.markNeedsUpdateRendererDirty(),this._requestRenderAutoMode()}),m7(n)&&B7e(n)&&await Promise.all(o),this._scene.rewriteEventsBeforeGoToPlayMode(),Y6(this._scene.activePage,this._sharedAssetsManager),this._renderer||(this._renderer=new wNe({canvas:this.canvas,antialias:!1,alpha:!0,stencil:!1,depth:!1,powerPreference:"high-performance"}),this._renderer.hdTransmission=n.scene.publish.hdTransmission===!0,this._renderer.setPixelRatio(window.devicePixelRatio),this._renderer.pipeline.addEventListener("smaaloaded",this._requestRenderAutoMode)),this._scene.initializeSplatViewer(this._renderer),n.scene.blueNoiseTextureData!==void 0&&this._renderer.pipeline.updateBlueNoiseTexture(n.scene.blueNoiseTextureData);let l=Object.values(n.frames)[0];if(this._frameView?this._frameView.setCamera(this._camera):(l.preset==="fullscreen"?(this._viewportMode=1,this.canvas.style.display="block",this.canvas.parentElement&&(this._viewportWidth=this.canvas.parentElement.clientWidth||300,this.canvas.style.width="100%"),this.canvas.parentElement&&(this._viewportHeight=this.canvas.parentElement.clientHeight||150,this.canvas.style.height="100%")):(this._viewportMode=2,this._viewportWidth=l.size[0],this._viewportHeight=l.size[1],this.canvas.style.width=`${this._viewportWidth}px`,this.canvas.style.height=`${this._viewportHeight}px`),this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1),this._frameView=new Q7e(this._renderer,this._camera,new oe(this._viewportWidth,this._viewportHeight),new oe(window.innerWidth,window.innerHeight)),this._frameView.enableResponsive=(l.allowResponsive??!1)&&l.preset==="fullscreen"),t){let u=new LBe(this._renderer,this.data.scene.publish,this._scene,()=>this._scene.activeCamera,this._sharedAssetsManager,this._requestRenderAutoMode,!0,l);this._scene.updateMatrixWorld(!0),this._controls=new F7e(u),this._animationControls=new V7e(this._scene,this._requestRenderAutoMode),this._eventManager=new K7e(n.scene.publish,this._controls,this._animationControls,u,n.shared.variables),this._eventManager.activate(),this._controls.activate(this._eventManager)}this._resize(),r!==void 0&&this.setVariables(r),this.dt===0&&(this.render(performance.now()),setTimeout(()=>{var u;(u=this._renderer)==null||u.setAnimationLoop(this.render)},0)),this._resizeObserverTimeout=setTimeout(()=>{!this._resizeObserver&&this.canvas.parentElement&&(this._resizeObserver=new ResizeObserver(()=>{this._viewportWidth=this.canvas.clientWidth,this._viewportHeight=this.canvas.clientHeight,this._debouncedResize()}),this._resizeObserver.observe(this.canvas.parentElement))},300)}setVariables(e){if(this._data!==void 0){let t=Object.entries(e);for(let[r,n]of t)this.setVariable(r,n)}}setVariable(e,t){var n;let r=this._getVariableByName(e);if(r&&!("dynamicVariableType"in r.data)){let i=t;typeof r.data.value=="number"?i=typeof t=="number"?t:typeof t=="boolean"?t===!0?1:0:parseFloat(t):typeof r.data.value=="boolean"?i=typeof t=="number"?!!t:typeof t=="boolean"?t:t.toLocaleLowerCase()==="false"?!1:!!t:typeof r.data.value!="string"&&r.data.value.textValue!==void 0&&(i=t.toString());let o=typeof i=="string"?{textValue:i}:i;(n=this._sharedAssetsManager)==null||n.updateVariable(r.id,o),this.requestRender(),this._requestRenderAutoMode()}else r===void 0?console.warn(`No variable named ${e} was found in your Spline file. Make sure to create it from Spline editor.`):"dynamicVariableType"in r.data&&console.warn(`Dynamic variables like ${e} cannot be updated from code.`)}getVariables(){let e={};return this._data&&this._data.shared.variables.forEach(t=>{e[t.data.name]===void 0&&(e[t.data.name]=this._getVariableValue(this._sharedAssetsManager.getVariable(t.id)))}),e}getVariable(e){let t=this._getVariableByName(e);if(t){let r=this._sharedAssetsManager.getVariable(t.id);return this._getVariableValue(r)}}_getVariableValue(e){return typeof e!="string"&&ba.isTextValue(e)?ba.getDisplayedValue(e):e}_getVariableByName(e){if(this._data){if(this._variablesCache.has(e))return this._variablesCache.get(e);let t=this._data.shared.variables.find(r=>r.data.name===e);return t&&this._variablesCache.set(e,t),t}}findObjectById(e){var r;let t=(r=this._scene)==null?void 0:r.getObjectByProperty("uuid",e);return this._createProxyObject(t)}findObjectByName(e){var r;let t=(r=this._scene)==null?void 0:r.getObjectByName(e);return this._createProxyObject(t)}getAllObjects(){var t;let e=[];return(t=this._scene)==null||t.traverseEntity(r=>{if(r.uuid!==l0&&!this._scene.isInvisibleObjects(r)&&!(r instanceof Rd)){let n=this._createProxyObject(r);n&&e.push(n)}}),e}getSplineEvents(){var e,t;return((t=(e=this._eventManager)==null?void 0:e.handlers)==null?void 0:t.Spline).splineEvents}emitEvent(e,t){var r;(r=this.findObjectById(t)||this.findObjectByName(t))==null||r.emitEvent(e)}emitEventReverse(e,t){var r;(r=this.findObjectById(t)||this.findObjectByName(t))==null||r.emitEventReverse(e)}addEventListener(e,t){this.canvas.addEventListener(e,t)}removeEventListener(e,t){this.canvas.removeEventListener(e,t)}setZoom(e){var t,r;((t=this._controls)==null?void 0:t.orbitControls)instanceof nZ&&((r=this._controls)==null||r.orbitControls.zoomOut(e))}get eventManager(){return this._eventManager}get controls(){return this._controls}setSize(e,t){this._viewportWidth=e,this._viewportHeight=t,this._viewportMode=2,this._resize()}setBackgroundColor(e){var l;let{r:t,g:r,b:n,a:i}={r:0,g:0,b:0,a:1},o=new Yo(t,r,n,i);try{o.setStyle(e)}catch{console.error("This is not a valid css color",e)}(l=this._scene)==null||l.activePage.setBackgroundColor(o),this._requestRenderAutoMode()}dispose(){var e,t,r,n,i,o,l;this.disposed=!0,(e=this._eventManager)==null||e.deactivate(),(t=this._scene)==null||t.dispose(),(r=this._sharedAssetsManager)==null||r.dispose(),this._proxyObjectCache.forEach(c=>{BN.unsubscribe(c)}),this._variablesCache.clear(),(n=this._renderer)==null||n.setAnimationLoop(null),(i=this._renderer)==null||i.dispose(),this._renderer=void 0,(o=this._sharedAssetsManager)==null||o.dispose(),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=void 0),this._resizeObserverTimeout!==void 0&&clearTimeout(this._resizeObserverTimeout),this.canvas.style.width="",this.canvas.style.height="",this.canvas.removeAttribute("width"),this.canvas.removeAttribute("height"),this._frameView&&(this._frameView=void 0),(l=this._controls)==null||l.deactivate(),Eje(this.canvas)}get isStopped(){return this._isPaused}stop(){var e,t,r;this._isPaused||((e=this._renderer)==null||e.setAnimationLoop(null),this._isPaused=!0,(t=this._eventManager)==null||t.pause(),(r=this._controls)!=null&&r.orbitControls&&(this._controls.orbitControls.enabled=!1))}play(){var e,t,r;!this._isPaused||(this._isPaused=!1,(e=this._eventManager)==null||e.resume(),(t=this._controls)!=null&&t.orbitControls&&(this._controls.orbitControls.enabled=!0),(r=this._renderer)==null||r.setAnimationLoop(this.render))}setGlobalEvents(e){var t;(t=this._eventManager)==null||t.updateUseWindowEvents(e)}get data(){return this._data}_createProxyObject(e){var i;if(e==null)return;if(this._proxyObjectCache.has(e.uuid))return this._proxyObjectCache.get(e.uuid);let t;e.traverseAncestors(o=>{o instanceof Rd&&(t=o.name)});let r={name:e.name,uuid:e.uuid,visible:e.visible,intensity:e.intensity,position:e.position,rotation:e.rotation,scale:e.scale,type:e.data.type,page:t,parentUuid:e.parent instanceof Rd||e instanceof R6||(i=e.parent)==null?void 0:i.uuid,emitEvent(o){e.dispatchEvent({type:"userEvent",eventName:o})},emitEventReverse(o){e.dispatchEvent({type:"userEvent",eventName:o,reverse:!0})}},n=BN(r,(o,l)=>{var c;typeof e[o]!="object"&&((c=Object.getOwnPropertyDescriptor(e,o))!=null&&c.writable)&&(e[o]=l),this._requestRenderAutoMode(),e.updateMatrix()});return this._proxyObjectCache.set(e.uuid,n),n}},tw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},T5={},cFe={get exports(){return T5},set exports(e){T5=e}},pv={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zF;function uFe(){if(zF)return pv;zF=1;var e=Et,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,a,s){var u,d={},h=null,f=null;s!==void 0&&(h=""+s),a.key!==void 0&&(h=""+a.key),a.ref!==void 0&&(f=a.ref);for(u in a)n.call(a,u)&&!o.hasOwnProperty(u)&&(d[u]=a[u]);if(c&&c.defaultProps)for(u in a=c.defaultProps,a)d[u]===void 0&&(d[u]=a[u]);return{$$typeof:t,type:c,key:h,ref:f,props:d,_owner:i.current}}return pv.Fragment=r,pv.jsx=l,pv.jsxs=l,pv}(function(e){e.exports=uFe()})(cFe);const P5=T5.jsx;var dFe="Expected a function",NF=NaN,hFe="[object Symbol]",fFe=/^\s+|\s+$/g,pFe=/^[-+]0x[0-9a-f]+$/i,mFe=/^0b[01]+$/i,gFe=/^0o[0-7]+$/i,vFe=parseInt,yFe=typeof tw=="object"&&tw&&tw.Object===Object&&tw,bFe=typeof self=="object"&&self&&self.Object===Object&&self,xFe=yFe||bFe||Function("return this")(),wFe=Object.prototype,_Fe=wFe.toString,SFe=Math.max,EFe=Math.min,UM=function(){return xFe.Date.now()};function AFe(e,t,r){var n,i,o,l,c,a,s=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(dFe);t=BF(t)||0,k5(r)&&(u=!!r.leading,d="maxWait"in r,o=d?SFe(BF(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function f(_){var S=n,E=i;return n=i=void 0,s=_,l=e.apply(E,S),l}function m(_){return s=_,c=setTimeout(v,t),u?f(_):l}function p(_){var S=_-a,E=_-s,C=t-S;return d?EFe(C,o-E):C}function g(_){var S=_-a,E=_-s;return a===void 0||S>=t||S<0||d&&E>=o}function v(){var _=UM();if(g(_))return x(_);c=setTimeout(v,p(_))}function x(_){return c=void 0,h&&n?f(_):(n=i=void 0,l)}function y(){c!==void 0&&clearTimeout(c),s=0,n=a=i=c=void 0}function b(){return c===void 0?l:x(UM())}function w(){var _=UM(),S=g(_);if(n=arguments,i=this,a=_,S){if(c===void 0)return m(a);if(d)return c=setTimeout(v,t),f(a)}return c===void 0&&(c=setTimeout(v,t)),l}return w.cancel=y,w.flush=b,w}function k5(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function CFe(e){return!!e&&typeof e=="object"}function MFe(e){return typeof e=="symbol"||CFe(e)&&_Fe.call(e)==hFe}function BF(e){if(typeof e=="number")return e;if(MFe(e))return NF;if(k5(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=k5(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(fFe,"");var r=mFe.test(e);return r||gFe.test(e)?vFe(e.slice(2),r?2:8):pFe.test(e)?NF:+e}var TFe=AFe;function PFe(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}const kFe=[],DFe={width:"100%",height:"100%"},jFe=G.forwardRef(function({className:e,children:t,debounceTime:r=300,ignoreDimensions:n=kFe,parentSizeStyles:i,enableDebounceLeadingCall:o=!0,resizeObserverPolyfill:l,...c},a){const s=G.useRef(null),u=G.useRef(0),[d,h]=G.useState({width:0,height:0,top:0,left:0}),f=G.useMemo(()=>{const m=Array.isArray(n)?n:[n];return TFe(p=>{h(g=>Object.keys(g).filter(v=>g[v]!==p[v]).every(v=>m.includes(v))?g:p)},r,{leading:o})},[r,o,n]);return G.useEffect(()=>{const m=l||window.ResizeObserver,p=new m(g=>{g.forEach(v=>{const{left:x,top:y,width:b,height:w}=(v==null?void 0:v.contentRect)??{};u.current=window.requestAnimationFrame(()=>{f({width:b,height:w,top:y,left:x})})})});return s.current&&p.observe(s.current),()=>{window.cancelAnimationFrame(u.current),p.disconnect(),f.cancel()}},[f,l]),P5("div",{style:{...DFe,...i},ref:PFe([a,s]),className:e,...c,children:t({...d,ref:s.current,resize:f})})}),IFe=G.forwardRef(({scene:e,style:t,onMouseDown:r,onMouseUp:n,onMouseHover:i,onKeyDown:o,onKeyUp:l,onStart:c,onLookAt:a,onFollow:s,onWheel:u,onLoad:d,renderOnDemand:h=!0,...f},m)=>{const p=G.useRef(null),[g,v]=G.useState(!0);return G.useEffect(()=>{v(!0);let x;const y=[{name:"mouseDown",cb:r},{name:"mouseUp",cb:n},{name:"mouseHover",cb:i},{name:"keyDown",cb:o},{name:"keyUp",cb:l},{name:"start",cb:c},{name:"lookAt",cb:a},{name:"follow",cb:s},{name:"scroll",cb:u}];if(p.current){x=new lFe(p.current,{renderOnDemand:h});async function b(){await x.load(e);for(let w of y)w.cb&&x.addEventListener(w.name,w.cb);v(!1),d==null||d(x)}b()}return()=>{for(let b of y)b.cb&&x.removeEventListener(b.name,b.cb);x.dispose()}},[e]),P5(jFe,{ref:m,parentSizeStyles:t,debounceTime:50,...f,children:()=>P5("canvas",{ref:p,style:{display:g?"none":"block"}})})}),iZ=()=>{const e=G.useRef(null);return F.jsxs("div",{className:"containera",children:[F.jsxs("div",{className:"headline",children:[F.jsx("div",{className:"head",children:F.jsx("h1",{children:"About Us"})}),F.jsx("div",{className:"model",children:F.jsx(IFe,{scene:"https://prod.spline.design/se8tMtBCFL4R1Myi/scene.splinecode",ref:e})})]}),F.jsxs("div",{className:"desc-ab",children:[F.jsx("p",{children:"Welcome to NextGen Career Hub  Where Innovation Meets Professional Growth. Founded with a vision to harness the power of AI and Blockchain for career advancement, our platform is dedicated to empowering professionals, especially women, through ground-breaking technologies."}),F.jsx("br",{}),F.jsx("p",{children:"We believe in creating a transformative space that nurtures talent, bridges workforce gaps, and supports career breaks, all while fostering an environment of growth and innovation. Join us on this journey of reshaping the professional landscape and discover your true potential at NextGen Career Hub."})]})]})},OFe="/ai_sc.jpg",RFe="/block.jpg",LFe="/CR.jpg",zFe="/EM.jpg",NFe=()=>{const[e,t]=G.useState(1),r=i=>{const o=i.target.getAttribute("data");console.log(o),t(o),console.log(e)},n=[{id:0,imageUrl:"",description:" "},{id:1,imageUrl:OFe,description:"Utilizing cutting-edge AI technology, this feature streamlines the hiring process by intelligently analyzing resumes. It ensures a perfect match between a candidate's skills and the job's requirements while minimizing biases, enhancing efficiency and fairness in recruitment."},{id:2,imageUrl:zFe,description:"This platform is dedicated to empowering women in their professional journeys. It offers mentorship opportunities, educational webinars, and a supportive community to help women navigate challenges and excel in their careers."},{id:3,imageUrl:LFe,description:"Designed to assist professionals returning from career breaks, this feature provides personalized AI-driven guidance, skill enhancement workshops, and re-entry strategies. It helps bridge the gap, ensuring a smooth transition back into the workforce."},{id:4,imageUrl:RFe,description:"This feature allows professionals to display their achievements through a Blockchain-verified portfolio. It ensures the authenticity and security of their work, building trust and enhancing the credibility of their professional profile"},{id:5,imageUrl:xX,description:"Introducing InfoBot, your dedicated interview assistant. Whether you have questions about our products, services, or any other topic, InfoBot is here to provide quick answers, in-depth information, and reliable support 24/7. Designed to enhance the interviewer's experience on our website by answering any queries related to interview or its process , InfoBot ensures a smooth and efficient interaction. It makes valuable information readily available, guiding you effortlessly through your journey."}];return F.jsxs("div",{className:"containerf",children:[F.jsxs("div",{className:"textf",children:[F.jsx("div",{className:"sm",children:F.jsx("span",{children:"Features "})}),F.jsx("div",{className:"headtxt",children:"What we are here to offer."}),F.jsx("div",{className:"list",children:F.jsxs("div",{className:"el",children:[F.jsx("span",{className:"num",children:"01"}),F.jsx("span",{className:"txt",data:1,onClick:r,children:"AI Resume Analysis"}),F.jsx("span",{className:"sym",children:">"})]})}),F.jsx("div",{className:"list",children:F.jsxs("div",{className:"el",children:[F.jsx("span",{className:"num",children:"02"}),F.jsx("span",{className:"txt",data:2,onClick:r,children:"Women's Empowerment Network"}),F.jsx("span",{className:"sym",children:">"})]})})," ",F.jsx("div",{className:"list",children:F.jsxs("div",{className:"el",children:[F.jsx("span",{className:"num",children:"03"}),F.jsx("span",{className:"txt",data:3,onClick:r,children:"Career Break Navigation"}),F.jsx("span",{className:"sym",children:">"})]})})," ",F.jsx("div",{className:"list",children:F.jsxs("div",{className:"el",children:[F.jsx("span",{className:"num",children:"04"}),F.jsx("span",{className:"txt",data:4,onClick:r,children:"Blockchain Project Showcase"}),F.jsx("span",{className:"sym",children:">"})]})}),F.jsx("div",{className:"list",children:F.jsxs("div",{className:"el",children:[F.jsx("span",{className:"num",children:"05"}),F.jsx("span",{className:"txt",data:5,onClick:r,children:"Info Bot"}),F.jsx("span",{className:"sym",children:">"})]})})]}),F.jsxs("div",{className:"comp",children:[F.jsx("div",{className:"im",children:F.jsx("img",{src:n[e].imageUrl,alt:""})}),F.jsx("div",{className:"desc",children:F.jsx("div",{className:"desc-t",children:n[e].description})})]})]})},oZ=()=>F.jsx("div",{className:"hero-main",children:F.jsxs("div",{className:"part2",children:[F.jsxs("div",{className:"hero-main-txt",children:[F.jsx("span",{style:{"--i":1},children:"T"}),F.jsx("span",{style:{"--i":2},children:"h"}),F.jsx("span",{style:{"--i":3},children:"i"}),F.jsx("span",{style:{"--i":4},children:"n"}),F.jsx("span",{style:{"--i":5},children:"K"}),F.jsx("span",{className:"black",style:{"--i":6},children:"|"}),F.jsx("span",{style:{"--i":7},children:"j"}),F.jsx("span",{style:{"--i":8},children:"o"}),F.jsx("span",{style:{"--i":9},children:"b"}),F.jsx("span",{className:"black",style:{"--i":10},children:"|"}),F.jsx("span",{style:{"--i":11},children:"t"}),F.jsx("span",{style:{"--i":12},children:"h"}),F.jsx("span",{style:{"--i":13},children:"i"}),F.jsx("span",{style:{"--i":14},children:"n"}),F.jsx("span",{style:{"--i":15},children:"k"}),F.jsx("span",{className:"black",style:{"--i":16},children:"|"}),F.jsx("span",{style:{"--i":17},children:"U"}),F.jsx("span",{style:{"--i":18},children:"s"}),F.jsx("span",{style:{"--i":19},children:"."}),F.jsx("span",{style:{"--i":20},children:"."})]}),F.jsx("span",{className:"hero-byline",children:"Empowering Professional Growth"}),F.jsx("div",{className:"txt1",children:"Come be a Part "}),F.jsx("div",{className:"txt2",children:" of the "}),F.jsx("div",{className:"txt1",children:"Journey"}),F.jsxs("div",{className:"hero-but",children:[" ",F.jsxs("button",{className:"readmore",children:[" ",F.jsx("span",{children:"Read More"})]}),F.jsxs("button",{className:"readmore1",children:[" ",F.jsx($h,{to:"/job",style:{textDecoration:"none",color:"skyblue"},children:F.jsx("span",{children:"Are you a Recruiter?"})})]})]})]})}),BFe=()=>F.jsxs("div",{className:"home",children:[F.jsx(oZ,{}),F.jsx(iZ,{}),F.jsx(NFe,{})]}),FFe=()=>{const[e,t]=G.useState(!0),{user:r}=wS();return F.jsx("div",{style:{display:"flex"},children:F.jsxs("nav",{className:"navigation",children:[F.jsx("a",{href:"/",className:"brand-name",children:"NextGen"}),F.jsx("button",{className:"hamburger",onClick:()=>t(!e),children:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"white",children:F.jsx("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z",clipRule:"evenodd"})})}),F.jsx("div",{className:e?"navigation-menu":"navigation-menu.expanded",children:F.jsxs("ul",{style:{listStyle:"none",paddingRight:"10px"},className:e?"navigation-menu_ul":"navigation-menu.expanded_ul",children:[F.jsx("li",{className:e?"navigation-menu_li":"navigation-menu.expanded_li",children:F.jsx("a",{href:"/home",className:e?"navigation-menu_li_a":"navigation-menu.expanded_li_a",children:"Home"})}),F.jsx("li",{className:e?"navigation-menu_li":"navigation-menu.expanded_li",children:F.jsx("a",{href:"/about",className:e?"navigation-menu_li_a":"navigation-menu.expanded_li_a",children:"About"})}),F.jsx("li",{className:e?"navigation-menu_li":"navigation-menu.expanded_li",children:F.jsx("a",{href:"/empower",className:e?"navigation-menu_li_a":"navigation-menu.expanded_li_a",children:"EmpowHer"})}),F.jsx("li",{children:!r&&F.jsx($h,{to:"/sign",className:e?"navigation-menu_li_a":"navigation-menu.expanded_li_a",children:"Sign In"})}),F.jsx("li",{children:r?F.jsx($h,{to:"/userProfile",children:F.jsx("span",{children:r.name})}):F.jsx($h,{to:"/auth",className:e?"navigation-menu_li_a":"navigation-menu.expanded_li_a",children:"Register"})})]})})]})})},UFe="/logo.jpg";function VFe(e){return Br({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 378.7c-73.4 0-133.3 59.9-133.3 133.3S438.6 645.3 512 645.3 645.3 585.4 645.3 512 585.4 378.7 512 378.7zM911.8 512c0-55.2.5-109.9-2.6-165-3.1-64-17.7-120.8-64.5-167.6-46.9-46.9-103.6-61.4-167.6-64.5-55.2-3.1-109.9-2.6-165-2.6-55.2 0-109.9-.5-165 2.6-64 3.1-120.8 17.7-167.6 64.5C132.6 226.3 118.1 283 115 347c-3.1 55.2-2.6 109.9-2.6 165s-.5 109.9 2.6 165c3.1 64 17.7 120.8 64.5 167.6 46.9 46.9 103.6 61.4 167.6 64.5 55.2 3.1 109.9 2.6 165 2.6 55.2 0 109.9.5 165-2.6 64-3.1 120.8-17.7 167.6-64.5 46.9-46.9 61.4-103.6 64.5-167.6 3.2-55.1 2.6-109.8 2.6-165zM512 717.1c-113.5 0-205.1-91.6-205.1-205.1S398.5 306.9 512 306.9 717.1 398.5 717.1 512 625.5 717.1 512 717.1zm213.5-370.7c-26.5 0-47.9-21.4-47.9-47.9s21.4-47.9 47.9-47.9 47.9 21.4 47.9 47.9a47.84 47.84 0 0 1-47.9 47.9z"}}]})(e)}function HFe(e){return Br({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]})(e)}function WFe(e){return Br({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 254.3c-30.6 13.2-63.9 22.7-98.2 26.4a170.1 170.1 0 0 0 75-94 336.64 336.64 0 0 1-108.2 41.2A170.1 170.1 0 0 0 672 174c-94.5 0-170.5 76.6-170.5 170.6 0 13.2 1.6 26.4 4.2 39.1-141.5-7.4-267.7-75-351.6-178.5a169.32 169.32 0 0 0-23.2 86.1c0 59.2 30.1 111.4 76 142.1a172 172 0 0 1-77.1-21.7v2.1c0 82.9 58.6 151.6 136.7 167.4a180.6 180.6 0 0 1-44.9 5.8c-11.1 0-21.6-1.1-32.2-2.6C211 652 273.9 701.1 348.8 702.7c-58.6 45.9-132 72.9-211.7 72.9-14.3 0-27.5-.5-41.2-2.1C171.5 822 261.2 850 357.8 850 671.4 850 843 590.2 843 364.7c0-7.4 0-14.8-.5-22.2 33.2-24.3 62.3-54.4 85.5-88.2z"}}]})(e)}const GFe=()=>F.jsxs("footer",{className:"footer",children:[F.jsxs("div",{className:"container footer__container",children:[F.jsxs("article",{className:"footer__section",children:[F.jsxs("div",{className:"footer__brand",children:[F.jsx("img",{src:UFe,alt:"logo",className:"foot_img"}),F.jsx("p",{children:"NextGEN"})]}),F.jsxs("div",{className:"footer__socials",children:[F.jsx("a",{href:"https://www.linkedin.com/in",target:"_blank",rel:"noreferrer noopener",children:F.jsx(PG,{className:"footer-icon"})}),F.jsx("a",{href:"https://facebook.com/",target:"_blank",rel:"noreferrer noopener",children:F.jsx(Fle,{className:"footer-icon"})}),F.jsx("a",{href:"https://twitter.com/",target:"_blank",rel:"noreferrer noopener",children:F.jsx(WFe,{className:"footer-icon"})}),F.jsx("a",{href:"https://www.instagram.com",target:"_blank",rel:"noreferrer noopener",children:F.jsx(VFe,{className:"footer-icon"})})]})]}),F.jsxs("article",{className:"footer__section",children:[F.jsx(HFe,{className:"footer-icon"}),F.jsx("input",{type:"text",name:"",id:"",placeholder:"Search"}),F.jsx("button",{children:"Subscribe Here"})]})]}),F.jsx("div",{className:"footer__copyright",children:F.jsx("small",{children:"Made with  in 2024 "})})]}),qFe=()=>F.jsxs("div",{children:[F.jsx(FFe,{}),F.jsx(Xne,{}),F.jsx(GFe,{})]});function YFe(e){return Br({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm43.4 289.1c7.5 7.5 7.5 19.8 0 27.3-3.8 3.8-8.7 5.6-13.6 5.6s-9.9-1.9-13.7-5.7l-94-94.3c-6.9-7.6-6.7-19.3.6-26.6l95.4-95.7c7.5-7.5 19.7-7.6 27.3 0 7.5 7.5 7.6 19.7 0 27.3l-81.9 81 79.9 81.1z"}}]})(e)}function XFe(e){return Br({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 256c0 114.9 93.1 208 208 208s208-93.1 208-208S370.9 48 256 48 48 141.1 48 256zm244.5 0l-81.9-81.1c-7.5-7.5-7.5-19.8 0-27.3s19.8-7.5 27.3 0l95.4 95.7c7.3 7.3 7.5 19.1.6 26.6l-94 94.3c-3.8 3.8-8.7 5.7-13.7 5.7-4.9 0-9.9-1.9-13.6-5.6-7.5-7.5-7.6-19.7 0-27.3l79.9-81z"}}]})(e)}function $Fe(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const KFe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,QFe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JFe={};function FF(e,t){return(JFe.jsx?QFe:KFe).test(e)}const ZFe=/[ \t\n\f\r]/g;function eUe(e){return typeof e=="object"?e.type==="text"?UF(e.value):!1:UF(e)}function UF(e){return e.replace(ZFe,"")===""}class nb{constructor(t,r,n){this.property=t,this.normal=r,n&&(this.space=n)}}nb.prototype.property={};nb.prototype.normal={};nb.prototype.space=null;function aZ(e,t){const r={},n={};let i=-1;for(;++i<e.length;)Object.assign(r,e[i].property),Object.assign(n,e[i].normal);return new nb(r,n,t)}function D5(e){return e.toLowerCase()}class ws{constructor(t,r){this.property=t,this.attribute=r}}ws.prototype.space=null;ws.prototype.boolean=!1;ws.prototype.booleanish=!1;ws.prototype.overloadedBoolean=!1;ws.prototype.number=!1;ws.prototype.commaSeparated=!1;ws.prototype.spaceSeparated=!1;ws.prototype.commaOrSpaceSeparated=!1;ws.prototype.mustUseProperty=!1;ws.prototype.defined=!1;let tUe=0;const Yt=Uf(),Vn=Uf(),sZ=Uf(),qe=Uf(),Ur=Uf(),$m=Uf(),sa=Uf();function Uf(){return 2**++tUe}const j5=Object.freeze(Object.defineProperty({__proto__:null,boolean:Yt,booleanish:Vn,commaOrSpaceSeparated:sa,commaSeparated:$m,number:qe,overloadedBoolean:sZ,spaceSeparated:Ur},Symbol.toStringTag,{value:"Module"})),VM=Object.keys(j5);class $6 extends ws{constructor(t,r,n,i){let o=-1;if(super(t,r),VF(this,"space",i),typeof n=="number")for(;++o<VM.length;){const l=VM[o];VF(this,VM[o],(n&j5[l])===j5[l])}}}$6.prototype.defined=!0;function VF(e,t,r){r&&(e[t]=r)}const rUe={}.hasOwnProperty;function h0(e){const t={},r={};let n;for(n in e.properties)if(rUe.call(e.properties,n)){const i=e.properties[n],o=new $6(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(o.mustUseProperty=!0),t[n]=o,r[D5(n)]=n,r[D5(o.attribute)]=n}return new nb(t,r,e.space)}const lZ=h0({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),cZ=h0({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function uZ(e,t){return t in e?e[t]:t}function dZ(e,t){return uZ(e,t.toLowerCase())}const hZ=h0({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:dZ,properties:{xmlns:null,xmlnsXLink:null}}),fZ=h0({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Vn,ariaAutoComplete:null,ariaBusy:Vn,ariaChecked:Vn,ariaColCount:qe,ariaColIndex:qe,ariaColSpan:qe,ariaControls:Ur,ariaCurrent:null,ariaDescribedBy:Ur,ariaDetails:null,ariaDisabled:Vn,ariaDropEffect:Ur,ariaErrorMessage:null,ariaExpanded:Vn,ariaFlowTo:Ur,ariaGrabbed:Vn,ariaHasPopup:null,ariaHidden:Vn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ur,ariaLevel:qe,ariaLive:null,ariaModal:Vn,ariaMultiLine:Vn,ariaMultiSelectable:Vn,ariaOrientation:null,ariaOwns:Ur,ariaPlaceholder:null,ariaPosInSet:qe,ariaPressed:Vn,ariaReadOnly:Vn,ariaRelevant:null,ariaRequired:Vn,ariaRoleDescription:Ur,ariaRowCount:qe,ariaRowIndex:qe,ariaRowSpan:qe,ariaSelected:Vn,ariaSetSize:qe,ariaSort:null,ariaValueMax:qe,ariaValueMin:qe,ariaValueNow:qe,ariaValueText:null,role:null}}),nUe=h0({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:dZ,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:$m,acceptCharset:Ur,accessKey:Ur,action:null,allow:null,allowFullScreen:Yt,allowPaymentRequest:Yt,allowUserMedia:Yt,alt:null,as:null,async:Yt,autoCapitalize:null,autoComplete:Ur,autoFocus:Yt,autoPlay:Yt,blocking:Ur,capture:null,charSet:null,checked:Yt,cite:null,className:Ur,cols:qe,colSpan:null,content:null,contentEditable:Vn,controls:Yt,controlsList:Ur,coords:qe|$m,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Yt,defer:Yt,dir:null,dirName:null,disabled:Yt,download:sZ,draggable:Vn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Yt,formTarget:null,headers:Ur,height:qe,hidden:Yt,high:qe,href:null,hrefLang:null,htmlFor:Ur,httpEquiv:Ur,id:null,imageSizes:null,imageSrcSet:null,inert:Yt,inputMode:null,integrity:null,is:null,isMap:Yt,itemId:null,itemProp:Ur,itemRef:Ur,itemScope:Yt,itemType:Ur,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Yt,low:qe,manifest:null,max:null,maxLength:qe,media:null,method:null,min:null,minLength:qe,multiple:Yt,muted:Yt,name:null,nonce:null,noModule:Yt,noValidate:Yt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Yt,optimum:qe,pattern:null,ping:Ur,placeholder:null,playsInline:Yt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Yt,referrerPolicy:null,rel:Ur,required:Yt,reversed:Yt,rows:qe,rowSpan:qe,sandbox:Ur,scope:null,scoped:Yt,seamless:Yt,selected:Yt,shadowRootClonable:Yt,shadowRootDelegatesFocus:Yt,shadowRootMode:null,shape:null,size:qe,sizes:null,slot:null,span:qe,spellCheck:Vn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:qe,step:null,style:null,tabIndex:qe,target:null,title:null,translate:null,type:null,typeMustMatch:Yt,useMap:null,value:Vn,width:qe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ur,axis:null,background:null,bgColor:null,border:qe,borderColor:null,bottomMargin:qe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Yt,declare:Yt,event:null,face:null,frame:null,frameBorder:null,hSpace:qe,leftMargin:qe,link:null,longDesc:null,lowSrc:null,marginHeight:qe,marginWidth:qe,noResize:Yt,noHref:Yt,noShade:Yt,noWrap:Yt,object:null,profile:null,prompt:null,rev:null,rightMargin:qe,rules:null,scheme:null,scrolling:Vn,standby:null,summary:null,text:null,topMargin:qe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:qe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Yt,disableRemotePlayback:Yt,prefix:null,property:null,results:qe,security:null,unselectable:null}}),iUe=h0({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:uZ,properties:{about:sa,accentHeight:qe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:qe,amplitude:qe,arabicForm:null,ascent:qe,attributeName:null,attributeType:null,azimuth:qe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:qe,by:null,calcMode:null,capHeight:qe,className:Ur,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:qe,diffuseConstant:qe,direction:null,display:null,dur:null,divisor:qe,dominantBaseline:null,download:Yt,dx:null,dy:null,edgeMode:null,editable:null,elevation:qe,enableBackground:null,end:null,event:null,exponent:qe,externalResourcesRequired:null,fill:null,fillOpacity:qe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:$m,g2:$m,glyphName:$m,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:qe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:qe,horizOriginX:qe,horizOriginY:qe,id:null,ideographic:qe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:qe,k:qe,k1:qe,k2:qe,k3:qe,k4:qe,kernelMatrix:sa,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:qe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:qe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:qe,overlineThickness:qe,paintOrder:null,panose1:null,path:null,pathLength:qe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ur,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:qe,pointsAtY:qe,pointsAtZ:qe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:sa,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:sa,rev:sa,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:sa,requiredFeatures:sa,requiredFonts:sa,requiredFormats:sa,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:qe,specularExponent:qe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:qe,strikethroughThickness:qe,string:null,stroke:null,strokeDashArray:sa,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:qe,strokeOpacity:qe,strokeWidth:null,style:null,surfaceScale:qe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:sa,tabIndex:qe,tableValues:null,target:null,targetX:qe,targetY:qe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:sa,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:qe,underlineThickness:qe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:qe,values:null,vAlphabetic:qe,vMathematical:qe,vectorEffect:null,vHanging:qe,vIdeographic:qe,version:null,vertAdvY:qe,vertOriginX:qe,vertOriginY:qe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:qe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),oUe=/^data[-\w.:]+$/i,HF=/-[a-z]/g,aUe=/[A-Z]/g;function sUe(e,t){const r=D5(t);let n=t,i=ws;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&oUe.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(HF,cUe);n="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!HF.test(o)){let l=o.replace(aUe,lUe);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=$6}return new i(n,t)}function lUe(e){return"-"+e.toLowerCase()}function cUe(e){return e.charAt(1).toUpperCase()}const uUe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},dUe=aZ([cZ,lZ,hZ,fZ,nUe],"html"),K6=aZ([cZ,lZ,hZ,fZ,iUe],"svg");function hUe(e){return e.join(" ").trim()}var pZ={},WF=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,fUe=/\n/g,pUe=/^\s*/,mUe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,gUe=/^:\s*/,vUe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,yUe=/^[;\s]*/,bUe=/^\s+|\s+$/g,xUe=`
`,GF="/",qF="*",jh="",wUe="comment",_Ue="declaration",SUe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function i(m){var p=m.match(fUe);p&&(r+=p.length);var g=m.lastIndexOf(xUe);n=~g?m.length-g:n+m.length}function o(){var m={line:r,column:n};return function(p){return p.position=new l(m),s(),p}}function l(m){this.start=m,this.end={line:r,column:n},this.source=t.source}l.prototype.content=e;function c(m){var p=new Error(t.source+":"+r+":"+n+": "+m);if(p.reason=m,p.filename=t.source,p.line=r,p.column=n,p.source=e,!t.silent)throw p}function a(m){var p=m.exec(e);if(p){var g=p[0];return i(g),e=e.slice(g.length),p}}function s(){a(pUe)}function u(m){var p;for(m=m||[];p=d();)p!==!1&&m.push(p);return m}function d(){var m=o();if(!(GF!=e.charAt(0)||qF!=e.charAt(1))){for(var p=2;jh!=e.charAt(p)&&(qF!=e.charAt(p)||GF!=e.charAt(p+1));)++p;if(p+=2,jh===e.charAt(p-1))return c("End of comment missing");var g=e.slice(2,p-2);return n+=2,i(g),e=e.slice(p),n+=2,m({type:wUe,comment:g})}}function h(){var m=o(),p=a(mUe);if(p){if(d(),!a(gUe))return c("property missing ':'");var g=a(vUe),v=m({type:_Ue,property:YF(p[0].replace(WF,jh)),value:g?YF(g[0].replace(WF,jh)):jh});return a(yUe),v}}function f(){var m=[];u(m);for(var p;p=h();)p!==!1&&(m.push(p),u(m));return m}return s(),f()};function YF(e){return e?e.replace(bUe,jh):jh}var EUe=Zw&&Zw.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pZ,"__esModule",{value:!0});var AUe=EUe(SUe);function CUe(e,t){var r=null;if(!e||typeof e!="string")return r;var n=(0,AUe.default)(e),i=typeof t=="function";return n.forEach(function(o){if(o.type==="declaration"){var l=o.property,c=o.value;i?t(l,c,o):c&&(r=r||{},r[l]=c)}}),r}var XF=pZ.default=CUe;const MUe=XF.default||XF,mZ=gZ("end"),Q6=gZ("start");function gZ(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function TUe(e){const t=Q6(e),r=mZ(e);if(t&&r)return{start:t,end:r}}function my(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?$F(e.position):"start"in e||"end"in e?$F(e):"line"in e||"column"in e?I5(e):""}function I5(e){return KF(e&&e.line)+":"+KF(e&&e.column)}function $F(e){return I5(e&&e.start)+"-"+I5(e&&e.end)}function KF(e){return e&&typeof e=="number"?e:1}class eo extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",o={},l=!1;if(r&&("line"in r&&"column"in r?o={place:r}:"start"in r&&"end"in r?o={place:r}:"type"in r?o={ancestors:[r],place:r.position}:o={...r}),typeof t=="string"?i=t:!o.cause&&t&&(l=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof n=="string"){const a=n.indexOf(":");a===-1?o.ruleId=n:(o.source=n.slice(0,a),o.ruleId=n.slice(a+1))}if(!o.place&&o.ancestors&&o.ancestors){const a=o.ancestors[o.ancestors.length-1];a&&(o.place=a.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=c?c.line:void 0,this.name=my(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}eo.prototype.file="";eo.prototype.name="";eo.prototype.reason="";eo.prototype.message="";eo.prototype.stack="";eo.prototype.column=void 0;eo.prototype.line=void 0;eo.prototype.ancestors=void 0;eo.prototype.cause=void 0;eo.prototype.fatal=void 0;eo.prototype.place=void 0;eo.prototype.ruleId=void 0;eo.prototype.source=void 0;const J6={}.hasOwnProperty,PUe=new Map,kUe=/[A-Z]/g,DUe=/-([a-z])/g,jUe=new Set(["table","tbody","thead","tfoot","tr"]),IUe=new Set(["td","th"]),vZ="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function OUe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=VUe(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=UUe(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?K6:dUe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=yZ(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function yZ(e,t,r){if(t.type==="element")return RUe(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return LUe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return NUe(e,t,r);if(t.type==="mdxjsEsm")return zUe(e,t);if(t.type==="root")return BUe(e,t,r);if(t.type==="text")return FUe(e,t)}function RUe(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=K6,e.schema=i),e.ancestors.push(t);const o=xZ(e,t.tagName,!1),l=HUe(e,t);let c=eI(e,t);return jUe.has(t.tagName)&&(c=c.filter(function(a){return typeof a=="string"?!eUe(a):!0})),bZ(e,l,o,t),Z6(l,c),e.ancestors.pop(),e.schema=n,e.create(t,o,l,r)}function LUe(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}v1(e,t.position)}function zUe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);v1(e,t.position)}function NUe(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=K6,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:xZ(e,t.name,!0),l=WUe(e,t),c=eI(e,t);return bZ(e,l,o,t),Z6(l,c),e.ancestors.pop(),e.schema=n,e.create(t,o,l,r)}function BUe(e,t,r){const n={};return Z6(n,eI(e,t)),e.create(t,e.Fragment,n,r)}function FUe(e,t){return t.value}function bZ(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function Z6(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function UUe(e,t,r){return n;function n(i,o,l,c){const s=Array.isArray(l.children)?r:t;return c?s(o,l,c):s(o,l)}}function VUe(e,t){return r;function r(n,i,o,l){const c=Array.isArray(o.children),a=Q6(n);return t(i,o,l,c,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function HUe(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&J6.call(t.properties,i)){const o=GUe(e,i,t.properties[i]);if(o){const[l,c]=o;e.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&IUe.has(t.tagName)?n=c:r[l]=c}}if(n){const o=r.style||(r.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function WUe(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const o=n.data.estree.body[0];o.type;const l=o.expression;l.type;const c=l.properties[0];c.type,Object.assign(r,e.evaluater.evaluateExpression(c.argument))}else v1(e,t.position);else{const i=n.name;let o;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const c=n.value.data.estree.body[0];c.type,o=e.evaluater.evaluateExpression(c.expression)}else v1(e,t.position);else o=n.value===null?!0:n.value;r[i]=o}return r}function eI(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:PUe;for(;++n<t.children.length;){const o=t.children[n];let l;if(e.passKeys){const a=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(a){const s=i.get(a)||0;l=a+"-"+s,i.set(a,s+1)}}const c=yZ(e,o,l);c!==void 0&&r.push(c)}return r}function GUe(e,t,r){const n=sUe(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?$Fe(r):hUe(r)),n.property==="style"){let i=typeof r=="object"?r:qUe(e,String(r));return e.stylePropertyNameCase==="css"&&(i=YUe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?uUe[n.property]||n.property:n.attribute,r]}}function qUe(e,t){const r={};try{MUe(t,n)}catch(i){if(!e.ignoreInvalidStyle){const o=i,l=new eo("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=e.filePath||void 0,l.url=vZ+"#cannot-parse-style-attribute",l}}return r;function n(i,o){let l=i;l.slice(0,2)!=="--"&&(l.slice(0,4)==="-ms-"&&(l="ms-"+l.slice(4)),l=l.replace(DUe,$Ue)),r[l]=o}}function xZ(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,l;for(;++o<i.length;){const c=FF(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}n=l}else n=FF(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return J6.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);v1(e)}function v1(e,t){const r=new eo("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=vZ+"#cannot-handle-mdx-estrees-without-createevaluater",r}function YUe(e){const t={};let r;for(r in e)J6.call(e,r)&&(t[XUe(r)]=e[r]);return t}function XUe(e){let t=e.replace(kUe,KUe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function $Ue(e,t){return t.toUpperCase()}function KUe(e){return"-"+e.toLowerCase()}const HM={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},QUe={};function JUe(e,t){const r=QUe,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return wZ(e,n,i)}function wZ(e,t,r){if(ZUe(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return QF(e.children,t,r)}return Array.isArray(e)?QF(e,t,r):""}function QF(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=wZ(e[i],t,r);return n.join("")}function ZUe(e){return!!(e&&typeof e=="object")}const JF=document.createElement("i");function tI(e){const t="&"+e+";";JF.innerHTML=t;const r=JF.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function bu(e,t,r,n){const i=e.length;let o=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)l=Array.from(n),l.unshift(t,r),e.splice(...l);else for(r&&e.splice(t,r);o<n.length;)l=n.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function rs(e,t){return e.length>0?(bu(e,e.length,0,t),e):t}const ZF={}.hasOwnProperty;function eVe(e){const t={};let r=-1;for(;++r<e.length;)tVe(t,e[r]);return t}function tVe(e,t){let r;for(r in t){const i=(ZF.call(e,r)?e[r]:void 0)||(e[r]={}),o=t[r];let l;if(o)for(l in o){ZF.call(i,l)||(i[l]=[]);const c=o[l];rVe(i[l],Array.isArray(c)?c:c?[c]:[])}}}function rVe(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);bu(e,0,0,n)}function _Z(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Km(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Fl=eh(/[A-Za-z]/),xa=eh(/[\dA-Za-z]/),nVe=eh(/[#-'*+\--9=?A-Z^-~]/);function O5(e){return e!==null&&(e<32||e===127)}const R5=eh(/\d/),iVe=eh(/[\dA-Fa-f]/),oVe=eh(/[!-/:-@[-`{-~]/);function zt(e){return e!==null&&e<-2}function Xo(e){return e!==null&&(e<0||e===32)}function xr(e){return e===-2||e===-1||e===32}const aVe=eh(new RegExp("\\p{P}|\\p{S}","u")),sVe=eh(/\s/);function eh(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function f0(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const o=e.charCodeAt(r);let l="";if(o===37&&xa(e.charCodeAt(r+1))&&xa(e.charCodeAt(r+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const c=e.charCodeAt(r+1);o<56320&&c>56319&&c<57344?(l=String.fromCharCode(o,c),i=1):l=""}else l=String.fromCharCode(o);l&&(t.push(e.slice(n,r),encodeURIComponent(l)),n=r+i+1,l=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function Wr(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(a){return xr(a)?(e.enter(r),c(a)):t(a)}function c(a){return xr(a)&&o++<i?(e.consume(a),c):(e.exit(r),t(a))}}const lVe={tokenize:cVe};function cVe(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Wr(e,t,"linePrefix")}function i(c){return e.enter("paragraph"),o(c)}function o(c){const a=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=a),r=a,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return zt(c)?(e.consume(c),e.exit("chunkText"),o):(e.consume(c),l)}}const uVe={tokenize:dVe},eU={tokenize:hVe};function dVe(e){const t=this,r=[];let n=0,i,o,l;return c;function c(y){if(n<r.length){const b=r[n];return t.containerState=b[1],e.attempt(b[0].continuation,a,s)(y)}return s(y)}function a(y){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const b=t.events.length;let w=b,_;for(;w--;)if(t.events[w][0]==="exit"&&t.events[w][1].type==="chunkFlow"){_=t.events[w][1].end;break}v(n);let S=b;for(;S<t.events.length;)t.events[S][1].end=Object.assign({},_),S++;return bu(t.events,w+1,0,t.events.slice(b)),t.events.length=S,s(y)}return c(y)}function s(y){if(n===r.length){if(!i)return h(y);if(i.currentConstruct&&i.currentConstruct.concrete)return m(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(eU,u,d)(y)}function u(y){return i&&x(),v(n),h(y)}function d(y){return t.parser.lazy[t.now().line]=n!==r.length,l=t.now().offset,m(y)}function h(y){return t.containerState={},e.attempt(eU,f,m)(y)}function f(y){return n++,r.push([t.currentConstruct,t.containerState]),h(y)}function m(y){if(y===null){i&&x(),v(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),p(y)}function p(y){if(y===null){g(e.exit("chunkFlow"),!0),v(0),e.consume(y);return}return zt(y)?(e.consume(y),g(e.exit("chunkFlow")),n=0,t.interrupt=void 0,c):(e.consume(y),p)}function g(y,b){const w=t.sliceStream(y);if(b&&w.push(null),y.previous=o,o&&(o.next=y),o=y,i.defineSkip(y.start),i.write(w),t.parser.lazy[y.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<l&&(!i.events[_][1].end||i.events[_][1].end.offset>l))return;const S=t.events.length;let E=S,C,A;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){if(C){A=t.events[E][1].end;break}C=!0}for(v(n),_=S;_<t.events.length;)t.events[_][1].end=Object.assign({},A),_++;bu(t.events,E+1,0,t.events.slice(S)),t.events.length=_}}function v(y){let b=r.length;for(;b-- >y;){const w=r[b];t.containerState=w[1],w[0].exit.call(t,e)}r.length=y}function x(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function hVe(e,t,r){return Wr(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function tU(e){if(e===null||Xo(e)||sVe(e))return 1;if(aVe(e))return 2}function rI(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!n.includes(o)&&(t=o(t,r),n.push(o))}return t}const L5={name:"attention",tokenize:pVe,resolveAll:fVe};function fVe(e,t){let r=-1,n,i,o,l,c,a,s,u;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;a=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const d=Object.assign({},e[n][1].end),h=Object.assign({},e[r][1].start);rU(d,-a),rU(h,a),l={type:a>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[n][1].end)},c={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[r][1].start),end:h},o={type:a>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[r][1].start)},i={type:a>1?"strong":"emphasis",start:Object.assign({},l.start),end:Object.assign({},c.end)},e[n][1].end=Object.assign({},l.start),e[r][1].start=Object.assign({},c.end),s=[],e[n][1].end.offset-e[n][1].start.offset&&(s=rs(s,[["enter",e[n][1],t],["exit",e[n][1],t]])),s=rs(s,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",o,t]]),s=rs(s,rI(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),s=rs(s,[["exit",o,t],["enter",c,t],["exit",c,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(u=2,s=rs(s,[["enter",e[r][1],t],["exit",e[r][1],t]])):u=0,bu(e,n-1,r-n+3,s),r=n+s.length-u-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function pVe(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=tU(n);let o;return l;function l(a){return o=a,e.enter("attentionSequence"),c(a)}function c(a){if(a===o)return e.consume(a),c;const s=e.exit("attentionSequence"),u=tU(a),d=!u||u===2&&i||r.includes(a),h=!i||i===2&&u||r.includes(n);return s._open=!!(o===42?d:d&&(i||!h)),s._close=!!(o===42?h:h&&(u||!d)),t(a)}}function rU(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const mVe={name:"autolink",tokenize:gVe};function gVe(e,t,r){let n=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(f){return Fl(f)?(e.consume(f),l):f===64?r(f):s(f)}function l(f){return f===43||f===45||f===46||xa(f)?(n=1,c(f)):s(f)}function c(f){return f===58?(e.consume(f),n=0,a):(f===43||f===45||f===46||xa(f))&&n++<32?(e.consume(f),c):(n=0,s(f))}function a(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||O5(f)?r(f):(e.consume(f),a)}function s(f){return f===64?(e.consume(f),u):nVe(f)?(e.consume(f),s):r(f)}function u(f){return xa(f)?d(f):r(f)}function d(f){return f===46?(e.consume(f),n=0,u):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):h(f)}function h(f){if((f===45||xa(f))&&n++<63){const m=f===45?h:d;return e.consume(f),m}return r(f)}}const n3={tokenize:vVe,partial:!0};function vVe(e,t,r){return n;function n(o){return xr(o)?Wr(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||zt(o)?t(o):r(o)}}const SZ={name:"blockQuote",tokenize:yVe,continuation:{tokenize:bVe},exit:xVe};function yVe(e,t,r){const n=this;return i;function i(l){if(l===62){const c=n.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return r(l)}function o(l){return xr(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function bVe(e,t,r){const n=this;return i;function i(l){return xr(l)?Wr(e,o,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(SZ,t,r)(l)}}function xVe(e){e.exit("blockQuote")}const EZ={name:"characterEscape",tokenize:wVe};function wVe(e,t,r){return n;function n(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return oVe(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(o)}}const AZ={name:"characterReference",tokenize:_Ve};function _Ve(e,t,r){const n=this;let i=0,o,l;return c;function c(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),a}function a(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),s):(e.enter("characterReferenceValue"),o=31,l=xa,u(d))}function s(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=iVe,u):(e.enter("characterReferenceValue"),o=7,l=R5,u(d))}function u(d){if(d===59&&i){const h=e.exit("characterReferenceValue");return l===xa&&!tI(n.sliceSerialize(h))?r(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(d)&&i++<o?(e.consume(d),u):r(d)}}const nU={tokenize:EVe,partial:!0},iU={name:"codeFenced",tokenize:SVe,concrete:!0};function SVe(e,t,r){const n=this,i={tokenize:w,partial:!0};let o=0,l=0,c;return a;function a(_){return s(_)}function s(_){const S=n.events[n.events.length-1];return o=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,c=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(_)}function u(_){return _===c?(l++,e.consume(_),u):l<3?r(_):(e.exit("codeFencedFenceSequence"),xr(_)?Wr(e,d,"whitespace")(_):d(_))}function d(_){return _===null||zt(_)?(e.exit("codeFencedFence"),n.interrupt?t(_):e.check(nU,p,b)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===null||zt(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(_)):xr(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Wr(e,f,"whitespace")(_)):_===96&&_===c?r(_):(e.consume(_),h)}function f(_){return _===null||zt(_)?d(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===null||zt(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(_)):_===96&&_===c?r(_):(e.consume(_),m)}function p(_){return e.attempt(i,b,g)(_)}function g(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),v}function v(_){return o>0&&xr(_)?Wr(e,x,"linePrefix",o+1)(_):x(_)}function x(_){return _===null||zt(_)?e.check(nU,p,b)(_):(e.enter("codeFlowValue"),y(_))}function y(_){return _===null||zt(_)?(e.exit("codeFlowValue"),x(_)):(e.consume(_),y)}function b(_){return e.exit("codeFenced"),t(_)}function w(_,S,E){let C=0;return A;function A(P){return _.enter("lineEnding"),_.consume(P),_.exit("lineEnding"),T}function T(P){return _.enter("codeFencedFence"),xr(P)?Wr(_,k,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):k(P)}function k(P){return P===c?(_.enter("codeFencedFenceSequence"),D(P)):E(P)}function D(P){return P===c?(C++,_.consume(P),D):C>=l?(_.exit("codeFencedFenceSequence"),xr(P)?Wr(_,M,"whitespace")(P):M(P)):E(P)}function M(P){return P===null||zt(P)?(_.exit("codeFencedFence"),S(P)):E(P)}}}function EVe(e,t,r){const n=this;return i;function i(l){return l===null?r(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return n.parser.lazy[n.now().line]?r(l):t(l)}}const WM={name:"codeIndented",tokenize:CVe},AVe={tokenize:MVe,partial:!0};function CVe(e,t,r){const n=this;return i;function i(s){return e.enter("codeIndented"),Wr(e,o,"linePrefix",5)(s)}function o(s){const u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?l(s):r(s)}function l(s){return s===null?a(s):zt(s)?e.attempt(AVe,l,a)(s):(e.enter("codeFlowValue"),c(s))}function c(s){return s===null||zt(s)?(e.exit("codeFlowValue"),l(s)):(e.consume(s),c)}function a(s){return e.exit("codeIndented"),t(s)}}function MVe(e,t,r){const n=this;return i;function i(l){return n.parser.lazy[n.now().line]?r(l):zt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):Wr(e,o,"linePrefix",5)(l)}function o(l){const c=n.events[n.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):zt(l)?i(l):r(l)}}const TVe={name:"codeText",tokenize:DVe,resolve:PVe,previous:kVe};function PVe(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function kVe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function DVe(e,t,r){let n=0,i,o;return l;function l(d){return e.enter("codeText"),e.enter("codeTextSequence"),c(d)}function c(d){return d===96?(e.consume(d),n++,c):(e.exit("codeTextSequence"),a(d))}function a(d){return d===null?r(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),a):d===96?(o=e.enter("codeTextSequence"),i=0,u(d)):zt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),a):(e.enter("codeTextData"),s(d))}function s(d){return d===null||d===32||d===96||zt(d)?(e.exit("codeTextData"),a(d)):(e.consume(d),s)}function u(d){return d===96?(e.consume(d),i++,u):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(o.type="codeTextData",s(d))}}class jVe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&mv(this.left,n),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),mv(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),mv(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);mv(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);mv(this.left,r.reverse())}}}function mv(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function CZ(e){const t={};let r=-1,n,i,o,l,c,a,s;const u=new jVe(e);for(;++r<u.length;){for(;r in t;)r=t[r];if(n=u.get(r),r&&n[1].type==="chunkFlow"&&u.get(r-1)[1].type==="listItemPrefix"&&(a=n[1]._tokenizer.events,o=0,o<a.length&&a[o][1].type==="lineEndingBlank"&&(o+=2),o<a.length&&a[o][1].type==="content"))for(;++o<a.length&&a[o][1].type!=="content";)a[o][1].type==="chunkText"&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,IVe(u,r)),r=t[r],s=!0);else if(n[1]._container){for(o=r,i=void 0;o--&&(l=u.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank");)l[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);i&&(n[1].end=Object.assign({},u.get(i)[1].start),c=u.slice(i,r),c.unshift(n),u.splice(i,r-i+1,c))}}return bu(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!s}function IVe(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const o=[],l=r._tokenizer||n.parser[r.contentType](r.start),c=l.events,a=[],s={};let u,d,h=-1,f=r,m=0,p=0;const g=[p];for(;f;){for(;e.get(++i)[1]!==f;);o.push(i),f._tokenizer||(u=n.sliceStream(f),f.next||u.push(null),d&&l.defineSkip(f.start),f._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(u),f._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=r;++h<c.length;)c[h][0]==="exit"&&c[h-1][0]==="enter"&&c[h][1].type===c[h-1][1].type&&c[h][1].start.line!==c[h][1].end.line&&(p=h+1,g.push(p),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(l.events=[],f?(f._tokenizer=void 0,f.previous=void 0):g.pop(),h=g.length;h--;){const v=c.slice(g[h],g[h+1]),x=o.pop();a.push([x,x+v.length-1]),e.splice(x,2,v)}for(a.reverse(),h=-1;++h<a.length;)s[m+a[h][0]]=m+a[h][1],m+=a[h][1]-a[h][0]-1;return s}const OVe={tokenize:zVe,resolve:LVe},RVe={tokenize:NVe,partial:!0};function LVe(e){return CZ(e),e}function zVe(e,t){let r;return n;function n(c){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(c)}function i(c){return c===null?o(c):zt(c)?e.check(RVe,l,o)(c):(e.consume(c),i)}function o(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function l(c){return e.consume(c),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function NVe(e,t,r){const n=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Wr(e,o,"linePrefix")}function o(l){if(l===null||zt(l))return r(l);const c=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):e.interrupt(n.parser.constructs.flow,r,t)(l)}}function MZ(e,t,r,n,i,o,l,c,a){const s=a||Number.POSITIVE_INFINITY;let u=0;return d;function d(v){return v===60?(e.enter(n),e.enter(i),e.enter(o),e.consume(v),e.exit(o),h):v===null||v===32||v===41||O5(v)?r(v):(e.enter(n),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),p(v))}function h(v){return v===62?(e.enter(o),e.consume(v),e.exit(o),e.exit(i),e.exit(n),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===62?(e.exit("chunkString"),e.exit(c),h(v)):v===null||v===60||zt(v)?r(v):(e.consume(v),v===92?m:f)}function m(v){return v===60||v===62||v===92?(e.consume(v),f):f(v)}function p(v){return!u&&(v===null||v===41||Xo(v))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(n),t(v)):u<s&&v===40?(e.consume(v),u++,p):v===41?(e.consume(v),u--,p):v===null||v===32||v===40||O5(v)?r(v):(e.consume(v),v===92?g:p)}function g(v){return v===40||v===41||v===92?(e.consume(v),p):p(v)}}function TZ(e,t,r,n,i,o){const l=this;let c=0,a;return s;function s(f){return e.enter(n),e.enter(i),e.consume(f),e.exit(i),e.enter(o),u}function u(f){return c>999||f===null||f===91||f===93&&!a||f===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?r(f):f===93?(e.exit(o),e.enter(i),e.consume(f),e.exit(i),e.exit(n),t):zt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||zt(f)||c++>999?(e.exit("chunkString"),u(f)):(e.consume(f),a||(a=!xr(f)),f===92?h:d)}function h(f){return f===91||f===92||f===93?(e.consume(f),c++,d):d(f)}}function PZ(e,t,r,n,i,o){let l;return c;function c(h){return h===34||h===39||h===40?(e.enter(n),e.enter(i),e.consume(h),e.exit(i),l=h===40?41:h,a):r(h)}function a(h){return h===l?(e.enter(i),e.consume(h),e.exit(i),e.exit(n),t):(e.enter(o),s(h))}function s(h){return h===l?(e.exit(o),a(l)):h===null?r(h):zt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Wr(e,s,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===l||h===null||zt(h)?(e.exit("chunkString"),s(h)):(e.consume(h),h===92?d:u)}function d(h){return h===l||h===92?(e.consume(h),u):u(h)}}function gy(e,t){let r;return n;function n(i){return zt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):xr(i)?Wr(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const BVe={name:"definition",tokenize:UVe},FVe={tokenize:VVe,partial:!0};function UVe(e,t,r){const n=this;let i;return o;function o(f){return e.enter("definition"),l(f)}function l(f){return TZ.call(n,e,c,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function c(f){return i=Km(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),a):r(f)}function a(f){return Xo(f)?gy(e,s)(f):s(f)}function s(f){return MZ(e,u,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function u(f){return e.attempt(FVe,d,d)(f)}function d(f){return xr(f)?Wr(e,h,"whitespace")(f):h(f)}function h(f){return f===null||zt(f)?(e.exit("definition"),n.parser.defined.push(i),t(f)):r(f)}}function VVe(e,t,r){return n;function n(c){return Xo(c)?gy(e,i)(c):r(c)}function i(c){return PZ(e,o,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return xr(c)?Wr(e,l,"whitespace")(c):l(c)}function l(c){return c===null||zt(c)?t(c):r(c)}}const HVe={name:"hardBreakEscape",tokenize:WVe};function WVe(e,t,r){return n;function n(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return zt(o)?(e.exit("hardBreakEscape"),t(o)):r(o)}}const GVe={name:"headingAtx",tokenize:YVe,resolve:qVe};function qVe(e,t){let r=e.length-2,n=3,i,o;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},o={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},bu(e,n,r-n+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function YVe(e,t,r){let n=0;return i;function i(u){return e.enter("atxHeading"),o(u)}function o(u){return e.enter("atxHeadingSequence"),l(u)}function l(u){return u===35&&n++<6?(e.consume(u),l):u===null||Xo(u)?(e.exit("atxHeadingSequence"),c(u)):r(u)}function c(u){return u===35?(e.enter("atxHeadingSequence"),a(u)):u===null||zt(u)?(e.exit("atxHeading"),t(u)):xr(u)?Wr(e,c,"whitespace")(u):(e.enter("atxHeadingText"),s(u))}function a(u){return u===35?(e.consume(u),a):(e.exit("atxHeadingSequence"),c(u))}function s(u){return u===null||u===35||Xo(u)?(e.exit("atxHeadingText"),c(u)):(e.consume(u),s)}}const XVe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],oU=["pre","script","style","textarea"],$Ve={name:"htmlFlow",tokenize:ZVe,resolveTo:JVe,concrete:!0},KVe={tokenize:tHe,partial:!0},QVe={tokenize:eHe,partial:!0};function JVe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function ZVe(e,t,r){const n=this;let i,o,l,c,a;return s;function s(z){return u(z)}function u(z){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(z),d}function d(z){return z===33?(e.consume(z),h):z===47?(e.consume(z),o=!0,p):z===63?(e.consume(z),i=3,n.interrupt?t:L):Fl(z)?(e.consume(z),l=String.fromCharCode(z),g):r(z)}function h(z){return z===45?(e.consume(z),i=2,f):z===91?(e.consume(z),i=5,c=0,m):Fl(z)?(e.consume(z),i=4,n.interrupt?t:L):r(z)}function f(z){return z===45?(e.consume(z),n.interrupt?t:L):r(z)}function m(z){const W="CDATA[";return z===W.charCodeAt(c++)?(e.consume(z),c===W.length?n.interrupt?t:k:m):r(z)}function p(z){return Fl(z)?(e.consume(z),l=String.fromCharCode(z),g):r(z)}function g(z){if(z===null||z===47||z===62||Xo(z)){const W=z===47,U=l.toLowerCase();return!W&&!o&&oU.includes(U)?(i=1,n.interrupt?t(z):k(z)):XVe.includes(l.toLowerCase())?(i=6,W?(e.consume(z),v):n.interrupt?t(z):k(z)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(z):o?x(z):y(z))}return z===45||xa(z)?(e.consume(z),l+=String.fromCharCode(z),g):r(z)}function v(z){return z===62?(e.consume(z),n.interrupt?t:k):r(z)}function x(z){return xr(z)?(e.consume(z),x):A(z)}function y(z){return z===47?(e.consume(z),A):z===58||z===95||Fl(z)?(e.consume(z),b):xr(z)?(e.consume(z),y):A(z)}function b(z){return z===45||z===46||z===58||z===95||xa(z)?(e.consume(z),b):w(z)}function w(z){return z===61?(e.consume(z),_):xr(z)?(e.consume(z),w):y(z)}function _(z){return z===null||z===60||z===61||z===62||z===96?r(z):z===34||z===39?(e.consume(z),a=z,S):xr(z)?(e.consume(z),_):E(z)}function S(z){return z===a?(e.consume(z),a=null,C):z===null||zt(z)?r(z):(e.consume(z),S)}function E(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||Xo(z)?w(z):(e.consume(z),E)}function C(z){return z===47||z===62||xr(z)?y(z):r(z)}function A(z){return z===62?(e.consume(z),T):r(z)}function T(z){return z===null||zt(z)?k(z):xr(z)?(e.consume(z),T):r(z)}function k(z){return z===45&&i===2?(e.consume(z),j):z===60&&i===1?(e.consume(z),O):z===62&&i===4?(e.consume(z),B):z===63&&i===3?(e.consume(z),L):z===93&&i===5?(e.consume(z),N):zt(z)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(KVe,R,D)(z)):z===null||zt(z)?(e.exit("htmlFlowData"),D(z)):(e.consume(z),k)}function D(z){return e.check(QVe,M,R)(z)}function M(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),P}function P(z){return z===null||zt(z)?D(z):(e.enter("htmlFlowData"),k(z))}function j(z){return z===45?(e.consume(z),L):k(z)}function O(z){return z===47?(e.consume(z),l="",I):k(z)}function I(z){if(z===62){const W=l.toLowerCase();return oU.includes(W)?(e.consume(z),B):k(z)}return Fl(z)&&l.length<8?(e.consume(z),l+=String.fromCharCode(z),I):k(z)}function N(z){return z===93?(e.consume(z),L):k(z)}function L(z){return z===62?(e.consume(z),B):z===45&&i===2?(e.consume(z),L):k(z)}function B(z){return z===null||zt(z)?(e.exit("htmlFlowData"),R(z)):(e.consume(z),B)}function R(z){return e.exit("htmlFlow"),t(z)}}function eHe(e,t,r){const n=this;return i;function i(l){return zt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):r(l)}function o(l){return n.parser.lazy[n.now().line]?r(l):t(l)}}function tHe(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(n3,t,r)}}const rHe={name:"htmlText",tokenize:nHe};function nHe(e,t,r){const n=this;let i,o,l;return c;function c(L){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(L),a}function a(L){return L===33?(e.consume(L),s):L===47?(e.consume(L),w):L===63?(e.consume(L),y):Fl(L)?(e.consume(L),E):r(L)}function s(L){return L===45?(e.consume(L),u):L===91?(e.consume(L),o=0,m):Fl(L)?(e.consume(L),x):r(L)}function u(L){return L===45?(e.consume(L),f):r(L)}function d(L){return L===null?r(L):L===45?(e.consume(L),h):zt(L)?(l=d,O(L)):(e.consume(L),d)}function h(L){return L===45?(e.consume(L),f):d(L)}function f(L){return L===62?j(L):L===45?h(L):d(L)}function m(L){const B="CDATA[";return L===B.charCodeAt(o++)?(e.consume(L),o===B.length?p:m):r(L)}function p(L){return L===null?r(L):L===93?(e.consume(L),g):zt(L)?(l=p,O(L)):(e.consume(L),p)}function g(L){return L===93?(e.consume(L),v):p(L)}function v(L){return L===62?j(L):L===93?(e.consume(L),v):p(L)}function x(L){return L===null||L===62?j(L):zt(L)?(l=x,O(L)):(e.consume(L),x)}function y(L){return L===null?r(L):L===63?(e.consume(L),b):zt(L)?(l=y,O(L)):(e.consume(L),y)}function b(L){return L===62?j(L):y(L)}function w(L){return Fl(L)?(e.consume(L),_):r(L)}function _(L){return L===45||xa(L)?(e.consume(L),_):S(L)}function S(L){return zt(L)?(l=S,O(L)):xr(L)?(e.consume(L),S):j(L)}function E(L){return L===45||xa(L)?(e.consume(L),E):L===47||L===62||Xo(L)?C(L):r(L)}function C(L){return L===47?(e.consume(L),j):L===58||L===95||Fl(L)?(e.consume(L),A):zt(L)?(l=C,O(L)):xr(L)?(e.consume(L),C):j(L)}function A(L){return L===45||L===46||L===58||L===95||xa(L)?(e.consume(L),A):T(L)}function T(L){return L===61?(e.consume(L),k):zt(L)?(l=T,O(L)):xr(L)?(e.consume(L),T):C(L)}function k(L){return L===null||L===60||L===61||L===62||L===96?r(L):L===34||L===39?(e.consume(L),i=L,D):zt(L)?(l=k,O(L)):xr(L)?(e.consume(L),k):(e.consume(L),M)}function D(L){return L===i?(e.consume(L),i=void 0,P):L===null?r(L):zt(L)?(l=D,O(L)):(e.consume(L),D)}function M(L){return L===null||L===34||L===39||L===60||L===61||L===96?r(L):L===47||L===62||Xo(L)?C(L):(e.consume(L),M)}function P(L){return L===47||L===62||Xo(L)?C(L):r(L)}function j(L){return L===62?(e.consume(L),e.exit("htmlTextData"),e.exit("htmlText"),t):r(L)}function O(L){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),I}function I(L){return xr(L)?Wr(e,N,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):N(L)}function N(L){return e.enter("htmlTextData"),l(L)}}const nI={name:"labelEnd",tokenize:cHe,resolveTo:lHe,resolveAll:sHe},iHe={tokenize:uHe},oHe={tokenize:dHe},aHe={tokenize:hHe};function sHe(e){let t=-1;for(;++t<e.length;){const r=e[t][1];(r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd")&&(e.splice(t+1,r.type==="labelImage"?4:2),r.type="data",t++)}return e}function lHe(e,t){let r=e.length,n=0,i,o,l,c;for(;r--;)if(i=e[r][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(l=r);const a={type:e[o][1].type==="labelLink"?"link":"image",start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"label",start:Object.assign({},e[o][1].start),end:Object.assign({},e[l][1].end)},u={type:"labelText",start:Object.assign({},e[o+n+2][1].end),end:Object.assign({},e[l-2][1].start)};return c=[["enter",a,t],["enter",s,t]],c=rs(c,e.slice(o+1,o+n+3)),c=rs(c,[["enter",u,t]]),c=rs(c,rI(t.parser.constructs.insideSpan.null,e.slice(o+n+4,l-3),t)),c=rs(c,[["exit",u,t],e[l-2],e[l-1],["exit",s,t]]),c=rs(c,e.slice(l+1)),c=rs(c,[["exit",a,t]]),bu(e,o,e.length,c),e}function cHe(e,t,r){const n=this;let i=n.events.length,o,l;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){o=n.events[i][1];break}return c;function c(h){return o?o._inactive?d(h):(l=n.parser.defined.includes(Km(n.sliceSerialize({start:o.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),a):r(h)}function a(h){return h===40?e.attempt(iHe,u,l?u:d)(h):h===91?e.attempt(oHe,u,l?s:d)(h):l?u(h):d(h)}function s(h){return e.attempt(aHe,u,d)(h)}function u(h){return t(h)}function d(h){return o._balanced=!0,r(h)}}function uHe(e,t,r){return n;function n(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Xo(d)?gy(e,o)(d):o(d)}function o(d){return d===41?u(d):MZ(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function l(d){return Xo(d)?gy(e,a)(d):u(d)}function c(d){return r(d)}function a(d){return d===34||d===39||d===40?PZ(e,s,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function s(d){return Xo(d)?gy(e,u)(d):u(d)}function u(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):r(d)}}function dHe(e,t,r){const n=this;return i;function i(c){return TZ.call(n,e,o,l,"reference","referenceMarker","referenceString")(c)}function o(c){return n.parser.defined.includes(Km(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(c):r(c)}function l(c){return r(c)}}function hHe(e,t,r){return n;function n(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):r(o)}}const fHe={name:"labelStartImage",tokenize:pHe,resolveAll:nI.resolveAll};function pHe(e,t,r){const n=this;return i;function i(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),o}function o(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):r(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(c):t(c)}}const mHe={name:"labelStartLink",tokenize:gHe,resolveAll:nI.resolveAll};function gHe(e,t,r){const n=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(l):t(l)}}const GM={name:"lineEnding",tokenize:vHe};function vHe(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Wr(e,t,"linePrefix")}}const $w={name:"thematicBreak",tokenize:yHe};function yHe(e,t,r){let n=0,i;return o;function o(s){return e.enter("thematicBreak"),l(s)}function l(s){return i=s,c(s)}function c(s){return s===i?(e.enter("thematicBreakSequence"),a(s)):n>=3&&(s===null||zt(s))?(e.exit("thematicBreak"),t(s)):r(s)}function a(s){return s===i?(e.consume(s),n++,a):(e.exit("thematicBreakSequence"),xr(s)?Wr(e,c,"whitespace")(s):c(s))}}const Po={name:"list",tokenize:wHe,continuation:{tokenize:_He},exit:EHe},bHe={tokenize:AHe,partial:!0},xHe={tokenize:SHe,partial:!0};function wHe(e,t,r){const n=this,i=n.events[n.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return c;function c(f){const m=n.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!n.containerState.marker||f===n.containerState.marker:R5(f)){if(n.containerState.type||(n.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check($w,r,s)(f):s(f);if(!n.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(f)}return r(f)}function a(f){return R5(f)&&++l<10?(e.consume(f),a):(!n.interrupt||l<2)&&(n.containerState.marker?f===n.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),s(f)):r(f)}function s(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||f,e.check(n3,n.interrupt?r:u,e.attempt(bHe,h,d))}function u(f){return n.containerState.initialBlankLine=!0,o++,h(f)}function d(f){return xr(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),h):r(f)}function h(f){return n.containerState.size=o+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function _He(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(n3,i,o);function i(c){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Wr(e,t,"listItemIndent",n.containerState.size+1)(c)}function o(c){return n.containerState.furtherBlankLines||!xr(c)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,l(c)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(xHe,t,l)(c))}function l(c){return n.containerState._closeFlow=!0,n.interrupt=void 0,Wr(e,e.attempt(Po,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function SHe(e,t,r){const n=this;return Wr(e,i,"listItemIndent",n.containerState.size+1);function i(o){const l=n.events[n.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===n.containerState.size?t(o):r(o)}}function EHe(e){e.exit(this.containerState.type)}function AHe(e,t,r){const n=this;return Wr(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=n.events[n.events.length-1];return!xr(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):r(o)}}const aU={name:"setextUnderline",tokenize:MHe,resolveTo:CHe};function CHe(e,t){let r=e.length,n,i,o;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!o&&e[r][1].type==="definition"&&(o=r);const l={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,t]),e.splice(o+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[o][1].end)):e[n][1]=l,e.push(["exit",l,t]),e}function MHe(e,t,r){const n=this;let i;return o;function o(s){let u=n.events.length,d;for(;u--;)if(n.events[u][1].type!=="lineEnding"&&n.events[u][1].type!=="linePrefix"&&n.events[u][1].type!=="content"){d=n.events[u][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||d)?(e.enter("setextHeadingLine"),i=s,l(s)):r(s)}function l(s){return e.enter("setextHeadingLineSequence"),c(s)}function c(s){return s===i?(e.consume(s),c):(e.exit("setextHeadingLineSequence"),xr(s)?Wr(e,a,"lineSuffix")(s):a(s))}function a(s){return s===null||zt(s)?(e.exit("setextHeadingLine"),t(s)):r(s)}}const THe={tokenize:PHe};function PHe(e){const t=this,r=e.attempt(n3,n,e.attempt(this.parser.constructs.flowInitial,i,Wr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(OVe,i)),"linePrefix")));return r;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const kHe={resolveAll:DZ()},DHe=kZ("string"),jHe=kZ("text");function kZ(e){return{tokenize:t,resolveAll:DZ(e==="text"?IHe:void 0)};function t(r){const n=this,i=this.parser.constructs[e],o=r.attempt(i,l,c);return l;function l(u){return s(u)?o(u):c(u)}function c(u){if(u===null){r.consume(u);return}return r.enter("data"),r.consume(u),a}function a(u){return s(u)?(r.exit("data"),o(u)):(r.consume(u),a)}function s(u){if(u===null)return!0;const d=i[u];let h=-1;if(d)for(;++h<d.length;){const f=d[h];if(!f.previous||f.previous.call(n,n.previous))return!0}return!1}}}function DZ(e){return t;function t(r,n){let i=-1,o;for(;++i<=r.length;)o===void 0?r[i]&&r[i][1].type==="data"&&(o=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==o+2&&(r[o][1].end=r[i-1][1].end,r.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(r,n):r}}function IHe(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let o=i.length,l=-1,c=0,a;for(;o--;){const s=i[o];if(typeof s=="string"){for(l=s.length;s.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(s===-2)a=!0,c++;else if(s!==-1){o++;break}}if(c){const s={type:r===e.length||a||c<2?"lineSuffix":"hardBreakTrailing",start:{line:n.end.line,column:n.end.column-c,offset:n.end.offset-c,_index:n.start._index+o,_bufferIndex:o?l:n.start._bufferIndex+l},end:Object.assign({},n.end)};n.end=Object.assign({},s.start),n.start.offset===n.end.offset?Object.assign(n,s):(e.splice(r,0,["enter",s,t],["exit",s,t]),r+=2)}r++}return e}function OHe(e,t,r){let n=Object.assign(r?Object.assign({},r):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let l=[],c=[];const a={consume:x,enter:y,exit:b,attempt:S(w),check:S(_),interrupt:S(_,{interrupt:!0})},s={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:f,sliceSerialize:h,now:m,defineSkip:p,write:d};let u=t.tokenize.call(s,a);return t.resolveAll&&o.push(t),s;function d(T){return l=rs(l,T),g(),l[l.length-1]!==null?[]:(E(t,0),s.events=rI(o,s.events,s),s.events)}function h(T,k){return LHe(f(T),k)}function f(T){return RHe(l,T)}function m(){const{line:T,column:k,offset:D,_index:M,_bufferIndex:P}=n;return{line:T,column:k,offset:D,_index:M,_bufferIndex:P}}function p(T){i[T.line]=T.column,A()}function g(){let T;for(;n._index<l.length;){const k=l[n._index];if(typeof k=="string")for(T=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===T&&n._bufferIndex<k.length;)v(k.charCodeAt(n._bufferIndex));else v(k)}}function v(T){u=u(T)}function x(T){zt(T)?(n.line++,n.column=1,n.offset+=T===-3?2:1,A()):T!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===l[n._index].length&&(n._bufferIndex=-1,n._index++)),s.previous=T}function y(T,k){const D=k||{};return D.type=T,D.start=m(),s.events.push(["enter",D,s]),c.push(D),D}function b(T){const k=c.pop();return k.end=m(),s.events.push(["exit",k,s]),k}function w(T,k){E(T,k.from)}function _(T,k){k.restore()}function S(T,k){return D;function D(M,P,j){let O,I,N,L;return Array.isArray(M)?R(M):"tokenize"in M?R([M]):B(M);function B(H){return X;function X(K){const Q=K!==null&&H[K],Y=K!==null&&H.null,$=[...Array.isArray(Q)?Q:Q?[Q]:[],...Array.isArray(Y)?Y:Y?[Y]:[]];return R($)(K)}}function R(H){return O=H,I=0,H.length===0?j:z(H[I])}function z(H){return X;function X(K){return L=C(),N=H,H.partial||(s.currentConstruct=H),H.name&&s.parser.constructs.disable.null.includes(H.name)?U():H.tokenize.call(k?Object.assign(Object.create(s),k):s,a,W,U)(K)}}function W(H){return T(N,L),P}function U(H){return L.restore(),++I<O.length?z(O[I]):j}}}function E(T,k){T.resolveAll&&!o.includes(T)&&o.push(T),T.resolve&&bu(s.events,k,s.events.length-k,T.resolve(s.events.slice(k),s)),T.resolveTo&&(s.events=T.resolveTo(s.events,s))}function C(){const T=m(),k=s.previous,D=s.currentConstruct,M=s.events.length,P=Array.from(c);return{restore:j,from:M};function j(){n=T,s.previous=k,s.currentConstruct=D,s.events.length=M,c=P,A()}}function A(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function RHe(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let l;if(r===i)l=[e[r].slice(n,o)];else{if(l=e.slice(r,i),n>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(n):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function LHe(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const o=e[r];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,n.push(l)}return n.join("")}const zHe={42:Po,43:Po,45:Po,48:Po,49:Po,50:Po,51:Po,52:Po,53:Po,54:Po,55:Po,56:Po,57:Po,62:SZ},NHe={91:BVe},BHe={[-2]:WM,[-1]:WM,32:WM},FHe={35:GVe,42:$w,45:[aU,$w],60:$Ve,61:aU,95:$w,96:iU,126:iU},UHe={38:AZ,92:EZ},VHe={[-5]:GM,[-4]:GM,[-3]:GM,33:fHe,38:AZ,42:L5,60:[mVe,rHe],91:mHe,92:[HVe,EZ],93:nI,95:L5,96:TVe},HHe={null:[L5,kHe]},WHe={null:[42,95]},GHe={null:[]},qHe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:WHe,contentInitial:NHe,disable:GHe,document:zHe,flow:FHe,flowInitial:BHe,insideSpan:HHe,string:UHe,text:VHe},Symbol.toStringTag,{value:"Module"}));function YHe(e){const r=eVe([qHe,...(e||{}).extensions||[]]),n={defined:[],lazy:{},constructs:r,content:i(lVe),document:i(uVe),flow:i(THe),string:i(DHe),text:i(jHe)};return n;function i(o){return l;function l(c){return OHe(n,o,c)}}}function XHe(e){for(;!CZ(e););return e}const sU=/[\0\t\n\r]/g;function $He(){let e=1,t="",r=!0,n;return i;function i(o,l,c){const a=[];let s,u,d,h,f;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),d=0,t="",r&&(o.charCodeAt(0)===65279&&d++,r=void 0);d<o.length;){if(sU.lastIndex=d,s=sU.exec(o),h=s&&s.index!==void 0?s.index:o.length,f=o.charCodeAt(h),!s){t=o.slice(d);break}if(f===10&&d===h&&n)a.push(-3),n=void 0;else switch(n&&(a.push(-5),n=void 0),d<h&&(a.push(o.slice(d,h)),e+=h-d),f){case 0:{a.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,a.push(-2);e++<u;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:n=!0,e=1}d=h+1}return c&&(n&&a.push(-5),t&&a.push(t),a.push(null)),a}}const KHe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function QHe(e){return e.replace(KHe,JHe)}function JHe(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),o=i===120||i===88;return _Z(r.slice(o?2:1),o?16:10)}return tI(r)||e}const jZ={}.hasOwnProperty;function ZHe(e,t,r){return typeof t!="string"&&(r=t,t=void 0),eWe(r)(XHe(YHe(r).document().write($He()(e,t,!0))))}function eWe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(De),autolinkProtocol:C,autolinkEmail:C,atxHeading:o(ae),blockQuote:o(Y),characterEscape:C,characterReference:C,codeFenced:o($),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o($,l),codeText:o(J,l),codeTextData:C,data:C,codeFlowValue:C,definition:o(ie),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(ne),hardBreakEscape:o(je),hardBreakTrailing:o(je),htmlFlow:o(Ee,l),htmlFlowData:C,htmlText:o(Ee,l),htmlTextData:C,image:o(we),label:l,link:o(De),listItem:o(Ie),listItemValue:h,listOrdered:o(Le,d),listUnordered:o(Le),paragraph:o(ee),reference:z,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(ae),strong:o(q),thematicBreak:o(Te)},exit:{atxHeading:a(),atxHeadingSequence:w,autolink:a(),autolinkEmail:Q,autolinkProtocol:K,blockQuote:a(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:U,characterReferenceMarkerNumeric:U,characterReferenceValue:H,characterReference:X,codeFenced:a(g),codeFencedFence:p,codeFencedFenceInfo:f,codeFencedFenceMeta:m,codeFlowValue:A,codeIndented:a(v),codeText:a(P),codeTextData:A,data:A,definition:a(),definitionDestinationString:b,definitionLabelString:x,definitionTitleString:y,emphasis:a(),hardBreakEscape:a(k),hardBreakTrailing:a(k),htmlFlow:a(D),htmlFlowData:A,htmlText:a(M),htmlTextData:A,image:a(O),label:N,labelText:I,lineEnding:T,link:a(j),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:W,resourceDestinationString:L,resourceTitleString:B,resource:R,setextHeading:a(E),setextHeadingLineSequence:S,setextHeadingText:_,strong:a(),thematicBreak:a()}};IZ(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(te){let ce={type:"root",children:[]};const Ce={stack:[ce],tokenStack:[],config:t,enter:c,exit:s,buffer:l,resume:u,data:r},fe=[];let de=-1;for(;++de<te.length;)if(te[de][1].type==="listOrdered"||te[de][1].type==="listUnordered")if(te[de][0]==="enter")fe.push(de);else{const Fe=fe.pop();de=i(te,Fe,de)}for(de=-1;++de<te.length;){const Fe=t[te[de][0]];jZ.call(Fe,te[de][1].type)&&Fe[te[de][1].type].call(Object.assign({sliceSerialize:te[de][2].sliceSerialize},Ce),te[de][1])}if(Ce.tokenStack.length>0){const Fe=Ce.tokenStack[Ce.tokenStack.length-1];(Fe[1]||lU).call(Ce,void 0,Fe[0])}for(ce.position={start:qu(te.length>0?te[0][1].start:{line:1,column:1,offset:0}),end:qu(te.length>0?te[te.length-2][1].end:{line:1,column:1,offset:0})},de=-1;++de<t.transforms.length;)ce=t.transforms[de](ce)||ce;return ce}function i(te,ce,Ce){let fe=ce-1,de=-1,Fe=!1,Be,_e,Ve,Re;for(;++fe<=Ce;){const Ke=te[fe];switch(Ke[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ke[0]==="enter"?de++:de--,Re=void 0;break}case"lineEndingBlank":{Ke[0]==="enter"&&(Be&&!Re&&!de&&!Ve&&(Ve=fe),Re=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Re=void 0}if(!de&&Ke[0]==="enter"&&Ke[1].type==="listItemPrefix"||de===-1&&Ke[0]==="exit"&&(Ke[1].type==="listUnordered"||Ke[1].type==="listOrdered")){if(Be){let We=fe;for(_e=void 0;We--;){const He=te[We];if(He[1].type==="lineEnding"||He[1].type==="lineEndingBlank"){if(He[0]==="exit")continue;_e&&(te[_e][1].type="lineEndingBlank",Fe=!0),He[1].type="lineEnding",_e=We}else if(!(He[1].type==="linePrefix"||He[1].type==="blockQuotePrefix"||He[1].type==="blockQuotePrefixWhitespace"||He[1].type==="blockQuoteMarker"||He[1].type==="listItemIndent"))break}Ve&&(!_e||Ve<_e)&&(Be._spread=!0),Be.end=Object.assign({},_e?te[_e][1].start:Ke[1].end),te.splice(_e||fe,0,["exit",Be,Ke[2]]),fe++,Ce++}if(Ke[1].type==="listItemPrefix"){const We={type:"listItem",_spread:!1,start:Object.assign({},Ke[1].start),end:void 0};Be=We,te.splice(fe,0,["enter",We,Ke[2]]),fe++,Ce++,Ve=void 0,Re=!0}}}return te[ce][1]._spread=Fe,Ce}function o(te,ce){return Ce;function Ce(fe){c.call(this,te(fe),fe),ce&&ce.call(this,fe)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(te,ce,Ce){this.stack[this.stack.length-1].children.push(te),this.stack.push(te),this.tokenStack.push([ce,Ce]),te.position={start:qu(ce.start),end:void 0}}function a(te){return ce;function ce(Ce){te&&te.call(this,Ce),s.call(this,Ce)}}function s(te,ce){const Ce=this.stack.pop(),fe=this.tokenStack.pop();if(fe)fe[0].type!==te.type&&(ce?ce.call(this,te,fe[0]):(fe[1]||lU).call(this,te,fe[0]));else throw new Error("Cannot close `"+te.type+"` ("+my({start:te.start,end:te.end})+"): its not open");Ce.position.end=qu(te.end)}function u(){return JUe(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(te){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(te),10),this.data.expectingFirstListItemValue=void 0}}function f(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=te}function m(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=te}function p(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.value=te.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.value=te.replace(/(\r?\n|\r)$/g,"")}function x(te){const ce=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=ce,Ce.identifier=Km(this.sliceSerialize(te)).toLowerCase()}function y(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.title=te}function b(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.url=te}function w(te){const ce=this.stack[this.stack.length-1];if(!ce.depth){const Ce=this.sliceSerialize(te).length;ce.depth=Ce}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function S(te){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(te).codePointAt(0)===61?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function C(te){const Ce=this.stack[this.stack.length-1].children;let fe=Ce[Ce.length-1];(!fe||fe.type!=="text")&&(fe=le(),fe.position={start:qu(te.start),end:void 0},Ce.push(fe)),this.stack.push(fe)}function A(te){const ce=this.stack.pop();ce.value+=this.sliceSerialize(te),ce.position.end=qu(te.end)}function T(te){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=ce.children[ce.children.length-1];Ce.position.end=qu(te.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ce.type)&&(C.call(this,te),A.call(this,te))}function k(){this.data.atHardBreak=!0}function D(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.value=te}function M(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.value=te}function P(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.value=te}function j(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=ce,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function O(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=ce,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function I(te){const ce=this.sliceSerialize(te),Ce=this.stack[this.stack.length-2];Ce.label=QHe(ce),Ce.identifier=Km(ce).toLowerCase()}function N(){const te=this.stack[this.stack.length-1],ce=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const fe=te.children;Ce.children=fe}else Ce.alt=ce}function L(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.url=te}function B(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.title=te}function R(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function W(te){const ce=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=ce,Ce.identifier=Km(this.sliceSerialize(te)).toLowerCase(),this.data.referenceType="full"}function U(te){this.data.characterReferenceType=te.type}function H(te){const ce=this.sliceSerialize(te),Ce=this.data.characterReferenceType;let fe;Ce?(fe=_Z(ce,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):fe=tI(ce);const de=this.stack[this.stack.length-1];de.value+=fe}function X(te){const ce=this.stack.pop();ce.position.end=qu(te.end)}function K(te){A.call(this,te);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(te)}function Q(te){A.call(this,te);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(te)}function Y(){return{type:"blockquote",children:[]}}function $(){return{type:"code",lang:null,meta:null,value:""}}function J(){return{type:"inlineCode",value:""}}function ie(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ne(){return{type:"emphasis",children:[]}}function ae(){return{type:"heading",depth:0,children:[]}}function je(){return{type:"break"}}function Ee(){return{type:"html",value:""}}function we(){return{type:"image",title:null,url:"",alt:null}}function De(){return{type:"link",title:null,url:"",children:[]}}function Le(te){return{type:"list",ordered:te.type==="listOrdered",start:null,spread:te._spread,children:[]}}function Ie(te){return{type:"listItem",spread:te._spread,checked:null,children:[]}}function ee(){return{type:"paragraph",children:[]}}function q(){return{type:"strong",children:[]}}function le(){return{type:"text",value:""}}function Te(){return{type:"thematicBreak"}}}function qu(e){return{line:e.line,column:e.column,offset:e.offset}}function IZ(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?IZ(e,n):tWe(e,n)}}function tWe(e,t){let r;for(r in t)if(jZ.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function lU(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+my({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+my({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+my({start:t.start,end:t.end})+") is still open")}function rWe(e){const t=this;t.parser=r;function r(n){return ZHe(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function nWe(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function iWe(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function oWe(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function aWe(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function sWe(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function lWe(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=f0(n.toLowerCase()),o=e.footnoteOrder.indexOf(n);let l,c=e.footnoteCounts.get(n);c===void 0?(c=0,e.footnoteOrder.push(n),l=e.footnoteOrder.length):l=o+1,c+=1,e.footnoteCounts.set(n,c);const a={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,a);const s={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,s),e.applyData(t,s)}function cWe(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function uWe(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function OZ(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=n:i.push({type:"text",value:n}),i}function dWe(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return OZ(e,t);const i={src:f0(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function hWe(e,t){const r={src:f0(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function fWe(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function pWe(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return OZ(e,t);const i={href:f0(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function mWe(e,t){const r={href:f0(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gWe(e,t,r){const n=e.all(t),i=r?vWe(r):RZ(t),o={},l=[];if(typeof t.checked=="boolean"){const u=n[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},n.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<n.length;){const u=n[c];(i||c!==0||u.type!=="element"||u.tagName!=="p")&&l.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?l.push(...u.children):l.push(u)}const a=n[n.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&l.push({type:"text",value:`
`});const s={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,s),e.applyData(t,s)}function vWe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=RZ(r[n])}return t}function RZ(e){const t=e.spread;return t??e.children.length>1}function yWe(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const l=n[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,o),e.applyData(t,o)}function bWe(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function xWe(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function wWe(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function _We(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],l),i.push(l)}if(r.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},c=Q6(t.children[1]),a=mZ(t.children[t.children.length-1]);c&&a&&(l.position={start:c,end:a}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function SWe(e,t,r){const n=r?r.children:void 0,o=(n?n.indexOf(t):1)===0?"th":"td",l=r&&r.type==="table"?r.align:void 0,c=l?l.length:t.children.length;let a=-1;const s=[];for(;++a<c;){const d=t.children[a],h={},f=l?l[a]:void 0;f&&(h.align=f);let m={type:"element",tagName:o,properties:h,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),s.push(m)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(s,!0)};return e.patch(t,u),e.applyData(t,u)}function EWe(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const cU=9,uU=32;function AWe(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const o=[];for(;n;)o.push(dU(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return o.push(dU(t.slice(i),i>0,!1)),o.join("")}function dU(e,t,r){let n=0,i=e.length;if(t){let o=e.codePointAt(n);for(;o===cU||o===uU;)n++,o=e.codePointAt(n)}if(r){let o=e.codePointAt(i-1);for(;o===cU||o===uU;)i--,o=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function CWe(e,t){const r={type:"text",value:AWe(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function MWe(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const TWe={blockquote:nWe,break:iWe,code:oWe,delete:aWe,emphasis:sWe,footnoteReference:lWe,heading:cWe,html:uWe,imageReference:dWe,image:hWe,inlineCode:fWe,linkReference:pWe,link:mWe,listItem:gWe,list:yWe,paragraph:bWe,root:xWe,strong:wWe,table:_We,tableCell:EWe,tableRow:SWe,text:CWe,thematicBreak:MWe,toml:rw,yaml:rw,definition:rw,footnoteDefinition:rw};function rw(){}const LZ=-1,i3=0,K2=1,Q2=2,iI=3,oI=4,aI=5,sI=6,zZ=7,NZ=8,hU=typeof self=="object"?self:globalThis,PWe=(e,t)=>{const r=(i,o)=>(e.set(o,i),i),n=i=>{if(e.has(i))return e.get(i);const[o,l]=t[i];switch(o){case i3:case LZ:return r(l,i);case K2:{const c=r([],i);for(const a of l)c.push(n(a));return c}case Q2:{const c=r({},i);for(const[a,s]of l)c[n(a)]=n(s);return c}case iI:return r(new Date(l),i);case oI:{const{source:c,flags:a}=l;return r(new RegExp(c,a),i)}case aI:{const c=r(new Map,i);for(const[a,s]of l)c.set(n(a),n(s));return c}case sI:{const c=r(new Set,i);for(const a of l)c.add(n(a));return c}case zZ:{const{name:c,message:a}=l;return r(new hU[c](a),i)}case NZ:return r(BigInt(l),i);case"BigInt":return r(Object(BigInt(l)),i)}return r(new hU[o](l),i)};return n},fU=e=>PWe(new Map,e)(0),jp="",{toString:kWe}={},{keys:DWe}=Object,gv=e=>{const t=typeof e;if(t!=="object"||!e)return[i3,t];const r=kWe.call(e).slice(8,-1);switch(r){case"Array":return[K2,jp];case"Object":return[Q2,jp];case"Date":return[iI,jp];case"RegExp":return[oI,jp];case"Map":return[aI,jp];case"Set":return[sI,jp]}return r.includes("Array")?[K2,r]:r.includes("Error")?[zZ,r]:[Q2,r]},nw=([e,t])=>e===i3&&(t==="function"||t==="symbol"),jWe=(e,t,r,n)=>{const i=(l,c)=>{const a=n.push(l)-1;return r.set(c,a),a},o=l=>{if(r.has(l))return r.get(l);let[c,a]=gv(l);switch(c){case i3:{let u=l;switch(a){case"bigint":c=NZ,u=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);u=null;break;case"undefined":return i([LZ],l)}return i([c,u],l)}case K2:{if(a)return i([a,[...l]],l);const u=[],d=i([c,u],l);for(const h of l)u.push(o(h));return d}case Q2:{if(a)switch(a){case"BigInt":return i([a,l.toString()],l);case"Boolean":case"Number":case"String":return i([a,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const u=[],d=i([c,u],l);for(const h of DWe(l))(e||!nw(gv(l[h])))&&u.push([o(h),o(l[h])]);return d}case iI:return i([c,l.toISOString()],l);case oI:{const{source:u,flags:d}=l;return i([c,{source:u,flags:d}],l)}case aI:{const u=[],d=i([c,u],l);for(const[h,f]of l)(e||!(nw(gv(h))||nw(gv(f))))&&u.push([o(h),o(f)]);return d}case sI:{const u=[],d=i([c,u],l);for(const h of l)(e||!nw(gv(h)))&&u.push(o(h));return d}}const{message:s}=l;return i([c,{name:a,message:s}],l)};return o},pU=(e,{json:t,lossy:r}={})=>{const n=[];return jWe(!(t||r),!!t,new Map,n)(e),n},J2=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?fU(pU(e,t)):structuredClone(e):(e,t)=>fU(pU(e,t));function IWe(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function OWe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function RWe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||IWe,n=e.options.footnoteBackLabel||OWe,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let a=-1;for(;++a<e.footnoteOrder.length;){const s=e.footnoteById.get(e.footnoteOrder[a]);if(!s)continue;const u=e.all(s),d=String(s.identifier).toUpperCase(),h=f0(d.toLowerCase());let f=0;const m=[],p=e.footnoteCounts.get(d);for(;p!==void 0&&++f<=p;){m.length>0&&m.push({type:"text",value:" "});let x=typeof r=="string"?r:r(a,f);typeof x=="string"&&(x={type:"text",value:x}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(a,f),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const g=u[u.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const x=g.children[g.children.length-1];x&&x.type==="text"?x.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...m)}else u.push(...m);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(u,!0)};e.patch(s,v),c.push(v)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...J2(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const BZ=function(e){if(e==null)return BWe;if(typeof e=="function")return o3(e);if(typeof e=="object")return Array.isArray(e)?LWe(e):zWe(e);if(typeof e=="string")return NWe(e);throw new Error("Expected function, string, or object as test")};function LWe(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=BZ(e[r]);return o3(n);function n(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function zWe(e){const t=e;return o3(r);function r(n){const i=n;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function NWe(e){return o3(t);function t(r){return r&&r.type===e}}function o3(e){return t;function t(r,n,i){return!!(FWe(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function BWe(){return!0}function FWe(e){return e!==null&&typeof e=="object"&&"type"in e}const FZ=[],UWe=!0,mU=!1,VWe="skip";function HWe(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const o=BZ(i),l=n?-1:1;c(e,void 0,[])();function c(a,s,u){const d=a&&typeof a=="object"?a:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(a.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=FZ,m,p,g;if((!t||o(a,s,u[u.length-1]||void 0))&&(f=WWe(r(a,u)),f[0]===mU))return f;if("children"in a&&a.children){const v=a;if(v.children&&f[0]!==VWe)for(p=(n?v.children.length:-1)+l,g=u.concat(v);p>-1&&p<v.children.length;){const x=v.children[p];if(m=c(x,p,g)(),m[0]===mU)return m;p=typeof m[1]=="number"?m[1]:p+l}}return f}}}function WWe(e){return Array.isArray(e)?e:typeof e=="number"?[UWe,e]:e==null?FZ:[e]}function UZ(e,t,r,n){let i,o,l;typeof t=="function"&&typeof r!="function"?(o=void 0,l=t,i=r):(o=t,l=r,i=n),HWe(e,o,c,i);function c(a,s){const u=s[s.length-1],d=u?u.children.indexOf(a):void 0;return l(a,d,u)}}const z5={}.hasOwnProperty,GWe={};function qWe(e,t){const r=t||GWe,n=new Map,i=new Map,o=new Map,l={...TWe,...r.handlers},c={all:s,applyData:XWe,definitionById:n,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:a,options:r,patch:YWe,wrap:KWe};return UZ(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?n:i,h=String(u.identifier).toUpperCase();d.has(h)||d.set(h,u)}}),c;function a(u,d){const h=u.type,f=c.handlers[h];if(z5.call(c.handlers,h)&&f)return f(c,u,d);if(c.options.passThrough&&c.options.passThrough.includes(h)){if("children"in u){const{children:p,...g}=u,v=J2(g);return v.children=c.all(u),v}return J2(u)}return(c.options.unknownHandler||$We)(c,u,d)}function s(u){const d=[];if("children"in u){const h=u.children;let f=-1;for(;++f<h.length;){const m=c.one(h[f],u);if(m){if(f&&h[f-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=gU(m.value)),!Array.isArray(m)&&m.type==="element")){const p=m.children[0];p&&p.type==="text"&&(p.value=gU(p.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function YWe(e,t){e.position&&(t.position=TUe(e))}function XWe(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const l="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:l}}r.type==="element"&&o&&Object.assign(r.properties,J2(o)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function $We(e,t){const r=t.data||{},n="value"in t&&!(z5.call(r,"hProperties")||z5.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KWe(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function gU(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function vU(e,t){const r=qWe(e,t),n=r.one(e,void 0),i=RWe(r),o=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function QWe(e,t){return e&&"run"in e?async function(r,n){const i=vU(r,{file:n,...t});await e.run(i,n)}:function(r,n){return vU(r,{file:n,...t||e})}}function yU(e){if(e)throw e}var Kw=Object.prototype.hasOwnProperty,VZ=Object.prototype.toString,bU=Object.defineProperty,xU=Object.getOwnPropertyDescriptor,wU=function(t){return typeof Array.isArray=="function"?Array.isArray(t):VZ.call(t)==="[object Array]"},_U=function(t){if(!t||VZ.call(t)!=="[object Object]")return!1;var r=Kw.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&Kw.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||Kw.call(t,i)},SU=function(t,r){bU&&r.name==="__proto__"?bU(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},EU=function(t,r){if(r==="__proto__")if(Kw.call(t,r)){if(xU)return xU(t,r).value}else return;return t[r]},JWe=function e(){var t,r,n,i,o,l,c=arguments[0],a=1,s=arguments.length,u=!1;for(typeof c=="boolean"&&(u=c,c=arguments[1]||{},a=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});a<s;++a)if(t=arguments[a],t!=null)for(r in t)n=EU(c,r),i=EU(t,r),c!==i&&(u&&i&&(_U(i)||(o=wU(i)))?(o?(o=!1,l=n&&wU(n)?n:[]):l=n&&_U(n)?n:{},SU(c,{name:r,newValue:e(u,l,i)})):typeof i<"u"&&SU(c,{name:r,newValue:i}));return c};const qM=il(JWe);function N5(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ZWe(){const e=[],t={run:r,use:n};return t;function r(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...i);function c(a,...s){const u=e[++o];let d=-1;if(a){l(a);return}for(;++d<i.length;)(s[d]===null||s[d]===void 0)&&(s[d]=i[d]);i=s,u?eGe(u,c)(...s):l(null,...s)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function eGe(e,t){let r;return n;function n(...l){const c=e.length>l.length;let a;c&&l.push(i);try{a=e.apply(this,l)}catch(s){const u=s;if(c&&r)throw u;return i(u)}c||(a&&a.then&&typeof a.then=="function"?a.then(o,i):a instanceof Error?i(a):o(a))}function i(l,...c){r||(r=!0,t(l,...c))}function o(l){i(null,l)}}const Cl={basename:tGe,dirname:rGe,extname:nGe,join:iGe,sep:"/"};function tGe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ib(e);let r=0,n=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){r=i+1;break}}else n<0&&(o=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let l=-1,c=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){r=i+1;break}}else l<0&&(o=!0,l=i+1),c>-1&&(e.codePointAt(i)===t.codePointAt(c--)?c<0&&(n=i):(c=-1,n=l));return r===n?n=l:n<0&&(n=e.length),e.slice(r,n)}function rGe(e){if(ib(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function nGe(e){ib(e);let t=e.length,r=-1,n=0,i=-1,o=0,l;for(;t--;){const c=e.codePointAt(t);if(c===47){if(l){n=t+1;break}continue}r<0&&(l=!0,r=t+1),c===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||r<0||o===0||o===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function iGe(...e){let t=-1,r;for(;++t<e.length;)ib(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":oGe(r)}function oGe(e){ib(e);const t=e.codePointAt(0)===47;let r=aGe(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function aGe(e,t){let r="",n=0,i=-1,o=0,l=-1,c,a;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(a=r.lastIndexOf("/"),a!==r.length-1){a<0?(r="",n=0):(r=r.slice(0,a),n=r.length-1-r.lastIndexOf("/")),i=l,o=0;continue}}else if(r.length>0){r="",n=0,i=l,o=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,l):r=e.slice(i+1,l),n=l-i-1;i=l,o=0}else c===46&&o>-1?o++:o=-1}return r}function ib(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const sGe={cwd:lGe};function lGe(){return"/"}function B5(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function cGe(e){if(typeof e=="string")e=new URL(e);else if(!B5(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return uGe(e)}function uGe(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const YM=["history","path","basename","stem","extname","dirname"];class HZ{constructor(t){let r;t?B5(t)?r={path:t}:typeof t=="string"||dGe(t)?r={value:t}:r=t:r={},this.cwd=sGe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<YM.length;){const o=YM[n];o in r&&r[o]!==void 0&&r[o]!==null&&(this[o]=o==="history"?[...r[o]]:r[o])}let i;for(i in r)YM.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Cl.basename(this.path):void 0}set basename(t){$M(t,"basename"),XM(t,"basename"),this.path=Cl.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Cl.dirname(this.path):void 0}set dirname(t){AU(this.basename,"dirname"),this.path=Cl.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Cl.extname(this.path):void 0}set extname(t){if(XM(t,"extname"),AU(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Cl.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){B5(t)&&(t=cGe(t)),$M(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Cl.basename(this.path,this.extname):void 0}set stem(t){$M(t,"stem"),XM(t,"stem"),this.path=Cl.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new eo(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function XM(e,t){if(e&&e.includes(Cl.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Cl.sep+"`")}function $M(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function AU(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function dGe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const hGe=function(e){const n=this.constructor.prototype,i=n[e],o=function(){return i.apply(o,arguments)};Object.setPrototypeOf(o,n);const l=Object.getOwnPropertyNames(i);for(const c of l){const a=Object.getOwnPropertyDescriptor(i,c);a&&Object.defineProperty(o,c,a)}return o},fGe={}.hasOwnProperty;class lI extends hGe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ZWe()}copy(){const t=new lI;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(qM(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(JM("data",this.frozen),this.namespace[t]=r,this):fGe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(JM("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=iw(t),n=this.parser||this.Parser;return KM("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),KM("process",this.parser||this.Parser),QM("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(o,l){const c=iw(t),a=n.parse(c);n.run(a,c,function(u,d,h){if(u||!d||!h)return s(u);const f=d,m=n.stringify(f,h);gGe(m)?h.value=m:h.result=m,s(u,h)});function s(u,d){u||!d?l(u):o?o(d):r(void 0,d)}}}processSync(t){let r=!1,n;return this.freeze(),KM("processSync",this.parser||this.Parser),QM("processSync",this.compiler||this.Compiler),this.process(t,i),MU("processSync","process",r),n;function i(o,l){r=!0,yU(o),n=l}}run(t,r,n){CU(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?o(void 0,n):new Promise(o);function o(l,c){const a=iw(r);i.run(t,a,s);function s(u,d,h){const f=d||t;u?c(u):l?l(f):n(void 0,f,h)}}}runSync(t,r){let n=!1,i;return this.run(t,r,o),MU("runSync","run",n),i;function o(l,c){yU(l),i=c,n=!0}}stringify(t,r){this.freeze();const n=iw(r),i=this.compiler||this.Compiler;return QM("stringify",i),CU(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(JM("use",this.frozen),t!=null)if(typeof t=="function")a(t,r);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(s){if(typeof s=="function")a(s,[]);else if(typeof s=="object")if(Array.isArray(s)){const[u,...d]=s;a(u,d)}else l(s);else throw new TypeError("Expected usable value, not `"+s+"`")}function l(s){if(!("plugins"in s)&&!("settings"in s))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(s.plugins),s.settings&&(i.settings=qM(!0,i.settings,s.settings))}function c(s){let u=-1;if(s!=null)if(Array.isArray(s))for(;++u<s.length;){const d=s[u];o(d)}else throw new TypeError("Expected a list of plugins, not `"+s+"`")}function a(s,u){let d=-1,h=-1;for(;++d<n.length;)if(n[d][0]===s){h=d;break}if(h===-1)n.push([s,...u]);else if(u.length>0){let[f,...m]=u;const p=n[h][1];N5(p)&&N5(f)&&(f=qM(!0,p,f)),n[h]=[s,f,...m]}}}}const pGe=new lI().freeze();function KM(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function QM(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function JM(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function CU(e){if(!N5(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function MU(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function iw(e){return mGe(e)?e:new HZ(e)}function mGe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function gGe(e){return typeof e=="string"||vGe(e)}function vGe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const yGe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",TU=[],PU={allowDangerousHtml:!0},bGe=/^(https?|ircs?|mailto|xmpp)$/i,xGe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function wGe(e){const t=e.allowedElements,r=e.allowElement,n=e.children||"",i=e.className,o=e.components,l=e.disallowedElements,c=e.rehypePlugins||TU,a=e.remarkPlugins||TU,s=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...PU}:PU,u=e.skipHtml,d=e.unwrapDisallowed,h=e.urlTransform||_Ge,f=pGe().use(rWe).use(a).use(QWe,s).use(c),m=new HZ;typeof n=="string"&&(m.value=n);for(const x of xGe)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+yGe+x.id,void 0);const p=f.parse(m);let g=f.runSync(p,m);return i&&(g={type:"element",tagName:"div",properties:{className:i},children:g.type==="root"?g.children:[g]}),UZ(g,v),OUe(g,{Fragment:F.Fragment,components:o,ignoreInvalidStyle:!0,jsx:F.jsx,jsxs:F.jsxs,passKeys:!0,passNode:!0});function v(x,y,b){if(x.type==="raw"&&b&&typeof y=="number")return u?b.children.splice(y,1):b.children[y]={type:"text",value:x.value},y;if(x.type==="element"){let w;for(w in HM)if(Object.hasOwn(HM,w)&&Object.hasOwn(x.properties,w)){const _=x.properties[w],S=HM[w];(S===null||S.includes(x.tagName))&&(x.properties[w]=h(String(_||""),w,x))}}if(x.type==="element"){let w=t?!t.includes(x.tagName):l?l.includes(x.tagName):!1;if(!w&&r&&typeof y=="number"&&(w=!r(x,y,b)),w&&b&&typeof y=="number")return d&&x.children?b.children.splice(y,1,...x.children):b.children.splice(y,1),y}}}function _Ge(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||r>-1&&t>r||n>-1&&t>n||bGe.test(e.slice(0,t))?e:""}const SGe=()=>{const[e,t]=G.useState(0),[r,n]=G.useState([]);G.useEffect(()=>{(async u=>{try{n(ez)}catch(d){console.log(d)}})()},[e]);const i=()=>{console.log("CLu"),t(s=>s-1),e<=0&&t(r.length-1)},o=()=>{t(s=>s+1),e>=r.length-1&&t(0)},{desc:l,image:c,title:a}=ez.length>0?r[e]||{}:{};return F.jsx("div",{className:"testi-cont",children:F.jsx("section",{className:"testimonials",children:F.jsxs("div",{className:"container testimonials__container",children:[F.jsx("div",{className:"testimonial",children:F.jsxs("div",{className:"testi-user",children:[F.jsx("div",{className:"testimonial__avatar",children:F.jsx("img",{src:c,alt:"Name"})}),F.jsx("p",{className:"testimonial__quote",children:F.jsx(wGe,{children:`${l}`})}),F.jsx("h5",{children:a})]})}),F.jsxs("div",{className:"testimonials__btn-container",children:[F.jsx("button",{className:"testimonials__btn",onClick:i,children:F.jsx(YFe,{})}),F.jsx("button",{className:"testimonials__btn",onClick:o,children:F.jsx(XFe,{})})]})]})})})};var WZ={exports:{}},ZM={exports:{}},kU;function EGe(){return kU||(kU=1,function(e,t){(function(r,n){e.exports=n()})(self,function(){return function(){var r,n={90643:function(c){c.exports.default=["  ..."," "," ",null,"  ","    ","       :","  ","    XDSoft.net - Chupurnov Valeriy.   .","","   ","    "," ","     ","","","","","   ","  "," "," "," "," ","  "," "," ","  / "," "," "," ","  ",""," 1"," 2"," 3"," 4","","",""," ","  ","  ","  ","  "," "," ","","","","","","","","","","","","-- --","Src",""," ","","    ","","",""," ","","","    HTML.   HTML","  HTML","",""," ","  ","   ","    Microsoft Word/Excel .         "," ","     ","    ","  ","  "," "," "," "," "," "," ","","","","","","","","  ","  ","  ","  "," "," "," "," ",""," ","","","","","","","","",""," ","",""," ","","",""," ",""," "," ","",""," ",""," ",""," "," "," Nofollow"," ","","","","URL",""," ","","  ",""," "," ","",""," "," "," ","","","  ","","","","","%d ","%d ",null," %s"," "," "," "," "," ",""," "," ","",""," %s","  ",""," ",""," ",""," "," ","","","  ","    .     ","     !","","     ."," ","  ","","","  ","       ."," ","","   "," ","","   ","   ","","","","",""," "," ","  ","    "]},52532:function(c){c.exports.default=["Napi nco","O Jodit","Editor Jodit","Verze pro nekomern pouit","Jodit Uivatelsk pruka","obsahuje detailn npovdu","Pro informace o licenci, prosm, pejdte na nai strnku:","Koupit plnou verzi","Copyright  XDSoft.net - Chupurnov Valeriy. Vechna prva vyhrazena.","Anchor","Otevt v nov zloce","Otevt v celoobrazovkovm reimu","Vyistit formtovn","Barva vpln a psma","Vped","Zpt","Tun","Kurzva","Odrky","slovan seznam","Zarovnat na sted","Zarovnat do bloku","Zarovnat vlevo","Zarovnat vpravo","Vloit horizontln linku","Vloit obrzek","Vloit soubor","Vloit video (YT/Vimeo)","Vloit odkaz","Velikost psma","Typ psma","Formtovat blok","Normln text","Nadpis 1","Nadpis 2","Nadpis 3","Nadpis 4","Citt","Kd","Vloit","Vloit tabulku","Zmenit odsazen","Zvtit odsazen","Vybrat speciln symbol","Vloit speciln symbol","Pout formt","Zmnit md","Okraje","horn","prav","spodn","lev","Styly","Tdy","Zarovnn","Vpravo","Na sted","Vlevo","--nenastaveno--","src","Titulek","Alternativn text (alt)","Link","Otevt link v nov zloce","Obrzek","soubor","Rozen","Vlastnosti obrzku","Zpt","Ok","V text se podob HTML. Vloit ho jako HTML?","Vloit jako HTML","Ponechat originl","Vyistit","Vloit jako TEXT","Vloit pouze TEXT","Detekovn fragment z Wordu nebo Excelu","Obsah, kter vkldte, je pravdpodobn z Microsoft Word / Excel. Chcete ponechat formt nebo vloit pouze text?","Prohle soubor","Chyba pi natn seznamu soubor","Chyba pi natn sloek","Jste si jist()?","Nzev sloky","Vytvoit sloku","nzev","Pethnte sem obrzek","Pethnte sem soubor","nebo kliknte","Alternativn text","Server","Nahrt","Pozad","Text","Nahoru","Na sted","Dolu","Vloit sloupec ped","Vloit sloupec za","Vloit dek nad","Vloit dek pod","Vymazat tabulku","Vymazat dku","Vymazat sloupec","Vyistit buku","HTML","tun","kurzva","ttec","odkaz","zpt","vped","tabulka","obrzek","guma","odstavec","velikost psma","video","psmo"," editoru","tisk","podtreno","pekrtnuto","zvtit odsazen","zmenit odsazen","celoobrazovkov reim","smrsknout","Linka","Odrka","slovan seznam","Vyjmout","Oznait ve","Kd","Otevt odkaz","Upravit odkaz","Atribut no-follow","Odstranit odkaz","Zobrazit","Chcete-li upravit","Aktualizovat","URL","Editovat","Horizontln zarovnn","Filtr","Dle posledn zmny","Dle nzvu","Dle velikosti","Pidat sloku","Reset","Uloit","Uloit jako...","Zmnit rozmr","Oezat","ka","Vka","Ponechat pomr","Ano","Ne","Vyjmout","Oznait","Znaky: %d","Slova: %d","Ve","Oznait %s","Oznait ve","Vertikln zarovnn","Rozdlit","Rozdlit vertikln","Rozdlit horizontln","Spojit","Pidat sloupec","Pidat dek","Vymazat","Okraj","Licence: %s","Pekrtnuto","Podtreno","Horn index","Doln index","Vyjmout oznaen","Zalomen","Najdi","Nahradit za","Vymte","Vloit","Vyber obsah pro vloen","Mete upravovat pouze sv obrzky. Nast obrzek?","Obrzek byl spn nahrn!","paleta","V tomto adresi nejsou dn soubory.","pejmenovat","Zadejte nov nzev","nhled","Staen","Vloit ze schrnky","V prohle nepodporuje pm pstup do schrnky.","Koprovat vbr","koprovn","Border radius","Zobrazit vechny","Plat","Prosm, vyplte toto pole","Prosm, zadejte webovou adresu","Vchoz","Kruh","Dot","Quadrate","Najt","Najt Pedchoz","Najt Dal","Vlote nzev tdy","Stisknte Alt pro vlastn zmnu velikosti"]},75178:function(c){c.exports.default=["Bitte geben Sie einen Text ein","ber Jodit","Jodit Editor",null,"Das Jodit Benutzerhandbuch","beinhaltet ausfhrliche Informationen wie Sie den Editor verwenden knnen.","Fr Informationen zur Lizenz, besuchen Sie bitte unsere Web-Prsenz:","Vollversion kaufen","Copyright  XDSoft.net - Chupurnov Valeriy. Alle Rechte vorbehalten.","Anker","In neuer Registerkarte ffnen","Editor in voller Gre ffnen","Formatierung lschen","Fllfarbe oder Textfarbe ndern","Wiederholen","Rckgngig machen","Fett","Kursiv","Unsortierte Liste einfgen","Nummerierte Liste einfgen","Mittig ausrichten","Blocksatz","Links ausrichten","Rechts ausrichten","Horizontale Linie einfgen","Bild einfgen","Datei einfgen","Youtube/vimeo Video einfgen","Link einfgen","Schriftgre","Schriftfamilie","Formatblock einfgen","Normal","berschrift 1","berschrift 2","berschrift 3","berschrift 4","Zitat","Code","Einfgen","Tabelle einfgen","Einzug verkleinern","Einzug vergrern","Sonderzeichen auswhlen","Sonderzeichen einfgen","Format kopieren","nderungsmodus","Rnder","Oben","Rechts","Unten","Links","CSS Stil","CSS Klassen","Ausrichtung","Rechts","Zentriert","Links","Keine","Pfad","Titel","Alternativer Text","Link","Link in neuem Tab ffnen","Bild","Datei","Fortgeschritten","Bildeigenschaften","Abbrechen","OK","Ihr Text hnelt HTML-Code. Als HTML beibehalten?","Als HTML einfgen?","Original speichern","Subern","Als Text einfgen","Nur Text einfgen","In Word formatierter Text erkannt","Der Inhalt, den Sie einfgen, stammt aus einem Microsoft Word / Excel-Dokument. Mchten Sie das Format erhalten oder bereinigen?","Dateibrowser","Fehler beim Laden der Liste","Fehler beim Laden der Ordner","Sind Sie sicher?","Geben Sie den Verzeichnisnamen ein","Verzeichnis erstellen","Typname","Bild hier hinziehen","Datei lschen","oder hier klicken","Alternativtext","Auswhlen","Hochladen","Hintergrund","Text","Oben","Mittig","Unten","Spalte davor einfgen","Spalte danach einfgen","Zeile oberhalb einfgen","Zeile unterhalb einfgen","Tabelle lschen","Zeile lschen","Spalte lschen","Zelle leeren","HTML","Fett gedruckt","Kursiv","Brste","Verknpfung","Rckgngig machen","Wiederholen","Tabelle","Bild","Radiergummi","Absatz","Schriftgre","Video","Schriftart","ber","Drucken","Unterstreichen","Durchstreichen","Einzug","Herausstellen","Vollgre","Schrumpfen","die Linie","Liste von","Nummerierte Liste","Schneiden","Whlen Sie Alle aus","Code einbetten","Link ffnen","Link bearbeiten","Nofollow-Attribut","Link entfernen","Ansehen","Bearbeiten","Aktualisieren","URL","Bearbeiten","Horizontale Ausrichtung","Filter","Sortieren nach gendert","Nach Name sortieren","Nach Gre sortiert","Ordner hinzufgen","Wiederherstellen","Speichern","Speichern als","Gre ndern","Gre anpassen","Breite","Hhe","Seitenverhltnis beibehalten","Ja","Nein","Entfernen","Markieren","Zeichen: %d","Wrter: %d","Alles markieren","Markieren: %s","Alles markieren","Vertikale Ausrichtung","Unterteilen","Vertikal unterteilen","Horizontal unterteilen","Vereinen","Spalte hinzufgen","Zeile hinzufgen","Lschen","Rand",null,"Durchstreichen","Unterstreichen","Hochstellen","Tiefstellen","Auswahl ausschneiden","Pause","Suche nach","Ersetzen durch","Ersetzen","Einfgen","Whlen Sie den Inhalt zum Einfgen aus","Sie knnen nur Ihre eigenen Bilder bearbeiten. Dieses Bild auf den Host herunterladen?","Das Bild wurde erfolgreich auf den Server hochgeladen!","Palette","In diesem Verzeichnis befinden sich keine Dateien.","Umbenennen","Geben Sie einen neuen Namen ein","Vorschau","Herunterladen","Aus Zwischenablage einfgen","Ihr Browser untersttzt keinen direkten Zugriff auf die Zwischenablage.","Auswahl kopieren","Kopieren","Radius fr abgerundete Ecken","Alle anzeigen","Anwenden","Bitte fllen Sie dieses Feld aus","Bitte geben Sie eine Web-Adresse ein","Standard","Kreis","Punkte","Quadrate","Suchen","Suche vorherige","Weitersuchen","className (CSS) einfgen","Drcken Sie Alt fr benutzerdefinierte Grenanpassung"]},51048:function(c){c.exports.default={"Type something":"Start writing...",pencil:"Edit",Quadrate:"Square"}},22999:function(c){c.exports.default=["Escriba algo...","Acerca de Jodit","Jodit Editor",null,"Gua de usuario Jodit","contiene ayuda detallada para el uso.","Para informacin sobre la licencia, por favor visite nuestro sitio:","Compre la versin completa","Copyright  XDSoft.net - Chupurnov Valeriy. Todos los derechos reservados.","Anclar","Abrir en nueva pestaa","Abrir editor en pantalla completa","Limpiar formato","Color de relleno o de letra","Rehacer","Deshacer","Negrita","Cursiva","Insertar lista no ordenada","Insertar lista ordenada","Alinear Centrado","Alinear Justificado","Alinear Izquierda","Alinear Derecha","Insertar lnea horizontal","Insertar imagen","Insertar archivo","Insertar video de Youtube/vimeo","Insertar vnculo","Tamao de letra","Familia de letra","Insertar bloque","Normal","Encabezado 1","Encabezado 2","Encabezado 3","Encabezado 4","Cita","Cdigo","Insertar","Insertar tabla","Disminuir sangra","Aumentar sangra","Seleccionar caracter especial","Insertar caracter especial","Copiar formato","Cambiar modo","Mrgenes","arriba","derecha","abajo","izquierda","Estilos CSS","Clases CSS","Alinear","Derecha","Centrado","Izquierda","--No Establecido--","Fuente","Ttulo","Texto Alternativo","Vnculo","Abrir vnculo en nueva pestaa","Imagen","Archivo","Avanzado","Propiedades de imagen","Cancelar","Aceptar","El cdigo es similar a HTML. Mantener como HTML?","Pegar como HTML?","Mantener","Limpiar","Insertar como texto","Insertar solo texto","Pegado desde Word detectado","El contenido pegado proviene de un documento de Microsoft Word/Excel. Desea mantener el formato o limpiarlo?","Buscar archivo","Error al cargar la lista","Error al cargar las carpetas","Est seguro?","Entre nombre de carpeta","Crear carpeta","Entre el nombre","Soltar imagen","Soltar archivo","o click","Texto alternativo","Buscar","Subir","Fondo","Texto","Arriba","Centro","Abajo","Insertar columna antes","Interar columna despus","Insertar fila arriba","Insertar fila debajo","Borrar tabla","Borrar fila","Borrar columna","Vaciar celda","HTML","negrita","cursiva","Brocha","Vnculo","deshacer","rehacer","Tabla","Imagen","Borrar","Prrafo","Tamao de letra","Video","Letra","Acerca de","Imprimir","subrayar","tachar","sangra","quitar sangra","Tamao completo","encoger","lnea horizontal","lista sin ordenar","lista ordenada","Cortar","Seleccionar todo","Incluir cdigo","Abrir vnculo","Editar vnculo","No seguir","Desvincular","Ver","Para editar","Actualizar","URL","Editar","Alineacin horizontal","Filtrar","Ordenar por fecha modificacin","Ordenar por nombre","Ordenar por tamao","Agregar carpeta","Resetear","Guardar","Guardar como...","Redimensionar","Recortar","Ancho","Alto","Mantener relacin de aspecto","Si","No","Quitar","Seleccionar","Caracteres: %d","Palabras: %d","Todo","Seleccionar: %s","Seleccionar todo","Alineacin vertical","Dividir","Dividir vertical","Dividir horizontal","Mezclar","Agregar columna","Agregar fila","Borrar","Borde",null,"Tachado","Subrayado","superndice","subndice","Cortar seleccin","Pausa","Buscar","Reemplazar con","Reemplazar","Pegar","Seleccionar contenido para pegar","Solo puedes editar tus propias imgenes. Descargar esta imagen en el servidor?","La imagen se ha subido correctamente al servidor!","paleta","No hay archivos en este directorio.","renombrar","Ingresa un nuevo nombre","avance","Descargar","Pegar desde el portapapeles","Su navegador no soporta el acceso directo en el portapapeles.","Seleccin de copia","copia","Radio frontera","Mostrar todos los","Aplicar","Por favor, rellene este campo","Por favor, introduzca una direccin web","Predeterminado","Crculo","Punto","Cuadro","Encontrar","Buscar Anterior","Buscar Siguiente","Insertar nombre de clase","Presione Alt para cambiar el tamao personalizado"]},34145:function(c){c.exports.default=["Ecrivez ici","A propos de Jodit","Editeur Jodit",null,"Guide de l'utilisateur","Aide dtaille  l'utilisation","Consulter la licence sur notre site web:","Acheter la version complte","Copyright  XDSoft.net - Chupurnov Valeriy. Tous droits rservs.","Ancre","Ouvrir dans un nouvel onglet","Ouvrir l'diteur en pleine page","Supprimer le formattage","Modifier la couleur du fond ou du texte","Refaire","Dfaire","Gras","Italique","Liste non ordonne","Liste ordonne","Centrer","Justifier","Aligner  gauche ","Aligner  droite","Insrer une ligne horizontale","Insrer une image","Insrer un fichier","Insrer une vido","Insrer un lien","Taille des caractres","Famille des caractres","Bloc formatt","Normal","Titre 1","Titre 2","Titre 3","Titre 4","Citation","Code","Insrer","Insrer un tableau","Diminuer le retrait","Retrait plus","Slectionnez un caractre spcial","Insrer un caractre spcial","Cloner le format","Mode wysiwyg <-> code html","Marges","haut","droite","Bas","gauche","Styles","Classes","Alignement","Droite","Centre","Gauche","--Non disponible--","Source","Titre","Alternative","Lien","Ouvrir le lien dans un nouvel onglet","Image","fichier","Avanc","Proprits de l'image","Annuler","OK","Votre texte que vous essayez de coller est similaire au HTML. Collez-le en HTML?","Coller en HTML?","Sauvegarder l'original","Nettoyer","Coller en tant que texte","Coller le texte seulement","C'est peut-tre un fragment de Word ou Excel","Le contenu que vous insrez provient d'un document Microsoft Word / Excel. Voulez-vous enregistrer le format ou l'effacer?","Explorateur de fichiers","Erreur de liste de chargement","Erreur de dossier de chargement","Etes-vous srs ?","Entrer le nom de dossier","Crer un dossier","type de fichier","Coller une image","Dposer un fichier","ou cliquer","Texte de remplacemement","Chercher","Charger","Arrire-plan","Texte","Haut","Milieu","Bas","Insrer une colonne avant","Insrer une colonne aprs","Insrer une ligne au dessus","Insrer une ligne en dessous","Supprimer le tableau","Supprimer la ligne","Supprimer la colonne","Vider la cellule","la source","gras","italique","pinceau","lien","annuler","refaire","tableau","image","gomme","clause","taille de police","Video","police"," propos de l'diteur","impression","soulign","barr","indentation","retrait","taille relle","taille conventionnelle","la ligne","Liste","Liste numrote","Couper","Slectionner tout",null,"Ouvrir le lien","Modifier le lien","Attribut Nofollow","Supprimer le lien","Voir","Pour diter","Mettre  jour","URL",null,"Alignement horizontal","Filtre","Trier par modification","Trier par nom","Trier par taille","Crer le dossier","Restaurer","Sauvegarder","Enregistrer sous","Changer la taille","Taille de garniture","Largeur","Hauteur","Garder les proportions","Oui","Non","Supprimer","Mettre en vidence","Symboles: %d","Mots: %d",null,"Mettre en vidence: %s","Tout slectionner","Alignement vertical","Split","Split vertical","Split horizontal","aller","Ajouter une colonne","Ajouter une range","Effacer","Bordure",null,"Barrer","Souligner","exposant","indice","Couper la slection","Pause","Rechercher","Remplacer par","Remplacer","Coller","Choisissez le contenu  coller","Vous ne pouvez diter que vos propres images. Tlchargez cette image sur l'hte?","L'image a t tlcharge avec succs sur le serveur!","Palette","Il n'y a aucun fichier dans ce rpertoire.","renommer","Entrez un nouveau nom","Aperu","Tlcharger","Coller  partir du presse-papiers","Votre navigateur ne prend pas en charge l'accs direct au presse-papiers.","Copier la slection","copie","Rayon des bordures","Afficher tous","Appliquer","Veuillez remplir ce champ","Veuillez entrer une adresse web","Par dfaut","Cercle","Point","Quadratique","Trouver","Prcdent","Suivant","Insrer un nom de classe","Appuyez sur Alt pour un redimensionnement personnalis"]},40272:function(c){c.exports.default=[" ...","About Jodit","Jodit Editor",null,"Jodit User's Guide","contains detailed help for using.","For information about the license, please go to our website:","Buy full version","Copyright  XDSoft.net - Chupurnov Valeriy. All rights reserved."," ","  ","    "," ","    "," ","","","","  ","  ",""," "," "," ","  "," "," ","   YouTube/Vimeo"," "," ",""," ",""," 1"," 2"," 3"," 4","","",""," "," "," ","  ","  "," "," ","","","","",""," CSS"," CSS","","","","","-- --","",""," ","","  ","","",""," ","","","  HTML,   HTML"," HTML","",""," ","  ",'  ""',"    /.       "," ","    ","   ","  ?","  "," "," "," "," "," "," ","","","","","","","","  ","  ","  ","  "," "," "," "," ","HTML","","","","",""," ","","","",""," ","","","",""," "," "," "," "," ",""," "," "," ",""," "," "," "," "," "," ",""," ","","",""," ","","  ","  ","  "," ","",""," ..."," ","","",""," ","","","","",": %d",": %d","",": %s"," "," ",""," "," ",""," "," ","","",null," "," ","superscript","subscript"," "," ",""," ","","","  ","     .    ?","  !","","   .","","  "," ",""," ","      ."," ",""," ","  ","","   ","   "," ","",""," ","","  ","  ","   ","      "]},2978:function(c){c.exports.default=["rjon be valamit","Joditrl","Jodit Editor","Ingyenes vltozat","Jodit tmutat","tovbbi segtsget tartalmaz","Tovbbi licence informcikrt ltogassa meg a weboldalunkat:","Teljes verzi megvsrlsa","Copyright  XDSoft.net - Chupurnov Valeriy. Minden jog fenntartva.","Horgony","Megnyits j lapon","Megnyits teljes mretben","Formzs trlse","Httr/szveg szn","jra","Visszavon","Flkvr","Dlt","Pontozott lista","Szmozott lista","Kzpre zrt","Sorkizrt","Balra zrt","Jobbra zrt","Vzszintes vonal beszrsa","Kp beszrs","Fjl beszrs","Youtube vide beszrsa","Link beszrs","Betmret","Bettpus","Formzott blokk beszrsa","Norml","Fejlc 1","Fejlc 2","Fejlc 3","Fejlc 4","Idzet","Kd","Beszr","Tblzat beszrsa","Behzs cskkentse","Behzs nvelse","Specilis karakter kivlasztsa","Specilis karakter beszrsa","Kp formzsa","Nzet vltsa","Szeglyek","fels","jobb","als","bal","CSS stlusok","CSS osztlyok","Igazts","Jobbra","Kzpre","Balra","Nincs","Forrs","Cm","Helyettest szveg","Link","Link megnyitsa j lapon","Kp","Fjl","Halad","Kp tulajdonsgai","Mgsem","OK","A beillesztett szveg HTML-nek tnik. Megtartsuk HTML-knt?","Beszrs HTML-knt","Megtarts","Elvets","Beszrs szvegknt","Csak szveg beillesztse","Word-bl msolt szveg","A beillesztett tartalom Microsoft Word/Excel dokumentumbl szrmazik. Meg szeretn tartani a formtumt?","Fjl tallz","Hiba a lista betltse kzben","Hiba a mappk betltse kzben","Biztosan ezt szeretn?","rjon be egy mappanevet","Mappa ltrehozsa","rjon be bevet","Hzza ide a kpet","Hzza ide a fjlt","vagy kattintson","Helyettest szveg","Tallz","Feltlt","Httr","Szveg","Fent","Kzpen","Lent","Oszlop beszrs el","Oszlop beszrs utna","Sor beszrs fl","Sor beszrs al","Tblzat trlse","Sor trlse","Oszlop trlse","Cella tartalmnak trlse","HTML","Flkvr","Dlt","Ecset","Link","Visszavon","jra","Tblzat","Kp","Trls","Paragrfus","Betmret","Vide","Bet","Rlunk","Nyomtat","Alhzott","thzott","Behzs","Aussenseiter","Teljes mret","sszenyom","Egyenes vonal","Lista","Szmozott lista","Kivg","sszes kijellse","Begyazott kd","Link megnyitsa","Link szerkesztse","Nincs kvets","Link levlasztsa","fellvizsglat","Szerkeszts","Frisst","URL","Szerkeszt","Vzszintes igazts","Szr","Rendezs mdosts szerint","Rendezs nv szerint","Rendezs mret szerint","Mappa hozzads","Visszallt","Ments","Ments msknt...","tmretezs","Kivg","Szlessg","Magassg","Kparny megtartsa","Igen","Nem","Eltvolt","Kijell","Karakterek szma: %d","Szavak szma: %d","sszes","Kijell: %s","sszes kijellse","Fggleges igazts","Feloszts","Fggleges feloszts","Vzszintes feloszts","sszevons","Oszlop hozzads","Sor hozzads","Trls","Szegly",null,"thzott","Alhzott","Fels index","Als index","Kivgs","Sznet","Keress","Csere erre","Cserlje ki","Beilleszts","Vlasszon tartalmat a beillesztshez","Csak a sajt kpeit tudja szerkeszteni. Letlti ezt a kpet?","Kp sikeresen feltltve!","Palette","Er zijn geen bestanden in deze map.","tnevezs","Adja meg az j nevet","elnzet","Letlts","Illessze be a vglap","A bngsz nem tmogatja a kzvetlen hozzfrst biztost a vglapra.","Msols kivlasztsa","msols","Hatr sugr","sszes","Alkalmazni","Krjk, tltse ki ezt a mezt,","Krjk, rja be a webcmet","Alaprtelmezett","Kr","Pont","Quadrate","Tallni","Megtallja Elz","Kvetkez Keresse","Helyezze be az osztly nevt","Nyomja meg az Alt egyni tmretezs"]},99113:function(c){c.exports.default=["Ketik sesuatu","Tentang Jodit","Editor Jodit","Versi Bebas Non-komersil","Panduan Pengguna Jodit","mencakup detail bantuan penggunaan","Untuk informasi tentang lisensi, silakan kunjungi website:","Beli versi lengkap","Hak Cipta  XDSoft.net - Chupurnov Valeriy. Hak cipta dilindungi undang-undang.","Tautan","Buka di tab baru","Buka editor dalam ukuran penuh","Hapus Pemformatan","Isi warna atau atur warna teks","Ulangi","Batalkan","Tebal","Miring","Sisipkan Daftar Tidak Berurut","Sisipkan Daftar Berurut","Tengah","Penuh","Kiri","Kanan","Sisipkan Garis Horizontal","Sisipkan Gambar","Sisipkan Berkas","Sisipkan video youtube/vimeo","Sisipkan tautan","Ukuran font","Keluarga font","Sisipkan blok format","Normal","Heading 1","Heading 2","Heading 3","Heading 4","Kutip","Kode","Sisipkan","Sisipkan tabel","Kurangi Indentasi","Tambah Indentasi","Pilih Karakter Spesial","Sisipkan Karakter Spesial","Formar warna","Ubah mode","Batas","atas","kanan","bawah","kiri","Gaya","Class","Rata","Kanan","Tengah","Kiri","--Tidak diset--","Src","Judul","Teks alternatif","Tautan","Buka tautan di tab baru","Gambar","berkas","Lanjutan","Properti gambar","Batal","Ya","Kode Anda cenderung ke HTML. Biarkan sebagai HTML?","Paste sebagai HTML","Jaga","Bersih","Sisipkan sebagai teks","Sisipkan hanya teks","Terdeteksi paste dari Word","Konten dipaste dari dokumen Microsoft Word/Excel. Apakah Anda ingin tetap menjaga format atau membersihkannya?","Penjelajah Berkas","Error ketika memuat list","Error ketika memuat folder","Apakah Anda yakin?","Masukkan nama Direktori","Buat direktori","ketik nama","Letakkan gambar","Letakkan berkas","atau klik","Teks alternatif","Jelajahi","Unggah","Latar Belakang","Teks","Atas","Tengah","Bawah","Sisipkan kolom sebelumnya","Sisipkan kolom setelahnya","Sisipkan baris di atasnya","Sisipkan baris di bawahnya","Hapus tabel","Hapus baris","Hapus kolom","Kosongkan cell","sumber","tebal","miring","sikat","tautan","batalkan","ulangi","tabel","gambar","penghapus","paragraf","ukuran font","video","font","tentang","cetak","garis bawah","coret","menjorok ke dalam","menjorok ke luar","ukuran penuh","menyusut","hr","ul","ol","potong","Pilih semua","Kode embed","Buka tautan","Edit tautan","No follow","Hapus tautan","Mata","pensil","Perbarui","URL","Edit","Perataan horizontal","Filter","Urutkan berdasarkan perubahan","Urutkan berdasarkan nama","Urutkan berdasarkan ukuran","Tambah folder","Reset","Simpan","Simpan sebagai...","Ubah ukuran","Crop","Lebar","Tinggi","Jaga aspek rasio","Ya","Tidak","Copot","Pilih","Karakter: %d","Kata: %d","Semua","Pilih %s","Pilih semua","Rata vertikal","Bagi","Bagi secara vertikal","Bagi secara horizontal","Gabungkan","Tambah kolom","tambah baris","Hapus","Bingkai","Lisensi: %s","Coret","Garis Bawah","Superskrip","Subskrip","Potong pilihan","Berhenti","Mencari","Ganti dengan","Mengganti","Paste","Pilih konten untuk dipaste","Anda hanya dapat mengedit gambar Anda sendiri. Unduh gambar ini di host?","Gambar telah sukses diunggah ke host!","palet","Tidak ada berkas","ganti nama","Masukkan nama baru","pratinjau","Unduh","Paste dari clipboard","Browser anda tidak mendukung akses langsung ke clipboard.","Copy seleksi","copy","Border radius","Tampilkan semua","Menerapkan","Silahkan mengisi kolom ini","Silahkan masukkan alamat web","Default","Lingkaran","Dot","Kuadrat","Menemukan","Menemukan Sebelumnya","Menemukan Berikutnya","Masukkan nama kelas","Tekan Alt untuk mengubah ukuran kustom"]},51923:function(c){c.exports.default=["Scrivi qualcosa...","A proposito di Jodit","Jodit Editor",null,"Guida utente di Jodit","contiene una guida dettagliata per l'uso.","Per informazioni sulla licenza, si prega di visitare il nostro sito:","Acquista la versione completa","Copyright  XDSoft.net - Chupurnov Valeriy. Alle Rechte vorbehalten.","Ancora","Apri in una nuova scheda","Apri l'editor a schermo intero","Formato chiaro","Riempi colore o lettera","Ripristina","Annulla","Grassetto","Corsivo","Inserisci lista non ordinata","Inserisci l'elenco ordinato","Allinea Centra","Allineare Giustificato","Allinea a Sinistra","Allinea a Destra","Inserisci la linea orizzontale","Inserisci immagine","Inserisci un file","Inserisci video Youtube/Vimeo","Inserisci il link","Dimensione del carattere","Tipo di font","Inserisci blocco","Normale","Heading 1","Heading 2","Heading 3","Heading 4","Citazione","Codice","Inserisci","Inserisci tabella","Riduci il rientro","Aumenta il rientro","Seleziona una funzione speciale","Inserisci un carattere speciale","Copia formato","Cambia modo","Margini","su","destra","gi","sinistra","Stili CSS","Classi CSS","Allinea","Destra","Centro","Sinistra","--Non Impostato--","Fonte","Titolo","Testo Alternativo","Link","Apri il link in una nuova scheda","Immagine","Archivio","Avanzato","Propriet dell'immagine","Annulla","Accetta","Il codice  simile all'HTML. Mantieni come HTML?","Incolla come HTML?","Mantieni","Pulisci","Inserisci come testo","Inserisci solo il testo","Incollato da Word rilevato","Il contenuto incollato proviene da un documento Microsoft Word / Excel. Vuoi mantenere il formato o pulirlo?","Cerca il file","Errore durante il caricamento dell'elenco","Errore durante il caricamento delle cartelle","Sei sicuro?","Inserisci il nome della cartella","Crea cartella","Entre el nombre","Rilascia l'immagine","Rilascia file","o click","Testo alternativo","Sfoglia","Carica","Sfondo","Testo","Su","Centro","Sotto","Inserisci prima la colonna","Inserisci colonna dopo","Inserisci la riga sopra","Inserisci la riga sotto","Elimina tabella","Elimina riga","Elimina colonna","Cella vuota","HTML","Grassetto","Corsivo","Pennello","Link","Annulla","Ripristina","Tabella","Immagine","Gomma","Paragrafo","Dimensione del carattere","Video","Font","Approposito di","Stampa","Sottolineato","Barrato","trattino","annulla rientro","A grandezza normale","comprimere","linea orizzontale","lista non ordinata","lista ordinata","Taglia","Seleziona tutto","Includi codice","Apri link","Modifica link","Non seguire","Togli link","Recensione","Per modificare","Aggiornare"," URL","Modifica","Allineamento orizzontale","Filtro","Ordina per data di modifica","Ordina per nome","Ordina per dimensione","Aggiungi cartella","Reset","Salva","Salva con nome...","Ridimensiona","Tagliare","Larghezza","Altezza","Mantenere le proporzioni","Si","No","Rimuovere","Seleziona","Caratteri: %d","Parole: %d","Tutto","Seleziona: %s","Seleziona tutto","Allineamento verticala","Dividere","Dividere verticalmente","Diviso orizzontale","Fondi","Aggiungi colonna","Aggiungi riga","Cancella","Bordo",null,"Barrato","Sottolineato","indice","deponente","Taglia la selezione","Pausa","Cerca","Sostituisci con","Sostituire","Incolla","Seleziona il contenuto da incollare","Puoi modificare solo le tue immagini. Scarica questa immagine sul server?","L'immagine  stata caricata con successo sul server!","tavolozza","Non ci sono file in questa directory.","ungherese","Inserisci un nuovo nome","anteprima","Scaricare","Incolla dagli appunti","Il tuo browser non supporta l'accesso diretto agli appunti.","Selezione di copia","copia","Border radius","Mostra tutti","Applicare","Si prega di compilare questo campo","Si prega di inserire un indirizzo web","Di Default","Cerchio","Dot","Quadrate","Trovare","Trova Precedente","Trova Successivo","Inserisci il nome della classe","Premere Alt per il ridimensionamento personalizzato"]},21268:function(c){c.exports.default=["","Jodit","Jodit Editor",null,"Jodit ","","Jodit Web","","Copyright  XDSoft.net - Chupurnov Valeriy. All rights reserved.","Anchor","","/","","","","","","","","","","","","","","","","Youtube/Vimeo ","","","","","","1","2","3","4","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","HTML","HTML","HTML","Clean","HTML","","Word Paste Detected","The pasted content is coming from a Microsoft Word/Excel document. Do you want to keep the format or clean it up?","File Browser","Error on load list","Error on load folders","Are you sure?","Enter Directory name","Create directory","type name","","","or ","","","","","","","","","","","","","","","","","source","bold","italic","brush","link","undo","redo","table","image","eraser","paragraph","fontsize","video","font","about","print","underline","strikethrough","indent","outdent","fullsize","shrink","","","","","","","","","No follow","","","","","URL","","","Filter","Sort by changed","Sort by name","Sort by size","Add folder","","","Save as ...","","Crop","","","","","","","",": %d",": %d","",": %s","","","","","","","","","","",null,"","","","","","Pause","","","","","","You can only edit your own images. Download this image on the host?","The image has been successfully uploaded to the host!","","There are no files","Rename","Enter new name","","","","","","copy","","","","","","","","","","","","","","Alt"]},11399:function(c){c.exports.default=["Type something","About Jodit","Jodit Editor","Free Non-commercial Version","Jodit User's Guide","contains detailed help for using","For information about the license, please go to our website:","Buy full version","Copyright  XDSoft.net - Chupurnov Valeriy. All rights reserved.","Anchor","Open in new tab","Open in fullsize","Clear Formatting","Fill color or set the text color","Redo","Undo","Bold","Italic","Insert Unordered List","Insert Ordered List","Align Center","Align Justify","Align Left","Align Right","Insert Horizontal Line","Insert Image","Insert file","Insert youtube/vimeo video","Insert link","Font size","Font family","Insert format block","Normal","Heading 1","Heading 2","Heading 3","Heading 4","Quote","Code","Insert","Insert table","Decrease Indent","Increase Indent","Select Special Character","Insert Special Character","Paint format","Change mode","Margins","top","right","bottom","left","Styles","Classes","Align","Right","Center","Left","--Not Set--","Src","Title","Alternative","Link","Open link in new tab","Image","file","Advanced","Image properties","Cancel","Ok","Your code is similar to HTML. Keep as HTML?","Paste as HTML","Keep","Clean","Insert as Text","Insert only Text","Word Paste Detected","The pasted content is coming from a Microsoft Word/Excel document. Do you want to keep the format or clean it up?","File Browser","Error on load list","Error on load folders","Are you sure?","Enter Directory name","Create directory","type name","Drop image","Drop file","or click","Alternative text","Browse","Upload","Background","Text","Top","Middle","Bottom","Insert column before","Insert column after","Insert row above","Insert row below","Delete table","Delete row","Delete column","Empty cell","source","bold","italic","brush","link","undo","redo","table","image","eraser","paragraph","fontsize","video","font","about","print","underline","strikethrough","indent","outdent","fullsize","shrink","hr","ul","ol","cut","selectall","Embed code","Open link","Edit link","No follow","Unlink","Eye","pencil","Update"," URL","Edit","Horizontal align","Filter","Sort by changed","Sort by name","Sort by size","Add folder","Reset","Save","Save as ...","Resize","Crop","Width","Height","Keep Aspect Ratio","Yes","No","Remove","Select","Chars: %d","Words: %d","All","Select %s","Select all","Vertical align","Split","Split vertical","Split horizontal","Merge","Add column","Add row","Delete","Border","License: %s","Strike through","Underline","superscript","subscript","Cut selection","Break","Search for","Replace with","Replace","Paste","Choose Content to Paste","You can only edit your own images. Download this image on the host?","The image has been successfully uploaded to the host!","palette","There are no files","Rename","Enter new name","preview","download","Paste from clipboard","Your browser doesn't support direct access to the clipboard.","Copy selection","copy","Border radius","Show all","Apply","Please fill out this field","Please enter a web address","Default","Circle","Dot","Quadrate","Find","Find Previous","Find Next","Insert className","Press Alt for custom resizing"]},37289:function(c){c.exports.default=[" ","Jodit ","Jodit Editor",null,"Jodit  ","  ","  Jodit   ","  "," XDSoft.net - Chupurnov Valeriy.     .","Anchor","  ","  "," "," ",""," ","",""," "," "," "," "," "," ","  "," "," ","Youtube/Vimeo "," "," ","","  "," "," 1"," 2"," 3"," 4","",""," ",""," "," "," "," "," "," ","","","","","","","","","","","","--  --","(src)",""," (alt)","","  ",null,"",""," ","","","HTML  .  ?","HTML "," ",""," "," ","Word  ","Microsoft Word/Excel  .   ?"," ","  "," "," ?","  "," "," "," "," "," "," ","","","","","","","","  ","  ","  ","  "," "," "," "," ","HTML ","","","",""," ","","","","",""," ","",""," ","","","","",""," "," ",""," "," ",""," ","Embed "," "," ","No follow"," "," ","","","URL",""," ",""," "," "," "," ","","","  ...","",""," "," "," ","","","","",": %d",": %d","",": %s"," "," ","","  ","  "," "," "," ","","",": %s","","","",""," ","","","","","","  ","    .    ?","   !",""," "," ","  ","",""," ","     ."," ",""," "," ","","  !"," URL .","","","","",""," "," ","className ","       "]},26501:function(c){c.exports.default=[" ","Jodit-  ","Jodit ",null,"Jodit  ","    ","      :","   ","    XDSoft.net - Chupurnov Valeriy.   ."," ","  ","  "," ","     ","","","","","  ","  "," "," "," "," ","  "," "," ","Youtube/Vimeo  "," "," "," "," ",""," 1"," 2"," 3"," 4","","",""," ","  ","  ","  ","  "," "," "," ","","","","","CSS ","CSS ","","","","","----"," ",""," ","","   ","","",""," ","","Ok","  HTML   . HTML   ?","HTML  ","","","  ","  ","Word   ","  Microsoft Word/Excel  .        ?"," ","    ","    ","  ?","  "," "," "," "," "," "," ","",""," ","","","","","   ","   ","   ","   "," "," "," "," "," ","","","","","","","","","",""," ","","","",""," "," "," "," "," ","",""," "," ",""," "," "," "," ","Nofollow zellii"," ","","","","URL",""," ","","  "," "," "," ","",""," "," ","","",""," ","","","","",": %d",": %d","",": %s"," "," ",""," "," ",""," "," ","","",null," "," "," "," "," "," ",""," ","","","   ","     .       ?","    ","","    "," ","   "," ","","  ","      ."," ",""," "," ","","   ","   ","","","","",""," "," ","   ","    Alt    "]},17084:function(c){c.exports.default=["Begin met typen..","Over Jodit","Jodit Editor","Gratis niet-commercile versie","Jodit gebruikershandleiding","bevat gedetailleerde informatie voor gebruik.","Voor informatie over de licentie, ga naar onze website:","Volledige versie kopen","Copyright  XDSoft.net - Chupurnov Valeriy. Alle rechten voorbehouden.","Anker","Open in nieuwe tab","Editor in volledig scherm openen","Opmaak verwijderen","Vulkleur of tekstkleur aanpassen","Opnieuw","Ongedaan maken","Vet","Cursief","Geordende list invoegen","Ongeordende lijst invoegen","Centreren","Uitlijnen op volledige breedte","Links uitlijnen","Rechts uitlijnen","Horizontale lijn invoegen","Afbeelding invoegen","Bestand invoegen","Youtube/Vimeo video invoegen","Link toevoegen","Tekstgrootte","Lettertype","Format blok invoegen","Normaal","Koptekst 1","Koptekst 2","Koptekst 3","Koptekst 4","Citaat","Code","Invoegen","Tabel invoegen","Inspringing verkleinen","Inspringing vergroten","Symbool selecteren","Symbool invoegen","Opmaak kopieren","Modus veranderen","Marges","Boven","Rechts","Onder","Links","CSS styles","CSS classes","Uitlijning","Rechts","Gecentreerd","Links","--Leeg--","Src","Titel","Alternatieve tekst","Link","Link in nieuwe tab openen","Afbeelding","Bestand","Geavanceerd","Afbeeldingseigenschappen","Annuleren","OK","Deze code lijkt op HTML. Als HTML behouden?","Invoegen als HTML","Origineel behouden","Opschonen","Als tekst invoegen","Als onopgemaakte tekst invoegen","Word-tekst gedetecteerd","De geplakte tekst is afkomstig van een Microsoft Word/Excel document. Wil je de opmaak behouden of opschonen?","Bestandsbrowser","Fout bij het laden van de lijst","Fout bij het laden van de mappenlijst","Weet je het zeker?","Geef de map een naam","Map aanmaken","Type naam","Sleep hier een afbeelding naartoe","Sleep hier een bestand naartoe","of klik","Alternatieve tekst","Bladeren","Uploaden","Achtergrond","Tekst","Boven","Midden","Onder","Kolom invoegen (voor)","Kolom invoegen (na)","Rij invoegen (boven)","Rij invoegen (onder)","Tabel verwijderen","Rij verwijderen","Kolom verwijderen","Cel leegmaken","Broncode","vet","cursief","kwast","link","ongedaan maken","opnieuw","tabel","afbeelding","gum","paragraaf","lettergrootte","video","lettertype","over","afdrukken","onderstreept","doorgestreept","inspringen","minder inspringen","volledige grootte","kleiner maken","horizontale lijn","lijst","genummerde lijst","knip","alles selecteren","Embed code","link openen","link aanpassen","niet volgen","link verwijderen","Recensie","Om te bewerken","Updaten"," URL","Bewerken","Horizontaal uitlijnen","Filteren","Sorteren op wijzigingsdatum","Sorteren op naam","Sorteren op grootte","Map toevoegen","Herstellen","Opslaan","Opslaan als ...","Grootte aanpassen","Bijknippen","Breedte","Hoogte","Verhouding behouden","Ja","Nee","Verwijderen","Selecteren","Tekens: %d","Woorden: %d","Alles","Selecteer: %s","Selecteer alles","Verticaal uitlijnen","Splitsen","Verticaal splitsen","Horizontaal splitsen","Samenvoegen","Kolom toevoegen","Rij toevoegen","Verwijderen","Rand",null,"Doorstrepen","Onderstrepen","Superscript","Subscript","Selectie knippen","Enter","Zoek naar","Vervangen door","Vervangen","Plakken","Kies content om te plakken","Je kunt alleen je eigen afbeeldingen aanpassen. Deze afbeelding downloaden?","De afbeelding is succesvol geploadet!","Palette","Er zijn geen bestanden in deze map.","Hongaars","Voer een nieuwe naam in","voorvertoning","Download","Plakken van klembord","Uw browser ondersteunt geen directe toegang tot het klembord.","Selectie kopiren","kopiren","Border radius","Toon alle","Toepassing","Vul dit veld","Voer een webadres","Standaard","Cirkel","Dot","Quadrate","Zoeken","Vorige Zoeken","Volgende Zoeken","Voeg de klassenaam in","Druk op Alt voor aangepaste grootte"]},96891:function(c){c.exports.default=["Napisz co","O Jodit","Edytor Jodit",null,"Instrukcja Jodit","zawiera szczegowe informacje dotyczce uytkowania.","Odwied nasz stron, aby uzyska wicej informacji na temat licencji:","Zakup penej wersji","Copyright  XDSoft.net - Chupurnov Valeriy. Wszystkie prawa zastrzeone.","Kotwica","Otwrz w nowej zakadce","Otwrz edytor w penym rozmiarze","Wyczy formatowanie","Kolor wypenienia lub ustaw kolor tekstu","Ponw","Cofnij","Pogrubienie","Kursywa","Wstaw list wypunktowan","Wstaw list numeryczn","Wyrodkuj","Wyjustuj","Wyrwnaj do lewej","Wyrwnaj do prawej","Wstaw lini poziom","Wstaw grafik","Wstaw plik","Wstaw film Youtube/vimeo","Wstaw link","Rozmiar tekstu","Krj czcionki","Wstaw formatowanie","Normalne","Nagwek 1","Nagwek 2","Nagwek 3","Nagwek 4","Cytat","Kod","Wstaw","Wstaw tabel","Zmniejsz wcicie","Zwiksz wcicie","Wybierz znak specjalny","Wstaw znak specjalny","Malarz formatw","Zmie tryb","Marginesy","Grny","Prawy","Dolny","Levy","Style CSS","Klasy CSS","Wyrwnanie","Prawa","rodek","Lewa","brak","rdo","Tytu","Tekst alternatywny","Link","Otwrz w nowej zakadce","Grafika","Plik","Zaawansowane","Waciwoci grafiki","Anuluj","OK","Twj kod wyglda jak HTML. Zachowa HTML?","Wklei jako HTML?","Oryginalny tekst","Wyczy","Wstaw jako tekst","Wstaw tylko tre","Wykryto tekst w formacie Word","Wklejany tekst pochodzi z dokumentu Microsoft Word/Excel. Chcesz zachowa ten format czy wyczyci go? ","Przegldarka plikw","Bd adowania listy plikw","Bd adowania folderw","Czy jeste pewien?","Wprowad nazw folderu","Utwrz folder","wprowad nazw","Upu plik graficzny","Upu plik","lub kliknij tu","Tekst alternatywny","Przegldaj","Wczytaj","To","Tre","Gra","rodek","D","Wstaw kolumn przed","Wstaw kolumn po","Wstaw wiersz przed","Wstaw wiersz po","Usu tabel","Usu wiersz","Usu kolumn","Wyczy komrk","HTML","pogrubienie","kursywa","pdzel","link","cofnij","ponw","tabela","grafika","wyczy","akapit","rozmiar czcionki","wideo","czcionka","O programie","drukuj","podkrelenie","przekrelenie","wcicie","wycicie","peen rozmiar","przytnij","linia pozioma","lista","lista numerowana","wytnij","zaznacz wszystko","Wstaw kod","otwrz link","edytuj link","Atrybut no-follow","Usu link","szukaj","edytuj","Aktualizuj","URL","Edytuj","Wyrwnywanie w poziomie","Filtruj","Sortuj wg zmiany","Sortuj wg nazwy","Sortuj wg rozmiaru","Dodaj folder","wyczy","zapisz","zapisz jako","Zmie rozmiar","Przytnij","Szeroko","Wysoko","Zachowaj proporcje","Tak","Nie","Usu","Wybierz","Znaki: %d","Sowa: %d","Wszystko","Wybierz: %s","Wybierz wszystko","Wyrwnywanie w pionie","Podziel","Podziel w pionie","Podziel w poziomie","Scal","Dodaj kolumn","Dodaj wiersz","Usu","Obramowanie",null,"Przekrelenie","Podkrelenie","indeks grny","index dolny","Wytnij zaznaczenie","Przerwa","Szukaj","Zamie na","Wymieni","Wklej","Wybierz zawarto do wklejenia","Moesz edytowa tylko swoje grafiki. Czy chcesz pobra t grafik?","Grafika zostaa pomylnienie dodana na serwer","Paleta","Brak plikw.","zmie nazw","Wprowad now nazw","podgld","pobierz","Wklej ze schowka","Twoja przegldarka nie obsuguje schowka","Kopiuj zaznaczenie","kopiuj","Zaokrglenie krawdzi","Poka wszystkie","Zastosuj","Prosz wypeni to pole","Prosz, wpisz adres sieci web","Domylnie","Koo","Punkt","Kwadrat","Znale","Znale Poprzednie","Znajd Dalej","Wstaw nazw zaj","Nacinij Alt, aby zmieni rozmiar"]},31211:function(c){c.exports.default=["Escreva algo...","Sobre o Jodit","Editor Jodit",null,"Guia de usurio Jodit","contm ajuda detalhada para o uso.","Para informao sobre a licena, por favor visite nosso site:","Compre a verso completa","Copyright  XDSoft.net - Chupurnov Valeriy. Todos os direitos reservados.","Link","Abrir em nova aba","Abrir editor em tela cheia","Limpar formatao","Cor de preenchimento ou cor do texto","Refazer","Desfazer","Negrito","Itlico","Inserir lista no ordenada","Inserir lista ordenada","Centralizar","Justificar","Alinhar  Esquerda","Alinhar  Direita","Inserir linha horizontal","Inserir imagem","Inserir arquivo","Inserir vdeo do Youtube/vimeo","Inserir link","Tamanho da letra","Fonte","Inserir bloco","Normal","Cabealho 1","Cabealho 2","Cabealho 3","Cabealho 4","Citao","Cdigo","Inserir","Inserir tabela","Diminuir recuo","Aumentar recuo","Selecionar caractere especial","Inserir caractere especial","Copiar formato","Mudar modo","Margens","cima","direta","baixo","esquerda","Estilos CSS","Classes CSS","Alinhamento","Direita","Centro","Esquerda","--No Estabelecido--","Fonte","Ttulo","Texto Alternativo","Link","Abrir link em nova aba","Imagem","Arquivo","Avanado","Propriedades da imagem","Cancelar","Ok","Seu cdigo  similar ao HTML. Manter como HTML?","Colar como HTML?","Manter","Limpar","Inserir como Texto","Inserir somente o Texto","Colado do Word Detectado","O contedo colado veio de um documento Microsoft Word/Excel. Voc deseja manter o formato ou limpa-lo?","Procurar arquivo","Erro ao carregar a lista","Erro ao carregar as pastas","Voc tem certeza?","Escreva o nome da pasta","Criar pasta","Escreva seu nome","Soltar imagem","Soltar arquivo","ou clique","Texto alternativo","Explorar","Upload","Fundo","Texto","Cima","Meio","Baixo","Inserir coluna antes","Inserir coluna depois","Inserir linha acima","Inserir linha abaixo","Excluir tabela","Excluir linha","Excluir coluna","Limpar clula","HTML","negrito","itlico","pincel","link","desfazer","refazer","tabela","imagem","apagar","pargrafo","tamanho da letra","vdeo","fonte","Sobre de","Imprimir","sublinhar","tachado","recuar","diminuir recuo","Tamanho completo","diminuir","linha horizontal","lista no ordenada","lista ordenada","Cortar","Selecionar tudo","Incluir cdigo","Abrir link","Editar link","No siga","Remover link","Visualizar","Editar","Atualizar","URL","Editar","Alinhamento horizontal","filtrar","Ordenar por modificao","Ordenar por nome","Ordenar por tamanho","Adicionar pasta","Resetar","Salvar","Salvar como...","Redimensionar","Recortar","Largura","Altura","Manter a proporo","Sim","No","Remover","Selecionar","Caracteres: %d","Palavras: %d","Tudo","Selecionar: %s","Selecionar tudo","Alinhamento vertical","Dividir","Dividir vertical","Dividir horizontal","Mesclar","Adicionar coluna","Adicionar linha","Excluir","Borda",null,"Tachado","Sublinhar","sobrescrito","subscrito","Cortar seleo","Pausa","Procurar por","Substituir com","Substituir","Colar","Escolher contedo para colar","Voc s pode editar suas prprias imagens. Baixar essa imagem pro servidor?","A imagem foi enviada com sucesso para o servidor!","Palette","No h arquivos nesse diretrio.","Hngara","Digite um novo nome","preview","Baixar","Colar da rea de transferncia","O seu navegador no oferece suporte a acesso direto para a rea de transferncia.","Seleco de cpia","cpia","Border radius","Mostrar todos os","Aplicar","Por favor, preencha este campo","Por favor introduza um endereo web","Padro","Crculo","Ponto","Quadro","Encontrar","Encontrar Anteriores","Localizar Prxima","Insira o nome da classe","Pressione Alt para redimensionamento personalizado"]},31109:function(c){c.exports.default=[" -"," Jodit"," Jodit",null,"Jodit  ","    ","     , ,    :","  ","   XDSoft.net -  .   .","","    ","    "," ","    ","","","","","  ","  ","  ","  ","   ","   ","  "," "," "," "," "," ","","  "," "," 1"," 2"," 3"," 4","","",""," "," "," ","  ","  "," ","","","","","","","","","","  "," ","  ","-- --","src","","  (alt)","","    ",null,"",""," ","",""," ,       HTML.    HTML?","  HTML?"," ","","  ","  ","   Word  Excel","       Microsoft Word / Excel.       ?"," ","    ","    "," ?","  "," "," ","  ","  "," "," ","","","","","  "," "," ","  ","  ","  ","  "," "," "," "," ","HTML","","","","","","","","","",""," ","",""," ","","","","","","  "," ","",""," ",""," ",""," "," "," nofollow"," ","","","","URL",""," ",""," "," "," "," ","",""," "," "," ","",""," ","","","","",": %d",": %d"," ",": %s"," "," ","","  ","  ","  "," "," ","","",": %s","",""," ","","","",""," ","","","   ","      .      ?","    !","","    ","","  ","","","   ","        ."," ",""," "," ","",",   ",",  -"," ","","","",""," "," ","  "," Alt    "]},79375:function(c){c.exports.default=["Bir eyler yaz","Jodit Hakknda","Jodit Editor",null,"Jodit Kullanm Klavuzu","kullanm iin detayl bilgiler ierir","Lisans hakknda bilgi iin ltfen web sitemize gidin:","Tam versiyonunu satn al","Copyright  XDSoft.net - Chupurnov Valeriy. Tm haklar sakldr.","Balant","Yeni sekmede a","Editr tam ekranda a","Stili temizle","Renk doldur veya yaz rengi se","Yinele","Geri Al","Kaln","talik","Srasz Liste Ekle","Sral Liste Ekle","Ortala","Kenarlara Yasla","Sola Yasla","Saa Yasla","Yatay izgi Ekle","Resim Ekle","Dosya Ekle","Youtube/Vimeo Videosu Ekle","Balant Ekle","Font Boyutu","Font Ailesi","Blok Ekle","Normal","Balk 1","Balk 2","Balk 3","Balk 4","Alnt","Kod","Ekle","Tablo Ekle","Girintiyi Azalt","Girintiyi Arttr","zel Karakter Se","zel Karakter Ekle","Resim Biimi","Mod Deitir","Boluklar","st","Sa","Alt","Sol","CSS Stilleri","CSS Snflar","Hizalama","Sa","Ortal","Sol","Belirsiz","Kaynak","Balk","Alternatif Yaz","Link","Balanty yeni sekmede a","Resim","Dosya","Gelimi","Resim zellikleri","ptal","Tamam","Kodunuz HTML koduna benziyor. HTML olarak devam etmek ister misiniz?","HTML olarak yaptr","Sakla","Temizle","Yaz olarak ekle","Sadece yazy ekle","Word biiminde yaptrma algland","Der Inhalt, den Sie einfgen, stammt aus einem Microsoft Word / Excel-Dokument. Mchten Sie das Format erhalten oder lschen?","Dosya Listeleyici","Liste yklenirken hata olutu","Klasrler yklenirken hata olutur","Emin misiniz?","Dizin yolu giriniz","Dizin olutur","sim yaz","Resim brak","Dosya brak","veya tkla","Alternatif yaz","Gzat","Ykle","Arka plan","Yaz","st","Orta","Aa","ncesine kolon ekle","Sonrasna kolon ekle","stne satr ekle","Altna satr ekle","Tabloyu sil","Satr sil","Kolonu sil","Hcreyi temizle","Kaynak","Kaln","italik","Fra","Balant","Geri al","Yinele","Tablo","Resim","Silgi","Paragraf","Font boyutu","Video","Font","Hakknda","Yazdr","Alt izgi","st izili","Girinti","knt","Tam ekran","Klt","Ayra","Srasz liste","Sral liste","Kes","Tmn se","Kod ekle","Balanty a","Balanty dzenle","Nofollow zellii","Balanty kaldr","Yorumu","Dzenlemek iin","Gncelle","URL","Dzenle","Yatay hizala","Filtre","Deiime gre srala","sme gre srala","Boyuta gre srala","Klasr ekle","Sfrla","Kaydet","Farkl kaydet","Boyutlandr","Krp","Genilik","Ykseklik","En boy orann koru","Evet","Hayr","Sil","Se","Harfler: %d","Kelimeler: %d","Tm","Se: %s","Tmn se","Dikey hizala","Ayr","Dikey ayr","Yatay ayr","Birletir","Kolon ekle","Satr ekle","Sil","Kenarlk",null,"st izili","Alt izgi","st yaz","Alt yaz","Seilimi kes","Satr sonu","Ara","ununla deitir","Deitir","Yaptr","Yaptrlacak ierik se","Sadece kendi resimlerinizi dzenleyebilirsiniz. Bu grseli kendi hostunuza indirmek ister misiniz?","Grsel baaryla hostunuza yklendi","Palet","Bu dizinde dosya yok","Yeniden isimlendir","Yeni isim girin","n izleme","ndir","Panodan yaptr ","Taraycnz panoya dorudan eriimi desteklemiyor.","Seimi kopyala","Kopyala","Snr yarap","Tmn Gster","Uygula","Ltfen bu alan doldurun","Ltfen bir web adresi girin","Varsaylan","Daire","Nokta","Kare","Bul","ncekini Bul","Sonrakini Bul","Snf ad girin","zel yeniden boyutlandrma iin Alt tuuna basn"]},21042:function(c){c.exports.default=["","Jodit","Jodit Editor","Free Non-commercial Version","","","","","Copyright  XDSoft.net - Chupurnov Valeriy. ","Anchor","","","","","","","","","","","","","","","","","","","","","","","","1","2","3","4","","","","","","","","","","","Margins","top","right","bottom","left","","Classes","","","","","","Src","Title","Alternative","Link","","","file","","","","","html","html","","","html","",""," Word/Excel ","","list","folders","","","","type name","","","","Alternative text","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","No follow","","","","","URL","","","","","","","","","","","","","","","","","","","",": %d",": %d","",": %s","","","","","","","","","","",null,"","","","","","Break","","","","","","Download this image on the host?","","","","","","","","","","","","","","","","","","","","","","","","","Alt"]},73895:function(c){c.exports.default=["","Jodit","Jodit Editor",null,"","","","","Copyright  XDSoft.net - Chupurnov Valeriy. All rights reserved.","Anchor","","","","","","","","","","","","","","","","","","youtube/vimeo ","","","","","","1","2","3","4","","","","","","","","","","","Margins","top","right","bottom","left","","Classes","","","","","","Src","Title","","Link","","","file","","","","","html","html","","","html","",""," Word/Excel ","","list","folders","","","","type name","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","No follow","","","","","URL",null,"","","","","","","","","","","Crop","","","","","","","",": %d",": %d","",": %s","","","","","","","","","","",null,"","","","","","Pause","","","","","","?","","","","","","","","","","","","","","","","","","","","Quadrate","","","","",""]},3610:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M621 1280h595v-595zm-45-45l595-595h-595v595zm1152 77v192q0 14-9 23t-23 9h-224v224q0 14-9 23t-23 9h-192q-14 0-23-9t-9-23v-224h-864q-14 0-23-9t-9-23v-864h-224q-14 0-23-9t-9-23v-192q0-14 9-23t23-9h224v-224q0-14 9-23t23-9h192q14 0 23 9t9 23v224h851l246-247q10-9 23-9t23 9q9 10 9 23t-9 23l-247 246v851h224q14 0 23 9t9 23z"/> </svg>`},56170:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 24 24"> <g transform="translate(-251.000000, -443.000000)"> <g transform="translate(215.000000, 119.000000)"/> <path d="M252,448 L256,448 L256,444 L252,444 L252,448 Z M257,448 L269,448 L269,446 L257,446 L257,448 Z M257,464 L269,464 L269,462 L257,462 L257,464 Z M270,444 L270,448 L274,448 L274,444 L270,444 Z M252,462 L252,466 L256,466 L256,462 L252,462 Z M270,462 L270,466 L274,466 L274,462 L270,462 Z M254,461 L256,461 L256,449 L254,449 L254,461 Z M270,461 L272,461 L272,449 L270,449 L270,461 Z"/> </g> </svg>`},95331:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' x="0px" y="0px" viewBox="0 0 459 459"> <g> <path d="M229.5,0C102,0,0,102,0,229.5S102,459,229.5,459c20.4,0,38.25-17.85,38.25-38.25c0-10.2-2.55-17.85-10.2-25.5 c-5.1-7.65-10.2-15.3-10.2-25.5c0-20.4,17.851-38.25,38.25-38.25h45.9c71.4,0,127.5-56.1,127.5-127.5C459,91.8,357,0,229.5,0z M89.25,229.5c-20.4,0-38.25-17.85-38.25-38.25S68.85,153,89.25,153s38.25,17.85,38.25,38.25S109.65,229.5,89.25,229.5z M165.75,127.5c-20.4,0-38.25-17.85-38.25-38.25S145.35,51,165.75,51S204,68.85,204,89.25S186.15,127.5,165.75,127.5z M293.25,127.5c-20.4,0-38.25-17.85-38.25-38.25S272.85,51,293.25,51s38.25,17.85,38.25,38.25S313.65,127.5,293.25,127.5z M369.75,229.5c-20.4,0-38.25-17.85-38.25-38.25S349.35,153,369.75,153S408,170.85,408,191.25S390.15,229.5,369.75,229.5z" /> </g> </svg>`},84279:function(c){c.exports='<svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"> <path d="M1088 1256v240q0 16-12 28t-28 12h-240q-16 0-28-12t-12-28v-240q0-16 12-28t28-12h240q16 0 28 12t12 28zm316-600q0 54-15.5 101t-35 76.5-55 59.5-57.5 43.5-61 35.5q-41 23-68.5 65t-27.5 67q0 17-12 32.5t-28 15.5h-240q-15 0-25.5-18.5t-10.5-37.5v-45q0-83 65-156.5t143-108.5q59-27 84-56t25-76q0-42-46.5-74t-107.5-32q-65 0-108 29-35 25-107 115-13 16-31 16-12 0-25-8l-164-125q-13-10-15.5-25t5.5-28q160-266 464-266 80 0 161 31t146 83 106 127.5 41 158.5z"/> </svg>'},11257:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 128 128" xml:space="preserve"> <polygon points="112.4560547,23.3203125 112.4560547,75.8154297 31.4853516,75.8154297 31.4853516,61.953125 16.0131836,72.6357422 0.5410156,83.3164063 16.0131836,93.9990234 31.4853516,104.6796875 31.4853516,90.8183594 112.4560547,90.8183594 112.4560547,90.8339844 127.4589844,90.8339844 127.4589844,23.3203125"/> </svg>`},25141:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M747 1521q74 32 140 32 376 0 376-335 0-114-41-180-27-44-61.5-74t-67.5-46.5-80.5-25-84-10.5-94.5-2q-73 0-101 10 0 53-.5 159t-.5 158q0 8-1 67.5t-.5 96.5 4.5 83.5 12 66.5zm-14-746q42 7 109 7 82 0 143-13t110-44.5 74.5-89.5 25.5-142q0-70-29-122.5t-79-82-108-43.5-124-14q-50 0-130 13 0 50 4 151t4 152q0 27-.5 80t-.5 79q0 46 1 69zm-541 889l2-94q15-4 85-16t106-27q7-12 12.5-27t8.5-33.5 5.5-32.5 3-37.5.5-34v-65.5q0-982-22-1025-4-8-22-14.5t-44.5-11-49.5-7-48.5-4.5-30.5-3l-4-83q98-2 340-11.5t373-9.5q23 0 68.5.5t67.5.5q70 0 136.5 13t128.5 42 108 71 74 104.5 28 137.5q0 52-16.5 95.5t-39 72-64.5 57.5-73 45-84 40q154 35 256.5 134t102.5 248q0 100-35 179.5t-93.5 130.5-138 85.5-163.5 48.5-176 14q-44 0-132-3t-132-3q-106 0-307 11t-231 12z"/> </svg>`},24557:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M384 1662l17-85q6-2 81.5-21.5t111.5-37.5q28-35 41-101 1-7 62-289t114-543.5 52-296.5v-25q-24-13-54.5-18.5t-69.5-8-58-5.5l19-103q33 2 120 6.5t149.5 7 120.5 2.5q48 0 98.5-2.5t121-7 98.5-6.5q-5 39-19 89-30 10-101.5 28.5t-108.5 33.5q-8 19-14 42.5t-9 40-7.5 45.5-6.5 42q-27 148-87.5 419.5t-77.5 355.5q-2 9-13 58t-20 90-16 83.5-6 57.5l1 18q17 4 185 31-3 44-16 99-11 0-32.5 1.5t-32.5 1.5q-29 0-87-10t-86-10q-138-2-206-2-51 0-143 9t-121 11z"/> </svg>`},10859:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1760 896q14 0 23 9t9 23v64q0 14-9 23t-23 9h-1728q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h1728zm-1277-64q-28-35-51-80-48-97-48-188 0-181 134-309 133-127 393-127 50 0 167 19 66 12 177 48 10 38 21 118 14 123 14 183 0 18-5 45l-12 3-84-6-14-2q-50-149-103-205-88-91-210-91-114 0-182 59-67 58-67 146 0 73 66 140t279 129q69 20 173 66 58 28 95 52h-743zm507 256h411q7 39 7 92 0 111-41 212-23 55-71 104-37 35-109 81-80 48-153 66-80 21-203 21-114 0-195-23l-140-40q-57-16-72-28-8-8-8-22v-13q0-108-2-156-1-30 0-68l2-37v-44l102-2q15 34 30 71t22.5 56 12.5 27q35 57 80 94 43 36 105 57 59 22 132 22 64 0 139-27 77-26 122-86 47-61 47-129 0-84-81-157-34-29-137-71z"/> </svg>`},9813:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1025 1369v167h-248l-159-252-24-42q-8-9-11-21h-3l-9 21q-10 20-25 44l-155 250h-258v-167h128l197-291-185-272h-137v-168h276l139 228q2 4 23 42 8 9 11 21h3q3-9 11-21l25-42 140-228h257v168h-125l-184 267 204 296h109zm639 217v206h-514l-4-27q-3-45-3-46 0-64 26-117t65-86.5 84-65 84-54.5 65-54 26-64q0-38-29.5-62.5t-70.5-24.5q-51 0-97 39-14 11-36 38l-105-92q26-37 63-66 80-65 188-65 110 0 178 59.5t68 158.5q0 66-34.5 118.5t-84 86-99.5 62.5-87 63-41 73h232v-80h126z"/> </svg>`},93395:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1025 1369v167h-248l-159-252-24-42q-8-9-11-21h-3l-9 21q-10 20-25 44l-155 250h-258v-167h128l197-291-185-272h-137v-168h276l139 228q2 4 23 42 8 9 11 21h3q3-9 11-21l25-42 140-228h257v168h-125l-184 267 204 296h109zm637-679v206h-514l-3-27q-4-28-4-46 0-64 26-117t65-86.5 84-65 84-54.5 65-54 26-64q0-38-29.5-62.5t-70.5-24.5q-51 0-97 39-14 11-36 38l-105-92q26-37 63-66 83-65 188-65 110 0 178 59.5t68 158.5q0 56-24.5 103t-62 76.5-81.5 58.5-82 50.5-65.5 51.5-30.5 63h232v-80h126z"/> </svg>`},98213:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M176 223q-37-2-45-4l-3-88q13-1 40-1 60 0 112 4 132 7 166 7 86 0 168-3 116-4 146-5 56 0 86-2l-1 14 2 64v9q-60 9-124 9-60 0-79 25-13 14-13 132 0 13 .5 32.5t.5 25.5l1 229 14 280q6 124 51 202 35 59 96 92 88 47 177 47 104 0 191-28 56-18 99-51 48-36 65-64 36-56 53-114 21-73 21-229 0-79-3.5-128t-11-122.5-13.5-159.5l-4-59q-5-67-24-88-34-35-77-34l-100 2-14-3 2-86h84l205 10q76 3 196-10l18 2q6 38 6 51 0 7-4 31-45 12-84 13-73 11-79 17-15 15-15 41 0 7 1.5 27t1.5 31q8 19 22 396 6 195-15 304-15 76-41 122-38 65-112 123-75 57-182 89-109 33-255 33-167 0-284-46-119-47-179-122-61-76-83-195-16-80-16-237v-333q0-188-17-213-25-36-147-39zm1488 1409v-64q0-14-9-23t-23-9h-1472q-14 0-23 9t-9 23v64q0 14 9 23t23 9h1472q14 0 23-9t9-23z"/> </svg>`},20026:function(c){c.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"> <path d="M36 4h-24c-2.21 0-4 1.79-4 4v32c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4v-32c0-2.21-1.79-4-4-4zm-24 4h10v16l-5-3-5 3v-16z"/> </svg>'},66911:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M832 1408l336-384h-768l-336 384h768zm1013-1077q15 34 9.5 71.5t-30.5 65.5l-896 1024q-38 44-96 44h-768q-38 0-69.5-20.5t-47.5-54.5q-15-34-9.5-71.5t30.5-65.5l896-1024q38-44 96-44h768q38 0 69.5 20.5t47.5 54.5z"/> </svg>`},50018:function(c){c.exports='<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"> <path d="M24.89,6.61H22.31V4.47A2.47,2.47,0,0,0,19.84,2H6.78A2.47,2.47,0,0,0,4.31,4.47V22.92a2.47,2.47,0,0,0,2.47,2.47H9.69V27.2a2.8,2.8,0,0,0,2.8,2.8h12.4a2.8,2.8,0,0,0,2.8-2.8V9.41A2.8,2.8,0,0,0,24.89,6.61ZM6.78,23.52a.61.61,0,0,1-.61-.6V4.47a.61.61,0,0,1,.61-.6H19.84a.61.61,0,0,1,.61.6V6.61h-8a2.8,2.8,0,0,0-2.8,2.8V23.52Zm19,3.68a.94.94,0,0,1-.94.93H12.49a.94.94,0,0,1-.94-.93V9.41a.94.94,0,0,1,.94-.93h12.4a.94.94,0,0,1,.94.93Z"/> <path d="M23.49,13.53h-9.6a.94.94,0,1,0,0,1.87h9.6a.94.94,0,1,0,0-1.87Z"/> <path d="M23.49,17.37h-9.6a.94.94,0,1,0,0,1.87h9.6a.94.94,0,1,0,0-1.87Z"/> <path d="M23.49,21.22h-9.6a.93.93,0,1,0,0,1.86h9.6a.93.93,0,1,0,0-1.86Z"/> </svg>'},99738:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M960 896q26 0 45 19t19 45-19 45-45 19-45-19-19-45 19-45 45-19zm300 64l507 398q28 20 25 56-5 35-35 51l-128 64q-13 7-29 7-17 0-31-8l-690-387-110 66q-8 4-12 5 14 49 10 97-7 77-56 147.5t-132 123.5q-132 84-277 84-136 0-222-78-90-84-79-207 7-76 56-147t131-124q132-84 278-84 83 0 151 31 9-13 22-22l122-73-122-73q-13-9-22-22-68 31-151 31-146 0-278-84-82-53-131-124t-56-147q-5-59 15.5-113t63.5-93q85-79 222-79 145 0 277 84 83 52 132 123t56 148q4 48-10 97 4 1 12 5l110 66 690-387q14-8 31-8 16 0 29 7l128 64q30 16 35 51 3 36-25 56zm-681-260q46-42 21-108t-106-117q-92-59-192-59-74 0-113 36-46 42-21 108t106 117q92 59 192 59 74 0 113-36zm-85 745q81-51 106-117t-21-108q-39-36-113-36-100 0-192 59-81 51-106 117t21 108q39 36 113 36 100 0 192-59zm178-613l96 58v-11q0-36 33-56l14-8-79-47-26 26q-3 3-10 11t-12 12q-2 2-4 3.5t-3 2.5zm224 224l96 32 736-576-128-64-768 431v113l-160 96 9 8q2 2 7 6 4 4 11 12t11 12l26 26zm704 416l128-64-520-408-177 138q-2 3-13 7z"/> </svg>`},9185:function(c){c.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path stroke-width="0" d="M10.5 20H2a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h1V3l2.03-.4a3 3 0 0 1 5.94 0L13 3v1h1a2 2 0 0 1 2 2v1h-2V6h-1v1H3V6H2v12h5v2h3.5zM8 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm2 4h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2zm0 2v8h8v-8h-8z"/> </svg>'},8619:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 18 18"> <g fill-rule="evenodd" stroke="none" stroke-width="1"> <g transform="translate(-381.000000, -381.000000)"> <g transform="translate(381.000000, 381.000000)"> <path d="M0,2 L2,2 L2,0 C0.9,0 0,0.9 0,2 L0,2 Z M0,10 L2,10 L2,8 L0,8 L0,10 L0,10 Z M4,18 L6,18 L6,16 L4,16 L4,18 L4,18 Z M0,6 L2,6 L2,4 L0,4 L0,6 L0,6 Z M10,0 L8,0 L8,2 L10,2 L10,0 L10,0 Z M16,0 L16,2 L18,2 C18,0.9 17.1,0 16,0 L16,0 Z M2,18 L2,16 L0,16 C0,17.1 0.9,18 2,18 L2,18 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M6,0 L4,0 L4,2 L6,2 L6,0 L6,0 Z M8,18 L10,18 L10,16 L8,16 L8,18 L8,18 Z M16,10 L18,10 L18,8 L16,8 L16,10 L16,10 Z M16,18 C17.1,18 18,17.1 18,16 L16,16 L16,18 L16,18 Z M16,6 L18,6 L18,4 L16,4 L16,6 L16,6 Z M16,14 L18,14 L18,12 L16,12 L16,14 L16,14 Z M12,18 L14,18 L14,16 L12,16 L12,18 L12,18 Z M12,2 L14,2 L14,0 L12,0 L12,2 L12,2 Z M4,14 L14,14 L14,4 L4,4 L4,14 L4,14 Z M6,6 L12,6 L12,12 L6,12 L6,6 L6,6 Z"/> </g> </g> </g> </svg>`},73894:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M896 1152q0-36-20-69-1-1-15.5-22.5t-25.5-38-25-44-21-50.5q-4-16-21-16t-21 16q-7 23-21 50.5t-25 44-25.5 38-15.5 22.5q-20 33-20 69 0 53 37.5 90.5t90.5 37.5 90.5-37.5 37.5-90.5zm512-128q0 212-150 362t-362 150-362-150-150-362q0-145 81-275 6-9 62.5-90.5t101-151 99.5-178 83-201.5q9-30 34-47t51-17 51.5 17 33.5 47q28 93 83 201.5t99.5 178 101 151 62.5 90.5q81 127 81 275z"/> </svg>`},83301:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 16 16"> <path stroke-width="0" d="M16 9v-6h-3v-1c0-0.55-0.45-1-1-1h-11c-0.55 0-1 0.45-1 1v3c0 0.55 0.45 1 1 1h11c0.55 0 1-0.45 1-1v-1h2v4h-9v2h-0.5c-0.276 0-0.5 0.224-0.5 0.5v5c0 0.276 0.224 0.5 0.5 0.5h2c0.276 0 0.5-0.224 0.5-0.5v-5c0-0.276-0.224-0.5-0.5-0.5h-0.5v-1h9zM12 3h-11v-1h11v1z"/> </svg>`},84142:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M789 559l-170 450q33 0 136.5 2t160.5 2q19 0 57-2-87-253-184-452zm-725 1105l2-79q23-7 56-12.5t57-10.5 49.5-14.5 44.5-29 31-50.5l237-616 280-724h128q8 14 11 21l205 480q33 78 106 257.5t114 274.5q15 34 58 144.5t72 168.5q20 45 35 57 19 15 88 29.5t84 20.5q6 38 6 57 0 4-.5 13t-.5 13q-63 0-190-8t-191-8q-76 0-215 7t-178 8q0-43 4-78l131-28q1 0 12.5-2.5t15.5-3.5 14.5-4.5 15-6.5 11-8 9-11 2.5-14q0-16-31-96.5t-72-177.5-42-100l-450-2q-26 58-76.5 195.5t-50.5 162.5q0 22 14 37.5t43.5 24.5 48.5 13.5 57 8.5 41 4q1 19 1 58 0 9-2 27-58 0-174.5-10t-174.5-10q-8 0-26.5 4t-21.5 4q-80 14-188 14z"/> </svg>`},57292:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1744 1408q33 0 42 18.5t-11 44.5l-126 162q-20 26-49 26t-49-26l-126-162q-20-26-11-44.5t42-18.5h80v-1024h-80q-33 0-42-18.5t11-44.5l126-162q20-26 49-26t49 26l126 162q20 26 11 44.5t-42 18.5h-80v1024h80zm-1663-1279l54 27q12 5 211 5 44 0 132-2t132-2q36 0 107.5.5t107.5.5h293q6 0 21 .5t20.5 0 16-3 17.5-9 15-17.5l42-1q4 0 14 .5t14 .5q2 112 2 336 0 80-5 109-39 14-68 18-25-44-54-128-3-9-11-48t-14.5-73.5-7.5-35.5q-6-8-12-12.5t-15.5-6-13-2.5-18-.5-16.5.5q-17 0-66.5-.5t-74.5-.5-64 2-71 6q-9 81-8 136 0 94 2 388t2 455q0 16-2.5 71.5t0 91.5 12.5 69q40 21 124 42.5t120 37.5q5 40 5 50 0 14-3 29l-34 1q-76 2-218-8t-207-10q-50 0-151 9t-152 9q-3-51-3-52v-9q17-27 61.5-43t98.5-29 78-27q19-42 19-383 0-101-3-303t-3-303v-117q0-2 .5-15.5t.5-25-1-25.5-3-24-5-14q-11-12-162-12-33 0-93 12t-80 26q-19 13-34 72.5t-31.5 111-42.5 53.5q-42-26-56-44v-383z"/> </svg>`},18019:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"><path d="M1534 189v73q0 29-18.5 61t-42.5 32q-50 0-54 1-26 6-32 31-3 11-3 64v1152q0 25-18 43t-43 18h-108q-25 0-43-18t-18-43v-1218h-143v1218q0 25-17.5 43t-43.5 18h-108q-26 0-43.5-18t-17.5-43v-496q-147-12-245-59-126-58-192-179-64-117-64-259 0-166 88-286 88-118 209-159 111-37 417-37h479q25 0 43 18t18 43z"/></svg>`},45146:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 24 24"> <path stroke-width="0" d="M22,20.6L3.4,2H8V0H0v8h2V3.4L20.6,22H16v2h8v-8h-2V20.6z M16,0v2h4.7l-6.3,6.3l1.4,1.4L22,3.5V8h2V0H16z M8.3,14.3L2,20.6V16H0v8h8v-2H3.5l6.3-6.3L8.3,14.3z"/> </svg>`},53576:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M896 960v448q0 26-19 45t-45 19-45-19l-144-144-332 332q-10 10-23 10t-23-10l-114-114q-10-10-10-23t10-23l332-332-144-144q-19-19-19-45t19-45 45-19h448q26 0 45 19t19 45zm755-672q0 13-10 23l-332 332 144 144q19 19 19 45t-19 45-45 19h-448q-26 0-45-19t-19-45v-448q0-26 19-45t45-19 45 19l144 144 332-332q10-10 23-10t23 10l114 114q10 10 10 23z"/> </svg>`},14655:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1600 736v192q0 40-28 68t-68 28h-1216q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h1216q40 0 68 28t28 68z"/> </svg>`},53477:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M576 576q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1024 384v448h-1408v-192l320-320 160 160 512-512zm96-704h-1600q-13 0-22.5 9.5t-9.5 22.5v1216q0 13 9.5 22.5t22.5 9.5h1600q13 0 22.5-9.5t9.5-22.5v-1216q0-13-9.5-22.5t-22.5-9.5zm160 32v1216q0 66-47 113t-113 47h-1600q-66 0-113-47t-47-113v-1216q0-66 47-113t113-47h1600q66 0 113 47t47 113z"/> </svg>`},90053:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M352 832q0 14-9 23l-288 288q-9 9-23 9-13 0-22.5-9.5t-9.5-22.5v-576q0-13 9.5-22.5t22.5-9.5q14 0 23 9l288 288q9 9 9 23zm1440 480v192q0 13-9.5 22.5t-22.5 9.5h-1728q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1728q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1088q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1088q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1088q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1088q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1728q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1728q13 0 22.5 9.5t9.5 22.5z"/> </svg>`},72230:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M384 544v576q0 13-9.5 22.5t-22.5 9.5q-14 0-23-9l-288-288q-9-9-9-23t9-23l288-288q9-9 23-9 13 0 22.5 9.5t9.5 22.5zm1408 768v192q0 13-9.5 22.5t-22.5 9.5h-1728q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1728q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1088q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1088q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1088q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1088q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1728q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1728q13 0 22.5 9.5t9.5 22.5z"/> </svg>`},78321:function(c){c.exports='<svg viewBox="0 0 18.151 18.151" xmlns="http://www.w3.org/2000/svg"> <g> <path stroke-width="0" d="M6.237,16.546H3.649V1.604h5.916v5.728c0.474-0.122,0.968-0.194,1.479-0.194 c0.042,0,0.083,0.006,0.125,0.006V0H2.044v18.15h5.934C7.295,17.736,6.704,17.19,6.237,16.546z"/> <path stroke-width="0" d="M11.169,8.275c-2.723,0-4.938,2.215-4.938,4.938s2.215,4.938,4.938,4.938s4.938-2.215,4.938-4.938 S13.892,8.275,11.169,8.275z M11.169,16.81c-1.983,0-3.598-1.612-3.598-3.598c0-1.983,1.614-3.597,3.598-3.597 s3.597,1.613,3.597,3.597C14.766,15.198,13.153,16.81,11.169,16.81z"/> <polygon stroke-width="0" points="11.792,11.073 10.502,11.073 10.502,12.578 9.03,12.578 9.03,13.868 10.502,13.868 10.502,15.352 11.792,15.352 11.792,13.868 13.309,13.868 13.309,12.578 11.792,12.578 "/> </g> </svg>'},77654:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 432 432"> <g> <polygon points="203.688,96 0,96 0,144 155.688,144 "/> <polygon points="155.719,288 0,288 0,336 203.719,336 "/> <path d="M97.844,230.125c-3.701-3.703-5.856-8.906-5.856-14.141s2.154-10.438,5.856-14.141l9.844-9.844H0v48h107.719 L97.844,230.125z"/> <polygon points="232,176 232,96 112,216 232,336 232,256 432,256 432,176"/> </g> </svg>`},43371:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 312 312"> <g transform="translate(0.000000,312.000000) scale(0.100000,-0.100000)" stroke="none"> <path d="M50 3109 c0 -7 -11 -22 -25 -35 l-25 -23 0 -961 0 -961 32 -29 32 -30 501 -2 500 -3 3 -502 2 -502 31 -30 31 -31 958 0 958 0 23 25 c13 13 30 25 37 25 9 0 12 199 12 960 0 686 -3 960 -11 960 -6 0 -24 12 -40 28 l-29 27 -503 5 -502 5 -5 502 -5 503 -28 29 c-15 16 -27 34 -27 40 0 8 -274 11 -960 11 -710 0 -960 -3 -960 -11z m1738 -698 l2 -453 -40 -40 c-22 -22 -40 -43 -40 -47 0 -4 36 -42 79 -85 88 -87 82 -87 141 -23 l26 27 455 -2 454 -3 0 -775 0 -775 -775 0 -775 0 -3 450 -2 449 47 48 47 48 -82 80 c-44 44 -84 80 -87 80 -3 0 -25 -18 -48 -40 l-41 -40 -456 2 -455 3 -3 765 c-1 421 0 771 3 778 3 10 164 12 777 10 l773 -3 3 -454z"/> <path d="M607 2492 c-42 -42 -77 -82 -77 -87 0 -6 86 -96 190 -200 105 -104 190 -197 190 -205 0 -8 -41 -56 -92 -107 -65 -65 -87 -94 -77 -98 8 -3 138 -4 289 -3 l275 3 3 275 c1 151 0 281 -3 289 -4 10 -35 -14 -103 -82 -54 -53 -103 -97 -109 -97 -7 0 -99 88 -206 195 -107 107 -196 195 -198 195 -3 0 -39 -35 -82 -78z"/> <path d="M1470 1639 c-47 -49 -87 -91 -89 -94 -5 -6 149 -165 160 -165 9 0 189 179 189 188 0 12 -154 162 -165 161 -6 0 -48 -41 -95 -90z"/> <path d="M1797 1303 c-9 -8 -9 -568 0 -576 4 -4 50 36 103 88 54 52 101 95 106 95 5 0 95 -85 199 -190 104 -104 194 -190 200 -190 6 0 46 36 90 80 l79 79 -197 196 c-108 108 -197 199 -197 203 0 4 45 52 99 106 55 55 98 103 95 108 -6 10 -568 11 -577 1z"/> </g> </svg>`},44563:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 48 48"> <path d="M6 42h4v-4h-4v4zm4-28h-4v4h4v-4zm-4 20h4v-4h-4v4zm8 8h4v-4h-4v4zm-4-36h-4v4h4v-4zm8 0h-4v4h4v-4zm16 0h-4v4h4v-4zm-8 8h-4v4h4v-4zm0-8h-4v4h4v-4zm12 28h4v-4h-4v4zm-16 8h4v-4h-4v4zm-16-16h36v-4h-36v4zm32-20v4h4v-4h-4zm0 12h4v-4h-4v4zm-16 16h4v-4h-4v4zm8 8h4v-4h-4v4zm8 0h4v-4h-4v4z"/> <path d="M0 0h48v48h-48z" fill="none"/> </svg>`},53183:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 48 48"> <path d="M6 18h4v-4h-4v4zm0-8h4v-4h-4v4zm8 32h4v-4h-4v4zm0-16h4v-4h-4v4zm-8 0h4v-4h-4v4zm0 16h4v-4h-4v4zm0-8h4v-4h-4v4zm8-24h4v-4h-4v4zm24 24h4v-4h-4v4zm-16 8h4v-36h-4v36zm16 0h4v-4h-4v4zm0-16h4v-4h-4v4zm0-20v4h4v-4h-4zm0 12h4v-4h-4v4zm-8-8h4v-4h-4v4zm0 32h4v-4h-4v4zm0-16h4v-4h-4v4z"/> <path d="M0 0h48v48h-48z" fill="none"/> </svg>`},18548:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M512 1248v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm0-512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm1280 512v192q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h960q40 0 68 28t28 68zm-1280-1024v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm1280 512v192q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h960q40 0 68 28t28 68zm0-512v192q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h960q40 0 68 28t28 68z"/> </svg>`},52242:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M512 1248v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm0-512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm640 512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm-640-1024v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm640 512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm640 512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm-640-1024v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm640 512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm0-512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68z"/> </svg>`},87498:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1792 1344v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45z"/> </svg>`},7986:function(c){c.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path d="M5.09668 6.99707H7.17358L4.17358 3.99707L1.17358 6.99707H3.09668V17.0031H1.15881L4.15881 20.0031L7.15881 17.0031H5.09668V6.99707Z"/> <path d="M22.8412 7H8.84119V5H22.8412V7Z"/> <path d="M22.8412 11H8.84119V9H22.8412V11Z"/> <path d="M8.84119 15H22.8412V13H8.84119V15Z"/> <path d="M22.8412 19H8.84119V17H22.8412V19Z"/> </svg>'},23075:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z"/> </svg>`},10655:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M503 1271l-256 256q-10 9-23 9-12 0-23-9-9-10-9-23t9-23l256-256q10-9 23-9t23 9q9 10 9 23t-9 23zm169 41v320q0 14-9 23t-23 9-23-9-9-23v-320q0-14 9-23t23-9 23 9 9 23zm-224-224q0 14-9 23t-23 9h-320q-14 0-23-9t-9-23 9-23 23-9h320q14 0 23 9t9 23zm1264 128q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-334-335q-21-21-42-56l239-18 273 274q27 27 68 27.5t68-26.5l147-146q28-28 28-67 0-40-28-68l-274-275 18-239q35 21 56 42l336 336q84 86 84 204zm-617-724l-239 18-273-274q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l274 274-18 240q-35-21-56-42l-336-336q-84-86-84-204 0-120 85-203l147-146q83-83 203-83 121 0 204 85l334 335q21 21 42 56zm633 84q0 14-9 23t-23 9h-320q-14 0-23-9t-9-23 9-23 23-9h320q14 0 23 9t9 23zm-544-544v320q0 14-9 23t-23 9-23-9-9-23v-320q0-14 9-23t23-9 23 9 9 23zm407 151l-256 256q-11 9-23 9t-23-9q-9-10-9-23t9-23l256-256q10-9 23-9t23 9q9 10 9 23t-9 23z"/> </svg>`},15476:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path stroke-width="0" d="M381 1620q0 80-54.5 126t-135.5 46q-106 0-172-66l57-88q49 45 106 45 29 0 50.5-14.5t21.5-42.5q0-64-105-56l-26-56q8-10 32.5-43.5t42.5-54 37-38.5v-1q-16 0-48.5 1t-48.5 1v53h-106v-152h333v88l-95 115q51 12 81 49t30 88zm2-627v159h-362q-6-36-6-54 0-51 23.5-93t56.5-68 66-47.5 56.5-43.5 23.5-45q0-25-14.5-38.5t-39.5-13.5q-46 0-81 58l-85-59q24-51 71.5-79.5t105.5-28.5q73 0 123 41.5t50 112.5q0 50-34 91.5t-75 64.5-75.5 50.5-35.5 52.5h127v-60h105zm1409 319v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-14 9-23t23-9h1216q13 0 22.5 9.5t9.5 22.5zm-1408-899v99h-335v-99h107q0-41 .5-122t.5-121v-12h-2q-8 17-50 54l-71-76 136-127h106v404h108zm1408 387v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-14 9-23t23-9h1216q13 0 22.5 9.5t9.5 22.5zm0-512v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5z"/> </svg>`},59403:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path stroke-width="0" d="M384 1408q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm0-512q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1408 416v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5zm-1408-928q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1408 416v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5zm0-512v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5z"/> </svg>`},22860:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M448 1536h896v-256h-896v256zm0-640h896v-384h-160q-40 0-68-28t-28-68v-160h-640v640zm1152 64q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm128 0v416q0 13-9.5 22.5t-22.5 9.5h-224v160q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-160h-224q-13 0-22.5-9.5t-9.5-22.5v-416q0-79 56.5-135.5t135.5-56.5h64v-544q0-40 28-68t68-28h672q40 0 88 20t76 48l152 152q28 28 48 76t20 88v256h64q79 0 135.5 56.5t56.5 135.5z"/> </svg>`},95600:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1664 256v448q0 26-19 45t-45 19h-448q-42 0-59-40-17-39 14-69l138-138q-148-137-349-137-104 0-198.5 40.5t-163.5 109.5-109.5 163.5-40.5 198.5 40.5 198.5 109.5 163.5 163.5 109.5 198.5 40.5q119 0 225-52t179-147q7-10 23-12 14 0 25 9l137 138q9 8 9.5 20.5t-7.5 22.5q-109 132-264 204.5t-327 72.5q-156 0-298-61t-245-164-164-245-61-298 61-298 164-245 245-164 298-61q147 0 284.5 55.5t244.5 156.5l130-129q29-31 70-14 39 17 39 59z"/> </svg>`},76214:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1664 896q0 156-61 298t-164 245-245 164-298 61q-172 0-327-72.5t-264-204.5q-7-10-6.5-22.5t8.5-20.5l137-138q10-9 25-9 16 2 23 12 73 95 179 147t225 52q104 0 198.5-40.5t163.5-109.5 109.5-163.5 40.5-198.5-40.5-198.5-109.5-163.5-163.5-109.5-198.5-40.5q-98 0-188 35.5t-160 101.5l137 138q31 30 14 69-17 40-59 40h-448q-26 0-45-19t-19-45v-448q0-42 40-59 39-17 69 14l130 129q107-101 244.5-156.5t284.5-55.5q156 0 298 61t245 164 164 245 61 298z"/> </svg>`},41197:function(c){c.exports='<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg"> <path clip-rule="evenodd" d="M306.39,154.09c19.628,4.543,35.244,21.259,39.787,39.523 c1.551,8.54,8.998,14.989,17.904,14.989c9.991,0,18.168-8.175,18.168-18.17c0-13.083-10.991-32.98-25.985-47.881 c-14.719-14.537-32.252-24.802-46.695-24.802c-9.991,0-18.172,8.45-18.172,18.446C291.396,145.094,297.847,152.546,306.39,154.09z M56.629,392.312c-14.09,14.08-14.09,36.979,0,51.059c14.08,14.092,36.981,14.092,50.965,0l104.392-104.303 c24.347,15.181,53.062,23.991,83.953,23.991c87.857,0,158.995-71.142,158.995-158.999c0-87.854-71.138-158.995-158.995-158.995 c-87.856,0-158.995,71.141-158.995,158.995c0,30.802,8.819,59.606,23.992,83.953L56.629,392.312z M182.371,204.06 c0-62.687,50.875-113.568,113.568-113.568s113.569,50.881,113.569,113.568c0,62.694-50.876,113.569-113.569,113.569 S182.371,266.754,182.371,204.06z" fill-rule="evenodd"/> </svg>'},9342:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M553 1399l-50 50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l50 50q10 10 10 23t-10 23l-393 393 393 393q10 10 10 23t-10 23zm591-1067l-373 1291q-4 13-15.5 19.5t-23.5 2.5l-62-17q-13-4-19.5-15.5t-2.5-24.5l373-1291q4-13 15.5-19.5t23.5-2.5l62 17q13 4 19.5 15.5t2.5 24.5zm657 651l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23t-10 23z"/> </svg>`},69546:function(c){c.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"> <path d="M24.89 32h4.18L18.86 6h-3.71L4.93 32h4.18l2.25-6h11.29l2.24 6zM12.86 22L17 10.95 21.14 22h-8.28zm30.31 1.17L27 39.34 19.66 32l-2.83 2.83L27 45l19-19-2.83-2.83z"/> </svg>'},43158:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 270 270"> <path d="m240.443652,220.45085l-47.410809,0l0,-10.342138c13.89973,-8.43655 25.752896,-19.844464 34.686646,-33.469923c11.445525,-17.455846 17.496072,-37.709239 17.496072,-58.570077c0,-59.589197 -49.208516,-108.068714 -109.693558,-108.068714s-109.69263,48.479517 -109.69263,108.069628c0,20.860839 6.050547,41.113316 17.497001,58.570077c8.93375,13.625459 20.787845,25.032458 34.686646,33.469008l0,10.342138l-47.412666,0c-10.256959,0 -18.571354,8.191376 -18.571354,18.296574c0,10.105198 8.314395,18.296574 18.571354,18.296574l65.98402,0c10.256959,0 18.571354,-8.191376 18.571354,-18.296574l0,-39.496814c0,-7.073455 -4.137698,-13.51202 -10.626529,-16.537358c-25.24497,-11.772016 -41.557118,-37.145704 -41.557118,-64.643625c0,-39.411735 32.545369,-71.476481 72.549922,-71.476481c40.004553,0 72.550851,32.064746 72.550851,71.476481c0,27.497006 -16.312149,52.87161 -41.557118,64.643625c-6.487902,3.026253 -10.6256,9.464818 -10.6256,16.537358l0,39.496814c0,10.105198 8.314395,18.296574 18.571354,18.296574l65.982163,0c10.256959,0 18.571354,-8.191376 18.571354,-18.296574c0,-10.105198 -8.314395,-18.296574 -18.571354,-18.296574z"/> </svg>`},51716:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M576 1376v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm0-384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm-512-768v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm-512-768v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm0-384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm128-320v1088q0 66-47 113t-113 47h-1344q-66 0-113-47t-47-113v-1088q0-66 47-113t113-47h1344q66 0 113 47t47 113z"/> </svg>`},49222:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1792 352v1088q0 42-39 59-13 5-25 5-27 0-45-19l-403-403v166q0 119-84.5 203.5t-203.5 84.5h-704q-119 0-203.5-84.5t-84.5-203.5v-704q0-119 84.5-203.5t203.5-84.5h704q119 0 203.5 84.5t84.5 203.5v165l403-402q18-19 45-19 12 0 25 5 39 17 39 59z"/> </svg>`},1755:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z"/> </svg>`},74911:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1203 544q0 13-10 23l-393 393 393 393q10 10 10 23t-10 23l-50 50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l50 50q10 10 10 23z"/> </svg>`},8805:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1171 960q0 13-10 23l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23z"/> </svg>`},16547:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1395 1184q0 13-10 23l-50 50q-10 10-23 10t-23-10l-393-393-393 393q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l466 466q10 10 10 23z"/> </svg>`},10856:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M704 1376v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm256 0v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm256 0v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm-544-992h448l-48-117q-7-9-17-11h-317q-10 2-17 11zm928 32v64q0 14-9 23t-23 9h-96v948q0 83-47 143.5t-113 60.5h-832q-66 0-113-58.5t-47-141.5v-952h-96q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h309l70-167q15-37 54-63t79-26h320q40 0 79 26t54 63l70 167h309q14 0 23 9t9 23z"/> </svg>`},98441:function(c){c.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"> <g stroke="none" stroke-width="1"> <path d="M14,1.4 L12.6,0 L7,5.6 L1.4,0 L0,1.4 L5.6,7 L0,12.6 L1.4,14 L7,8.4 L12.6,14 L14,12.6 L8.4,7 L14,1.4 Z"/> </g> </svg>'},52488:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1792 1344v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm-384-384v128q0 26-19 45t-45 19h-896q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h896q26 0 45 19t19 45zm256-384v128q0 26-19 45t-45 19h-1408q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1408q26 0 45 19t19 45zm-384-384v128q0 26-19 45t-45 19h-640q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h640q26 0 45 19t19 45z"/> </svg>`},9370:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1472 930v318q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-10 10-23 10-3 0-9-2-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-254q0-13 9-22l64-64q10-10 23-10 6 0 12 3 20 8 20 29zm231-489l-814 814q-24 24-57 24t-57-24l-430-430q-24-24-24-57t24-57l110-110q24-24 57-24t57 24l263 263 647-647q24-24 57-24t57 24l110 110q24 24 24 57t-24 57z"/> </svg>`},66543:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 10 10"> <path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/> </svg>`},608:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 24 24" > <circle cx="12" cy="12" r="2.2"/> <circle cx="12" cy="5" r="2.2"/> <circle cx="12" cy="19" r="2.2"/> </svg>`},42840:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1664 960q-152-236-381-353 61 104 61 225 0 185-131.5 316.5t-316.5 131.5-316.5-131.5-131.5-316.5q0-121 61-225-229 117-381 353 133 205 333.5 326.5t434.5 121.5 434.5-121.5 333.5-326.5zm-720-384q0-20-14-34t-34-14q-125 0-214.5 89.5t-89.5 214.5q0 20 14 34t34 14 34-14 14-34q0-86 61-147t147-61q20 0 34-14t14-34zm848 384q0 34-20 69-140 230-376.5 368.5t-499.5 138.5-499.5-139-376.5-368q-20-35-20-69t20-69q140-229 376.5-368t499.5-139 499.5 139 376.5 368q20 35 20 69z"/> </svg>`},79096:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1152 512v-472q22 14 36 28l408 408q14 14 28 36h-472zm-128 32q0 40 28 68t68 28h544v1056q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h800v544z"/> </svg>`},33014:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1728 608v704q0 92-66 158t-158 66h-1216q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h672q92 0 158 66t66 158z"/> </svg>`},91677:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1152 1376v-160q0-14-9-23t-23-9h-96v-512q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v160q0 14 9 23t23 9h96v320h-96q-14 0-23 9t-9 23v160q0 14 9 23t23 9h448q14 0 23-9t9-23zm-128-896v-160q0-14-9-23t-23-9h-192q-14 0-23 9t-9 23v160q0 14 9 23t23 9h192q14 0 23-9t9-23zm640 416q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"/> </svg>`},8259:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1792 1344v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm-384-384v128q0 26-19 45t-45 19h-1280q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1280q26 0 45 19t19 45zm256-384v128q0 26-19 45t-45 19h-1536q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1536q26 0 45 19t19 45zm-384-384v128q0 26-19 45t-45 19h-1152q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1152q26 0 45 19t19 45z"/> </svg>`},64467:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"><path d="M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"/></svg>`},86934:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 32 32"> <path d="M27 4l-15 15-7-7-5 5 12 12 20-20z"/> </svg>`},76133:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"><path d="M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z"/></svg>`},45519:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"><path d="M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"/></svg>`},90265:function(c){c.exports='<svg viewBox="0 0 13 13" xmlns="http://www.w3.org/2000/svg"> <path d="M5.9814 11.8049C5.59087 11.4144 5.59087 10.7812 5.9814 10.3907L10.224 6.14806C10.6146 5.75754 11.2477 5.75754 11.6383 6.14806C12.0288 6.53859 12.0288 7.17175 11.6383 7.56228L7.39561 11.8049C7.00509 12.1954 6.37192 12.1954 5.9814 11.8049Z"/> <path d="M0.707107 12.0208C0.316582 11.6303 0.316582 10.9971 0.707107 10.6066L10.6066 0.707121C10.9971 0.316597 11.6303 0.316596 12.0208 0.707121C12.4113 1.09764 12.4113 1.73081 12.0208 2.12133L2.12132 12.0208C1.7308 12.4114 1.09763 12.4114 0.707107 12.0208Z"/> </svg>'},81279:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1792 1344v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1280q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1280q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1536q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1536q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1152q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1152q26 0 45 19t19 45z"/> </svg>`},68899:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M512 1536h768v-384h-768v384zm896 0h128v-896q0-14-10-38.5t-20-34.5l-281-281q-10-10-34-20t-39-10v416q0 40-28 68t-68 28h-576q-40 0-68-28t-28-68v-416h-128v1280h128v-416q0-40 28-68t68-28h832q40 0 68 28t28 68v416zm-384-928v-320q0-13-9.5-22.5t-22.5-9.5h-192q-13 0-22.5 9.5t-9.5 22.5v320q0 13 9.5 22.5t22.5 9.5h192q13 0 22.5-9.5t9.5-22.5zm640 32v928q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1344q0-40 28-68t68-28h928q40 0 88 20t76 48l280 280q28 28 48 76t20 88z"/> </svg>`},70744:function(c){c.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"> <path stroke="null" d="m42.276011,26.302547c0.098397,-0.76605 0.172194,-1.54407 0.172194,-2.33406s-0.073797,-1.56801 -0.172194,-2.33406l5.202718,-3.961917c0.467384,-0.359086 0.602679,-1.005441 0.29519,-1.532101l-4.919828,-8.29489c-0.307489,-0.51469 -0.947067,-0.730142 -1.500548,-0.51469l-6.125186,2.405877c-1.266856,-0.945594 -2.656707,-1.747553 -4.157255,-2.357999l-0.922468,-6.343855c-0.110696,-0.562568 -0.614979,-1.005441 -1.229957,-1.005441l-9.839656,0c-0.614979,0 -1.119261,0.442873 -1.217657,1.005441l-0.922468,6.343855c-1.500548,0.610446 -2.890399,1.400436 -4.157255,2.357999l-6.125186,-2.405877c-0.553481,-0.203482 -1.193058,0 -1.500548,0.51469l-4.919828,8.29489c-0.307489,0.51469 -0.172194,1.161045 0.29519,1.532101l5.190419,3.961917c-0.098397,0.76605 -0.172194,1.54407 -0.172194,2.33406s0.073797,1.56801 0.172194,2.33406l-5.190419,3.961917c-0.467384,0.359086 -0.602679,1.005441 -0.29519,1.532101l4.919828,8.29489c0.307489,0.51469 0.947067,0.730142 1.500548,0.51469l6.125186,-2.405877c1.266856,0.945594 2.656707,1.747553 4.157255,2.357999l0.922468,6.343855c0.098397,0.562568 0.602679,1.005441 1.217657,1.005441l9.839656,0c0.614979,0 1.119261,-0.442873 1.217657,-1.005441l0.922468,-6.343855c1.500548,-0.610446 2.890399,-1.400436 4.157255,-2.357999l6.125186,2.405877c0.553481,0.203482 1.193058,0 1.500548,-0.51469l4.919828,-8.29489c0.307489,-0.51469 0.172194,-1.161045 -0.29519,-1.532101l-5.190419,-3.961917zm-18.277162,6.044617c-4.759934,0 -8.609699,-3.746465 -8.609699,-8.378677s3.849766,-8.378677 8.609699,-8.378677s8.609699,3.746465 8.609699,8.378677s-3.849766,8.378677 -8.609699,8.378677z"/> </svg>'},19201:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"/> </svg>`},84930:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1639 1056q0 5-1 7-64 268-268 434.5t-478 166.5q-146 0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26 19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187 36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5 9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45 19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53 117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268 270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45 19 19 45z"/> </svg>`},99704:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1344 1472q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm256 0q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm128-224v320q0 40-28 68t-68 28h-1472q-40 0-68-28t-28-68v-320q0-40 28-68t68-28h427q21 56 70.5 92t110.5 36h256q61 0 110.5-36t70.5-92h427q40 0 68 28t28 68zm-325-648q-17 40-59 40h-256v448q0 26-19 45t-45 19h-256q-26 0-45-19t-19-45v-448h-256q-42 0-59-40-17-39 14-69l448-448q18-19 45-19t45 19l448 448q31 30 14 69z"/> </svg>`},2304:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1216 320q0 26-19 45t-45 19h-128v1024h128q26 0 45 19t19 45-19 45l-256 256q-19 19-45 19t-45-19l-256-256q-19-19-19-45t19-45 45-19h128v-1024h-128q-26 0-45-19t-19-45 19-45l256-256q19-19 45-19t45 19l256 256q19 19 19 45z"/> </svg>`},93330:function(c,a,s){s.r(a)},45066:function(c,a,s){s.r(a)},99895:function(c,a,s){s.r(a)},87682:function(c,a,s){s.r(a)},50905:function(c,a,s){s.r(a)},70446:function(c,a,s){s.r(a)},18984:function(c,a,s){s.r(a)},4591:function(c,a,s){s.r(a)},64194:function(c,a,s){s.r(a)},70375:function(c,a,s){s.r(a)},90235:function(c,a,s){s.r(a)},88477:function(c,a,s){s.r(a)},50197:function(c,a,s){s.r(a)},39008:function(c,a,s){s.r(a)},47086:function(c,a,s){s.r(a)},16462:function(c,a,s){s.r(a)},40692:function(c,a,s){s.r(a)},27452:function(c,a,s){s.r(a)},51422:function(c,a,s){s.r(a)},62820:function(c,a,s){s.r(a)},63421:function(c,a,s){s.r(a)},32115:function(c,a,s){s.r(a)},53362:function(c,a,s){s.r(a)},48904:function(c,a,s){s.r(a)},85796:function(c,a,s){s.r(a)},28654:function(c,a,s){s.r(a)},60819:function(c,a,s){s.r(a)},96410:function(c,a,s){s.r(a)},33126:function(c,a,s){s.r(a)},30724:function(c,a,s){s.r(a)},14320:function(c,a,s){s.r(a)},9947:function(c,a,s){s.r(a)},45109:function(c,a,s){s.r(a)},71708:function(c,a,s){s.r(a)},51629:function(c,a,s){s.r(a)},54860:function(c,a,s){s.r(a)},47818:function(c,a,s){s.r(a)},6316:function(c,a,s){s.r(a)},88582:function(c,a,s){s.r(a)},30962:function(c,a,s){s.r(a)},68197:function(c,a,s){s.r(a)},60057:function(c,a,s){s.r(a)},33393:function(c,a,s){s.r(a)},51057:function(c,a,s){s.r(a)},64618:function(c,a,s){s.r(a)},90176:function(c,a,s){s.r(a)},91147:function(c,a,s){s.r(a)},70631:function(c,a){function s(h){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},s(h)}function u(h,f,m){var p=m.value;if(typeof p!="function")throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(s(p)));var g=!1;return{configurable:!0,get:function(){if(g||this===h.prototype||this.hasOwnProperty(f)||typeof p!="function")return p;var v=p.bind(this);return g=!0,Object.defineProperty(this,f,{configurable:!0,get:function(){return v},set:function(x){p=x,delete this[f]}}),g=!1,v},set:function(v){p=v}}}function d(h){var f;return typeof Reflect<"u"&&typeof Reflect.ownKeys=="function"?f=Reflect.ownKeys(h.prototype):(f=Object.getOwnPropertyNames(h.prototype),typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(h.prototype)))),f.forEach(function(m){if(m!=="constructor"){var p=Object.getOwnPropertyDescriptor(h.prototype,m);typeof p.value=="function"&&Object.defineProperty(h.prototype,m,u(h,m,p))}}),h}Object.defineProperty(a,"__esModule",{value:!0}),a.boundClass=a.boundMethod=void 0,a.boundMethod=u,a.boundClass=d,a.default=function(){return arguments.length===1?d.apply(void 0,arguments):u.apply(void 0,arguments)}},61227:function(){"document"in window.self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(c){if("Element"in c){var a="classList",s=c.Element.prototype,u=Object,d=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},h=Array.prototype.indexOf||function(y){for(var b=0,w=this.length;w>b;b++)if(b in this&&this[b]===y)return b;return-1},f=function(y,b){this.name=y,this.code=DOMException[y],this.message=b},m=function(y,b){if(b==="")throw new f("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new f("INVALID_CHARACTER_ERR","String contains an invalid character");return h.call(y,b)},p=function(y){for(var b=d.call(y.getAttribute("class")||""),w=b?b.split(/\s+/):[],_=0,S=w.length;S>_;_++)this.push(w[_]);this._updateClassName=function(){y.setAttribute("class",this.toString())}},g=p.prototype=[],v=function(){return new p(this)};if(f.prototype=Error.prototype,g.item=function(y){return this[y]||null},g.contains=function(y){return m(this,y+="")!==-1},g.add=function(){var y,b=arguments,w=0,_=b.length,S=!1;do m(this,y=b[w]+"")===-1&&(this.push(y),S=!0);while(++w<_);S&&this._updateClassName()},g.remove=function(){var y,b,w=arguments,_=0,S=w.length,E=!1;do for(b=m(this,y=w[_]+"");b!==-1;)this.splice(b,1),E=!0,b=m(this,y);while(++_<S);E&&this._updateClassName()},g.toggle=function(y,b){var w=this.contains(y+=""),_=w?b!==!0&&"remove":b!==!1&&"add";return _&&this[_](y),b===!0||b===!1?b:!w},g.toString=function(){return this.join(" ")},u.defineProperty){var x={get:v,enumerable:!0,configurable:!0};try{u.defineProperty(s,a,x)}catch(y){y.number!==void 0&&y.number!==-2146823252||(x.enumerable=!1,u.defineProperty(s,a,x))}}else u.prototype.__defineGetter__&&s.__defineGetter__(a,v)}}(window.self),function(){var c=document.createElement("_");if(c.classList.add("c1","c2"),!c.classList.contains("c2")){var a=function(u){var d=DOMTokenList.prototype[u];DOMTokenList.prototype[u]=function(h){var f,m=arguments.length;for(f=0;m>f;f++)d.call(this,h=arguments[f])}};a("add"),a("remove")}if(c.classList.toggle("c3",!1),c.classList.contains("c3")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(u,d){return 1 in arguments&&!this.contains(u)==!d?d:s.call(this,u)}}c=null}())},69220:function(c,a,s){s(22513);var u=s(56599);c.exports=u("Array","findIndex")},10444:function(c,a,s){s(52867),s(70057);var u=s(31116);c.exports=u.Array.from},66622:function(c,a,s){s(54166),s(32044),s(95661),s(28424),s(64514),s(30733),s(40327),s(53639),s(6147),s(7290),s(95122),s(61322),s(39605),s(49341),s(28809),s(82658),s(43967),s(90217),s(73477),s(93697);var u=s(31116);c.exports=u.Symbol},98061:function(c,a,s){var u=s(794),d=s(98418),h=TypeError;c.exports=function(f){if(u(f))return f;throw h(d(f)+" is not a function")}},75839:function(c,a,s){var u=s(794),d=String,h=TypeError;c.exports=function(f){if(typeof f=="object"||u(f))return f;throw h("Can't set "+d(f)+" as a prototype")}},15179:function(c,a,s){var u=s(19517),d=s(93503),h=s(73252).f,f=u("unscopables"),m=Array.prototype;m[f]==null&&h(m,f,{configurable:!0,value:d(null)}),c.exports=function(p){m[f][p]=!0}},52313:function(c,a,s){var u=s(8148),d=String,h=TypeError;c.exports=function(f){if(u(f))return f;throw h(d(f)+" is not an object")}},92707:function(c,a,s){var u=s(40207),d=s(9093),h=s(68488),f=s(79665),m=s(84997),p=s(15333),g=s(15050),v=s(89476),x=s(27395),y=s(81058),b=Array;c.exports=function(w){var _=h(w),S=p(this),E=arguments.length,C=E>1?arguments[1]:void 0,A=C!==void 0;A&&(C=u(C,E>2?arguments[2]:void 0));var T,k,D,M,P,j,O=y(_),I=0;if(!O||this===b&&m(O))for(T=g(_),k=S?new this(T):b(T);T>I;I++)j=A?C(_[I],I):_[I],v(k,I,j);else for(P=(M=x(_,O)).next,k=S?new this:[];!(D=d(P,M)).done;I++)j=A?f(M,C,[D.value,I],!0):D.value,v(k,I,j);return k.length=I,k}},79327:function(c,a,s){var u=s(98651),d=s(10586),h=s(15050),f=function(m){return function(p,g,v){var x,y=u(p),b=h(y),w=d(v,b);if(m&&g!=g){for(;b>w;)if((x=y[w++])!=x)return!0}else for(;b>w;w++)if((m||w in y)&&y[w]===g)return m||w||0;return!m&&-1}};c.exports={includes:f(!0),indexOf:f(!1)}},56881:function(c,a,s){var u=s(40207),d=s(90838),h=s(25049),f=s(68488),m=s(15050),p=s(6429),g=d([].push),v=function(x){var y=x==1,b=x==2,w=x==3,_=x==4,S=x==6,E=x==7,C=x==5||S;return function(A,T,k,D){for(var M,P,j=f(A),O=h(j),I=u(T,k),N=m(O),L=0,B=D||p,R=y?B(A,N):b||E?B(A,0):void 0;N>L;L++)if((C||L in O)&&(P=I(M=O[L],L,j),x))if(y)R[L]=P;else if(P)switch(x){case 3:return!0;case 5:return M;case 6:return L;case 2:g(R,M)}else switch(x){case 4:return!1;case 7:g(R,M)}return S?-1:w||_?_:R}};c.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6),filterReject:v(7)}},63833:function(c,a,s){var u=s(75834),d=s(19517),h=s(65190),f=d("species");c.exports=function(m){return h>=51||!u(function(){var p=[];return(p.constructor={})[f]=function(){return{foo:1}},p[m](Boolean).foo!==1})}},57652:function(c,a,s){var u=s(10586),d=s(15050),h=s(89476),f=Array,m=Math.max;c.exports=function(p,g,v){for(var x=d(p),y=u(g,x),b=u(v===void 0?x:v,x),w=f(m(b-y,0)),_=0;b>y;y++,_++)h(w,_,p[y]);return w.length=_,w}},54832:function(c,a,s){var u=s(90838);c.exports=u([].slice)},22506:function(c,a,s){var u=s(36222),d=s(15333),h=s(8148),f=s(19517)("species"),m=Array;c.exports=function(p){var g;return u(p)&&(d(g=p.constructor)&&(g===m||u(g.prototype))||h(g)&&(g=g[f])===null)&&(g=void 0),g===void 0?m:g}},6429:function(c,a,s){var u=s(22506);c.exports=function(d,h){return new(u(d))(h===0?0:h)}},79665:function(c,a,s){var u=s(52313),d=s(11274);c.exports=function(h,f,m,p){try{return p?f(u(m)[0],m[1]):f(m)}catch(g){d(h,"throw",g)}}},7581:function(c,a,s){var u=s(19517)("iterator"),d=!1;try{var h=0,f={next:function(){return{done:!!h++}},return:function(){d=!0}};f[u]=function(){return this},Array.from(f,function(){throw 2})}catch{}c.exports=function(m,p){if(!p&&!d)return!1;var g=!1;try{var v={};v[u]=function(){return{next:function(){return{done:g=!0}}}},m(v)}catch{}return g}},6285:function(c,a,s){var u=s(90838),d=u({}.toString),h=u("".slice);c.exports=function(f){return h(d(f),8,-1)}},8652:function(c,a,s){var u=s(6424),d=s(794),h=s(6285),f=s(19517)("toStringTag"),m=Object,p=h(function(){return arguments}())=="Arguments";c.exports=u?h:function(g){var v,x,y;return g===void 0?"Undefined":g===null?"Null":typeof(x=function(b,w){try{return b[w]}catch{}}(v=m(g),f))=="string"?x:p?h(v):(y=h(v))=="Object"&&d(v.callee)?"Arguments":y}},58392:function(c,a,s){var u=s(14434),d=s(86671),h=s(36999),f=s(73252);c.exports=function(m,p,g){for(var v=d(p),x=f.f,y=h.f,b=0;v.length>b;b++){var w=v[b];u(m,w)||g&&u(g,w)||x(m,w,y(p,w))}}},27259:function(c,a,s){var u=s(75834);c.exports=!u(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},17427:function(c){c.exports=function(a,s){return{value:a,done:s}}},45840:function(c,a,s){var u=s(13873),d=s(73252),h=s(32500);c.exports=u?function(f,m,p){return d.f(f,m,h(1,p))}:function(f,m,p){return f[m]=p,f}},32500:function(c){c.exports=function(a,s){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:s}}},89476:function(c,a,s){var u=s(43836),d=s(73252),h=s(32500);c.exports=function(f,m,p){var g=u(m);g in f?d.f(f,g,h(0,p)):f[g]=p}},97548:function(c,a,s){var u=s(40846),d=s(73252);c.exports=function(h,f,m){return m.get&&u(m.get,f,{getter:!0}),m.set&&u(m.set,f,{setter:!0}),d.f(h,f,m)}},35065:function(c,a,s){var u=s(794),d=s(73252),h=s(40846),f=s(25379);c.exports=function(m,p,g,v){v||(v={});var x=v.enumerable,y=v.name!==void 0?v.name:p;if(u(g)&&h(g,y,v),v.global)x?m[p]=g:f(p,g);else{try{v.unsafe?m[p]&&(x=!0):delete m[p]}catch{}x?m[p]=g:d.f(m,p,{value:g,enumerable:!1,configurable:!v.nonConfigurable,writable:!v.nonWritable})}return m}},25379:function(c,a,s){var u=s(37042),d=Object.defineProperty;c.exports=function(h,f){try{d(u,h,{value:f,configurable:!0,writable:!0})}catch{u[h]=f}return f}},13873:function(c,a,s){var u=s(75834);c.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},12062:function(c){var a=typeof document=="object"&&document.all;c.exports={all:a,IS_HTMLDDA:a===void 0&&a!==void 0}},15192:function(c,a,s){var u=s(37042),d=s(8148),h=u.document,f=d(h)&&d(h.createElement);c.exports=function(m){return f?h.createElement(m):{}}},39505:function(c){var a=TypeError;c.exports=function(s){if(s>9007199254740991)throw a("Maximum allowed index exceeded");return s}},21473:function(c){c.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},65190:function(c,a,s){var u,d,h=s(37042),f=s(21473),m=h.process,p=h.Deno,g=m&&m.versions||p&&p.version,v=g&&g.v8;v&&(d=(u=v.split("."))[0]>0&&4>u[0]?1:+(u[0]+u[1])),!d&&f&&((u=f.match(/Edge\/(\d+)/))&&74>u[1]||(u=f.match(/Chrome\/(\d+)/))&&(d=+u[1])),c.exports=d},56599:function(c,a,s){var u=s(37042),d=s(90838);c.exports=function(h,f){return d(u[h].prototype[f])}},64456:function(c){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},50791:function(c,a,s){var u=s(37042),d=s(36999).f,h=s(45840),f=s(35065),m=s(25379),p=s(58392),g=s(56930);c.exports=function(v,x){var y,b,w,_,S,E=v.target,C=v.global,A=v.stat;if(y=C?u:A?u[E]||m(E,{}):(u[E]||{}).prototype)for(b in x){if(_=x[b],w=v.dontCallGetSet?(S=d(y,b))&&S.value:y[b],!g(C?b:E+(A?".":"#")+b,v.forced)&&w!==void 0){if(typeof _==typeof w)continue;p(_,w)}(v.sham||w&&w.sham)&&h(_,"sham",!0),f(y,b,_,v)}}},75834:function(c){c.exports=function(a){try{return!!a()}catch{return!0}}},55101:function(c,a,s){var u=s(32610),d=Function.prototype,h=d.apply,f=d.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(u?f.bind(h):function(){return f.apply(h,arguments)})},40207:function(c,a,s){var u=s(75114),d=s(98061),h=s(32610),f=u(u.bind);c.exports=function(m,p){return d(m),p===void 0?m:h?f(m,p):function(){return m.apply(p,arguments)}}},32610:function(c,a,s){var u=s(75834);c.exports=!u(function(){var d=(function(){}).bind();return typeof d!="function"||d.hasOwnProperty("prototype")})},9093:function(c,a,s){var u=s(32610),d=Function.prototype.call;c.exports=u?d.bind(d):function(){return d.apply(d,arguments)}},84521:function(c,a,s){var u=s(13873),d=s(14434),h=Function.prototype,f=u&&Object.getOwnPropertyDescriptor,m=d(h,"name"),p=m&&(function(){}).name==="something",g=m&&(!u||u&&f(h,"name").configurable);c.exports={EXISTS:m,PROPER:p,CONFIGURABLE:g}},47448:function(c,a,s){var u=s(90838),d=s(98061);c.exports=function(h,f,m){try{return u(d(Object.getOwnPropertyDescriptor(h,f)[m]))}catch{}}},75114:function(c,a,s){var u=s(6285),d=s(90838);c.exports=function(h){if(u(h)==="Function")return d(h)}},90838:function(c,a,s){var u=s(32610),d=Function.prototype,h=d.call,f=u&&d.bind.bind(h,h);c.exports=u?f:function(m){return function(){return h.apply(m,arguments)}}},98945:function(c,a,s){var u=s(37042),d=s(794),h=function(f){return d(f)?f:void 0};c.exports=function(f,m){return 2>arguments.length?h(u[f]):u[f]&&u[f][m]}},81058:function(c,a,s){var u=s(8652),d=s(20156),h=s(8140),f=s(84922),m=s(19517)("iterator");c.exports=function(p){if(!h(p))return d(p,m)||d(p,"@@iterator")||f[u(p)]}},27395:function(c,a,s){var u=s(9093),d=s(98061),h=s(52313),f=s(98418),m=s(81058),p=TypeError;c.exports=function(g,v){var x=2>arguments.length?m(g):v;if(d(x))return h(u(x,g));throw p(f(g)+" is not iterable")}},6693:function(c,a,s){var u=s(90838),d=s(36222),h=s(794),f=s(6285),m=s(63046),p=u([].push);c.exports=function(g){if(h(g))return g;if(d(g)){for(var v=g.length,x=[],y=0;v>y;y++){var b=g[y];typeof b=="string"?p(x,b):typeof b!="number"&&f(b)!="Number"&&f(b)!="String"||p(x,m(b))}var w=x.length,_=!0;return function(S,E){if(_)return _=!1,E;if(d(this))return E;for(var C=0;w>C;C++)if(x[C]===S)return E}}}},20156:function(c,a,s){var u=s(98061),d=s(8140);c.exports=function(h,f){var m=h[f];return d(m)?void 0:u(m)}},37042:function(c,a,s){var u=function(d){return d&&d.Math==Math&&d};c.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof s.g=="object"&&s.g)||function(){return this}()||Function("return this")()},14434:function(c,a,s){var u=s(90838),d=s(68488),h=u({}.hasOwnProperty);c.exports=Object.hasOwn||function(f,m){return h(d(f),m)}},48889:function(c){c.exports={}},36249:function(c,a,s){var u=s(98945);c.exports=u("document","documentElement")},12816:function(c,a,s){var u=s(13873),d=s(75834),h=s(15192);c.exports=!u&&!d(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!=7})},25049:function(c,a,s){var u=s(90838),d=s(75834),h=s(6285),f=Object,m=u("".split);c.exports=d(function(){return!f("z").propertyIsEnumerable(0)})?function(p){return h(p)=="String"?m(p,""):f(p)}:f},92355:function(c,a,s){var u=s(90838),d=s(794),h=s(45752),f=u(Function.toString);d(h.inspectSource)||(h.inspectSource=function(m){return f(m)}),c.exports=h.inspectSource},56113:function(c,a,s){var u,d,h,f=s(95473),m=s(37042),p=s(8148),g=s(45840),v=s(14434),x=s(45752),y=s(85475),b=s(48889),w="Object already initialized",_=m.TypeError;if(f||x.state){var S=x.state||(x.state=new m.WeakMap);S.get=S.get,S.has=S.has,S.set=S.set,u=function(C,A){if(S.has(C))throw _(w);return A.facade=C,S.set(C,A),A},d=function(C){return S.get(C)||{}},h=function(C){return S.has(C)}}else{var E=y("state");b[E]=!0,u=function(C,A){if(v(C,E))throw _(w);return A.facade=C,g(C,E,A),A},d=function(C){return v(C,E)?C[E]:{}},h=function(C){return v(C,E)}}c.exports={set:u,get:d,has:h,enforce:function(C){return h(C)?d(C):u(C,{})},getterFor:function(C){return function(A){var T;if(!p(A)||(T=d(A)).type!==C)throw _("Incompatible receiver, "+C+" required");return T}}}},84997:function(c,a,s){var u=s(19517),d=s(84922),h=u("iterator"),f=Array.prototype;c.exports=function(m){return m!==void 0&&(d.Array===m||f[h]===m)}},36222:function(c,a,s){var u=s(6285);c.exports=Array.isArray||function(d){return u(d)=="Array"}},794:function(c,a,s){var u=s(12062),d=u.all;c.exports=u.IS_HTMLDDA?function(h){return typeof h=="function"||h===d}:function(h){return typeof h=="function"}},15333:function(c,a,s){var u=s(90838),d=s(75834),h=s(794),f=s(8652),m=s(98945),p=s(92355),g=function(){},v=[],x=m("Reflect","construct"),y=/^\s*(?:class|function)\b/,b=u(y.exec),w=!y.exec(g),_=function(E){if(!h(E))return!1;try{return x(g,v,E),!0}catch{return!1}},S=function(E){if(!h(E))return!1;switch(f(E)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return w||!!b(y,p(E))}catch{return!0}};S.sham=!0,c.exports=!x||d(function(){var E;return _(_.call)||!_(Object)||!_(function(){E=!0})||E})?S:_},56930:function(c,a,s){var u=s(75834),d=s(794),h=/#|\.prototype\./,f=function(x,y){var b=p[m(x)];return b==v||b!=g&&(d(y)?u(y):!!y)},m=f.normalize=function(x){return String(x).replace(h,".").toLowerCase()},p=f.data={},g=f.NATIVE="N",v=f.POLYFILL="P";c.exports=f},8140:function(c){c.exports=function(a){return a==null}},8148:function(c,a,s){var u=s(794),d=s(12062),h=d.all;c.exports=d.IS_HTMLDDA?function(f){return typeof f=="object"?f!==null:u(f)||f===h}:function(f){return typeof f=="object"?f!==null:u(f)}},70852:function(c){c.exports=!1},88253:function(c,a,s){var u=s(98945),d=s(794),h=s(54671),f=s(57982),m=Object;c.exports=f?function(p){return typeof p=="symbol"}:function(p){var g=u("Symbol");return d(g)&&h(g.prototype,m(p))}},11274:function(c,a,s){var u=s(9093),d=s(52313),h=s(20156);c.exports=function(f,m,p){var g,v;d(f);try{if(!(g=h(f,"return"))){if(m==="throw")throw p;return p}g=u(g,f)}catch(x){v=!0,g=x}if(m==="throw")throw p;if(v)throw g;return d(g),p}},60928:function(c,a,s){var u=s(77831).IteratorPrototype,d=s(93503),h=s(32500),f=s(44532),m=s(84922),p=function(){return this};c.exports=function(g,v,x,y){var b=v+" Iterator";return g.prototype=d(u,{next:h(+!y,x)}),f(g,b,!1,!0),m[b]=p,g}},13759:function(c,a,s){var u=s(50791),d=s(9093),h=s(70852),f=s(84521),m=s(794),p=s(60928),g=s(1074),v=s(482),x=s(44532),y=s(45840),b=s(35065),w=s(19517),_=s(84922),S=s(77831),E=f.PROPER,C=f.CONFIGURABLE,A=S.IteratorPrototype,T=S.BUGGY_SAFARI_ITERATORS,k=w("iterator"),D="keys",M="values",P="entries",j=function(){return this};c.exports=function(O,I,N,L,B,R,z){p(N,I,L);var W,U,H,X=function(ne){if(ne===B&&J)return J;if(!T&&ne in Y)return Y[ne];switch(ne){case D:case M:case P:return function(){return new N(this,ne)}}return function(){return new N(this)}},K=I+" Iterator",Q=!1,Y=O.prototype,$=Y[k]||Y["@@iterator"]||B&&Y[B],J=!T&&$||X(B),ie=I=="Array"&&Y.entries||$;if(ie&&(W=g(ie.call(new O)))!==Object.prototype&&W.next&&(h||g(W)===A||(v?v(W,A):m(W[k])||b(W,k,j)),x(W,K,!0,!0),h&&(_[K]=j)),E&&B==M&&$&&$.name!==M&&(!h&&C?y(Y,"name",M):(Q=!0,J=function(){return d($,this)})),B)if(U={values:X(M),keys:R?J:X(D),entries:X(P)},z)for(H in U)(T||Q||!(H in Y))&&b(Y,H,U[H]);else u({target:I,proto:!0,forced:T||Q},U);return h&&!z||Y[k]===J||b(Y,k,J,{name:B}),_[I]=J,U}},77831:function(c,a,s){var u,d,h,f=s(75834),m=s(794),p=s(8148),g=s(93503),v=s(1074),x=s(35065),y=s(19517),b=s(70852),w=y("iterator"),_=!1;[].keys&&("next"in(h=[].keys())?(d=v(v(h)))!==Object.prototype&&(u=d):_=!0),!p(u)||f(function(){var S={};return u[w].call(S)!==S})?u={}:b&&(u=g(u)),m(u[w])||x(u,w,function(){return this}),c.exports={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:_}},84922:function(c){c.exports={}},15050:function(c,a,s){var u=s(24431);c.exports=function(d){return u(d.length)}},40846:function(c,a,s){var u=s(90838),d=s(75834),h=s(794),f=s(14434),m=s(13873),p=s(84521).CONFIGURABLE,g=s(92355),v=s(56113),x=v.enforce,y=v.get,b=String,w=Object.defineProperty,_=u("".slice),S=u("".replace),E=u([].join),C=m&&!d(function(){return w(function(){},"length",{value:8}).length!==8}),A=String(String).split("String"),T=c.exports=function(k,D,M){_(b(D),0,7)==="Symbol("&&(D="["+S(b(D),/^Symbol\(([^)]*)\)/,"$1")+"]"),M&&M.getter&&(D="get "+D),M&&M.setter&&(D="set "+D),(!f(k,"name")||p&&k.name!==D)&&(m?w(k,"name",{value:D,configurable:!0}):k.name=D),C&&M&&f(M,"arity")&&k.length!==M.arity&&w(k,"length",{value:M.arity});try{M&&f(M,"constructor")&&M.constructor?m&&w(k,"prototype",{writable:!1}):k.prototype&&(k.prototype=void 0)}catch{}var P=x(k);return f(P,"source")||(P.source=E(A,typeof D=="string"?D:"")),k};Function.prototype.toString=T(function(){return h(this)&&y(this).source||g(this)},"toString")},43932:function(c){var a=Math.ceil,s=Math.floor;c.exports=Math.trunc||function(u){var d=+u;return(d>0?s:a)(d)}},93503:function(c,a,s){var u,d=s(52313),h=s(5770),f=s(64456),m=s(48889),p=s(36249),g=s(15192),v=s(85475)("IE_PROTO"),x=function(){},y=function(_){return"<script>"+_+"<\/script>"},b=function(_){_.write(y("")),_.close();var S=_.parentWindow.Object;return _=null,S},w=function(){try{u=new ActiveXObject("htmlfile")}catch{}var _,S;w=typeof document<"u"?document.domain&&u?b(u):((S=g("iframe")).style.display="none",p.appendChild(S),S.src="javascript:",(_=S.contentWindow.document).open(),_.write(y("document.F=Object")),_.close(),_.F):b(u);for(var E=f.length;E--;)delete w.prototype[f[E]];return w()};m[v]=!0,c.exports=Object.create||function(_,S){var E;return _!==null?(x.prototype=d(_),E=new x,x.prototype=null,E[v]=_):E=w(),S===void 0?E:h.f(E,S)}},5770:function(c,a,s){var u=s(13873),d=s(63142),h=s(73252),f=s(52313),m=s(98651),p=s(3385);a.f=u&&!d?Object.defineProperties:function(g,v){f(g);for(var x,y=m(v),b=p(v),w=b.length,_=0;w>_;)h.f(g,x=b[_++],y[x]);return g}},73252:function(c,a,s){var u=s(13873),d=s(12816),h=s(63142),f=s(52313),m=s(43836),p=TypeError,g=Object.defineProperty,v=Object.getOwnPropertyDescriptor;a.f=u?h?function(x,y,b){if(f(x),y=m(y),f(b),typeof x=="function"&&y==="prototype"&&"value"in b&&"writable"in b&&!b.writable){var w=v(x,y);w&&w.writable&&(x[y]=b.value,b={configurable:"configurable"in b?b.configurable:w.configurable,enumerable:"enumerable"in b?b.enumerable:w.enumerable,writable:!1})}return g(x,y,b)}:g:function(x,y,b){if(f(x),y=m(y),f(b),d)try{return g(x,y,b)}catch{}if("get"in b||"set"in b)throw p("Accessors not supported");return"value"in b&&(x[y]=b.value),x}},36999:function(c,a,s){var u=s(13873),d=s(9093),h=s(33244),f=s(32500),m=s(98651),p=s(43836),g=s(14434),v=s(12816),x=Object.getOwnPropertyDescriptor;a.f=u?x:function(y,b){if(y=m(y),b=p(b),v)try{return x(y,b)}catch{}if(g(y,b))return f(!d(h.f,y,b),y[b])}},53305:function(c,a,s){var u=s(6285),d=s(98651),h=s(7792).f,f=s(57652),m=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(p){return m&&u(p)=="Window"?function(g){try{return h(g)}catch{return f(m)}}(p):h(d(p))}},7792:function(c,a,s){var u=s(84729),d=s(64456).concat("length","prototype");a.f=Object.getOwnPropertyNames||function(h){return u(h,d)}},23953:function(c,a){a.f=Object.getOwnPropertySymbols},1074:function(c,a,s){var u=s(14434),d=s(794),h=s(68488),f=s(85475),m=s(27259),p=f("IE_PROTO"),g=Object,v=g.prototype;c.exports=m?g.getPrototypeOf:function(x){var y=h(x);if(u(y,p))return y[p];var b=y.constructor;return d(b)&&y instanceof b?b.prototype:y instanceof g?v:null}},54671:function(c,a,s){var u=s(90838);c.exports=u({}.isPrototypeOf)},84729:function(c,a,s){var u=s(90838),d=s(14434),h=s(98651),f=s(79327).indexOf,m=s(48889),p=u([].push);c.exports=function(g,v){var x,y=h(g),b=0,w=[];for(x in y)!d(m,x)&&d(y,x)&&p(w,x);for(;v.length>b;)d(y,x=v[b++])&&(~f(w,x)||p(w,x));return w}},3385:function(c,a,s){var u=s(84729),d=s(64456);c.exports=Object.keys||function(h){return u(h,d)}},33244:function(c,a){var s={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,d=u&&!s.call({1:2},1);a.f=d?function(h){var f=u(this,h);return!!f&&f.enumerable}:s},482:function(c,a,s){var u=s(47448),d=s(52313),h=s(75839);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f,m=!1,p={};try{(f=u(Object.prototype,"__proto__","set"))(p,[]),m=p instanceof Array}catch{}return function(g,v){return d(g),h(v),m?f(g,v):g.__proto__=v,g}}():void 0)},57555:function(c,a,s){var u=s(6424),d=s(8652);c.exports=u?{}.toString:function(){return"[object "+d(this)+"]"}},82472:function(c,a,s){var u=s(9093),d=s(794),h=s(8148),f=TypeError;c.exports=function(m,p){var g,v;if(p==="string"&&d(g=m.toString)&&!h(v=u(g,m))||d(g=m.valueOf)&&!h(v=u(g,m))||p!=="string"&&d(g=m.toString)&&!h(v=u(g,m)))return v;throw f("Can't convert object to primitive value")}},86671:function(c,a,s){var u=s(98945),d=s(90838),h=s(7792),f=s(23953),m=s(52313),p=d([].concat);c.exports=u("Reflect","ownKeys")||function(g){var v=h.f(m(g)),x=f.f;return x?p(v,x(g)):v}},31116:function(c,a,s){var u=s(37042);c.exports=u},60265:function(c,a,s){var u=s(8140),d=TypeError;c.exports=function(h){if(u(h))throw d("Can't call method on "+h);return h}},44532:function(c,a,s){var u=s(73252).f,d=s(14434),h=s(19517)("toStringTag");c.exports=function(f,m,p){f&&!p&&(f=f.prototype),f&&!d(f,h)&&u(f,h,{configurable:!0,value:m})}},85475:function(c,a,s){var u=s(95138),d=s(15257),h=u("keys");c.exports=function(f){return h[f]||(h[f]=d(f))}},45752:function(c,a,s){var u=s(37042),d=s(25379),h="__core-js_shared__",f=u[h]||d(h,{});c.exports=f},95138:function(c,a,s){var u=s(70852),d=s(45752);(c.exports=function(h,f){return d[h]||(d[h]=f!==void 0?f:{})})("versions",[]).push({version:"3.28.0",mode:u?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.28.0/LICENSE",source:"https://github.com/zloirock/core-js"})},41397:function(c,a,s){var u=s(90838),d=s(27876),h=s(63046),f=s(60265),m=u("".charAt),p=u("".charCodeAt),g=u("".slice),v=function(x){return function(y,b){var w,_,S=h(f(y)),E=d(b),C=S.length;return 0>E||E>=C?x?"":void 0:55296>(w=p(S,E))||w>56319||E+1===C||56320>(_=p(S,E+1))||_>57343?x?m(S,E):w:x?g(S,E,E+2):_-56320+(w-55296<<10)+65536}};c.exports={codeAt:v(!1),charAt:v(!0)}},73800:function(c,a,s){var u=s(65190),d=s(75834);c.exports=!!Object.getOwnPropertySymbols&&!d(function(){var h=Symbol();return!String(h)||!(Object(h)instanceof Symbol)||!Symbol.sham&&u&&41>u})},13829:function(c,a,s){var u=s(9093),d=s(98945),h=s(19517),f=s(35065);c.exports=function(){var m=d("Symbol"),p=m&&m.prototype,g=p&&p.valueOf,v=h("toPrimitive");p&&!p[v]&&f(p,v,function(x){return u(g,this)},{arity:1})}},31948:function(c,a,s){var u=s(73800);c.exports=u&&!!Symbol.for&&!!Symbol.keyFor},10586:function(c,a,s){var u=s(27876),d=Math.max,h=Math.min;c.exports=function(f,m){var p=u(f);return 0>p?d(p+m,0):h(p,m)}},98651:function(c,a,s){var u=s(25049),d=s(60265);c.exports=function(h){return u(d(h))}},27876:function(c,a,s){var u=s(43932);c.exports=function(d){var h=+d;return h!=h||h===0?0:u(h)}},24431:function(c,a,s){var u=s(27876),d=Math.min;c.exports=function(h){return h>0?d(u(h),9007199254740991):0}},68488:function(c,a,s){var u=s(60265),d=Object;c.exports=function(h){return d(u(h))}},11261:function(c,a,s){var u=s(9093),d=s(8148),h=s(88253),f=s(20156),m=s(82472),p=s(19517),g=TypeError,v=p("toPrimitive");c.exports=function(x,y){if(!d(x)||h(x))return x;var b,w=f(x,v);if(w){if(y===void 0&&(y="default"),b=u(w,x,y),!d(b)||h(b))return b;throw g("Can't convert object to primitive value")}return y===void 0&&(y="number"),m(x,y)}},43836:function(c,a,s){var u=s(11261),d=s(88253);c.exports=function(h){var f=u(h,"string");return d(f)?f:f+""}},6424:function(c,a,s){var u={};u[s(19517)("toStringTag")]="z",c.exports=String(u)==="[object z]"},63046:function(c,a,s){var u=s(8652),d=String;c.exports=function(h){if(u(h)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return d(h)}},98418:function(c){var a=String;c.exports=function(s){try{return a(s)}catch{return"Object"}}},15257:function(c,a,s){var u=s(90838),d=0,h=Math.random(),f=u(1 .toString);c.exports=function(m){return"Symbol("+(m===void 0?"":m)+")_"+f(++d+h,36)}},57982:function(c,a,s){var u=s(73800);c.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},63142:function(c,a,s){var u=s(13873),d=s(75834);c.exports=u&&d(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},95473:function(c,a,s){var u=s(37042),d=s(794),h=u.WeakMap;c.exports=d(h)&&/native code/.test(String(h))},89633:function(c,a,s){var u=s(31116),d=s(14434),h=s(96767),f=s(73252).f;c.exports=function(m){var p=u.Symbol||(u.Symbol={});d(p,m)||f(p,m,{value:h.f(m)})}},96767:function(c,a,s){var u=s(19517);a.f=u},19517:function(c,a,s){var u=s(37042),d=s(95138),h=s(14434),f=s(15257),m=s(73800),p=s(57982),g=u.Symbol,v=d("wks"),x=p?g.for||g:g&&g.withoutSetter||f;c.exports=function(y){return h(v,y)||(v[y]=m&&h(g,y)?g[y]:x("Symbol."+y)),v[y]}},54166:function(c,a,s){var u=s(50791),d=s(75834),h=s(36222),f=s(8148),m=s(68488),p=s(15050),g=s(39505),v=s(89476),x=s(6429),y=s(63833),b=s(19517),w=s(65190),_=b("isConcatSpreadable"),S=w>=51||!d(function(){var C=[];return C[_]=!1,C.concat()[0]!==C}),E=function(C){if(!f(C))return!1;var A=C[_];return A!==void 0?!!A:h(C)};u({target:"Array",proto:!0,arity:1,forced:!S||!y("concat")},{concat:function(C){var A,T,k,D,M,P=m(this),j=x(P,0),O=0;for(A=-1,k=arguments.length;k>A;A++)if(E(M=A===-1?P:arguments[A]))for(D=p(M),g(O+D),T=0;D>T;T++,O++)T in M&&v(j,O,M[T]);else g(O+1),v(j,O++,M);return j.length=O,j}})},22513:function(c,a,s){var u=s(50791),d=s(56881).findIndex,h=s(15179),f="findIndex",m=!0;f in[]&&Array(1).findIndex(function(){m=!1}),u({target:"Array",proto:!0,forced:m},{findIndex:function(p){return d(this,p,arguments.length>1?arguments[1]:void 0)}}),h(f)},70057:function(c,a,s){var u=s(50791),d=s(92707);u({target:"Array",stat:!0,forced:!s(7581)(function(h){Array.from(h)})},{from:d})},67507:function(c,a,s){var u=s(50791),d=s(98945),h=s(55101),f=s(9093),m=s(90838),p=s(75834),g=s(794),v=s(88253),x=s(54832),y=s(6693),b=s(73800),w=String,_=d("JSON","stringify"),S=m(/./.exec),E=m("".charAt),C=m("".charCodeAt),A=m("".replace),T=m(1 .toString),k=/[\uD800-\uDFFF]/g,D=/^[\uD800-\uDBFF]$/,M=/^[\uDC00-\uDFFF]$/,P=!b||p(function(){var N=d("Symbol")();return _([N])!="[null]"||_({a:N})!="{}"||_(Object(N))!="{}"}),j=p(function(){return _("\uDF06\uD834")!=='"\\udf06\\ud834"'||_("\uDEAD")!=='"\\udead"'}),O=function(N,L){var B=x(arguments),R=y(L);if(g(R)||N!==void 0&&!v(N))return B[1]=function(z,W){if(g(R)&&(W=f(R,this,w(z),W)),!v(W))return W},h(_,null,B)},I=function(N,L,B){var R=E(B,L-1),z=E(B,L+1);return S(D,N)&&!S(M,z)||S(M,N)&&!S(D,R)?"\\u"+T(C(N,0),16):N};_&&u({target:"JSON",stat:!0,arity:3,forced:P||j},{stringify:function(N,L,B){var R=x(arguments),z=h(P?O:_,null,R);return j&&typeof z=="string"?A(z,k,I):z}})},90217:function(c,a,s){var u=s(37042);s(44532)(u.JSON,"JSON",!0)},73477:function(c,a,s){s(44532)(Math,"Math",!0)},30165:function(c,a,s){var u=s(50791),d=s(73800),h=s(75834),f=s(23953),m=s(68488);u({target:"Object",stat:!0,forced:!d||h(function(){f.f(1)})},{getOwnPropertySymbols:function(p){var g=f.f;return g?g(m(p)):[]}})},32044:function(c,a,s){var u=s(6424),d=s(35065),h=s(57555);u||d(Object.prototype,"toString",h,{unsafe:!0})},93697:function(c,a,s){var u=s(50791),d=s(37042),h=s(44532);u({global:!0},{Reflect:{}}),h(d.Reflect,"Reflect",!0)},52867:function(c,a,s){var u=s(41397).charAt,d=s(63046),h=s(56113),f=s(13759),m=s(17427),p="String Iterator",g=h.set,v=h.getterFor(p);f(String,"String",function(x){g(this,{type:p,string:d(x),index:0})},function(){var x,y=v(this),b=y.string,w=y.index;return b.length>w?(x=u(b,w),y.index+=x.length,m(x,!1)):m(void 0,!0)})},28424:function(c,a,s){s(89633)("asyncIterator")},9656:function(c,a,s){var u=s(50791),d=s(37042),h=s(9093),f=s(90838),m=s(70852),p=s(13873),g=s(73800),v=s(75834),x=s(14434),y=s(54671),b=s(52313),w=s(98651),_=s(43836),S=s(63046),E=s(32500),C=s(93503),A=s(3385),T=s(7792),k=s(53305),D=s(23953),M=s(36999),P=s(73252),j=s(5770),O=s(33244),I=s(35065),N=s(97548),L=s(95138),B=s(85475),R=s(48889),z=s(15257),W=s(19517),U=s(96767),H=s(89633),X=s(13829),K=s(44532),Q=s(56113),Y=s(56881).forEach,$=B("hidden"),J="Symbol",ie=Q.set,ne=Q.getterFor(J),ae=Object.prototype,je=d.Symbol,Ee=je&&je.prototype,we=d.TypeError,De=d.QObject,Le=M.f,Ie=P.f,ee=k.f,q=O.f,le=f([].push),Te=L("symbols"),te=L("op-symbols"),ce=L("wks"),Ce=!De||!De.prototype||!De.prototype.findChild,fe=p&&v(function(){return C(Ie({},"a",{get:function(){return Ie(this,"a",{value:7}).a}})).a!=7})?function(We,He,re){var be=Le(ae,He);be&&delete ae[He],Ie(We,He,re),be&&We!==ae&&Ie(ae,He,be)}:Ie,de=function(We,He){var re=Te[We]=C(Ee);return ie(re,{type:J,tag:We,description:He}),p||(re.description=He),re},Fe=function(We,He,re){We===ae&&Fe(te,He,re),b(We);var be=_(He);return b(re),x(Te,be)?(re.enumerable?(x(We,$)&&We[$][be]&&(We[$][be]=!1),re=C(re,{enumerable:E(0,!1)})):(x(We,$)||Ie(We,$,E(1,{})),We[$][be]=!0),fe(We,be,re)):Ie(We,be,re)},Be=function(We,He){b(We);var re=w(He),be=A(re).concat(Ke(re));return Y(be,function(Ae){p&&!h(_e,re,Ae)||Fe(We,Ae,re[Ae])}),We},_e=function(We){var He=_(We),re=h(q,this,He);return!(this===ae&&x(Te,He)&&!x(te,He))&&(!(re||!x(this,He)||!x(Te,He)||x(this,$)&&this[$][He])||re)},Ve=function(We,He){var re=w(We),be=_(He);if(re!==ae||!x(Te,be)||x(te,be)){var Ae=Le(re,be);return!Ae||!x(Te,be)||x(re,$)&&re[$][be]||(Ae.enumerable=!0),Ae}},Re=function(We){var He=ee(w(We)),re=[];return Y(He,function(be){x(Te,be)||x(R,be)||le(re,be)}),re},Ke=function(We){var He=We===ae,re=ee(He?te:w(We)),be=[];return Y(re,function(Ae){!x(Te,Ae)||He&&!x(ae,Ae)||le(be,Te[Ae])}),be};g||(je=function(){if(y(Ee,this))throw we("Symbol is not a constructor");var We=arguments.length&&arguments[0]!==void 0?S(arguments[0]):void 0,He=z(We),re=function(be){this===ae&&h(re,te,be),x(this,$)&&x(this[$],He)&&(this[$][He]=!1),fe(this,He,E(1,be))};return p&&Ce&&fe(ae,He,{configurable:!0,set:re}),de(He,We)},I(Ee=je.prototype,"toString",function(){return ne(this).tag}),I(je,"withoutSetter",function(We){return de(z(We),We)}),O.f=_e,P.f=Fe,j.f=Be,M.f=Ve,T.f=k.f=Re,D.f=Ke,U.f=function(We){return de(W(We),We)},p&&(N(Ee,"description",{configurable:!0,get:function(){return ne(this).description}}),m||I(ae,"propertyIsEnumerable",_e,{unsafe:!0}))),u({global:!0,constructor:!0,wrap:!0,forced:!g,sham:!g},{Symbol:je}),Y(A(ce),function(We){H(We)}),u({target:J,stat:!0,forced:!g},{useSetter:function(){Ce=!0},useSimple:function(){Ce=!1}}),u({target:"Object",stat:!0,forced:!g,sham:!p},{create:function(We,He){return He===void 0?C(We):Be(C(We),He)},defineProperty:Fe,defineProperties:Be,getOwnPropertyDescriptor:Ve}),u({target:"Object",stat:!0,forced:!g},{getOwnPropertyNames:Re}),X(),K(je,J),R[$]=!0},64514:function(c,a,s){var u=s(50791),d=s(13873),h=s(37042),f=s(90838),m=s(14434),p=s(794),g=s(54671),v=s(63046),x=s(97548),y=s(58392),b=h.Symbol,w=b&&b.prototype;if(d&&p(b)&&(!("description"in w)||b().description!==void 0)){var _={},S=function(){var M=1>arguments.length||arguments[0]===void 0?void 0:v(arguments[0]),P=g(w,this)?new b(M):M===void 0?b():b(M);return M===""&&(_[P]=!0),P};y(S,b),S.prototype=w,w.constructor=S;var E=String(b("test"))=="Symbol(test)",C=f(w.valueOf),A=f(w.toString),T=/^Symbol\((.*)\)[^)]+$/,k=f("".replace),D=f("".slice);x(w,"description",{configurable:!0,get:function(){var M=C(this);if(m(_,M))return"";var P=A(M),j=E?D(P,7,-1):k(P,T,"$1");return j===""?void 0:j}}),u({global:!0,constructor:!0,forced:!0},{Symbol:S})}},56202:function(c,a,s){var u=s(50791),d=s(98945),h=s(14434),f=s(63046),m=s(95138),p=s(31948),g=m("string-to-symbol-registry"),v=m("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!p},{for:function(x){var y=f(x);if(h(g,y))return g[y];var b=d("Symbol")(y);return g[y]=b,v[b]=y,b}})},30733:function(c,a,s){s(89633)("hasInstance")},40327:function(c,a,s){s(89633)("isConcatSpreadable")},53639:function(c,a,s){s(89633)("iterator")},95661:function(c,a,s){s(9656),s(56202),s(71940),s(67507),s(30165)},71940:function(c,a,s){var u=s(50791),d=s(14434),h=s(88253),f=s(98418),m=s(95138),p=s(31948),g=m("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!p},{keyFor:function(v){if(!h(v))throw TypeError(f(v)+" is not a symbol");if(d(g,v))return g[v]}})},7290:function(c,a,s){s(89633)("matchAll")},6147:function(c,a,s){s(89633)("match")},95122:function(c,a,s){s(89633)("replace")},61322:function(c,a,s){s(89633)("search")},39605:function(c,a,s){s(89633)("species")},49341:function(c,a,s){s(89633)("split")},28809:function(c,a,s){var u=s(89633),d=s(13829);u("toPrimitive"),d()},82658:function(c,a,s){var u=s(98945),d=s(89633),h=s(44532);d("toStringTag"),h(u("Symbol"),"Symbol")},43967:function(c,a,s){s(89633)("unscopables")},690:function(c,a,s){c.exports=s(26002).polyfill()},26002:function(c,a,s){c.exports=function(){function u(Y){return typeof Y=="function"}var d=Array.isArray?Array.isArray:function(Y){return Object.prototype.toString.call(Y)==="[object Array]"},h=0,f=void 0,m=void 0,p=function(Y,$){_[h]=Y,_[h+1]=$,(h+=2)===2&&(m?m(S):k())},g=typeof window<"u"?window:void 0,v=g||{},x=v.MutationObserver||v.WebKitMutationObserver,y=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",b=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function w(){var Y=setTimeout;return function(){return Y(S,1)}}var _=new Array(1e3);function S(){for(var Y=0;h>Y;Y+=2)(0,_[Y])(_[Y+1]),_[Y]=void 0,_[Y+1]=void 0;h=0}var E,C,A,T,k=void 0;function D(Y,$){var J=this,ie=new this.constructor(j);ie[P]===void 0&&X(ie);var ne=J._state;if(ne){var ae=arguments[ne-1];p(function(){return U(ne,ie,ae,J._result)})}else z(J,ie,Y,$);return ie}function M(Y){if(Y&&typeof Y=="object"&&Y.constructor===this)return Y;var $=new this(j);return N($,Y),$}k=y?function(){return process.nextTick(S)}:x?(C=0,A=new x(S),T=document.createTextNode(""),A.observe(T,{characterData:!0}),function(){T.data=C=++C%2}):b?((E=new MessageChannel).port1.onmessage=S,function(){return E.port2.postMessage(0)}):g===void 0?function(){try{var Y=Function("return this")().require("vertx");return(f=Y.runOnLoop||Y.runOnContext)!==void 0?function(){f(S)}:w()}catch{return w()}}():w();var P=Math.random().toString(36).substring(2);function j(){}var O=void 0;function I(Y,$,J){$.constructor===Y.constructor&&J===D&&$.constructor.resolve===M?function(ie,ne){ne._state===1?B(ie,ne._result):ne._state===2?R(ie,ne._result):z(ne,void 0,function(ae){return N(ie,ae)},function(ae){return R(ie,ae)})}(Y,$):J===void 0?B(Y,$):u(J)?function(ie,ne,ae){p(function(je){var Ee=!1,we=function(De,Le,Ie,ee){try{De.call(Le,function(q){Ee||(Ee=!0,ne!==q?N(je,q):B(je,q))},function(q){Ee||(Ee=!0,R(je,q))})}catch(q){return q}}(ae,ne);!Ee&&we&&(Ee=!0,R(je,we))},ie)}(Y,$,J):B(Y,$)}function N(Y,$){if(Y===$)R(Y,new TypeError("You cannot resolve a promise with itself"));else if(ne=typeof(ie=$),ie===null||ne!=="object"&&ne!=="function")B(Y,$);else{var J=void 0;try{J=$.then}catch(ae){return void R(Y,ae)}I(Y,$,J)}var ie,ne}function L(Y){Y._onerror&&Y._onerror(Y._result),W(Y)}function B(Y,$){Y._state===O&&(Y._result=$,Y._state=1,Y._subscribers.length!==0&&p(W,Y))}function R(Y,$){Y._state===O&&(Y._state=2,Y._result=$,p(L,Y))}function z(Y,$,J,ie){var ne=Y._subscribers,ae=ne.length;Y._onerror=null,ne[ae]=$,ne[ae+1]=J,ne[ae+2]=ie,ae===0&&Y._state&&p(W,Y)}function W(Y){var $=Y._subscribers,J=Y._state;if($.length!==0){for(var ie=void 0,ne=void 0,ae=Y._result,je=0;$.length>je;je+=3)ne=$[je+J],(ie=$[je])?U(J,ie,ne,ae):ne(ae);Y._subscribers.length=0}}function U(Y,$,J,ie){var ne=u(J),ae=void 0,je=void 0,Ee=!0;if(ne){try{ae=J(ie)}catch(we){Ee=!1,je=we}if($===ae)return void R($,new TypeError("A promises callback cannot return that same promise."))}else ae=ie;$._state!==O||(ne&&Ee?N($,ae):Ee===!1?R($,je):Y===1?B($,ae):Y===2&&R($,ae))}var H=0;function X(Y){Y[P]=H++,Y._state=void 0,Y._result=void 0,Y._subscribers=[]}var K=function(){function Y($,J){this._instanceConstructor=$,this.promise=new $(j),this.promise[P]||X(this.promise),d(J)?(this.length=J.length,this._remaining=J.length,this._result=new Array(this.length),this.length===0?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(J),this._remaining===0&&B(this.promise,this._result))):R(this.promise,new Error("Array Methods must be provided an Array"))}return Y.prototype._enumerate=function($){for(var J=0;this._state===O&&$.length>J;J++)this._eachEntry($[J],J)},Y.prototype._eachEntry=function($,J){var ie=this._instanceConstructor,ne=ie.resolve;if(ne===M){var ae=void 0,je=void 0,Ee=!1;try{ae=$.then}catch(De){Ee=!0,je=De}if(ae===D&&$._state!==O)this._settledAt($._state,J,$._result);else if(typeof ae!="function")this._remaining--,this._result[J]=$;else if(ie===Q){var we=new ie(j);Ee?R(we,je):I(we,$,ae),this._willSettleAt(we,J)}else this._willSettleAt(new ie(function(De){return De($)}),J)}else this._willSettleAt(ne($),J)},Y.prototype._settledAt=function($,J,ie){var ne=this.promise;ne._state===O&&(this._remaining--,$===2?R(ne,ie):this._result[J]=ie),this._remaining===0&&B(ne,this._result)},Y.prototype._willSettleAt=function($,J){var ie=this;z($,void 0,function(ne){return ie._settledAt(1,J,ne)},function(ne){return ie._settledAt(2,J,ne)})},Y}(),Q=function(){function Y($){this[P]=H++,this._result=this._state=void 0,this._subscribers=[],j!==$&&(typeof $!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Y?function(J,ie){try{ie(function(ne){N(J,ne)},function(ne){R(J,ne)})}catch(ne){R(J,ne)}}(this,$):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return Y.prototype.catch=function($){return this.then(null,$)},Y.prototype.finally=function($){var J=this,ie=J.constructor;return u($)?J.then(function(ne){return ie.resolve($()).then(function(){return ne})},function(ne){return ie.resolve($()).then(function(){throw ne})}):J.then($,$)},Y}();return Q.prototype.then=D,Q.all=function(Y){return new K(this,Y).promise},Q.race=function(Y){var $=this;return d(Y)?new $(function(J,ie){for(var ne=Y.length,ae=0;ne>ae;ae++)$.resolve(Y[ae]).then(J,ie)}):new $(function(J,ie){return ie(new TypeError("You must pass an array to race."))})},Q.resolve=M,Q.reject=function(Y){var $=new this(j);return R($,Y),$},Q._setScheduler=function(Y){m=Y},Q._setAsap=function(Y){p=Y},Q._asap=p,Q.polyfill=function(){var Y=void 0;if(s.g!==void 0)Y=s.g;else if(typeof self<"u")Y=self;else try{Y=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var $=Y.Promise;if($){var J=null;try{J=Object.prototype.toString.call($.resolve())}catch{}if(J==="[object Promise]"&&!$.cast)return}Y.Promise=Q},Q.Promise=Q,Q}()},20255:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.__classPrivateFieldIn=a.__classPrivateFieldSet=a.__classPrivateFieldGet=a.__importDefault=a.__importStar=a.__makeTemplateObject=a.__asyncValues=a.__asyncDelegator=a.__asyncGenerator=a.__await=a.__spreadArray=a.__spreadArrays=a.__spread=a.__read=a.__values=a.__exportStar=a.__createBinding=a.__generator=a.__awaiter=a.__metadata=a.__setFunctionName=a.__propKey=a.__runInitializers=a.__esDecorate=a.__param=a.__decorate=a.__rest=a.__assign=a.__extends=void 0;var s=function(m,p){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(g[x]=v[x])},s(m,p)};function u(m){var p=typeof Symbol=="function"&&Symbol.iterator,g=p&&m[p],v=0;if(g)return g.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&v>=m.length&&(m=void 0),{value:m&&m[v++],done:!m}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(m,p){var g=typeof Symbol=="function"&&m[Symbol.iterator];if(!g)return m;var v,x,y=g.call(m),b=[];try{for(;(p===void 0||p-- >0)&&!(v=y.next()).done;)b.push(v.value)}catch(w){x={error:w}}finally{try{v&&!v.done&&(g=y.return)&&g.call(y)}finally{if(x)throw x.error}}return b}function h(m){return this instanceof h?(this.v=m,this):new h(m)}a.__extends=function(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function g(){this.constructor=m}s(m,p),m.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)},a.__assign=function(){return a.__assign=Object.assign||function(m){for(var p,g=1,v=arguments.length;v>g;g++)for(var x in p=arguments[g])Object.prototype.hasOwnProperty.call(p,x)&&(m[x]=p[x]);return m},a.__assign.apply(this,arguments)},a.__rest=function(m,p){var g={};for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&0>p.indexOf(v)&&(g[v]=m[v]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function"){var x=0;for(v=Object.getOwnPropertySymbols(m);v.length>x;x++)0>p.indexOf(v[x])&&Object.prototype.propertyIsEnumerable.call(m,v[x])&&(g[v[x]]=m[v[x]])}return g},a.__decorate=function(m,p,g,v){var x,y=arguments.length,b=3>y?p:v===null?v=Object.getOwnPropertyDescriptor(p,g):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(m,p,g,v);else for(var w=m.length-1;w>=0;w--)(x=m[w])&&(b=(3>y?x(b):y>3?x(p,g,b):x(p,g))||b);return y>3&&b&&Object.defineProperty(p,g,b),b},a.__param=function(m,p){return function(g,v){p(g,v,m)}},a.__esDecorate=function(m,p,g,v,x,y){function b(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var w,_=v.kind,S=_==="getter"?"get":_==="setter"?"set":"value",E=!p&&m?v.static?m:m.prototype:null,C=p||(E?Object.getOwnPropertyDescriptor(E,v.name):{}),A=!1,T=g.length-1;T>=0;T--){var k={};for(var D in v)k[D]=D==="access"?{}:v[D];for(var D in v.access)k.access[D]=v.access[D];k.addInitializer=function(P){if(A)throw new TypeError("Cannot add initializers after decoration has completed");y.push(b(P||null))};var M=(0,g[T])(_==="accessor"?{get:C.get,set:C.set}:C[S],k);if(_==="accessor"){if(M===void 0)continue;if(M===null||typeof M!="object")throw new TypeError("Object expected");(w=b(M.get))&&(C.get=w),(w=b(M.set))&&(C.set=w),(w=b(M.init))&&x.push(w)}else(w=b(M))&&(_==="field"?x.push(w):C[S]=w)}E&&Object.defineProperty(E,v.name,C),A=!0},a.__runInitializers=function(m,p,g){for(var v=arguments.length>2,x=0;p.length>x;x++)g=v?p[x].call(m,g):p[x].call(m);return v?g:void 0},a.__propKey=function(m){return typeof m=="symbol"?m:"".concat(m)},a.__setFunctionName=function(m,p,g){return typeof p=="symbol"&&(p=p.description?"[".concat(p.description,"]"):""),Object.defineProperty(m,"name",{configurable:!0,value:g?"".concat(g," ",p):p})},a.__metadata=function(m,p){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,p)},a.__awaiter=function(m,p,g,v){return new(g||(g=Promise))(function(x,y){function b(S){try{_(v.next(S))}catch(E){y(E)}}function w(S){try{_(v.throw(S))}catch(E){y(E)}}function _(S){var E;S.done?x(S.value):(E=S.value,E instanceof g?E:new g(function(C){C(E)})).then(b,w)}_((v=v.apply(m,p||[])).next())})},a.__generator=function(m,p){var g,v,x,y,b={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]};return y={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function w(_){return function(S){return function(E){if(g)throw new TypeError("Generator is already executing.");for(;y&&(y=0,E[0]&&(b=0)),b;)try{if(g=1,v&&(x=2&E[0]?v.return:E[0]?v.throw||((x=v.return)&&x.call(v),0):v.next)&&!(x=x.call(v,E[1])).done)return x;switch(v=0,x&&(E=[2&E[0],x.value]),E[0]){case 0:case 1:x=E;break;case 4:return b.label++,{value:E[1],done:!1};case 5:b.label++,v=E[1],E=[0];continue;case 7:E=b.ops.pop(),b.trys.pop();continue;default:if(!((x=(x=b.trys).length>0&&x[x.length-1])||E[0]!==6&&E[0]!==2)){b=0;continue}if(E[0]===3&&(!x||E[1]>x[0]&&x[3]>E[1])){b.label=E[1];break}if(E[0]===6&&x[1]>b.label){b.label=x[1],x=E;break}if(x&&x[2]>b.label){b.label=x[2],b.ops.push(E);break}x[2]&&b.ops.pop(),b.trys.pop();continue}E=p.call(m,b)}catch(C){E=[6,C],v=0}finally{g=x=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([_,S])}}},a.__createBinding=Object.create?function(m,p,g,v){v===void 0&&(v=g);var x=Object.getOwnPropertyDescriptor(p,g);x&&!("get"in x?!p.__esModule:x.writable||x.configurable)||(x={enumerable:!0,get:function(){return p[g]}}),Object.defineProperty(m,v,x)}:function(m,p,g,v){v===void 0&&(v=g),m[v]=p[g]},a.__exportStar=function(m,p){for(var g in m)g==="default"||Object.prototype.hasOwnProperty.call(p,g)||(0,a.__createBinding)(p,m,g)},a.__values=u,a.__read=d,a.__spread=function(){for(var m=[],p=0;arguments.length>p;p++)m=m.concat(d(arguments[p]));return m},a.__spreadArrays=function(){for(var m=0,p=0,g=arguments.length;g>p;p++)m+=arguments[p].length;var v=Array(m),x=0;for(p=0;g>p;p++)for(var y=arguments[p],b=0,w=y.length;w>b;b++,x++)v[x]=y[b];return v},a.__spreadArray=function(m,p,g){if(g||arguments.length===2)for(var v,x=0,y=p.length;y>x;x++)!v&&x in p||(v||(v=Array.prototype.slice.call(p,0,x)),v[x]=p[x]);return m.concat(v||Array.prototype.slice.call(p))},a.__await=h,a.__asyncGenerator=function(m,p,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,x=g.apply(m,p||[]),y=[];return v={},b("next"),b("throw"),b("return"),v[Symbol.asyncIterator]=function(){return this},v;function b(C){x[C]&&(v[C]=function(A){return new Promise(function(T,k){y.push([C,A,T,k])>1||w(C,A)})})}function w(C,A){try{(T=x[C](A)).value instanceof h?Promise.resolve(T.value.v).then(_,S):E(y[0][2],T)}catch(k){E(y[0][3],k)}var T}function _(C){w("next",C)}function S(C){w("throw",C)}function E(C,A){C(A),y.shift(),y.length&&w(y[0][0],y[0][1])}},a.__asyncDelegator=function(m){var p,g;return p={},v("next"),v("throw",function(x){throw x}),v("return"),p[Symbol.iterator]=function(){return this},p;function v(x,y){p[x]=m[x]?function(b){return(g=!g)?{value:h(m[x](b)),done:!1}:y?y(b):b}:y}},a.__asyncValues=function(m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p,g=m[Symbol.asyncIterator];return g?g.call(m):(m=u(m),p={},v("next"),v("throw"),v("return"),p[Symbol.asyncIterator]=function(){return this},p);function v(x){p[x]=m[x]&&function(y){return new Promise(function(b,w){(function(_,S,E,C){Promise.resolve(C).then(function(A){_({value:A,done:E})},S)})(b,w,(y=m[x](y)).done,y.value)})}}},a.__makeTemplateObject=function(m,p){return Object.defineProperty?Object.defineProperty(m,"raw",{value:p}):m.raw=p,m};var f=Object.create?function(m,p){Object.defineProperty(m,"default",{enumerable:!0,value:p})}:function(m,p){m.default=p};a.__importStar=function(m){if(m&&m.__esModule)return m;var p={};if(m!=null)for(var g in m)g!=="default"&&Object.prototype.hasOwnProperty.call(m,g)&&(0,a.__createBinding)(p,m,g);return f(p,m),p},a.__importDefault=function(m){return m&&m.__esModule?m:{default:m}},a.__classPrivateFieldGet=function(m,p,g,v){if(g==="a"&&!v)throw new TypeError("Private accessor was defined without a getter");if(typeof p=="function"?m!==p||!v:!p.has(m))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?v:g==="a"?v.call(m):v?v.value:p.get(m)},a.__classPrivateFieldSet=function(m,p,g,v,x){if(v==="m")throw new TypeError("Private method is not writable");if(v==="a"&&!x)throw new TypeError("Private accessor was defined without a setter");if(typeof p=="function"?m!==p||!x:!p.has(m))throw new TypeError("Cannot write private member to an object whose class did not declare it");return v==="a"?x.call(m,g):x?x.value=g:p.set(m,g),g},a.__classPrivateFieldIn=function(m,p){if(p===null||typeof p!="object"&&typeof p!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof m=="function"?p===m:m.has(p)}},93166:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Config=void 0;var u=s(86893),d=s(86893),h=function(){function f(){this.defaultTimeout=100,this.namespace="",this.safeMode=!1,this.width="auto",this.height="auto",this.safePluginsList=["about","enter","backspace","size"],this.license="",this.preset="custom",this.presets={inline:{inline:!0,toolbar:!1,toolbarInline:!0,toolbarInlineForSelection:!0,showXPathInStatusbar:!1,showCharsCounter:!1,showWordsCounter:!1,showPlaceholder:!1}},this.ownerDocument=typeof document<"u"?document:null,this.ownerWindow=typeof window<"u"?window:null,this.shadowRoot=null,this.zIndex=0,this.readonly=!1,this.disabled=!1,this.activeButtonsInReadOnly=["source","fullsize","print","about","dots","selectall"],this.allowCommandsInReadOnly=["selectall","preview","print"],this.toolbarButtonSize="middle",this.allowTabNavigation=!1,this.inline=!1,this.theme="default",this.saveModeInStorage=!1,this.editorClassName=!1,this.editorCssClass=!1,this.className=!1,this.style=!1,this.containerStyle=!1,this.styleValues={},this.triggerChangeEvent=!0,this.direction="",this.language="auto",this.debugLanguage=!1,this.i18n=!1,this.tabIndex=-1,this.toolbar=!0,this.statusbar=!0,this.showTooltip=!0,this.showTooltipDelay=1e3,this.useNativeTooltip=!1,this.defaultActionOnPaste=d.INSERT_AS_HTML,this.enter=u.PARAGRAPH,this.iframe=!1,this.editHTMLDocumentMode=!1,this.enterBlock=this.enter!=="br"?this.enter:u.PARAGRAPH,this.defaultMode=u.MODE_WYSIWYG,this.useSplitMode=!1,this.colors={greyscale:["#000000","#434343","#666666","#999999","#B7B7B7","#CCCCCC","#D9D9D9","#EFEFEF","#F3F3F3","#FFFFFF"],palette:["#980000","#FF0000","#FF9900","#FFFF00","#00F0F0","#00FFFF","#4A86E8","#0000FF","#9900FF","#FF00FF"],full:["#E6B8AF","#F4CCCC","#FCE5CD","#FFF2CC","#D9EAD3","#D0E0E3","#C9DAF8","#CFE2F3","#D9D2E9","#EAD1DC","#DD7E6B","#EA9999","#F9CB9C","#FFE599","#B6D7A8","#A2C4C9","#A4C2F4","#9FC5E8","#B4A7D6","#D5A6BD","#CC4125","#E06666","#F6B26B","#FFD966","#93C47D","#76A5AF","#6D9EEB","#6FA8DC","#8E7CC3","#C27BA0","#A61C00","#CC0000","#E69138","#F1C232","#6AA84F","#45818E","#3C78D8","#3D85C6","#674EA7","#A64D79","#85200C","#990000","#B45F06","#BF9000","#38761D","#134F5C","#1155CC","#0B5394","#351C75","#733554","#5B0F00","#660000","#783F04","#7F6000","#274E13","#0C343D","#1C4587","#073763","#20124D","#4C1130"]},this.colorPickerDefaultTab="background",this.imageDefaultWidth=300,this.removeButtons=[],this.disablePlugins=[],this.extraPlugins=[],this.extraButtons=[],this.extraIcons={},this.createAttributes={table:{style:"border-collapse:collapse;width: 100%;"}},this.sizeLG=900,this.sizeMD=700,this.sizeSM=400,this.buttons=[{group:"font-style",buttons:[]},{group:"list",buttons:[]},{group:"font",buttons:[]},"---",{group:"script",buttons:[]},{group:"media",buttons:[]},`
`,{group:"state",buttons:[]},{group:"clipboard",buttons:[]},{group:"insert",buttons:[]},{group:"indent",buttons:[]},{group:"color",buttons:[]},{group:"form",buttons:[]},"---",{group:"history",buttons:[]},{group:"search",buttons:[]},{group:"source",buttons:[]},{group:"other",buttons:[]},{group:"info",buttons:[]}],this.buttonsMD=["bold","italic","|","ul","ol","eraser","|","font","fontsize","---","image","table","|","link",`
`,"brush","paragraph","align","|","hr","copyformat","fullsize","---","undo","redo","|","dots"],this.buttonsSM=["bold","italic","|","ul","ol","eraser","|","fontsize","brush","paragraph","---","image","table",`
`,"link","|","align","|","undo","redo","|","copyformat","fullsize","---","dots"],this.buttonsXS=["bold","brush","paragraph","eraser","|","fontsize","---","image",`
`,"align","undo","redo","|","link","table","---","dots"],this.events={},this.textIcons=!1,this.showBrowserColorPicker=!0}return Object.defineProperty(f,"defaultOptions",{get:function(){return f.__defaultOptions||(f.__defaultOptions=new f),f.__defaultOptions},enumerable:!1,configurable:!0}),f}();a.Config=h,h.prototype.controls={}},77536:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Async=void 0;var u=s(20255),d=s(4696),h=s(42096),f=s(79736),m=s(26335),p=s(24421),g=s(61817),v=(s(52378),function(){function x(){var y,b,w,_,S=this;this.timers=new Map,this.__callbacks=new Map,this.promisesRejections=new Set,this.requestsIdle=new Set,this.requestsRaf=new Set,this.requestIdleCallbackNative=(b=(y=window.requestIdleCallback)===null||y===void 0?void 0:y.bind(window))!==null&&b!==void 0?b:function(E,C){var A,T=Date.now();return S.setTimeout(function(){E({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-T))}})},(A=C==null?void 0:C.timeout)!==null&&A!==void 0?A:1)},this.cancelIdleCallbackNative=(_=(w=window.cancelIdleCallback)===null||w===void 0?void 0:w.bind(window))!==null&&_!==void 0?_:function(E){S.clearTimeout(E)},this.isDestructed=!1}return x.prototype.delay=function(y){var b=this;return this.promise(function(w){return b.setTimeout(w,y)})},x.prototype.setTimeout=function(y,b){for(var w=[],_=2;arguments.length>_;_++)w[_-2]=arguments[_];if(this.isDestructed)return 0;var S={};(0,g.isNumber)(b)||(b=(S=b).timeout||0),S.label&&this.clearLabel(S.label);var E=d.setTimeout.apply(void 0,u.__spreadArray([y,b],u.__read(w),!1)),C=S.label||E;return this.timers.set(C,E),this.__callbacks.set(C,y),E},x.prototype.updateTimeout=function(y,b){if(!y||!this.timers.has(y))return null;var w=this.__callbacks.get(y);return this.setTimeout(w,{label:y,timeout:b})},x.prototype.clearLabel=function(y){y&&this.timers.has(y)&&((0,d.clearTimeout)(this.timers.get(y)),this.timers.delete(y),this.__callbacks.delete(y))},x.prototype.clearTimeout=function(y){if((0,p.isString)(y))return this.clearLabel(y);(0,d.clearTimeout)(y),this.timers.delete(y),this.__callbacks.delete(y)},x.prototype.debounce=function(y,b,w){var _=this;w===void 0&&(w=!1);var S=0,E=!1,C=[],A=function(){for(var k=[],D=0;arguments.length>D;D++)k[D]=arguments[D];if(!E){S=0;var M=y.apply(void 0,u.__spreadArray([],u.__read(k),!1));if(E=!0,C.length){var P=function(){C.forEach(function(j){return j()}),C.length=0};(0,m.isPromise)(M)?M.finally(P):P()}}},T=function(){for(var k=[],D=0;arguments.length>D;D++)k[D]=arguments[D];E=!1,b?(!S&&w&&A.apply(void 0,u.__spreadArray([],u.__read(k),!1)),(0,d.clearTimeout)(S),S=_.setTimeout(function(){return A.apply(void 0,u.__spreadArray([],u.__read(k),!1))},(0,h.isFunction)(b)?b():b),_.timers.set(y,S)):A.apply(void 0,u.__spreadArray([],u.__read(k),!1))};return(0,f.isPlainObject)(b)&&b.promisify?function(){for(var k=[],D=0;arguments.length>D;D++)k[D]=arguments[D];var M=_.promise(function(P){C.push(P)});return T.apply(void 0,u.__spreadArray([],u.__read(k),!1)),M}:T},x.prototype.throttle=function(y,b,w){var _=this,S,E,C,A=null;return function(){for(var T=[],k=0;arguments.length>k;k++)T[k]=arguments[k];S=!0,C=T,b?A||(E=function(){S?(y.apply(void 0,u.__spreadArray([],u.__read(C),!1)),S=!1,A=_.setTimeout(E,(0,h.isFunction)(b)?b():b),_.timers.set(E,A)):A=null})():y.apply(void 0,u.__spreadArray([],u.__read(C),!1))}},x.prototype.promise=function(y){var b=this,w=function(){},_=new Promise(function(S,E){return b.promisesRejections.add(E),w=E,y(S,E)});return _.finally||(_.finally=function(S){return _.then(S).catch(S),_}),_.finally(function(){b.promisesRejections.delete(w)}).catch(function(){return null}),_.rejectCallback=w,_},x.prototype.promiseState=function(y){var b=this;if(y.status)return y.status;if(!Promise.race)return new Promise(function(_){y.then(function(S){return _("fulfilled"),S},function(S){throw _("rejected"),S}),b.setTimeout(function(){_("pending")},100)});var w={};return Promise.race([y,w]).then(function(_){return _===w?"pending":"fulfilled"},function(){return"rejected"})},x.prototype.requestIdleCallback=function(y,b){var w=this.requestIdleCallbackNative(y,b);return this.requestsIdle.add(w),w},x.prototype.requestIdlePromise=function(y){var b=this;return this.promise(function(w){var _=b.requestIdleCallback(function(){return w(_)},y)})},x.prototype.cancelIdleCallback=function(y){return this.requestsIdle.delete(y),this.cancelIdleCallbackNative(y)},x.prototype.requestAnimationFrame=function(y){var b=requestAnimationFrame(y);return this.requestsRaf.add(b),b},x.prototype.cancelAnimationFrame=function(y){this.requestsRaf.delete(y),cancelAnimationFrame(y)},x.prototype.clear=function(){var y=this;this.requestsIdle.forEach(function(b){return y.cancelIdleCallback(b)}),this.requestsRaf.forEach(function(b){return y.cancelAnimationFrame(b)}),this.timers.forEach(function(b){return(0,d.clearTimeout)(y.timers.get(b))}),this.timers.clear(),this.promisesRejections.forEach(function(b){return b()}),this.promisesRejections.clear()},x.prototype.destruct=function(){this.clear(),this.isDestructed=!0},x}());a.Async=v},22630:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(77536),a)},45113:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Component=void 0;var u=s(40332),d=s(17332),h=s(29411),f=s(22630),m=new Map,p=function(){function g(){this.async=new f.Async,this.ownerWindow=window,this.__componentStatus=h.STATUSES.beforeInit,this.uid="jodit-uid-"+(0,d.uniqueUid)()}return Object.defineProperty(g.prototype,"componentName",{get:function(){return this.__componentName||(this.__componentName="jodit-"+(0,u.kebabCase)(((0,u.isFunction)(this.className)?this.className():"")||(0,u.getClassName)(this))),this.__componentName},enumerable:!1,configurable:!0}),g.prototype.getFullElName=function(v,x,y){var b=[this.componentName];return v&&(v=v.replace(/[^a-z0-9-]/gi,"-"),b.push("__".concat(v))),x&&(b.push("_",x),b.push("_",(0,u.isVoid)(y)?"true":y.toString())),b.join("")},Object.defineProperty(g.prototype,"ownerDocument",{get:function(){return this.ow.document},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"od",{get:function(){return this.ownerDocument},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ow",{get:function(){return this.ownerWindow},enumerable:!1,configurable:!0}),g.prototype.get=function(v,x){return(0,u.get)(v,x||this)},Object.defineProperty(g.prototype,"isReady",{get:function(){return this.componentStatus===h.STATUSES.ready},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isDestructed",{get:function(){return this.componentStatus===h.STATUSES.destructed},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isInDestruct",{get:function(){return h.STATUSES.beforeDestruct===this.componentStatus||h.STATUSES.destructed===this.componentStatus},enumerable:!1,configurable:!0}),g.prototype.bindDestruct=function(v){var x=this;return v.hookStatus(h.STATUSES.beforeDestruct,function(){return!x.isInDestruct&&x.destruct()}),this},g.prototype.destruct=function(){this.setStatus(h.STATUSES.destructed),this.async.destruct(),m.get(this)&&m.delete(this)},Object.defineProperty(g.prototype,"componentStatus",{get:function(){return this.__componentStatus},set:function(v){this.setStatus(v)},enumerable:!1,configurable:!0}),g.prototype.setStatus=function(v){return this.setStatusComponent(v,this)},g.prototype.setStatusComponent=function(v,x){if(v!==this.__componentStatus){x===this&&(this.__componentStatus=v);var y=Object.getPrototypeOf(this);y&&(0,u.isFunction)(y.setStatusComponent)&&y.setStatusComponent(v,x);var b=m.get(this),w=b==null?void 0:b[v];w&&w.length&&w.forEach(function(_){return _(x)})}},g.prototype.hookStatus=function(v,x){var y=m.get(this);y||m.set(this,y={}),y[v]||(y[v]=[]),y[v].push(x)},g.isInstanceOf=function(v,x){return v instanceof x},g.STATUSES=h.STATUSES,g}();a.Component=p},56562:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(29411),a),u.__exportStar(s(45113),a),u.__exportStar(s(39840),a)},29411:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.STATUSES=void 0,a.STATUSES={beforeInit:"beforeInit",ready:"ready",beforeDestruct:"beforeDestruct",destructed:"destructed"}},39840:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ViewComponent=void 0;var u=s(20255),d=function(h){function f(m){var p=h.call(this)||this;return p.setParentView(m),p}return u.__extends(f,h),Object.defineProperty(f.prototype,"j",{get:function(){return this.jodit},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"defaultTimeout",{get:function(){return this.j.defaultTimeout},enumerable:!1,configurable:!0}),f.prototype.i18n=function(m){for(var p,g=[],v=1;arguments.length>v;v++)g[v-1]=arguments[v];return(p=this.j).i18n.apply(p,u.__spreadArray([m],u.__read(g),!1))},f.prototype.setParentView=function(m){return this.jodit=m,m.components.add(this),this},f.prototype.destruct=function(){return this.j.components.delete(this),h.prototype.destruct.call(this)},f}(s(45113).Component);a.ViewComponent=d},86893:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.CLIPBOARD_ID=a.lang=a.TEMP_ATTR=a.BASE_PATH=a.KEY_ALIASES=a.IS_MAC=a.SAFE_COUNT_CHANGE_CALL=a.INSERT_ONLY_TEXT=a.INSERT_AS_TEXT=a.INSERT_CLEAR_HTML=a.INSERT_AS_HTML=a.EMULATE_DBLCLICK_TIMEOUT=a.MARKER_CLASS=a.TEXT_RTF=a.TEXT_HTML=a.TEXT_PLAIN=a.IS_IE=a.MODE_SPLIT=a.MODE_SOURCE=a.MODE_WYSIWYG=a.PARAGRAPH=a.BR=a.COMMAND_KEYS=a.ACCURACY=a.NEARBY=a.KEY_F3=a.KEY_DELETE=a.KEY_SPACE=a.KEY_DOWN=a.KEY_RIGHT=a.KEY_UP=a.KEY_LEFT=a.KEY_ALT=a.KEY_ESC=a.KEY_ENTER=a.KEY_TAB=a.KEY_BACKSPACE=a.KEY_META=a.NO_EMPTY_TAGS=a.INSEPARABLE_TAGS=a.IS_INLINE=a.IS_BLOCK=a.SPACE_REG_EXP_END=a.SPACE_REG_EXP_START=a.SPACE_REG_EXP=a.INVISIBLE_SPACE_REG_EXP_START=a.INVISIBLE_SPACE_REG_EXP_END=a.INVISIBLE_SPACE_REG_EXP=a.NBSP_SPACE=a.INVISIBLE_SPACE=void 0,a.SOURCE_CONSUMER=void 0;var u=s(20255);a.INVISIBLE_SPACE="\uFEFF",a.NBSP_SPACE="",a.INVISIBLE_SPACE_REG_EXP=function(){return/[\uFEFF]/g},a.INVISIBLE_SPACE_REG_EXP_END=function(){return/[\uFEFF]+$/g},a.INVISIBLE_SPACE_REG_EXP_START=function(){return/^[\uFEFF]+/g},a.SPACE_REG_EXP=function(){return/[\s\n\t\r\uFEFF\u200b]+/g},a.SPACE_REG_EXP_START=function(){return/^[\s\n\t\r\uFEFF\u200b]+/g},a.SPACE_REG_EXP_END=function(){return/[\s\n\t\r\uFEFF\u200b]+$/g},a.IS_BLOCK=/^(ADDRESS|ARTICLE|ASIDE|BLOCKQUOTE|CANVAS|DD|DFN|DIV|DL|DT|FIELDSET|FIGCAPTION|FIGURE|FOOTER|FORM|H[1-6]|HEADER|HGROUP|HR|LI|MAIN|NAV|NOSCRIPT|OUTPUT|P|PRE|RUBY|SCRIPT|STYLE|OBJECT|OL|SECTION|IFRAME|JODIT|JODIT-MEDIA|UL|TR|TD|TH|TBODY|THEAD|TFOOT|TABLE|BODY|HTML|VIDEO)$/i,a.IS_INLINE=/^(STRONG|SPAN|I|EM|B|SUP|SUB|A|U)$/i;var d=["img","video","svg","iframe","script","input","textarea","link","jodit","jodit-media"];a.INSEPARABLE_TAGS=new Set(u.__spreadArray(u.__spreadArray([],u.__read(d),!1),["br","hr"],!1)),a.NO_EMPTY_TAGS=new Set(d),a.KEY_META="Meta",a.KEY_BACKSPACE="Backspace",a.KEY_TAB="Tab",a.KEY_ENTER="Enter",a.KEY_ESC="Escape",a.KEY_ALT="Alt",a.KEY_LEFT="ArrowLeft",a.KEY_UP="ArrowUp",a.KEY_RIGHT="ArrowRight",a.KEY_DOWN="ArrowDown",a.KEY_SPACE="Space",a.KEY_DELETE="Delete",a.KEY_F3="F3",a.NEARBY=5,a.ACCURACY=10,a.COMMAND_KEYS=[a.KEY_META,a.KEY_BACKSPACE,a.KEY_DELETE,a.KEY_UP,a.KEY_DOWN,a.KEY_RIGHT,a.KEY_LEFT,a.KEY_ENTER,a.KEY_ESC,a.KEY_F3,a.KEY_TAB],a.BR="br",a.PARAGRAPH="p",a.MODE_WYSIWYG=1,a.MODE_SOURCE=2,a.MODE_SPLIT=3,a.IS_IE=typeof navigator<"u"&&(navigator.userAgent.indexOf("MSIE")!==-1||/rv:11.0/i.test(navigator.userAgent)),a.TEXT_PLAIN=a.IS_IE?"text":"text/plain",a.TEXT_HTML=a.IS_IE?"html":"text/html",a.TEXT_RTF=a.IS_IE?"rtf":"text/rtf",a.MARKER_CLASS="jodit-selection_marker",a.EMULATE_DBLCLICK_TIMEOUT=300,a.INSERT_AS_HTML="insert_as_html",a.INSERT_CLEAR_HTML="insert_clear_html",a.INSERT_AS_TEXT="insert_as_text",a.INSERT_ONLY_TEXT="insert_only_text",a.SAFE_COUNT_CHANGE_CALL=10,a.IS_MAC=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),a.KEY_ALIASES={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:a.IS_MAC?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},a.BASE_PATH=function(){if(typeof document>"u")return"";var h=document.currentScript,f=function(p){var g=p.split("/");return/\.js/.test(g[g.length-1])?g.slice(0,g.length-1).join("/")+"/":p};if(h)return f(h.src);var m=document.querySelectorAll("script[src]");return m&&m.length?f(m[m.length-1].src):window.location.href}(),a.TEMP_ATTR="data-jodit-temp",a.lang={},a.CLIPBOARD_ID="clipboard",a.SOURCE_CONSUMER="source-consumer"},31897:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Create=void 0;var u=s(40332),d=(s(52378),s(64968)),h=s(86893),f=function(){function m(p,g){this.document=p,this.createAttributes=g}return Object.defineProperty(m.prototype,"doc",{get:function(){return(0,u.isFunction)(this.document)?this.document():this.document},enumerable:!1,configurable:!0}),m.prototype.element=function(p,g,v){var x=this,y=this.doc.createElement(p.toLowerCase());return this.applyCreateAttributes(y),g&&((0,u.isPlainObject)(g)?(0,u.attr)(y,g):v=g),v&&(0,u.asArray)(v).forEach(function(b){return y.appendChild((0,u.isString)(b)?x.fromHTML(b):b)}),y},m.prototype.div=function(p,g,v){var x=this.element("div",g,v);return p&&(x.className=p),x},m.prototype.sandbox=function(){var p,g=this.element("iframe",{sandbox:"allow-same-origin"});this.doc.body.appendChild(g);var v=(p=g.contentWindow)===null||p===void 0?void 0:p.document;if(!v)throw Error("Iframe error");return v.open(),v.write("<!DOCTYPE html><html><head></head><body></body></html>"),v.close(),v.body},m.prototype.span=function(p,g,v){var x=this.element("span",g,v);return p&&(x.className=p),x},m.prototype.a=function(p,g,v){var x=this.element("a",g,v);return p&&(x.className=p),x},m.prototype.text=function(p){return this.doc.createTextNode(p)},m.prototype.fake=function(){return this.text(h.INVISIBLE_SPACE)},m.prototype.fragment=function(){return this.doc.createDocumentFragment()},m.prototype.fromHTML=function(p,g){var v=this.div();v.innerHTML=p.toString();var x=v.firstChild===v.lastChild&&v.firstChild?v.firstChild:v;if(d.Dom.safeRemove(x),g){var y=(0,u.refs)(x);Object.keys(g).forEach(function(b){var w=y[b];w&&g[b]===!1&&d.Dom.hide(w)})}return x},m.prototype.applyCreateAttributes=function(p){if(this.createAttributes){var g=this.createAttributes;if(g&&g[p.tagName.toLowerCase()]){var v=g[p.tagName.toLowerCase()];(0,u.isFunction)(v)?v(p):(0,u.isPlainObject)(v)&&(0,u.attr)(p,v)}}},m}();a.Create=f},42841:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(31897),a)},32358:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.cache=void 0;var u=s(40332);a.cache=function(d,h,f){var m=f.get;if(!m)throw(0,u.error)("Getter property descriptor expected");f.get=function(){var p=m.call(this);return p&&p.noCache===!0||Object.defineProperty(this,h,{configurable:f.configurable,enumerable:f.enumerable,writable:!1,value:p}),p}}},11441:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.component=void 0;var u=s(20255);a.component=function(d){var h=function(f){function m(){for(var p=[],g=0;arguments.length>g;g++)p[g]=arguments[g];var v=f.apply(this,u.__spreadArray([],u.__read(p),!1))||this,x=v.constructor===m;return x&&(v instanceof m||Object.setPrototypeOf(v,m.prototype),v.setStatus("ready")),v}return u.__extends(m,f),m}(d);return h}},55773:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.throttle=a.debounce=void 0;var u=s(10172),d=s(56562),h=s(56964);function f(m,p,g){return p===void 0&&(p=!1),g===void 0&&(g="debounce"),function(v,x){var y=v[x];if(!(0,u.isFunction)(y))throw(0,h.error)("Handler must be a Function");return v.hookStatus(d.STATUSES.ready,function(b){var w=b.async,_=(0,u.isFunction)(m)?m(b):m;Object.defineProperty(b,x,{configurable:!0,value:w[g](b[x].bind(b),(0,u.isNumber)(_)||(0,u.isPlainObject)(_)?_:b.defaultTimeout,p)})}),{configurable:!0,get:function(){return y.bind(this)}}}}s(52378),a.debounce=f,a.throttle=function(m,p){return p===void 0&&(p=!1),f(m,p,"throttle")}},70669:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.derive=void 0;var u=s(20255),d=s(10172);a.derive=function(){for(var h=[],f=0;arguments.length>f;f++)h[f]=arguments[f];return function(m){for(var p=m.prototype,g=0;h.length>g;g++)for(var v=h[g],x=Object.getOwnPropertyNames(v.prototype),y=function(w){var _=x[w],S=Object.getOwnPropertyDescriptor(v.prototype,_);S!=null&&(0,d.isFunction)(S.value)&&!(0,d.isFunction)(p[_])&&Object.defineProperty(p,_,{enumerable:!0,configurable:!0,writable:!0,value:function(){for(var E,C=[],A=0;arguments.length>A;A++)C[A]=arguments[A];return(E=S.value).call.apply(E,u.__spreadArray([this],u.__read(C),!1))}})},b=0;x.length>b;b++)y(b)}}},64522:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.hook=void 0;var u=s(10172),d=s(56964);a.hook=function(h){return function(f,m){if(!(0,u.isFunction)(f[m]))throw(0,d.error)("Handler must be a Function");f.hookStatus(h,function(p){p[m].call(p)})}}},58682:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.idle=void 0;var u=s(20255),d=s(56562),h=s(40332);a.idle=function(){return function(f,m){if(!(0,h.isFunction)(f[m]))throw(0,h.error)("Handler must be a Function");f.hookStatus(d.STATUSES.ready,function(p){var g=p.async,v=p[m];p[m]=function(){for(var x=[],y=0;arguments.length>y;y++)x[y]=arguments[y];return g.requestIdleCallback(v.bind.apply(v,u.__spreadArray([p],u.__read(x),!1)))}})}}},43441:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.autobind=void 0;var u=s(20255);u.__exportStar(s(32358),a),u.__exportStar(s(11441),a),u.__exportStar(s(55773),a),u.__exportStar(s(58682),a),u.__exportStar(s(64522),a),u.__exportStar(s(91627),a),u.__exportStar(s(31418),a),u.__exportStar(s(67587),a),u.__exportStar(s(46163),a),u.__exportStar(s(70669),a);var d=s(70631);Object.defineProperty(a,"autobind",{enumerable:!0,get:function(){return d.default}})},91627:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.nonenumerable=void 0,a.nonenumerable=function(s,u){(Object.getOwnPropertyDescriptor(s,u)||{}).enumerable!==!1&&Object.defineProperty(s,u,{enumerable:!1,set:function(d){Object.defineProperty(this,u,{enumerable:!1,writable:!0,value:d})}})}},31418:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.persistent=void 0;var u=s(56562),d=s(96574);a.persistent=function(h,f){h.hookStatus(u.STATUSES.ready,function(m){var p=(0,d.isViewObject)(m)?m:m.jodit,g="".concat(p.options.namespace).concat(m.componentName,"_prop_").concat(f),v=m[f];Object.defineProperty(m,f,{get:function(){var x;return(x=p.storage.get(g))!==null&&x!==void 0?x:v},set:function(x){p.storage.set(g,x)}})})}},67587:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.wait=void 0;var u=s(20255),d=s(40332),h=s(56562);a.wait=function(f){return function(m,p){if(!(0,d.isFunction)(m[p]))throw(0,d.error)("Handler must be a Function");m.hookStatus(h.STATUSES.ready,function(g){var v=g.async,x=g[p],y=0;Object.defineProperty(g,p,{configurable:!0,value:function b(){for(var w=[],_=0;arguments.length>_;_++)w[_]=arguments[_];v.clearTimeout(y),f(g)?x.apply(g,w):y=v.setTimeout(function(){return b.apply(void 0,u.__spreadArray([],u.__read(w),!1))},10)}})})}}},46163:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.watch=a.getPropertyDescriptor=void 0;var u=s(20255),d=s(42096),h=s(79736),f=s(96574),m=s(88418),p=s(29411),g=s(14556),v=s(56964);function x(b,w){var _;do _=Object.getOwnPropertyDescriptor(b,w),b=Object.getPrototypeOf(b);while(!_&&b);return _}function y(b,w){return function(_,S){if(!(0,d.isFunction)(_[S]))throw(0,v.error)("Handler must be a Function");var E=function(C){var A=function(T){for(var k,D=[],M=1;arguments.length>M;M++)D[M-1]=arguments[M];if(!C.isInDestruct)return(k=C)[S].apply(k,u.__spreadArray([T],u.__read(D),!1))};(0,g.splitArray)(b).forEach(function(T){if(/:/.test(T)){var k=u.__read(T.split(":"),2),D=k[0],M=k[1],P=w,j=(0,f.isViewObject)(C)?C:C.jodit;return D.length&&(P=C.get(D)),(0,d.isFunction)(P)&&(P=P(C)),j.events.on(P||C,M,A),P||j.events.on(M,A),void C.hookStatus("beforeDestruct",function(){j.events.off(P||C,M,A).off(M,A)})}var O=T.split("."),I=u.__read(O,1)[0],N=O.slice(1),L=C[I];(0,h.isPlainObject)(L)&&(0,m.observable)(L).on("change.".concat(N.join(".")),A);var B=x(_,I);Object.defineProperty(C,I,{configurable:!0,set:function(R){var z=L;z!==R&&(L=R,B&&B.set&&B.set.call(C,R),(0,h.isPlainObject)(L)&&(L=(0,m.observable)(L)).on("change.".concat(N.join(".")),A),A(I,z,L))},get:function(){return B&&B.get?B.get.call(C):L}})})};(0,d.isFunction)(_.hookStatus)?_.hookStatus(p.STATUSES.ready,E):E(_)}}a.getPropertyDescriptor=x,a.watch=y,a.default=y},24263:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Dom=void 0;var u=s(20255),d=s(86893),h=s(10172),f=s(12557),m=s(19035),p=s(76502),g=s(37204),v=s(86893),x=function(){function y(){}return y.detach=function(b){for(;b.firstChild;)b.removeChild(b.firstChild)},y.wrapInline=function(b,w,_){var S,E=b,C=b;_.s.save();var A=!1;do A=!1,(S=E.previousSibling)&&!y.isBlock(S)&&(A=!0,E=S);while(A);do A=!1,(S=C.nextSibling)&&!y.isBlock(S)&&(A=!0,C=S);while(A);var T=(0,h.isString)(w)?_.createInside.element(w):w;E.parentNode&&E.parentNode.insertBefore(T,E);for(var k=E;k&&(k=E.nextSibling,T.appendChild(E),E!==C&&k);)E=k;return _.s.restore(),T},y.wrap=function(b,w,_){var S=(0,h.isString)(w)?_.element(w):w;if(y.isNode(b)){if(!b.parentNode)throw(0,p.error)("Element should be in DOM");b.parentNode.insertBefore(S,b),S.appendChild(b)}else{var E=b.extractContents();b.insertNode(S),S.appendChild(E)}return S},y.unwrap=function(b){var w=b.parentNode;if(w){for(;b.firstChild;)w.insertBefore(b.firstChild,b);y.safeRemove(b)}},y.between=function(b,w,_){for(var S=b;S&&S!==w&&(b===S||!_(S));){var E=S.firstChild||S.nextSibling;if(!E){for(;S&&!S.nextSibling;)S=S.parentNode;E=S==null?void 0:S.nextSibling}S=E}},y.replace=function(b,w,_,S,E){S===void 0&&(S=!1),E===void 0&&(E=!1),(0,h.isHTML)(w)&&(w=_.fromHTML(w));var C=(0,h.isString)(w)?_.element(w):w;if(!E)for(;b.firstChild;)C.appendChild(b.firstChild);return S&&y.isElement(b)&&y.isElement(C)&&(0,f.toArray)(b.attributes).forEach(function(A){C.setAttribute(A.name,A.value)}),b.parentNode&&b.parentNode.replaceChild(C,b),C},y.isEmptyTextNode=function(b){return y.isText(b)&&(!b.nodeValue||b.nodeValue.replace(d.INVISIBLE_SPACE_REG_EXP(),"").trim().length===0)},y.isEmptyContent=function(b){return y.each(b,function(w){return y.isEmptyTextNode(w)})},y.isContentEditable=function(b,w){return y.isNode(b)&&!y.closest(b,function(_){return y.isElement(_)&&_.getAttribute("contenteditable")==="false"},w)},y.isEmpty=function(b,w){if(w===void 0&&(w=v.NO_EMPTY_TAGS),!b)return!0;var _;_=(0,h.isFunction)(w)?w:function(E){return w.has(E.nodeName.toLowerCase())};var S=function(E){return E.nodeValue==null||(0,m.trim)(E.nodeValue).length===0};return y.isText(b)?S(b):!(y.isElement(b)&&_(b))&&y.each(b,function(E){if(y.isText(E)&&!S(E)||y.isElement(E)&&_(E))return!1})},y.isNode=function(b){return!!(b&&(0,h.isString)(b.nodeName)&&typeof b.nodeType=="number"&&b.childNodes&&(0,h.isFunction)(b.appendChild))},y.isCell=function(b){return y.isNode(b)&&/^(td|th)$/i.test(b.nodeName)},y.isImage=function(b){return y.isNode(b)&&/^(img|svg|picture|canvas)$/i.test(b.nodeName)},y.isBlock=function(b){return!(0,h.isVoid)(b)&&typeof b=="object"&&y.isNode(b)&&d.IS_BLOCK.test(b.nodeName)},y.isText=function(b){return!!(b&&b.nodeType===Node.TEXT_NODE)},y.isElement=function(b){var w;if(!y.isNode(b))return!1;var _=(w=b.ownerDocument)===null||w===void 0?void 0:w.defaultView;return!!(_&&b.nodeType===Node.ELEMENT_NODE)},y.isFragment=function(b){var w;if(!y.isNode(b))return!1;var _=(w=b.ownerDocument)===null||w===void 0?void 0:w.defaultView;return!!(_&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE)},y.isHTMLElement=function(b){var w;if(!y.isNode(b))return!1;var _=(w=b.ownerDocument)===null||w===void 0?void 0:w.defaultView;return!!(_&&b instanceof _.HTMLElement)},y.isInlineBlock=function(b){return y.isElement(b)&&!/^(BR|HR)$/i.test(b.tagName)&&["inline","inline-block"].indexOf((0,p.css)(b,"display").toString())!==-1},y.canSplitBlock=function(b){return!(0,h.isVoid)(b)&&y.isHTMLElement(b)&&y.isBlock(b)&&!/^(TD|TH|CAPTION|FORM)$/.test(b.nodeName)&&b.style!==void 0&&!/^(fixed|absolute)/i.test(b.style.position)},y.last=function(b,w){var _=b==null?void 0:b.lastChild;if(!_)return null;do{if(w(_))return _;var S=_.lastChild;if(S||(S=_.previousSibling),!S&&_.parentNode!==b){do _=_.parentNode;while(_&&!(_!=null&&_.previousSibling)&&_.parentNode!==b);S=_==null?void 0:_.previousSibling}_=S}while(_);return null},y.prev=function(b,w,_,S){return S===void 0&&(S=!0),y.find(b,w,_,!1,S)},y.next=function(b,w,_,S){return S===void 0&&(S=!0),y.find(b,w,_,!0,S)},y.prevWithClass=function(b,w){return y.prev(b,function(_){return y.isElement(_)&&_.classList.contains(w)},b.parentNode)},y.nextWithClass=function(b,w){return y.next(b,function(_){return y.isElement(_)&&_.classList.contains(w)},b.parentNode)},y.find=function(b,w,_,S,E){S===void 0&&(S=!0),E===void 0&&(E=!0);for(var C=this.nextGen(b,_,S,E),A=C.next();!A.done;){if(w(A.value))return A.value;A=C.next()}return null},y.nextGen=function(b,w,_,S){var E,C,A;return _===void 0&&(_=!0),S===void 0&&(S=!0),u.__generator(this,function(T){switch(T.label){case 0:E=[],C=b,T.label=1;case 1:for(A=_?C.nextSibling:C.previousSibling;A;)E.unshift(A),A=_?A.nextSibling:A.previousSibling;return[5,u.__values(this.runInStack(b,E,_,S))];case 2:T.sent(),C=C.parentNode,T.label=3;case 3:if(C&&C!==w)return[3,1];T.label=4;case 4:return[2,null]}})},y.each=function(b,w,_){_===void 0&&(_=!0);for(var S=this.eachGen(b,_),E=S.next();!E.done;){if(w(E.value)===!1)return!1;E=S.next()}return!0},y.eachGen=function(b,w){return w===void 0&&(w=!0),this.runInStack(b,[b],w)},y.runInStack=function(b,w,_,S){var E,C;return S===void 0&&(S=!0),u.__generator(this,function(A){switch(A.label){case 0:if(!w.length)return[3,3];if(E=w.pop(),S)for(C=_?E.lastChild:E.firstChild;C;)w.push(C),C=_?C.previousSibling:C.nextSibling;return b===E?[3,2]:[4,E];case 1:A.sent(),A.label=2;case 2:return[3,0];case 3:return[2]}})},y.findWithCurrent=function(b,w,_,S,E){S===void 0&&(S="nextSibling"),E===void 0&&(E="firstChild");var C=b;do{if(w(C))return C||null;if(E&&C&&C[E]){var A=y.findWithCurrent(C[E],w,C,S,E);if(A)return A}for(;C&&!C[S]&&C!==_;)C=C.parentNode;C&&C[S]&&C!==_&&(C=C[S])}while(C&&C!==_);return null},y.findSibling=function(b,w,_){w===void 0&&(w=!0),_===void 0&&(_=function(E){return!y.isEmptyTextNode(E)});for(var S=y.sibling(b,w);S&&!_(S);)S=y.sibling(S,w);return S&&_(S)?S:null},y.findNotEmptySibling=function(b,w){return y.findSibling(b,w,function(_){var S;return!y.isEmptyTextNode(_)&&!!(!y.isText(_)||!((S=_.nodeValue)===null||S===void 0)&&S.length&&(0,m.trim)(_.nodeValue))})},y.findNotEmptyNeighbor=function(b,w,_){return(0,p.call)(w?y.prev:y.next,b,function(S){return!!(S&&(!y.isText(S)||(0,m.trim)((S==null?void 0:S.nodeValue)||"").length))},_)},y.sibling=function(b,w){return w?b.previousSibling:b.nextSibling},y.up=function(b,w,_,S){S===void 0&&(S=!1);var E=b;if(!E)return null;do{if(w(E))return E;if(E===_||!E.parentNode)break;E=E.parentNode}while(E&&E!==_);return E===_&&S&&w(E)?E:null},y.closest=function(b,w,_){var S,E=function(A){return A.toLowerCase()};if((0,h.isFunction)(w))S=w;else if((0,h.isArray)(w)){var C=new Set(w.map(E));S=function(A){return!!(A&&C.has(E(A.nodeName)))}}else S=function(A){return!!(A&&E(w)===E(A.nodeName))};return y.up(b,S,_)},y.furthest=function(b,w,_){for(var S=null,E=b==null?void 0:b.parentElement;E&&E!==_;)w(E)&&(S=E),E=E==null?void 0:E.parentElement;return S},y.appendChildFirst=function(b,w){var _=b.firstChild;_?_!==w&&b.insertBefore(w,_):b.appendChild(w)},y.after=function(b,w){var _=b.parentNode;_&&(_.lastChild===b?_.appendChild(w):_.insertBefore(w,b.nextSibling))},y.before=function(b,w){var _=b.parentNode;_&&_.insertBefore(w,b)},y.prepend=function(b,w){b.insertBefore(w,b.firstChild)},y.append=function(b,w){var _=this;(0,h.isArray)(w)?w.forEach(function(S){_.append(b,S)}):b.appendChild(w)},y.moveContent=function(b,w,_,S){_===void 0&&(_=!1),S===void 0&&(S=function(){return!0});var E=(b.ownerDocument||document).createDocumentFragment();(0,f.toArray)(b.childNodes).filter(function(C){return!!S(C)||(y.safeRemove(C),!1)}).forEach(function(C){E.appendChild(C)}),_&&w.firstChild?w.insertBefore(E,w.firstChild):w.appendChild(E)},y.isOrContains=function(b,w,_){return _===void 0&&(_=!1),b===w?!_:!!(w&&b&&this.up(w,function(S){return S===b},b,!0))},y.safeRemove=function(){for(var b=[],w=0;arguments.length>w;w++)b[w]=arguments[w];b.forEach(function(_){return y.isNode(_)&&_.parentNode&&_.parentNode.removeChild(_)})},y.safeInsertNode=function(b,w){b.collapsed||b.deleteContents(),b.insertNode(w),b.setStartBefore(w),b.collapse(!0),[w.nextSibling,w.previousSibling].forEach(function(_){return y.isText(_)&&!_.nodeValue&&y.safeRemove(_)})},y.hide=function(b){b&&((0,p.dataBind)(b,"__old_display",b.style.display),b.style.display="none")},y.show=function(b){if(b){var w=(0,p.dataBind)(b,"__old_display");b.style.display==="none"&&(b.style.display=w||"")}},y.isTag=function(b,w){if(!this.isElement(b))return!1;var _=b.tagName.toLowerCase(),S=b.tagName.toUpperCase();if(w instanceof Set)return w.has(_)||w.has(S);for(var E=(0,f.asArray)(w).map(function(A){return String(A).toLowerCase()}),C=0;E.length>C;C+=1)if(_===E[C]||S===E[C])return!0;return!1},y.markTemporary=function(b,w){return w&&(0,p.attr)(b,w),(0,p.attr)(b,v.TEMP_ATTR,!0),b},y.isTemporary=function(b){return!!y.isElement(b)&&((0,g.isMarker)(b)||(0,p.attr)(b,v.TEMP_ATTR)==="true")},y.replaceTemporaryFromString=function(b){return b.replace(/<([a-z]+)[^>]+data-jodit-temp[^>]+>(.+?)<\/\1>/gi,"$2")},y.temporaryList=function(b){return(0,p.$$)("[".concat(v.TEMP_ATTR,"]"),b)},y}();a.Dom=x},64968:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(24263),a),u.__exportStar(s(33841),a)},33841:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.LazyWalker=void 0;var u=s(20255),d=s(73852),h=s(43441),f=s(24263),m=function(p){function g(v,x){x===void 0&&(x={});var y=p.call(this)||this;return y.async=v,y.options=x,y.workNodes=null,y.hadAffect=!1,y.isWorked=!1,y.isFinished=!1,y.idleId=0,y}return u.__extends(g,p),g.prototype.setWork=function(v){return this.isWorked&&this.break(),this.workNodes=f.Dom.eachGen(v,!this.options.reverse),this.isFinished=!1,this.startIdleRequest(),this},g.prototype.startIdleRequest=function(){var v;this.idleId=this.async.requestIdleCallback(this.workPerform,{timeout:(v=this.options.timeout)!==null&&v!==void 0?v:10})},g.prototype.break=function(v){this.isWorked&&(this.stop(),this.emit("break",v))},g.prototype.end=function(){this.isWorked&&(this.stop(),this.emit("end",this.hadAffect),this.hadAffect=!1)},g.prototype.stop=function(){this.isWorked=!1,this.isFinished=!0,this.workNodes=null,this.async.cancelIdleCallback(this.idleId)},g.prototype.destruct=function(){p.prototype.destruct.call(this),this.stop()},g.prototype.workPerform=function(v){var x;if(this.workNodes){this.isWorked=!0;for(var y=0,b=(x=this.options.timeoutChunkSize)!==null&&x!==void 0?x:50;!this.isFinished&&(v.timeRemaining()>0||v.didTimeout&&b>=y);){var w=this.workNodes.next();if(y+=1,this.visitNode(w.value)&&(this.hadAffect=!0),w.done)return void this.end()}}else this.end();this.isFinished||this.startIdleRequest()},g.prototype.visitNode=function(v){var x;return!(!v||this.options.whatToShow!==void 0&&v.nodeType!==this.options.whatToShow)&&(x=this.emit("visit",v))!==null&&x!==void 0&&x},u.__decorate([h.autobind],g.prototype,"workPerform",null),g}(d.Eventify);a.LazyWalker=m},3808:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.EventEmitter=void 0;var u=s(20255),d=s(83611),h=s(24421),f=s(42096),m=s(49781),p=s(56964),g=s(14556),v=function(){function x(y){var b=this;this.__mutedEvents=new Set,this.__key="__JoditEventEmitterNamespaces",this.__doc=document,this.__prepareEvent=function(w){w.cancelBubble||(w.composed&&(0,f.isFunction)(w.composedPath)&&w.composedPath()[0]&&Object.defineProperty(w,"target",{value:w.composedPath()[0],configurable:!0,enumerable:!0}),w.type.match(/^touch/)&&w.changedTouches&&w.changedTouches.length&&["clientX","clientY","pageX","pageY"].forEach(function(_){Object.defineProperty(w,_,{value:w.changedTouches[0][_],configurable:!0,enumerable:!0})}),w.originalEvent||(w.originalEvent=w),w.type==="paste"&&w.clipboardData===void 0&&b.__doc.defaultView.clipboardData&&Object.defineProperty(w,"clipboardData",{get:function(){return b.__doc.defaultView.clipboardData},configurable:!0,enumerable:!0}))},this.currents=[],this.__stopped=[],this.__isDestructed=!1,y&&(this.__doc=y),this.__key+=new Date().getTime()}return x.prototype.mute=function(y){return this.__mutedEvents.add(y??"*"),this},x.prototype.isMuted=function(y){return!(!y||!this.__mutedEvents.has(y))||this.__mutedEvents.has("*")},x.prototype.unmute=function(y){return this.__mutedEvents.delete(y??"*"),this},x.prototype.__eachEvent=function(y,b){var w=this;(0,g.splitArray)(y).map(function(_){return _.trim()}).forEach(function(_){var S=_.split(".");b.call(w,S[0],S[1]||d.defaultNameSpace)})},x.prototype.__getStore=function(y){if(!y)throw(0,p.error)("Need subject");if(y[this.__key]===void 0){var b=new d.EventHandlersStore;Object.defineProperty(y,this.__key,{enumerable:!1,configurable:!0,writable:!0,value:b})}return y[this.__key]},x.prototype.__removeStoreFromSubject=function(y){y[this.__key]!==void 0&&Object.defineProperty(y,this.__key,{enumerable:!1,configurable:!0,writable:!0,value:void 0})},x.prototype.__triggerNativeEvent=function(y,b){var w=this.__doc.createEvent("HTMLEvents");(0,h.isString)(b)?w.initEvent(b,!0,!0):(w.initEvent(b.type,b.bubbles,b.cancelable),["screenX","screenY","clientX","clientY","target","srcElement","currentTarget","timeStamp","which","keyCode"].forEach(function(_){Object.defineProperty(w,_,{value:b[_],enumerable:!0})}),Object.defineProperty(w,"originalEvent",{value:b,enumerable:!0})),y.dispatchEvent(w)},Object.defineProperty(x.prototype,"current",{get:function(){return this.currents[this.currents.length-1]},enumerable:!1,configurable:!0}),x.prototype.on=function(y,b,w,_){var S,E,C,A,T=this;if((0,h.isString)(y)||(0,h.isStringArray)(y)?(S=this,E=y,C=b,A=w):(S=y,E=b,C=w,A=_),!(0,h.isString)(E)&&!(0,h.isStringArray)(E)||E.length===0)throw(0,p.error)("Need events names");if(!(0,f.isFunction)(C))throw(0,p.error)("Need event handler");if((0,m.isArray)(S))return S.forEach(function(O){T.on(O,E,C,A)}),this;var k=S,D=this.__getStore(k),M=(0,f.isFunction)(k.addEventListener),P=this,j=function(O){for(var I=[],N=1;arguments.length>N;N++)I[N-1]=arguments[N];if(!P.isMuted(O))return C&&C.call.apply(C,u.__spreadArray([this],u.__read(I),!1))};return M&&(j=function(O){if(!P.isMuted(O.type))return P.__prepareEvent(O),C&&C.call(this,O)===!1?(O.preventDefault(),O.stopImmediatePropagation(),!1):void 0}),this.__eachEvent(E,function(O,I){if(O.length===0)throw(0,p.error)("Need event name");if(D.indexOf(O,I,C)===!1&&(D.set(O,I,{event:O,originalCallback:C,syntheticCallback:j},A==null?void 0:A.top),M)){var N=!!["touchstart","touchend","scroll","mousewheel","mousemove","touchmove"].includes(O)&&{passive:!0};k.addEventListener(O,j,N)}}),this},x.prototype.one=function(y,b,w,_){var S,E,C,A,T=this;(0,h.isString)(y)||(0,h.isStringArray)(y)?(S=this,E=y,C=b,A=w):(S=y,E=b,C=w,A=_);var k=function(){for(var D=[],M=0;arguments.length>M;M++)D[M]=arguments[M];return T.off(S,E,k),C.apply(void 0,u.__spreadArray([],u.__read(D),!1))};return this.on(S,E,k,A),this},x.prototype.off=function(y,b,w){var _,S,E,C=this;if((0,h.isString)(y)||(0,h.isStringArray)(y)?(_=this,S=y,E=b):(_=y,S=b,E=w),(0,m.isArray)(_))return _.forEach(function(P){C.off(P,S,E)}),this;var A=_,T=this.__getStore(A);if(!(0,h.isString)(S)&&!(0,h.isStringArray)(S)||S.length===0)return T.namespaces().forEach(function(P){C.off(A,"."+P)}),this.__removeStoreFromSubject(A),this;var k=(0,f.isFunction)(A.removeEventListener),D=function(P){k&&A.removeEventListener(P.event,P.syntheticCallback,!1)},M=function(P,j){if(P!==""){var O=T.get(P,j);if(O&&O.length)if((0,f.isFunction)(E)){var I=T.indexOf(P,j,E);I!==!1&&(D(O[I]),O.splice(I,1),O.length||T.clearEvents(j,P))}else O.forEach(D),O.length=0,T.clearEvents(j,P)}else T.events(j).forEach(function(N){N!==""&&M(N,j)})};return this.__eachEvent(S,function(P,j){j===d.defaultNameSpace?T.namespaces().forEach(function(O){M(P,O)}):M(P,j)}),T.isEmpty()&&this.__removeStoreFromSubject(A),this},x.prototype.stopPropagation=function(y,b){var w=this,_=(0,h.isString)(y)?this:y,S=(0,h.isString)(y)?y:b;if(typeof S!="string")throw(0,p.error)("Need event names");var E=this.__getStore(_);this.__eachEvent(S,function(C,A){var T=E.get(C,A);T&&w.__stopped.push(T),A===d.defaultNameSpace&&E.namespaces(!0).forEach(function(k){return w.stopPropagation(_,C+"."+k)})})},x.prototype.__removeStop=function(y){if(y){var b=this.__stopped.indexOf(y);b!==-1&&this.__stopped.splice(0,b+1)}},x.prototype.__isStopped=function(y){return y!==void 0&&this.__stopped.indexOf(y)!==-1},x.prototype.fire=function(y,b){for(var w,_,S=this,E=[],C=2;arguments.length>C;C++)E[C-2]=arguments[C];var A=(0,h.isString)(y)?this:y,T=(0,h.isString)(y)?y:b,k=(0,h.isString)(y)?u.__spreadArray([b],u.__read(E),!1):E,D=(0,f.isFunction)(A.dispatchEvent);if(!D&&!(0,h.isString)(T))throw(0,p.error)("Need events names");var M=this.__getStore(A);return!(0,h.isString)(T)&&D?this.__triggerNativeEvent(A,b):this.__eachEvent(T,function(P,j){if(D)S.__triggerNativeEvent(A,P);else{var O=M.get(P,j);if(O)try{u.__spreadArray([],u.__read(O),!1).every(function(I){var N;return!S.__isStopped(O)&&(S.currents.push(P),_=(N=I.syntheticCallback).call.apply(N,u.__spreadArray([A,P],u.__read(k),!1)),S.currents.pop(),_!==void 0&&(w=_),!0)})}finally{S.__removeStop(O)}j!==d.defaultNameSpace||D||M.namespaces().filter(function(I){return I!==j}).forEach(function(I){var N=S.fire.apply(S,u.__spreadArray([A,P+"."+I],u.__read(k),!1));N!==void 0&&(w=N)})}}),w},x.prototype.destruct=function(){this.__isDestructed&&(this.__isDestructed=!0,this.off(this),this.__getStore(this).clear(),this.__removeStoreFromSubject(this))},x}();a.EventEmitter=v},73852:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Eventify=void 0;var u=s(20255),d=function(){function h(){this.__map=new Map}return h.prototype.on=function(f,m){var p;return this.__map.has(f)||this.__map.set(f,new Set),(p=this.__map.get(f))===null||p===void 0||p.add(m),this},h.prototype.off=function(f,m){var p;return this.__map.has(f)&&((p=this.__map.get(f))===null||p===void 0||p.delete(m)),this},h.prototype.destruct=function(){this.__map.clear()},h.prototype.emit=function(f){for(var m,p,g=[],v=1;arguments.length>v;v++)g[v-1]=arguments[v];return this.__map.has(f)&&((m=this.__map.get(f))===null||m===void 0||m.forEach(function(x){p=x.apply(void 0,u.__spreadArray([],u.__read(g),!1))})),p},h}();a.Eventify=d},55395:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(3808),a),u.__exportStar(s(73852),a),u.__exportStar(s(88418),a),u.__exportStar(s(83611),a)},88418:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.observable=void 0;var u=s(20255),d=s(49781),h=s(32756),f=s(79736),m=s(46163),p=Symbol("observable-object");function g(v){return v[p]!==void 0}a.observable=function(v){if(g(v))return v;var x={},y={},b=function(S,E){return(0,d.isArray)(S)?(S.map(function(C){return b(C,E)}),v):(y[S]||(y[S]=[]),y[S].push(E),v)},w=function(S){for(var E=[],C=1;arguments.length>C;C++)E[C-1]=arguments[C];if((0,d.isArray)(S))S.map(function(A){return w.apply(void 0,u.__spreadArray([A],u.__read(E),!1))});else try{!x[S]&&y[S]&&(x[S]=!0,y[S].forEach(function(A){return A.call.apply(A,u.__spreadArray([v],u.__read(E),!1))}))}finally{x[S]=!1}},_=function(S,E){E===void 0&&(E=[]);var C={};g(S)||(Object.defineProperty(S,p,{enumerable:!1,value:!0}),Object.keys(S).forEach(function(A){var T=A,k=E.concat(T).filter(function(M){return M.length});C[T]=S[T];var D=(0,m.getPropertyDescriptor)(S,T);Object.defineProperty(S,T,{set:function(M){var P=C[T];if(!(0,h.isFastEqual)(C[T],M)){w(["beforeChange","beforeChange.".concat(k.join("."))],T,M),(0,f.isPlainObject)(M)&&_(M,k),D&&D.set?D.set.call(v,M):C[T]=M;var j=[];w(u.__spreadArray(["change"],u.__read(k.reduce(function(O,I){return j.push(I),O.push("change.".concat(j.join("."))),O},[])),!1),k.join("."),P,M!=null&&M.valueOf?M.valueOf():M)}},get:function(){return D&&D.get?D.get.call(v):C[T]},enumerable:!0,configurable:!0}),(0,f.isPlainObject)(C[T])&&_(C[T],k)}),Object.defineProperty(v,"on",{value:b}))};return _(v),v}},83611:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.EventHandlersStore=a.defaultNameSpace=void 0,s(52378);var u=s(1853);a.defaultNameSpace="JoditEventDefaultNamespace";var d=function(){function h(){this.__store=new Map}return h.prototype.get=function(f,m){if(this.__store.has(m))return this.__store.get(m)[f]},h.prototype.indexOf=function(f,m,p){var g=this.get(f,m);if(g){for(var v=0;g.length>v;v+=1)if(g[v].originalCallback===p)return v}return!1},h.prototype.namespaces=function(f){f===void 0&&(f=!1);var m=(0,u.toArray)(this.__store.keys());return f?m.filter(function(p){return p!==a.defaultNameSpace}):m},h.prototype.events=function(f){var m=this.__store.get(f);return m?Object.keys(m):[]},h.prototype.set=function(f,m,p,g){g===void 0&&(g=!1);var v=this.__store.get(m);v||this.__store.set(m,v={}),v[f]===void 0&&(v[f]=[]),g?v[f].unshift(p):v[f].push(p)},h.prototype.clear=function(){this.__store.clear()},h.prototype.clearEvents=function(f,m){var p=this.__store.get(f);p&&p[m]&&(delete p[m],Object.keys(p).length||this.__store.delete(f))},h.prototype.isEmpty=function(){return this.__store.size===0},h}();a.EventHandlersStore=d},17332:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.eventEmitter=a.getContainer=a.extendLang=a.modules=a.pluginSystem=a.uniqueUid=a.instances=void 0;var u=s(44540),d=s(64968),h=s(55395),f=s(77892),m=s(96574),p=s(87247),g=s(11278),v=s(86893);a.instances={};var x=1,y=new Set;a.uniqueUid=function(){function w(){return x+=10*(Math.random()+1),Math.round(x).toString(16)}for(var _=w();y.has(_);)_=w();return y.add(_),_},a.pluginSystem=new u.PluginSystem,a.modules={},a.extendLang=function(w){Object.keys(w).forEach(function(_){v.lang[_]?Object.assign(v.lang[_],w[_]):v.lang[_]=w[_]})};var b=new WeakMap;a.getContainer=function(w,_,S,E){S===void 0&&(S="div"),E===void 0&&(E=!1);var C=_?(0,p.getClassName)(_.prototype):"jodit-utils",A=b.get(w)||{},T=C+S,k=(0,m.isViewObject)(w)?w:w.j;if(!A[T]){var D=k.c,M=(0,f.isJoditObject)(w)&&w.o.shadowRoot?w.o.shadowRoot:w.od.body;if(E&&(0,f.isJoditObject)(w)&&w.od!==w.ed){D=w.createInside;var P=S==="style"?w.ed.head:w.ed.body;M=(0,f.isJoditObject)(w)&&w.o.shadowRoot?w.o.shadowRoot:P}var j=D.element(S,{className:"jodit jodit-".concat((0,g.kebabCase)(C),"-container jodit-box")});j.classList.add("jodit_theme_".concat(k.o.theme||"default")),M.appendChild(j),A[T]=j,w.hookStatus("beforeDestruct",function(){d.Dom.safeRemove(j),delete A[T],Object.keys(A).length&&b.delete(w)}),b.set(w,A)}return A[T].classList.remove("jodit_theme_default","jodit_theme_dark"),A[T].classList.add("jodit_theme_".concat(k.o.theme||"default")),A[T]},a.eventEmitter=new h.EventEmitter},34578:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.asArray=void 0;var u=s(49781);a.asArray=function(d){return(0,u.isArray)(d)?d:[d]}},12557:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.toArray=a.splitArray=a.asArray=void 0;var u=s(34578);Object.defineProperty(a,"asArray",{enumerable:!0,get:function(){return u.asArray}});var d=s(14556);Object.defineProperty(a,"splitArray",{enumerable:!0,get:function(){return d.splitArray}});var h=s(1853);Object.defineProperty(a,"toArray",{enumerable:!0,get:function(){return h.toArray}})},14556:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.splitArray=void 0,a.splitArray=function(s){return Array.isArray(s)?s:s.split(/[,\s]+/)}},1853:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.toArray=void 0;var u=s(80861),d=s(28069);a.toArray=function(){for(var h,f=[],m=0;arguments.length>m;m++)f[m]=arguments[m];var p=(0,d.isNativeFunction)(Array.from)?Array.from:(h=(0,u.reset)("Array.from"))!==null&&h!==void 0?h:Array.from;return p.apply(Array,f)}},4696:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(27512),a)},27512:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.clearTimeout=a.setTimeout=void 0;var u=s(20255);a.setTimeout=function(d,h){for(var f=[],m=2;arguments.length>m;m++)f[m-2]=arguments[m];return h?window.setTimeout.apply(window,u.__spreadArray([d,h],u.__read(f),!1)):(d.call.apply(d,u.__spreadArray([null],u.__read(f),!1)),0)},a.clearTimeout=function(d){window.clearTimeout(d)}},31553:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.hasBrowserColorPicker=void 0,a.hasBrowserColorPicker=function(){var s=!0;try{var u=document.createElement("input");u.type="color",u.value="!",s=u.type==="color"&&u.value!=="!"}catch{s=!1}return s}},10172:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(31553),a),u.__exportStar(s(49781),a),u.__exportStar(s(67749),a),u.__exportStar(s(32756),a),u.__exportStar(s(42096),a),u.__exportStar(s(66869),a),u.__exportStar(s(72543),a),u.__exportStar(s(33156),a),u.__exportStar(s(93578),a),u.__exportStar(s(77892),a),u.__exportStar(s(96574),a),u.__exportStar(s(60280),a),u.__exportStar(s(28069),a),u.__exportStar(s(61817),a),u.__exportStar(s(57649),a),u.__exportStar(s(79736),a),u.__exportStar(s(26335),a),u.__exportStar(s(24421),a),u.__exportStar(s(64350),a),u.__exportStar(s(19179),a),u.__exportStar(s(24021),a),u.__exportStar(s(85994),a),u.__exportStar(s(37204),a)},49781:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isArray=void 0,a.isArray=function(s){return Array.isArray(s)}},67749:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isBoolean=void 0,a.isBoolean=function(s){return typeof s=="boolean"}},32756:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isFastEqual=a.isEqual=void 0;var u=s(42554);a.isEqual=function(d,h){return d===h||(0,u.stringify)(d)===(0,u.stringify)(h)},a.isFastEqual=function(d,h){return d===h}},42096:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isFunction=void 0,a.isFunction=function(s){return typeof s=="function"}},72543:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isHtmlFromWord=void 0,a.isHtmlFromWord=function(s){return s.search(/<meta.*?Microsoft Excel\s[\d].*?>/)!==-1||s.search(/<meta.*?Microsoft Word\s[\d].*?>/)!==-1||s.search(/style="[^"]*mso-/)!==-1&&s.search(/<font/)!==-1}},66869:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isHTML=void 0;var u=s(24421);a.isHTML=function(d){return(0,u.isString)(d)&&/<([A-Za-z][A-Za-z0-9]*)\b[^>]*>(.*?)<\/\1>/m.test(d.replace(/[\r\n]/g,""))}},33156:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.hasContainer=a.isDestructable=a.isInitable=void 0;var u=s(42096),d=s(24263),h=s(24021);a.isInitable=function(f){return!(0,h.isVoid)(f)&&(0,u.isFunction)(f.init)},a.isDestructable=function(f){return!(0,h.isVoid)(f)&&(0,u.isFunction)(f.destruct)},a.hasContainer=function(f){return!(0,h.isVoid)(f)&&d.Dom.isElement(f.container)}},93578:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isInt=void 0;var u=s(57649),d=s(24421);a.isInt=function(h){return(0,d.isString)(h)&&(0,u.isNumeric)(h)&&(h=parseFloat(h)),typeof h=="number"&&Number.isFinite(h)&&!(h%1)}},77892:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isJoditObject=void 0;var u=s(42096);a.isJoditObject=function(d){return!!(d&&d instanceof Object&&(0,u.isFunction)(d.constructor)&&(typeof Jodit<"u"&&d instanceof Jodit||d.isJodit))}},60280:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isLicense=void 0;var u=s(24421);a.isLicense=function(d){return(0,u.isString)(d)&&d.length===23&&/^[a-z0-9]{5}-[a-z0-9]{5}-[a-z0-9]{5}-[a-z0-9]{5}$/i.test(d)}},37204:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isMarker=void 0;var u=s(24263),d=s(86893);a.isMarker=function(h){return u.Dom.isNode(h)&&u.Dom.isTag(h,"span")&&h.hasAttribute("data-"+d.MARKER_CLASS)}},28069:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isNativeFunction=void 0,a.isNativeFunction=function(s){return!!s&&(typeof s).toLowerCase()==="function"&&(s===Function.prototype||/^\s*function\s*(\b[a-z$_][a-z0-9$_]*\b)*\s*\((|([a-z$_][a-z0-9$_]*)(\s*,[a-z$_][a-z0-9$_]*)*)\)\s*{\s*\[native code]\s*}\s*$/i.test(String(s)))}},61817:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isNumber=void 0,a.isNumber=function(s){return typeof s=="number"&&!isNaN(s)&&isFinite(s)}},57649:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isNumeric=void 0;var u=s(24421);a.isNumeric=function(d){if((0,u.isString)(d)){if(!d.match(/^([+-])?[0-9]+(\.?)([0-9]+)?(e[0-9]+)?$/))return!1;d=parseFloat(d)}return typeof d=="number"&&!isNaN(d)&&isFinite(d)}},79736:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isPlainObject=void 0;var u=s(85994);a.isPlainObject=function(d){return!(!d||typeof d!="object"||d.nodeType||(0,u.isWindow)(d)||d.constructor&&!{}.hasOwnProperty.call(d.constructor.prototype,"isPrototypeOf"))}},26335:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isPromise=void 0,a.isPromise=function(s){return s&&typeof s.then=="function"}},24421:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isStringArray=a.isString=void 0;var u=s(49781);function d(h){return typeof h=="string"}a.isString=d,a.isStringArray=function(h){return(0,u.isArray)(h)&&d(h[0])}},64350:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isURL=void 0,a.isURL=function(s){if(s.includes(" "))return!1;if(typeof URL<"u")try{var u=new URL(s);return["https:","http:","ftp:","file:","rtmp:"].includes(u.protocol)}catch{return!1}var d=document.createElement("a");return d.href=s,!!d.hostname}},19179:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isValidName=void 0,a.isValidName=function(s){return!!s.length&&!/[^0-9A-Za-z--\w\-_.]/.test(s)}},96574:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isViewObject=void 0;var u=s(42096);a.isViewObject=function(d){return!!(d&&d instanceof Object&&(0,u.isFunction)(d.constructor)&&d.isView)}},24021:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isVoid=void 0,a.isVoid=function(s){return s==null}},85994:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isWindow=void 0,a.isWindow=function(s){return s!=null&&s===s.window}},13203:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.colorToHex=void 0,a.colorToHex=function(s){if(s==="rgba(0, 0, 0, 0)"||s==="")return!1;if(!s)return"#000000";if(s.substr(0,1)==="#")return s;var u=/([\s\n\t\r]*?)rgb\((\d+), (\d+), (\d+)\)/.exec(s)||/([\s\n\t\r]*?)rgba\((\d+), (\d+), (\d+), ([\d.]+)\)/.exec(s);if(!u)return"#000000";for(var d=parseInt(u[2],10),h=parseInt(u[3],10),f=(parseInt(u[4],10)|h<<8|d<<16).toString(16).toUpperCase();6>f.length;)f="0"+f;return u[1]+"#"+f}},61354:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(13203),a)},66546:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.applyStyles=void 0;var u=s(24263),d=s(76502),h=s(33941);function f(m){return m.replace(/mso-[a-z-]+:[\s]*[^;]+;/gi,"").replace(/mso-[a-z-]+:[\s]*[^";']+$/gi,"").replace(/border[a-z-]*:[\s]*[^;]+;/gi,"").replace(/([0-9.]+)(pt|cm)/gi,function(p,g,v){switch(v.toLowerCase()){case"pt":return(1.328*parseFloat(g)).toFixed(0)+"px";case"cm":return(.02645833*parseFloat(g)).toFixed(0)+"px"}return p})}a.applyStyles=function(m){if(m.indexOf("<html ")===-1)return m;m=(m=m.substring(m.indexOf("<html "),m.length)).substring(0,m.lastIndexOf("</html>")+7);var p=document.createElement("iframe");p.style.display="none",document.body.appendChild(p);var g="";try{var v=p.contentDocument||(p.contentWindow?p.contentWindow.document:null);if(v){v.open(),v.write(m),v.close();try{for(var x=function(b){for(var w=v.styleSheets[b].cssRules,_=function(E){if(w[E].selectorText==="")return"continue";(0,d.$$)(w[E].selectorText,v.body).forEach(function(C){C.style.cssText=f(w[E].style.cssText+";"+C.style.cssText)})},S=0;w.length>S;S+=1)_(S)},y=0;v.styleSheets.length>y;y+=1)x(y)}catch{}u.Dom.each(v.body,function(b){if(u.Dom.isElement(b)){var w=b,_=w.getAttribute("style");_&&(w.style.cssText=f(_)),w.hasAttribute("style")&&!w.getAttribute("style")&&w.removeAttribute("style")}}),g=v.firstChild?(0,h.trim)(v.body.innerHTML):""}}catch{}finally{u.Dom.safeRemove(p)}return g&&(m=g),(0,h.trim)(m.replace(/<(\/)?(html|colgroup|col|o:p)[^>]*>/g,"").replace(/<!--[^>]*>/g,""))}},33316:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.cleanFromWord=void 0;var u=s(24263),d=s(33941),h=s(1853);a.cleanFromWord=function(f){f.indexOf("<html ")!==-1&&(f=(f=f.substring(f.indexOf("<html "),f.length)).substring(0,f.lastIndexOf("</html>")+7));var m="";try{var p=document.createElement("div");p.innerHTML=f;var g=[];p.firstChild&&u.Dom.each(p,function(v){if(v)switch(v.nodeType){case Node.ELEMENT_NODE:switch(v.nodeName){case"STYLE":case"LINK":case"META":g.push(v);break;case"W:SDT":case"W:SDTPR":case"FONT":u.Dom.unwrap(v);break;default:(0,h.toArray)(v.attributes).forEach(function(x){["src","href","rel","content"].indexOf(x.name.toLowerCase())===-1&&v.removeAttribute(x.name)})}break;case Node.TEXT_NODE:break;default:g.push(v)}}),u.Dom.safeRemove.apply(null,g),m=p.innerHTML}catch{}return m&&(f=m),(f=f.split(/(\n)/).filter(d.trim).join(`
`)).replace(/<(\/)?(html|colgroup|col|o:p)[^>]*>/g,"").replace(/<!--[^>]*>/g,"")}},46639:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.htmlspecialchars=void 0,a.htmlspecialchars=function(s){var u=document.createElement("div");return u.textContent=s,u.innerHTML}},13098:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(66546),a),u.__exportStar(s(33316),a),u.__exportStar(s(46639),a),u.__exportStar(s(11336),a),u.__exportStar(s(67128),a),u.__exportStar(s(86645),a)},86645:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.nl2br=void 0,a.nl2br=function(s){return s.replace(/\r\n|\r|\n/g,"<br/>")}},67128:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.sanitizeHTMLElement=a.safeHTML=void 0;var u=s(76502),d=s(24263);function h(f,m){var p=m===void 0?{safeJavaScriptLink:!0,removeOnError:!0}:m,g=p.safeJavaScriptLink,v=p.removeOnError;if(!d.Dom.isElement(f))return!1;var x=!1;v&&f.hasAttribute("onerror")&&((0,u.attr)(f,"onerror",null),x=!0);var y=f.getAttribute("href");return g&&y&&y.trim().indexOf("javascript")===0&&((0,u.attr)(f,"href",location.protocol+"//"+y),x=!0),x}a.safeHTML=function(f,m){(d.Dom.isElement(f)||d.Dom.isFragment(f))&&(m.removeOnError&&(h(f),(0,u.$$)("[onerror]",f).forEach(function(p){return h(p,m)})),m.safeJavaScriptLink&&(h(f),(0,u.$$)('a[href^="javascript"]',f).forEach(function(p){return h(p,m)})))},a.sanitizeHTMLElement=h},11336:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.stripTags=void 0;var u=s(24421),d=s(76502),h=s(33941),f=s(24263),m=new Set(["div","p","br","h1","h2","h3","h4","h5","h6","hr"]),p=new Set(["script","style"]);a.stripTags=function g(v,x,y){x===void 0&&(x=document),y===void 0&&(y=null);var b=x.createElement("div");return(0,u.isString)(v)?b.innerHTML=v:b.appendChild(v),(0,d.$$)("*",b).forEach(function(w){var _=w.parentNode;if(_){if(y&&f.Dom.isTag(w,y)){var S=w.nodeName.toLowerCase(),E=f.Dom.isTag(w,["br","hr","input"])?"%%%jodit-single-".concat(S,"%%%"):"%%%jodit-".concat(S,"%%%").concat(g(w.innerHTML,x,y),"%%%/jodit-").concat(S,"%%%");return f.Dom.before(w,x.createTextNode(E)),void f.Dom.safeRemove(w)}if(f.Dom.isTag(w,p))f.Dom.safeRemove(w);else if(f.Dom.isTag(w,m)){var C=w.nextSibling;f.Dom.isText(C)&&/^\s/.test(C.nodeValue||"")||C&&_.insertBefore(x.createTextNode(" "),C)}}}),(0,h.trim)(b.innerText).replace(/%%%(\/)?jodit(-single)?-([\w\n]+)%%%/g,function(w,_,S,E){return"<".concat(_?"/":"").concat(E,">")})}},40332:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(76502),a),u.__exportStar(s(12557),a),u.__exportStar(s(4696),a),u.__exportStar(s(10172),a),u.__exportStar(s(61354),a),u.__exportStar(s(13098),a),u.__exportStar(s(89693),a),u.__exportStar(s(90954),a),u.__exportStar(s(19035),a)},89693:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(48926),a),u.__exportStar(s(78648),a),u.__exportStar(s(74504),a),u.__exportStar(s(50870),a),u.__exportStar(s(76787),a),u.__exportStar(s(93251),a),u.__exportStar(s(91518),a),u.__exportStar(s(49353),a),u.__exportStar(s(64274),a)},64274:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeColor=void 0;var u=s(61354),d=s(19035);a.normalizeColor=function(h){var f=["#"],m=(0,u.colorToHex)(h);if(!m)return!1;if((m=(m=(0,d.trim)(m.toUpperCase())).substr(1)).length===3){for(var p=0;3>p;p+=1)f.push(m[p]),f.push(m[p]);return f.join("")}return m.length>6&&(m=m.substr(0,6)),"#"+m}},49353:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeCssValue=a.normalizeCssNumericValue=a.NUMBER_FIELDS_REG=void 0;var u=s(57649),d=s(11278),h=s(13203),f=s(24021);a.NUMBER_FIELDS_REG=/^(left|top|bottom|right|width|min|max|height|margin|padding|fontsize|font-size)/i,a.normalizeCssNumericValue=function(m,p){return!(0,f.isVoid)(p)&&a.NUMBER_FIELDS_REG.test(m)&&(0,u.isNumeric)(p.toString())?parseInt(p.toString(),10)+"px":p},a.normalizeCssValue=function(m,p){if((0,d.kebabCase)(m)==="font-weight"){switch(p.toString().toLowerCase()){case"700":case"bold":return 700;case"400":case"normal":return 400;case"900":case"heavy":return 900}return(0,u.isNumeric)(p)?Number(p):p}return/color/i.test(m)&&/^rgb/i.test(p.toString())&&(0,h.colorToHex)(p.toString())||p}},48926:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeKeyAliases=void 0;var u=s(33941),d=s(86893);a.normalizeKeyAliases=function(h){var f={},m={meta:1,ctrl:2,control:2,alt:3,shift:4};return h.replace(/\+\+/g,"+add").split(/[\s]*\+[\s]*/).map(function(p){return(0,u.trim)(p.toLowerCase())}).map(function(p){return d.KEY_ALIASES[p]||p}).sort(function(p,g){return m[p]&&!m[g]?-1:!m[p]&&m[g]?1:m[p]&&m[g]?m[p]-m[g]:p>g?1:-1}).filter(function(p){return!f[p]&&p!==""&&(f[p]=!0)}).join("+")}},78648:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeLicense=void 0,a.normalizeLicense=function(s,u){u===void 0&&(u=8);for(var d=[];s.length;)d.push(s.substr(0,u)),s=s.substr(u);return d[1]=d[1].replace(/./g,"*"),d[2]=d[2].replace(/./g,"*"),d.join("-")}},74504:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeNode=void 0;var u=s(86893),d=s(24263);a.normalizeNode=function h(f){if(f){if(d.Dom.isText(f)&&f.nodeValue!=null&&f.parentNode)for(;d.Dom.isText(f.nextSibling);)f.nextSibling.nodeValue!=null&&(f.nodeValue+=f.nextSibling.nodeValue),f.nodeValue=f.nodeValue.replace((0,u.INVISIBLE_SPACE_REG_EXP)(),""),d.Dom.safeRemove(f.nextSibling);else h(f.firstChild);h(f.nextSibling)}}},50870:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizePath=void 0;var u=s(19035);a.normalizePath=function(){for(var d=[],h=0;arguments.length>h;h++)d[h]=arguments[h];return d.filter(function(f){return(0,u.trim)(f).length}).map(function(f,m){return f=f.replace(/([^:])[\\/]+/g,"$1/"),m&&(f=f.replace(/^\//,"")),m!==d.length-1&&(f=f.replace(/\/$/,"")),f}).join("/")}},76787:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeRelativePath=void 0,a.normalizeRelativePath=function(s){return s.split("/").reduce(function(u,d){switch(d){case"":case".":break;case"..":u.pop();break;default:u.push(d)}return u},[]).join("/")+(s.endsWith("/")?"/":"")}},93251:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeSize=void 0,a.normalizeSize=function(s){return/^[0-9]+$/.test(s.toString())?s+"px":s.toString()}},91518:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeUrl=void 0,a.normalizeUrl=function(){for(var s=[],u=0;arguments.length>u;u++)s[u]=arguments[u];return s.filter(function(d){return d.length}).map(function(d){return d.replace(/\/$/,"")}).join("/").replace(/([^:])[\\/]+/g,"$1/")}},1684:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getContentWidth=void 0,a.getContentWidth=function(s,u){var d=function(f){return parseInt(f,10)},h=u.getComputedStyle(s);return s.offsetWidth-d(h.getPropertyValue("padding-left")||"0")-d(h.getPropertyValue("padding-right")||"0")}},73874:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getScrollParent=void 0;var u=s(76502),d=s(24263);a.getScrollParent=function h(f){if(!f)return null;var m=d.Dom.isHTMLElement(f),p=m&&(0,u.css)(f,"overflowY");return m&&p!=="visible"&&p!=="hidden"&&f.scrollHeight>=f.clientHeight?f:h(f.parentNode)||document.scrollingElement||document.body}},90954:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(1684),a),u.__exportStar(s(73874),a),u.__exportStar(s(83810),a),u.__exportStar(s(98701),a),u.__exportStar(s(81710),a),u.__exportStar(s(16492),a)},83810:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.innerWidth=void 0,a.innerWidth=function(s,u){var d=u.getComputedStyle(s);return s.clientWidth-(parseFloat(d.paddingLeft||"0")+parseFloat(d.paddingRight||"0"))}},16492:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.size=void 0;var u=s(10172);a.size=function(d){return(0,u.isString)(d)||(0,u.isArray)(d)?d.length:(0,u.isPlainObject)(d)?Object.keys(d).length:0}},98701:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.offset=void 0,a.offset=function(s,u,d,h){var f;h===void 0&&(h=!1);try{f=s.getBoundingClientRect()}catch{f={top:0,bottom:0,left:0,right:0,width:0,height:0}}var m,p,g=d.body,v=d.documentElement||{clientTop:0,clientLeft:0,scrollTop:0,scrollLeft:0},x=d.defaultView||d.parentWindow,y=x.pageYOffset||v.scrollTop||g.scrollTop,b=x.pageXOffset||v.scrollLeft||g.scrollLeft,w=v.clientTop||g.clientTop||0,_=v.clientLeft||g.clientLeft||0,S=u.iframe;if(!h&&u&&u.options&&u.o.iframe&&S){var E=(0,a.offset)(S,u,u.od,!0);m=f.top+E.top,p=f.left+E.left}else m=f.top+y-w,p=f.left+b-_;return{top:Math.round(m),left:Math.round(p),width:f.width,height:f.height}}},81710:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.position=void 0;var u=s(77892);a.position=function d(h,f,m){m===void 0&&(m=!1);var p=h.getBoundingClientRect(),g=p.left,v=p.top;if((0,u.isJoditObject)(f)&&f.iframe&&f.ed.body.contains(h)&&!m){var x=d(f.iframe,f,!0);g+=x.left,v+=x.top}return{left:Math.round(g),top:Math.round(v),width:Math.round(h.offsetWidth),height:Math.round(h.offsetHeight)}}},26596:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.camelCase=void 0,a.camelCase=function(s){return s.replace(/([-_])(.)/g,function(u,d,h){return h.toUpperCase()})}},93163:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.fuzzySearchIndex=void 0;var u=s(86893);a.fuzzySearchIndex=function(d,h,f,m){f===void 0&&(f=0),m===void 0&&(m=1);var p=0,g=0,v=-1,x=0,y=0;for(g=f;d.length>p&&h.length>g;)d[p].toLowerCase()===h[g].toLowerCase()?(p++,x++,y=0,v===-1&&(v=g)):p>0&&(m>y||h[g]===u.INVISIBLE_SPACE?(y++,x++):(p=0,v=-1,x=0,y=0,g--)),g++;return p===d.length?[v,x]:[-1,0]}},11625:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.i18n=a.sprintf=void 0;var u=s(93166),d=s(76502),h=s(24421),f=s(13449),m=s(86893);a.sprintf=function(p,g){if(!g||!g.length)return p;for(var v=/%([sd])/g,x=v.exec(p),y=p,b=0;x&&g[b]!==void 0;)y=y.replace(x[0],g[b].toString()),b+=1,x=v.exec(p);return y},a.i18n=function(p,g,v){if(!(0,h.isString)(p))throw(0,d.error)("i18n: Need string in first argument");if(!p.length)return p;var x=!!(v!=null&&v.debugLanguage),y={},b=function(A){return g&&g.length?(0,a.sprintf)(A,g):A},w=(0,d.defaultLanguage)(u.Config.defaultOptions.language,u.Config.defaultOptions.language),_=(0,d.defaultLanguage)(v==null?void 0:v.language,w),S=function(A){if(A){if((0,h.isString)(A[p]))return b(A[p]);var T=p.toLowerCase();if((0,h.isString)(A[T]))return b(A[T]);var k=(0,f.ucfirst)(p);return(0,h.isString)(A[k])?b(A[k]):void 0}};m.lang[_]!==void 0?y=m.lang[_]:x||(y=m.lang[w]!==void 0?m.lang[w]:m.lang.en);var E=v==null?void 0:v.i18n;if(E&&E[_]){var C=S(E[_]);if(C)return C}return S(y)||(!x&&m.lang.en&&(0,h.isString)(m.lang.en[p])&&m.lang.en[p]?b(m.lang.en[p]):x?"{"+p+"}":b(p))}},19035:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(26596),a),u.__exportStar(s(93163),a),u.__exportStar(s(11625),a),u.__exportStar(s(11278),a),u.__exportStar(s(42554),a),u.__exportStar(s(33941),a),u.__exportStar(s(13449),a)},11278:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.CamelCaseToKebabCase=a.kebabCase=void 0,a.kebabCase=function(s){return s.replace(/([A-Z])([A-Z])([a-z])/g,"$1-$2$3").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()},a.CamelCaseToKebabCase=function(s){return s.replace(/([A-Z])([A-Z])([a-z])/g,"$1-$2$3").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},42554:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.stringify=void 0,a.stringify=function(s,u){if(u===void 0&&(u={}),typeof s!="object")return String(s);var d=new Set(u.excludeKeys),h=new WeakMap;return JSON.stringify(s,function(f,m){if(!d.has(f)){if(typeof m=="object"&&m!=null){if(h.get(m))return"[refObject]";h.set(m,!0)}return m}},u.prettify)}},33941:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.trimInv=a.trim=void 0;var u=s(86893);a.trim=function(d){return d.replace((0,u.SPACE_REG_EXP_END)(),"").replace((0,u.SPACE_REG_EXP_START)(),"")},a.trimInv=function(d){return d.replace((0,u.INVISIBLE_SPACE_REG_EXP_END)(),"").replace((0,u.INVISIBLE_SPACE_REG_EXP_START)(),"")}},13449:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ucfirst=void 0,a.ucfirst=function(s){return s.length?s[0].toUpperCase()+s.substr(1):""}},60303:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.alignElement=a.clearAlign=a.hAlignElement=void 0;var u=s(64968),d=s(26911);function h(f){u.Dom.each(f,function(m){u.Dom.isHTMLElement(m)&&m.style.textAlign&&(m.style.textAlign="",m.style.cssText.trim().length||m.removeAttribute("style"))})}a.hAlignElement=function(f,m){m&&m!=="normal"?m!=="center"?((0,d.css)(f,"float",m),(0,d.clearCenterAlign)(f)):(0,d.css)(f,{float:"",display:"block",marginLeft:"auto",marginRight:"auto"}):((0,d.css)(f,"float")&&["right","left"].indexOf((0,d.css)(f,"float").toString().toLowerCase())!==-1&&(0,d.css)(f,"float",""),(0,d.clearCenterAlign)(f))},a.clearAlign=h,a.alignElement=function(f,m){if(u.Dom.isNode(m)&&u.Dom.isElement(m))switch(h(m),f.toLowerCase()){case"justifyfull":m.style.textAlign="justify";break;case"justifyright":m.style.textAlign="right";break;case"justifyleft":m.style.textAlign="left";break;case"justifycenter":m.style.textAlign="center"}}},62462:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.loadNextStyle=a.loadNext=a.appendStyleAsync=a.appendScriptAsync=a.appendScript=void 0;var u=s(20255),d=s(48240),h=s(42096),f=s(24421),m=new Map,p=function(g){return function(v,x){return u.__awaiter(void 0,void 0,Promise,function(){var y;return u.__generator(this,function(b){return m.has(x)?[2,m.get(x)]:(y=g(v,x),m.set(x,y),[2,y])})})}};a.appendScript=function(g,v,x){var y=g.c.element("script");return y.type="text/javascript",y.async=!0,(0,h.isFunction)(x)&&!g.isInDestruct&&g.e.on(y,"load",x),y.src||(y.src=(0,d.completeUrl)(v)),g.od.body.appendChild(y),{callback:x,element:y}},a.appendScriptAsync=p(function(g,v){return new Promise(function(x,y){var b=(0,a.appendScript)(g,v,x).element;!g.isInDestruct&&g.e.on(b,"error",y)})}),a.appendStyleAsync=p(function(g,v){return new Promise(function(x,y){var b=g.c.element("link");b.rel="stylesheet",b.media="all",b.crossOrigin="anonymous",!g.isInDestruct&&g.e.on(b,"load",function(){return x(b)}).on(b,"error",y),b.href=(0,d.completeUrl)(v),g.o.shadowRoot?g.o.shadowRoot.appendChild(b):g.od.body.appendChild(b)})}),a.loadNext=function(g,v,x){return x===void 0&&(x=0),(0,f.isString)(v[x])?(0,a.appendScriptAsync)(g,v[x]).then(function(){return(0,a.loadNext)(g,v,x+1)}):Promise.resolve()},a.loadNextStyle=function(g,v,x){return x===void 0&&(x=0),(0,f.isString)(v[x])?(0,a.appendStyleAsync)(g,v[x]).then(function(){return(0,a.loadNextStyle)(g,v,x+1)}):Promise.resolve()}},603:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.assert=void 0;var u=s(20255),d=function(h){function f(m){var p=h.call(this,m)||this;return p.name="AssertionError",p}return u.__extends(f,h),f}(Error);a.assert=function(h,f){if(!h)throw new d("Assertion failed: ".concat(f))}},37682:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.browser=void 0,a.browser=function(s){var u=navigator.userAgent.toLowerCase(),d=/(firefox)[\s/]([\w.]+)/.exec(u)||/(chrome)[\s/]([\w.]+)/.exec(u)||/(webkit)[\s/]([\w.]+)/.exec(u)||/(opera)(?:.*version)[\s/]([\w.]+)/.exec(u)||/(msie)[\s]([\w.]+)/.exec(u)||/(trident)\/([\w.]+)/.exec(u)||0>u.indexOf("compatible")||[];return s==="version"?d[2]:s==="webkit"?d[1]==="chrome"||d[1]==="webkit":s==="ff"?d[1]==="firefox":s==="msie"?d[1]==="trident"||d[1]==="msie":d[1]===s}},71567:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.buildQuery=void 0;var u=s(79736);a.buildQuery=function(d,h){var f=[],m=encodeURIComponent;for(var p in d)if(Object.prototype.hasOwnProperty.call(d,p)){var g=h?h+"["+p+"]":p,v=d[p];f.push((0,u.isPlainObject)(v)?(0,a.buildQuery)(v,g):m(g)+"="+m(v))}return f.join("&")}},48240:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.completeUrl=void 0,a.completeUrl=function(s){return window.location.protocol==="file:"&&/^\/\//.test(s)&&(s="https:"+s),s}},64981:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ConfigFlatten=a.ConfigProto=void 0;var u=s(20255),d=s(7935),h=s(49781),f=s(79736),m=s(24421),p=s(24021),g=s(93166),v=s(67309);a.ConfigProto=function x(y,b,w){if(w===void 0&&(w=0),Object.getPrototypeOf(y)!==Object.prototype)return y;var _=g.Config.defaultOptions;if((0,m.isString)(y.preset)){if(_.presets[y.preset]!==void 0){var S=_.presets[y.preset];Object.keys(S).forEach(function(C){(0,p.isVoid)(y[C])&&(y[C]=S[C])})}delete y.preset}var E={};return Object.keys(y).forEach(function(C){var A=y[C],T=b?b[C]:null;E[C]=(0,f.isPlainObject)(A)&&(0,f.isPlainObject)(T)&&!(0,d.isAtom)(A)?x(A,T,w+1):w!==0&&(0,h.isArray)(A)&&!(0,d.isAtom)(A)&&(0,h.isArray)(T)?u.__spreadArray(u.__spreadArray([],u.__read(A),!1),u.__read(T.slice(A.length)),!1):A}),Object.setPrototypeOf(E,b),E},a.ConfigFlatten=function(x){return(0,v.keys)(x,!1).reduce(function(y,b){return y[b]=x[b],y},{})}},42051:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.convertMediaUrlToVideoEmbed=void 0;var u=s(64350),d=s(67285);a.convertMediaUrlToVideoEmbed=function(h,f,m){if(f===void 0&&(f=400),m===void 0&&(m=345),!(0,u.isURL)(h))return h;var p=document.createElement("a"),g=/(?:http?s?:\/\/)?(?:www\.)?(?:vimeo\.com)\/?(.+)/g;p.href=h,f||(f=400),m||(m=345);var v=p.protocol||"";switch(p.hostname){case"www.vimeo.com":case"vimeo.com":return g.test(h)?h.replace(g,'<iframe width="'+f+'" height="'+m+'" src="'+v+'//player.vimeo.com/video/$1" frameborder="0" allowfullscreen></iframe>'):h;case"youtube.com":case"www.youtube.com":case"youtu.be":case"www.youtu.be":var x=p.search?(0,d.parseQuery)(p.search):{v:p.pathname.substr(1)};return x.v?'<iframe width="'+f+'" height="'+m+'" src="'+v+"//www.youtube.com/embed/"+x.v+'" frameborder="0" allowfullscreen></iframe>':h}return h}},26911:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.clearCenterAlign=a.css=void 0;var u=s(79736),d=s(67749),h=s(49353),f=s(26596),m=s(11278);function p(g,v,x,y){if(y===void 0&&(y=!1),(0,d.isBoolean)(x)&&(y=x,x=void 0),(0,u.isPlainObject)(v)||x!==void 0){var b=function(k,D,M){(M=(0,h.normalizeCssNumericValue)(D,M))===void 0||M!=null&&p(k,D,!0)===(0,h.normalizeCssValue)(D,M)||(k.style[D]=M)};if((0,u.isPlainObject)(v))for(var w=Object.keys(v),_=0;w.length>_;_+=1)b(g,(0,f.camelCase)(w[_]),v[w[_]]);else b(g,(0,f.camelCase)(v),x);return""}var S=(0,m.kebabCase)(v),E=g.ownerDocument||document,C=!!E&&(E.defaultView||E.parentWindow),A=g.style[v],T="";return A!==void 0&&A!==""?T=A:C&&!y&&(T=C.getComputedStyle(g).getPropertyValue(S)),h.NUMBER_FIELDS_REG.test(v)&&/^[-+]?[0-9.]+px$/.test(T.toString())&&(T=parseInt(T.toString(),10)),(0,h.normalizeCssValue)(v,T)}a.css=p,a.clearCenterAlign=function(g){p(g,"display")==="block"&&p(g,"display","");var v=g.style;v.marginLeft==="auto"&&v.marginRight==="auto"&&(v.marginLeft="",v.marginRight="")}},2522:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ctrlKey=void 0,a.ctrlKey=function(s){if(typeof navigator<"u"&&navigator.userAgent.indexOf("Mac OS X")!==-1){if(s.metaKey&&!s.altKey)return!0}else if(s.ctrlKey&&!s.altKey)return!0;return!1}},63122:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.dataBind=void 0;var u=s(96574),d=new WeakMap;a.dataBind=function(h,f,m){var p=d.get(h);if(!p){d.set(h,p={});var g=null;(0,u.isViewObject)(h.j)&&(g=h.j.e),(0,u.isViewObject)(h)&&(g=h.e),g&&g.on("beforeDestruct",function(){d.delete(h)})}return m===void 0?p[f]:(p[f]=m,m)}},93351:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.defaultLanguage=void 0;var u=s(24421);a.defaultLanguage=function(d,h){return h===void 0&&(h="en"),d!=="auto"&&(0,u.isString)(d)?d:document.documentElement&&document.documentElement.lang?document.documentElement.lang:navigator.language?navigator.language.substring(0,2):h}},41579:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isAbort=a.abort=a.options=a.connection=a.error=void 0;var u=s(45339);a.error=function(d){return new TypeError(d)},a.connection=function(d){return new u.ConnectionError(d)},a.options=function(d){return new u.OptionsError(d)},a.abort=function(d){return new u.AbortError(d)},a.isAbort=function(d){return d instanceof u.AbortError}},86768:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.AbortError=void 0;var u=s(20255),d=function(h){function f(m){var p=h.call(this,m)||this;return Object.setPrototypeOf(p,f.prototype),p}return u.__extends(f,h),f}(Error);a.AbortError=d},43380:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ConnectionError=void 0;var u=s(20255),d=function(h){function f(m){var p=h.call(this,m)||this;return Object.setPrototypeOf(p,f.prototype),p}return u.__extends(f,h),f}(Error);a.ConnectionError=d},45339:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(86768),a),u.__exportStar(s(43380),a),u.__exportStar(s(47403),a)},47403:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.OptionsError=void 0;var u=s(20255),d=function(h){function f(m){var p=h.call(this,m)||this;return Object.setPrototypeOf(p,f.prototype),p}return u.__extends(f,h),f}(TypeError);a.OptionsError=d},56964:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(41579),a),u.__exportStar(s(45339),a)},7935:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.fastClone=a.markAsAtomic=a.isAtom=void 0;var u=s(42554);a.isAtom=function(d){return d&&d.isAtom},a.markAsAtomic=function(d){return Object.defineProperty(d,"isAtom",{enumerable:!1,value:!0,configurable:!1}),d},a.fastClone=function(d){return JSON.parse((0,u.stringify)(d))}},87247:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getClassName=a.keepNames=void 0;var u=s(42096);a.keepNames=new Map,a.getClassName=function(d){var h;if((0,u.isFunction)(d.className))return d.className();var f=((h=d.constructor)===null||h===void 0?void 0:h.originalConstructor)||d.constructor;if(a.keepNames.has(f))return a.keepNames.get(f);if(f.name)return f.name;var m=new RegExp(/^\s*function\s*(\S*)\s*\(/),p=f.toString().match(m);return p?p[1]:""}},69384:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.get=void 0;var u=s(20255),d=s(24421),h=s(24021);a.get=function(f,m){var p,g;if(!(0,d.isString)(f)||!f.length)return null;var v=f.split("."),x=m;try{try{for(var y=u.__values(v),b=y.next();!b.done;b=y.next()){var w=b.value;if((0,h.isVoid)(x[w]))return null;x=x[w]}}catch(_){p={error:_}}finally{try{b&&!b.done&&(g=y.return)&&g.call(y)}finally{if(p)throw p.error}}}catch{return null}return(0,h.isVoid)(x)?null:x}},6102:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.humanSizeToBytes=void 0,a.humanSizeToBytes=function(s){if(/^[0-9.]+$/.test(s.toString()))return parseFloat(s);var u=s.substr(-2,2).toUpperCase(),d=["KB","MB","GB","TB"],h=parseFloat(s.substr(0,s.length-2));return d.indexOf(u)!==-1?h*Math.pow(1024,d.indexOf(u)+1):parseInt(s,10)}},76502:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(60303),a),u.__exportStar(s(62462),a),u.__exportStar(s(52378),a),u.__exportStar(s(37682),a),u.__exportStar(s(71567),a),u.__exportStar(s(48240),a),u.__exportStar(s(64981),a),u.__exportStar(s(42051),a),u.__exportStar(s(26911),a),u.__exportStar(s(2522),a),u.__exportStar(s(63122),a),u.__exportStar(s(93351),a),u.__exportStar(s(56964),a),u.__exportStar(s(7935),a),u.__exportStar(s(69384),a),u.__exportStar(s(87247),a),u.__exportStar(s(6102),a),u.__exportStar(s(47580),a),u.__exportStar(s(67285),a),u.__exportStar(s(21498),a),u.__exportStar(s(80861),a),u.__exportStar(s(9005),a),u.__exportStar(s(54188),a),u.__exportStar(s(21518),a),u.__exportStar(s(37228),a),u.__exportStar(s(67309),a),u.__exportStar(s(22362),a)},47580:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.markDeprecated=a.cns=void 0;var u=s(20255);a.cns=console,a.markDeprecated=function(d,h,f){return h===void 0&&(h=[""]),f===void 0&&(f=null),function(){for(var m=[],p=0;arguments.length>p;p++)m[p]=arguments[p];return a.cns.warn('Method "'.concat(h[0],'" deprecated.')+(h[1]?' Use "'.concat(h[1],'" instead'):"")),d.call.apply(d,u.__spreadArray([f],u.__read(m),!1))}}},67285:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.parseQuery=void 0,a.parseQuery=function(s){for(var u={},d=s.substring(1).split("&"),h=0;d.length>h;h+=1){var f=d[h].split("=");u[decodeURIComponent(f[0])]=decodeURIComponent(f[1]||"")}return u}},21498:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.previewBox=void 0;var u=s(24421),d=s(24263),h=s(26911),f=s(67309),m=s(54188);a.previewBox=function(p,g,v,x){v===void 0&&(v="px"),x===void 0&&(x=null);var y=function(T,k){var D=[];try{(0,m.$$)("img",T.editor).forEach(function(M){var P=[(0,f.attr)(M,"width"),(0,f.attr)(M,"height"),M.src];(0,f.attr)(M,{width:M.offsetWidth+k,height:M.offsetHeight+k});var j=T.createInside.a();T.ed.body.appendChild(j),j.href=M.src,M.src=j.href,d.Dom.safeRemove(j),D.push(function(){var O;M.src=(O=P[2])!==null&&O!==void 0?O:"",(0,f.attr)(M,{width:P[0]||null,height:P[1]||null})})})}catch(M){throw D.forEach(function(P){return P()}),D.length=0,M}return D}(p,v);try{var b=p.e.fire("beforePreviewBox",g,v);if(b!=null)return b;var w=p.c.div("jodit__preview-box jodit-context");x&&x.appendChild(w),(0,h.css)(w,{position:"relative",padding:16});var _=p.value||"<div style='position: absolute;left:50%;top:50%;transform: translateX(-50%) translateY(-50%);color:#ccc;'>".concat(p.i18n("Empty"),"</div>");if(p.iframe){var S=p.create.element("iframe");(0,h.css)(S,{minWidth:800,minHeight:600,border:0}),w.appendChild(S);var E=S.contentWindow;if(E&&(p.e.fire("generateDocumentStructure.iframe",E.document,p),w=E.document.body,typeof ResizeObserver=="function")){var C=new ResizeObserver(function(T){S.style.height=E.document.body.offsetHeight+20+"px"});C.observe(E.document.body),p.e.on("beforeDestruct",function(){C.unobserve(E.document.body)})}}else(0,h.css)(w,{minWidth:1024,minHeight:600,border:0});var A=function(T,k){var D=(0,u.isString)(k)?p.c.div():k;(0,u.isString)(k)&&(D.innerHTML=k);for(var M=0;D.childNodes.length>M;M+=1){var P=D.childNodes[M];if(d.Dom.isElement(P)){for(var j=T.ownerDocument.createElement(P.nodeName),O=0;P.attributes.length>O;O+=1)(0,f.attr)(j,P.attributes[O].nodeName,P.attributes[O].nodeValue);P.childNodes.length===0||d.Dom.isTag(P,["table"])?P.nodeName==="SCRIPT"?P.textContent&&(j.textContent=P.textContent):P.innerHTML&&(j.innerHTML=P.innerHTML):A(j,P);try{T.appendChild(j)}catch{}}else try{T.appendChild(P.cloneNode(!0))}catch{}}};return A(w,_),p.e.fire("afterPreviewBox",w),w}finally{y.forEach(function(T){return T()})}}},80861:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.reset=void 0;var u=s(69384),d=s(42096),h={};a.reset=function(f){var m,p;if(!(f in h)){var g=document.createElement("iframe");try{if(g.src="about:blank",document.body.appendChild(g),!g.contentWindow)return null;var v=(0,u.get)(f,g.contentWindow),x=(0,u.get)(f.split(".").slice(0,-1).join("."),g.contentWindow);(0,d.isFunction)(v)&&(h[f]=v.bind(x))}catch{}finally{(m=g.parentNode)===null||m===void 0||m.removeChild(g)}}return(p=h[f])!==null&&p!==void 0?p:null}},9005:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.scrollIntoViewIfNeeded=a.inView=void 0;var u=s(24263);a.inView=function(d,h,f){var m=d.getBoundingClientRect(),p=d,g=m.top,v=m.height;do if(p&&p.parentNode&&((m=(p=p.parentNode).getBoundingClientRect()).bottom<g||m.top>=g+v))return!1;while(p&&p!==h&&p.parentNode);return(f.documentElement&&f.documentElement.clientHeight||0)>=g},a.scrollIntoViewIfNeeded=function(d,h,f){u.Dom.isHTMLElement(d)&&!(0,a.inView)(d,h,f)&&(h.clientHeight!==h.scrollHeight&&(h.scrollTop=d.offsetTop),(0,a.inView)(d,h,f)||d.scrollIntoView())}},54188:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.resolveElement=a.cssPath=a.refs=a.getXPathByElement=a.$$=void 0;var u=s(86893),d=s(24421),h=s(76502),f=s(24263),m=s(26596),p=s(1853),g=s(53929),v=s(45113),x=1;function y(b,w){var _;if(!/:scope/.test(b)||!u.IS_IE||w&&w.nodeType===Node.DOCUMENT_NODE)_=w.querySelectorAll(b);else{var S=w.id,E=S||"_selector_id_"+String(Math.random()).slice(2)+ ++x;b=b.replace(/:scope/g,"#"+E),!S&&w.setAttribute("id",E),_=w.parentNode.querySelectorAll(b),S||w.removeAttribute("id")}return[].slice.call(_)}a.$$=y,a.getXPathByElement=function(b,w){if(!b||b.nodeType!==Node.ELEMENT_NODE||!b.parentNode||w===b)return"";if(b.id)return"//*[@id='"+b.id+"']";var _=[].filter.call(b.parentNode.childNodes,function(S){return S.nodeName===b.nodeName});return(0,a.getXPathByElement)(b.parentNode,w)+"/"+b.nodeName.toLowerCase()+(_.length>1?"["+((0,p.toArray)(_).indexOf(b)+1)+"]":"")},a.refs=function(b){return v.Component.isInstanceOf(b,g.UIElement)&&(b=b.container),y("[ref],[data-ref]",b).reduce(function(w,_){var S=(0,h.attr)(_,"-ref");return S&&(0,d.isString)(S)&&(w[(0,m.camelCase)(S)]=_,w[S]=_),w},{})},a.cssPath=function(b){if(!f.Dom.isElement(b))return null;for(var w=[],_=b;_&&_.nodeType===Node.ELEMENT_NODE;){var S=_.nodeName.toLowerCase();if(_.id){w.unshift(S+="#"+_.id);break}var E=_,C=1;do(E=E.previousElementSibling)&&E.nodeName.toLowerCase()===S&&C++;while(E);w.unshift(S+=":nth-of-type("+C+")"),_=_.parentNode}return w.join(" > ")},a.resolveElement=function(b,w){var _=b;if((0,d.isString)(b))try{_=w.querySelector(b)}catch{throw(0,h.error)('String "'+b+'" should be valid HTML selector')}if(!_||typeof _!="object"||!f.Dom.isElement(_)||!_.cloneNode)throw(0,h.error)('Element "'+b+'" should be string or HTMLElement instance');return _}},21518:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.set=void 0;var u=s(24421),d=s(57649),h=s(49781),f=s(79736);a.set=function(m,p,g){if((0,u.isString)(m)&&m.length){for(var v=m.split("."),x=g,y=v[0],b=0;v.length-1>b;b+=1)(0,h.isArray)(x[y=v[b]])||(0,f.isPlainObject)(x[y])||(x[y]=(0,d.isNumeric)(v[b+1])?[]:{}),x=x[y];x&&(x[v[v.length-1]]=p)}}},37228:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.LimitedStack=void 0;var s=function(){function u(d){this.limit=d,this.stack=[]}return u.prototype.push=function(d){return this.stack.push(d),this.stack.length>this.limit&&this.stack.shift(),this},u.prototype.pop=function(){return this.stack.pop()},u.prototype.find=function(d){return this.stack.find(d)},u}();a.LimitedStack=s},67309:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getDataTransfer=a.memorizeExec=a.keys=a.loadImage=a.callPromise=a.markOwner=a.attr=a.call=void 0;var u=s(20255),d=s(42096),h=s(26335),f=s(24021),m=s(79736),p=s(24421),g=s(63122),v=s(26911),x=s(11278);function y(b,w,_){if(!b||!(0,d.isFunction)(b.getAttribute))return null;if(!(0,p.isString)(w))return Object.keys(w).forEach(function(C){var A=w[C];(0,m.isPlainObject)(A)&&C==="style"?(0,v.css)(b,A):(C==="className"&&(C="class"),y(b,C,A))}),null;var S=(0,x.CamelCaseToKebabCase)(w);if(/^-/.test(S)){var E=y(b,"data".concat(S));if(E)return E;S=S.substr(1)}if(_!==void 0){if(_!=null)return b.setAttribute(S,_.toString()),_.toString();b.hasAttribute(S)&&b.removeAttribute(S)}return b.getAttribute(S)}a.call=function(b){for(var w=[],_=1;arguments.length>_;_++)w[_-1]=arguments[_];return b.apply(void 0,u.__spreadArray([],u.__read(w),!1))},a.attr=y,a.markOwner=function(b,w){y(w,"data-editor_id",b.id),!w.component&&Object.defineProperty(w,"jodit",{value:b})},a.callPromise=function(b,w){return(0,h.isPromise)(b)?b.finally(w):w()},a.loadImage=function(b,w){return w.async.promise(function(_,S){var E=new Image,C=function(){w.e.off(E),S==null||S()},A=function(){w.e.off(E),_(E)};w.e.one(E,"load",A).one(E,"error",C).one(E,"abort",C),E.src=b,E.complete&&A()})},a.keys=function(b,w){if(w===void 0&&(w=!0),w)return Object.keys(b);var _=[];for(var S in b)_.push(S);return _},a.memorizeExec=function(b,w,_,S){var E,C=_.control,A="button".concat(C.command),T=(E=C.args&&C.args[0])!==null&&E!==void 0?E:(0,g.dataBind)(b,A);if((0,f.isVoid)(T))return!1;(0,g.dataBind)(b,A,T),S&&(T=S(T)),b.execCommand(C.command,!1,T??void 0)},a.getDataTransfer=function(b){if(b.clipboardData)return b.clipboardData;try{return b.dataTransfer||new DataTransfer}catch{return null}}},22362:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.val=void 0,a.val=function(s,u,d){var h=s.querySelector(u);return h?(d&&(h.value=d),h.value):""}},33286:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.init=a.initInstance=void 0;var u=s(10172),d=s(90338);function h(f,m,p,g,v){var x=p.requires;if(x!=null&&x.length&&!x.every(function(y){return g.has(y)}))return v[m]=p,!1;if((0,u.isInitable)(p))try{p.init(f)}catch{}return g.add(m),delete v[m],p.hasStyle&&(0,d.loadStyle)(f,m).catch(function(y){}),!0}a.initInstance=function(f,m,p,g,v){h(f,m,p,g,v)&&Object.keys(v).forEach(function(x){h(f,x,v[x],g,v)})},a.init=h},90338:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.loadExtras=a.loadStyle=void 0;var u=s(20255),d=s(62462),h=s(11278),f=s(93498),m=new Set;function p(g,v,x){return v=(0,h.kebabCase)(v),g.basePath+"plugins/"+v+"/"+v+"."+(x?"js":"css")}a.loadStyle=function(g,v){return u.__awaiter(this,void 0,Promise,function(){var x;return u.__generator(this,function(y){return x=p(g,v,!1),m.has(x)?[2]:(m.add(x),[2,(0,d.appendStyleAsync)(g,x)])})})},a.loadExtras=function(g,v,x,y){try{var b=x.filter(function(w){return!g.has((0,f.normalizeName)(w.name))});b.length&&function(w,_,S){_.map(function(E){var C=E.url||p(w,E.name,!0);return(0,d.appendScriptAsync)(w,C).then(S).catch(function(){return null})})}(v,b,y)}catch{}}},24342:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.makeInstance=void 0;var u=s(10172);a.makeInstance=function(d,h){try{try{return(0,u.isFunction)(h)?new h(d):h}catch{if((0,u.isFunction)(h)&&!h.prototype)return h(d)}}catch{}return null}},93498:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeName=void 0;var u=s(11278);a.normalizeName=function(d){return(0,u.kebabCase)(d).toLowerCase()}},57549:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(44540),a),u.__exportStar(s(85605),a)},13573:function(){},44540:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.PluginSystem=void 0;var u=s(20255);s(13573);var d=s(10172),h=s(12557),f=s(17332),m=s(90338),p=s(93498),g=s(24342),v=s(33286),x=function(){function y(){this.__items=new Map}return y.prototype.add=function(b,w){this.__items.set((0,p.normalizeName)(b),w),f.eventEmitter.fire("plugin:".concat(b,":ready"))},y.prototype.get=function(b){return this.__items.get((0,p.normalizeName)(b))},y.prototype.remove=function(b){this.__items.delete((0,p.normalizeName)(b))},y.prototype.__filter=function(b){var w=[];return this.__items.forEach(function(_,S){b&&!b.has(S)||w.push([S,_])}),w},y.prototype.__init=function(b){var w=this,_=function(M){return{extrasList:M.o.extraPlugins.map(function(P){return(0,d.isString)(P)?{name:P}:P}),disableList:new Set((0,h.splitArray)(M.o.disablePlugins).map(p.normalizeName)),filter:M.o.safeMode?new Set(M.o.safePluginsList):null}}(b),S=_.extrasList,E=_.disableList,C=_.filter,A=new Set,T={},k={};b.__plugins=k;var D=function(){if(!b.isInDestruct){var M=!1;w.__filter(C).forEach(function(P){var j=u.__read(P,2),O=j[0],I=j[1];if(!(E.has(O)||A.has(O)||T[O])){var N=I==null?void 0:I.requires;if(!(N&&(0,d.isArray)(N)&&N.some(function(B){return E.has(B)}))){M=!0;var L=(0,g.makeInstance)(b,I);if(!L)return A.add(O),void delete T[O];(0,v.initInstance)(b,O,L,A,T),k[O]=L}}}),M&&b.e.fire("updatePlugins")}};S&&S.length||(0,m.loadExtras)(this.__items,b,S,D),D(),function(M,P){M.e.on("beforeDestruct",function(){Object.keys(P).forEach(function(j){var O=P[j];(0,d.isDestructable)(O)&&O.destruct(M),delete P[j]}),delete M.__plugins})}(b,k)},y.prototype.wait=function(b){var w=this;return new Promise(function(_){if(w.get(b))return _();var S=function(){_(),f.eventEmitter.off("plugin:".concat(b,":ready"),S)};f.eventEmitter.on("plugin:".concat(b,":ready"),S)})},y}();a.PluginSystem=x},85605:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Plugin=void 0;var u=s(20255),d=s(56562),h=s(43441),f=s(40332),m=function(p){function g(v){var x=p.call(this,v)||this;return x.requires=[],x.buttons=[],x.hasStyle=!1,v.e.on("afterPluginSystemInit",function(){var y;(0,f.isJoditObject)(v)&&((y=x.buttons)===null||y===void 0||y.forEach(function(b){v.registerButton(b)}))}).on("afterInit",function(){x.setStatus(d.STATUSES.ready),x.afterInit(v)}).on("beforeDestruct",x.destruct),x}return u.__extends(g,p),g.prototype.className=function(){return""},g.prototype.init=function(v){},g.prototype.destruct=function(){var v,x,y;if(this.isReady){this.setStatus(d.STATUSES.beforeDestruct);var b=this.j;(0,f.isJoditObject)(b)&&((v=this.buttons)===null||v===void 0||v.forEach(function(w){b==null||b.unregisterButton(w)})),(y=(x=this.j)===null||x===void 0?void 0:x.events)===null||y===void 0||y.off("beforeDestruct",this.destruct),this.beforeDestruct(this.j),p.prototype.destruct.call(this)}},u.__decorate([h.autobind],g.prototype,"destruct",null),g}(d.ViewComponent);a.Plugin=m},9917:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Ajax=void 0;var u=s(20255),d=s(93166),h=s(40332),f=s(56964),m=s(86101),p=s(22630),g=s(43441);s(12144);var v=function(){function x(y,b){b===void 0&&(b=d.Config.prototype.defaultAjaxOptions),this.__async=new p.Async,this.__isFulfilled=!1,this.__activated=!1,this.__isDestructed=!1,this.options=(0,h.ConfigProto)(y||{},b),this.xhr=this.o.xhr?this.o.xhr():new XMLHttpRequest}return x.prototype.__buildParams=function(y,b){return(0,h.isPlainObject)(y)&&this.options.contentType&&this.options.contentType.includes("application/json")?JSON.stringify(y):(0,h.isFunction)(this.o.queryBuild)?this.o.queryBuild.call(this,y,b):(0,h.isString)(y)||y instanceof window.FormData||typeof y=="object"&&y!=null&&(0,h.isFunction)(y.append)?y:(0,h.buildQuery)(y)},Object.defineProperty(x.prototype,"o",{get:function(){return this.options},enumerable:!1,configurable:!0}),x.prototype.abort=function(){if(this.__isFulfilled)return this;try{this.__isFulfilled=!0,this.xhr.abort()}catch{}return this},x.prototype.send=function(){var y=this;this.__activated=!0;var b=this.xhr,w=this.o,_=this.prepareRequest();return this.__async.promise(function(S,E){return u.__awaiter(y,void 0,void 0,function(){var C,A,T,k,D,M=this;return u.__generator(this,function(P){switch(P.label){case 0:return C=function(){M.__isFulfilled=!0,E(f.connection("Connection error"))},b.onload=A=function(){M.__isFulfilled=!0,S(new m.Response(_,b.status,b.statusText,b.responseType?b.response:b.responseText))},b.onabort=function(){M.__isFulfilled=!0,E(f.abort("Abort connection"))},b.onerror=C,b.ontimeout=C,w.responseType&&(b.responseType=w.responseType),b.onprogress=function(j){var O,I,N=0;j.lengthComputable&&(N=j.loaded/j.total*100),(I=(O=M.options).onProgress)===null||I===void 0||I.call(O,N)},b.onreadystatechange=function(){var j,O;(O=(j=M.options).onProgress)===null||O===void 0||O.call(j,10),b.readyState===XMLHttpRequest.DONE&&(w.successStatuses.includes(b.status)?A():b.statusText&&(M.__isFulfilled=!0,E(f.connection(b.statusText))))},b.withCredentials=(D=w.withCredentials)!==null&&D!==void 0&&D,T=_.data,b.open(_.method,_.url,!0),w.contentType&&b.setRequestHeader&&b.setRequestHeader("Content-type",w.contentType),(0,h.isFunction)(k=w.headers)?[4,k.call(this)]:[3,2];case 1:k=P.sent(),P.label=2;case 2:return k&&b.setRequestHeader&&Object.keys(k).forEach(function(j){b.setRequestHeader(j,k[j])}),this.__async.setTimeout(function(){b.send(T?M.__buildParams(T):void 0)},0),[2]}})})})},x.prototype.prepareRequest=function(){if(!this.o.url)throw f.error("Need URL for AJAX request");var y=this.o.url,b=this.o.data,w=(this.o.method||"get").toLowerCase();if(w==="get"&&b&&(0,h.isPlainObject)(b)){var _=y.indexOf("?");if(_!==-1){var S=(0,h.parseQuery)(y);y=y.substring(0,_)+"?"+(0,h.buildQuery)(u.__assign(u.__assign({},S),b))}else y+="?"+(0,h.buildQuery)(this.o.data)}var E={url:y,method:w,data:b};return x.log.splice(100),x.log.push(E),E},x.prototype.destruct=function(){this.__isDestructed||(this.__isDestructed=!0,this.__activated&&!this.__isFulfilled&&(this.abort(),this.__isFulfilled=!0),this.__async.destruct())},x.log=[],u.__decorate([g.autobind],x.prototype,"destruct",null),x}();a.Ajax=v},12144:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.defaultAjaxOptions={successStatuses:[200,201,202],method:"GET",url:"",data:null,contentType:"application/x-www-form-urlencoded; charset=UTF-8",headers:{"X-REQUESTED-WITH":"XMLHttpRequest"},withCredentials:!1,xhr:function(){return new XMLHttpRequest}}},30056:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(9917),a),u.__exportStar(s(86101),a)},86101:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Response=void 0;var u=s(20255),d=function(){function h(f,m,p,g){this.request=f,this.status=m,this.statusText=p,this.body=g}return Object.defineProperty(h.prototype,"url",{get:function(){return this.request.url},enumerable:!1,configurable:!0}),h.prototype.json=function(){return u.__awaiter(this,void 0,Promise,function(){return u.__generator(this,function(f){return[2,JSON.parse(this.body)]})})},h.prototype.text=function(){return Promise.resolve(this.body)},h.prototype.blob=function(){return u.__awaiter(this,void 0,Promise,function(){return u.__generator(this,function(f){return[2,this.body]})})},h}();a.Response=d},10109:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(287),a),u.__exportStar(s(10264),a)},287:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.moveNodeInsideStart=void 0;var u=s(64968),d=s(86893);a.moveNodeInsideStart=function(h,f,m){for(var p=u.Dom.findSibling(f,m),g=u.Dom.findSibling(f,!m);u.Dom.isElement(p)&&!u.Dom.isTag(p,d.INSEPARABLE_TAGS)&&u.Dom.isContentEditable(p,h.editor)&&(!g||!u.Dom.closest(f,u.Dom.isElement,h.editor));)m||!p.firstChild?p.appendChild(f):u.Dom.before(p.firstChild,f),p=u.Dom.sibling(f,m),g=u.Dom.sibling(f,!m)}},10264:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.moveTheNodeAlongTheEdgeOutward=void 0;var u=s(64968);a.moveTheNodeAlongTheEdgeOutward=function(d,h,f){for(var m=d;m&&m!==f;){if(u.Dom.findSibling(m,h))return;(m=m.parentElement)&&m!==f&&(h?u.Dom.before(m,d):u.Dom.after(m,d))}}},2123:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(70851),a),u.__exportStar(s(77627),a)},2047:function(){},77627:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Select=void 0;var u=s(20255),d=s(86893),h=s(86893),f=s(64968),m=s(40332),p=s(70851),g=s(43441),v=s(10109),x=(s(52378),s(10172));s(2047);var y=function(){function b(w){var _=this;this.jodit=w,w.e.on("removeMarkers",function(){_.removeMarkers()})}return Object.defineProperty(b.prototype,"j",{get:function(){return this.jodit},enumerable:!1,configurable:!0}),b.prototype.errorNode=function(w){if(!f.Dom.isNode(w))throw(0,m.error)("Parameter node must be instance of Node")},Object.defineProperty(b.prototype,"area",{get:function(){return this.j.editor},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"win",{get:function(){return this.j.ew},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"doc",{get:function(){return this.j.ed},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"sel",{get:function(){return this.j.o.shadowRoot&&(0,x.isFunction)(this.j.o.shadowRoot.getSelection)?this.j.o.shadowRoot.getSelection():this.win.getSelection()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"range",{get:function(){var w=this.sel;return w&&w.rangeCount?w.getRangeAt(0):this.createRange()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isInsideArea",{get:function(){var w=this.sel,_=w!=null&&w.rangeCount?w.getRangeAt(0):null;return!(!_||!f.Dom.isOrContains(this.area,_.startContainer))},enumerable:!1,configurable:!0}),b.prototype.createRange=function(w){w===void 0&&(w=!1);var _=this.doc.createRange();return w&&this.selectRange(_),_},b.prototype.remove=function(){var w=this.sel,_=this.current();if(w&&_)for(var S=0;w.rangeCount>S;S+=1)w.getRangeAt(S).deleteContents(),w.getRangeAt(S).collapse(!0)},b.prototype.clear=function(){var w,_;!((w=this.sel)===null||w===void 0)&&w.rangeCount&&((_=this.sel)===null||_===void 0||_.removeAllRanges())},b.prototype.removeNode=function(w){if(!f.Dom.isOrContains(this.j.editor,w,!0))throw(0,m.error)("Selection.removeNode can remove only editor's children");f.Dom.safeRemove(w),this.j.e.fire("afterRemoveNode",w)},b.prototype.insertCursorAtPoint=function(w,_){var S=this;this.removeMarkers();try{var E=this.createRange();return function(){if(S.doc.caretPositionFromPoint&&(C=S.doc.caretPositionFromPoint(w,_)))E.setStart(C.offsetNode,C.offset);else if(S.doc.caretRangeFromPoint){var C=S.doc.caretRangeFromPoint(w,_);E.setStart(C.startContainer,C.startOffset)}}(),E.collapse(!0),this.selectRange(E),!0}catch{}return!1},Object.defineProperty(b.prototype,"hasMarkers",{get:function(){return!!this.markers.length},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"markers",{get:function(){return(0,m.$$)("span[data-"+d.MARKER_CLASS+"]",this.area)},enumerable:!1,configurable:!0}),b.prototype.removeMarkers=function(){f.Dom.safeRemove.apply(null,this.markers)},b.prototype.marker=function(w,_){w===void 0&&(w=!1);var S=null;_&&(S=_.cloneRange()).collapse(w);var E=this.j.createInside.span();return E.id=d.MARKER_CLASS+"_"+Number(new Date)+"_"+String(Math.random()).slice(2),E.style.lineHeight="0",E.style.display="none",f.Dom.markTemporary(E),(0,m.attr)(E,"data-"+d.MARKER_CLASS,w?"start":"end"),E.appendChild(this.j.createInside.text(d.INVISIBLE_SPACE)),S&&f.Dom.isOrContains(this.area,w?S.startContainer:S.endContainer)&&S.insertNode(E),E},b.prototype.restore=function(){var w=!1,_=function(A){return"span[data-".concat(d.MARKER_CLASS,"=").concat(A?"start":"end","]")},S=this.area.querySelector(_(!0)),E=this.area.querySelector(_(!1));if(S){if(w=this.createRange(),E)w.setStartAfter(S),f.Dom.safeRemove(S),w.setEndBefore(E),f.Dom.safeRemove(E);else{var C=S.previousSibling;f.Dom.isText(C)?w.setStart(C,C.nodeValue?C.nodeValue.length:0):w.setStartBefore(S),f.Dom.safeRemove(S),w.collapse(!0)}w&&this.selectRange(w)}},b.prototype.save=function(w){if(w===void 0&&(w=!1),this.hasMarkers)return[];var _=this.sel;if(!_||!_.rangeCount)return[];for(var S=[],E=_.rangeCount,C=[],A=0;E>A;A+=1)if(C[A]=_.getRangeAt(A),C[A].collapsed){var T=this.marker(!0,C[A]);S[A]={startId:T.id,collapsed:!0,startMarker:T.outerHTML}}else{T=this.marker(!0,C[A]);var k=this.marker(!1,C[A]);S[A]={startId:T.id,endId:k.id,collapsed:!1,startMarker:T.outerHTML,endMarker:k.outerHTML}}if(!w)for(_.removeAllRanges(),A=E-1;A>=0;--A){var D=this.doc.getElementById(S[A].startId);if(D){if(S[A].collapsed)C[A].setStartAfter(D),C[A].collapse(!0);else if(C[A].setStartBefore(D),S[A].endId){var M=this.doc.getElementById(S[A].endId);M&&C[A].setEndAfter(M)}}try{_.addRange(C[A].cloneRange())}catch{}}return S},b.prototype.focus=function(w){var _,S;if(w===void 0&&(w={preventScroll:!0}),!this.isFocused()){var E=(0,m.getScrollParent)(this.j.container),C=E==null?void 0:E.scrollTop;this.j.iframe&&this.doc.readyState==="complete"&&this.j.iframe.focus(w),this.win.focus(),this.area.focus(w),C&&(E!=null&&E.scrollTo)&&E.scrollTo(0,C);var A=this.sel,T=A!=null&&A.rangeCount?A==null?void 0:A.getRangeAt(0):null;if(!T||!f.Dom.isOrContains(this.area,T.startContainer)){var k=this.createRange();k.setStart(this.area,0),k.collapse(!0),this.selectRange(k,!1)}return this.j.editorIsActive||(S=(_=this.j)===null||_===void 0?void 0:_.events)===null||S===void 0||S.fire("focus"),!0}return!1},b.prototype.isCollapsed=function(){for(var w=this.sel,_=0;w&&w.rangeCount>_;_+=1)if(!w.getRangeAt(_).collapsed)return!1;return!0},b.prototype.isFocused=function(){return this.doc.hasFocus&&this.doc.hasFocus()&&this.area===this.doc.activeElement},b.prototype.current=function(w){if(w===void 0&&(w=!0),this.j.getRealMode()===d.MODE_WYSIWYG){var _=this.sel;if(!_||_.rangeCount===0)return null;var S=_.getRangeAt(0),E=S.startContainer,C=!1,A=function(M){return C?M.lastChild:M.firstChild};if(f.Dom.isTag(E,"br")&&_.isCollapsed)return E;if(!f.Dom.isText(E)){if((E=S.startContainer.childNodes[S.startOffset])||(E=S.startContainer.childNodes[S.startOffset-1],C=!0),E&&_.isCollapsed&&!f.Dom.isText(E)){if(!C&&f.Dom.isText(E.previousSibling))E=E.previousSibling;else if(w)for(var T=A(E);T;){if(T&&f.Dom.isText(T)){E=T;break}T=A(T)}}if(E&&!_.isCollapsed&&!f.Dom.isText(E)){var k=E,D=E;do k=k.firstChild,D=D.lastChild;while(k&&D&&!f.Dom.isText(k));k===D&&k&&f.Dom.isText(k)&&(E=k)}}if(E&&f.Dom.isOrContains(this.area,E))return E}return null},b.prototype.insertNode=function(w,_,S){var E=this;_===void 0&&(_=!0),S===void 0&&(S=!0),this.errorNode(w),this.j.e.fire("safeHTML",w),!this.isFocused()&&this.j.isEditorMode()&&(this.focus(),this.restore());var C=this.sel;this.j.history.snapshot.transaction(function(){var A;if(E.isCollapsed()||E.j.execCommand("Delete"),E.j.e.fire("beforeInsertNode",w),C&&C.rangeCount){var T=C.getRangeAt(0);f.Dom.isOrContains(E.area,T.commonAncestorContainer)?f.Dom.isTag(T.startContainer,h.INSEPARABLE_TAGS)&&T.collapsed?(A=T.startContainer.parentNode)===null||A===void 0||A.insertBefore(w,T.startContainer):f.Dom.safeInsertNode(T,w):E.area.appendChild(w)}else E.area.appendChild(w);_&&(w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.lastChild&&E.setCursorAfter(w.lastChild):E.setCursorAfter(w))}),S&&this.j.events&&this.j.__imdSynchronizeValues(),this.j.events&&this.j.e.fire("afterInsertNode",w)},b.prototype.insertHTML=function(w,_){if(_===void 0&&(_=!0),w!==""){var S,E=this.j.createInside.div(),C=this.j.createInside.fragment();if(!this.isFocused()&&this.j.isEditorMode()&&(this.focus(),this.restore()),f.Dom.isNode(w)?E.appendChild(w):E.innerHTML=w.toString(),(this.j.isEditorMode()||this.j.e.fire("insertHTML",E.innerHTML)!==!1)&&(S=E.lastChild)){for(;E.firstChild;)S=E.firstChild,C.appendChild(E.firstChild);this.insertNode(C.firstChild&&C.firstChild===C.lastChild?C.lastChild:C,!1,!1),_&&(S?this.setCursorAfter(S):this.setCursorIn(C)),this.j.__imdSynchronizeValues()}}},b.prototype.insertImage=function(w,_,S){_===void 0&&(_=null),S===void 0&&(S=null);var E=(0,x.isString)(w)?this.j.createInside.element("img"):w;if((0,x.isString)(w)&&E.setAttribute("src",w),S!=null){var C=S.toString();C&&C!=="auto"&&0>String(C).indexOf("px")&&0>String(C).indexOf("%")&&(C+="px"),(0,m.call)(this.j.o.resizer.forImageChangeAttributes?m.attr:m.css,E,"width",C)}_&&typeof _=="object"&&(0,m.css)(E,_);var A=function(){(E.offsetHeight>E.naturalHeight||E.offsetWidth>E.naturalWidth)&&(E.style.width="",E.style.height=""),E.removeEventListener("load",A)};this.j.e.on(E,"load",A),E.complete&&A(),this.insertNode(E),this.j.e.fire("afterInsertImage",E)},b.prototype.eachSelection=function(w){var _,S=this,E=this.sel;if(E&&E.rangeCount){var C=E.getRangeAt(0),A=C.commonAncestorContainer;f.Dom.isHTMLElement(A)||(A=A.parentElement);var T=[],k=C.startOffset,D=A.childNodes.length,M=C.startContainer===this.area?A.childNodes[D>k?k:D-1]:C.startContainer,P=C.endContainer===this.area?A.childNodes[C.endOffset-1]:C.endContainer;f.Dom.isText(M)&&M===C.startContainer&&C.startOffset===((_=M.nodeValue)===null||_===void 0?void 0:_.length)&&M.nextSibling&&(M=M.nextSibling),f.Dom.isText(P)&&P===C.endContainer&&C.endOffset===0&&P.previousSibling&&(P=P.previousSibling);var j=function(I){!I||I===A||f.Dom.isEmptyTextNode(I)||(0,x.isMarker)(I)||T.push(I)};j(M),M!==P&&f.Dom.isOrContains(A,M,!0)&&f.Dom.find(M,function(I){return j(I),I===P||I&&I.contains&&I.contains(P)},A,!0,!1);var O=function(I){if(f.Dom.isOrContains(S.j.editor,I,!0)){if(I.nodeName.match(/^(UL|OL)$/))return(0,m.toArray)(I.childNodes).forEach(O);if(f.Dom.isTag(I,"li"))if(I.firstChild)I=I.firstChild;else{var N=S.j.createInside.text(h.INVISIBLE_SPACE);I.appendChild(N),I=N}w(I)}};T.length===0&&f.Dom.isEmptyTextNode(M)&&T.push(M),T.length===0&&M.firstChild&&T.push(M.firstChild),T.forEach(O)}},b.prototype.cursorInTheEdge=function(w,_,S){var E,C,A=this;S===void 0&&(S=null);var T=!w,k=(E=this.sel)===null||E===void 0?void 0:E.getRangeAt(0);if(S!=null||(S=this.current(!1)),!k||!S||!f.Dom.isOrContains(_,S,!0))return null;var D=w?k.startContainer:k.endContainer,M=w?k.startOffset:k.endOffset,P=function(B){return!!(B&&!f.Dom.isTag(B,"br")&&!f.Dom.isEmptyTextNode(B)&&!f.Dom.isTemporary(B)&&!(f.Dom.isElement(B)&&A.j.e.fire("isInvisibleForCursor",B)===!0))};if(f.Dom.isText(D)){var j=!((C=D.nodeValue)===null||C===void 0)&&C.length?D.nodeValue:"";if(T&&j.replace((0,h.INVISIBLE_SPACE_REG_EXP_END)(),"").length>M)return!1;var O=(0,h.INVISIBLE_SPACE_REG_EXP_START)().exec(j);if(w&&(O&&M>O[0].length||!O&&M>0))return!1}else{var I=(0,m.toArray)(D.childNodes);if(T){if(I.slice(M).some(P))return!1}else if(I.slice(0,M).some(P))return!1}for(var N=S;N&&N!==_;){var L=f.Dom.sibling(N,w);if(L){if((N=L)&&P(N))return!1}else N=N.parentNode}return!0},b.prototype.cursorOnTheLeft=function(w,_){return this.cursorInTheEdge(!0,w,_)},b.prototype.cursorOnTheRight=function(w,_){return this.cursorInTheEdge(!1,w,_)},b.prototype.setCursorAfter=function(w){return this.setCursorNearWith(w,!1)},b.prototype.setCursorBefore=function(w){return this.setCursorNearWith(w,!0)},b.prototype.setCursorNearWith=function(w,_){var S,E,C=this;if(this.errorNode(w),!f.Dom.up(w,function(k){return k===C.area||k&&k.parentNode===C.area},this.area))throw(0,m.error)("Node element must be in editor");var A=this.createRange(),T=null;return f.Dom.isText(w)?_?A.setStart(w,0):A.setEnd(w,(E=(S=w.nodeValue)===null||S===void 0?void 0:S.length)!==null&&E!==void 0?E:0):(T=this.j.createInside.text(d.INVISIBLE_SPACE),_?A.setStartBefore(w):A.setEndAfter(w),A.collapse(_),f.Dom.safeInsertNode(A,T),A.selectNode(T)),A.collapse(_),this.selectRange(A),T},b.prototype.setCursorIn=function(w,_){var S=this;if(_===void 0&&(_=!1),this.errorNode(w),!f.Dom.up(w,function(k){return k===S.area||k&&k.parentNode===S.area},this.area))throw(0,m.error)("Node element must be in editor");var E=this.createRange(),C=w,A=w;do{if(f.Dom.isText(C))break;A=C,C=_?C.firstChild:C.lastChild}while(C);if(!C){var T=this.j.createInside.text(d.INVISIBLE_SPACE);/^(img|br|input)$/i.test(A.nodeName)?C=A:(A.appendChild(T),A=T)}return E.selectNodeContents(C||A),E.collapse(_),this.selectRange(E),A},b.prototype.selectRange=function(w,_){_===void 0&&(_=!0);var S=this.sel;return _&&!this.isFocused()&&this.focus(),S&&(S.removeAllRanges(),S.addRange(w)),this.j.e.fire("changeSelection"),this},b.prototype.select=function(w,_){var S=this;if(_===void 0&&(_=!1),this.errorNode(w),!f.Dom.up(w,function(C){return C===S.area||C&&C.parentNode===S.area},this.area))throw(0,m.error)("Node element must be in editor");var E=this.createRange();return E[_?"selectNodeContents":"selectNode"](w),this.selectRange(E)},Object.defineProperty(b.prototype,"html",{get:function(){var w=this.sel;if(w&&w.rangeCount>0){var _=w.getRangeAt(0).cloneContents(),S=this.j.createInside.div();return S.appendChild(_),S.innerHTML}return""},enumerable:!1,configurable:!0}),b.prototype.wrapInTagGen=function(){var w,_,S,E,C,A,T,k,D,M,P;return u.__generator(this,function(j){switch(j.label){case 0:return this.isCollapsed()?(A=this.jodit.createInside.element("font",h.INVISIBLE_SPACE),this.insertNode(A,!1,!1),w=u.__read(this.markers,1),(_=w[0])?A.appendChild(_):(this.setCursorIn(A),this.save()),[4,A]):[3,2];case 1:return j.sent(),f.Dom.unwrap(A),[2];case 2:(0,m.$$)("*[style*=font-size]",this.area).forEach(function(O){(0,m.attr)(O,"data-font-size",O.style.fontSize.toString()),O.style.removeProperty("font-size")}),this.isCollapsed()?(A=this.j.createInside.element("font"),(0,m.attr)(A,"size",7),this.insertNode(A,!1,!1)):this.j.nativeExecCommand("fontsize",!1,"7"),(0,m.$$)("*[data-font-size]",this.area).forEach(function(O){var I=(0,m.attr)(O,"data-font-size");I&&(O.style.fontSize=I,(0,m.attr)(O,"data-font-size",null))}),S=(0,m.$$)('font[size="7"]',this.area),j.label=3;case 3:j.trys.push([3,8,9,10]),E=u.__values(S),C=E.next(),j.label=4;case 4:return C.done?[3,7]:(k=(A=C.value).lastChild,(T=A.firstChild)&&T===k&&(0,x.isMarker)(T)?(f.Dom.unwrap(A),[3,6]):(T&&(0,x.isMarker)(T)&&f.Dom.before(A,T),k&&(0,x.isMarker)(k)&&f.Dom.after(A,k),[4,A]));case 5:j.sent(),f.Dom.unwrap(A),j.label=6;case 6:return C=E.next(),[3,4];case 7:return[3,10];case 8:return D=j.sent(),M={error:D},[3,10];case 9:try{C&&!C.done&&(P=E.return)&&P.call(E)}finally{if(M)throw M.error}return[7];case 10:return[2]}})},b.prototype.wrapInTag=function(w){var _,S,E=[];try{for(var C=u.__values(this.wrapInTagGen()),A=C.next();!A.done;A=C.next()){var T=A.value;try{if(T.firstChild&&T.firstChild===T.lastChild&&(0,x.isMarker)(T.firstChild))continue;(0,x.isFunction)(w)?w(T):E.push(f.Dom.replace(T,w,this.j.createInside))}finally{var k=T.parentNode;k&&(f.Dom.unwrap(T),f.Dom.isEmpty(k)&&f.Dom.unwrap(k))}}}catch(D){_={error:D}}finally{try{A&&!A.done&&(S=C.return)&&S.call(C)}finally{if(_)throw _.error}}return E},b.prototype.commitStyle=function(w){new p.CommitStyle(w).apply(this.j)},b.prototype.applyStyle=function(w,_){_===void 0&&(_={}),this.commitStyle(u.__assign({style:w},_))},b.prototype.splitSelection=function(w,_){if(!this.isCollapsed())return null;var S=this.createRange(),E=this.range;S.setStartBefore(w);var C=this.cursorOnTheRight(w,_),A=this.cursorOnTheLeft(w,_),T=this.j.createInside.element("br"),k=this.j.createInside.fake(),D=k.cloneNode();try{if(C||A){_?f.Dom.before(_,T):f.Dom.safeInsertNode(E,T);var M=function(N,L){for(var B=L(N);B;){var R=L(B);if(!B||!f.Dom.isTag(B,"br")&&!f.Dom.isEmptyTextNode(B))break;f.Dom.safeRemove(B),B=R}};M(T,function(N){return N.nextSibling}),M(T,function(N){return N.previousSibling}),f.Dom.after(T,D),f.Dom.before(T,k),C?(S.setEndBefore(T),E.setEndBefore(T)):(S.setEndAfter(T),E.setEndAfter(T))}else S.setEnd(E.startContainer,E.startOffset);var P=S.extractContents(),j=function(N){return f.Dom.each(N,function(L){return f.Dom.isEmptyTextNode(L)&&f.Dom.safeRemove(L)})};try{if(j(P),j(w),w.parentNode.insertBefore(P,w),!_&&C&&(T==null?void 0:T.parentNode)){var O=this.createRange();O.setStartBefore(T),this.selectRange(O)}}catch{}var I=function(N){var L,B,R;((L=N==null?void 0:N.parentNode)===null||L===void 0?void 0:L.firstChild)===((B=N==null?void 0:N.parentNode)===null||B===void 0?void 0:B.lastChild)&&((R=N==null?void 0:N.parentNode)===null||R===void 0||R.appendChild(T.cloneNode()))};I(k),I(D)}finally{f.Dom.safeRemove(k),f.Dom.safeRemove(D)}return w.previousElementSibling},b.prototype.expandSelection=function(){var w=this;if(this.isCollapsed())return this;var _=this.range,S=_.cloneRange();if(!f.Dom.isOrContains(this.j.editor,_.commonAncestorContainer,!0))return this;var E=function(O){var I=w.j.createInside.fake(),N=_.cloneRange();return N.collapse(O),f.Dom.safeInsertNode(N,I),(0,v.moveTheNodeAlongTheEdgeOutward)(I,O,w.j.editor),I},C=E(!0),A=E(!1);S.setStartAfter(C),S.setEndBefore(A);var T=f.Dom.findSibling(C,!1),k=f.Dom.findSibling(A,!0);if(T!==k){var D=f.Dom.isElement(T)&&f.Dom.isOrContains(T,A),M=!D&&f.Dom.isElement(k)&&f.Dom.isOrContains(k,C);if(D||M){for(var P=D?T:k,j=P;f.Dom.isElement(P);)(P=D?P.firstElementChild:P.lastElementChild)&&f.Dom.isOrContains(P,D?A:C)&&(j=P);D?S.setStart(j,0):S.setEnd(j,j.childNodes.length)}}return this.selectRange(S),f.Dom.safeRemove(C,A),this},u.__decorate([g.autobind],b.prototype,"createRange",null),u.__decorate([g.autobind],b.prototype,"focus",null),u.__decorate([g.autobind],b.prototype,"setCursorAfter",null),u.__decorate([g.autobind],b.prototype,"setCursorBefore",null),u.__decorate([g.autobind],b.prototype,"setCursorIn",null),b}();a.Select=y},77846:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.extractSelectedPart=void 0;var u=s(67309),d=s(33941),h=s(24263),f=s(37204);function m(p,g,v){var x=g.extractContents();x.textContent&&(0,d.trim)(x.textContent).length||!x.firstChild||h.Dom.unwrap(x.firstChild),p.parentNode&&(0,u.call)(v?h.Dom.before:h.Dom.after,p,x)}a.extractSelectedPart=function(p,g,v){var x=v.s.createRange(),y=(0,f.isMarker)(g.previousSibling)?g.previousSibling:g;x.setStartBefore(p),x.setEndBefore(y),m(p,x,!0);var b=(0,f.isMarker)(g.nextSibling)?g.nextSibling:g;x.setStartAfter(b),x.setEndAfter(p),m(p,x,!1)}},95901:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.FiniteStateMachine=void 0,s(24421),s(603);var u=function(){function d(h,f){this.transitions=f,this.silent=!0,this.__previewsStates=new Set,this.setState(h)}return d.prototype.setState=function(h){this.__previewsStates.add(h),this.__state=h},d.prototype.getState=function(){return this.__state},d.prototype.disableSilent=function(){this.silent=!1},d.prototype.dispatch=function(h,f){var m=this.transitions[this.getState()][h];if(m){var p=m.call(this,f);return this.setState(p.next),p}throw new Error("invalid action: ".concat(this.getState(),".").concat(h.toString()))},d}();a.FiniteStateMachine=u},65774:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getSuitChild=void 0;var u=s(24263),d=s(63150),h=s(74477);a.getSuitChild=function(f,m){for(var p=m.firstChild;p&&!(0,d.isNormalNode)(p);)if(!(p=p.nextSibling))return null;return p&&!u.Dom.next(p,d.isNormalNode,m)&&(0,h.isSuitElement)(f,p,!1)?p:null}},66277:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getSuitParent=void 0;var u=s(24263),d=s(63150),h=s(74477);a.getSuitParent=function f(m,p,g){var v=p.parentNode;return v===g||!u.Dom.isHTMLElement(v)||u.Dom.next(p,d.isNormalNode,v)||u.Dom.prev(p,d.isNormalNode,v)?null:m.isElementCommit&&m.elementIsBlock&&!u.Dom.isBlock(v)?f(m,v,g):!(0,h.isSuitElement)(m,v,!1)||u.Dom.isBlock(v)&&!m.elementIsBlock?m.isElementCommit&&!u.Dom.isBlock(v)?f(m,v,g):null:v}},18387:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.hasSameStyleKeys=a.hasSameStyle=void 0;var u=s(26911),d=s(24021),h=s(49353),f=s(24263);s(52378),a.hasSameStyle=function(m,p){return!!(!f.Dom.isTag(m,"font")&&f.Dom.isHTMLElement(m)&&Object.keys(p).every(function(g){var v=(0,u.css)(m,g,!0);return v===""&&(p[g]===""||p[g]==null)||!(0,d.isVoid)(v)&&v!==""&&!(0,d.isVoid)(p[g])&&(0,h.normalizeCssValue)(g,p[g]).toString().toLowerCase()===v.toString().toLowerCase()}))},document.createElement("div").style.color="red",a.hasSameStyleKeys=function(m,p){return!!(!f.Dom.isTag(m,"font")&&f.Dom.isHTMLElement(m)&&Object.keys(p).every(function(g){var v=(0,u.css)(m,g,!0);return!(0,d.isVoid)(v)}))}},66162:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(93217),a),u.__exportStar(s(11651),a),u.__exportStar(s(29271),a),u.__exportStar(s(18387),a),u.__exportStar(s(77846),a),u.__exportStar(s(95901),a),u.__exportStar(s(65774),a),u.__exportStar(s(66277),a),u.__exportStar(s(76991),a),u.__exportStar(s(47508),a),u.__exportStar(s(63150),a),u.__exportStar(s(74477),a),u.__exportStar(s(26707),a),u.__exportStar(s(8298),a),u.__exportStar(s(6278),a)},76991:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isInsideInvisibleElement=void 0;var u=s(24263);a.isInsideInvisibleElement=function(d,h){return!!u.Dom.closest(d,["style","script"],h)}},63150:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isNormalNode=void 0;var u=s(24263),d=s(37204);a.isNormalNode=function(h){return!!(h&&!u.Dom.isEmptyTextNode(h)&&!u.Dom.isTemporary(h)&&!(0,d.isMarker)(h))}},47508:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.elementsEqualAttributes=a.isSameAttributes=void 0;var u=s(76502),d=s(16492),h=(s(52378),s(18387));a.isSameAttributes=function(f,m){return!f.attributes.length&&!(0,d.size)(m)||!(0,d.size)(m)||Object.keys(m).every(function(p){return p==="class"?f.classList.contains(m[p]):p==="style"?(0,h.hasSameStyle)(f,m[p]):(0,u.attr)(f,p)===m[p]})},a.elementsEqualAttributes=function(f,m){return f.attributes.length===m.attributes.length&&Array.from(f.attributes).every(function(p){return m.hasAttribute(p.name)&&m.getAttribute(p.name)===p.value})}},74477:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isSameStyleChild=a.findSuitClosest=a.isSuitElement=void 0;var u=s(24263),d=s(63150),h=s(18387);function f(m,p,g){var v;if(!p)return!1;var x=m.element,y=m.elementIsDefault,b=m.options,w=!!(!((v=b.attributes)===null||v===void 0)&&v.style&&(0,h.hasSameStyle)(p,b.attributes.style)),_=p.nodeName.toLowerCase()===x||u.Dom.isTag(p,["ul","ol"])&&m.elementIsList;return!((y&&g||!_)&&(!w||!(0,d.isNormalNode)(p)||m.elementIsList))||!!(!_&&!g&&y&&u.Dom.isInlineBlock(p))}a.isSuitElement=f,a.findSuitClosest=function(m,p,g){return u.Dom.closest(p,function(v){return f(m,v,!0)},g)},a.isSameStyleChild=function(m,p){var g,v,x=m.element,y=m.options;if(!p||!(0,d.isNormalNode)(p))return!1;var b=p.nodeName.toLowerCase()===x,w=!!(!((g=y.attributes)===null||g===void 0)&&g.style&&(0,h.hasSameStyleKeys)(p,(v=y.attributes)===null||v===void 0?void 0:v.style));return b&&w}},11651:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.toggleOrderedList=void 0;var u=s(24263),d=(s(52378),s(77846)),h=s(70851),f=s(93217),m=s(66162);function p(g,v,x,y,b){return y.e.fire("".concat(h._PREFIX,"BeforeUnwrapList"),g,v,b)||((0,d.extractSelectedPart)(v,x,y),u.Dom.unwrap(x.parentElement),u.Dom.replace(x,y.o.enter,y.createInside))}a.toggleOrderedList=function(g,v,x,y){if(!v)return y;var b=v.parentElement;if(!b)return y;var w=x.e.fire("".concat(h._PREFIX,"BeforeToggleList"),y,g,b);if(w!==void 0)return w;var _=x.e.fire.bind(x.e,"".concat(h._PREFIX,"AfterToggleList"));if(y!==h.UNWRAP){var S=(0,f.toggleAttributes)(g,v.parentElement,x,h.INITIAL,!0)===h.CHANGE;if(y===h.REPLACE||S||b.tagName.toLowerCase()!==g.element){var E=p(h.REPLACE,b,v,x,g),C=(0,m.wrapList)(g,E,x);return _(h.REPLACE,C,g),h.REPLACE}}var A=p(h.UNWRAP,b,v,x,g);return _(h.UNWRAP,A,g),h.UNWRAP}},29271:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.wrapList=void 0;var u=s(64968),d=s(70851),h=s(66162);a.wrapList=function(f,m,p){var g=p.e.fire("".concat(d._PREFIX,"BeforeWrapList"),d.REPLACE,m,f),v=g??u.Dom.replace(m,"li",p.createInside),x=v.previousElementSibling,y=v.nextElementSibling,b=u.Dom.isTag(x,f.element)?x:null;return b!=null||(b=u.Dom.isTag(y,f.element)?y:null),u.Dom.isTag(b,["ul","ol"])&&(0,h.isSameAttributes)(b,f.options.attributes)||(b=p.createInside.element(f.element),(0,h.toggleAttributes)(f,b,p,d.INITIAL),u.Dom.before(v,b)),x===b?u.Dom.append(b,v):u.Dom.prepend(b,v),u.Dom.isTag(b.nextElementSibling,f.element)&&(0,h.elementsEqualAttributes)(b,b.nextElementSibling)&&(u.Dom.append(b,Array.from(b.nextElementSibling.childNodes)),u.Dom.safeRemove(b.nextElementSibling)),p.e.fire("".concat(d._PREFIX,"AfterWrapList"),d.WRAP,b,f),b}},93217:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.toggleAttributes=void 0;var u=s(76502),d=s(26911),h=s(63122),f=s(11278),m=s(49353),p=s(16492),g=s(24263),v=s(70851),x=s(17332),y=(s(10172),"toggleAttributes");function b(w,_,S){return(0,u.attr)(_,"style")||((0,u.attr)(_,"style",null),_.tagName.toLowerCase()===w.defaultTag&&(g.Dom.unwrap(_),S=v.UNWRAP)),S}a.toggleAttributes=function(w,_,S,E,C){if(C===void 0&&(C=!1),!C&&w.isApplied(_,y))return E;!C&&w.setApplied(_,y);var A=w.options.attributes;return A&&(0,p.size)(A)>0&&Object.keys(A).forEach(function(T){var k=A[T];switch(T){case"style":E=function(D,M,P,j,O,I){return Object.keys(P).forEach(function(N){var L=j.style.getPropertyValue((0,f.kebabCase)(N)),B=P[N];if(L!==""||B!=null){if(function(R,z,W){var U=R.create.element(z.tagName.toLowerCase());U.style.cssText=z.style.cssText,function(X){var K;if((0,h.dataBind)(X,"shadowRoot")!==void 0)return(0,h.dataBind)(X,"shadowRoot");var Q=(0,x.getContainer)(X),Y=document.createElement("iframe");(0,d.css)(Y,{width:0,height:0,position:"absolute",border:0}),Y.src="about:blank",Q.appendChild(Y);var $=(K=Y.contentWindow)===null||K===void 0?void 0:K.document,J=$?$.body:X.od.body;return(0,h.dataBind)(X,"shadowRoot",J),J}(R).appendChild(U);var H=(0,d.css)(U,W);return g.Dom.safeRemove(U),H}(M,j,N)===(0,m.normalizeCssValue)(N,B))return L?(!O&&(0,d.css)(j,N,null),void(I=b(D,j,I=v.UNSET))):void 0;I=v.CHANGE,O||((0,d.css)(j,N,B),I=b(D,j,I))}}),I}(w,S,k,_,C,E);break;case"class":E=function(D,M,P,j,O){var I=D.e.fire.bind(D.e,"".concat(v._PREFIX,"AfterToggleAttribute"));return P.classList.contains(M.toString())?(j=v.UNSET,O||(P.classList.remove(M),P.classList.length===0&&((0,u.attr)(P,"class",null),I(j,P,"class",null)))):(j=v.CHANGE,O||(P.classList.add(M),I(j,P,"class",M))),j}(S,k,_,E,C);break;default:E=function(D,M,P,j,O,I){var N=D.e.fire.bind(D.e,"".concat(v._PREFIX,"AfterToggleAttribute"));return(0,u.attr)(P,j)===M?(!O&&(0,u.attr)(P,j,null),I=v.UNSET,!O&&N(I,P,j,M),I):(I=v.CHANGE,O||((0,u.attr)(P,j,M),N(I,P,j,M)),I)}(S,k,_,T,C,E)}}),E}},26707:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.unwrapChildren=void 0;var u=s(24263),d=s(40332),h=s(18387),f=s(74477);a.unwrapChildren=function(m,p){var g,v,x=[],y=[],b=(g=m.options.attributes)===null||g===void 0?void 0:g.style;if(p.firstChild)for(var w=u.Dom.eachGen(p),_=w.next(),S=function(){var E=_.value;!(0,f.isSuitElement)(m,E,!0)||b&&!(0,h.hasSameStyleKeys)(E,b)?b&&(0,f.isSameStyleChild)(m,E)?(v===void 0&&(v=!1),y.push(function(){(0,d.css)(E,Object.keys(b).reduce(function(C,A){return C[A]=null,C},{})),(0,d.attr)(E,"style")||(0,d.attr)(E,"style",null),(0,d.attr)(E,"style")||E.nodeName.toLowerCase()!==m.element||x.push(E)})):u.Dom.isEmptyTextNode(E)||v===void 0&&(v=!1):(v===void 0&&(v=!0),x.push(E)),_=w.next()};!_.done;)S();return y.forEach(function(E){return E()}),x.forEach(u.Dom.unwrap),!!v}},6278:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.wrapUnwrappedText=void 0;var u=s(24263),d=s(37204);a.wrapUnwrappedText=function(h,f,m){var p=m.editor,g=m.createInside,v=function(S,E){E===void 0&&(E="previousSibling");for(var C=S,A=S;A&&!(0,d.isMarker)(A)&&!u.Dom.isTag(A,m.o.enter)&&(C=A,A=A[E]?A[E]:A.parentNode&&!u.Dom.isBlock(A.parentNode)&&A.parentNode!==p?A.parentNode:null,!u.Dom.isBlock(A)););return C},x=v(f),y=v(f,"nextSibling"),b=m.s.createRange();b.setStartBefore(x),b.setEndAfter(y);var w=b.extractContents(),_=g.element(h.element);return _.appendChild(w),u.Dom.safeInsertNode(b,_),h.elementIsBlock&&u.Dom.isEmpty(_)&&!u.Dom.isTag(_.firstElementChild,"br")&&_.appendChild(g.element("br")),_}},8298:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.wrap=void 0;var u=s(64968),d=s(6278),h=s(67309),f=s(29271);a.wrap=function(m,p,g){var v=function(x,y,b){return x.elementIsBlock?u.Dom.up(y,function(w){return u.Dom.isBlock(w)&&!u.Dom.isTag(w,["td","th","tr","tbody","table","li","ul","ol"])},b.editor)||(0,d.wrapUnwrappedText)(x,y,b):((0,h.attr)(y,"size",null),y)}(m,p,g);return m.elementIsList?(0,f.wrapList)(m,v,g):u.Dom.replace(v,m.element,g.createInside,!0)}},3097:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ApplyStyle=void 0;var u=s(74504),d=s(66162),h=s(33090),f=s(70851);a.ApplyStyle=function(m,p){var g=m.s,v=m.editor;g.save(),(0,u.normalizeNode)(v.firstChild);for(var x=m.s.wrapInTagGen(),y=x.next(),b={mode:f.INITIAL,element:y.value,next:h.states.START,jodit:m,style:p};y&&!y.done;){var w=new d.FiniteStateMachine(h.states.START,h.transactions);for(b.element=y.value;w.getState()!==h.states.END;)b=w.dispatch("exec",b);y=x.next()}g.restore()}},70851:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.CommitStyle=a._PREFIX=a.REPLACE=a.INITIAL=a.UNSET=a.CHANGE=a.UNWRAP=a.WRAP=void 0;var u=s(86893),d=s(26596),h=s(3097);a.WRAP="wrap",a.UNWRAP="unwrap",a.CHANGE="change",a.UNSET="unset",a.INITIAL="initial",a.REPLACE="replace",a._PREFIX="commitStyle";var f=function(){function m(p){var g,v,x,y;this.options=p,this.__applyMap=new WeakMap,p.attributes=(g=p.attributes,y=(v=this.options).className,(x=v.style)&&(g?g.style=x:g={style:x},delete this.options.style),y&&(g?g.class=y:g={class:y},delete this.options.className),g)}return m.prototype.isApplied=function(p,g){var v=this.__applyMap.get(p);return!!v&&v[g]},m.prototype.setApplied=function(p,g){var v,x=(v=this.__applyMap.get(p))!==null&&v!==void 0?v:{};x[g]=!0,this.__applyMap.set(p,x)},Object.defineProperty(m.prototype,"elementIsList",{get:function(){return!!(this.options.element&&["ul","ol"].includes(this.options.element))},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"element",{get:function(){return this.options.element||this.defaultTag},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"elementIsBlock",{get:function(){return!!(this.options.element&&u.IS_BLOCK.test(this.options.element))},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isElementCommit",{get:function(){return!!(this.options.element&&this.options.element!==this.options.defaultTag)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"defaultTag",{get:function(){return this.options.defaultTag?this.options.defaultTag:this.elementIsBlock?"p":"span"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"elementIsDefault",{get:function(){return this.element===this.defaultTag},enumerable:!1,configurable:!0}),m.prototype.apply=function(p){var g=this.options.hooks;try{g&&Object.keys(g).forEach(function(v){p.e.on((0,d.camelCase)(a._PREFIX+"_"+v),g[v])}),(0,h.ApplyStyle)(p,this)}finally{g&&Object.keys(g).forEach(function(v){p.e.off((0,d.camelCase)(a._PREFIX+"_"+v),g[v])}),this.__applyMap=new WeakMap}},m}();a.CommitStyle=f},33090:function(c,a,s){var u;Object.defineProperty(a,"__esModule",{value:!0}),a.transactions=a.states=void 0;var d=s(20255),h=s(2123),f=s(66162),m=s(64968),p=s(2123);s(52378),a.states={START:"START",ELEMENT:"ELEMENT",UNWRAP:"UNWRAP",UNWRAP_CHILDREN:"UNWRAP_CHILDREN",CHANGE:"CHANGE",REPLACE_DEFAULT:"REPLACE_DEFAULT",LIST:"LIST",TOGGLE_LIST:"TOGGLE_LIST",WRAP:"WRAP",EXTRACT:"EXTRACT",END:"END"},a.transactions=((u={})[a.states.START]={exec:function(g){var v=g.element,x=g.jodit,y=g.style,b=g.mode;if((0,f.isInsideInvisibleElement)(v,x.editor)||m.Dom.isEmptyContent(v))return d.__assign(d.__assign({},g),{next:a.states.END});var w=(0,f.getSuitParent)(y,v,x.editor)||(0,f.getSuitChild)(y,v);if(w)return d.__assign(d.__assign({},g),{next:a.states.ELEMENT,element:w});var _=(0,f.findSuitClosest)(y,v,x.editor);return y.elementIsList&&m.Dom.isTag(_,["ul","ol"])?d.__assign(d.__assign({},g),{next:a.states.LIST}):d.__assign(d.__assign({},g),_?{next:a.states.EXTRACT}:{next:b!==p.UNWRAP?a.states.UNWRAP_CHILDREN:a.states.END})}},u[a.states.LIST]={exec:function(g){var v=g.element,x=g.jodit,y=g.mode;if(y!==p.INITIAL&&y!==p.UNWRAP&&y!==h.REPLACE)return d.__assign(d.__assign({},g),{next:a.states.END});var b=m.Dom.closest(v,"li",x.editor);if(!b)return d.__assign(d.__assign({},g),{next:a.states.END});var w=m.Dom.closest(v,["ul","ol"],x.editor);return d.__assign(d.__assign({},g),w?{element:b,next:a.states.TOGGLE_LIST}:{next:a.states.END})}},u[a.states.TOGGLE_LIST]={exec:function(g){return d.__assign(d.__assign({},g),{mode:(0,f.toggleOrderedList)(g.style,g.element,g.jodit,g.mode),next:a.states.END})}},u[a.states.EXTRACT]={exec:function(g){var v=g.element,x=g.jodit,y=g.style,b=(0,f.findSuitClosest)(y,v,x.editor);return y.elementIsBlock||(0,f.extractSelectedPart)(b,v,x),d.__assign(d.__assign({},g),{element:b,next:a.states.ELEMENT})}},u[a.states.UNWRAP_CHILDREN]={exec:function(g){return(0,f.unwrapChildren)(g.style,g.element)?d.__assign(d.__assign({},g),{mode:p.UNWRAP,next:a.states.END}):d.__assign(d.__assign({},g),{next:a.states.WRAP})}},u[a.states.WRAP]={exec:function(g){var v=g.style,x=(0,f.wrap)(v,g.element,g.jodit);return d.__assign(d.__assign({},g),{next:v.elementIsList?a.states.END:a.states.CHANGE,mode:p.WRAP,element:x})}},u[a.states.ELEMENT]={exec:function(g){var v=g.style,x=g.element;return(0,f.toggleAttributes)(v,x,g.jodit,p.INITIAL,!0)!==p.INITIAL?d.__assign(d.__assign({},g),{next:a.states.CHANGE}):m.Dom.isTag(x,v.element)?d.__assign(d.__assign({},g),{next:a.states.UNWRAP}):d.__assign(d.__assign({},g),{next:a.states.END})}},u[a.states.CHANGE]={exec:function(g){var v=g.style,x=g.element,y=g.mode,b=(0,f.toggleAttributes)(v,x,g.jodit,g.mode);return y!==p.WRAP&&b===p.UNSET&&!x.attributes.length&&m.Dom.isTag(x,v.element)?d.__assign(d.__assign({},g),{next:a.states.UNWRAP}):d.__assign(d.__assign({},g),{mode:b,next:a.states.END})}},u[a.states.UNWRAP]={exec:function(g){return g.element.attributes.length&&m.Dom.isTag(g.element,g.style.element)?d.__assign(d.__assign({},g),{next:a.states.REPLACE_DEFAULT}):(m.Dom.unwrap(g.element),d.__assign(d.__assign({},g),{mode:p.UNWRAP,next:a.states.END}))}},u[a.states.REPLACE_DEFAULT]={exec:function(g){return m.Dom.replace(g.element,g.style.defaultTag,g.jodit.createInside,!0),d.__assign(d.__assign({},g),{mode:h.REPLACE,next:a.states.END})}},u[a.states.END]={exec:function(g){return g}},u)},75764:function(c,a){var s;Object.defineProperty(a,"__esModule",{value:!0}),a.LocalStorageProvider=a.canUsePersistentStorage=void 0,a.canUsePersistentStorage=function(){return s===void 0&&(s=function(){var d="___Jodit___"+Math.random().toString();try{localStorage.setItem(d,"1");var h=localStorage.getItem(d)==="1";return localStorage.removeItem(d),h}catch{}return!1}()),s};var u=function(){function d(h){this.rootKey=h}return d.prototype.set=function(h,f){try{var m=localStorage.getItem(this.rootKey),p=m?JSON.parse(m):{};p[h]=f,localStorage.setItem(this.rootKey,JSON.stringify(p))}catch{}return this},d.prototype.delete=function(h){try{localStorage.removeItem(this.rootKey)}catch{}return this},d.prototype.get=function(h){try{var f=localStorage.getItem(this.rootKey),m=f?JSON.parse(f):{};return m[h]!==void 0?m[h]:null}catch{}},d.prototype.exists=function(h){return this.get(h)!=null},d.prototype.clear=function(){try{localStorage.removeItem(this.rootKey)}catch{}return this},d}();a.LocalStorageProvider=u},79905:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.MemoryStorageProvider=void 0;var s=function(){function u(){this.data=new Map}return u.prototype.set=function(d,h){return this.data.set(d,h),this},u.prototype.delete=function(d){return this.data.delete(d),this},u.prototype.get=function(d){return this.data.get(d)},u.prototype.exists=function(d){return this.data.has(d)},u.prototype.clear=function(){return this.data.clear(),this},u}();a.MemoryStorageProvider=s},77462:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(79905),a),u.__exportStar(s(75764),a),u.__exportStar(s(52015),a)},52015:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Storage=a.StorageKey=void 0;var u=s(40332),d=s(75764),h=s(79905);a.StorageKey="Jodit_";var f=function(){function m(p,g){this.provider=p,this.prefix=a.StorageKey,g&&(this.prefix+=g)}return m.prototype.set=function(p,g){return this.provider.set((0,u.camelCase)(this.prefix+p),g),this},m.prototype.delete=function(p){return this.provider.delete((0,u.camelCase)(this.prefix+p)),this},m.prototype.get=function(p){return this.provider.get((0,u.camelCase)(this.prefix+p))},m.prototype.exists=function(p){return this.provider.exists((0,u.camelCase)(this.prefix+p))},m.prototype.clear=function(){return this.provider.clear(),this},m.makeStorage=function(p,g){var v;return p===void 0&&(p=!1),p&&(0,d.canUsePersistentStorage)()&&(v=new d.LocalStorageProvider(a.StorageKey+g)),v||(v=new h.MemoryStorageProvider),new m(v,g)},m}();a.Storage=f},59363:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Dlgs=void 0;var u=s(20255),d=s(87837),h=s(40332),f=function(){function m(){}return m.prototype.dlg=function(p){var g=new d.Dialog(u.__assign({language:this.o.language,shadowRoot:this.o.shadowRoot,ownerWindow:this.o.ownerWindow,defaultTimeout:this.o.defaultTimeout,theme:this.o.theme,globalFullSize:this.o.globalFullSize},p));return(0,h.markOwner)(this,g.container),g.parent=this,g.bindDestruct(this)},m.prototype.confirm=function(p,g,v){return(0,h.isString)(g)&&(g=this.i18n(g)),d.Confirm.call(this.dlg(),this.i18n(p),g,v)},m.prototype.prompt=function(p,g,v,x,y){return(0,h.isString)(g)&&(g=this.i18n(g)),(0,h.isString)(x)&&(x=this.i18n(x)),d.Prompt.call(this.dlg(),this.i18n(p),g,v,x,y)},m.prototype.alert=function(p,g,v,x){return(0,h.isString)(p)&&(p=this.i18n(p)),(0,h.isString)(g)&&(g=this.i18n(g)),d.Alert.call(this.dlg(),p,g,v,x)},m}();a.Dlgs=f},14089:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Elms=void 0;var u=s(1853),d=function(){function h(){}return h.prototype.getElm=function(f){return this.container.querySelector(".".concat(this.getFullElName(f)))},h.prototype.getElms=function(f){return(0,u.toArray)(this.container.querySelectorAll(".".concat(this.getFullElName(f))))},h}();a.Elms=d},59829:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(14089),a),u.__exportStar(s(41681),a),u.__exportStar(s(59363),a)},41681:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Mods=void 0;var u=s(1853),d=s(24021),h=function(){function f(){}return f.prototype.afterSetMod=function(m,p){},f.prototype.setMod=function(m,p,g){if(m=m.toLowerCase(),this.mods[m]===p)return this;var v="".concat(this.componentName,"_").concat(m),x=(g||this.container).classList;return(0,u.toArray)(x).forEach(function(y){y.indexOf(v)===0&&x.remove(y)}),!(0,d.isVoid)(p)&&p!==""&&x.add("".concat(v,"_").concat(p.toString().toLowerCase())),this.mods[m]=p,this.afterSetMod(m,p),this},f.prototype.getMod=function(m){var p;return(p=this.mods[m])!==null&&p!==void 0?p:null},f}();a.Mods=h},96031:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Button=a.UIButton=a.UIButtonState=void 0;var u=s(20255);s(93330);var d=s(53929),h=s(24263),f=s(76502),m=s(24421),p=s(42096),g=s(77904),v=s(47970),x=s(43441),y=s(29411);a.UIButtonState=function(){return{size:"middle",type:"button",name:"",value:"",variant:"initial",disabled:!1,activated:!1,icon:{name:"empty",fill:"",iconURL:""},tooltip:"",text:"",tabIndex:void 0}};var b=function(w){function _(S,E){var C=w.call(this,S)||this;return C.isButton=!0,C.state=(0,a.UIButtonState)(),C.actionHandlers=[],C.updateSize(),C.onChangeSize(),C.onChangeStatus(),E&&C.hookStatus(y.STATUSES.ready,function(){C.setState(E)}),C}return u.__extends(_,w),_.prototype.className=function(){return"UIButton"},_.prototype.setState=function(S){return Object.assign(this.state,S),this},_.prototype.onChangeSize=function(){this.setMod("size",this.state.size)},_.prototype.onChangeType=function(){(0,f.attr)(this.container,"type",this.state.type)},_.prototype.updateSize=function(){var S=this.closest(v.UIList);S&&(this.state.size=S.buttonSize)},_.prototype.onChangeStatus=function(){this.setMod("variant",this.state.variant)},_.prototype.onChangeText=function(){this.text.textContent=this.jodit.i18n(this.state.text)},_.prototype.onChangeTextSetMode=function(){this.setMod("text-icons",!!this.state.text.trim().length)},_.prototype.onChangeDisabled=function(){(0,f.attr)(this.container,"disabled",this.state.disabled||null)},_.prototype.onChangeActivated=function(){(0,f.attr)(this.container,"aria-pressed",this.state.activated)},_.prototype.onChangeName=function(){this.container.classList.add("".concat(this.componentName,"_").concat(this.clearName(this.state.name))),this.name=this.state.name,(0,f.attr)(this.container,"data-ref",this.state.name),(0,f.attr)(this.container,"ref",this.state.name)},_.prototype.onChangeTooltip=function(){this.get("j.o.useNativeTooltip")&&(0,f.attr)(this.container,"title",this.state.tooltip),(0,f.attr)(this.container,"aria-label",this.state.tooltip)},_.prototype.onChangeTabIndex=function(){(0,f.attr)(this.container,"tabindex",this.state.tabIndex)},_.prototype.onChangeIcon=function(){var S=this.get("j.o.textIcons");if(!(S===!0||(0,p.isFunction)(S)&&S(this.state.name))){h.Dom.detach(this.icon);var E=g.Icon.makeIcon(this.j,this.state.icon);E&&this.icon.appendChild(E)}},_.prototype.focus=function(){this.container.focus()},_.prototype.isFocused=function(){var S=this.od.activeElement;return!!(S&&h.Dom.isOrContains(this.container,S))},_.prototype.createContainer=function(){var S=this.componentName,E=this.j.c.element("button",{class:S,type:"button",role:"button",ariaPressed:!1});return this.icon=this.j.c.span(S+"__icon"),this.text=this.j.c.span(S+"__text"),E.appendChild(this.icon),E.appendChild(this.text),this.j.e.on(E,"click",this.onActionFire),E},_.prototype.destruct=function(){return this.j.e.off(this.container),w.prototype.destruct.call(this)},_.prototype.onAction=function(S){return this.actionHandlers.push(S),this},_.prototype.onActionFire=function(S){var E=this;S.buffer={actionTrigger:this},this.actionHandlers.forEach(function(C){return C.call(E,S)})},u.__decorate([(0,x.watch)("state.size")],_.prototype,"onChangeSize",null),u.__decorate([(0,x.watch)("state.type")],_.prototype,"onChangeType",null),u.__decorate([(0,x.watch)("parentElement")],_.prototype,"updateSize",null),u.__decorate([(0,x.watch)("state.variant")],_.prototype,"onChangeStatus",null),u.__decorate([(0,x.watch)("state.text")],_.prototype,"onChangeText",null),u.__decorate([(0,x.watch)("state.text")],_.prototype,"onChangeTextSetMode",null),u.__decorate([(0,x.watch)("state.disabled")],_.prototype,"onChangeDisabled",null),u.__decorate([(0,x.watch)("state.activated")],_.prototype,"onChangeActivated",null),u.__decorate([(0,x.watch)("state.name")],_.prototype,"onChangeName",null),u.__decorate([(0,x.watch)("state.tooltip")],_.prototype,"onChangeTooltip",null),u.__decorate([(0,x.watch)("state.tabIndex")],_.prototype,"onChangeTabIndex",null),u.__decorate([(0,x.watch)("state.icon")],_.prototype,"onChangeIcon",null),u.__decorate([x.autobind],_.prototype,"onActionFire",null),u.__decorate([x.component],_)}(d.UIElement);a.UIButton=b,a.Button=function(w,_,S,E){var C=new b(w);return C.state.tabIndex=w.o.allowTabNavigation?0:-1,(0,m.isString)(_)?(C.state.icon.name=_,C.state.name=_,E&&(C.state.variant=E),S&&(C.state.text=S)):C.setState(_),C}},67252:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIButtonGroup=void 0;var u=s(20255);s(45066);var d=s(61479),h=s(11441),f=s(96031),m=(s(52378),function(p){function g(v,x){x===void 0&&(x={radio:!0});var y,b,w=this;return(w=p.call(this,v,(y=x.options)===null||y===void 0?void 0:y.map(function(_){var S=new f.UIButton(v,{text:_.text,value:_.value,variant:"primary"});return S.onAction(function(){w.select(_.value)}),S}),x)||this).options=x,w.select((b=x.value)!==null&&b!==void 0?b:0),w}return u.__extends(g,p),g.prototype.className=function(){return"UIButtonGroup"},g.prototype.render=function(v){return`<div>
			<div class="&__label">~`.concat(v.label,`~</div>
			<div class="&__options"></div>
		</div>`)},g.prototype.appendChildToContainer=function(v){this.getElm("options").appendChild(v)},g.prototype.select=function(v){var x,y,b=this;this.elements.forEach(function(_,S){S===v||_.state.value===v?_.state.activated=!0:b.options.radio&&(_.state.activated=!1)});var w=this.elements.filter(function(_){return _.state.activated}).map(function(_){return{text:_.state.text,value:_.state.value}});this.jodit.e.fire(this,"select",w),(y=(x=this.options).onChange)===null||y===void 0||y.call(x,w)},u.__decorate([h.component],g)}(d.UIGroup));a.UIButtonGroup=m},96516:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(96031),a),u.__exportStar(s(67252),a),u.__exportStar(s(33627),a)},33627:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UITooltip=void 0;var u=s(20255);s(99895);var d=s(40332),h=s(17332),f=s(43441),m=function(p){function g(v){var x=p.call(this,v)||this;x.__isOpened=!1,x.__useCount=1,x.__delayShowTimeout=0,(0,h.getContainer)(v,g).appendChild(x.container);var y=0;return v.e.off(".tooltip").on("showTooltip.tooltip",function(b,w){v.async.clearTimeout(y),x.__open(b,w)}).on("delayShowTooltip.tooltip",x.__delayOpen).on("escape.tooltip",x.__close).on("hideTooltip.tooltip change.tooltip scroll.tooltip changePlace.tooltip hidePopup.tooltip closeAllPopups.tooltip",function(){x.j.async.clearTimeout(x.__delayShowTimeout),y=v.async.setTimeout(x.__close,x.j.defaultTimeout)}),x}return u.__extends(g,p),g.prototype.className=function(){return"UITooltip"},g.make=function(v){var x=(0,d.dataBind)(v,"ui-tooltip");return x?(x.__useCount+=1,x):(x=new g(v),(0,d.dataBind)(v,"ui-tooltip",x),x)},g.prototype.__delayOpen=function(v,x){var y=this,b=this.j.o.showTooltipDelay||this.j.defaultTimeout;this.j.async.clearTimeout(this.__delayShowTimeout),this.__delayShowTimeout=this.j.async.setTimeout(function(){return y.__open(v,x)},{timeout:b,label:"tooltip"})},g.prototype.__open=function(v,x){this.setMod("visible",!0),this.container.innerHTML=x,this.__isOpened=!0,this.__setPosition(v)},g.prototype.__setPosition=function(v){var x=v();(0,d.css)(this.container,{left:x.x,top:x.y})},g.prototype.__close=function(){this.j.async.clearTimeout(this.__delayShowTimeout),this.__isOpened&&(this.__isOpened=!1,this.setMod("visible",!1),(0,d.css)(this.container,{left:-5e3}))},g.prototype.destruct=function(){var v;this.__useCount--,this.__useCount||((v=this.j)===null||v===void 0||v.e.off(".tooltip"),this.__close(),p.prototype.destruct.call(this))},u.__decorate([f.autobind],g.prototype,"__delayOpen",null),u.__decorate([f.autobind],g.prototype,"__close",null),g}(s(53929).UIElement);a.UITooltip=m},53929:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIElement=void 0;var u=s(20255),d=s(56562),h=s(24263),f=s(59829),m=s(24421),p=s(77904),g=s(43441),v=function(x){function y(w,_){var S=x.call(this,w)||this;return S.name="",S.__parentElement=null,S.mods={},S.container=S.createContainer(_),Object.defineProperty(S.container,"component",{value:S,configurable:!0}),S}var b;return u.__extends(y,x),b=y,Object.defineProperty(y.prototype,"parentElement",{get:function(){return this.__parentElement},set:function(w){var _=this;this.__parentElement=w,w&&w.hookStatus("beforeDestruct",function(){return _.destruct()}),this.updateParentElement(this)},enumerable:!1,configurable:!0}),y.prototype.bubble=function(w){for(var _=this.parentElement;_;)w(_),_=_.parentElement;return this},y.prototype.updateParentElement=function(w){var _;return(_=this.__parentElement)===null||_===void 0||_.updateParentElement(w),this},y.prototype.get=function(w,_){return x.prototype.get.call(this,w,_)||this.getElm(w)},y.prototype.closest=function(w){for(var _=typeof w=="object"?function(E){return E===w}:function(E){return d.Component.isInstanceOf(E,w)},S=this.__parentElement;S;){if(_(S))return S;S=!S.parentElement&&S.container.parentElement?b.closestElement(S.container.parentElement,b):S.parentElement}return null},y.closestElement=function(w,_){var S=h.Dom.up(w,function(E){if(E){var C=E.component;return C&&d.Component.isInstanceOf(C,_)}return!1});return S?S==null?void 0:S.component:null},y.prototype.update=function(){},y.prototype.appendTo=function(w){return w.appendChild(this.container),this},y.prototype.clearName=function(w){return w.replace(/[^a-zA-Z0-9]/g,"_")},y.prototype.render=function(w){return this.j.c.div(this.componentName)},y.prototype.createContainer=function(w){var _=this.render(w);if((0,m.isString)(_)){var S=this.parseTemplate(_);return S.classList.add(this.componentName),S}return _},y.prototype.parseTemplate=function(w){var _=this;return this.j.c.fromHTML(w.replace(/\*([^*]+?)\*/g,function(S,E){return p.Icon.get(E)||""}).replace(/&__/g,this.componentName+"__").replace(/~([^~]+?)~/g,function(S,E){return _.i18n(E)}))},y.prototype.destruct=function(){return h.Dom.safeRemove(this.container),this.parentElement=null,x.prototype.destruct.call(this)},b=u.__decorate([(0,g.derive)(f.Mods,f.Elms)],y)}(d.ViewComponent);a.UIElement=v},38318:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIBlock=void 0;var u=s(20255);s(87682);var d=s(61479),h=s(76502),f=s(11441),m=function(p){function g(v,x,y){y===void 0&&(y={align:"left"});var b=p.call(this,v,x)||this;return b.options=y,b.setMod("align",b.options.align||"left"),b.setMod("width",b.options.width||""),b.options.mod&&b.setMod(b.options.mod,!0),b.options.className&&b.container.classList.add(b.options.className),(0,h.attr)(b.container,"data-ref",y.ref),(0,h.attr)(b.container,"ref",y.ref),b}return u.__extends(g,p),g.prototype.className=function(){return"UIBlock"},u.__decorate([f.component],g)}(d.UIGroup);a.UIBlock=m},26207:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIForm=void 0;var u=s(20255),d=s(61479),h=s(30194),f=s(75840),m=s(76502),p=s(11441),g=s(45113),v=function(x){function y(){for(var b=[],w=0;arguments.length>w;w++)b[w]=arguments[w];var _,S,E=this;return!((_=(E=x.apply(this,u.__spreadArray([],u.__read(b),!1))||this).options)===null||_===void 0)&&_.className&&E.container.classList.add((S=E.options)===null||S===void 0?void 0:S.className),E}return u.__extends(y,x),y.prototype.className=function(){return"UIForm"},y.prototype.submit=function(){this.j.e.fire(this.container,"submit")},y.prototype.validate=function(){var b,w,_,S,E=this.allChildren.filter(function(M){return g.Component.isInstanceOf(M,h.UIInput)});try{for(var C=u.__values(E),A=C.next();!A.done;A=C.next())if(!A.value.validate())return!1}catch(M){b={error:M}}finally{try{A&&!A.done&&(w=C.return)&&w.call(C)}finally{if(b)throw b.error}}var T=this.allChildren.filter(function(M){return g.Component.isInstanceOf(M,f.UISelect)});try{for(var k=u.__values(T),D=k.next();!D.done;D=k.next())if(!D.value.validate())return!1}catch(M){_={error:M}}finally{try{D&&!D.done&&(S=k.return)&&S.call(k)}finally{if(_)throw _.error}}return!0},y.prototype.onSubmit=function(b){var w=this;this.j.e.on(this.container,"submit",function(){var _=w.allChildren.filter(function(S){return g.Component.isInstanceOf(S,h.UIInput)});return!!w.validate()&&(b(_.reduce(function(S,E){return S[E.state.name]=E.value,S},{})),!1)})},y.prototype.createContainer=function(){var b=this.j.c.element("form");return b.classList.add(this.componentName),(0,m.attr)(b,"dir",this.j.o.direction||"auto"),b},u.__decorate([p.component],y)}(d.UIGroup);a.UIForm=v},95963:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(26207),a),u.__exportStar(s(63034),a),u.__exportStar(s(38318),a)},21639:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UITextArea=void 0;var u=s(20255);s(50905);var d=s(30194),h=s(11441),f=function(m){function p(v,x){var y=m.call(this,v,x)||this;return y.state=u.__assign({},g.defaultState),Object.assign(y.state,x),y.state.resizable===!1&&(y.nativeInput.style.resize="none"),y}var g;return u.__extends(p,m),g=p,p.prototype.className=function(){return"UITextArea"},p.prototype.createContainer=function(v){return this.nativeInput=this.j.create.element("textarea"),m.prototype.createContainer.call(this,v)},p.defaultState=u.__assign(u.__assign({},d.UIInput.defaultState),{size:5,resizable:!0}),g=u.__decorate([h.component],p)}(d.UIInput);a.UITextArea=f},63747:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UICheckbox=void 0;var u=s(20255);s(70446);var d=s(30194),h=s(43441),f=s(24263),m=function(p){function g(x,y){var b=p.call(this,x,u.__assign(u.__assign({},y),{type:"checkbox"}))||this;return b.state=u.__assign({},v.defaultState),Object.assign(b.state,y),b}var v;return u.__extends(g,p),v=g,g.prototype.className=function(){return"UICheckbox"},g.prototype.render=function(){return this.j.c.element("label",{className:this.componentName})},g.prototype.onChangeChecked=function(){this.value=this.state.checked.toString(),this.nativeInput.checked=this.state.checked,this.setMod("checked",this.state.checked)},g.prototype.onChangeNativeCheckBox=function(){this.state.checked=this.nativeInput.checked},g.prototype.onChangeSwitch=function(){this.setMod("switch",this.state.switch);var x=this.getElm("switch-slider");this.state.switch?(x||(x=this.j.c.div(this.getFullElName("switch-slider"))),f.Dom.after(this.nativeInput,x)):f.Dom.safeRemove(x)},g.defaultState=u.__assign(u.__assign({},d.UIInput.defaultState),{checked:!1,switch:!1}),u.__decorate([(0,h.watch)("state.checked"),(0,h.hook)("ready")],g.prototype,"onChangeChecked",null),u.__decorate([(0,h.watch)("nativeInput:change")],g.prototype,"onChangeNativeCheckBox",null),u.__decorate([(0,h.watch)("state.switch"),(0,h.hook)("ready")],g.prototype,"onChangeSwitch",null),v=u.__decorate([h.component],g)}(d.UIInput);a.UICheckbox=m},41374:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIFileInput=void 0;var u=s(20255);s(18984);var d=s(30194),h=s(11441),f=s(96031),m=function(p){function g(v,x){var y=p.call(this,v,u.__assign({type:"file"},x))||this;return y.state=u.__assign(u.__assign({},d.UIInput.defaultState),{type:"file",onlyImages:!0}),y}return u.__extends(g,p),g.prototype.className=function(){return"UIFileInput"},g.prototype.createContainer=function(v){this.button=new f.UIButton(this.j,{icon:{name:"plus"}});var x=this.button.container;this.nativeInput||(this.nativeInput=this.createNativeInput(v));var y=this.nativeInput;return y.classList.add(this.getFullElName("input")),x.classList.add(this.componentName),x.appendChild(y),x},g.prototype.createNativeInput=function(v){return this.j.create.fromHTML(`<input
			type="file"
			accept="`.concat(v.onlyImages?"image/*":"*",`"
			tabindex="-1"
			dir="auto"
			multiple=""
		/>`))},u.__decorate([h.component],g)}(d.UIInput);a.UIFileInput=m},63034:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(30194),a),u.__exportStar(s(21639),a),u.__exportStar(s(63747),a),u.__exportStar(s(75840),a),u.__exportStar(s(41374),a)},30194:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIInput=void 0;var u=s(20255);s(4591);var d=s(53929),h=s(76502),f=s(1853),m=s(24263),p=s(43441),g=s(77904),v=s(60081),x=function(y){function b(_,S){var E=y.call(this,_,S)||this;return E.label=E.j.c.span(E.getFullElName("label")),E.icon=E.j.c.span(E.getFullElName("icon")),E.clearButton=E.j.c.span(E.getFullElName("clear"),g.Icon.get("cancel")),E.state=u.__assign({},w.defaultState),E.__errorBox=E.j.c.span(E.getFullElName("error")),E.validators=new Set([]),(S==null?void 0:S.value)!==void 0&&(S.value=S.value.toString()),Object.assign(E.state,S),E.state.clearButton!==void 0&&(E.j.e.on(E.clearButton,"click",function(C){C.preventDefault(),E.nativeInput.value="",E.j.e.fire(E.nativeInput,"input"),E.focus()}).on(E.nativeInput,"input",function(){E.state.clearButton=!!E.value.length}),E.state.clearButton=!!E.value.length),E.j.e.on(E.nativeInput,"focus blur",function(){E.onChangeFocus()}).on(E.nativeInput,"input change",E.onChangeValue),E.onChangeState(),E.onChangeClassName(),E.onChangeStateValue(),E}var w;return u.__extends(b,y),w=b,b.prototype.className=function(){return"UIInput"},b.prototype.onChangeClear=function(){this.state.clearButton?m.Dom.after(this.nativeInput,this.clearButton):m.Dom.safeRemove(this.clearButton)},b.prototype.onChangeClassName=function(_,S){S&&this.container.classList.remove(S),this.state.className&&this.container.classList.add(this.state.className)},b.prototype.onChangeState=function(){this.name=this.state.name;var _=this.nativeInput,S=this.state,E=S.name,C=S.icon,A=S.type,T=S.ref,k=S.required,D=S.placeholder,M=S.autocomplete,P=S.label;(0,h.attr)(_,"name",E),(0,h.attr)(_,"type",A),(0,h.attr)(_,"data-ref",T||E),(0,h.attr)(_,"ref",T||E),(0,h.attr)(_,"required",k||null),(0,h.attr)(_,"autocomplete",M?null:"off"),(0,h.attr)(_,"placeholder",D?this.j.i18n(D):""),C&&g.Icon.exists(C)?(m.Dom.before(_,this.icon),this.icon.innerHTML=g.Icon.get(C)):m.Dom.safeRemove(this.icon),P?(m.Dom.before(this.wrapper,this.label),this.label.innerText=this.j.i18n(P)):m.Dom.safeRemove(this.label),this.updateValidators()},b.prototype.updateValidators=function(){var _,S=this;this.validators.clear(),this.state.required&&this.validators.add(v.inputValidators.required),(_=this.state.validators)===null||_===void 0||_.forEach(function(E){var C=v.inputValidators[E];C&&S.validators.add(C)})},Object.defineProperty(b.prototype,"error",{set:function(_){this.setMod("has-error",!!_),_?(this.__errorBox.innerText=this.j.i18n(_,this.j.i18n(this.state.label||"")),this.container.appendChild(this.__errorBox)):m.Dom.safeRemove(this.__errorBox)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"value",{get:function(){return this.nativeInput.value},set:function(_){this.value!==_&&(this.nativeInput.value=_,this.onChangeValue())},enumerable:!1,configurable:!0}),b.prototype.onChangeStateValue=function(){var _=this.state.value.toString();_!==this.value&&(this.value=_)},b.prototype.onChangeValue=function(){var _,S,E=this.value;this.state.value!==E&&(this.state.value=E,this.j.e.fire(this,"change",E),(S=(_=this.state).onChange)===null||S===void 0||S.call(_,E))},b.prototype.validate=function(){var _=this;return this.error="",(0,f.toArray)(this.validators).every(function(S){return S(_)})},b.prototype.createContainer=function(_){var S=y.prototype.createContainer.call(this);this.wrapper=this.j.c.div(this.getFullElName("wrapper")),this.nativeInput||(this.nativeInput=this.createNativeInput());var E=this.nativeInput;return E.classList.add(this.getFullElName("input")),this.wrapper.appendChild(E),S.appendChild(this.wrapper),(0,h.attr)(E,"dir",this.j.o.direction||"auto"),S},b.prototype.createNativeInput=function(_){return this.j.create.element("input")},b.prototype.focus=function(){this.nativeInput.focus()},Object.defineProperty(b.prototype,"isFocused",{get:function(){return this.nativeInput===this.j.od.activeElement},enumerable:!1,configurable:!0}),b.prototype.onChangeFocus=function(){this.setMod("focused",this.isFocused)},b.defaultState={className:"",autocomplete:!0,name:"",value:"",icon:"",label:"",ref:"",type:"text",placeholder:"",required:!1,validators:[]},u.__decorate([(0,p.watch)("state.clearButton")],b.prototype,"onChangeClear",null),u.__decorate([(0,p.watch)("state.className")],b.prototype,"onChangeClassName",null),u.__decorate([(0,p.watch)(["state.name","state.type","state.label","state.placeholder","state.autocomplete","state.icon"]),(0,p.debounce)()],b.prototype,"onChangeState",null),u.__decorate([(0,p.watch)("state.value")],b.prototype,"onChangeStateValue",null),u.__decorate([p.autobind],b.prototype,"onChangeValue",null),w=u.__decorate([p.component],b)}(d.UIElement);a.UIInput=x},75840:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UISelect=void 0;var u=s(20255);s(64194);var d=s(67309),h=s(11441),f=s(30194),m=s(60081),p=function(g){function v(y,b){var w=g.call(this,y,b)||this;return w.state=u.__assign({},x.defaultState),Object.assign(w.state,b),w}var x;return u.__extends(v,g),x=v,v.prototype.className=function(){return"UISelect"},v.prototype.createContainer=function(y){var b,w=g.prototype.createContainer.call(this,y),_=this.j,S=this.nativeInput,E=function(){return _.create.element("option")};if(y.placeholder!==void 0){var C=E();C.value="",C.text=_.i18n(y.placeholder),S.add(C)}return(b=y.options)===null||b===void 0||b.forEach(function(A){var T=E();T.value=A.value.toString(),T.text=_.i18n(A.text),S.add(T)}),y.size&&y.size>0&&(0,d.attr)(S,"size",y.size),y.multiple&&(0,d.attr)(S,"multiple",""),w},v.prototype.createNativeInput=function(){return this.j.create.element("select")},v.prototype.updateValidators=function(){g.prototype.updateValidators.call(this),this.state.required&&(this.validators.delete(m.inputValidators.required),this.validators.add(m.selectValidators.required))},v.defaultState=u.__assign(u.__assign({},f.UIInput.defaultState),{options:[],size:1,multiple:!1}),x=u.__decorate([h.component],v)}(f.UIInput);a.UISelect=p},60081:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.selectValidators=a.inputValidators=void 0,a.inputValidators=s(63355),a.selectValidators=s(65935)},63355:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.url=a.required=void 0;var u=s(64350),d=s(33941);a.required=function(h){return!!(0,d.trim)(h.value).length||(h.error="Please fill out this field",!1)},a.url=function(h){return!!(0,u.isURL)((0,d.trim)(h.value))||(h.error="Please enter a web address",!1)}},65935:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.required=void 0;var u=s(33941);a.required=function(d){return!!(0,u.trim)(d.value).length||(d.error="Please fill out this field",!1)}},61479:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIGroup=void 0;var u=s(20255);s(70375);var d=s(53929),h=s(43441),f=s(40332),m=(s(52378),s(24263)),p=s(45113),g=function(v){function x(b,w,_){var S=v.call(this,b,_)||this;return S.options=_,S.syncMod=!1,S.elements=[],S.buttonSize="middle",w==null||w.forEach(function(E){return E&&S.append(E)}),_!=null&&_.name&&(S.name=_.name),S}var y;return u.__extends(x,v),y=x,x.prototype.className=function(){return"UIGroup"},Object.defineProperty(x.prototype,"allChildren",{get:function(){for(var b=[],w=u.__spreadArray([],u.__read(this.elements),!1);w.length;){var _=w.shift();(0,f.isArray)(_)?w.push.apply(w,u.__spreadArray([],u.__read(_),!1)):p.Component.isInstanceOf(_,y)?w.push.apply(w,u.__spreadArray([],u.__read(_.elements),!1)):_&&b.push(_)}return b},enumerable:!1,configurable:!0}),x.prototype.update=function(){this.elements.forEach(function(b){return b.update()}),this.setMod("size",this.buttonSize)},x.prototype.append=function(b,w){var _=this;return(0,f.isArray)(b)?(b.forEach(function(S){return _.append(S,w)}),this):(this.elements.push(b),b.name&&b.container.classList.add(this.getFullElName(b.name)),w?this.getElm(w).appendChild(b.container):this.appendChildToContainer(b.container),b.parentElement=this,b.update(),this)},x.prototype.afterSetMod=function(b,w){this.syncMod&&this.elements.forEach(function(_){return _.setMod(b,w)})},x.prototype.appendChildToContainer=function(b){this.container.appendChild(b)},x.prototype.remove=function(b){var w=this.elements.indexOf(b);return w!==-1&&(this.elements.splice(w,1),m.Dom.safeRemove(b.container),b.parentElement=null),this},x.prototype.clear=function(){return this.elements.forEach(function(b){return b.destruct()}),this.elements.length=0,this},x.prototype.destruct=function(){return this.clear(),v.prototype.destruct.call(this)},u.__decorate([(0,h.watch)("buttonSize")],x.prototype,"update",null),y=u.__decorate([h.component],x)}(d.UIElement);a.UIGroup=g},3249:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(61479),a),u.__exportStar(s(47970),a),u.__exportStar(s(75018),a),u.__exportStar(s(58495),a)},47970:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIList=void 0;var u=s(20255);s(90235);var d=s(32070),h=s(43441),f=s(61479),m=s(75018),p=s(58495),g=s(96031),v=s(97642),x=s(38546),y=s(14556),b=s(45113),w=function(_){function S(E){var C=_.call(this,E)||this;return C.mode="horizontal",C.removeButtons=[],C.onChangeMode(),C}return u.__extends(S,_),S.prototype.className=function(){return"UIList"},S.prototype.onChangeMode=function(){this.setMod("mode",this.mode)},S.prototype.makeGroup=function(){return new f.UIGroup(this.jodit)},Object.defineProperty(S.prototype,"buttons",{get:function(){return this.allChildren.filter(function(E){return b.Component.isInstanceOf(E,g.UIButton)})},enumerable:!1,configurable:!0}),S.prototype.getButtonsNames=function(){return this.buttons.map(function(E){return E instanceof g.UIButton&&E.state.name||""}).filter(function(E){return E!==""})},S.prototype.setRemoveButtons=function(E){return this.removeButtons=E||[],this},S.prototype.build=function(E,C){var A=this;C===void 0&&(C=null),E=(0,y.splitArray)(E),this.clear();var T,k=!1,D=this.makeGroup();this.append(D),D.setMod("line",!0);var M=function(j){var O=null;switch(j.name){case`
`:(D=A.makeGroup()).setMod("line",!0),T=A.makeGroup(),D.append(T),A.append(D);break;case"|":k||(k=!0,O=new m.UISeparator(A.j));break;case"---":T.setMod("before-spacer",!0);var I=new p.UISpacer(A.j);D.append(I),T=A.makeGroup(),D.append(T),k=!1;break;default:k=!1,O=A.makeButton(j,C)}O&&(T||(T=A.makeGroup(),D.append(T)),T.append(O))},P=function(j){return!A.removeButtons.includes(j.name)};return E.forEach(function(j){if((0,v.isButtonGroup)(j)){var O=j.buttons.filter(function(N){return N});O.length&&((T=A.makeGroup()).setMod("separated",!0).setMod("group",j.group),D.append(T),(0,d.getStrongControlTypes)(O,A.j.o.controls).filter(P).forEach(M))}else{T||(T=A.makeGroup(),D.append(T));var I=(0,x.getControlType)(j,A.j.o.controls);P(I)&&M(I)}}),this.update(),this},S.prototype.makeButton=function(E,C){return new g.UIButton(this.j)},u.__decorate([(0,h.watch)("mode")],S.prototype,"onChangeMode",null),u.__decorate([h.component],S)}(f.UIGroup);a.UIList=w},75018:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UISeparator=void 0;var u=s(20255),d=s(53929),h=s(11441),f=function(m){function p(){return m!==null&&m.apply(this,arguments)||this}return u.__extends(p,m),p.prototype.className=function(){return"UISeparator"},u.__decorate([h.component],p)}(d.UIElement);a.UISeparator=f},58495:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UISpacer=void 0;var u=s(20255),d=s(53929),h=s(11441),f=function(m){function p(){return m!==null&&m.apply(this,arguments)||this}return u.__extends(p,m),p.prototype.className=function(){return"UISpacer"},u.__decorate([h.component],p)}(d.UIElement);a.UISpacer=f},97642:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.flatButtonsSet=a.isButtonGroup=void 0;var u=s(20255),d=s(49781);a.isButtonGroup=function(h){return(0,d.isArray)(h.buttons)},a.flatButtonsSet=function(h,f){var m=f.getRegisteredButtonGroups();return new Set(h.reduce(function(p,g){var v;return(0,a.isButtonGroup)(g)?p=p.concat(u.__spreadArray(u.__spreadArray([],u.__read(g.buttons),!1),u.__read((v=m[g.group])!==null&&v!==void 0?v:[]),!1)):p.push(g),p},[]))}},38546:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.findControlType=a.getControlType=void 0;var u=s(20255),d=s(40332),h=s(93166);function f(m,p){var g=u.__read(m.split(/\./),2),v=g[0],x=g[1],y=p;return x!=null?p[v]!==void 0&&(y=p[v]):x=v,y[x]?u.__assign({name:x},(0,d.ConfigFlatten)(y[x])):void 0}a.getControlType=function(m,p){var g;return p||(p=h.Config.defaultOptions.controls),(0,d.isString)(m)?g=f(m,p)||{name:m,command:m,tooltip:m}:p[(g=u.__assign({name:"empty"},(0,d.ConfigFlatten)(m))).name]!==void 0&&(g=u.__assign(u.__assign({},(0,d.ConfigFlatten)(p[g.name])),(0,d.ConfigFlatten)(g))),g},a.findControlType=f},32070:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getStrongControlTypes=void 0;var u=s(38546),d=s(93166),h=s(49781),f=s(76502);a.getStrongControlTypes=function(m,p){return((0,h.isArray)(m)?m:(0,f.keys)(m,!1).map(function(g){return(0,f.ConfigProto)({name:g},m[g]||{})})).map(function(g){return(0,u.getControlType)(g,p||d.Config.defaultOptions.controls)})}},77904:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Icon=void 0;var u=s(26911),d=s(40332),h=function(){function f(){}return f.getIcon=function(m){return/<svg/i.test(m)?m:f.icons[m]||f.icons[m.replace(/-/g,"_")]||f.icons[m.replace(/_/g,"-")]||f.icons[(0,d.camelCase)(m)]||f.icons[(0,d.kebabCase)(m)]||f.icons[m.toLowerCase()]},f.exists=function(m){return this.getIcon(m)!==void 0},f.get=function(m,p){return p===void 0&&(p="<span></span>"),this.getIcon(m)||p},f.set=function(m,p){return this.icons[m.replace("_","-")]=p,this},f.makeIcon=function(m,p){var g,v;if(p){var x=p.name.replace(/[^a-zA-Z0-9]/g,"_");if(p.iconURL)v=m.c.span(),(0,u.css)(v,"backgroundImage","url("+p.iconURL.replace("{basePath}",(m==null?void 0:m.basePath)||"")+")");else{var y=m.e.fire("getIcon",p.name,p,x)||f.get(p.name,"")||((g=m.o.extraIcons)===null||g===void 0?void 0:g[p.name]);y&&(v=m.c.fromHTML(y.trim()),/^<svg/i.test(p.name)||v.classList.add("jodit-icon_"+x))}}return v&&(v.classList.add("jodit-icon"),v.style.fill=p.fill),v},f.icons={},f}();a.Icon=h},2074:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(53929),a),u.__exportStar(s(96516),a),u.__exportStar(s(35799),a),u.__exportStar(s(3249),a),u.__exportStar(s(95963),a),u.__exportStar(s(77904),a),u.__exportStar(s(63682),a)},35799:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(12680),a)},12680:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Popup=void 0;var u=s(20255);s(88477);var d=s(24263),h=s(40332),f=(s(52378),s(53929)),m=s(43441),p=s(45113),g=s(17332),v=function(x){function y(b,w){w===void 0&&(w=!0);var _=x.call(this,b)||this;return _.smart=w,_.isOpened=!1,_.strategy="leftBottom",_.viewBound=function(){return{left:0,top:0,width:_.ow.innerWidth,height:_.ow.innerHeight}},_.childrenPopups=new Set,(0,h.attr)(_.container,"role","popup"),_}return u.__extends(y,x),y.prototype.className=function(){return"Popup"},y.prototype.updateParentElement=function(b){var w=this;return b!==this&&p.Component.isInstanceOf(b,y)&&(this.childrenPopups.forEach(function(_){!b.closest(_)&&_.isOpened&&_.close()}),this.childrenPopups.has(b)||this.j.e.on(b,"beforeClose",function(){w.childrenPopups.delete(b)}),this.childrenPopups.add(b)),x.prototype.updateParentElement.call(this,b)},y.prototype.setContent=function(b){d.Dom.detach(this.container);var w,_=this.j.c.div("".concat(this.componentName,"__content"));return p.Component.isInstanceOf(b,f.UIElement)?(w=b.container,b.parentElement=this):w=(0,h.isString)(b)?this.j.c.fromHTML(b):b,_.appendChild(w),this.container.appendChild(_),this.updatePosition(),this},y.prototype.open=function(b,w,_){if(w===void 0&&(w=!1),(0,h.markOwner)(this.jodit,this.container),this.calculateZIndex(),this.isOpened=!0,this.addGlobalListeners(),this.targetBound=w?this.getKeepBound(b):b,_)_.appendChild(this.container);else{var S=(0,g.getContainer)(this.jodit,y);_!==this.container.parentElement&&S.appendChild(this.container)}return this.updatePosition(),this.j.e.fire(this,"afterOpen"),this},y.prototype.calculateZIndex=function(){var b=this;if(!this.container.style.zIndex){var w=function(C){var A=C.container.style.zIndex||C.o.zIndex;return!!A&&(b.setZIndex(1+parseInt(A.toString(),10)),!0)},_=this.j;if(!w(_))for(var S=this.parentElement;S;){if(w(_))return;if(S.container.style.zIndex)return void this.setZIndex(1+parseInt(S.container.style.zIndex.toString(),10));if(!S.parentElement&&S.container.parentElement){var E=f.UIElement.closestElement(S.container.parentElement,f.UIElement);if(E){S=E;continue}}S=S.parentElement}}},y.prototype.getKeepBound=function(b){var w=this,_=b(),S=this.od.elementFromPoint(_.left,_.top);if(!S)return b;var E=d.Dom.isHTMLElement(S)?S:S.parentElement,C=(0,h.position)(E,this.j);return function(){var A=b(),T=(0,h.position)(E,w.j);return u.__assign(u.__assign({},A),{top:A.top+(T.top-C.top),left:A.left+(T.left-C.left)})}},y.prototype.updatePosition=function(){if(!this.isOpened)return this;var b=u.__read(this.calculatePosition(this.targetBound(),this.viewBound(),(0,h.position)(this.container,this.j)),2),w=b[0];return this.setMod("strategy",b[1]),(0,h.css)(this.container,{left:w.left,top:w.top}),this.childrenPopups.forEach(function(_){return _.updatePosition()}),this},y.prototype.throttleUpdatePosition=function(){this.updatePosition()},y.prototype.calculatePosition=function(b,w,_,S){S===void 0&&(S=this.strategy);var E={left:b.left,right:b.left-(_.width-b.width)},C={bottom:b.top+b.height,top:b.top-_.height},A=Object.keys(E).reduce(function(M,P){return M.concat(Object.keys(C).map(function(j){return"".concat(P).concat((0,h.ucfirst)(j))}))},[]),T=function(M){var P=u.__read((0,h.kebabCase)(M).split("-"),2);return{left:E[P[0]],top:C[P[1]],width:_.width,height:_.height}},k=function(M){return y.boxInView(T(S),M)?S:A.find(function(P){if(y.boxInView(T(P),M))return P})||null},D=k((0,h.position)(this.j.container,this.j));return D&&y.boxInView(T(D),w)||(D=k(w)||D||S),[T(D),D]},y.boxInView=function(b,w){return!(-2>b.top-w.top||-2>b.left-w.left||-2>w.top+w.height-(b.top+b.height)||-2>w.left+w.width-(b.left+b.width))},y.prototype.close=function(){return this.isOpened?(this.isOpened=!1,this.childrenPopups.forEach(function(b){return b.close()}),this.j.e.fire(this,"beforeClose"),this.j.e.fire("beforePopupClose",this),this.removeGlobalListeners(),d.Dom.safeRemove(this.container),this):this},y.prototype.closeOnOutsideClick=function(b){this.isOpened&&!this.isOwnClick(b)&&this.close()},y.prototype.isOwnClick=function(b){if(!b.target)return!1;var w=f.UIElement.closestElement(b.target,y);return!!(w&&(this===w||w.closest(this)))},y.prototype.addGlobalListeners=function(){var b=this,w=this.throttleUpdatePosition,_=this.ow;g.eventEmitter.on("closeAllPopups",this.close),this.smart&&this.j.e.on("escape",this.close).on("mousedown touchstart",this.closeOnOutsideClick).on(_,"mousedown touchstart",this.closeOnOutsideClick),this.j.e.on("closeAllPopups",this.close).on("resize",w).on(this.container,"scroll mousewheel",w).on(_,"scroll",w).on(_,"resize",w),d.Dom.up(this.j.container,function(S){S&&b.j.e.on(S,"scroll mousewheel",w)})},y.prototype.removeGlobalListeners=function(){var b=this,w=this.throttleUpdatePosition,_=this.ow;g.eventEmitter.off("closeAllPopups",this.close),this.smart&&this.j.e.off("escape",this.close).off("mousedown touchstart",this.closeOnOutsideClick).off(_,"mousedown touchstart",this.closeOnOutsideClick),this.j.e.off("closeAllPopups",this.close).off("resize",w).off(this.container,"scroll mousewheel",w).off(_,"scroll",w).off(_,"resize",w),d.Dom.up(this.j.container,function(S){S&&b.j.e.off(S,"scroll mousewheel",w)})},y.prototype.setZIndex=function(b){this.container.style.zIndex=b.toString()},y.prototype.destruct=function(){return this.close(),x.prototype.destruct.call(this)},u.__decorate([m.autobind],y.prototype,"updatePosition",null),u.__decorate([(0,m.throttle)(10),m.autobind],y.prototype,"throttleUpdatePosition",null),u.__decorate([m.autobind],y.prototype,"close",null),u.__decorate([m.autobind],y.prototype,"closeOnOutsideClick",null),y}(f.UIElement);a.Popup=v},63682:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ProgressBar=void 0;var u=s(20255);s(50197);var d=s(24263),h=function(f){function m(){return f!==null&&f.apply(this,arguments)||this}return u.__extends(m,f),m.prototype.className=function(){return"ProgressBar"},m.prototype.render=function(){return"<div><div></div></div>"},m.prototype.show=function(){return(this.j.workplace||this.j.container).appendChild(this.container),this},m.prototype.hide=function(){return d.Dom.safeRemove(this.container),this},m.prototype.progress=function(p){return this.container.style.width=p.toFixed(2)+"%",this},m.prototype.destruct=function(){return this.hide(),f.prototype.destruct.call(this)},m}(s(53929).UIElement);a.ProgressBar=h},43608:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ViewWithToolbar=void 0;var u=s(20255);s(39008);var d=s(75902),h=s(40332),f=s(64968),m=s(81438),p=s(56562),g=s(97642),v=s(43441),x=function(y){function b(w,_){_===void 0&&(_=!1);var S=y.call(this,w,_)||this;return S.toolbar=(0,m.makeCollection)(S),S.defaultToolbarContainer=S.c.div("jodit-toolbar__box"),S.registeredButtons=new Set,S.groupToButtons={},S.isJodit=!1,S.isJodit=_,S.e.on("beforeToolbarBuild",S.beforeToolbarBuild),S}return u.__extends(b,y),Object.defineProperty(b.prototype,"toolbarContainer",{get:function(){return this.o.fullsize||!(0,h.isString)(this.o.toolbar)&&!f.Dom.isHTMLElement(this.o.toolbar)?(this.o.toolbar&&f.Dom.appendChildFirst(this.container,this.defaultToolbarContainer),this.defaultToolbarContainer):(0,h.resolveElement)(this.o.toolbar,this.o.shadowRoot||this.od)},enumerable:!1,configurable:!0}),b.prototype.setPanel=function(w){this.o.toolbar=w,this.buildToolbar()},b.prototype.buildToolbar=function(){if(this.o.toolbar){var w=this.o.buttons?(0,h.splitArray)(this.o.buttons):[];this.toolbar.setRemoveButtons(this.o.removeButtons).build(w.concat(this.o.extraButtons||[])).appendTo(this.toolbarContainer)}},b.prototype.getRegisteredButtonGroups=function(){return this.groupToButtons},b.prototype.registerButton=function(w){var _;this.registeredButtons.add(w);var S=(_=w.group)!==null&&_!==void 0?_:"other";return this.groupToButtons[S]||(this.groupToButtons[S]=[]),w.position!=null?this.groupToButtons[S][w.position]=w.name:this.groupToButtons[S].push(w.name),this},b.prototype.unregisterButton=function(w){var _;this.registeredButtons.delete(w);var S=(_=w.group)!==null&&_!==void 0?_:"other",E=this.groupToButtons[S];if(E){var C=E.indexOf(w.name);C!==-1&&E.splice(C,1),E.length===0&&delete this.groupToButtons[S]}return this},b.prototype.beforeToolbarBuild=function(w){var _=this;if(Object.keys(this.groupToButtons).length)return w.map(function(S){return(0,g.isButtonGroup)(S)&&S.group&&_.groupToButtons[S.group]?{group:S.group,buttons:u.__spreadArray(u.__spreadArray([],u.__read(S.buttons),!1),u.__read(_.groupToButtons[S.group]),!1)}:S})},b.prototype.destruct=function(){this.isDestructed||(this.setStatus(p.STATUSES.beforeDestruct),this.e.off("beforeToolbarBuild",this.beforeToolbarBuild),this.toolbar.destruct(),y.prototype.destruct.call(this))},u.__decorate([v.autobind],b.prototype,"beforeToolbarBuild",null),b}(d.View);a.ViewWithToolbar=x},75902:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.View=void 0;var u=s(20255),d=s(77462),h=s(40332),f=s(86893),m=s(87837),p=s(17332),g=s(43441),v=s(59829),x=s(55395),y=s(71014),b=function(w){function _(E,C){C===void 0&&(C=!1);var A=w.call(this)||this;return A.isJodit=C,A.isView=!0,A.parent=null,A.mods={},A.components=new Set,A.version="3.24.9",A.buffer=d.Storage.makeStorage(),A.storage=d.Storage.makeStorage(!0,A.componentName),A.OPTIONS=S.defaultOptions,A.__isFullSize=!1,A.__whoLocked="",A.isLockedNotBy=function(T){return A.isLocked&&A.__whoLocked!==T},A.__modulesInstances=new Map,A.id=new Date().getTime().toString(),A.buffer=d.Storage.makeStorage(),A.initOptions(E),A.initOwners(),A.events=new x.EventEmitter(A.od),A.create=new m.Create(A.od),A.container=A.c.div("jodit ".concat(A.componentName)),A.progressbar=new m.ProgressBar(A),A.message=new y.UIMessages(A,A.container),A}var S;return u.__extends(_,w),S=_,Object.defineProperty(_.prototype,"basePath",{get:function(){return this.o.basePath?this.o.basePath:f.BASE_PATH},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"defaultTimeout",{get:function(){return(0,h.isVoid)(this.o.defaultTimeout)?100:this.o.defaultTimeout},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"c",{get:function(){return this.create},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"container",{get:function(){return this.__container},set:function(E){this.__container=E},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"e",{get:function(){return this.events},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"options",{get:function(){return this.__options},set:function(E){this.__options=E},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"o",{get:function(){return this.options},enumerable:!1,configurable:!0}),_.prototype.i18n=function(E){for(var C=[],A=1;arguments.length>A;A++)C[A-1]=arguments[A];return(0,h.i18n)(E,C,this.options)},_.prototype.toggleFullSize=function(E){E===void 0&&(E=!this.__isFullSize),E!==this.__isFullSize&&(this.__isFullSize=E,this.e.fire("toggleFullSize",E))},Object.defineProperty(_.prototype,"isLocked",{get:function(){return this.__whoLocked!==""},enumerable:!1,configurable:!0}),_.prototype.lock=function(E){return E===void 0&&(E="any"),!this.isLocked&&(this.__whoLocked=E,!0)},_.prototype.unlock=function(){return!!this.isLocked&&(this.__whoLocked="",!0)},Object.defineProperty(_.prototype,"isFullSize",{get:function(){return this.__isFullSize},enumerable:!1,configurable:!0}),_.prototype.getVersion=function(){return"3.24.9"},_.getVersion=function(){return"3.24.9"},_.prototype.initOptions=function(E){this.options=(0,h.ConfigProto)(E||{},(0,h.ConfigProto)(this.options||{},S.defaultOptions))},_.prototype.initOwners=function(){var E;this.ownerWindow=(E=this.o.ownerWindow)!==null&&E!==void 0?E:window},_.prototype.attachEvents=function(E){var C=this;if(E){var A=E==null?void 0:E.events;A&&Object.keys(A).forEach(function(T){return C.e.on(T,A[T])})}},_.prototype.getInstance=function(E,C){var A=this.e.fire((0,h.camelCase)("getInstance_"+E),C);if(A)return A;var T=p.modules[E],k=this.__modulesInstances;if(!(0,h.isFunction)(T))throw(0,h.error)("Need real module name");if(!k.has(E)){var D=T.prototype instanceof m.ViewComponent?new T(this,C):new T(C);this.components.add(D),k.set(E,D)}return k.get(E)},_.prototype.addDisclaimer=function(E){this.container.appendChild(E)},_.prototype.beforeDestruct=function(){this.e.fire(m.STATUSES.beforeDestruct,this),this.components.forEach(function(E){(0,h.isDestructable)(E)&&!E.isInDestruct&&E.destruct()}),this.components.clear()},_.prototype.destruct=function(){this.isDestructed||(this.progressbar.destruct(),this.message.destruct(),this.async&&this.async.destruct(),this.events&&this.e.destruct(),this.buffer&&this.buffer.clear(),m.Dom.safeRemove(this.container),w.prototype.destruct.call(this))},_.esNext=!1,u.__decorate([(0,g.hook)(m.STATUSES.beforeDestruct)],_.prototype,"beforeDestruct",null),S=u.__decorate([(0,g.derive)(v.Mods,v.Elms)],_)}(m.Component);a.View=b,b.defaultOptions={extraButtons:[],textIcons:!1,namespace:"",removeButtons:[],zIndex:100002,defaultTimeout:100,fullsize:!1,showTooltip:!0,useNativeTooltip:!1,buttons:[],globalFullSize:!0,language:"auto"}},37920:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Jodit=void 0;var u=s(20255),d=s(93166),h=s(86893),f=s(87837),m=s(40332),p=s(77462),g=s(86893),v=s(17332),x=s(43441),y=s(59829),b=s(30056),w="data-jodit-default-style-display",_="data-jodit-default-classes",S=function(C){function A(k,D){var M=C.call(this,D,!0)||this;M.isJodit=!0,M.commands=new Map,M.__selectionLocked=null,M.__wasReadOnly=!1,M.createInside=new f.Create(function(){return M.ed},M.o.createAttributes),M.editorIsActive=!1,M.__mode=h.MODE_WYSIWYG,M.__callChangeCount=0,M.__isSilentChange=!1,M.__elementToPlace=new Map;try{var P=(0,m.resolveElement)(k,M.o.shadowRoot||M.od);if(T.isJoditAssigned(P))return P.component}catch(O){throw M.destruct(),O}M.setStatus(f.STATUSES.beforeInit),M.id=(0,m.attr)((0,m.resolveElement)(k,M.o.shadowRoot||M.od),"id")||new Date().getTime().toString(),v.instances[M.id]=M,M.storage=p.Storage.makeStorage(!0,M.id),M.attachEvents(D),M.e.on(M.ow,"resize",function(){M.e&&M.e.fire("resize")}),M.e.on("prepareWYSIWYGEditor",M.__prepareWYSIWYGEditor),M.selection=new f.Select(M);var j=M.beforeInitHook();return(0,m.callPromise)(j,function(){M.e.fire("beforeInit",M),v.pluginSystem.__init(M),M.e.fire("afterPluginSystemInit",M),M.e.on("changePlace",function(){M.setReadOnly(M.o.readonly),M.setDisabled(M.o.disabled)}),M.places.length=0;var O=M.addPlace(k,D);v.instances[M.id]=M,(0,m.callPromise)(O,function(){M.e&&M.e.fire("afterInit",M),M.afterInitHook(),M.setStatus(f.STATUSES.ready),M.e.fire("afterConstructor",M)})}),M}var T;return u.__extends(A,C),T=A,A.prototype.className=function(){return"Jodit"},A.prototype.waitForReady=function(){var k=this;return this.isReady?Promise.resolve(this):this.async.promise(function(D){k.hookStatus("ready",function(){return D(k)})})},Object.defineProperty(A,"ready",{get:function(){return new Promise(function(k){v.eventEmitter.on("oditready",k)})},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"text",{get:function(){if(this.editor)return this.editor.innerText||"";var k=this.createInside.div();return k.innerHTML=this.getElementValue(),k.innerText||""},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"defaultTimeout",{get:function(){return(0,m.isNumber)(this.o.defaultTimeout)?this.o.defaultTimeout:d.Config.defaultOptions.defaultTimeout},enumerable:!1,configurable:!0}),A.atom=function(k){return(0,m.markAsAtomic)(k)},A.make=function(k,D){return new this(k,D)},A.isJoditAssigned=function(k){return k&&(0,m.isJoditObject)(k.component)&&!k.component.isInDestruct},Object.defineProperty(A,"defaultOptions",{get:function(){return d.Config.defaultOptions},enumerable:!1,configurable:!0}),A.prototype.__setPlaceField=function(k,D){this.currentPlace||(this.currentPlace={},this.places=[this.currentPlace]),this.currentPlace[k]=D},Object.defineProperty(A.prototype,"element",{get:function(){return this.currentPlace.element},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"editor",{get:function(){return this.currentPlace.editor},set:function(k){this.__setPlaceField("editor",k)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"container",{get:function(){return this.currentPlace.container},set:function(k){this.__setPlaceField("container",k)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"workplace",{get:function(){return this.currentPlace.workplace},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"statusbar",{get:function(){return this.currentPlace.statusbar},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"iframe",{get:function(){return this.currentPlace.iframe},set:function(k){this.__setPlaceField("iframe",k)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"history",{get:function(){return this.currentPlace.history},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"observer",{get:function(){return this.history},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"editorWindow",{get:function(){return this.currentPlace.editorWindow},set:function(k){this.__setPlaceField("editorWindow",k)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"ew",{get:function(){return this.editorWindow},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"editorDocument",{get:function(){return this.currentPlace.editorWindow.document},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"ed",{get:function(){return this.editorDocument},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"options",{get:function(){return this.currentPlace.options},set:function(k){this.__setPlaceField("options",k)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"s",{get:function(){return this.selection},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"uploader",{get:function(){return this.getInstance("Uploader",this.o.uploader)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"filebrowser",{get:function(){var k=this,D=(0,m.ConfigProto)({defaultTimeout:k.defaultTimeout,uploader:k.o.uploader,language:k.o.language,license:k.o.license,theme:k.o.theme,shadowRoot:k.o.shadowRoot,defaultCallback:function(M){M.files&&M.files.length&&M.files.forEach(function(P,j){var O=M.baseurl+P;M.isImages&&M.isImages[j]?k.s.insertImage(O,null,k.o.imageDefaultWidth):k.s.insertNode(k.createInside.fromHTML("<a href='".concat(O,"' title='").concat(O,"'>").concat(O,"</a>")))})}},this.o.filebrowser);return k.getInstance("FileBrowser",D)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"mode",{get:function(){return this.__mode},set:function(k){this.setMode(k)},enumerable:!1,configurable:!0}),A.prototype.getNativeEditorValue=function(){var k=this.e.fire("beforeGetNativeEditorValue");return(0,m.isString)(k)?k:this.editor?this.editor.innerHTML:this.getElementValue()},A.prototype.setNativeEditorValue=function(k){var D={value:k};this.e.fire("beforeSetNativeEditorValue",D)||this.editor&&(this.editor.innerHTML=D.value)},Object.defineProperty(A.prototype,"value",{get:function(){return this.getEditorValue()},set:function(k){this.setEditorValue(k),this.history.__processChanges()},enumerable:!1,configurable:!0}),A.prototype.synchronizeValues=function(){this.__imdSynchronizeValues()},A.prototype.__imdSynchronizeValues=function(){this.setEditorValue()},A.prototype.getEditorValue=function(k,D){var M;if(k===void 0&&(k=!0),(M=this.e.fire("beforeGetValueFromEditor",D))!==void 0)return M;M=this.getNativeEditorValue().replace(h.INVISIBLE_SPACE_REG_EXP(),""),k&&(M=M.replace(/<span[^>]+id="jodit-selection_marker_[^>]+><\/span>/g,"")),M==="<br>"&&(M="");var P={value:M};return this.e.fire("afterGetValueFromEditor",P,D),P.value},A.prototype.setEditorValue=function(k){var D=this.e.fire("beforeSetValueToEditor",k);if(D!==!1)if((0,m.isString)(D)&&(k=D),this.editor){if(!(0,m.isString)(k)&&!(0,m.isVoid)(k))throw(0,m.error)("value must be string");(0,m.isVoid)(k)||this.getNativeEditorValue()===k||this.setNativeEditorValue(k),this.e.fire("postProcessSetEditorValue");var M=this.getElementValue(),P=this.getEditorValue();if(!this.__isSilentChange&&M!==P&&h.SAFE_COUNT_CHANGE_CALL>this.__callChangeCount){this.__setElementValue(P),this.__callChangeCount+=1;try{this.history.__upTick(),this.e.fire("change",P,M),this.e.fire(this.history,"change",P,M)}finally{this.__callChangeCount=0}}}else k!==void 0&&this.__setElementValue(k)},A.prototype.updateElementValue=function(){this.__setElementValue(this.getEditorValue())},A.prototype.getElementValue=function(){return this.element.value!==void 0?this.element.value:this.element.innerHTML},A.prototype.setElementValue=function(k){var D=this.getElementValue();return(k===void 0||(0,m.isString)(k)&&k!==D)&&(k!=null||(k=D),k!==this.getEditorValue()&&this.setEditorValue(k)),this.__setElementValue(k)},A.prototype.__setElementValue=function(k){var D=this;if(!(0,m.isString)(k))throw(0,m.error)("value must be string");if(this.element!==this.container&&k!==this.getElementValue()){var M={value:k},P=this.e.fire("beforeSetElementValue",M);(0,m.callPromise)(P,function(){D.element.value!==void 0?D.element.value=M.value:D.element.innerHTML=M.value,D.e.fire("afterSetElementValue",M)})}},A.prototype.registerCommand=function(k,D,M){var P=k.toLowerCase(),j=this.commands.get(P);if(j===void 0&&this.commands.set(P,j=[]),j.push(D),!(0,m.isFunction)(D)){var O=this.o.commandToHotkeys[P]||this.o.commandToHotkeys[k]||D.hotkeys;O&&this.registerHotkeyToCommand(O,P,M==null?void 0:M.stopPropagation)}return this},A.prototype.registerHotkeyToCommand=function(k,D,M){var P=this;M===void 0&&(M=!0);var j=(0,m.asArray)(k).map(m.normalizeKeyAliases).map(function(O){return O+".hotkey"}).join(" ");this.e.off(j).on(j,function(O,I){return I&&(I.shouldStop=M==null||M),P.execCommand(D)})},A.prototype.execCommand=function(k,D,M){for(var P,j=[],O=3;arguments.length>O;O++)j[O-3]=arguments[O];if(this.s.isFocused()||this.s.focus(),!this.o.readonly||this.o.allowCommandsInReadOnly.includes(k)){var I;if(k=k.toLowerCase(),(I=(P=this.e).fire.apply(P,u.__spreadArray(["beforeCommand",k,D,M],u.__read(j),!1)))!==!1&&(I=this.__execCustomCommands.apply(this,u.__spreadArray([k,D,M],u.__read(j),!1))),I!==!1)if(this.s.focus(),k==="selectall")this.s.select(this.editor,!0),this.s.expandSelection();else try{I=this.nativeExecCommand(k,D,M)}catch{}return this.e.fire("afterCommand",k,D,M),this.setEditorValue(),I}},A.prototype.nativeExecCommand=function(k,D,M){this.__isSilentChange=!0;try{return this.ed.execCommand(k,D,M)}finally{this.__isSilentChange=!1}},A.prototype.__execCustomCommands=function(k,D,M){for(var P=this,j=[],O=3;arguments.length>O;O++)j[O-3]=arguments[O];k=k.toLowerCase();var I,N=this.commands.get(k);if(N!==void 0)return N.forEach(function(L){var B,R=(B=(0,m.isFunction)(L)?L:L.exec).call.apply(B,u.__spreadArray([P,k,D,M],u.__read(j),!1));R!==void 0&&(I=R)}),I},A.prototype.lock=function(k){return k===void 0&&(k="any"),!!C.prototype.lock.call(this,k)&&(this.__selectionLocked=this.s.save(),this.s.clear(),this.editor.classList.add("jodit_lock"),this.e.fire("lock",!0),!0)},A.prototype.unlock=function(){return!!C.prototype.unlock.call(this)&&(this.editor.classList.remove("jodit_lock"),this.__selectionLocked&&this.s.restore(),this.e.fire("lock",!1),!0)},A.prototype.getMode=function(){return this.mode},A.prototype.isEditorMode=function(){return this.getRealMode()===h.MODE_WYSIWYG},A.prototype.getRealMode=function(){if(this.getMode()!==h.MODE_SPLIT)return this.getMode();var k=this.od.activeElement;return k&&(k===this.iframe||f.Dom.isOrContains(this.editor,k)||f.Dom.isOrContains(this.toolbar.container,k))?h.MODE_WYSIWYG:h.MODE_SOURCE},A.prototype.setMode=function(k){var D=this,M=this.getMode(),P={mode:parseInt(k.toString(),10)},j=["jodit-wysiwyg_mode","jodit-source__mode","jodit_split_mode"];this.e.fire("beforeSetMode",P)!==!1&&(this.__mode=[h.MODE_SOURCE,h.MODE_WYSIWYG,h.MODE_SPLIT].includes(P.mode)?P.mode:h.MODE_WYSIWYG,this.o.saveModeInStorage&&this.storage.set("jodit_default_mode",this.mode),j.forEach(function(O){D.container.classList.remove(O)}),this.container.classList.add(j[this.mode-1]),M!==this.getMode()&&this.e.fire("afterSetMode"))},A.prototype.toggleMode=function(){var k=this.getMode();[h.MODE_SOURCE,h.MODE_WYSIWYG,this.o.useSplitMode?h.MODE_SPLIT:9].includes(k+1)?k+=1:k=h.MODE_WYSIWYG,this.setMode(k)},A.prototype.setDisabled=function(k){this.o.disabled=k;var D=this.__wasReadOnly;this.setReadOnly(k||D),this.__wasReadOnly=D,this.editor&&(this.editor.setAttribute("aria-disabled",k.toString()),this.container.classList.toggle("jodit_disabled",k),this.e.fire("disabled",k))},A.prototype.getDisabled=function(){return this.o.disabled},A.prototype.setReadOnly=function(k){this.__wasReadOnly!==k&&(this.__wasReadOnly=k,this.o.readonly=k,k?this.editor&&this.editor.removeAttribute("contenteditable"):this.editor&&this.editor.setAttribute("contenteditable","true"),this.e&&this.e.fire("readonly",k))},A.prototype.getReadOnly=function(){return this.o.readonly},A.prototype.focus=function(){this.getMode()!==h.MODE_SOURCE&&this.s.focus()},Object.defineProperty(A.prototype,"isFocused",{get:function(){return this.s.isFocused()},enumerable:!1,configurable:!0}),A.prototype.beforeInitHook=function(){},A.prototype.afterInitHook=function(){},A.prototype.initOptions=function(k){this.options=(0,m.ConfigProto)(k||{},d.Config.defaultOptions)},A.prototype.initOwners=function(){this.editorWindow=this.o.ownerWindow,this.ownerWindow=this.o.ownerWindow},A.prototype.addPlace=function(k,D){var M=this,P=(0,m.resolveElement)(k,this.o.shadowRoot||this.od);this.attachEvents(D),P.attributes&&(0,m.toArray)(P.attributes).forEach(function(W){var U=W.name,H=W.value;d.Config.defaultOptions[U]===void 0||D&&D[U]!==void 0||(["readonly","disabled"].indexOf(U)!==-1&&(H=H===""||H==="true"),/^[0-9]+(\.)?([0-9]+)?$/.test(H.toString())&&(H=Number(H)),M.options[U]=H)});var j=this.c.div("jodit-container");j.classList.add("jodit"),j.classList.add("jodit-container"),j.classList.add("jodit_theme_".concat(this.o.theme||"default")),E(this.o.className,j),this.o.containerStyle&&(0,m.css)(j,this.o.containerStyle);var O=this.o.styleValues;Object.keys(O).forEach(function(W){var U=(0,m.kebabCase)(W);j.style.setProperty("--jd-".concat(U),O[W])}),j.setAttribute("contenteditable","false");var I=null;this.o.inline&&(["TEXTAREA","INPUT"].indexOf(P.nodeName)===-1&&(j=P,P.setAttribute(_,P.className.toString()),I=j.innerHTML,j.innerHTML=""),j.classList.add("jodit_inline"),j.classList.add("jodit-container")),P!==j&&(P.style.display&&P.setAttribute(w,P.style.display),P.style.display="none");var N=this.c.div("jodit-workplace",{contenteditable:!1});j.appendChild(N),this.message.destruct(),this.message=new f.UIMessages(this,N),P.parentNode&&P!==j&&P.parentNode.insertBefore(j,P),Object.defineProperty(P,"component",{enumerable:!1,configurable:!0,value:this});var L=this.c.div("jodit-wysiwyg",{contenteditable:!0,"aria-disabled":!1,tabindex:this.o.tabIndex});N.appendChild(L);var B={editor:L,element:P,container:j,workplace:N,statusbar:new f.StatusBar(this,j),options:this.isReady?(0,m.ConfigProto)(D||{},d.Config.defaultOptions):this.options,history:new f.History(this),editorWindow:this.ow};this.__elementToPlace.set(L,B),this.setCurrentPlace(B),this.places.push(B),this.setNativeEditorValue(this.getElementValue());var R=this.__initEditor(I),z=this.options;return(0,m.callPromise)(R,function(){z.enableDragAndDropFileToEditor&&z.uploader&&(z.uploader.url||z.uploader.insertImageAsBase64URI)&&M.uploader.bind(M.editor),M.__elementToPlace.get(M.editor)||M.__elementToPlace.set(M.editor,B),M.e.fire("afterAddPlace",B)})},A.prototype.addDisclaimer=function(k){this.workplace.appendChild(k)},A.prototype.setCurrentPlace=function(k){this.currentPlace!==k&&(this.isEditorMode()||this.setMode(h.MODE_WYSIWYG),this.currentPlace=k,this.buildToolbar(),this.isReady&&this.e.fire("changePlace",k))},A.prototype.__initEditor=function(k){var D=this,M=this.__createEditor();return(0,m.callPromise)(M,function(){if(!D.isInDestruct){if(D.element!==D.container){var P=D.getElementValue();P!==D.getEditorValue()&&D.setEditorValue(P)}else k!=null&&D.setEditorValue(k);var j=D.o.defaultMode;if(D.o.saveModeInStorage){var O=D.storage.get("jodit_default_mode");typeof O=="string"&&(j=parseInt(O,10))}D.setMode(j),D.o.readonly&&(D.__wasReadOnly=!1,D.setReadOnly(!0)),D.o.disabled&&D.setDisabled(!0);try{D.ed.execCommand("defaultParagraphSeparator",!1,D.o.enter.toLowerCase())}catch{}try{D.ed.execCommand("enableObjectResizing",!1,"false")}catch{}try{D.ed.execCommand("enableInlineTableEditing",!1,"false")}catch{}}})},A.prototype.__createEditor=function(){var k=this,D=this.editor,M=this.e.fire("createEditor",this);return(0,m.callPromise)(M,function(){if(!k.isInDestruct){if((M===!1||(0,m.isPromise)(M))&&f.Dom.safeRemove(D),E(k.o.editorClassName||k.o.editorCssClass,k.editor),k.o.editorCssClass&&k.editor.classList.add(k.o.editorCssClass),k.o.style&&(0,m.css)(k.editor,k.o.style),k.e.on("synchro",function(){k.setEditorValue()}).on("focus",function(){k.editorIsActive=!0}).on("blur",function(){return k.editorIsActive=!1}),k.__prepareWYSIWYGEditor(),k.o.direction){var P=k.o.direction.toLowerCase()==="rtl"?"rtl":"ltr";k.container.style.direction=P,k.container.setAttribute("dir",P),k.toolbar.setDirection(P)}k.o.triggerChangeEvent&&k.e.on("change",k.async.debounce(function(){k.e&&k.e.fire(k.element,"change")},k.defaultTimeout))}})},A.prototype.__prepareWYSIWYGEditor=function(){var k=this,D=this.editor;if(this.o.direction){var M=this.o.direction.toLowerCase()==="rtl"?"rtl":"ltr";this.editor.style.direction=M,this.editor.setAttribute("dir",M)}this.e.on(D,"mousedown touchstart focus",function(){var P=k.__elementToPlace.get(D);P&&k.setCurrentPlace(P)}).on(D,"compositionend",this.synchronizeValues).on(D,"selectionchange selectionstart keydown keyup input keypress dblclick mousedown mouseup click copy cut dragstart drop dragover paste resize touchstart touchend focus blur",function(P){if(!k.o.readonly&&!k.__isSilentChange&&!(P instanceof k.ew.KeyboardEvent&&P.isComposing)&&k.e&&k.e.fire){if(k.e.fire(P.type,P)===!1)return!1;k.synchronizeValues()}})},A.prototype.fetch=function(k,D){var M=this,P=new b.Ajax(u.__assign({url:k},D),this.o.defaultAjaxOptions),j=function(){M.e.off("beforeDestruct",j),M.progressbar.progress(100).hide(),P.destruct()};this.e.one("beforeDestruct",j),this.progressbar.show().progress(30);var O=P.send();return O.finally(j).catch(function(){return null}),O},A.prototype.destruct=function(){var k=this;if(!this.isInDestruct&&(this.setStatus(f.STATUSES.beforeDestruct),this.__elementToPlace.clear(),this.editor)){var D=this.getEditorValue();this.storage.clear(),this.buffer.clear(),this.commands.clear(),this.__selectionLocked=null,this.e.off(this.ow,"resize"),this.e.off(this.ow),this.e.off(this.od),this.e.off(this.od.body),this.places.forEach(function(M){var P=M.container,j=M.workplace,O=M.statusbar,I=M.element,N=M.iframe,L=M.editor,B=M.history;if(I!==P)if(I.hasAttribute(w)){var R=(0,m.attr)(I,w);R&&(I.style.display=R,I.removeAttribute(w))}else I.style.display="";else I.hasAttribute(_)&&(I.className=(0,m.attr)(I,_)||"",I.removeAttribute(_));I.hasAttribute("style")&&!(0,m.attr)(I,"style")&&I.removeAttribute("style"),O.destruct(),k.e.off(P),k.e.off(I),k.e.off(L),f.Dom.safeRemove(j),f.Dom.safeRemove(L),P!==I&&f.Dom.safeRemove(P),Object.defineProperty(I,"component",{enumerable:!1,configurable:!0,value:null}),f.Dom.safeRemove(N),P===I&&(I.innerHTML=D),B.destruct()}),this.places.length=0,this.currentPlace={},delete v.instances[this.id],C.prototype.destruct.call(this)}},A.fatMode=!1,A.plugins=v.pluginSystem,A.modules=v.modules,A.ns=v.modules,A.decorators={},A.constants=h,A.instances=v.instances,A.lang=g.lang,A.core={Plugin:f.Plugin},u.__decorate([x.cache],A.prototype,"uploader",null),u.__decorate([x.cache],A.prototype,"filebrowser",null),u.__decorate([(0,x.throttle)()],A.prototype,"synchronizeValues",null),u.__decorate([(0,x.watch)(":internalChange")],A.prototype,"updateElementValue",null),u.__decorate([x.autobind],A.prototype,"__prepareWYSIWYGEditor",null),T=u.__decorate([(0,x.derive)(y.Dlgs)],A)}(f.ViewWithToolbar);function E(C,A){C&&C.split(/\s+/).forEach(function(T){return A.classList.add(T)})}a.Jodit=S},26435:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(10172),d={},h=s(90643),f=s(52532),m=s(75178),p=s(51048),g=s(22999),v=s(34145),x=s(40272),y=s(2978),b=s(99113),w=s(51923),_=s(21268),S=s(37289),E=s(26501),C=s(17084),A=s(96891),T=s(31211),k=s(31109),D=s(79375),M=s(21042),P=s(73895);d={ar:h,cs_cz:f,de:m,en:p,es:g,fr:v,he:x,hu:y,id:b,it:w,ja:_,ko:S,mn:E,nl:C,pl:A,pt_br:T,ru:k,tr:D,zh_cn:M,zh_tw:P};var j=s(11399),O=function(N){return N?N.default||N:{}},I={};(0,u.isArray)(O(j))&&O(j).forEach(function(N,L){I[L]=N}),Object.keys(d).forEach(function(N){var L=O(d[N]);(0,u.isArray)(L)?(d[N]={},L.forEach(function(B,R){d[N][I[R]]=B})):d[N]=L}),a.default=d},60403:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ContextMenu=void 0;var u=s(20255);s(47086);var d=s(35799),h=s(96516),f=s(10172),m=s(11441),p=function(g){function v(){return g!==null&&g.apply(this,arguments)||this}return u.__extends(v,g),v.prototype.className=function(){return"ContextMenu"},v.prototype.show=function(x,y,b){var w=this,_=this,S=this.j.c.div(this.getFullElName("actions"));(0,f.isArray)(b)&&(b.forEach(function(E){if(E){var C=(0,h.Button)(w.jodit,E.icon||"empty",E.title);w.jodit&&C.setParentView(w.jodit),C.setMod("context","menu"),C.onAction(function(A){var T;return(T=E.exec)===null||T===void 0||T.call(_,A),_.close(),!1}),S.appendChild(C.container)}}),this.setContent(S).open(function(){return{left:x,top:y,width:0,height:0}},!0))},u.__decorate([m.component],v)}(d.Popup);a.ContextMenu=p},97528:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Alert=void 0;var u=s(6690),d=s(40332),h=s(64968),f=s(2074);a.Alert=function(m,p,g,v){v===void 0&&(v="jodit-dialog_alert"),(0,d.isFunction)(p)&&(g=p,p=void 0);var x=this instanceof u.Dialog?this:new u.Dialog,y=x.c.div(v),b=(0,f.Button)(x,"ok","Ok");return(0,d.asArray)(m).forEach(function(w){y.appendChild(h.Dom.isNode(w)?w:x.c.fromHTML(w))}),b.onAction(function(){g&&(0,d.isFunction)(g)&&g(x)===!1||x.close()}),x.setFooter([b]),x.open(y,p||"&nbsp;",!0,!0),b.focus(),x}},47360:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Confirm=void 0;var u=s(6690),d=s(42096),h=s(96031);a.Confirm=function(f,m,p){var g=this instanceof u.Dialog?this:new u.Dialog,v=g.c.fromHTML('<form class="jodit-dialog_prompt"></form>'),x=g.c.element("label");(0,d.isFunction)(m)&&(p=m,m=void 0),x.appendChild(g.c.fromHTML(f)),v.appendChild(x);var y=function(_){return function(){p&&p(_)===!1||g.close()}},b=(0,h.Button)(g,"cancel","Cancel"),w=(0,h.Button)(g,"ok","Yes");return b.onAction(y(!1)),w.onAction(y(!0)),g.e.on(v,"submit",function(){return y(!0)(),!1}),g.setFooter([w,b]),g.open(v,m||"&nbsp;",!0,!0),w.focus(),g}},6690:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Dialog=void 0;var u=s(20255);s(16462);var d=s(93166),h=s(86893),f=s(40332),m=(s(52378),s(43608)),p=s(64968),g=s(56562),v=s(17332),x=s(43441),y=s(75902),b=s(2074),w=s(71014);d.Config.prototype.dialog={namespace:"",extraButtons:[],resizable:!0,draggable:!0,buttons:["dialog.close"],removeButtons:[],toolbarButtonSize:"middle",zIndex:"inherit"},d.Config.prototype.controls.dialog={close:{icon:"cancel",exec:function(S){S.close()}}};var _=function(S){function E(C){C===void 0&&(C={});var A=S.call(this,C)||this;A.destroyAfterClose=!1,A.moved=!1,A.resizable=!1,A.draggable=!1,A.startX=0,A.startY=0,A.startPoint={x:0,y:0,w:0,h:0},A.lockSelect=function(){A.setMod("moved",!0)},A.unlockSelect=function(){A.setMod("moved",!1)},A.onResize=function(){A.options&&A.o.resizable&&!A.moved&&A.isOpened&&!A.offsetX&&!A.offsetY&&A.setPosition()},A.isModal=!1,A.isOpened=!1;var T=A;T.options=(0,f.ConfigProto)(C,(0,f.ConfigProto)(d.Config.prototype.dialog,y.View.defaultOptions)),p.Dom.safeRemove(T.container);var k=A.getFullElName.bind(A);T.container=A.c.fromHTML('<div class="jodit jodit-dialog '.concat(A.componentName,`">
				<div class="`).concat(k("overlay"),`"></div>
				<div class="`).concat(A.getFullElName("panel"),`">
					<div class="`).concat(k("header"),`">
						<div class="`).concat(k("header-title"),`"></div>
						<div class="`).concat(k("header-toolbar"),`"></div>
					</div>
					<div class="`).concat(k("content"),`"></div>
					<div class="`).concat(k("footer"),`"></div>
					<div class="`).concat(k("resizer"),'">').concat(b.Icon.get("resize_handler"),`</div>
				</div>
			</div>`)),A.o.zIndex&&(A.container.style.zIndex=A.o.zIndex.toString()),(0,f.attr)(T.container,"role","dialog"),Object.defineProperty(T.container,"component",{value:A}),T.setMod("theme",T.o.theme||"default").setMod("resizable",!!T.o.resizable);var D=T.getElm("panel"),M=T.getElm("resizer"),P=T.getElm("header-title"),j=T.getElm("content"),O=T.getElm("footer"),I=T.getElm("header-toolbar");A.message.destruct(),A.message=new w.UIMessages(A,D),A.dialog=D,A.resizer=M,A.dialogbox_header=P,A.dialogbox_content=j,A.dialogbox_footer=O,A.dialogbox_toolbar=I,(0,f.css)(T.dialog,{maxWidth:T.options.maxWidth,minHeight:T.options.minHeight,minWidth:T.options.minWidth});var N=T.getElm("header");N&&T.e.on(N,"pointerdown touchstart",T.onHeaderMouseDown),T.e.on(T.resizer,"mousedown touchstart",T.onResizerMouseDown);var L=v.pluginSystem.get("fullsize");return(0,f.isFunction)(L)&&L(T),A.e.on(T.container,"close_dialog",T.close).on(A.ow,"keydown",A.onEsc).on(A.ow,"resize",A.onResize),A}return u.__extends(E,S),E.prototype.className=function(){return"Dialog"},Object.defineProperty(E.prototype,"destination",{get:function(){var C;return(C=this.o.shadowRoot)!==null&&C!==void 0?C:this.od.body},enumerable:!1,configurable:!0}),E.prototype.setElements=function(C,A){var T=this,k=[];(0,f.asArray)(A).forEach(function(D){if((0,f.isArray)(D)){var M=T.c.div(T.getFullElName("column"));return k.push(M),C.appendChild(M),T.setElements(M,D)}var P;P=(0,f.isString)(D)?T.c.fromHTML(D):(0,f.hasContainer)(D)?D.container:D,k.push(P),P.parentNode!==C&&C.appendChild(P)}),(0,f.toArray)(C.childNodes).forEach(function(D){k.indexOf(D)===-1&&C.removeChild(D)})},E.prototype.onMouseUp=function(){(this.draggable||this.resizable)&&(this.removeGlobalResizeListeners(),this.draggable=!1,this.resizable=!1,this.unlockSelect(),this.e&&(this.removeGlobalResizeListeners(),this.e.fire(this,"endResize endMove")))},E.prototype.onHeaderMouseDown=function(C){var A=C.target;!this.o.draggable||A&&A.nodeName.match(/^(INPUT|SELECT)$/)||(this.draggable=!0,this.startX=C.clientX,this.startY=C.clientY,this.startPoint.x=(0,f.css)(this.dialog,"left"),this.startPoint.y=(0,f.css)(this.dialog,"top"),this.setMaxZIndex(),C.cancelable&&C.preventDefault(),this.lockSelect(),this.addGlobalResizeListeners(),this.e&&this.e.fire(this,"startMove"))},E.prototype.onMouseMove=function(C){this.draggable&&this.o.draggable&&(this.setPosition(this.startPoint.x+C.clientX-this.startX,this.startPoint.y+C.clientY-this.startY),this.e&&this.e.fire(this,"move",C.clientX-this.startX,C.clientY-this.startY),C.stopImmediatePropagation()),this.resizable&&this.o.resizable&&(this.setSize(this.startPoint.w+C.clientX-this.startX,this.startPoint.h+C.clientY-this.startY),this.e&&this.e.fire(this,"resizeDialog",C.clientX-this.startX,C.clientY-this.startY))},E.prototype.onEsc=function(C){if(this.isOpened&&C.key===h.KEY_ESC&&this.getMod("static")!==!0){var A=this.getMaxZIndexDialog();A?A.close():this.close(),C.stopImmediatePropagation()}},E.prototype.onResizerMouseDown=function(C){this.resizable=!0,this.startX=C.clientX,this.startY=C.clientY,this.startPoint.w=this.dialog.offsetWidth,this.startPoint.h=this.dialog.offsetHeight,this.lockSelect(),this.addGlobalResizeListeners(),this.e&&this.e.fire(this,"startResize")},E.prototype.addGlobalResizeListeners=function(){var C=this;C.e.on(C.ow,"pointermove touchmove",C.onMouseMove).on(C.ow,"pointerup touchend",C.onMouseUp)},E.prototype.removeGlobalResizeListeners=function(){var C=this;C.e.off(C.ow,"mousemove pointermove",C.onMouseMove).off(C.ow,"mouseup pointerup",C.onMouseUp)},E.prototype.setSize=function(C,A){return C==null&&(C=this.dialog.offsetWidth),A==null&&(A=this.dialog.offsetHeight),(0,f.css)(this.dialog,{width:C,height:A}),this},E.prototype.calcAutoSize=function(){return this.setSize("auto","auto"),this.setSize(),this},E.prototype.setPosition=function(C,A){var T=this.ow.innerWidth/2-this.dialog.offsetWidth/2,k=this.ow.innerHeight/2-this.dialog.offsetHeight/2;return 0>T&&(T=0),0>k&&(k=0),C!==void 0&&A!==void 0&&(this.offsetX=C,this.offsetY=A,this.moved=Math.abs(C-T)>100||Math.abs(A-k)>100),this.dialog.style.left=(C||T)+"px",this.dialog.style.top=(A||k)+"px",this},E.prototype.setHeader=function(C){return this.setElements(this.dialogbox_header,C),this},E.prototype.setContent=function(C){return this.setElements(this.dialogbox_content,C),this},E.prototype.setFooter=function(C){return this.setElements(this.dialogbox_footer,C),this.setMod("footer",!!C),this},E.prototype.getZIndex=function(){return parseInt((0,f.css)(this.container,"zIndex"),10)||0},E.prototype.getMaxZIndexDialog=function(){var C,A,T=0,k=this;return(0,f.$$)(".jodit-dialog",this.destination).forEach(function(D){C=D.component,A=parseInt((0,f.css)(D,"zIndex"),10),C.isOpened&&!isNaN(A)&&A>T&&(k=C,T=A)}),k},E.prototype.setMaxZIndex=function(){if(!this.getMod("static")){var C=20000004,A=0;(0,f.$$)(".jodit-dialog",this.destination).forEach(function(T){A=parseInt((0,f.css)(T,"zIndex"),10),C=Math.max(isNaN(A)?0:A,C)}),this.container.style.zIndex=(C+1).toString()}},E.prototype.toggleFullSize=function(C){(0,f.isVoid)(C)&&(C=!this.getMod("fullsize")),this.setMod("fullsize",C),S.prototype.toggleFullSize.call(this,C)},E.prototype.open=function(C,A,T,k){if(v.eventEmitter.fire("closeAllPopups hideHelpers"),this.e.fire(this,"beforeOpen")===!1)return this;(0,f.isBoolean)(C)&&(T=C),(0,f.isBoolean)(A)&&(k=A),this.destroyAfterClose=T===!0;var D=(0,f.isBoolean)(C)?void 0:C,M=(0,f.isBoolean)(A)?void 0:A;return M!==void 0&&this.setHeader(M),D&&this.setContent(D),this.setMod("active",!0),this.isOpened=!0,this.setModal(k),this.destination.appendChild(this.container),this.getMod("static")!==!0?(this.setPosition(this.offsetX,this.offsetY),this.setMaxZIndex()):this.container.style.removeProperty("z-index"),this.o.fullsize&&this.toggleFullSize(!0),this.e.fire("afterOpen",this),this},E.prototype.setModal=function(C){return this.isModal=!!C,this.setMod("modal",this.isModal),this},E.prototype.close=function(){return this.isDestructed||!this.isOpened||this.getMod("static")===!0||this.e.fire("beforeClose",this)===!1||(this.setMod("active",!1),this.isOpened=!1,this.isFullSize&&this.toggleFullSize(!1),p.Dom.safeRemove(this.container),this.removeGlobalResizeListeners(),this.destroyAfterClose&&this.destruct(),this.e.fire(this,"afterClose"),this.e.fire(this.ow,"joditCloseDialog")),this},E.prototype.buildToolbar=function(){this.o.buttons&&this.toolbar.build((0,f.splitArray)(this.o.buttons)).setMod("mode","header").appendTo(this.dialogbox_toolbar)},E.prototype.destruct=function(){this.isInDestruct||(this.setStatus(g.STATUSES.beforeDestruct),this.isOpened&&this.close(),this.events&&(this.removeGlobalResizeListeners(),this.events.off(this.container,"close_dialog",self.close).off(this.ow,"keydown",this.onEsc).off(this.ow,"resize",this.onResize)),S.prototype.destruct.call(this))},u.__decorate([x.autobind],E.prototype,"onMouseUp",null),u.__decorate([x.autobind],E.prototype,"onHeaderMouseDown",null),u.__decorate([x.autobind],E.prototype,"onMouseMove",null),u.__decorate([x.autobind],E.prototype,"onEsc",null),u.__decorate([x.autobind],E.prototype,"onResizerMouseDown",null),u.__decorate([x.autobind],E.prototype,"close",null),u.__decorate([(0,x.hook)("ready")],E.prototype,"buildToolbar",null),u.__decorate([x.component],E)}(m.ViewWithToolbar);a.Dialog=_},92080:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Confirm=a.Prompt=a.Alert=a.Dialog=void 0;var u=s(6690);Object.defineProperty(a,"Dialog",{enumerable:!0,get:function(){return u.Dialog}});var d=s(97528);Object.defineProperty(a,"Alert",{enumerable:!0,get:function(){return d.Alert}});var h=s(35789);Object.defineProperty(a,"Prompt",{enumerable:!0,get:function(){return h.Prompt}});var f=s(47360);Object.defineProperty(a,"Confirm",{enumerable:!0,get:function(){return f.Confirm}})},35789:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Prompt=void 0;var u=s(92080),d=s(2074),h=s(40332);a.Prompt=function(f,m,p,g,v){var x=this instanceof u.Dialog?this:new u.Dialog,y=(0,d.Button)(x,"cancel","Cancel"),b=(0,d.Button)(x,"ok","Ok"),w=x.c.element("form",{class:"jodit-dialog_prompt"}),_=x.c.element("input",{autofocus:!0,class:"jodit-input"}),S=x.c.element("label");(0,h.isFunction)(m)&&(p=m,m=void 0),g&&(0,h.attr)(_,"placeholder",g),S.appendChild(x.c.text(f)),w.appendChild(S),w.appendChild(_),y.onAction(x.close);var E=function(){p&&(0,h.isFunction)(p)&&p(_.value)===!1||x.close()};return b.onAction(E),x.e.on(w,"submit",function(){return E(),!1}),x.setFooter([b,y]),x.open(w,m||"&nbsp;",!0,!0),_.focus(),v!==void 0&&v.length&&(_.value=v,_.select()),x}},34468:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255),d=s(64968),h=s(40332),f=s(46341),m=s(2074),p=s(21347),g=s(35503),v=s(66267),x=s(36303),y=s(48096),b="jodit-filebrowser-preview",w=function(_,S){return _===void 0&&(_="next"),S===void 0&&(S="right"),'<div class="'.concat(b,"__navigation ").concat(b,"__navigation_arrow_").concat(_,'">')+""+m.Icon.get("angle-"+S)+"</a>"};a.default=function(_){if(!_.o.contextMenu)return function(){};var S=(0,f.makeContextMenu)(_);return function(E){var C=(0,p.getItem)(E.target,_.container);if(C){var A=C,T=_.options,k=function(D){return(0,h.attr)(A,D)||""};return _.async.setTimeout(function(){var D=(0,p.elementToItem)(C,(0,v.elementsMap)(_));D&&(_.state.activeElements=[D],S.show(E.clientX,E.clientY,[!(k("data-is-file")==="1"||!T.editImage||!_.dataProvider.canI("ImageResize")&&!_.dataProvider.canI("ImageCrop"))&&{icon:"pencil",title:"Edit",exec:function(){return g.openImageEditor.call(_,k("href"),k("data-name"),k("data-path"),k("data-source"))}},!!_.dataProvider.canI("FileRename")&&{icon:"italic",title:"Rename",exec:function(){_.e.fire("fileRename.filebrowser",k("data-name"),k("data-path"),k("data-source"))}},!!_.dataProvider.canI("FileRemove")&&{icon:"bin",title:"Delete",exec:function(){return u.__awaiter(void 0,void 0,Promise,function(){var M;return u.__generator(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,(0,y.deleteFile)(_,k("data-name"),k("data-source"))];case 1:return P.sent(),[3,3];case 2:return M=P.sent(),[2,_.status(M)];case 3:return _.state.activeElements=[],[2,(0,x.loadTree)(_).catch(_.status)]}})})}},!!T.preview&&{icon:"eye",title:"Preview",exec:function(){var M=_.dlg({buttons:["fullsize","dialog.close"]}),P=_.c.div(b,'<div class="jodit-icon_loader"></div>'),j=_.c.div(b+"__box"),O=_.c.fromHTML(w()),I=_.c.fromHTML(w("prev","left")),N=function(L){var B=_.c.element("img");B.setAttribute("src",L);var R=function(){var z;_.isInDestruct||(_.e.off(B,"load"),d.Dom.detach(P),T.showPreviewNavigation&&(d.Dom.prevWithClass(A,_.files.getFullElName("item"))&&P.appendChild(I),d.Dom.nextWithClass(A,_.files.getFullElName("item"))&&P.appendChild(O)),P.appendChild(j),j.appendChild(B),M.setPosition(),(z=_==null?void 0:_.events)===null||z===void 0||z.fire("previewOpenedAndLoaded"))};_.e.on(B,"load",R),B.complete&&R()};_.e.on([O,I],"click",function(){if(!(A=this===O?d.Dom.nextWithClass(A,_.files.getFullElName("item")):d.Dom.prevWithClass(A,_.files.getFullElName("item"))))throw(0,h.error)("Need element");d.Dom.detach(P),d.Dom.detach(j),P.innerHTML='<div class="jodit-icon_loader"></div>',N(k("href"))}),_.e.on("beforeDestruct",function(){M.destruct()}),M.container.classList.add(b+"__dialog"),M.setContent(P),M.setPosition(),M.open(),N(k("href")),_.events.on("beforeDestruct",function(){M.destruct()}).fire("previewOpened")}},{icon:"upload",title:"Download",exec:function(){var M=k("href");M&&_.ow.open(M)}}]))},_.defaultTimeout),_.e.on("beforeClose",function(){return S.close()}).on("beforeDestruct",function(){return S.destruct()}),E.stopPropagation(),E.preventDefault(),!1}}}},66267:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.elementsMap=void 0;var s=new WeakMap;a.elementsMap=function(u){var d=s.get(u);return d||s.set(u,d={}),d}},63511:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.FileBrowserItem=void 0;var u=s(40332),d=function(){function h(f){var m=this;this.data=f,Object.keys(f).forEach(function(p){m[p]=f[p]})}return h.create=function(f){return f instanceof h?f:new h(f)},Object.defineProperty(h.prototype,"path",{get:function(){return(0,u.normalizePath)(this.data.source.path?this.data.source.path+"/":"/")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"imageURL",{get:function(){var f=this.time||new Date().getTime().toString(),m=this.data,p=m.source,g=m.thumb||m.file;return m.thumbIsAbsolute&&g?g:(0,u.normalizeUrl)(p.baseurl,p.path,g||"")+"?_tmst="+encodeURIComponent(f)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"fileURL",{get:function(){var f=this.data.name,m=this.data,p=m.file,g=m.source;return p!==void 0&&(f=p),m.fileIsAbsolute&&f?f:(0,u.normalizeUrl)(g.baseurl,g.path,f||"")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"time",{get:function(){var f=this.data.changed;return f&&(typeof f=="number"?new Date(f).toLocaleString():f)||""},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"uniqueHashKey",{get:function(){var f=this.data;return[f.sourceName,f.name,f.file,this.time,f.thumb].join("_").toLowerCase().replace(/[^0-9a-z\-.]/g,"-")},enumerable:!1,configurable:!0}),h.prototype.toJSON=function(){return this.data},h}();a.FileBrowserItem=d},38097:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255),d=s(93166),h=s(10172),f=s(41374),m=s(6102);d.Config.prototype.filebrowser={namespace:"",extraButtons:[],filter:function(p,g){return g=g.toLowerCase(),(0,h.isString)(p)?p.toLowerCase().indexOf(g)!==-1:(0,h.isString)(p.name)?p.name.toLowerCase().indexOf(g)!==-1:!(0,h.isString)(p.file)||p.file.toLowerCase().indexOf(g)!==-1},sortBy:"changed-desc",sort:function(p,g,v){var x=u.__read(v.toLowerCase().split("-"),2),y=x[0],b=x[1]==="asc",w=function(E,C){return C>E?b?-1:1:E>C?b?1:-1:0};if((0,h.isString)(p))return w(p.toLowerCase(),g.toLowerCase());if(p[y]===void 0||y==="name")return(0,h.isString)(p.name)?w(p.name.toLowerCase(),g.name.toLowerCase()):(0,h.isString)(p.file)?w(p.file.toLowerCase(),g.file.toLowerCase()):0;switch(y){case"changed":var _=new Date(p.changed).getTime(),S=new Date(g.changed).getTime();return b?_-S:S-_;case"size":return _=(0,m.humanSizeToBytes)(p.size),S=(0,m.humanSizeToBytes)(g.size),b?_-S:S-_}return 0},editImage:!0,preview:!0,showPreviewNavigation:!0,showSelectButtonInPreview:!0,contextMenu:!0,howLongShowMsg:3e3,createNewFolder:!0,deleteFolder:!0,renameFolder:!0,moveFolder:!0,moveFile:!0,permissionsPresets:{allowFileDownload:void 0,allowFileMove:void 0,allowFileRemove:void 0,allowFileRename:void 0,allowFileUpload:void 0,allowFileUploadRemote:void 0,allowFiles:void 0,allowFolderCreate:void 0,allowFolderMove:void 0,allowFolderRemove:void 0,allowFolderRename:void 0,allowFolderTree:void 0,allowFolders:void 0,allowGeneratePdf:void 0,allowImageCrop:void 0,allowImageResize:void 0},showFoldersPanel:!0,storeLastOpenedFolder:!0,width:859,height:400,buttons:["filebrowser.upload","filebrowser.remove","filebrowser.update","filebrowser.select","filebrowser.edit","|","filebrowser.tiles","filebrowser.list","|","filebrowser.filter","|","filebrowser.sort"],removeButtons:[],fullsize:!1,showTooltip:!0,view:null,isSuccess:function(p){return p.success},getMessage:function(p){return p.data.messages!==void 0&&(0,h.isArray)(p.data.messages)?p.data.messages.join(" "):""},showFileName:!0,showFileSize:!0,showFileChangeTime:!0,saveStateInStorage:{storeLastOpenedFolder:!0,storeView:!0,storeSortBy:!0},pixelOffsetLoadNewChunk:200,getThumbTemplate:function(p,g,v){var x=this.options,y=this.files.getFullElName("item"),b=x.showFileName,w=x.showFileSize&&p.size,_=x.showFileChangeTime&&p.time,S="";p.file!==void 0&&(S=p.file);var E='<div class="'.concat(y,'-info">').concat(b?'<span class="'.concat(y,'-info-filename">').concat(S,"</span>"):"").concat(w?'<span class="'.concat(y,'-info-filesize">').concat(p.size,"</span>"):"").concat(_?'<span class="'.concat(y,'-info-filechanged">').concat(_,"</span>"):"","</div>");return`<a
			data-jodit-filebrowser-item="true"
			data-is-file="`.concat(p.isImage?0:1,`"
			draggable="true"
			class="`).concat(y,`"
			href="`).concat(p.fileURL,`"
			data-source="`).concat(v,`"
			data-path="`).concat(p.path,`"
			data-name="`).concat(S,`"
			title="`).concat(S,`"
			data-url="`).concat(p.fileURL,`">
				<img
					data-is-file="`).concat(p.isImage?0:1,`"
					data-src="`).concat(p.fileURL,`"
					src="`).concat(p.imageURL,`"
					alt="`).concat(S,`"
					loading="lazy"
				/>
				`).concat(b||w||_?E:"",`
			</a>`)},ajax:u.__assign(u.__assign({},d.Config.prototype.defaultAjaxOptions),{url:"",data:{},cache:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",method:"POST",processData:!0,headers:{},prepareData:function(p){return p},process:function(p){return p}}),create:{data:{action:"folderCreate"}},getLocalFileByUrl:{data:{action:"getLocalFileByUrl"}},resize:{data:{action:"imageResize"}},crop:{data:{action:"imageCrop"}},fileMove:{data:{action:"fileMove"}},folderMove:{data:{action:"folderMove"}},fileRename:{data:{action:"fileRename"}},folderRename:{data:{action:"folderRename"}},fileRemove:{data:{action:"fileRemove"}},folderRemove:{data:{action:"folderRemove"}},items:{data:{action:"files"}},folder:{data:{action:"folders"}},permissions:{data:{action:"permissions"}}},d.Config.prototype.controls.filebrowser={upload:{icon:"plus",isInput:!0,isDisabled:function(p){return!p.dataProvider.canI("FileUpload")},getContent:function(p){var g=new f.UIFileInput(p,{onlyImages:p.state.onlyImages});return p.e.fire("bindUploader.filebrowser",g.container),g.container}},remove:{icon:"bin",isDisabled:function(p){return!p.state.activeElements.length||!p.dataProvider.canI("FileRemove")},exec:function(p){p.e.fire("fileRemove.filebrowser")}},update:{exec:function(p){p.e.fire("update.filebrowser")}},select:{icon:"check",isDisabled:function(p){return!p.state.activeElements.length},exec:function(p){p.e.fire("select.filebrowser")}},edit:{icon:"pencil",isDisabled:function(p){var g=p.state.activeElements;return g.length!==1||!g[0].isImage||!(p.dataProvider.canI("ImageCrop")||p.dataProvider.canI("ImageResize"))},exec:function(p){p.e.fire("edit.filebrowser")}},tiles:{icon:"th",isActive:function(p){return p.state.view==="tiles"},exec:function(p){p.e.fire("view.filebrowser","tiles")}},list:{icon:"th-list",isActive:function(p){return p.state.view==="list"},exec:function(p){p.e.fire("view.filebrowser","list")}},filter:{isInput:!0,getContent:function(p,g,v){var x=v.container.querySelector(".jodit-input");if(x)return x;var y=p.c.element("input",{class:"jodit-input",placeholder:p.i18n("Filter")});return y.value=p.state.filterWord,p.e.on(y,"keydown mousedown",p.async.debounce(function(){p.e.fire("filter.filebrowser",y.value)},p.defaultTimeout)),y}},sort:{isInput:!0,getContent:function(p){var g=p.c.fromHTML('<select class="jodit-input jodit-select">'+'<option value="changed-asc">'.concat(p.i18n("Sort by changed")," ()</option>")+'<option value="changed-desc">'.concat(p.i18n("Sort by changed")," ()</option>")+'<option value="name-asc">'.concat(p.i18n("Sort by name")," ()</option>")+'<option value="name-desc">'.concat(p.i18n("Sort by name")," ()</option>")+'<option value="size-asc">'.concat(p.i18n("Sort by size")," ()</option>")+'<option value="size-desc">'.concat(p.i18n("Sort by size")," ()</option>")+"</select>");return g.value=p.state.sortBy,p.e.on("sort.filebrowser",function(v){g.value!==v&&(g.value=v)}).on(g,"change",function(){p.e.fire("sort.filebrowser",g.value)}),g}}}},82530:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_SOURCE_NAME=void 0;var u=s(20255),d=s(40332),h=s(30056),f=s(43441),m=s(63511);a.DEFAULT_SOURCE_NAME="default";var p=function(){function g(v,x){this.parent=v,this.options=x,this.__currentPermissions=null,this.ajaxInstances=new Map,this.progressHandler=function(y){}}return Object.defineProperty(g.prototype,"o",{get:function(){return this.options},enumerable:!1,configurable:!0}),g.prototype.get=function(v){var x=this,y=this.ajaxInstances;if(y.has(v)){var b=y.get(v);b==null||b.abort(),y.delete(v)}var w=(0,d.ConfigProto)(this.options[v]!==void 0?this.options[v]:{},(0,d.ConfigProto)({onProgress:this.progressHandler},this.o.ajax));w.prepareData&&(w.data=w.prepareData.call(this,w.data));var _=new h.Ajax(w);y.set(v,_);var S=_.send();return S.finally(function(){_.destruct(),y.delete(v),x.progressHandler(100)}).catch(function(){return null}),S.then(function(E){return E.json()}).then(function(E){if(E&&!x.isSuccess(E))throw new Error(x.getMessage(E));return E})},g.prototype.onProgress=function(v){this.progressHandler=v},g.prototype.permissions=function(v,x){return u.__awaiter(this,void 0,Promise,function(){var y=this;return u.__generator(this,function(b){return this.o.permissions?(this.o.permissions.data.path=v,this.o.permissions.data.source=x,this.o.permissions.url?[2,this.get("permissions").then(function(w){var _=y.o.permissions.process;if(_||(_=y.o.ajax.process),_){var S=_.call(self,w);S.data.permissions&&(y.__currentPermissions=S.data.permissions)}return y.__currentPermissions})]:[2,null]):[2,null]})})},g.prototype.canI=function(v){var x="allow"+v,y=this.o.permissionsPresets[x];return y!==void 0?y:this.__currentPermissions==null||this.__currentPermissions[x]===void 0||this.__currentPermissions[x]},g.prototype.__items=function(v,x,y,b){var w=this,_=this.options;return _.items?(_.items.data.path=v,_.items.data.source=x,_.items.data.mods=y,this.get("items").then(function(S){var E=w.o.items.process;return E||(E=w.o.ajax.process),E&&(S=E.call(self,S)),b(S)})):Promise.reject("Set Items api options")},g.prototype.items=function(v,x,y){var b=this;return y===void 0&&(y={}),this.__items(v,x,y,function(w){return b.generateItemsList(w.data.sources,y)})},g.prototype.itemsEx=function(v,x,y){var b=this;return y===void 0&&(y={}),this.__items(v,x,y,function(w){return{items:b.generateItemsList(w.data.sources,y),loadedTotal:(_=w.data.sources,_.reduce(function(S,E){return S+E.files.length},0))};var _})},g.prototype.generateItemsList=function(v,x){var y=this;x===void 0&&(x={});var b=[];return v.forEach(function(w){if(w.files&&w.files.length){var _=y.o.sort;(0,d.isFunction)(_)&&x.sortBy&&w.files.sort(function(S,E){return _(S,E,x.sortBy)}),w.files.forEach(function(S){(function(E){var C;return!(!((C=x.filterWord)===null||C===void 0)&&C.length)||y.o.filter===void 0||y.o.filter(E,x.filterWord)})(S)&&function(E){return E.type==="folder"||!x.onlyImages||E.isImage===void 0||E.isImage}(S)&&b.push(m.FileBrowserItem.create(u.__assign(u.__assign({},S),{sourceName:w.name,source:w})))})}}),b},g.prototype.tree=function(v,x){return u.__awaiter(this,void 0,Promise,function(){var y=this;return u.__generator(this,function(b){switch(b.label){case 0:return v=(0,d.normalizeRelativePath)(v),this.o.folder?[4,this.permissions(v,x)]:[2,Promise.reject("Set Folder Api options")];case 1:return b.sent(),this.o.folder.data.path=v,this.o.folder.data.source=x,[2,this.get("folder").then(function(w){var _=y.o.folder.process;return _||(_=y.o.ajax.process),_&&(w=_.call(self,w)),w.data.sources})]}})})},g.prototype.getPathByUrl=function(v){var x=this;return(0,d.set)("options.getLocalFileByUrl.data.url",v,this),this.get("getLocalFileByUrl").then(function(y){if(x.isSuccess(y))return y.data;throw(0,d.error)(x.getMessage(y))})},g.prototype.createFolder=function(v,x,y){var b=this,w=this.o.create;if(!w)throw(0,d.error)("Set Create api options");return w.data.source=y,w.data.path=x,w.data.name=v,this.get("create").then(function(_){if(b.isSuccess(_))return!0;throw(0,d.error)(b.getMessage(_))})},g.prototype.move=function(v,x,y,b){var w=this,_=b?"fileMove":"folderMove",S=this.options[_];if(!S)throw(0,d.error)("Set Move api options");return S.data.from=v,S.data.path=x,S.data.source=y,this.get(_).then(function(E){if(w.isSuccess(E))return!0;throw(0,d.error)(w.getMessage(E))})},g.prototype.remove=function(v,x,y,b){var w=this,_=this.o[v];if(!_)throw(0,d.error)('Set "'.concat(v,'" api options'));return _.data.path=x,_.data.name=y,_.data.source=b,this.get(v).then(function(S){return _.process&&(S=_.process.call(w,S)),w.getMessage(S)})},g.prototype.fileRemove=function(v,x,y){return this.remove("fileRemove",v,x,y)},g.prototype.folderRemove=function(v,x,y){return this.remove("folderRemove",v,x,y)},g.prototype.rename=function(v,x,y,b,w){var _=this,S=this.o[v];if(!S)throw(0,d.error)('Set "'.concat(v,'" api options'));return S.data.path=x,S.data.name=y,S.data.newname=b,S.data.source=w,this.get(v).then(function(E){return S.process&&(E=S.process.call(self,E)),_.getMessage(E)})},g.prototype.folderRename=function(v,x,y,b){return this.rename("folderRename",v,x,y,b)},g.prototype.fileRename=function(v,x,y,b){return this.rename("fileRename",v,x,y,b)},g.prototype.changeImage=function(v,x,y,b,w,_){this.o[v]||(this.o[v]={data:{}});var S=this.o[v];return S.data===void 0&&(S.data={action:v}),S.data.newname=w||b,_&&(S.data.box=_),S.data.path=x,S.data.name=b,S.data.source=y,this.get(v).then(function(){return!0})},g.prototype.crop=function(v,x,y,b,w){return this.changeImage("crop",v,x,y,b,w)},g.prototype.resize=function(v,x,y,b,w){return this.changeImage("resize",v,x,y,b,w)},g.prototype.getMessage=function(v){return this.options.getMessage(v)},g.prototype.isSuccess=function(v){return this.options.isSuccess(v)},g.prototype.destruct=function(){this.ajaxInstances.forEach(function(v){return v.destruct()}),this.ajaxInstances.clear()},u.__decorate([f.autobind],g)}();a.default=p},46341:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.makeContextMenu=a.makeDataProvider=void 0;var u=s(82530),d=s(60403);a.makeDataProvider=function(h,f){return new u.default(h,f)},a.makeContextMenu=function(h){return new d.ContextMenu(h)}},48096:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.deleteFile=void 0,a.deleteFile=function(s,u,d){return s.dataProvider.fileRemove(s.state.currentPath,u,d).then(function(h){s.status(h||s.i18n('File "%s" was deleted',u),!0)}).catch(s.status)}},4253:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.loadItems=void 0,a.loadItems=function(s){return s.files.setMod("active",!0),s.files.setMod("loading",!0),s.dataProvider.items(s.state.currentPath,s.state.currentSource,{sortBy:s.state.sortBy,onlyImages:s.state.onlyImages,filterWord:s.state.filterWord}).then(function(u){u&&(s.state.elements=u,s.state.activeElements=[])}).catch(s.status).finally(function(){return s.files.setMod("loading",!1)})}},36303:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.loadTree=void 0;var u=s(20255),d=s(64968),h=s(4253);a.loadTree=function(f){return u.__awaiter(this,void 0,Promise,function(){var m,p;return u.__generator(this,function(g){return f.tree.setMod("active",!0),d.Dom.detach(f.tree.container),m=(0,h.loadItems)(f),f.o.showFoldersPanel?(f.tree.setMod("loading",!0),p=f.dataProvider.tree(f.state.currentPath,f.state.currentSource).then(function(v){f.state.sources=v}).catch(f.status).finally(function(){return f.tree.setMod("loading",!1)}),[2,Promise.all([p,m])]):(f.tree.setMod("active",!1),[2,m])})})}},50885:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isFileBrowserFilesItem=a.FileBrowser=void 0;var u=s(20255);s(40692);var d=s(93166),h=s(86893),f=s(77462),m=s(40332),p=s(64968),g=s(46341),v=s(86774),x=s(21347),y=s(44734),b=s(82530),w=s(43441),_=s(98782),S=s(55395),E=s(36303),C=s(4253),A=s(56562),T=s(59829),k=s(43608);s(38097);var D=function(M){function P(j){var O,I=this;(I=M.call(this,j)||this).browser=I.c.div(I.componentName),I.status_line=I.c.div(I.getFullElName("status")),I.tree=new _.FileBrowserTree(I),I.files=new _.FileBrowserFiles(I),I.state=(0,S.observable)({currentPath:"",currentSource:b.DEFAULT_SOURCE_NAME,currentBaseUrl:"",activeElements:[],elements:[],sources:[],view:"tiles",sortBy:"changed-desc",filterWord:"",onlyImages:!1}),I.errorHandler=function(K){(0,m.isAbort)(K)||(K instanceof Error?I.status(I.i18n(K.message)):I.status(I.dataProvider.getMessage(K)))},I.close=function(){I._dialog.close()},I.attachEvents(j);var N=I;N.options=(0,m.ConfigProto)(j||{},d.Config.defaultOptions.filebrowser),N.storage=f.Storage.makeStorage(!!I.o.saveStateInStorage,I.componentName),N.dataProvider=(0,g.makeDataProvider)(N,N.options),N._dialog=I.dlg({minWidth:Math.min(700,screen.width),minHeight:300,buttons:(O=I.o.headerButtons)!==null&&O!==void 0?O:["fullsize","dialog.close"]}),I.proxyDialogEvents(N),N.browser.component=I,N.container=N.browser,N.o.showFoldersPanel&&N.browser.appendChild(N.tree.container),N.browser.appendChild(N.files.container),N.browser.appendChild(N.status_line),y.selfListeners.call(N),x.nativeListeners.call(N),v.stateListeners.call(N),N._dialog.setSize(N.o.width,N.o.height),["getLocalFileByUrl","crop","resize","create","fileMove","folderMove","fileRename","folderRename","fileRemove","folderRemove","folder","items","permissions"].forEach(function(K){I.options[K]!=null&&(I.options[K]=(0,m.ConfigProto)(I.options[K],I.o.ajax))});var L=I.o.saveStateInStorage||{storeLastOpenedFolder:!1,storeView:!1,storeSortBy:!1},B=L.storeSortBy,R=L.storeLastOpenedFolder,z=L.storeView&&I.storage.get("view");N.state.view=z&&I.o.view==null?z==="list"?"list":"tiles":N.o.view==="list"?"list":"tiles",N.files.setMod("view",N.state.view);var W=B&&N.storage.get("sortBy");if(W){var U=W.split("-");N.state.sortBy=["changed","name","size"].includes(U[0])?W:"changed-desc"}else N.state.sortBy=N.o.sortBy||"changed-desc";if(R){var H=N.storage.get("currentPath"),X=N.storage.get("currentSource");N.state.currentPath=H??"",N.state.currentSource=X??""}return N.initUploader(N),N.setStatus(A.STATUSES.ready),I}return u.__extends(P,M),P.prototype.className=function(){return"Filebrowser"},P.prototype.onSelect=function(j){var O=this;return function(){if(O.state.activeElements.length){var I=[],N=[];O.state.activeElements.forEach(function(B){var R=B.fileURL;R&&(I.push(R),N.push(B.isImage||!1))}),O.close();var L={baseurl:"",files:I,isImages:N};(0,m.isFunction)(j)&&j(L),O.close()}return!1}},Object.defineProperty(P.prototype,"isOpened",{get:function(){return this._dialog.isOpened&&this.browser.style.display!=="none"},enumerable:!1,configurable:!0}),P.prototype.status=function(j,O){j&&!(0,m.isAbort)(j)&&((0,m.isString)(j)||(j=j.message),(0,m.isString)(j)&&(0,m.trim)(j).length&&this.message.message(j,O?"success":"error",this.o.howLongShowMsg))},P.prototype.open=function(j,O){var I=this;return j===void 0&&(j=this.o.defaultCallback),O===void 0&&(O=!1),this.state.onlyImages=O,this.async.promise(function(N,L){if(!I.o.items||!I.o.items.url)throw(0,m.error)("Need set options.filebrowser.ajax.url");var B=0;I.e.off(I.files.container,"dblclick").on(I.files.container,"dblclick",I.onSelect(j)).on(I.files.container,"touchstart",function(){var z=new Date().getTime();h.EMULATE_DBLCLICK_TIMEOUT>z-B&&I.onSelect(j)(),B=z}).off("select.filebrowser").on("select.filebrowser",I.onSelect(j));var R=I.c.div();I.toolbar.build(I.__getButtons()).appendTo(R),I._dialog.open(I.browser,R),I.e.fire("sort.filebrowser",I.state.sortBy),(0,E.loadTree)(I).then(N,L)})},P.prototype.__getButtons=function(){var j,O=this;return((j=this.o.buttons)!==null&&j!==void 0?j:[]).filter(function(I){if(!(0,m.isString)(I))return!0;switch(I){case"filebrowser.upload":return O.dataProvider.canI("FileUpload");case"filebrowser.edit":return O.dataProvider.canI("ImageResize")||O.dataProvider.canI("ImageCrop");case"filebrowser.remove":return O.dataProvider.canI("FileRemove")}return!0})},P.prototype.initUploader=function(j){var O,I=this,N=this,L=(O=j==null?void 0:j.options)===null||O===void 0?void 0:O.uploader,B=(0,m.ConfigProto)(L||{},d.Config.defaultOptions.uploader),R=function(){return(0,C.loadItems)(I)};N.uploader=N.getInstance("Uploader",B),N.uploader.setPath(N.state.currentPath).setSource(N.state.currentSource).bind(N.browser,R,N.errorHandler),this.state.on(["change.currentPath","change.currentSource"],function(){I.uploader.setPath(I.state.currentPath).setSource(I.state.currentSource)}),N.e.on("bindUploader.filebrowser",function(z){N.uploader.bind(z,R,N.errorHandler)})},P.prototype.proxyDialogEvents=function(j){var O=this;["afterClose","beforeOpen"].forEach(function(I){j._dialog.events.on(j.dlg,I,function(){O.e.fire(I)})})},P.prototype.destruct=function(){this.isInDestruct||(M.prototype.destruct.call(this),this._dialog.destruct(),this.events&&this.e.off(".filebrowser"),this.uploader&&this.uploader.destruct())},u.__decorate([w.autobind],P.prototype,"status",null),u.__decorate([w.autobind],P.prototype,"open",null),u.__decorate([(0,w.derive)(T.Dlgs)],P)}(k.ViewWithToolbar);a.FileBrowser=D,a.isFileBrowserFilesItem=function(M){return p.Dom.isElement(M)&&M.classList.contains(_.FileBrowserFiles.prototype.getFullElName("item"))}},63463:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(50885),a)},21347:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.nativeListeners=a.elementToItem=a.getItem=void 0;var u=s(20255),d=s(40332),h=s(34468),f=s(64968),m=s(66267),p=s(36303);a.getItem=function(g,v,x){return x===void 0&&(x="a"),f.Dom.closest(g,function(y){return f.Dom.isTag(y,x)},v)},a.elementToItem=function(g,v){return v[g.dataset.key||""].item},a.nativeListeners=function(){var g=this,v=!1,x=(0,m.elementsMap)(this),y=this;y.e.on(y.tree.container,"dragstart",function(b){var w=(0,a.getItem)(b.target,y.container);w&&y.o.moveFolder&&(v=w)}).on(y.tree.container,"drop",function(b){if((y.o.moveFile||y.o.moveFolder)&&v){var w=(0,d.attr)(v,"-path")||"";if(!y.o.moveFolder&&v.classList.contains(g.tree.getFullElName("item"))||v.classList.contains(g.files.getFullElName("item"))&&(w+=(0,d.attr)(v,"-name"),!y.o.moveFile))return!1;var _=(0,a.getItem)(b.target,y.container);if(!_)return;y.dataProvider.move(w,(0,d.attr)(_,"-path")||"",(0,d.attr)(_,"-source")||"",v.classList.contains(g.files.getFullElName("item"))).then(function(){return(0,p.loadTree)(g)}).catch(y.status),v=!1}}).on(y.files.container,"contextmenu",(0,h.default)(y)).on(y.files.container,"click",function(b){(0,d.ctrlKey)(b)||(g.state.activeElements=[])}).on(y.files.container,"click",function(b){var w=(0,a.getItem)(b.target,y.container);if(w){var _=(0,a.elementToItem)(w,x);if(_)return y.state.activeElements=(0,d.ctrlKey)(b)?u.__spreadArray(u.__spreadArray([],u.__read(y.state.activeElements),!1),[_],!1):[_],b.stopPropagation(),!1}}).on(y.files.container,"dragstart",function(b){if(y.o.moveFile){var w=(0,a.getItem)(b.target,y.container);if(!w)return;v=w}}).on(y.container,"drop",function(b){return b.preventDefault()})}},44734:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.selfListeners=void 0;var u=s(20255),d=s(10172),h=s(40332),f=s(82530),m=s(35503),p=s(36303),g=s(4253),v=s(48096);a.selfListeners=function(){var x=this,y=this.state,b=this.dataProvider,w=this;w.e.on("view.filebrowser",function(_){_!==y.view&&(y.view=_)}).on("sort.filebrowser",function(_){_!==y.sortBy&&(y.sortBy=_,(0,g.loadItems)(w))}).on("filter.filebrowser",function(_){_!==y.filterWord&&(y.filterWord=_,(0,g.loadItems)(w))}).on("openFolder.filebrowser",function(_){var S;S=_.name===".."?_.path.split("/").filter(function(E){return E.length}).slice(0,-1).join("/"):(0,h.normalizePath)(_.path,_.name),w.state.currentPath=S,w.state.currentSource=_.name==="."?f.DEFAULT_SOURCE_NAME:_.source}).on("removeFolder.filebrowser",function(_){w.confirm("Are you sure?","Delete",function(S){S&&b.folderRemove(_.path,_.name,_.source).then(function(E){return w.status(E,!0),(0,p.loadTree)(w)}).catch(w.status)})}).on("renameFolder.filebrowser",function(_){w.prompt("Enter new name","Rename",function(S){if(!(0,d.isValidName)(S))return w.status(w.i18n("Enter new name")),!1;b.folderRename(_.path,_.name,S,_.source).then(function(E){return w.state.activeElements=[],w.status(E,!0),(0,p.loadTree)(w)}).catch(w.status)},"type name",_.name)}).on("addFolder.filebrowser",function(_){w.prompt("Enter Directory name","Create directory",function(S){b.createFolder(S,_.path,_.source).then(function(){return(0,p.loadTree)(w)}).catch(w.status)},"type name")}).on("fileRemove.filebrowser",function(){w.state.activeElements.length&&w.confirm("Are you sure?","",function(_){if(_){var S=[];w.state.activeElements.forEach(function(E){S.push((0,v.deleteFile)(w,E.file||E.name||"",E.sourceName))}),w.state.activeElements=[],Promise.all(S).then(function(){return(0,p.loadTree)(w).catch(w.status)},w.status)}})}).on("edit.filebrowser",function(){if(w.state.activeElements.length===1){var _=u.__read(x.state.activeElements,1)[0];m.openImageEditor.call(w,_.fileURL,_.file||"",_.path,_.sourceName)}}).on("fileRename.filebrowser",function(_,S,E){w.state.activeElements.length===1&&w.prompt("Enter new name","Rename",function(C){if(!(0,d.isValidName)(C))return w.status(w.i18n("Enter new name")),!1;b.fileRename(S,_,C,E).then(function(A){w.state.activeElements=[],w.status(A,!0),(0,g.loadItems)(w)}).catch(w.status)},"type name",_)}).on("update.filebrowser",function(){(0,p.loadTree)(x).then(x.status,x.status)})}},86774:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.stateListeners=void 0;var u=s(64968),d=s(89693),h=s(2074),f=s(66267),m=s(36303);a.stateListeners=function(){var p=this,g=(0,f.elementsMap)(this),v=this,x=v.state,y=v.files,b=v.create,w=v.options;x.on(["change.currentPath","change.currentSource"],this.async.debounce(function(){p.o.saveStateInStorage&&p.o.saveStateInStorage.storeLastOpenedFolder&&p.storage.set("currentPath",p.state.currentPath).set("currentSource",p.state.currentSource),(0,m.loadTree)(p).catch(p.status)},this.defaultTimeout)).on("beforeChange.activeElements",function(){x.activeElements.forEach(function(_){var S=g[_.uniqueHashKey].elm;S&&S.classList.remove(y.getFullElName("item","active",!0))})}).on("change.activeElements",function(){p.e.fire("changeSelection"),x.activeElements.forEach(function(_){var S=g[_.uniqueHashKey].elm;S&&S.classList.add(y.getFullElName("item","active",!0))})}).on("change.view",function(){y.setMod("view",x.view),p.o.saveStateInStorage&&p.o.saveStateInStorage.storeView&&p.storage.set("view",x.view)}).on("change.sortBy",function(){p.o.saveStateInStorage&&p.o.saveStateInStorage.storeSortBy&&p.storage.set("sortBy",x.sortBy)}).on("change.elements",this.async.debounce(function(){u.Dom.detach(y.container),x.elements.length?x.elements.forEach(function(_){p.files.container.appendChild(function(S){var E=S.uniqueHashKey;if(g[E])return g[E].elm;var C=b.fromHTML(w.getThumbTemplate.call(p,S,S.source,S.sourceName.toString()));return C.dataset.key=E,g[E]={item:S,elm:C},g[E].elm}(_))}):y.container.appendChild(b.div(p.componentName+"_no-files_true",p.i18n("There are no files")))},this.defaultTimeout)).on("change.sources",this.async.debounce(function(){u.Dom.detach(p.tree.container),x.sources.forEach(function(_){var S=_.name;if(S&&S!=="default"&&p.tree.container.appendChild(b.div(p.tree.getFullElName("source-title"),S)),_.folders.forEach(function(C){var A,T=b.a(p.tree.getFullElName("item"),{draggable:"draggable",href:"#","data-path":(0,d.normalizePath)(_.path,C+"/"),"data-name":C,"data-source":S,"data-source-path":_.path},b.span(p.tree.getFullElName("item-title"),C)),k=function(D){return function(M){p.e.fire("".concat(D,".filebrowser"),{name:C,path:(0,d.normalizePath)(_.path+"/"),source:S}),M.stopPropagation(),M.preventDefault()}};p.e.on(T,"click",k("openFolder")),p.tree.container.appendChild(T),C!==".."&&C!=="."&&(w.renameFolder&&p.dataProvider.canI("FolderRename")&&((A=(0,h.Button)(p,{icon:{name:"pencil"},name:"rename",tooltip:"Rename",size:"tiny"})).onAction(k("renameFolder")),T.appendChild(A.container)),w.deleteFolder&&p.dataProvider.canI("FolderRemove")&&((A=(0,h.Button)(p,{icon:{name:"cancel"},name:"remove",tooltip:"Delete",size:"tiny"})).onAction(k("removeFolder")),T.appendChild(A.container)))}),w.createNewFolder&&p.dataProvider.canI("FolderCreate")){var E=(0,h.Button)(p,"plus","Add folder","secondary");E.onAction(function(){p.e.fire("addFolder",{path:(0,d.normalizePath)(_.path+"/"),source:S})}),p.tree.append(E)}})},this.defaultTimeout))}},21505:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.FileBrowserFiles=void 0;var u=s(20255);s(27452);var d=function(h){function f(){return h!==null&&h.apply(this,arguments)||this}return u.__extends(f,h),f.prototype.className=function(){return"FilebrowserFiles"},f}(s(2074).UIGroup);a.FileBrowserFiles=d},98782:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(21505),a),u.__exportStar(s(42472),a)},42472:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.FileBrowserTree=void 0;var u=s(20255);s(51422);var d=function(h){function f(){return h!==null&&h.apply(this,arguments)||this}return u.__extends(f,h),f.prototype.className=function(){return"FilebrowserTree"},f}(s(2074).UIGroup);a.FileBrowserTree=d},3107:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.Command=void 0;var s=function(){function u(d,h,f,m){this.oldValue=d,this.newValue=h,this.history=f,this.tick=m}return u.prototype.undo=function(){this.history.snapshot.restore(this.oldValue)},u.prototype.redo=function(){this.history.snapshot.restore(this.newValue)},u}();a.Command=s},15432:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.History=void 0;var u=s(20255),d=s(93166),h=s(56562),f=s(31648),m=s(3621),p=s(3107),g=s(43441);d.Config.prototype.history={enable:!0,maxHistoryLength:1/0,timeout:1e3},d.Config.prototype.observer=d.Config.prototype.history;var v=function(x){function y(b,w,_){w===void 0&&(w=new m.Stack(b.o.history.maxHistoryLength)),_===void 0&&(_=new f.Snapshot(b));var S=x.call(this,b)||this;return S.updateTick=0,S.__stack=w,S.snapshot=_,b.o.history.enable&&b.e.on("afterAddPlace.history",function(){S.isInDestruct||(S.startValue=S.snapshot.make(),b.events.on("internalChange internalUpdate",function(){S.startValue=S.snapshot.make()}).on(b.editor,["changeSelection","selectionstart","selectionchange","mousedown","mouseup","keydown","keyup"].map(function(E){return E+".history"}).join(" "),function(){S.startValue.html===S.j.getNativeEditorValue()&&(S.startValue=S.snapshot.make())}).on(S,"change.history",S.onChange))}),S}return u.__extends(y,x),y.prototype.className=function(){return"History"},Object.defineProperty(y.prototype,"startValue",{get:function(){return this.__startValue},set:function(b){this.__startValue=b},enumerable:!1,configurable:!0}),y.prototype.__upTick=function(){this.updateTick+=1},y.prototype.onChange=function(){this.__processChanges()},y.prototype.__processChanges=function(){!this.snapshot.isBlocked&&this.j.o.history.enable&&this.updateStack()},y.prototype.updateStack=function(b){b===void 0&&(b=!1);var w=this.snapshot.make();if(!f.Snapshot.equal(w,this.startValue)){var _=new p.Command(this.startValue,w,this,this.updateTick);if(b){var S=this.__stack.current();S&&this.updateTick===S.tick&&this.__stack.replace(_)}else this.__stack.push(_);this.startValue=w,this.fireChangeStack()}},y.prototype.redo=function(){this.__stack.redo()&&(this.startValue=this.snapshot.make(),this.fireChangeStack())},y.prototype.canRedo=function(){return this.__stack.canRedo()},y.prototype.undo=function(){this.__stack.undo()&&(this.startValue=this.snapshot.make(),this.fireChangeStack())},y.prototype.canUndo=function(){return this.__stack.canUndo()},y.prototype.clear=function(){this.startValue=this.snapshot.make(),this.__stack.clear(),this.fireChangeStack()},Object.defineProperty(y.prototype,"length",{get:function(){return this.__stack.length},enumerable:!1,configurable:!0}),y.prototype.fireChangeStack=function(){var b;this.j&&!this.j.isInDestruct&&((b=this.j.events)===null||b===void 0||b.fire("changeStack"))},y.prototype.destruct=function(){this.isInDestruct||(this.j.events&&this.j.e.off(".history"),this.snapshot.destruct(),x.prototype.destruct.call(this))},u.__decorate([(0,g.debounce)()],y.prototype,"onChange",null),y}(h.ViewComponent);a.History=v},31648:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Snapshot=void 0;var u=s(20255),d=s(56562),h=s(64968),f=s(86893),m=function(p){function g(){var v=p!==null&&p.apply(this,arguments)||this;return v.__isBlocked=!1,v}return u.__extends(g,p),g.prototype.className=function(){return"Snapshot"},g.equal=function(v,x){return v.html===x.html&&JSON.stringify(v.range)===JSON.stringify(x.range)},g.countNodesBeforeInParent=function(v){if(!v.parentNode)return 0;for(var x=v.parentNode.childNodes,y=0,b=null,w=0;x.length>w;w+=1){if(!b||this.isIgnoredNode(x[w])||h.Dom.isText(b)&&h.Dom.isText(x[w])||(y+=1),x[w]===v)return y;b=x[w]}return 0},g.strokeOffset=function(v,x){for(;h.Dom.isText(v);)h.Dom.isText(v=v.previousSibling)&&v.nodeValue&&(x+=v.nodeValue.length);return x},g.prototype.calcHierarchyLadder=function(v){var x=[];if(!v||!v.parentNode||!h.Dom.isOrContains(this.j.editor,v))return[];for(;v&&v!==this.j.editor;)v&&!g.isIgnoredNode(v)&&x.push(g.countNodesBeforeInParent(v)),v=v.parentNode;return x.reverse()},g.prototype.getElementByLadder=function(v){var x,y=this.j.editor;for(x=0;y&&v.length>x;x+=1)y=y.childNodes[v[x]];return y},Object.defineProperty(g.prototype,"isBlocked",{get:function(){return this.__isBlocked},enumerable:!1,configurable:!0}),g.prototype.__block=function(v){this.__isBlocked=v},g.prototype.transaction=function(v){this.__block(!0);try{v()}catch{}this.__block(!1)},g.prototype.make=function(){var v={html:"",range:{startContainer:[],startOffset:0,endContainer:[],endOffset:0}};v.html=this.removeJoditSelection(this.j.editor);var x=this.j.s.sel;if(x&&x.rangeCount){var y=x.getRangeAt(0),b=this.calcHierarchyLadder(y.startContainer),w=this.calcHierarchyLadder(y.endContainer),_=g.strokeOffset(y.startContainer,y.startOffset),S=g.strokeOffset(y.endContainer,y.endOffset);b.length||y.startContainer===this.j.editor||(_=0),w.length||y.endContainer===this.j.editor||(S=0),v.range={startContainer:b,startOffset:_,endContainer:w,endOffset:S}}return v},g.prototype.restore=function(v){var x=this;this.transaction(function(){var y=x.storeScrollState();x.j.getNativeEditorValue()!==v.html&&(x.j.value=v.html),x.restoreOnlySelection(v),x.restoreScrollState(y)})},g.prototype.storeScrollState=function(){return[this.j.ow.scrollY,this.j.editor.scrollTop]},g.prototype.restoreScrollState=function(v){var x=this.j,y=x.ow;y.scrollTo(y.scrollX,v[0]),x.editor.scrollTop=v[1]},g.prototype.restoreOnlySelection=function(v){try{if(v.range){var x=this.j.ed.createRange();x.setStart(this.getElementByLadder(v.range.startContainer),v.range.startOffset),x.setEnd(this.getElementByLadder(v.range.endContainer),v.range.endOffset),this.j.s.selectRange(x)}}catch{this.j.editor.lastChild&&this.j.s.setCursorAfter(this.j.editor.lastChild)}},g.prototype.destruct=function(){this.__block(!1),p.prototype.destruct.call(this)},g.isIgnoredNode=function(v){return h.Dom.isText(v)&&!v.nodeValue||h.Dom.isTemporary(v)},g.prototype.removeJoditSelection=function(v){var x=v.cloneNode(!0);return x.querySelectorAll("[".concat(f.TEMP_ATTR,"]")).forEach(h.Dom.unwrap),x.innerHTML},g}(d.ViewComponent);a.Snapshot=m},3621:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.Stack=void 0;var s=function(){function u(d){this.size=d,this.commands=[],this.stackPosition=-1}return Object.defineProperty(u.prototype,"length",{get:function(){return this.commands.length},enumerable:!1,configurable:!0}),u.prototype.clearRedo=function(){this.commands.length=this.stackPosition+1},u.prototype.clear=function(){this.commands.length=0,this.stackPosition=-1},u.prototype.push=function(d){this.clearRedo(),this.commands.push(d),this.stackPosition+=1,this.commands.length>this.size&&(this.commands.shift(),this.stackPosition-=1)},u.prototype.replace=function(d){this.commands[this.stackPosition]=d},u.prototype.current=function(){return this.commands[this.stackPosition]},u.prototype.undo=function(){return!!this.canUndo()&&(this.commands[this.stackPosition]&&this.commands[this.stackPosition].undo(),this.stackPosition-=1,!0)},u.prototype.redo=function(){return!!this.canRedo()&&(this.stackPosition+=1,this.commands[this.stackPosition]&&this.commands[this.stackPosition].redo(),!0)},u.prototype.canUndo=function(){return this.stackPosition>=0},u.prototype.canRedo=function(){return this.commands.length-1>this.stackPosition},u}();a.Stack=s},95356:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.imageeditor={min_width:20,min_height:20,closeAfterSave:!1,width:"85%",height:"85%",crop:!0,resize:!0,resizeUseRatio:!0,resizeMinWidth:20,resizeMinHeight:20,cropUseRatio:!0,cropDefaultWidth:"70%",cropDefaultHeight:"70%"},d.Icon.set("crop",s(3610)).set("resize",s(56170))},35503:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.openImageEditor=a.ImageEditor=void 0;var u=s(20255);s(62820);var d=s(93166),h=s(56562),f=s(40332),m=s(64968),p=s(96516),g=s(9249),v=s(43441);s(95356);var x="jodit-image-editor",y="resize",b="crop",w=function(_){function S(C){var A=_.call(this,C)||this;A.resizeUseRatio=!0,A.cropUseRatio=!0,A.clicked=!1,A.start_x=0,A.start_y=0,A.top_x=0,A.top_y=0,A.width=0,A.height=0,A.activeTab=y,A.naturalWidth=0,A.naturalHeight=0,A.ratio=0,A.new_h=0,A.new_w=0,A.diff_x=0,A.diff_y=0,A.cropBox={x:0,y:0,w:0,h:0},A.resizeBox={w:0,h:0},A.calcCropBox=function(){var M=A.crop_box.parentNode,P=.8*M.offsetWidth,j=.8*M.offsetHeight,O=P,I=j,N=A.naturalWidth,L=A.naturalHeight;P>N&&j>L?(O=N,I=L):A.ratio>P/j?(O=P,I=L*(P/N)):(O=N*(j/L),I=j),(0,f.css)(A.crop_box,{width:O,height:I})},A.showCrop=function(){if(A.cropImage){A.calcCropBox();var M=A.cropImage.offsetWidth||A.image.offsetWidth||A.image.naturalWidth;A.new_w=E.calcValueByPercent(M,A.o.cropDefaultWidth);var P=A.cropImage.offsetHeight||A.image.offsetHeight||A.image.naturalHeight;A.new_h=A.cropUseRatio?A.new_w/A.ratio:E.calcValueByPercent(P,A.o.cropDefaultHeight),(0,f.css)(A.cropHandler,{backgroundImage:"url("+(0,f.attr)(A.cropImage,"src")+")",width:A.new_w,height:A.new_h,left:M/2-A.new_w/2,top:P/2-A.new_h/2}),A.j.e.fire(A.cropHandler,"updatesize")}},A.updateCropBox=function(){if(A.cropImage){var M=A.cropImage.offsetWidth/A.naturalWidth,P=A.cropImage.offsetHeight/A.naturalHeight;A.cropBox.x=(0,f.css)(A.cropHandler,"left")/M,A.cropBox.y=(0,f.css)(A.cropHandler,"top")/P,A.cropBox.w=A.cropHandler.offsetWidth/M,A.cropBox.h=A.cropHandler.offsetHeight/P,A.sizes.textContent=A.cropBox.w.toFixed(0)+"x"+A.cropBox.h.toFixed(0)}},A.updateResizeBox=function(){A.resizeBox.w=A.image.offsetWidth||A.naturalWidth,A.resizeBox.h=A.image.offsetHeight||A.naturalHeight},A.setHandlers=function(){var M=A,P=(0,f.refs)(A.editor),j=P.widthInput,O=P.heightInput;M.j.e.on([M.editor.querySelector(".jodit_bottomright"),M.cropHandler],"mousedown.".concat(x),A.onResizeHandleMouseDown).on(A.j.ow,"resize.".concat(x),function(){A.j.e.fire(M.resizeHandler,"updatesize"),M.showCrop(),A.j.e.fire(M.cropHandler,"updatesize")}),M.j.e.on((0,f.toArray)(A.editor.querySelectorAll(".".concat(x,"__slider-title"))),"click",A.onTitleModeClick).on([j,O],"input",A.onChangeSizeInput);var I=(0,f.refs)(A.editor),N=I.keepAspectRatioResize,L=I.keepAspectRatioCrop;N&&N.addEventListener("change",function(){A.resizeUseRatio=N.checked}),L&&L.addEventListener("change",function(){A.cropUseRatio=L.checked}),M.j.e.on(M.resizeHandler,"updatesize",function(){(0,f.css)(M.resizeHandler,{top:0,left:0,width:M.image.offsetWidth||M.naturalWidth,height:M.image.offsetHeight||M.naturalHeight}),A.updateResizeBox()}).on(M.cropHandler,"updatesize",function(){if(M.cropImage){var B=(0,f.css)(M.cropHandler,"left"),R=(0,f.css)(M.cropHandler,"top"),z=M.cropHandler.offsetWidth,W=M.cropHandler.offsetHeight;0>B&&(B=0),0>R&&(R=0),B+z>M.cropImage.offsetWidth&&(z=M.cropImage.offsetWidth-B,M.cropUseRatio&&(W=z/M.ratio)),R+W>M.cropImage.offsetHeight&&(W=M.cropImage.offsetHeight-R,M.cropUseRatio&&(z=W*M.ratio)),(0,f.css)(M.cropHandler,{width:z,height:W,left:B,top:R,backgroundPosition:-B-1+"px "+(-R-1)+"px",backgroundSize:M.cropImage.offsetWidth+"px "+M.cropImage.offsetHeight+"px"}),M.updateCropBox()}}),Object.values(M.buttons).forEach(function(B){B.onAction(function(){var R={action:M.activeTab,box:M.activeTab===y?M.resizeBox:M.cropBox};switch(B){case M.buttons.saveas:M.j.prompt("Enter new name","Save in new file",function(z){if(!(0,f.trim)(z))return M.j.alert("The name should not be empty"),!1;M.onSave(z,R,M.hide,function(W){M.j.alert(W.message)})});break;case M.buttons.save:M.onSave(void 0,R,M.hide,function(z){M.j.alert(z.message)});break;case M.buttons.reset:M.activeTab===y?((0,f.css)(M.image,{width:null,height:null}),j.value=M.naturalWidth.toString(),O.value=M.naturalHeight.toString(),M.j.e.fire(M.resizeHandler,"updatesize")):M.showCrop()}})})},A.options=C&&C.o&&C.o.imageeditor?C.o.imageeditor:d.Config.defaultOptions.imageeditor;var T=A.options;A.resizeUseRatio=T.resizeUseRatio,A.cropUseRatio=T.cropUseRatio,A.buttons={reset:(0,p.Button)(A.j,"update","Reset"),save:(0,p.Button)(A.j,"save","Save"),saveas:(0,p.Button)(A.j,"save","Save as ...")},A.activeTab=T.resize?y:b,A.editor=(0,g.form)(A.j,A.options);var k=(0,f.refs)(A.editor),D=k.cropBox;return A.resize_box=k.resizeBox,A.crop_box=D,A.sizes=A.editor.querySelector(".".concat(x,"__area.").concat(x,"__area_crop .jodit-image-editor__sizes")),A.resizeHandler=A.editor.querySelector(".".concat(x,"__resizer")),A.cropHandler=A.editor.querySelector(".".concat(x,"__croper")),A._dialog=A.j.dlg({buttons:["fullsize","dialog.close"]}),A._dialog.setContent(A.editor),A._dialog.setSize(A.o.width,A.o.height),A._dialog.setHeader([A.buttons.reset,A.buttons.save,A.buttons.saveas]),A.setHandlers(),A}var E;return u.__extends(S,_),E=S,S.prototype.className=function(){return"ImageEditor"},S.prototype.onTitleModeClick=function(C){var A=this,T=C.target,k=T==null?void 0:T.parentElement;if(k){(0,f.$$)(".".concat(x,"__slider,.").concat(x,"__area"),A.editor).forEach(function(M){return M.classList.remove("".concat(x,"_active"))}),k.classList.add("".concat(x,"_active")),this.activeTab=(0,f.attr)(k,"-area")||y;var D=A.editor.querySelector(".".concat(x,"__area.").concat(x,"__area_")+A.activeTab);D&&D.classList.add("".concat(x,"_active")),A.activeTab===b&&A.showCrop()}},S.prototype.onChangeSizeInput=function(C){var A,T=this,k=C.target,D=(0,f.refs)(this.editor),M=D.widthInput,P=D.heightInput,j=(0,f.attr)(k,"data-ref")==="widthInput",O=parseInt(k.value,10),I=j?T.o.min_height:T.o.min_width;O>(j?T.o.min_width:T.o.min_height)&&((0,f.css)(T.image,j?"width":"height",O),T.resizeUseRatio&&(A=Math.round(j?O/T.ratio:O*T.ratio))>I&&((0,f.css)(T.image,j?"height":"width",A),j?P.value=A.toString():M.value=A.toString())),this.j.e.fire(T.resizeHandler,"updatesize")},S.prototype.onResizeHandleMouseDown=function(C){var A=this;A.target=C.target,C.preventDefault(),C.stopImmediatePropagation(),A.clicked=!0,A.start_x=C.clientX,A.start_y=C.clientY,A.activeTab===b?(A.top_x=(0,f.css)(A.cropHandler,"left"),A.top_y=(0,f.css)(A.cropHandler,"top"),A.width=A.cropHandler.offsetWidth,A.height=A.cropHandler.offsetHeight):(A.width=A.image.offsetWidth,A.height=A.image.offsetHeight),A.j.e.on(this.j.ow,"mousemove",this.onGlobalMouseMove).one(this.j.ow,"mouseup",this.onGlobalMouseUp)},S.prototype.onGlobalMouseUp=function(C){this.clicked&&(this.clicked=!1,C.stopImmediatePropagation(),this.j.e.off(this.j.ow,"mousemove",this.onGlobalMouseMove))},S.prototype.onGlobalMouseMove=function(C){var A=this;if(A.clicked){var T=(0,f.refs)(this.editor),k=T.widthInput,D=T.heightInput;A.diff_x=C.clientX-A.start_x,A.diff_y=C.clientY-A.start_y,A.activeTab===y&&A.resizeUseRatio||A.activeTab===b&&A.cropUseRatio?A.diff_x?(A.new_w=A.width+A.diff_x,A.new_h=Math.round(A.new_w/A.ratio)):(A.new_h=A.height+A.diff_y,A.new_w=Math.round(A.new_h*A.ratio)):(A.new_w=A.width+A.diff_x,A.new_h=A.height+A.diff_y),A.activeTab===y?(A.new_w>A.o.resizeMinWidth&&((0,f.css)(A.image,"width",A.new_w+"px"),k.value=A.new_w.toString()),A.new_h>A.o.resizeMinHeight&&((0,f.css)(A.image,"height",A.new_h+"px"),D.value=A.new_h.toString()),this.j.e.fire(A.resizeHandler,"updatesize")):(A.target!==A.cropHandler?(A.top_x+A.new_w>A.cropImage.offsetWidth&&(A.new_w=A.cropImage.offsetWidth-A.top_x),A.top_y+A.new_h>A.cropImage.offsetHeight&&(A.new_h=A.cropImage.offsetHeight-A.top_y),(0,f.css)(A.cropHandler,{width:A.new_w,height:A.new_h})):(A.top_x+A.diff_x+A.cropHandler.offsetWidth>A.cropImage.offsetWidth&&(A.diff_x=A.cropImage.offsetWidth-A.top_x-A.cropHandler.offsetWidth),(0,f.css)(A.cropHandler,"left",A.top_x+A.diff_x),A.top_y+A.diff_y+A.cropHandler.offsetHeight>A.cropImage.offsetHeight&&(A.diff_y=A.cropImage.offsetHeight-A.top_y-A.cropHandler.offsetHeight),(0,f.css)(A.cropHandler,"top",A.top_y+A.diff_y)),this.j.e.fire(A.cropHandler,"updatesize"))}},Object.defineProperty(S.prototype,"o",{get:function(){return this.options},enumerable:!1,configurable:!0}),S.prototype.hide=function(){this._dialog.close()},S.prototype.open=function(C,A){var T=this;return this.j.async.promise(function(k){var D=new Date().getTime();T.image=T.j.c.element("img"),(0,f.$$)("img,.jodit-icon_loader",T.resize_box).forEach(m.Dom.safeRemove),(0,f.$$)("img,.jodit-icon_loader",T.crop_box).forEach(m.Dom.safeRemove),(0,f.css)(T.cropHandler,"background","transparent"),T.onSave=A,T.resize_box.appendChild(T.j.c.element("i",{class:"jodit-icon_loader"})),T.crop_box.appendChild(T.j.c.element("i",{class:"jodit-icon_loader"})),/\?/.test(C)?C+="&_tst="+D:C+="?_tst="+D,T.image.setAttribute("src",C),T._dialog.open();var M=(0,f.refs)(T.editor),P=M.widthInput,j=M.heightInput,O=function(){T.isDestructed||(T.image.removeEventListener("load",O),T.naturalWidth=T.image.naturalWidth,T.naturalHeight=T.image.naturalHeight,P.value=T.naturalWidth.toString(),j.value=T.naturalHeight.toString(),T.ratio=T.naturalWidth/T.naturalHeight,T.resize_box.appendChild(T.image),T.cropImage=T.image.cloneNode(!0),T.crop_box.appendChild(T.cropImage),m.Dom.safeRemove.apply(null,(0,f.$$)(".jodit-icon_loader",T.editor)),T.activeTab===b&&T.showCrop(),T.j.e.fire(T.resizeHandler,"updatesize"),T.j.e.fire(T.cropHandler,"updatesize"),T._dialog.setPosition(),T.j.e.fire("afterImageEditor"),k(T._dialog))};T.image.addEventListener("load",O),T.image.complete&&O()})},S.prototype.destruct=function(){this.isDestructed||(this._dialog&&!this._dialog.isInDestruct&&this._dialog.destruct(),m.Dom.safeRemove(this.editor),this.j.e&&this.j.e.off(this.j.ow,"mousemove",this.onGlobalMouseMove).off(this.j.ow,"mouseup",this.onGlobalMouseUp).off(this.ow,".".concat(x)).off(".".concat(x)),_.prototype.destruct.call(this))},S.calcValueByPercent=function(C,A){var T,k=A.toString(),D=parseFloat(C.toString());return(T=/^[-+]?[0-9]+(px)?$/.exec(k))?parseInt(k,10):(T=/^([-+]?[0-9.]+)%$/.exec(k))?Math.round(D*(parseFloat(T[1])/100)):D||0},u.__decorate([v.autobind],S.prototype,"onTitleModeClick",null),u.__decorate([(0,v.debounce)(),v.autobind],S.prototype,"onChangeSizeInput",null),u.__decorate([v.autobind],S.prototype,"onResizeHandleMouseDown",null),u.__decorate([v.autobind],S.prototype,"onGlobalMouseUp",null),u.__decorate([(0,v.throttle)(10)],S.prototype,"onGlobalMouseMove",null),u.__decorate([v.autobind],S.prototype,"hide",null),u.__decorate([v.autobind],S.prototype,"open",null),E=u.__decorate([v.component],S)}(h.ViewComponent);a.ImageEditor=w,a.openImageEditor=function(_,S,E,C,A,T){var k=this;return this.getInstance("ImageEditor",this.o).open(_,function(D,M,P,j){return(0,f.call)(M.action==="resize"?k.dataProvider.resize:k.dataProvider.crop,E,C,S,D,M.box).then(function(O){O&&(P(),A&&A())}).catch(function(O){j(O),T&&T(O)})})}},9249:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.form=void 0;var u=s(2074),d="jodit-image-editor",h=u.Icon.get.bind(u.Icon),f=function(m,p){return p===void 0&&(p="jodti-image-editor_active"),m?p:""};a.form=function(m,p){var g=m.i18n.bind(m),v=function(x,y,b){return b===void 0&&(b=!0),`<div class="jodit-form__group">
			<label>`.concat(g(x),`</label>

			<label class='jodit-switcher'>
				<input `).concat(f(b,"checked"),' data-ref="').concat(y,`" type="checkbox"/>
				<span class="jodit-switcher__slider"></span>
			</label>
	</div>`)};return m.create.fromHTML('<form class="'.concat(d,` jodit-properties">
		<div class="jodit-grid jodit-grid_xs-column">
			<div class="jodit_col-lg-3-4 jodit_col-sm-5-5">
			`).concat(p.resize?'<div class="'.concat(d,"__area ").concat(d,"__area_resize ").concat(d,`_active">
							<div data-ref="resizeBox" class="`).concat(d,`__box"></div>
							<div class="`).concat(d,`__resizer">
								<i class="jodit_bottomright"></i>
							</div>
						</div>`):"",`
			`).concat(p.crop?'<div class="'.concat(d,"__area ").concat(d,"__area_crop ").concat(f(!p.resize),`">
							<div data-ref="cropBox" class="`).concat(d,`__box">
								<div class="`).concat(d,`__croper">
									<i class="jodit_bottomright"></i>
									<i class="`).concat(d,`__sizes"></i>
								</div>
							</div>
						</div>`):"",`
			</div>
			<div class="jodit_col-lg-1-4 jodit_col-sm-5-5">
			`).concat(p.resize?'<div data-area="resize" class="'.concat(d,"__slider ").concat(d,`_active">
							<div class="`).concat(d,`__slider-title">
								`).concat(h("resize"),`
								`).concat(g("Resize"),`
							</div>
							<div class="`).concat(d,`__slider-content">
								<div class="jodit-form__group">
									<label>
										`).concat(g("Width"),`
									</label>
									<input type="number" data-ref="widthInput" class="jodit-input"/>
								</div>
								<div class="jodit-form__group">
									<label>
										`).concat(g("Height"),`
									</label>
									<input type="number" data-ref="heightInput" class="jodit-input"/>
								</div>
								`).concat(v("Keep Aspect Ratio","keepAspectRatioResize"),`
							</div>
						</div>`):"",`
			`).concat(p.crop?'<div data-area="crop" class="'.concat(d,"__slider ").concat(f(!p.resize),`'">
							<div class="`).concat(d,`__slider-title">
								`).concat(h("crop"),`
								`).concat(g("Crop"),`
							</div>
							<div class="`).concat(d,`__slider-content">
								`).concat(v("Keep Aspect Ratio","keepAspectRatioCrop"),`
							</div>
						</div>`):"",`
			</div>
		</div>
	</form>`))}},87837:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.PluginSystem=a.UIMessages=a.Uploader=a.ToolbarCollection=a.ToolbarEditorCollection=a.Table=a.StatusBar=a.CommitStyle=a.Select=a.Snapshot=a.History=a.ImageEditor=a.Helpers=a.ViewWithToolbar=a.View=a.Icon=a.ProgressBar=a.UIBlock=a.UICheckbox=a.UITextArea=a.UIInput=a.UIForm=a.UIList=a.UIGroup=a.UISeparator=a.Popup=a.UIButton=a.UIElement=a.Create=a.Plugin=a.LazyWalker=a.Dom=a.ContextMenu=a.STATUSES=a.ViewComponent=a.Component=a.Async=void 0;var u=s(20255);u.__exportStar(s(55395),a);var d=s(22630);Object.defineProperty(a,"Async",{enumerable:!0,get:function(){return d.Async}}),u.__exportStar(s(30056),a);var h=s(56562);Object.defineProperty(a,"Component",{enumerable:!0,get:function(){return h.Component}}),Object.defineProperty(a,"ViewComponent",{enumerable:!0,get:function(){return h.ViewComponent}}),Object.defineProperty(a,"STATUSES",{enumerable:!0,get:function(){return h.STATUSES}});var f=s(60403);Object.defineProperty(a,"ContextMenu",{enumerable:!0,get:function(){return f.ContextMenu}}),u.__exportStar(s(92080),a);var m=s(64968);Object.defineProperty(a,"Dom",{enumerable:!0,get:function(){return m.Dom}}),Object.defineProperty(a,"LazyWalker",{enumerable:!0,get:function(){return m.LazyWalker}});var p=s(57549);Object.defineProperty(a,"Plugin",{enumerable:!0,get:function(){return p.Plugin}});var g=s(42841);Object.defineProperty(a,"Create",{enumerable:!0,get:function(){return g.Create}});var v=s(2074);Object.defineProperty(a,"UIElement",{enumerable:!0,get:function(){return v.UIElement}}),Object.defineProperty(a,"UIButton",{enumerable:!0,get:function(){return v.UIButton}}),Object.defineProperty(a,"Popup",{enumerable:!0,get:function(){return v.Popup}}),Object.defineProperty(a,"UISeparator",{enumerable:!0,get:function(){return v.UISeparator}}),Object.defineProperty(a,"UIGroup",{enumerable:!0,get:function(){return v.UIGroup}}),Object.defineProperty(a,"UIList",{enumerable:!0,get:function(){return v.UIList}}),Object.defineProperty(a,"UIForm",{enumerable:!0,get:function(){return v.UIForm}}),Object.defineProperty(a,"UIInput",{enumerable:!0,get:function(){return v.UIInput}}),Object.defineProperty(a,"UITextArea",{enumerable:!0,get:function(){return v.UITextArea}}),Object.defineProperty(a,"UICheckbox",{enumerable:!0,get:function(){return v.UICheckbox}}),Object.defineProperty(a,"UIBlock",{enumerable:!0,get:function(){return v.UIBlock}}),Object.defineProperty(a,"ProgressBar",{enumerable:!0,get:function(){return v.ProgressBar}}),Object.defineProperty(a,"Icon",{enumerable:!0,get:function(){return v.Icon}});var x=s(75902);Object.defineProperty(a,"View",{enumerable:!0,get:function(){return x.View}});var y=s(43608);Object.defineProperty(a,"ViewWithToolbar",{enumerable:!0,get:function(){return y.ViewWithToolbar}}),u.__exportStar(s(63463),a);var b=s(40332);a.Helpers=b;var w=s(35503);Object.defineProperty(a,"ImageEditor",{enumerable:!0,get:function(){return w.ImageEditor}});var _=s(15432);Object.defineProperty(a,"History",{enumerable:!0,get:function(){return _.History}});var S=s(31648);Object.defineProperty(a,"Snapshot",{enumerable:!0,get:function(){return S.Snapshot}});var E=s(2123);Object.defineProperty(a,"Select",{enumerable:!0,get:function(){return E.Select}}),Object.defineProperty(a,"CommitStyle",{enumerable:!0,get:function(){return E.CommitStyle}});var C=s(38603);Object.defineProperty(a,"StatusBar",{enumerable:!0,get:function(){return C.StatusBar}});var A=s(25120);Object.defineProperty(a,"Table",{enumerable:!0,get:function(){return A.Table}});var T=s(81698);Object.defineProperty(a,"ToolbarEditorCollection",{enumerable:!0,get:function(){return T.ToolbarEditorCollection}});var k=s(72719);Object.defineProperty(a,"ToolbarCollection",{enumerable:!0,get:function(){return k.ToolbarCollection}}),u.__exportStar(s(3890),a);var D=s(50454);Object.defineProperty(a,"Uploader",{enumerable:!0,get:function(){return D.Uploader}});var M=s(71014);Object.defineProperty(a,"UIMessages",{enumerable:!0,get:function(){return M.UIMessages}});var P=s(44540);Object.defineProperty(a,"PluginSystem",{enumerable:!0,get:function(){return P.PluginSystem}})},37762:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIMessage=void 0;var u=s(20255),d=s(2074),h=s(11441),f=function(m){function p(g,v){var x=m.call(this,g)||this;return x.setMod("active",!0),x.setMod("variant",v.variant),x.container.textContent=v.text,x}return u.__extends(p,m),p.prototype.className=function(){return"UIMessage"},u.__decorate([h.component],p)}(d.UIElement);a.UIMessage=f},71014:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIMessages=void 0;var u=s(20255);s(63421);var d=s(26911),h=s(61479),f=s(11441),m=s(46163),p=s(37762),g=function(v){function x(y,b,w){w===void 0&&(w={defaultTimeout:3e3,defaultOffset:5});var _=v.call(this,y)||this;return _.__box=b,_.options=w,_.__messages=new Set,_}return u.__extends(x,v),x.prototype.className=function(){return"UIMessages"},x.prototype.info=function(y,b){this.__message(y,"info",b)},x.prototype.success=function(y,b){this.__message(y,"success",b)},x.prototype.error=function(y,b){this.__message(y,"error",b)},x.prototype.message=function(y,b,w){this.__message(y,b,w)},x.prototype.__message=function(y,b,w){b===void 0&&(b="info");var _=y+":"+b;if(this.__messages.has(_))this.async.updateTimeout(_,w||this.options.defaultTimeout);else{this.__box.appendChild(this.container);var S=new p.UIMessage(this.j,{text:y,variant:b});this.append(S),this.__calcOffsets(),this.__messages.add(_);var E=this.__getRemoveCallback(S,_);this.j.e.on(S.container,"pointerdown",E),this.async.setTimeout(E,{label:_,timeout:w||this.options.defaultTimeout})}},x.prototype.__getRemoveCallback=function(y,b){var w=this,_=function(S){S&&S.preventDefault(),y.isInDestruct||(w.async.clearTimeout(b),w.j.e.off(y.container,"pointerdown",_),w.__messages.delete(b),y.setMod("active",!1),w.async.setTimeout(function(){w.remove(y),y.destruct(),w.__calcOffsets()},300))};return _},x.prototype.__calcOffsets=function(){var y=this,b=5;this.elements.forEach(function(w){(0,d.css)(w.container,"bottom",b+"px"),b+=w.container.offsetHeight+y.options.defaultOffset})},u.__decorate([(0,m.watch)(":errorMessage")],x.prototype,"__message",null),u.__decorate([f.component],x)}(h.UIGroup);a.UIMessages=g},38603:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.StatusBar=void 0;var u=s(20255);s(32115);var d=s(56562),h=s(64968),f=s(59829),m=s(43441),p=function(g){function v(x,y){var b=g.call(this,x)||this;return b.target=y,b.mods={},b.container=x.c.div("jodit-status-bar"),y.appendChild(b.container),b.hide(),b}return u.__extends(v,g),v.prototype.className=function(){return"StatusBar"},v.prototype.hide=function(){this.container.classList.add("jodit_hidden")},v.prototype.show=function(){this.container.classList.remove("jodit_hidden")},Object.defineProperty(v.prototype,"isShown",{get:function(){return!this.container.classList.contains("jodit_hidden")},enumerable:!1,configurable:!0}),v.prototype.getHeight=function(){var x,y;return(y=(x=this.container)===null||x===void 0?void 0:x.offsetHeight)!==null&&y!==void 0?y:0},v.prototype.findEmpty=function(x){x===void 0&&(x=!1);for(var y=this.getElms(x?"item-right":"item"),b=0;y.length>b;b+=1)if(!y[b].innerHTML.trim().length)return y[b]},v.prototype.append=function(x,y){var b;y===void 0&&(y=!1);var w=this.findEmpty(y)||this.j.c.div(this.getFullElName("item"));y&&w.classList.add(this.getFullElName("item-right")),w.appendChild(x),(b=this.container)===null||b===void 0||b.appendChild(w),this.j.o.statusbar&&this.show(),this.j.e.fire("resize")},v.prototype.destruct=function(){this.isInDestruct||(this.setStatus(d.STATUSES.beforeDestruct),h.Dom.safeRemove(this.container),g.prototype.destruct.call(this))},u.__decorate([m.component,(0,m.derive)(f.Mods,f.Elms)],v)}(d.ViewComponent);a.StatusBar=p},25120:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Table=void 0;var u=s(20255),d=s(86893),h=s(64968),f=s(40332),m=s(56562),p=s(17332),g=s(43441),v=new WeakMap,x=function(b){function w(){var _=b!==null&&b.apply(this,arguments)||this;return _.selected=new Set,_}return u.__extends(w,b),w.prototype.className=function(){return"Table"},w.prototype.recalculateStyles=function(){var _=(0,p.getContainer)(this.j,w,"style",!0),S=[];this.selected.forEach(function(E){var C=(0,f.cssPath)(E);C&&S.push(C)}),_.innerHTML=S.length?S.join(",")+"{".concat(this.jodit.options.table.selectionCellStyle,"}"):""},w.prototype.addSelection=function(_){this.selected.add(_),this.recalculateStyles();var S=h.Dom.closest(_,"table",this.j.editor);if(S){var E=w.selectedByTable.get(S)||new Set;E.add(_),w.selectedByTable.set(S,E)}},w.prototype.removeSelection=function(_){this.selected.delete(_),this.recalculateStyles();var S=h.Dom.closest(_,"table",this.j.editor);if(S){var E=w.selectedByTable.get(S);E&&(E.delete(_),E.size||w.selectedByTable.delete(S))}},w.prototype.getAllSelectedCells=function(){return(0,f.toArray)(this.selected)},w.getSelectedCellsByTable=function(_){var S=w.selectedByTable.get(_);return S?(0,f.toArray)(S):[]},w.prototype.destruct=function(){return this.selected.clear(),b.prototype.destruct.call(this)},w.getRowsCount=function(_){return _.rows.length},w.getColumnsCount=function(_){return w.formalMatrix(_).reduce(function(S,E){return Math.max(S,E.length)},0)},w.formalMatrix=function(_,S){for(var E=[[]],C=(0,f.toArray)(_.rows),A=function(M,P){E[P]===void 0&&(E[P]=[]);for(var j,O,I=M.colSpan,N=M.rowSpan,L=0;E[P][L];)L+=1;for(O=0;N>O;O+=1)for(j=0;I>j;j+=1){if(E[P+O]===void 0&&(E[P+O]=[]),S&&S(M,P+O,L+j,I,N)===!1)return!1;E[P+O][L+j]=M}},T=0;C.length>T;T+=1)for(var k=(0,f.toArray)(C[T].cells),D=0;k.length>D;D+=1)if(A(k[D],T)===!1)return E;return E},w.formalCoordinate=function(_,S,E){E===void 0&&(E=!1);var C=0,A=0,T=1,k=1;return w.formalMatrix(_,function(D,M,P,j,O){if(S===D)return C=M,A=P,T=j||1,k=O||1,E&&(A+=(j||1)-1,C+=(O||1)-1),!1}),[C,A,T,k]},w.appendRow=function(_,S,E,C){var A,T;if(S)T=S.cloneNode(!0),(0,f.$$)("td,th",S).forEach(function(M){var P=(0,f.attr)(M,"rowspan");if(P&&parseInt(P,10)>1){var j=parseInt(P,10)-1;(0,f.attr)(M,"rowspan",j>1?j:null)}}),(0,f.$$)("td,th",T).forEach(function(M){M.innerHTML=""});else{var k=w.getColumnsCount(_);T=C.element("tr");for(var D=0;k>D;D+=1)T.appendChild(C.element("td"))}E&&S&&S.nextSibling?S.parentNode&&S.parentNode.insertBefore(T,S.nextSibling):!E&&S?S.parentNode&&S.parentNode.insertBefore(T,S):(((A=_.getElementsByTagName("tbody"))===null||A===void 0?void 0:A[0])||_).appendChild(T)},w.removeRow=function(_,S){var E,C=w.formalMatrix(_),A=_.rows[S];C[S].forEach(function(T,k){if(E=!1,0>S-1||C[S-1][k]!==T)if(C[S+1]&&C[S+1][k]===T){if(T.parentNode===A&&T.parentNode.nextSibling){E=!0;for(var D=k+1;C[S+1][D]===T;)D+=1;var M=h.Dom.next(T.parentNode,function(j){return h.Dom.isTag(j,"tr")},_);M&&(C[S+1][D]?M.insertBefore(T,C[S+1][D]):M.appendChild(T))}}else h.Dom.safeRemove(T);else E=!0;if(E&&(T.parentNode===A||T!==C[S][k-1])){var P=T.rowSpan;(0,f.attr)(T,"rowspan",P-1>1?P-1:null)}}),h.Dom.safeRemove(A)},w.appendColumn=function(_,S,E,C){var A,T=w.formalMatrix(_);for((S===void 0||0>S)&&(S=w.getColumnsCount(_)-1),A=0;T.length>A;A+=1){var k=C.element("td"),D=T[A][S],M=!1;E?(T[A]&&D&&S+1>=T[A].length||D!==T[A][S+1])&&(D.nextSibling?h.Dom.before(D.nextSibling,k):D.parentNode&&D.parentNode.appendChild(k),M=!0):(0>S-1||T[A][S]!==T[A][S-1]&&T[A][S].parentNode)&&(h.Dom.before(T[A][S],k),M=!0),M||(0,f.attr)(T[A][S],"colspan",parseInt((0,f.attr)(T[A][S],"colspan")||"1",10)+1)}},w.removeColumn=function(_,S){var E,C=w.formalMatrix(_);C.forEach(function(A,T){var k=A[S];if(E=!1,0>S-1||C[T][S-1]!==k?A.length>S+1&&C[T][S+1]===k?E=!0:h.Dom.safeRemove(k):E=!0,E&&(0>T-1||k!==C[T-1][S])){var D=k.colSpan;(0,f.attr)(k,"colspan",D-1>1?(D-1).toString():null)}})},w.getSelectedBound=function(_,S){var E,C,A,T=[[1/0,1/0],[0,0]],k=w.formalMatrix(_);for(E=0;k.length>E;E+=1)for(C=0;k[E]&&k[E].length>C;C+=1)S.includes(k[E][C])&&(T[0][0]=Math.min(E,T[0][0]),T[0][1]=Math.min(C,T[0][1]),T[1][0]=Math.max(E,T[1][0]),T[1][1]=Math.max(C,T[1][1]));for(E=T[0][0];T[1][0]>=E;E+=1)for(A=1,C=T[0][1];T[1][1]>=C;C+=1){for(;k[E]&&k[E][C-A]&&k[E][C]===k[E][C-A];)T[0][1]=Math.min(C-A,T[0][1]),T[1][1]=Math.max(C-A,T[1][1]),A+=1;for(A=1;k[E]&&k[E][C+A]&&k[E][C]===k[E][C+A];)T[0][1]=Math.min(C+A,T[0][1]),T[1][1]=Math.max(C+A,T[1][1]),A+=1;for(A=1;k[E-A]&&k[E][C]===k[E-A][C];)T[0][0]=Math.min(E-A,T[0][0]),T[1][0]=Math.max(E-A,T[1][0]),A+=1;for(A=1;k[E+A]&&k[E][C]===k[E+A][C];)T[0][0]=Math.min(E+A,T[0][0]),T[1][0]=Math.max(E+A,T[1][0]),A+=1}return T},w.normalizeTable=function(_){var S,E,C,A,T=[],k=w.formalMatrix(_);for(E=0;k[0].length>E;E+=1){for(C=1e6,A=!1,S=0;k.length>S;S+=1)if(k[S][E]!==void 0){if(2>k[S][E].colSpan){A=!0;break}C=Math.min(C,k[S][E].colSpan)}if(!A)for(S=0;k.length>S;S+=1)k[S][E]!==void 0&&w.mark(k[S][E],"colspan",k[S][E].colSpan-C+1,T)}for(S=0;k.length>S;S+=1){for(C=1e6,A=!1,E=0;k[S].length>E;E+=1)if(k[S][E]!==void 0){if(2>k[S][E].rowSpan){A=!0;break}C=Math.min(C,k[S][E].rowSpan)}if(!A)for(E=0;k[S].length>E;E+=1)k[S][E]!==void 0&&w.mark(k[S][E],"rowspan",k[S][E].rowSpan-C+1,T)}for(S=0;k.length>S;S+=1)for(E=0;k[S].length>E;E+=1)k[S][E]!==void 0&&(k[S][E].hasAttribute("rowspan")&&k[S][E].rowSpan===1&&(0,f.attr)(k[S][E],"rowspan",null),k[S][E].hasAttribute("colspan")&&k[S][E].colSpan===1&&(0,f.attr)(k[S][E],"colspan",null),k[S][E].hasAttribute("class")&&!(0,f.attr)(k[S][E],"class")&&(0,f.attr)(k[S][E],"class",null));w.unmark(T)},w.mergeSelected=function(_,S){var E,C=[],A=w.getSelectedBound(_,w.getSelectedCellsByTable(_)),T=0,k=null,D=0,M=0,P=0,j=new Set,O=[];A&&(A[0][0]-A[1][0]||A[0][1]-A[1][1])&&(w.formalMatrix(_,function(I,N,L,B,R){if(!(A[0][0]>N||N>A[1][0]||A[0][1]>L||L>A[1][1])){if(j.has(E=I))return;j.add(E),N===A[0][0]&&E.style.width&&(T+=E.offsetWidth),(0,f.trim)(I.innerHTML.replace(/<br(\/)?>/g,""))!==""&&C.push(I.innerHTML),B>1&&(M+=B-1),R>1&&(P+=R-1),k?(w.mark(E,"remove",1,O),y(S).removeSelection(E)):(k=I,D=L)}}),M=A[1][1]-A[0][1]+1,P=A[1][0]-A[0][0]+1,k&&(M>1&&w.mark(k,"colspan",M,O),P>1&&w.mark(k,"rowspan",P,O),T&&(w.mark(k,"width",(T/_.offsetWidth*100).toFixed(d.ACCURACY)+"%",O),D&&w.setColumnWidthByDelta(_,D,0,!0,O)),k.innerHTML=C.join("<br/>"),y(S).addSelection(k),j.delete(k),w.unmark(O),w.normalizeTable(_),(0,f.toArray)(_.rows).forEach(function(I,N){I.cells.length||h.Dom.safeRemove(I)})))},w.splitHorizontal=function(_,S){var E,C,A,T,k,D=[];w.getSelectedCellsByTable(_).forEach(function(M){(C=S.createInside.element("td")).appendChild(S.createInside.element("br")),A=S.createInside.element("tr"),E=w.formalCoordinate(_,M),2>M.rowSpan?(w.formalMatrix(_,function(P,j,O){E[0]===j&&E[1]!==O&&P!==M&&w.mark(P,"rowspan",P.rowSpan+1,D)}),h.Dom.after(h.Dom.closest(M,"tr",_),A),A.appendChild(C)):(w.mark(M,"rowspan",M.rowSpan-1,D),w.formalMatrix(_,function(P,j,O){j>E[0]&&E[0]+M.rowSpan>j&&E[1]>O&&P.parentNode.rowIndex===j&&(k=P),j>E[0]&&P===M&&(T=_.rows[j])}),k?h.Dom.after(k,C):T.insertBefore(C,T.firstChild)),M.colSpan>1&&w.mark(C,"colspan",M.colSpan,D),w.unmark(D),y(S).removeSelection(M)}),this.normalizeTable(_)},w.splitVertical=function(_,S){var E,C,A,T=[];w.getSelectedCellsByTable(_).forEach(function(k){E=w.formalCoordinate(_,k),2>k.colSpan?w.formalMatrix(_,function(M,P,j){E[1]===j&&E[0]!==P&&M!==k&&w.mark(M,"colspan",M.colSpan+1,T)}):w.mark(k,"colspan",k.colSpan-1,T),(C=S.createInside.element("td")).appendChild(S.createInside.element("br")),k.rowSpan>1&&w.mark(C,"rowspan",k.rowSpan,T);var D=k.offsetWidth;h.Dom.after(k,C),w.mark(k,"width",(100*(A=D/_.offsetWidth/2)).toFixed(d.ACCURACY)+"%",T),w.mark(C,"width",(100*A).toFixed(d.ACCURACY)+"%",T),w.unmark(T),y(S).removeSelection(k)}),w.normalizeTable(_)},w.setColumnWidthByDelta=function(_,S,E,C,A){for(var T=w.formalMatrix(_),k=0,D=0;T.length>D;D+=1)if(1>=(M=T[D][S]).colSpan||1>=T.length){w.mark(M,"width",((M.offsetWidth+E)/_.offsetWidth*100).toFixed(d.ACCURACY)+"%",A),k=D;break}for(D=k+1;T.length>D;D+=1){var M;w.mark(M=T[D][S],"width",null,A)}C||w.unmark(A)},w.mark=function(_,S,E,C){var A;C.push(_);var T=(A=v.get(_))!==null&&A!==void 0?A:{};T[S]=E===void 0?1:E,v.set(_,T)},w.unmark=function(_){_.forEach(function(S){var E=v.get(S);E&&(Object.keys(E).forEach(function(C){var A=E[C];switch(C){case"remove":h.Dom.safeRemove(S);break;case"rowspan":(0,f.attr)(S,"rowspan",(0,f.isNumber)(A)&&A>1?A:null);break;case"colspan":(0,f.attr)(S,"colspan",(0,f.isNumber)(A)&&A>1?A:null);break;case"width":A==null?(S.style.removeProperty("width"),(0,f.attr)(S,"style")||(0,f.attr)(S,"style",null)):S.style.width=A.toString()}delete E[C]}),v.delete(S))})},w.selectedByTable=new WeakMap,u.__decorate([(0,g.debounce)()],w.prototype,"recalculateStyles",null),w}(m.ViewComponent);a.Table=x;var y=function(b){return b.getInstance("Table",b.o)}},48197:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ToolbarButton=void 0;var u=s(20255);s(53362);var d=s(96516),h=s(43441),f=s(64968),m=s(12680),p=s(81438),g=s(40332),v=s(77904),x=s(72719),y=s(29411),b=s(38546),w=function(_){function S(E,C,A){A===void 0&&(A=null);var T=_.call(this,E)||this;return T.control=C,T.target=A,T.state=u.__assign(u.__assign({},(0,d.UIButtonState)()),{theme:"toolbar",currentValue:"",hasTrigger:!1}),T.openedPopup=null,E.e.on([T.button,T.trigger],"mousedown",function(k){return k.preventDefault()}),T.onAction(T.onClick),T.hookStatus(y.STATUSES.ready,function(){T.initFromControl(),T.initTooltip(),T.update()}),C.mods&&Object.keys(C.mods).forEach(function(k){C.mods&&T.setMod(k,C.mods[k])}),T}return u.__extends(S,_),S.prototype.className=function(){return"ToolbarButton"},Object.defineProperty(S.prototype,"toolbar",{get:function(){return this.closest(x.ToolbarCollection)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"button",{get:function(){return this.container.querySelector("button.".concat(this.componentName,"__button"))},enumerable:!1,configurable:!0}),S.prototype.update=function(){var E=this.control,C=this.state,A=this.closest(x.ToolbarCollection);C.disabled=this.calculateDisabledStatus(A),C.activated=this.calculateActivatedStatus(A),(0,g.isFunction)(E.update)&&A&&E.update(this,A.jodit),_.prototype.update.call(this)},S.prototype.calculateActivatedStatus=function(E){return!((0,g.isJoditObject)(this.j)&&!this.j.editorIsActive)&&(!(!(0,g.isFunction)(this.control.isActive)||!this.control.isActive(this.j,this.control,this))||!!(E&&E.shouldBeActive(this)))},S.prototype.calculateDisabledStatus=function(E){return!!this.j.o.disabled||!(!this.j.o.readonly||this.j.o.activeButtonsInReadOnly&&this.j.o.activeButtonsInReadOnly.includes(this.control.name))||!(!(0,g.isFunction)(this.control.isDisabled)||!this.control.isDisabled(this.j,this.control,this))||!!(E&&E.shouldBeDisabled(this))},S.prototype.onChangeActivated=function(){(0,g.attr)(this.button,"aria-pressed",this.state.activated),_.prototype.onChangeActivated.call(this)},S.prototype.onChangeText=function(){(0,g.isFunction)(this.control.template)?this.text.innerHTML=this.control.template(this.j,this.control.name,this.j.i18n(this.state.text)):_.prototype.onChangeText.call(this),this.setMod("text-icons",!!this.text.innerText.trim().length)},S.prototype.onChangeTabIndex=function(){(0,g.attr)(this.button,"tabindex",this.state.tabIndex)},S.prototype.onChangeTooltip=function(){(0,g.attr)(this.button,"aria-label",this.state.tooltip),_.prototype.onChangeTooltip.call(this)},S.prototype.createContainer=function(){var E=this.componentName,C=this.j.c.span(E),A=_.prototype.createContainer.call(this);return(0,g.attr)(C,"role","listitem"),A.classList.remove(E),A.classList.add(E+"__button"),Object.defineProperty(A,"component",{value:this}),C.appendChild(A),this.trigger=this.j.c.fromHTML('<span role="trigger" class="'.concat(E,'__trigger">').concat(v.Icon.get("chevron"),"</span>")),C},S.prototype.focus=function(){var E;(E=this.container.querySelector("button"))===null||E===void 0||E.focus()},S.prototype.onChangeHasTrigger=function(){this.state.hasTrigger?this.container.appendChild(this.trigger):f.Dom.safeRemove(this.trigger),this.setMod("with-trigger",this.state.hasTrigger||null)},S.prototype.onChangeDisabled=function(){var E=this.state.disabled?"disabled":null;(0,g.attr)(this.trigger,"disabled",E),(0,g.attr)(this.button,"disabled",E),(0,g.attr)(this.container,"disabled",E)},S.prototype.initTooltip=function(){var E=this;this.j.o.textIcons||!this.j.o.showTooltip||this.j.o.useNativeTooltip||this.j.e.off(this.container,"mouseenter mouseleave").on(this.container,"mousemove",function(C){E.state.tooltip&&!E.state.disabled&&E.j.e.fire("delayShowTooltip",function(){return{x:C.clientX+10,y:C.clientY+10}},E.state.tooltip)}).on(this.container,"mouseleave",function(){E.j.e.fire("hideTooltip")})},S.prototype.initFromControl=function(){var E,C=this.control,A=this.state;this.updateSize(),A.name=C.name;var T=this.j.o.textIcons;if(T===!0||(0,g.isFunction)(T)&&T(C.name)||C.template)A.icon=(0,d.UIButtonState)().icon,A.text=C.text||C.name;else{if(C.iconURL)A.icon.iconURL=C.iconURL;else{var k=C.icon||C.name;A.icon.name=v.Icon.exists(k)||!((E=this.j.o.extraIcons)===null||E===void 0)&&E[k]?k:""}C.iconURL||A.icon.name||(A.text=C.text||C.name)}C.tooltip&&(A.tooltip=this.j.i18n((0,g.isFunction)(C.tooltip)?C.tooltip(this.j,C,this):C.tooltip)),A.hasTrigger=!!(C.list||C.popup&&C.exec)},S.prototype.onTriggerClick=function(E){var C,A,T,k=this;if(this.openedPopup)this.closePopup();else{var D=this.control;if(E.buffer={actionTrigger:this},D.list)return this.openControlList(D);if((0,g.isFunction)(D.popup)){var M=this.openPopup();if(M.parentElement=this,this.j.e.fire((0,g.camelCase)("before-".concat(D.name,"-open-popup")),this.target,D,M)!==!1){var P=(T=(A=(C=this.toolbar)===null||C===void 0?void 0:C.getTarget(this))!==null&&A!==void 0?A:this.target)!==null&&T!==void 0?T:null,j=D.popup(this.j,P,D,this.closePopup,this);j&&M.setContent((0,g.isString)(j)?this.j.c.fromHTML(j):j).open(function(){return(0,g.position)(k.container)},!1,this.j.o.allowTabNavigation?this.container:void 0)}this.j.e.fire((0,g.camelCase)("after-".concat(D.name,"-open-popup")),M.container)}}},S.prototype.openControlList=function(E){var C,A=this,T=(C=this.jodit.options.controls)!==null&&C!==void 0?C:{},k=function(O){return(0,b.findControlType)(O,T)},D=E.list,M=this.openPopup(),P=(0,p.makeCollection)(this.j);M.parentElement=this,P.parentElement=M,P.mode="vertical";var j=function(O,I){if((0,g.isString)(I)&&k(I))return u.__assign({name:I.toString()},k(I));if((0,g.isString)(O)&&k(O))return u.__assign(u.__assign({name:O.toString()},k(O)),typeof I=="object"?I:{});(function(B){return(0,g.isPlainObject)(B)&&"title"in B&&"value"in B})(O)&&(I=O.value,O=O.title);var N=E.childTemplate,L={name:O.toString(),template:N&&function(B,R,z){return N(B,R,z,A)},exec:E.childExec?function(B,R,z){var W;return(W=E.childExec)===null||W===void 0?void 0:W.call(E,B,R,u.__assign(u.__assign({},z),{parentControl:E}))}:E.exec,data:E.data,command:E.command,isActive:E.isChildActive,isDisabled:E.isChildDisabled,mode:E.mode,args:u.__spreadArray(u.__spreadArray([],u.__read(E.args?E.args:[]),!1),[O,I],!1)};return(0,g.isString)(I)&&(L.text=I),L};P.build((0,g.isArray)(D)?D.map(j):(0,g.keys)(D,!1).map(function(O){return j(O,D[O])}),this.target),M.setContent(P.container).open(function(){return(0,g.position)(A.container)},!1,this.j.o.allowTabNavigation?this.container:void 0),this.state.activated=!0},S.prototype.onOutsideClick=function(E){this.openedPopup&&(E&&f.Dom.isNode(E.target)&&(f.Dom.isOrContains(this.container,E.target)||this.openedPopup.isOwnClick(E))||this.closePopup())},S.prototype.openPopup=function(){return this.closePopup(),this.openedPopup=new m.Popup(this.j,!1),this.j.e.on(this.ow,"mousedown touchstart",this.onOutsideClick).on("escape closeAllPopups",this.onOutsideClick),this.openedPopup},S.prototype.closePopup=function(){this.openedPopup&&(this.j.e.off(this.ow,"mousedown touchstart",this.onOutsideClick).off("escape closeAllPopups",this.onOutsideClick),this.state.activated=!1,this.openedPopup.close(),this.openedPopup.destruct(),this.openedPopup=null)},S.prototype.onClick=function(E){var C,A,T,k,D,M,P,j=this.control;if((0,g.isFunction)(j.exec)){var O=(T=(A=(C=this.toolbar)===null||C===void 0?void 0:C.getTarget(this))!==null&&A!==void 0?A:this.target)!==null&&T!==void 0?T:null,I=j.exec(this.j,O,{control:j,originalEvent:E,button:this});if(I!==!1&&I!==!0&&((D=(k=this.j)===null||k===void 0?void 0:k.e)===null||D===void 0||D.fire("synchro"),this.parentElement&&this.parentElement.update(),(P=(M=this.j)===null||M===void 0?void 0:M.e)===null||P===void 0||P.fire("closeAllPopups afterExec")),I!==!1)return}return j.list?this.openControlList(j):(0,g.isFunction)(j.popup)?this.onTriggerClick(E):void((j.command||j.name)&&((0,g.call)((0,g.isJoditObject)(this.j)?this.j.execCommand.bind(this.j):this.j.od.execCommand.bind(this.j.od),j.command||j.name,!1,j.args&&j.args[0]),this.j.e.fire("closeAllPopups")))},S.prototype.destruct=function(){return this.closePopup(),_.prototype.destruct.call(this)},u.__decorate([(0,h.watch)("state.tooltip")],S.prototype,"onChangeTooltip",null),u.__decorate([(0,h.watch)("state.hasTrigger")],S.prototype,"onChangeHasTrigger",null),u.__decorate([(0,h.watch)("trigger:click")],S.prototype,"onTriggerClick",null),u.__decorate([h.autobind],S.prototype,"onOutsideClick",null),u.__decorate([h.autobind],S.prototype,"closePopup",null),u.__decorate([h.component],S)}(d.UIButton);a.ToolbarButton=w},34375:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ToolbarContent=void 0;var u=s(20255);s(48904);var d=s(96516),h=s(64968),f=s(40332),m=s(43441),p=function(g){function v(x,y,b){b===void 0&&(b=null);var w=g.call(this,x)||this;return w.control=y,w.target=b,w.container.classList.add("".concat(w.componentName,"_").concat(w.clearName(y.name))),(0,f.attr)(w.container,"role","content"),w}return u.__extends(v,g),v.prototype.className=function(){return"ToolbarContent"},v.prototype.update=function(){var x=this.control.getContent(this.j,this.control,this);((0,f.isString)(x)||x.parentNode!==this.container)&&(h.Dom.detach(this.container),this.container.appendChild((0,f.isString)(x)?this.j.create.fromHTML(x):x)),g.prototype.update.call(this)},v.prototype.createContainer=function(){return this.j.c.span(this.componentName)},u.__decorate([m.component],v)}(d.UIButton);a.ToolbarContent=p},3890:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(48197),a),u.__exportStar(s(34375),a)},72719:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ToolbarCollection=void 0;var u=s(20255);s(85796);var d=s(40332),h=s(2074),f=s(81438),m=s(43441),p=function(g){function v(x){var y=g.call(this,x)||this;return y.__listenEvents="updatePlugins updateToolbar changeStack mousedown mouseup keydown change afterInit readonly afterResize selectionchange changeSelection focus afterSetMode touchstart focus blur",y.update=y.j.async.debounce(y.__immediateUpdate,function(){return y.j.defaultTimeout}),y.__tooltip=null,y.__initEvents(),y.__tooltip=h.UITooltip.make(x),y}return u.__extends(v,g),v.prototype.className=function(){return"ToolbarCollection"},Object.defineProperty(v.prototype,"firstButton",{get:function(){return u.__read(this.buttons,1)[0]||null},enumerable:!1,configurable:!0}),v.prototype.makeButton=function(x,y){return y===void 0&&(y=null),(0,f.makeButton)(this.j,x,y)},v.prototype.shouldBeActive=function(x){},v.prototype.shouldBeDisabled=function(x){},v.prototype.getTarget=function(x){return x.target||null},v.prototype.__immediateUpdate=function(){this.isDestructed||this.j.isLocked||(g.prototype.update.call(this),this.j.e.fire("afterUpdateToolbar"))},v.prototype.setDirection=function(x){this.container.style.direction=x,this.container.setAttribute("dir",x)},v.prototype.__initEvents=function(){this.j.e.on(this.__listenEvents,this.update).on("afterSetMode focus",this.__immediateUpdate)},v.prototype.hide=function(){this.container.remove()},v.prototype.show=function(){this.appendTo(this.j.toolbarContainer)},v.prototype.showInline=function(x){throw(0,d.error)("The method is not implemented for this class.")},v.prototype.build=function(x,y){y===void 0&&(y=null);var b=this.j.e.fire("beforeToolbarBuild",x);return b&&(x=b),g.prototype.build.call(this,x,y),this},v.prototype.destruct=function(){var x;this.isDestructed||((x=this.__tooltip)===null||x===void 0||x.destruct(),this.j.e.off(this.__listenEvents,this.update).off("afterSetMode focus",this.__immediateUpdate),g.prototype.destruct.call(this))},u.__decorate([m.autobind],v.prototype,"__immediateUpdate",null),u.__decorate([m.component],v)}(h.UIList);a.ToolbarCollection=p},81698:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ToolbarEditorCollection=void 0;var u=s(20255),d=s(72719),h=s(86893),f=s(64968),m=s(40332),p=s(43441),g=function(v){function x(y){var b=v.call(this,y)||this;return b.checkActiveStatus=function(w,_){var S=0,E=0;return Object.keys(w).forEach(function(C){var A=w[C];(0,m.isFunction)(A)?A(b.j,(0,m.css)(_,C).toString())&&(S+=1):A.indexOf((0,m.css)(_,C).toString())!==-1&&(S+=1),E+=1}),E===S},b.prependInvisibleInput(b.container),b}return u.__extends(x,v),x.prototype.className=function(){return"ToolbarEditorCollection"},x.prototype.shouldBeDisabled=function(y){var b=v.prototype.shouldBeDisabled.call(this,y);if(b!==void 0)return b;var w=y.control.mode===void 0?h.MODE_WYSIWYG:y.control.mode;return!(w===h.MODE_SPLIT||w===this.j.getRealMode())},x.prototype.shouldBeActive=function(y){var b=this,w=v.prototype.shouldBeActive.call(this,y);if(w!==void 0)return w;var _=this.j.selection?this.j.s.current():null;if(!_)return!1;if(y.control.tags){var S=y.control.tags;if(f.Dom.up(_,function(C){if(C&&S.indexOf(C.nodeName.toLowerCase())!==-1)return!0},this.j.editor))return!0}if(y.control.css){var E=y.control.css;if(f.Dom.up(_,function(C){if(C&&!f.Dom.isText(C))return b.checkActiveStatus(E,C)},this.j.editor))return!0}return!1},x.prototype.getTarget=function(y){return y.target||this.j.s.current()||null},x.prototype.prependInvisibleInput=function(y){var b=this.j.create.element("input",{tabIndex:-1,disabled:!0,style:"width: 0; height:0; position: absolute; visibility: hidden;"});f.Dom.appendChildFirst(y,b)},x.prototype.showInline=function(y){this.jodit.e.fire("showInlineToolbar",y)},x.prototype.hide=function(){this.jodit.e.fire("hidePopup"),v.prototype.hide.call(this),this.jodit.e.fire("toggleToolbar")},x.prototype.show=function(){v.prototype.show.call(this),this.jodit.e.fire("toggleToolbar")},u.__decorate([p.component],x)}(d.ToolbarCollection);a.ToolbarEditorCollection=g},81438:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.makeButton=a.makeCollection=void 0;var u=s(40332),d=s(72719),h=s(81698),f=s(48197),m=s(34375);a.makeCollection=function(p,g){var v=(0,u.isJoditObject)(p)?new h.ToolbarEditorCollection(p):new d.ToolbarCollection(p);return p.o.textIcons&&v.container.classList.add("jodit_text_icons"),g&&(v.parentElement=g),p.o.toolbarButtonSize&&(v.buttonSize=p.o.toolbarButtonSize),v},a.makeButton=function(p,g,v){if(v===void 0&&(v=null),(0,u.isFunction)(g.getContent))return new m.ToolbarContent(p,g,v);var x=new f.ToolbarButton(p,g,v);return x.state.tabIndex=p.o.allowTabNavigation?0:-1,x}},36262:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255),d=s(93166),h=s(49781),f=s(77892);d.Config.prototype.enableDragAndDropFileToEditor=!0,d.Config.prototype.uploader={url:"",insertImageAsBase64URI:!1,imagesExtensions:["jpg","png","jpeg","gif"],headers:null,data:null,filesVariableName:function(m){return"files[".concat(m,"]")},withCredentials:!1,pathVariableName:"path",format:"json",method:"POST",prepareData:function(m){return m},isSuccess:function(m){return m.success},getMessage:function(m){return m.data.messages!==void 0&&(0,h.isArray)(m.data.messages)?m.data.messages.join(" "):""},processFileName:function(m,p,g){return[m,p,g]},process:function(m){return m.data},error:function(m){this.j.e.fire("errorMessage",m.message,"error",4e3)},getDisplayName:function(m,p){return m+p},defaultHandlerSuccess:function(m){var p=this,g=this.j||this;(0,f.isJoditObject)(g)&&m.files&&m.files.length&&m.files.forEach(function(v,x){var y=u.__read(m.isImages&&m.isImages[x]?["img","src"]:["a","href"],2),b=y[0],w=y[1],_=g.createInside.element(b);_.setAttribute(w,m.baseurl+v),b==="a"&&(_.textContent=g.o.uploader.getDisplayName.call(p,m.baseurl,v)),b==="img"?g.s.insertImage(_,null,g.o.imageDefaultWidth):g.s.insertNode(_)})},defaultHandlerError:function(m){this.j.e.fire("errorMessage",m.message)},contentType:function(m){return(this.ow.FormData===void 0||typeof m=="string")&&"application/x-www-form-urlencoded; charset=UTF-8"}}},55778:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.buildData=void 0;var u=s(40332);a.buildData=function(d,h){if((0,u.isFunction)(d.o.buildData))return d.o.buildData.call(d,h);var f=d.ow.FormData;if(f!==void 0){if(h instanceof f||(0,u.isString)(h))return h;var m=new f;return Object.keys(h).forEach(function(p){m.append(p,h[p])}),m}return h}},98099:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.dataURItoBlob=void 0,a.dataURItoBlob=function(s){for(var u=atob(s.split(",")[1]),d=s.split(",")[0].split(":")[1].split(";")[0],h=new ArrayBuffer(u.length),f=new Uint8Array(h),m=0;u.length>m;m+=1)f[m]=u.charCodeAt(m);return new Blob([f],{type:d})}},41566:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.hasItems=a.hasFiles=void 0;var u=s(20255);u.__exportStar(s(32937),a),u.__exportStar(s(98099),a),u.__exportStar(s(55778),a),u.__exportStar(s(30863),a),u.__exportStar(s(20704),a),a.hasFiles=function(d){return!!(d&&d.files&&d.files.length>0)},a.hasItems=function(d){return!!(d&&d.items&&d.items.length>0)}},32937:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.processOldBrowserDrag=void 0;var u=s(86893),d=s(17332),h=s(40332),f=s(64968),m=s(41566);a.processOldBrowserDrag=function(p,g,v,x,y){if(g&&(!g.types.length||g.types[0]!==u.TEXT_PLAIN)){var b=p.j.c.div("",{tabindex:-1,style:"left: -9999px; top: 0; width: 0; height: 100%;line-height: 140%; overflow: hidden; position: fixed; z-index: 2147483647; word-break: break-all;",contenteditable:!0});(0,d.getContainer)(p.j,p.constructor).appendChild(b);var w=(0,h.isJoditObject)(p.j)?p.j.s.save():null;b.focus(),p.j.async.setTimeout(function(){var _=b.firstChild;if(f.Dom.safeRemove(b),_&&_.hasAttribute("src")){var S=(0,h.attr)(_,"src")||"";w&&(0,h.isJoditObject)(p.j)&&p.j.s.restore(),(0,m.sendFiles)(p,[(0,m.dataURItoBlob)(S)],v,x).finally(y)}},p.j.defaultTimeout)}}},20704:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.sendFiles=void 0;var u=s(20255),d=s(40332),h=s(30863);a.sendFiles=function(f,m,p,g,v){if(!m)return Promise.reject((0,d.error)("Need files"));var x=f.o,y=(0,d.toArray)(m);if(!y.length)return Promise.reject((0,d.error)("Need files"));var b=[];if(x.insertImageAsBase64URI){var w,_=void 0,S=function(){if((w=y[_])&&w.type){var j=w.type.match(/\/([a-z0-9]+)/i),O=j[1]?j[1].toLowerCase():"";if(x.imagesExtensions.includes(O)){var I=new FileReader;b.push(f.j.async.promise(function(N,L){I.onerror=L,I.onloadend=function(){var B={baseurl:"",files:[I.result],isImages:[!0]};((0,d.isFunction)(p)?p:x.defaultHandlerSuccess).call(f,B),N(B)},I.readAsDataURL(w)})),y[_]=null}}};for(_=0;y.length>_;_+=1)S()}if((y=y.filter(function(j){return j})).length){var E=new FormData;E.append(x.pathVariableName,f.path),E.append("source",f.source);var C=void 0;for(_=0;y.length>_;_+=1)if(C=y[_]){var A=/\.[\d\w]+$/.test(C.name),T=C.type.match(/\/([a-z0-9]+)/i),k=T&&T[1]?T[1].toLowerCase():"",D=y[_].name||Math.random().toString().replace(".","");if(!A&&k){var M=k;["jpeg","jpg"].includes(M)&&(M="jpeg|jpg"),new RegExp(".("+M+")$","i").test(D)||(D+="."+k)}var P=u.__read(x.processFileName.call(f,x.filesVariableName(_),y[_],D),3);E.append(P[0],P[1],P[2])}v&&v(E),x.data&&(0,d.isPlainObject)(x.data)&&Object.keys(x.data).forEach(function(j){E.append(j,x.data[j])}),x.prepareData.call(f,E),b.push((0,h.send)(f,E).then(function(j){return x.isSuccess.call(f,j)?(((0,d.isFunction)(p)?p:x.defaultHandlerSuccess).call(f,x.process.call(f,j)),j):(((0,d.isFunction)(g)?g:x.defaultHandlerError).call(f,(0,d.error)(x.getMessage.call(f,j))),j)}).then(function(){f.j.events&&f.j.e.fire("filesWereUploaded")}))}return Promise.all(b)}},30863:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.send=a.ajaxInstances=void 0;var u=s(30056),d=s(40332),h=s(55778);a.ajaxInstances=new WeakMap,a.send=function(f,m){var p=(0,h.buildData)(f,m),g=function(v){var x=new u.Ajax({xhr:function(){var b=new XMLHttpRequest;return f.j.ow.FormData!==void 0&&b.upload?(f.j.progressbar.show().progress(10),b.upload.addEventListener("progress",function(w){if(w.lengthComputable){var _=w.loaded/w.total;_*=100,f.j.progressbar.show().progress(_),100>_||f.j.progressbar.hide()}},!1)):f.j.progressbar.hide(),b},method:f.o.method||"POST",data:v,url:(0,d.isFunction)(f.o.url)?f.o.url(v):f.o.url,headers:f.o.headers,queryBuild:f.o.queryBuild,contentType:f.o.contentType.call(f,v),withCredentials:f.o.withCredentials||!1}),y=a.ajaxInstances.get(f);return y||(y=new Set,a.ajaxInstances.set(f,y)),y.add(x),f.j.e.one("beforeDestruct",x.destruct),x.send().then(function(b){return b.json()}).catch(function(b){f.o.error.call(f,b)}).finally(function(){x.destruct(),y==null||y.delete(x)})};return(0,d.isPromise)(p)?p.then(g).catch(function(v){f.o.error.call(f,v)}):g(p)}},50454:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Uploader=void 0;var u=s(20255);s(28654);var d=s(93166),h=s(86893),f=s(40332),m=s(56562),p=s(41566);s(36262);var g=function(v){function x(y,b){var w=v.call(this,y)||this;return w.path="",w.source="default",w.options=(0,f.ConfigProto)(b||{},(0,f.ConfigProto)(d.Config.defaultOptions.uploader,(0,f.isJoditObject)(y)?y.o.uploader:{})),w}return u.__extends(x,v),Object.defineProperty(x.prototype,"j",{get:function(){return this.jodit},enumerable:!1,configurable:!0}),x.prototype.className=function(){return"Uploader"},Object.defineProperty(x.prototype,"o",{get:function(){return this.options},enumerable:!1,configurable:!0}),x.prototype.setPath=function(y){return this.path=y,this},x.prototype.setSource=function(y){return this.source=y,this},x.prototype.bind=function(y,b,w){var _=function(){y.classList.remove("jodit_drag_hover")},S=this,E=function(C){var A,T,k,D=C.clipboardData,M=function(O){T&&(O.append("extension",k),O.append("mimetype",T.type))};if(!h.IS_IE&&(0,p.hasFiles)(D))return(0,p.sendFiles)(S,D.files,b,w).finally(_),!1;if(h.IS_IE)return(0,p.processOldBrowserDrag)(S,D,b,w,_);if((0,p.hasItems)(D)){var P=D.items;for(A=0;P.length>A;A+=1)if(P[A].kind==="file"&&P[A].type==="image/png"){if(T=P[A].getAsFile()){var j=T.type.match(/\/([a-z0-9]+)/i);k=j[1]?j[1].toLowerCase():"",(0,p.sendFiles)(S,[T],b,w,M).finally(_)}C.preventDefault();break}}};S.j&&S.j.editor!==y?S.j.e.on(y,"paste",E):S.j.e.on("beforePaste",E),this.attachEvents(y,b,w,_)},x.prototype.attachEvents=function(y,b,w,_){var S=this;S.j.e.on(y,"dragend dragover dragenter dragleave drop",function(C){C.preventDefault()}).on(y,"dragover",function(C){((0,p.hasFiles)(C.dataTransfer)||(0,p.hasItems)(C.dataTransfer))&&(y.classList.add("jodit_drag_hover"),C.preventDefault())}).on(y,"dragend dragleave",function(C){y.classList.remove("jodit_drag_hover"),(0,p.hasFiles)(C.dataTransfer)&&C.preventDefault()}).on(y,"drop",function(C){y.classList.remove("jodit_drag_hover"),(0,p.hasFiles)(C.dataTransfer)&&(C.preventDefault(),C.stopImmediatePropagation(),(0,p.sendFiles)(S,C.dataTransfer.files,b,w).finally(_))});var E=y.querySelector("input[type=file]");E&&S.j.e.on(E,"change",function(){(0,p.sendFiles)(S,E.files,b,w).then(function(){E.value="",/safari/i.test(navigator.userAgent)||(E.type="",E.type="file")}).finally(_)})},x.prototype.uploadRemoteImage=function(y,b,w){var _=this,S=_.o,E=(0,f.isFunction)(w)?w:S.defaultHandlerError;(0,p.send)(_,{action:"fileUploadRemote",url:y}).then(function(C){S.isSuccess.call(_,C)?((0,f.isFunction)(b)?b:S.defaultHandlerSuccess).call(_,S.process.call(_,C)):E.call(_,(0,f.error)(S.getMessage.call(_,C)))}).catch(function(C){return E.call(_,C)})},x.prototype.destruct=function(){this.setStatus(m.STATUSES.beforeDestruct);var y=p.ajaxInstances.get(this);y&&(y.forEach(function(b){try{b.destruct()}catch{}}),y.clear()),v.prototype.destruct.call(this)},x}(m.ViewComponent);a.Uploader=g},75243:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ColorPickerWidget=void 0,s(60819);var u=s(40332),d=s(2074),h=s(64968);d.Icon.set("palette",s(95331)),a.ColorPickerWidget=function(f,m,p){var g="jodit-color-picker",v=(0,u.normalizeColor)(p),x=f.c.div(g),y=f.o.textIcons?"<span>".concat(f.i18n("palette"),"</span>"):d.Icon.get("palette"),b=function(_){var S=[];return(0,u.isPlainObject)(_)?Object.keys(_).forEach(function(E){S.push('<div class="'.concat(g,"__group ").concat(g,"__group-").concat(E,'">')),S.push(b(_[E])),S.push("</div>")}):(0,u.isArray)(_)&&_.forEach(function(E){S.push("<span class='".concat(g,"__color-item ").concat(v===E?g+"__color-item_active_true":"",`' title="`).concat(E,'" style="background-color:').concat(E,'" data-color="').concat(E,'"></span>'))}),S.join("")};x.appendChild(f.c.fromHTML('<div class="'.concat(g,'__groups">').concat(b(f.o.colors),"</div>"))),x.appendChild(f.c.fromHTML('<div data-ref="extra" class="'.concat(g,'__extra"></div>')));var w=(0,u.refs)(x).extra;return f.o.showBrowserColorPicker&&(0,u.hasBrowserColorPicker)()&&(w.appendChild(f.c.fromHTML('<div class="'.concat(g,'__native">').concat(y,'<input type="color" value="#ffffff"/></div>'))),f.e.on(x,"change",function(_){_.stopPropagation();var S=_.target;if(S&&S.tagName&&h.Dom.isTag(S,"input")){var E=S.value||"";(0,u.isFunction)(m)&&m(E),_.preventDefault()}})),f.e.on(x,"mousedown touchend",function(_){_.stopPropagation(),_.preventDefault();var S=_.target;if(S&&S.tagName&&!h.Dom.isTag(S,"svg")&&!h.Dom.isTag(S,"path")||!S.parentNode||(S=h.Dom.closest(S.parentNode,"span",f.editor)),h.Dom.isTag(S,"span")&&S.classList.contains(g+"__color-item")){var E=(0,u.attr)(S,"-color")||"";m&&(0,u.isFunction)(m)&&m(E)}}),f.e.fire("afterGenerateColorPicker",x,w,m,v),x}},83029:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.FileSelectorWidget=void 0;var u=s(40332),d=s(64968),h=s(2074),f=s(60929);a.FileSelectorWidget=function(m,p,g,v,x){var y;x===void 0&&(x=!0);var b=[];if(p.upload&&m.o.uploader&&(m.o.uploader.url||m.o.uploader.insertImageAsBase64URI)){var w=m.c.fromHTML('<div class="jodit-drag-and-drop__file-box">'+"<strong>".concat(m.i18n(x?"Drop image":"Drop file"),"</strong>")+"<span><br>".concat(m.i18n("or click"),"</span>")+'<input type="file" accept="'.concat(x?"image/*":"*",'" tabindex="-1" dir="auto" multiple=""/>')+"</div>");m.uploader.bind(w,function(E){var C=(0,u.isFunction)(p.upload)?p.upload:m.o.uploader.defaultHandlerSuccess;(0,u.isFunction)(C)&&C.call(m,E),m.e.fire("closeAllPopups")},function(E){m.e.fire("errorMessage",E.message),m.e.fire("closeAllPopups")}),b.push({icon:"upload",name:"Upload",content:w})}if(p.filebrowser&&(m.o.filebrowser.ajax.url||m.o.filebrowser.items.url)&&b.push({icon:"folder",name:"Browse",content:function(){v&&v(),p.filebrowser&&m.filebrowser.open(p.filebrowser,x)}}),p.url){var _=new h.UIButton(m,{type:"submit",variant:"primary",text:"Insert"}),S=new h.UIForm(m,[new h.UIInput(m,{required:!0,label:"URL",name:"url",type:"text",placeholder:"https://"}),new h.UIInput(m,{name:"text",label:"Alternative text"}),new h.UIBlock(m,[_])]);y=null,g&&!d.Dom.isText(g)&&(d.Dom.isTag(g,"img")||(0,u.$$)("img",g).length)&&(y=g.tagName==="IMG"?g:(0,u.$$)("img",g)[0],(0,u.val)(S.container,"input[name=url]",(0,u.attr)(y,"src")),(0,u.val)(S.container,"input[name=text]",(0,u.attr)(y,"alt")),_.state.text="Update"),g&&d.Dom.isTag(g,"a")&&((0,u.val)(S.container,"input[name=url]",(0,u.attr)(g,"href")),(0,u.val)(S.container,"input[name=text]",(0,u.attr)(g,"title")),_.state.text="Update"),S.onSubmit(function(E){(0,u.isFunction)(p.url)&&p.url.call(m,E.url,E.text)}),b.push({icon:"link",name:"URL",content:S.container})}return(0,f.TabsWidget)(m,b)}},718:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(75243),a),u.__exportStar(s(60929),a),u.__exportStar(s(83029),a)},60929:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.TabsWidget=void 0,s(96410);var u=s(40332),d=s(42096),h=s(2074),f=s(56562),m=s(24263);a.TabsWidget=function(p,g,v){var x=p.c.div("jodit-tabs"),y=p.c.div("jodit-tabs__wrapper"),b=p.c.div("jodit-tabs__buttons"),w={},_=[],S="",E=0;x.appendChild(b),x.appendChild(y);var C=function(T){w[T]&&(_.forEach(function(k){k.state.activated=!1}),(0,u.$$)(".jodit-tab",y).forEach(function(k){k.classList.remove("jodit-tab_active")}),w[T].button.state.activated=!0,w[T].tab.classList.add("jodit-tab_active"))};if(g.forEach(function(T){var k=T.icon,D=T.name,M=T.content,P=p.c.div("jodit-tab"),j=(0,h.Button)(p,k||D,D);p.e.on(j.container,"mousedown",function(O){return O.preventDefault()}),S||(S=D),b.appendChild(j.container),_.push(j),j.container.classList.add("jodit-tabs__button","jodit-tabs__button_columns_"+g.length),(0,d.isFunction)(M)?P.appendChild(p.c.div("jodit-tab_empty")):P.appendChild(f.Component.isInstanceOf(M,h.UIElement)?M.container:M),y.appendChild(P),j.onAction(function(){return C(D),(0,d.isFunction)(M)&&!m.Dom.isElement(M)&&M.call(p),v&&(v.__activeTab=D),!1}),w[D]={button:j,tab:P},E+=1}),!E)return x;if((0,u.$$)("a",b).forEach(function(T){T.style.width=(100/E).toFixed(10)+"%"}),C(v&&v.__activeTab&&w[v.__activeTab]?v.__activeTab:S),v){var A=v.__activeTab;Object.defineProperty(v,"__activeTab",{configurable:!0,enumerable:!1,get:function(){return A},set:function(T){A=T,C(T)}})}return x}},55692:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(33126);var u=s(93166),d=s(40332),h=s(86893),f=s(17332),m=s(77904);u.Config.prototype.controls.about={exec:function(p){var g=p.dlg(),v=p.i18n.bind(p);g.setMod("theme",p.o.theme).setHeader(v("About Jodit")).setContent(`<div class="jodit-about">
					<div>`.concat(v("Jodit Editor")," v.").concat(p.getVersion(),`</div>
					<div>`).concat(v("License: %s",(0,d.isLicense)(p.o.license)?(0,d.normalizeLicense)(p.o.license):"MIT"),`</div>
					<div>
						<a href="`).concat("https://xdsoft.net/jodit/",'" target="_blank">').concat("https://xdsoft.net/jodit/",`</a>
					</div>
					<div>
						<a href="https://xdsoft.net/jodit/docs/" target="_blank">`).concat(v("Jodit User's Guide"),`</a>
						`).concat(v("contains detailed help for using"),`
					</div>
					<div>`).concat(v("Copyright  XDSoft.net - Chupurnov Valeriy. All rights reserved."),`</div>
				</div>`)),(0,d.css)(g.dialog,{minHeight:200,minWidth:420}),g.open(!0)},tooltip:"About Jodit",mode:h.MODE_SOURCE+h.MODE_WYSIWYG},f.pluginSystem.add("about",function(p){p.registerButton({name:"about",group:"info"})}),m.Icon.set("about",s(84279))},66031:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.addNewLine=void 0;var u=s(20255);s(30724);var d=s(87837),h=s(40332),f=s(43441),m=s(17332);s(46360);var p="addnewline",g=function(v){function x(){var y=v!==null&&v.apply(this,arguments)||this;return y.line=y.j.c.fromHTML('<div role="button" tabindex="-1" title="'.concat(y.j.i18n("Break"),'" class="jodit-add-new-line"><span>').concat(d.Icon.get("enter"),"</span></div>")),y.isMatchedTag=function(b){return!!(b&&y.j.o.addNewLineTagsTriggers.includes(b.nodeName.toLowerCase()))},y.preview=!1,y.lineInFocus=!1,y.isShown=!1,y.hideForce=function(){y.isShown&&(y.isShown=!1,y.j.async.clearTimeout(y.timeout),y.lineInFocus=!1,d.Dom.safeRemove(y.line),y.line.style.setProperty("--jd-offset-handle","0"))},y.canGetFocus=function(b){return b!=null&&d.Dom.isBlock(b)&&!/^(img|table|iframe|hr)$/i.test(b.nodeName)},y.onClickLine=function(b){var w=y.j,_=w.createInside.element(w.o.enter);y.preview&&y.current&&y.current.parentNode?y.current===w.editor?d.Dom.prepend(w.editor,_):y.current.parentNode.insertBefore(_,y.current):w.editor.appendChild(_),w.s.setCursorIn(_),(0,h.scrollIntoViewIfNeeded)(_,w.editor,w.ed),w.synchronizeValues(),y.hideForce(),b.preventDefault()},y}return u.__extends(x,v),x.prototype.show=function(){this.isShown||this.j.o.readonly||this.j.isLocked||(this.isShown=!0,this.j.async.clearTimeout(this.timeout),this.line.classList.toggle("jodit-add-new-line_after",!this.preview),this.j.container.appendChild(this.line),this.line.style.width=this.j.container.clientWidth+"px")},x.prototype.onLock=function(y){y&&this.isShown&&this.hideForce()},x.prototype.hide=function(){this.isShown&&!this.lineInFocus&&(this.timeout=this.j.async.setTimeout(this.hideForce,{timeout:500,label:"add-new-line-hide"}))},x.prototype.afterInit=function(y){var b=this;y.o.addNewLine&&(y.e.on(this.line,"mousemove",function(w){w.stopPropagation()}).on(this.line,"mousedown touchstart",this.onClickLine).on("change",this.hideForce).on(this.line,"mouseenter",function(){b.j.async.clearTimeout(b.timeout),b.lineInFocus=!0}).on(this.line,"mouseleave",function(){b.lineInFocus=!1}).on("changePlace",this.addEventListeners.bind(this)),this.addEventListeners())},x.prototype.addEventListeners=function(){var y=this.j;y.e.off(y.editor,"."+p).off(y.container,"."+p).on([y.ow,y.ew,y.editor],"scroll."+p,this.hideForce).on(y.editor,"click."+p,this.hide).on(y.container,"mouseleave."+p,this.hide).on(y.editor,"mousemove."+p,this.onMouseMove)},x.prototype.onDblClickEditor=function(y){var b=this.j;if(!b.o.readonly&&b.o.addNewLineOnDBLClick&&y.target===b.editor&&b.s.isCollapsed()){var w=(0,h.offset)(b.editor,b,b.ed),_=y.pageY-b.ew.pageYOffset,S=b.createInside.element(b.o.enter);Math.abs(_-w.top)<Math.abs(_-(w.height+w.top))&&b.editor.firstChild?b.editor.insertBefore(S,b.editor.firstChild):b.editor.appendChild(S),b.s.setCursorIn(S),b.synchronizeValues(),this.hideForce(),y.preventDefault()}},x.prototype.onMouseMove=function(y){var b=this.j,w=b.ed.elementFromPoint(y.clientX,y.clientY);if(d.Dom.isHTMLElement(w)&&!d.Dom.isOrContains(this.line,w)&&d.Dom.isOrContains(b.editor,w))if(b.editor===w||this.isMatchedTag(w)||(w=d.Dom.closest(w,this.isMatchedTag,b.editor)),w){if(this.isMatchedTag(w)){var _=d.Dom.up(w,d.Dom.isBlock,b.editor);_&&_!==b.editor&&(w=_)}var S=(0,h.position)(w,this.j),E=!1,C=y.clientY,A=y.clientX;if(this.j.iframe){var T=(0,h.position)(this.j.iframe,this.j,!0);C+=T.top,A+=T.left}var k=this.j.o.addNewLineDeltaShow;Math.abs(C-S.top)>k||(E=S.top,this.preview=!0),Math.abs(C-(S.top+S.height))>k||(E=S.top+S.height,this.preview=!1),E===!1||(b.editor!==w||this.preview)&&(0,h.call)(this.preview?d.Dom.prev:d.Dom.next,w,this.canGetFocus,b.editor)?(this.current=!1,this.hide()):(this.line.style.top=E+"px",this.current=w,this.show(),this.line.style.setProperty("--jd-offset-handle",A-S.left-10+"px"))}else this.hide()},x.prototype.beforeDestruct=function(){this.j.async.clearTimeout(this.timeout),this.j.e.off(this.line).off("changePlace",this.addEventListeners),d.Dom.safeRemove(this.line),this.j.e.off([this.j.ow,this.j.ew,this.j.editor],"."+p).off(this.j.container,"."+p)},u.__decorate([(0,f.watch)(":lock")],x.prototype,"onLock",null),u.__decorate([f.autobind],x.prototype,"hide",null),u.__decorate([(0,f.watch)(":dblclick")],x.prototype,"onDblClickEditor",null),u.__decorate([(0,f.debounce)(function(y){return 5*y.defaultTimeout})],x.prototype,"onMouseMove",null),x}(d.Plugin);a.addNewLine=g,m.pluginSystem.add("addNewLine",g)},46360:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(2074);u.Config.prototype.addNewLine=!0,u.Config.prototype.addNewLineOnDBLClick=!0,u.Config.prototype.addNewLineTagsTriggers=["table","iframe","img","hr","pre","jodit"],u.Config.prototype.addNewLineDeltaShow=20,d.Icon.set("enter",s(11257))},91241:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.backspace=void 0;var u=s(20255),d=s(57549),h=s(64968),f=s(86893),m=s(40332),p=s(10109),g=s(17332),v=s(90089),x=s(95441);s(48229);var y=function(b){function w(){var _=b!==null&&b.apply(this,arguments)||this;return _.requires=["hotkeys"],_}return u.__extends(w,b),w.prototype.afterInit=function(_){var S=this;_.e.on("afterCommand.delete",function(E){E==="delete"&&S.afterDeleteCommand()}),_.registerCommand("deleteButton",{exec:function(){return S.onDelete(!1)},hotkeys:_.o.delete.hotkeys.delete},{stopPropagation:!1}).registerCommand("backspaceButton",{exec:function(){return S.onDelete(!0)},hotkeys:_.o.delete.hotkeys.backspace},{stopPropagation:!1}).registerCommand("deleteWordButton",{exec:function(){return S.onDelete(!1,"word")},hotkeys:_.o.delete.hotkeys.deleteWord}).registerCommand("backspaceWordButton",{exec:function(){return S.onDelete(!0,"word")},hotkeys:_.o.delete.hotkeys.backspaceWord}).registerCommand("deleteSentenceButton",{exec:function(){return S.onDelete(!1,"sentence")},hotkeys:_.o.delete.hotkeys.deleteSentence}).registerCommand("backspaceSentenceButton",{exec:function(){return S.onDelete(!0,"sentence")},hotkeys:_.o.delete.hotkeys.backspaceSentence})},w.prototype.beforeDestruct=function(_){_.e.off("afterCommand.delete")},w.prototype.afterDeleteCommand=function(){var _=this.j,S=_.s.current();if(S&&h.Dom.isTag(S.firstChild,"br")&&_.s.removeNode(S.firstChild),!((0,m.trim)(_.editor.textContent||"")||_.editor.querySelector("img,table,jodit,iframe,hr")||S&&h.Dom.closest(S,"table",_.editor))){_.editor.innerHTML="";var E=_.s.setCursorIn(_.editor);_.s.removeNode(E)}},w.prototype.onDelete=function(_,S){S===void 0&&(S="char");var E=this.j,C=E.selection;if(C.isFocused()||C.focus(),(0,x.checkNotCollapsed)(E))return!1;var A=C.range,T=E.createInside.text(f.INVISIBLE_SPACE);try{if(h.Dom.safeInsertNode(A,T),!h.Dom.isOrContains(E.editor,T))return;if(E.e.fire("backSpaceBeforeCases",_,T)||((0,p.moveNodeInsideStart)(E,T,_),v.cases.some(function(k){if((0,m.isFunction)(k)&&k(E,T,_,S))return!0})))return!1}catch(k){throw k}finally{E.e.fire("backSpaceAfterDelete",_,T),this.safeRemoveEmptyNode(T)}return!1},w.prototype.safeRemoveEmptyNode=function(_){var S,E,C=this.j.s.range;C.startContainer===_&&(_.previousSibling?h.Dom.isText(_.previousSibling)?C.setStart(_.previousSibling,(E=(S=_.previousSibling.nodeValue)===null||S===void 0?void 0:S.length)!==null&&E!==void 0?E:0):C.setStartAfter(_.previousSibling):_.nextSibling&&(h.Dom.isText(_.nextSibling)?C.setStart(_.nextSibling,0):C.setStartBefore(_.nextSibling)),C.collapse(!0),this.j.s.selectRange(C)),h.Dom.safeRemove(_)},w}(d.Plugin);a.backspace=y,g.pluginSystem.add("backspace",y)},31078:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkJoinNeighbors=void 0;var u=s(24263),d=s(30861);function h(f,m,p,g){if(m&&u.Dom.isElement(p)){u.Dom.moveContent(m,p,!g,(0,d.getMoveFilter)(f));for(var v=m;v&&v!==f.editor&&u.Dom.isEmpty(v);){var x=v.parentElement;u.Dom.safeRemove(v),v=x}return!0}return!1}a.checkJoinNeighbors=function(f,m,p){for(var g=m,v=g;g&&!u.Dom.findNotEmptySibling(g,p)&&g.parentElement!==f.editor;)v=g=g.parentElement;if(u.Dom.isElement(v)&&u.Dom.isContentEditable(v,f.editor)){var x=u.Dom.findNotEmptySibling(v,p);if(x&&(function(y,b,w,_){var S=u.Dom.isTag(w,["ol","ul"]),E=u.Dom.isTag(b,["ol","ul"]),C=function(A,T){return T?A.firstElementChild:A.lastElementChild};return E?(w=y.createInside.element(y.o.enterBlock),u.Dom.before(b,w),h(y,C(b,_),w,_)):!(!w||!S||E)&&h(y,b,C(w,!_),_)}(f,v,x,p)||h(f,v,x,p)))return f.s.setCursorBefore(m),!0}return!1}},92156:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkJoinTwoLists=void 0;var u=s(24263),d=s(67309),h=s(30861);a.checkJoinTwoLists=function(f,m,p){var g=u.Dom.findSibling(m,p),v=u.Dom.findSibling(m,!p);if(!u.Dom.closest(m,u.Dom.isElement,f.editor)&&u.Dom.isTag(g,["ul","ol"])&&u.Dom.isTag(v,["ul","ol"])&&u.Dom.isTag(g.lastElementChild,"li")&&u.Dom.isTag(v.firstElementChild,"li")){var x=f.s,y=x.setCursorBefore,b=x.setCursorAfter,w=g.lastElementChild;return(0,d.call)(p?u.Dom.prepend:u.Dom.append,v.firstElementChild,m),u.Dom.moveContent(v,g,!p,(0,h.getMoveFilter)(f)),u.Dom.safeRemove(v),(0,d.call)(p?u.Dom.append:u.Dom.prepend,w,m),(0,d.call)(p?y:b,m),!0}return!1}},95441:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.checkNotCollapsed=void 0,a.checkNotCollapsed=function(s){return!s.s.isCollapsed()&&(s.execCommand("Delete"),!0)}},13116:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkRemoveChar=void 0;var u=s(64968),d=s(40332),h=s(86893),f=s(30861);a.checkRemoveChar=function m(p,g,v,x){var y,b,w,_,S=v?-1:1,E=u.Dom.sibling(g,!v),C=u.Dom.sibling(g,v),A=null,T=!1,k=function(I){var N=u.Dom.sibling(I,v);return!N&&I.parentNode&&I.parentNode!==p.editor&&(N=(0,f.findMostNestedNeighbor)(I,!v,p.editor,!0)),N};for(C||(C=k(g));C&&(u.Dom.isText(C)||u.Dom.isInlineBlock(C));){for(;u.Dom.isInlineBlock(C);)C=v?C==null?void 0:C.lastChild:C==null?void 0:C.firstChild;if(!C)break;if(!((y=C.nodeValue)===null||y===void 0)&&y.length){var D=(0,d.toArray)(C.nodeValue),M=D.length,P=v?M-1:0;if(D[P]===h.INVISIBLE_SPACE)for(;D[P]===h.INVISIBLE_SPACE;)P+=S;if(_=D[P],D[P+S]===h.INVISIBLE_SPACE){for(P+=S;D[P]===h.INVISIBLE_SPACE;)P+=S;P+=v?1:-1}if(D=v&&0>P?[]:D.slice(v?0:P+1,v?P:M),!E||!u.Dom.isText(E)||(v?/^ /:/ $/).test((b=E.nodeValue)!==null&&b!==void 0?b:"")||!(0,d.trimInv)(E.nodeValue||"").length)for(var j=v?D.length-1:0;(v?j>=0:D.length>j)&&D[j]===" ";j+=v?-1:1)D[j]=h.NBSP_SPACE;C.nodeValue=D.join("")}if(!((w=C.nodeValue)===null||w===void 0)&&w.length||(A=C),!(0,d.isVoid)(_)&&_!==h.INVISIBLE_SPACE){T=!0,(0,d.call)(v?u.Dom.after:u.Dom.before,C,g),(x==="sentence"||x==="word"&&_!==" "&&_!==h.NBSP_SPACE)&&m(p,g,v,x);break}var O=k(C);A&&(u.Dom.safeRemove(A),A=null),C=O}return A&&(u.Dom.safeRemove(A),A=null),T&&(function(I,N){for(var L=I.parentElement;L&&u.Dom.isInlineBlock(L)&&u.Dom.isTag(L,N);){var B=L.parentElement;u.Dom.isEmpty(L)&&(u.Dom.after(L,I),u.Dom.safeRemove(L)),L=B}}(g,["a"]),function(I,N){N.parentElement!==I.editor&&u.Dom.isBlock(N.parentElement)&&u.Dom.each(N.parentElement,u.Dom.isEmptyTextNode)&&u.Dom.after(N,I.createInside.element("br"))}(p,g),p.s.setCursorBefore(g),u.Dom.isTag(g.previousSibling,"br")&&!u.Dom.findNotEmptySibling(g,!1)&&u.Dom.after(g,p.createInside.element("br"))),T}},74217:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkRemoveContentNotEditable=void 0;var u=s(64968),d=s(40332),h=s(10109);a.checkRemoveContentNotEditable=function(f,m,p){var g=u.Dom.findSibling(m,p);return!g&&m.parentElement&&m.parentElement!==f.editor&&(g=u.Dom.findSibling(m.parentElement,p)),!(!u.Dom.isElement(g)||u.Dom.isContentEditable(g,f.editor)||((0,d.call)(p?u.Dom.before:u.Dom.after,g,m),u.Dom.safeRemove(g),(0,h.moveNodeInsideStart)(f,m,p),(0,d.call)(p?f.s.setCursorBefore:f.s.setCursorAfter,m),0))}},34181:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkRemoveEmptyNeighbor=void 0;var u=s(24263);a.checkRemoveEmptyNeighbor=function(d,h,f){var m=u.Dom.closest(h,u.Dom.isElement,d.editor);if(!m)return!1;var p=u.Dom.findNotEmptySibling(m,f);return!(!p||!u.Dom.isEmpty(p)||(u.Dom.safeRemove(p),d.s.setCursorBefore(h),0))}},13890:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkRemoveEmptyParent=void 0;var u=s(64968),d=s(86893),h=s(92156);a.checkRemoveEmptyParent=function(f,m,p){var g=!1,v=f.s,x=v.setCursorBefore,y=v.setCursorIn,b=u.Dom.closest(m,u.Dom.isElement,f.editor);if(!b||!u.Dom.isEmpty(b))return!1;var w=u.Dom.findNotEmptyNeighbor(m,p,f.editor);do{if(!b||!u.Dom.isEmpty(b)||u.Dom.isCell(b))break;u.Dom.after(b,m);var _=u.Dom.closest(b,function(S){return u.Dom.isElement(S)&&S!==b},f.editor);u.Dom.safeRemove(b),g=!0,b=_}while(b);return!(!g||!(0,h.checkJoinTwoLists)(f,m,p))||(!w||u.Dom.isText(w)||u.Dom.isTag(w,d.INSEPARABLE_TAGS)?x(m):y(w,!p),g)}},8249:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkRemoveUnbreakableElement=void 0;var u=s(24263),d=s(86893),h=s(13890);a.checkRemoveUnbreakableElement=function(f,m,p){var g=u.Dom.findSibling(m,p);return!(!u.Dom.isElement(g)||!u.Dom.isTag(g,d.INSEPARABLE_TAGS)&&!u.Dom.isEmpty(g)||(u.Dom.safeRemove(g),u.Dom.isTag(g,"br")&&!u.Dom.findNotEmptySibling(m,!1)&&u.Dom.after(m,f.createInside.element("br")),f.s.setCursorBefore(m),u.Dom.isTag(g,"br")&&(0,h.checkRemoveEmptyParent)(f,m,p),0))}},58368:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkTableCell=void 0;var u=s(24263);a.checkTableCell=function(d,h){return!!u.Dom.isCell(h.parentElement)}},6028:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkUnwrapFirstListItem=void 0;var u=s(24263),d=s(76502);a.checkUnwrapFirstListItem=function(h,f,m){var p,g=u.Dom.closest(f,u.Dom.isElement,h.editor),v=h.s;if(u.Dom.isTag(g,"li")&&((p=g==null?void 0:g.parentElement)===null||p===void 0?void 0:p[m?"firstElementChild":"lastElementChild"])===g&&v.cursorInTheEdge(m,g)){var x=g.parentElement,y=h.createInside.element(h.o.enterBlock);return(0,d.call)(m?u.Dom.before:u.Dom.after,x,y),u.Dom.moveContent(g,y),u.Dom.safeRemove(g),u.Dom.isEmpty(x)&&u.Dom.safeRemove(x),(0,d.call)(m?v.setCursorBefore:v.setCursorAfter,f),!0}return!1}},90089:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.cases=void 0;var u=s(8249),d=s(74217),h=s(13116),f=s(58368),m=s(13890),p=s(34181),g=s(92156),v=s(31078),x=s(6028);a.cases=[u.checkRemoveUnbreakableElement,d.checkRemoveContentNotEditable,h.checkRemoveChar,f.checkTableCell,m.checkRemoveEmptyParent,p.checkRemoveEmptyNeighbor,g.checkJoinTwoLists,v.checkJoinNeighbors,x.checkUnwrapFirstListItem]},48229:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.delete={hotkeys:{delete:["delete","cmd+backspace"],deleteWord:["ctrl+delete","cmd+alt+backspace","ctrl+alt+backspace"],deleteSentence:["ctrl+shift+delete","cmd+shift+delete"],backspace:["backspace"],backspaceWord:["ctrl+backspace"],backspaceSentence:["ctrl+shift+backspace","cmd+shift+backspace"]}}},30861:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getMoveFilter=a.findMostNestedNeighbor=void 0;var u=s(64968);a.findMostNestedNeighbor=function(d,h,f,m){m===void 0&&(m=!1);var p=function(v){return h?v.firstChild:v.lastChild},g=u.Dom.findNotEmptyNeighbor(d,!h,f);if(m&&u.Dom.isElement(g)&&!u.Dom.isInlineBlock(g))return null;if(g)do{if(!p(g))return g;g=p(g)}while(g);return null},a.getMoveFilter=function(d){return function(h){return d.e.fire("backSpaceIsMovedIgnore",h)!==!0}}},87565:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.bold=void 0;var u=s(20255),d=s(93166),h=s(40332),f=s(17332),m=s(77904);function p(g){var v=function(x){var y,b=d.Config.defaultOptions.controls[x],w=u.__assign({},b.css);return Object.keys(w).forEach(function(_){y||(y={}),y[_]=(0,h.isArray)(w[_])?w[_][0]:w[_]}),g.s.applyStyle(y,{element:b.tags?b.tags[0]:void 0}),g.synchronizeValues(),!1};["bold","italic","underline","strikethrough"].forEach(function(x){g.registerButton({name:x,group:"font-style"})}),["superscript","subscript"].forEach(function(x){g.registerButton({name:x,group:"script"})}),g.registerCommand("bold",{exec:v,hotkeys:["ctrl+b","cmd+b"]}).registerCommand("italic",{exec:v,hotkeys:["ctrl+i","cmd+i"]}).registerCommand("underline",{exec:v,hotkeys:["ctrl+u","cmd+u"]}).registerCommand("strikethrough",{exec:v}).registerCommand("subscript",{exec:v}).registerCommand("superscript",{exec:v})}s(58334),s(90740),a.bold=p,f.pluginSystem.add("bold",p),m.Icon.set("bold",s(25141)).set("italic",s(24557)).set("strikethrough",s(10859)).set("subscript",s(9813)).set("superscript",s(93395)).set("underline",s(98213))},90740:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.controls.subscript={tags:["sub"],tooltip:"subscript"},u.Config.prototype.controls.superscript={tags:["sup"],tooltip:"superscript"},u.Config.prototype.controls.bold={tagRegExp:/^(strong|b)$/i,tags:["strong","b"],css:{"font-weight":["bold","700"]},tooltip:"Bold"},u.Config.prototype.controls.italic={tagRegExp:/^(em|i)$/i,tags:["em","i"],css:{"font-style":"italic"},tooltip:"Italic"},u.Config.prototype.controls.underline={tagRegExp:/^(u)$/i,tags:["u"],css:{"text-decoration-line":"underline"},tooltip:"Underline"},u.Config.prototype.controls.strikethrough={tagRegExp:/^(s)$/i,tags:["s"],css:{"text-decoration-line":"line-through"},tooltip:"Strike through"}},58334:function(){},60894:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.classSpan=void 0;var u=s(20255),d=s(57549),h=s(93166),f=s(64968),m=s(40332),p=s(17332),g=s(2074);h.Config.prototype.controls.classSpan={command:"applyClassName",exec:m.memorizeExec,list:["enabled","disabled","activated","text-left","text-center","text-right","warning","error"],isChildActive:function(x,y){var b=x.s.current();if(b){var w=f.Dom.closest(b,f.Dom.isElement,x.editor)||x.editor;return!!(y.args&&w.classList.contains(y.args[0].toString()))}return!1},isActive:function(x,y){var b=x.s.current();if(b){var w=f.Dom.closest(b,f.Dom.isElement,x.editor)||x.editor,_=!1;return y.list&&Object.keys(y.list).forEach(function(S){w.classList.contains(S)&&(_=!0)}),!!(w&&w!==x.editor&&y.list!==void 0&&_)}return!1},childTemplate:function(x,y,b){return'<span class="'.concat(y,'">').concat(x.i18n(b),"</span>")},tooltip:"Insert className"};var v=function(x){function y(){var b=x!==null&&x.apply(this,arguments)||this;return b.buttons=[{name:"classSpan",group:"font"}],b}return u.__extends(y,x),y.prototype.afterInit=function(b){b.registerCommand("applyClassName",function(w,_,S){return b.s.applyStyle(void 0,{className:S}),!1})},y.prototype.beforeDestruct=function(){},y}(d.Plugin);a.classSpan=v,p.pluginSystem.add("classSpan",v),g.Icon.set("class-span",s(20026))},90302:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.cleanHtml=void 0;var u=s(20255),d=s(67128),h=s(85605),f=s(43441),m=s(33841),p=s(17332),g=s(24263),v=s(57713);s(98889);var x=function(y){function b(){var w=y!==null&&y.apply(this,arguments)||this;return w.buttons=[{name:"eraser",group:"font-style"}],w.currentSelectionNode=null,w.walker=new m.LazyWalker(w.j.async,{timeout:w.j.o.cleanHTML.timeout}),w}return u.__extends(b,y),b.prototype.afterInit=function(w){},Object.defineProperty(b.prototype,"isEditMode",{get:function(){return!(this.j.isInDestruct||!this.j.isEditorMode()||this.j.getReadOnly())},enumerable:!1,configurable:!0}),b.prototype.onChangeCleanHTML=function(){if(this.isEditMode){var w=this.j;this.walker.setWork(w.editor),this.currentSelectionNode=w.s.current()}},b.prototype.startWalker=function(){var w=this,_=this.jodit,S=(0,v.getHash)(this.j.o.cleanHTML.allowTags),E=(0,v.getHash)(this.j.o.cleanHTML.denyTags);this.walker.on("visit",function(C){return(0,v.visitNodeWalker)(_,C,S,E,w.currentSelectionNode)}).on("end",function(C){w.j.e.fire(C?"internalChange finishedCleanHTMLWorker":"finishedCleanHTMLWorker")})},b.prototype.beforeCommand=function(w){if(w.toLowerCase()==="removeformat")return this.j.s.isCollapsed()?(0,v.removeFormatForCollapsedSelection)(this.j):(0,v.removeFormatForSelection)(this.j),!1},b.prototype.onBeforeSetNativeEditorValue=function(w){var _=this.j.o.cleanHTML.useIframeSandbox?this.j.createInside.sandbox():this.j.createInside.div();return _.innerHTML=w.value,this.onSafeHTML(_),w.value=_.innerHTML,(0,d.safeHTML)(_,{safeJavaScriptLink:!0,removeOnError:!0}),g.Dom.safeRemove(_),!1},b.prototype.onSafeHTML=function(w){(0,d.safeHTML)(w,this.j.o.cleanHTML)},b.prototype.beforeDestruct=function(){this.walker.destruct()},u.__decorate([(0,f.watch)([":change",":afterSetMode",":afterInit",":mousedown",":keydown"])],b.prototype,"onChangeCleanHTML",null),u.__decorate([(0,f.hook)("ready")],b.prototype,"startWalker",null),u.__decorate([(0,f.watch)(":beforeCommand")],b.prototype,"beforeCommand",null),u.__decorate([(0,f.watch)(":beforeSetNativeEditorValue")],b.prototype,"onBeforeSetNativeEditorValue",null),u.__decorate([(0,f.watch)(":safeHTML")],b.prototype,"onSafeHTML",null),b}(h.Plugin);a.cleanHtml=x,p.pluginSystem.add("cleanHtml",x)},98889:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.cleanHTML={timeout:300,removeEmptyElements:!0,fillEmptyParagraph:!0,replaceNBSP:!0,replaceOldTags:{i:"em",b:"strong"},allowTags:!1,denyTags:"script",useIframeSandbox:!1,removeOnError:!0,safeJavaScriptLink:!0,disableCleanFilter:null},u.Config.prototype.controls.eraser={command:"removeFormat",tooltip:"Clear Formatting"},d.Icon.set("eraser",s(66911))},38655:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getHash=void 0;var u=s(33941),d=s(24421);a.getHash=function(h){var f=/([^[]*)\[([^\]]+)]/,m=/[\s]*,[\s]*/,p=/^(.*)[\s]*=[\s]*(.*)$/,g={};return(0,d.isString)(h)?(h.split(m).map(function(v){v=(0,u.trim)(v);var x=f.exec(v),y={};if(x){var b=x[2].split(m);x[1]&&(b.forEach(function(w){w=(0,u.trim)(w);var _=p.exec(w);_?y[_[1]]=_[2]:y[w]=!0}),g[x[1].toUpperCase()]=y)}else g[v.toUpperCase()]=!0}),g):!!h&&(Object.keys(h).forEach(function(v){g[v.toUpperCase()]=h[v]}),g)}},57713:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(38655),a),u.__exportStar(s(72170),a),u.__exportStar(s(87783),a),u.__exportStar(s(88972),a)},72170:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isInlineBlock=a.removeFormatForCollapsedSelection=void 0;var u=s(24263),d=s(86893);function h(f){return u.Dom.isInlineBlock(f)&&!u.Dom.isTag(f,d.INSEPARABLE_TAGS)}a.removeFormatForCollapsedSelection=function(f,m){var p=f.s,g=m;if(!g){g=f.createInside.fake();var v=p.range;u.Dom.safeInsertNode(v,g),v.collapse()}var x=u.Dom.furthest(g,h,f.editor);if(x)if(p.cursorOnTheLeft(x))u.Dom.before(x,g);else if(p.cursorOnTheRight(x))u.Dom.after(x,g);else{var y=p.splitSelection(x);y&&u.Dom.after(y,g)}m||(p.setCursorBefore(g),u.Dom.safeRemove(g))},a.isInlineBlock=h},87783:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.removeFormatForSelection=void 0;var u=s(24263),d=s(76502),h=s(72170);a.removeFormatForSelection=function(f){var m=f.s,p=f.editor,g=f.createInside,v=m.range,x=v.cloneRange(),y=v.cloneRange(),b=g.fake(),w=g.fake();x.collapse(!0),y.collapse(!1),u.Dom.safeInsertNode(x,b),u.Dom.safeInsertNode(y,w),v.setStartBefore(b),v.collapse(!0),m.selectRange(v),(0,h.removeFormatForCollapsedSelection)(f,b),v.setEndAfter(w),v.collapse(!1),m.selectRange(v),(0,h.removeFormatForCollapsedSelection)(f,w);var _=[];u.Dom.between(b,w,function(E){(0,h.isInlineBlock)(E)&&!u.Dom.isTag(E,["a"])&&_.push(E),u.Dom.isElement(E)&&(0,d.attr)(E,"style")&&(0,d.attr)(E,"style",null)}),_.forEach(function(E){return u.Dom.unwrap(E)});var S=function(E,C){if(!u.Dom.findNotEmptySibling(E,C)){var A=E.parentNode;if(A&&A!==p&&(0,d.attr)(A,"style"))return(0,d.attr)(A,"style",null),S(A,C),!0}};S(b,!0)&&S(w,!1),v.setStartAfter(b),v.setEndBefore(w),m.selectRange(v),u.Dom.safeRemove(b),u.Dom.safeRemove(w)}},9948:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.allowAttributes=void 0;var u=s(24263);a.allowAttributes=function(d,h,f,m){if(m&&u.Dom.isElement(h)&&m[h.nodeName]!==!0){var p=h.attributes;if(p&&p.length){for(var g=[],v=0;p.length>v;v+=1){var x=m[h.nodeName][p[v].name];(!x||x!==!0&&x!==p[v].value)&&g.push(p[v].name)}g.length&&(f=!0),g.forEach(function(y){h.removeAttribute(y)})}}return f}},74722:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.fillEmptyParagraph=void 0;var u=s(24263),d=s(86893);a.fillEmptyParagraph=function(h,f,m){if(h.o.cleanHTML.fillEmptyParagraph&&u.Dom.isBlock(f)&&u.Dom.isEmpty(f,d.INSEPARABLE_TAGS)){var p=h.createInside.element("br");return f.appendChild(p),!0}return m}},2549:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(55901),a),u.__exportStar(s(9948),a),u.__exportStar(s(74722),a),u.__exportStar(s(75096),a),u.__exportStar(s(28194),a),u.__exportStar(s(94254),a),u.__exportStar(s(64701),a)},28194:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.removeEmptyTextNode=void 0;var u=s(24263);a.removeEmptyTextNode=function(d,h,f,m,p,g){return u.Dom.isText(h)&&!h.nodeValue?(h===g&&d.s.isCollapsed()&&d.s.setCursorAfter(h),u.Dom.safeRemove(h),!0):f}},94254:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.removeInvTextNodes=void 0;var u=s(86893),d=s(24263);a.removeInvTextNodes=function(h,f,m,p,g,v){return v!==f&&d.Dom.isText(f)&&f.nodeValue!=null&&(0,u.INVISIBLE_SPACE_REG_EXP)().test(f.nodeValue)?(f.nodeValue=f.nodeValue.replace((0,u.INVISIBLE_SPACE_REG_EXP)(),""),f===v&&h.s.isCollapsed()&&h.s.setCursorAfter(f),f.nodeValue||d.Dom.safeRemove(f),!0):m}},55901:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.replaceOldTags=void 0;var u=s(24263);a.replaceOldTags=function(d,h,f){var m=function(p,g,v){if(!v||!u.Dom.isHTMLElement(g))return g;var x=v[g.nodeName.toLowerCase()]||v[g.nodeName];return x?u.Dom.replace(g,x,p.createInside,!0,!1):g}(d,h,d.o.cleanHTML.replaceOldTags);return h!==m?(h=m,!0):f}},64701:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.sanitizeAttributes=void 0;var u=s(24263),d=s(40332);a.sanitizeAttributes=function(h,f,m){return!(!u.Dom.isElement(f)||!(0,d.sanitizeHTMLElement)(f,{safeJavaScriptLink:h.options.cleanHTML.safeJavaScriptLink,removeOnError:h.options.cleanHTML.removeOnError}))||m}},75096:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.tryRemoveNode=void 0;var u=s(24263),d=s(86893),h=s(33941);a.tryRemoveNode=function(f,m,p,g,v,x){return function(y,b,w,_,S){return!(u.Dom.isText(b)||!(_&&!_[b.nodeName]||S&&S[b.nodeName]))||y.o.cleanHTML.removeEmptyElements&&u.Dom.isElement(b)&&b.nodeName.match(d.IS_INLINE)!=null&&!u.Dom.isTemporary(b)&&(0,h.trim)(b.innerHTML).length===0&&(w==null||!u.Dom.isOrContains(b,w))}(f,m,x,g,v)?(u.Dom.safeRemove(m),!0):p}},88972:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.visitNodeWalker=void 0;var u=s(20255),d=s(2549),h=Object.keys(d);a.visitNodeWalker=function(f,m,p,g,v){var x,y,b=!1,w=f.o.cleanHTML.disableCleanFilter;try{for(var _=u.__values(h),S=_.next();!S.done;S=_.next()){var E=S.value;if(!(w&&w.has(E)||(b=(0,d[E])(f,m,b,p,g,v),m.isConnected)))return!0}}catch(C){x={error:C}}finally{try{S&&!S.done&&(y=_.return)&&y.call(_)}finally{if(x)throw x.error}}return b}},92138:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.clipboard=void 0;var u=s(86893),d=s(40332),h=s(17332);s(31473);var f=function(){function m(){this.buttons=[{name:"cut",group:"clipboard"},{name:"copy",group:"clipboard"},{name:"paste",group:"clipboard"},{name:"selectall",group:"clipboard"}]}return m.prototype.init=function(p){var g;(g=this.buttons)===null||g===void 0||g.forEach(function(v){return p.registerButton(v)}),p.e.off("copy.".concat(u.CLIPBOARD_ID," cut.").concat(u.CLIPBOARD_ID)).on("copy.".concat(u.CLIPBOARD_ID," cut.").concat(u.CLIPBOARD_ID),function(v){var x,y=p.s.html,b=(0,d.getDataTransfer)(v)||(0,d.getDataTransfer)(p.ew)||(0,d.getDataTransfer)(v.originalEvent);b&&(b.setData(u.TEXT_PLAIN,(0,d.stripTags)(y)),b.setData(u.TEXT_HTML,y)),p.buffer.set(u.CLIPBOARD_ID,y),p.e.fire("pasteStack",{html:y,action:p.o.defaultActionOnPaste||u.INSERT_AS_HTML}),v.type==="cut"&&(p.s.remove(),p.s.focus()),v.preventDefault(),(x=p==null?void 0:p.events)===null||x===void 0||x.fire("afterCopy",y)})},m.prototype.destruct=function(p){var g,v;(g=p==null?void 0:p.buffer)===null||g===void 0||g.set(u.CLIPBOARD_ID,""),(v=p==null?void 0:p.events)===null||v===void 0||v.off("."+u.CLIPBOARD_ID)},m}();a.clipboard=f,h.pluginSystem.add("clipboard",f)},31473:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.controls.cut={command:"cut",isDisabled:function(h){return h.s.isCollapsed()},tooltip:"Cut selection"},u.Config.prototype.controls.copy={command:"copy",isDisabled:function(h){return h.s.isCollapsed()},tooltip:"Copy selection"},u.Config.prototype.controls.selectall={icon:"select-all",command:"selectall",tooltip:"Select all"},d.Icon.set("copy",s(50018)).set("cut",s(99738)).set("paste",s(9185)).set("select-all",s(8619))},88412:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.color=void 0;var u=s(40332),d=s(17332);function h(f){f.registerButton({name:"brush",group:"color"});var m=function(p,g,v){var x=(0,u.normalizeColor)(v);switch(p){case"background":f.s.applyStyle({backgroundColor:x||""});break;case"forecolor":f.s.applyStyle({color:x||""})}return f.synchronizeValues(),!1};f.registerCommand("forecolor",m).registerCommand("background",m)}s(21924),a.color=h,d.pluginSystem.add("color",h)},21924:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(40332),h=s(718),f=s(77904),m=s(24263);f.Icon.set("brush",s(73894)),u.Config.prototype.controls.brush={update:function(p,g){var v=(0,d.dataBind)(p,"color"),x=function(_,S){S&&S!==(0,d.css)(g.editor,_).toString()&&(p.state.icon.fill=S)};if(v){var y=(0,d.dataBind)(p,"color");x(y==="color"?y:"background-color",v)}else{var b=g.s.current();if(b&&!p.state.disabled){var w=m.Dom.closest(b,m.Dom.isElement,g.editor)||g.editor;x("color",(0,d.css)(w,"color").toString()),x("background-color",(0,d.css)(w,"background-color").toString())}p.state.icon.fill="",p.state.activated=!1}},popup:function(p,g,v,x,y){var b="",w="",_=[],S=null;return g&&g!==p.editor&&m.Dom.isNode(g)&&(m.Dom.isElement(g)&&p.s.isCollapsed()&&!m.Dom.isTag(g,["br","hr"])&&(S=g),m.Dom.up(g,function(E){if(m.Dom.isHTMLElement(E)){var C=(0,d.css)(E,"color",!0),A=(0,d.css)(E,"background-color",!0);if(C)return b=C.toString(),!0;if(A)return w=A.toString(),!0}},p.editor)),_=[{name:"Background",content:(0,h.ColorPickerWidget)(p,function(E){S?S.style.backgroundColor=E:p.execCommand("background",!1,E),(0,d.dataBind)(y,"color",E),(0,d.dataBind)(y,"color-mode","background"),x()},w)},{name:"Text",content:(0,h.ColorPickerWidget)(p,function(E){S?S.style.color=E:p.execCommand("forecolor",!1,E),(0,d.dataBind)(y,"color",E),(0,d.dataBind)(y,"color-mode","color"),x()},b)}],p.o.colorPickerDefaultTab!=="background"&&(_=_.reverse()),(0,h.TabsWidget)(p,_,S)},exec:function(p,g,v){var x=v.button,y=(0,d.dataBind)(x,"color-mode"),b=(0,d.dataBind)(x,"color");if(!y)return!1;if(g&&g!==p.editor&&m.Dom.isNode(g)&&m.Dom.isElement(g))switch(y){case"color":g.style.color=b;break;case"background":g.style.backgroundColor=b}else p.execCommand(y==="background"?y:"forecolor",!1,b)},tooltip:"Fill color or set the text color"}},79308:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.copyFormat=void 0;var u=s(93166),d=s(24263),h=s(26911),f=s(17332),m=s(77904),p="copy-format",g=["fontWeight","fontStyle","fontSize","color","margin","padding","borderWidth","borderStyle","borderColor","borderRadius","backgroundColor","textDecorationLine","fontFamily"],v=function(y,b,w,_){var S=(0,h.css)(w,b);return S===_[b]&&(S=w.parentNode&&w!==y.editor&&w.parentNode!==y.editor?v(y,b,w.parentNode,_):void 0),S};function x(y){y.registerButton({name:"copyformat",group:"clipboard"}),(0,f.extendLang)(s(9188))}u.Config.prototype.controls.copyformat={exec:function(y,b,w){var _=w.button;if(b){if(y.buffer.exists(p))y.buffer.delete(p),y.e.off(y.editor,"mouseup."+p);else{var S={},E=d.Dom.up(b,function(T){return T&&!d.Dom.isText(T)},y.editor)||y.editor,C=y.createInside.span();y.editor.appendChild(C),g.forEach(function(T){S[T]=(0,h.css)(C,T)}),C!==y.editor&&d.Dom.safeRemove(C);var A=function(T,k,D){var M={};return k&&g.forEach(function(P){M[P]=v(T,P,k,D),P.match(/border(Style|Color)/)&&!M.borderWidth&&(M[P]=void 0)}),M}(y,E,S);y.e.on(y.editor,"mouseup."+p,function(){y.buffer.delete(p);var T=y.s.current();T&&(d.Dom.isTag(T,"img")?(0,h.css)(T,A):y.s.applyStyle(A)),y.e.off(y.editor,"mouseup."+p)}),y.buffer.set(p,!0)}_.update()}},isActive:function(y){return y.buffer.exists(p)},tooltip:"Paint format"},a.copyFormat=x,f.pluginSystem.add("copyformat",x),m.Icon.set("copyformat",s(83301))},9188:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.zh_tw=a.zh_cn=a.tr=a.ru=a.pt_br=a.pl=a.nl=a.mn=a.ko=a.ja=a.it=a.id=a.hu=a.he=a.fr=a.fa=a.es=a.de=a.cs_cz=a.ar=void 0;var u=s(80078);a.ar=u;var d=s(16986);a.cs_cz=d;var h=s(59347);a.de=h;var f=s(63640);a.es=f;var m=s(53434);a.fa=m;var p=s(85638);a.fr=p;var g=s(31743);a.he=g;var v=s(66219);a.hu=v;var x=s(50331);a.id=x;var y=s(25582);a.it=y;var b=s(82066);a.ja=b;var w=s(71925);a.ko=w;var _=s(12689);a.mn=_;var S=s(65274);a.nl=S;var E=s(58548);a.pl=E;var C=s(82958);a.pt_br=C;var A=s(52315);a.ru=A;var T=s(87727);a.tr=T;var k=s(9396);a.zh_cn=k;var D=s(28765);a.zh_tw=D},9412:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.draggableTags=["img","jodit-media","jodit"]},30598:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.dragAndDropElement=void 0;var u,d=s(20255),h=s(40332),f=s(57549),m=s(64968),p=s(17332),g=s(43441);s(9412),function(x){x[x.IDLE=0]="IDLE",x[x.WAIT_DRAGGING=1]="WAIT_DRAGGING",x[x.DRAGGING=2]="DRAGGING"}(u||(u={}));var v=function(x){function y(){var b=x!==null&&x.apply(this,arguments)||this;return b.dragList=[],b.draggable=null,b.isCopyMode=!1,b.diffStep=10,b.startX=0,b.startY=0,b.state=u.IDLE,b}return d.__extends(y,x),y.prototype.afterInit=function(){this.dragList=this.j.o.draggableTags?(0,h.splitArray)(this.j.o.draggableTags).filter(Boolean).map(function(b){return b.toLowerCase()}):[],this.dragList.length&&this.j.e.on("mousedown dragstart",this.onDragStart)},y.prototype.onDragStart=function(b){var w=this;if(b.type==="dragstart"&&this.draggable)return!1;if(u.IDLE>=this.state){var _=b.target;if(this.dragList.length&&_){var S=function(C){return!!(C&&w.dragList.includes(C.nodeName.toLowerCase()))},E=m.Dom.furthest(_,S,this.j.editor)||(S(_)?_:null);E&&(m.Dom.isTag(E.parentElement,"a")&&E.parentElement.firstChild===E&&E.parentElement.lastChild===E&&(E=E.parentElement),this.startX=b.clientX,this.startY=b.clientY,this.isCopyMode=(0,h.ctrlKey)(b),this.draggable=E.cloneNode(!0),(0,h.dataBind)(this.draggable,"target",E),this.state=u.WAIT_DRAGGING,this.addDragListeners())}}},y.prototype.onDrag=function(b){var w,_;if(this.draggable&&this.state!==u.IDLE){var S=b.clientY;if(this.state!==u.WAIT_DRAGGING||Math.sqrt(Math.pow(b.clientX-this.startX,2)+Math.pow(S-this.startY,2))>=this.diffStep){if(this.state===u.WAIT_DRAGGING&&(this.j.lock("drag-and-drop-element"),this.state=u.DRAGGING),this.j.e.fire("hidePopup hideResizer"),!this.draggable.parentNode){var E=(0,h.dataBind)(this.draggable,"target");(0,h.css)(this.draggable,{zIndex:1e13,pointerEvents:"none",pointer:"drag",position:"fixed",opacity:.7,display:"inline-block",left:b.clientX,top:b.clientY,width:(w=E==null?void 0:E.offsetWidth)!==null&&w!==void 0?w:100,height:(_=E==null?void 0:E.offsetHeight)!==null&&_!==void 0?_:100}),(0,p.getContainer)(this.j,y).appendChild(this.draggable)}(0,h.css)(this.draggable,{left:b.clientX,top:b.clientY}),this.j.s.insertCursorAtPoint(b.clientX,b.clientY)}}},y.prototype.onDragEnd=function(){this.isInDestruct||(this.removeDragListeners(),this.j.unlock(),this.state=u.IDLE,this.draggable&&(m.Dom.safeRemove(this.draggable),this.draggable=null))},y.prototype.onDrop=function(){if(this.draggable&&this.state>=u.DRAGGING){var b=(0,h.dataBind)(this.draggable,"target");this.onDragEnd(),this.isCopyMode&&(b=b.cloneNode(!0));var w=b.parentElement;this.j.s.insertNode(b,!0,!1),w&&m.Dom.isEmpty(w)&&!m.Dom.isTag(w,["td","th"])&&m.Dom.safeRemove(w),m.Dom.isTag(b,"img")&&this.j.e&&this.j.e.fire("afterInsertImage",b),this.j.e.fire("synchro")}else this.onDragEnd()},y.prototype.addDragListeners=function(){this.j.e.on(this.j.editor,"mousemove",this.onDrag).on("mouseup",this.onDrop).on([this.j.ew,this.ow],"mouseup",this.onDragEnd)},y.prototype.removeDragListeners=function(){this.j.e.off(this.j.editor,"mousemove",this.onDrag).off("mouseup",this.onDrop).off([this.j.ew,this.ow],"mouseup",this.onDragEnd)},y.prototype.beforeDestruct=function(){this.onDragEnd(),this.j.e.off("mousedown dragstart",this.onDragStart),this.removeDragListeners()},d.__decorate([g.autobind],y.prototype,"onDragStart",null),d.__decorate([(0,g.throttle)(function(b){return b.defaultTimeout/10})],y.prototype,"onDrag",null),d.__decorate([g.autobind],y.prototype,"onDragEnd",null),d.__decorate([g.autobind],y.prototype,"onDrop",null),y}(f.Plugin);a.dragAndDropElement=v,p.pluginSystem.add("dragAndDropElement",v)},19268:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.dragAndDrop=void 0;var u=s(20255),d=s(86893),h=s(24263),f=s(40332),m=s(57549),p=s(43441),g=s(63463),v=s(17332),x=function(y){function b(){var w=y!==null&&y.apply(this,arguments)||this;return w.isFragmentFromEditor=!1,w.isCopyMode=!1,w.startDragPoint={x:0,y:0},w.draggable=null,w.bufferRange=null,w.getText=function(_){var S=(0,f.getDataTransfer)(_);return S?S.getData(d.TEXT_HTML)||S.getData(d.TEXT_PLAIN):null},w}return u.__extends(b,y),b.prototype.afterInit=function(){this.j.e.on([window,this.j.ed,this.j.editor],"dragstart.DragAndDrop",this.onDragStart)},b.prototype.onDragStart=function(w){var _=w.target;if(this.onDragEnd(),this.isFragmentFromEditor=h.Dom.isOrContains(this.j.editor,_,!0),this.isCopyMode=!this.isFragmentFromEditor||(0,f.ctrlKey)(w),this.isFragmentFromEditor){var S=this.j.s.sel,E=S&&S.rangeCount?S.getRangeAt(0):null;E&&(this.bufferRange=E.cloneRange())}else this.bufferRange=null;this.startDragPoint.x=w.clientX,this.startDragPoint.y=w.clientY,(0,g.isFileBrowserFilesItem)(_)&&(_=_.querySelector("img")),h.Dom.isTag(_,"img")&&(this.draggable=_.cloneNode(!0),(0,f.dataBind)(this.draggable,"target",_)),this.addDragListeners()},b.prototype.addDragListeners=function(){this.j.e.on("dragover",this.onDrag).on("drop.DragAndDrop",this.onDrop).on(window,"dragend.DragAndDrop drop.DragAndDrop mouseup.DragAndDrop",this.onDragEnd)},b.prototype.removeDragListeners=function(){this.j.e.off("dragover",this.onDrag).off("drop.DragAndDrop",this.onDrop).off(window,"dragend.DragAndDrop drop.DragAndDrop mouseup.DragAndDrop",this.onDragEnd)},b.prototype.onDrag=function(w){this.draggable&&(this.j.e.fire("hidePopup"),this.j.s.insertCursorAtPoint(w.clientX,w.clientY),w.preventDefault(),w.stopPropagation())},b.prototype.onDragEnd=function(){this.draggable&&(h.Dom.safeRemove(this.draggable),this.draggable=null),this.isCopyMode=!1,this.removeDragListeners()},b.prototype.onDrop=function(w){if(!w.dataTransfer||!w.dataTransfer.files||!w.dataTransfer.files.length){if(!this.isFragmentFromEditor&&!this.draggable)return this.j.e.fire("paste",w),w.preventDefault(),w.stopPropagation(),!1;var _=this.j.s.sel,S=this.bufferRange||(_&&_.rangeCount?_.getRangeAt(0):null),E=null;if(!this.draggable&&S)E=this.isCopyMode?S.cloneContents():S.extractContents();else if(this.draggable)if(this.isCopyMode){var C=u.__read((0,f.attr)(this.draggable,"-is-file")==="1"?["a","href"]:["img","src"],2),A=C[0],T=C[1];(E=this.j.createInside.element(A)).setAttribute(T,(0,f.attr)(this.draggable,"data-src")||(0,f.attr)(this.draggable,"src")||""),A==="a"&&(E.textContent=(0,f.attr)(E,T)||"")}else E=(0,f.dataBind)(this.draggable,"target");else this.getText(w)&&(E=this.j.createInside.fromHTML(this.getText(w)));_&&_.removeAllRanges(),this.j.s.insertCursorAtPoint(w.clientX,w.clientY),E&&(this.j.s.insertNode(E,!1,!1),S&&E.firstChild&&E.lastChild&&(S.setStartBefore(E.firstChild),S.setEndAfter(E.lastChild),this.j.s.selectRange(S),this.j.e.fire("synchro")),h.Dom.isTag(E,"img")&&this.j.events&&this.j.e.fire("afterInsertImage",E)),w.preventDefault(),w.stopPropagation()}this.isFragmentFromEditor=!1,this.removeDragListeners()},b.prototype.beforeDestruct=function(){this.onDragEnd(),this.j.e.off(window,".DragAndDrop").off(".DragAndDrop").off([window,this.j.ed,this.j.editor],"dragstart.DragAndDrop",this.onDragStart)},u.__decorate([p.autobind],b.prototype,"onDragStart",null),u.__decorate([(0,p.throttle)(function(w){return w.defaultTimeout/10})],b.prototype,"onDrag",null),u.__decorate([p.autobind],b.prototype,"onDragEnd",null),u.__decorate([p.autobind],b.prototype,"onDrop",null),b}(m.Plugin);a.dragAndDrop=x,v.pluginSystem.add("dragAndDrop",x)},95049:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(69516),a)},69516:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.removeExtraBr=void 0;var u=s(24263);a.removeExtraBr=function(d,h){if(d.o.dtd.removeExtraBr&&!u.Dom.isTag(h,"br")){var f=u.Dom.furthest(h,u.Dom.isBlock,d.editor);if(f&&!u.Dom.isTag(f,["table","pre","blockquote","code"])){var m=u.Dom.isTag(h,"br")?h:u.Dom.findNotEmptySibling(h,!1);if(!u.Dom.isTag(m,"br"))return;d.s.setCursorBefore(m),u.Dom.safeRemove(m)}}}},73967:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkBlockNesting=void 0;var u=s(24263);a.checkBlockNesting=function(d,h){if(u.Dom.isFragment(h)&&(h=h.firstChild),d.o.dtd.checkBlockNesting&&u.Dom.isBlock(h)){var f=u.Dom.furthest(d.s.current(),u.Dom.isBlock,d.editor);f&&!d.o.dtd.blockLimits[f.tagName.toLowerCase()]&&(d.s.setCursorAfter(f),u.Dom.isEmpty(f)&&u.Dom.safeRemove(f))}}},73690:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(73967),a)},20173:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.dtd={removeExtraBr:!0,checkBlockNesting:!0,blockLimits:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1}}},96899:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255),d=s(57549),h=s(17332),f=s(46163);s(20173);var m=s(73690),p=s(95049),g=function(v){function x(){return v!==null&&v.apply(this,arguments)||this}return u.__extends(x,v),x.prototype.afterInit=function(y){},x.prototype.beforeDestruct=function(y){},x.prototype.__onBeforeInsertNode=function(y){var b=this;Object.keys(m).forEach(function(w){m[w](b.j,y)})},x.prototype.__onAfterInsertNode=function(y){var b=this;Object.keys(p).forEach(function(w){p[w](b.j,y)})},u.__decorate([(0,f.watch)(":beforeInsertNode")],x.prototype,"__onBeforeInsertNode",null),u.__decorate([(0,f.watch)(":afterInsertNode")],x.prototype,"__onAfterInsertNode",null),x}(d.Plugin);h.pluginSystem.add("dtd",g)},33122:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.enter=void 0;var u=s(20255),d=s(24263),h=s(85605),f=s(86893),m=s(43441),p=s(67749),g=s(23217),v=s(17332);s(26231);var x=function(y){function b(){return y!==null&&y.apply(this,arguments)||this}return u.__extends(b,y),b.prototype.afterInit=function(w){var _=this,S=w.o.enter.toLowerCase(),E=S===f.BR.toLowerCase();w.o.enterBlock||(w.o.enterBlock=E?f.PARAGRAPH:S),w.registerCommand("enter",function(C,A,T){return T===void 0&&(T={}),_.onEnter(T)})},b.prototype.onEnterKeyDown=function(w){if(w.key===f.KEY_ENTER){var _=this.j,S=_.e.fire("beforeEnter",w);return S!==void 0?S:(_.s.isCollapsed()||_.execCommand("Delete"),_.s.focus(),this.onEnter(w),_.e.fire("afterEnter",w),_.synchronizeValues(),!1)}},b.prototype.onEnter=function(w){var _=this.jodit,S=_.createInside.fake();try{d.Dom.safeInsertNode(_.s.range,S),(0,g.moveCursorOutFromSpecialTags)(_,S,["a"]);var E=(0,g.getBlockWrapper)(S,_),C=d.Dom.isTag(E,"li");if((!C||w!=null&&w.shiftKey)&&(0,g.checkBR)(S,_,w==null?void 0:w.shiftKey))return!1;if(E||(0,g.hasPreviousBlock)(S,_)||(E=(0,g.wrapText)(S,_)),!E)return(0,g.insertParagraph)(S,_,C?"li":_.o.enter),!1;if(!(0,g.checkUnsplittableBox)(S,_,E))return!1;if(C&&this.__isEmptyListLeaf(E))return(0,g.processEmptyLILeaf)(S,_,E),!1;(0,g.splitFragment)(S,_,E)}finally{S.isConnected&&_.s.setCursorBefore(S),d.Dom.safeRemove(S)}},b.prototype.__isEmptyListLeaf=function(w){var _=this.j.e.fire("enterIsEmptyListLeaf",w);return(0,p.isBoolean)(_)?_:d.Dom.isEmpty(w)},b.prototype.beforeDestruct=function(w){w.e.off("keydown.enter")},u.__decorate([(0,m.watch)(":keydown.enter")],b.prototype,"onEnterKeyDown",null),b}(h.Plugin);a.enter=x,v.pluginSystem.add("enter",x)},94149:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkBR=void 0;var u=s(24263),d=s(9005),h=s(86893);function f(m){if(!m)return!1;var p=u.Dom.findSibling(m,!0);return!(!p||!u.Dom.isTag(p,"br"))&&p}a.checkBR=function(m,p,g){var v=!!u.Dom.closest(m,["pre","blockquote"],p.editor);if(p.o.enter.toLowerCase()===h.BR.toLowerCase()||g&&!v||!g&&v){if(v&&function(b){var w=f(f(b));return!!w&&(u.Dom.safeRemove(f(b)),u.Dom.safeRemove(w),!0)}(m))return!1;var x=p.createInside.element("br");if(u.Dom.before(m,x),!u.Dom.findNotEmptySibling(x,!1)){var y=x.cloneNode();u.Dom.after(x,y),u.Dom.before(y,m)}return(0,d.scrollIntoViewIfNeeded)(x,p.editor,p.ed),!0}return!1}},58921:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkUnsplittableBox=void 0;var u=s(24263);a.checkUnsplittableBox=function(d,h,f){return!!u.Dom.canSplitBlock(f)||(u.Dom.before(d,h.createInside.element("br")),!1)}},70638:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getBlockWrapper=void 0;var u=s(86893),d=s(24263);a.getBlockWrapper=function h(f,m,p){p===void 0&&(p=u.IS_BLOCK);var g=f,v=m.editor;do{if(!g||g===v)break;if(p.test(g.nodeName))return d.Dom.isTag(g,"li")?g:h(g.parentNode,m,/^li$/i)||g;g=g.parentNode}while(g&&g!==v);return null}},50781:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.hasPreviousBlock=void 0;var u=s(24263);a.hasPreviousBlock=function(d,h){return!!u.Dom.prev(d,function(f){return u.Dom.isBlock(f)||u.Dom.isImage(f)},h.editor)}},23217:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(94149),a),u.__exportStar(s(58921),a),u.__exportStar(s(92291),a),u.__exportStar(s(70638),a),u.__exportStar(s(50781),a),u.__exportStar(s(90443),a),u.__exportStar(s(52521),a),u.__exportStar(s(81512),a),u.__exportStar(s(29575),a)},90443:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.insertParagraph=void 0;var u=s(24263),d=s(9005);a.insertParagraph=function(h,f,m,p){var g=m.toLowerCase()==="br",v=f.createInside,x=v.element(m),y=v.element("br");return g||x.appendChild(y),p&&p.cssText&&x.setAttribute("style",p.cssText),u.Dom.after(h,x),u.Dom.before(g?x:y,h),(0,d.scrollIntoViewIfNeeded)(x,f.editor,f.ed),x}},29575:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.moveCursorOutFromSpecialTags=void 0;var u=s(24263);a.moveCursorOutFromSpecialTags=function(d,h,f){var m=d.s,p=u.Dom.closest(h,f,d.editor);p&&(m.cursorOnTheRight(p,h)?u.Dom.after(p,h):m.cursorOnTheLeft(p,h)&&u.Dom.before(p,h))}},92291:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.processEmptyLILeaf=void 0;var u=s(24263),d=s(54188),h=s(90443);a.processEmptyLILeaf=function(f,m,p){var g=u.Dom.closest(p,["ol","ul"],m.editor);if(g){var v=g.parentElement,x=u.Dom.isTag(v,"li"),y=x?v:g,b=m.s.createRange();b.setStartAfter(p),b.setEndAfter(g);var w=b.extractContents();u.Dom.after(y,f),u.Dom.safeRemove(p),(0,d.$$)("li",g).length||u.Dom.safeRemove(g);var _=(0,h.insertParagraph)(f,m,x?"li":m.o.enter);w.querySelector("li")&&(x?_.appendChild(w):u.Dom.after(_,w))}}},52521:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.splitFragment=void 0;var u=s(9005),d=s(24263),h=s(90443);a.splitFragment=function(f,m,p){var g=m.s,v=m.o.enter.toLowerCase(),x=d.Dom.isTag(p,"li"),y=p.tagName.toLowerCase()===v||x,b=g.cursorOnTheRight(p,f),w=g.cursorOnTheLeft(p,f);if(!y&&(b||w))return b?d.Dom.after(p,f):d.Dom.before(p,f),(0,h.insertParagraph)(f,m,v),void(w&&!b&&d.Dom.prepend(p,f));var _=g.splitSelection(p,f);(0,u.scrollIntoViewIfNeeded)(_,m.editor,m.ed)}},81512:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.wrapText=void 0;var u=s(24263);a.wrapText=function(d,h){var f=d;u.Dom.up(f,function(g){g&&g.hasChildNodes()&&g!==h.editor&&(f=g)},h.editor);var m=u.Dom.wrapInline(f,h.o.enter,h);if(u.Dom.isEmpty(m)){var p=h.createInside.element("br");m.appendChild(p),u.Dom.before(p,d)}return m}},26231:function(){},10135:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.file=void 0;var u=s(93166),d=s(24263),h=s(718),f=s(17332);function m(p){p.registerButton({name:"file",group:"media"})}u.Config.prototype.controls.file={popup:function(p,g,v,x){var y=function(w,_){_===void 0&&(_=""),p.s.insertNode(p.createInside.fromHTML('<a href="'.concat(w,'" title="').concat(_,'">').concat(_||w,"</a>")))},b=null;return g&&(d.Dom.isTag(g,"a")||d.Dom.closest(g,"a",p.editor))&&(b=d.Dom.isTag(g,"a")?g:d.Dom.closest(g,"a",p.editor)),(0,h.FileSelectorWidget)(p,{filebrowser:function(w){w.files&&w.files.forEach(function(_){return y(w.baseurl+_)}),x()},upload:!0,url:function(w,_){b?(b.setAttribute("href",w),b.setAttribute("title",_)):y(w,_),x()}},b,x,!1)},tags:["a"],tooltip:"Insert file"},a.file=m,f.pluginSystem.add("file",m)},66994:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.focus=void 0;var u=s(93166),d=s(64968),h=s(17332);function f(m){m.o.saveSelectionOnBlur&&m.e.on("blur",function(){m.isEditorMode()&&m.s.save(!0)}).on("focus",function(){m.s.restore()});var p=function(){if(m.s.focus(),m.o.cursorAfterAutofocus==="end"){var g=d.Dom.last(m.editor,function(v){return d.Dom.isText(v)});g&&m.s.setCursorIn(g,!1)}};m.e.on("afterInit",function(){m.o.autofocus&&(m.defaultTimeout?m.async.setTimeout(p,300):p())}),m.e.on("afterInit afterAddPlace",function(){m.e.off(m.editor,"mousedown.autofocus").on(m.editor,"mousedown.autofocus",function(g){m.isEditorMode()&&g.target&&d.Dom.isBlock(g.target)&&!g.target.childNodes.length&&(m.editor===g.target?m.s.focus():m.s.setCursorIn(g.target))})})}u.Config.prototype.autofocus=!1,u.Config.prototype.cursorAfterAutofocus="end",u.Config.prototype.saveSelectionOnBlur=!0,a.focus=f,h.pluginSystem.add("focus",f)},8082:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255),d=s(93166),h=s(24263),f=s(76502),m=s(77904);d.Config.prototype.defaultFontSizePoints="px",m.Icon.set("font",s(84142)).set("fontsize",s(57292)),d.Config.prototype.controls.fontsize={command:"fontsize",data:{cssRule:"font-size"},list:["8","9","10","11","12","14","16","18","24","30","36","48","60","72","96"],exec:function(p,g,v){var x=v.control;return(0,f.memorizeExec)(p,g,{control:x},function(y){var b;return((b=x.command)===null||b===void 0?void 0:b.toLowerCase())==="fontsize"?"".concat(y).concat(p.o.defaultFontSizePoints):y})},childTemplate:function(p,g,v){return"".concat(v).concat(p.o.defaultFontSizePoints)},tooltip:"Font size",isChildActive:function(p,g){var v,x,y=p.s.current(),b=((v=g.data)===null||v===void 0?void 0:v.cssRule)||"font-size",w=((x=g.data)===null||x===void 0?void 0:x.normalize)||function(E){return/pt$/i.test(E)&&p.o.defaultFontSizePoints==="pt"?E.replace(/pt$/i,""):E};if(y){var _=h.Dom.closest(y,h.Dom.isElement,p.editor)||p.editor,S=(0,f.css)(_,b);return!!(S&&g.args&&w(g.args[0].toString())===w(S.toString()))}return!1}},d.Config.prototype.controls.font=u.__assign(u.__assign({},d.Config.prototype.controls.fontsize),{command:"fontname",list:{"":"Default","helvetica,sans-serif":"Helvetica","arial,helvetica,sans-serif":"Arial","georgia,palatino,serif":"Georgia","impact,charcoal,sans-serif":"Impact","tahoma,geneva,sans-serif":"Tahoma","times new roman,times,serif":"Times New Roman","verdana,geneva,sans-serif":"Verdana"},childTemplate:function(p,g,v){var x=!1;try{x=g.indexOf("dings")===-1&&document.fonts.check("16px ".concat(g),v)}catch{}return'<span data-style="'.concat(g,'" style="').concat(x?"font-family: ".concat(g,"!important;"):"",'">').concat(v,"</span>")},data:{cssRule:"font-family",normalize:function(p){return p.toLowerCase().replace(/['"]+/g,"").replace(/[^a-z0-9]+/g,",")}},tooltip:"Font family"})},54798:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.font=void 0;var u=s(40332),d=s(17332);function h(f){f.registerButton({name:"font",group:"font"}).registerButton({name:"fontsize",group:"font"});var m=function(p,g,v){switch(p){case"fontsize":f.s.applyStyle({fontSize:(0,u.normalizeSize)(v)});break;case"fontname":f.s.applyStyle({fontFamily:v})}return f.synchronizeValues(),!1};f.registerCommand("fontsize",m).registerCommand("fontname",m)}s(8082),a.font=h,d.pluginSystem.add("font",h)},12908:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.formatBlock=void 0;var u=s(93166),d=s(87837),h=s(40332),f=s(17332);function m(p){p.registerButton({name:"paragraph",group:"font"}),p.registerCommand("formatblock",function(g,v,x){return p.s.applyStyle(void 0,{element:x}),p.synchronizeValues(),!1})}s(77904).Icon.set("paragraph",s(18019)),u.Config.prototype.controls.paragraph={command:"formatBlock",update:function(p,g){var v=p.control,x=g.s.current();if(x&&g.o.textIcons){var y=(d.Dom.closest(x,d.Dom.isBlock,g.editor)||g.editor).nodeName.toLowerCase(),b=v.list;p&&v.data&&v.data.currentValue!==y&&b&&b[y]&&(g.o.textIcons?p.state.text=y:p.state.icon.name=y,v.data.currentValue=y)}return!1},exec:h.memorizeExec,data:{currentValue:"left"},list:{p:"Normal",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",blockquote:"Quote",pre:"Code"},isChildActive:function(p,g){var v=p.s.current();if(v){var x=d.Dom.closest(v,d.Dom.isBlock,p.editor);return!!(x&&x!==p.editor&&g.args!==void 0&&x.nodeName.toLowerCase()===g.args[0])}return!1},isActive:function(p,g){var v=p.s.current();if(v){var x=d.Dom.closest(v,d.Dom.isBlock,p.editor);return!!(x&&x!==p.editor&&g.list!==void 0&&!d.Dom.isTag(x,"p")&&g.list[x.nodeName.toLowerCase()]!==void 0)}return!1},childTemplate:function(p,g,v){return"<".concat(g,' style="margin:0;padding:0"><span>').concat(p.i18n(v),"</span></").concat(g,">")},tooltip:"Insert format block"},a.formatBlock=m,f.pluginSystem.add("formatBlock",m)},15045:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(14320);var u=s(93166),d=s(86893),h=s(77904);u.Config.prototype.fullsize=!1,u.Config.prototype.globalFullSize=!0,h.Icon.set("fullsize",s(45146)).set("shrink",s(53576)),u.Config.prototype.controls.fullsize={exec:function(f){f.toggleFullSize()},update:function(f,m){var p=m.isFullSize?"shrink":"fullsize";f.state.activated=m.isFullSize,m.o.textIcons?f.state.text=p:f.state.icon.name=p},tooltip:"Open in fullsize",mode:d.MODE_SOURCE+d.MODE_WYSIWYG}},65123:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.fullsize=void 0,s(14320);var u=s(26911),d=s(77892),h=s(17332);s(15045);var f=new Set;function m(p){p.registerButton({name:"fullsize"});var g=!1,v=0,x=0,y=!1,b=function(){var _=p.container;p.events&&(g?(v=(0,u.css)(_,"height",!0),x=(0,u.css)(_,"width",!0),(0,u.css)(_,{height:p.ow.innerHeight,width:p.ow.innerWidth}),y=!0):y&&(0,u.css)(_,{height:v||"auto",width:x||"auto"}))},w=function(_){var S=p.container,E=p.events;if(S){if(_===void 0&&(_=!S.classList.contains("jodit_fullsize")),p.setMod("fullsize",_),p.o.fullsize=_,g=_,S.classList.toggle("jodit_fullsize",_),p.toolbar&&((0,d.isJoditObject)(p)&&p.toolbarContainer.appendChild(p.toolbar.container),(0,u.css)(p.toolbar.container,"width","auto")),_?f.add(S):f.delete(S),p.o.globalFullSize&&(f.size===1&&_||f.size===0&&!_)){for(var C=S.parentNode;C&&C.nodeType!==Node.DOCUMENT_NODE&&C.nodeType!==Node.DOCUMENT_FRAGMENT_NODE;)C.classList.toggle("jodit_fullsize-box_true",_),C=C.parentNode;b()}E.fire("afterResize")}};p.o.globalFullSize&&p.e.on(p.ow,"resize",b),p.e.on("afterInit afterOpen",function(){var _;p.toggleFullSize((_=p==null?void 0:p.options)===null||_===void 0?void 0:_.fullsize)}).on("toggleFullSize",w).on("beforeDestruct",function(){g&&w(!1)}).on("beforeDestruct",function(){p.events&&p.e.off(p.ow,"resize",b)})}a.fullsize=m,h.pluginSystem.add("fullsize",m)},16829:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.commandToHotkeys={removeFormat:["ctrl+shift+m","cmd+shift+m"],insertOrderedList:["ctrl+shift+7","cmd+shift+7"],insertUnorderedList:["ctrl+shift+8, cmd+shift+8"],selectall:["ctrl+a","cmd+a"]}},83228:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.hotkeys=void 0;var u=s(20255),d=s(57549),h=s(40332),f=s(86893),m=s(17332);s(16829);var p=function(g){function v(){var x=g!==null&&g.apply(this,arguments)||this;return x.onKeyPress=function(y){var b=x.specialKeys[y.which],w=(y.key||String.fromCharCode(y.which)).toLowerCase(),_=[b||w];return["alt","ctrl","shift","meta"].forEach(function(S){y[S+"Key"]&&b!==S&&_.push(S)}),(0,h.normalizeKeyAliases)(_.join("+"))},x.specialKeys={8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",91:"meta",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},x}return u.__extends(v,g),v.prototype.afterInit=function(x){var y=this;(0,h.keys)(x.o.commandToHotkeys,!1).forEach(function(w){var _=x.o.commandToHotkeys[w];_&&((0,h.isArray)(_)||(0,h.isString)(_))&&x.registerHotkeyToCommand(_,w)});var b=!1;x.e.off(".hotkeys").on([x.ow,x.ew],"keydown.hotkeys",function(w){if(w.key===f.KEY_ESC)return y.j.e.fire("escape",w)}).on("keydown.hotkeys",function(w){var _=y.onKeyPress(w),S={shouldStop:!0};if(y.j.e.fire(_+".hotkey",w.type,S)===!1){if(S.shouldStop)return b=!0,x.e.stopPropagation("keydown"),!1;w.preventDefault()}},{top:!0}).on("keyup.hotkeys",function(){if(b)return b=!1,x.e.stopPropagation("keyup"),!1},{top:!0})},v.prototype.beforeDestruct=function(x){x.events&&x.e.off(".hotkeys")},v}(d.Plugin);a.hotkeys=p,m.pluginSystem.add("hotkeys",p)},43889:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.hr=void 0;var u=s(93166),d=s(64968),h=s(17332);function f(m){m.registerButton({name:"hr",group:"insert"}),m.registerCommand("insertHorizontalRule",function(){var p=m.createInside.element("hr");m.s.insertNode(p,!1,!1);var g=d.Dom.closest(p.parentElement,d.Dom.isBlock,m.editor);g&&d.Dom.isEmpty(g)&&g!==m.editor&&(d.Dom.after(g,p),d.Dom.safeRemove(g));var v=d.Dom.next(p,d.Dom.isBlock,m.editor,!1);return v||(v=m.createInside.element(m.o.enter),d.Dom.after(p,v)),m.s.setCursorIn(v),!1})}s(77904).Icon.set("hr",s(14655)),u.Config.prototype.controls.hr={command:"insertHorizontalRule",tags:["hr"],tooltip:"Insert Horizontal Line"},a.hr=f,h.pluginSystem.add("hr",f)},2509:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.iframeBaseUrl="",u.Config.prototype.iframeTitle="Jodit Editor",u.Config.prototype.iframeDoctype="<!DOCTYPE html>",u.Config.prototype.iframeDefaultSrc="about:blank",u.Config.prototype.iframeStyle='html{margin:0;padding:0;min-height: 100%;}body{box-sizing:border-box;font-size:13px;line-height:1.6;padding:10px;margin:0;background:transparent;color:#000;position:relative;z-index:2;user-select:auto;margin:0px;overflow:auto;outline:none;}table{width:100%;border:none;border-collapse:collapse;empty-cells: show;max-width: 100%;}th,td{padding: 2px 5px;border:1px solid #ccc;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}p{margin-top:0;}.jodit_editor .jodit_iframe_wrapper{display: block;clear: both;user-select: none;position: relative;}.jodit_editor .jodit_iframe_wrapper:after {position:absolute;content:"";z-index:1;top:0;left:0;right: 0;bottom: 0;cursor: pointer;display: block;background: rgba(0, 0, 0, 0);} .jodit_disabled{user-select: none;-o-user-select: none;-moz-user-select: none;-khtml-user-select: none;-webkit-user-select: none;-ms-user-select: none}',u.Config.prototype.iframeCSSLinks=[]},93300:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.iframe=void 0;var u=s(40332),d=s(40332),h=s(86893),f=s(17332);function m(p){var g=p.options;p.e.on("afterSetMode",function(){p.isEditorMode()&&p.s.focus()}).on("generateDocumentStructure.iframe",function(v,x){var y=v||x.iframe.contentWindow.document;if(y.open(),y.write(g.iframeDoctype+'<html dir="'.concat(g.direction,'" class="jodit" lang="').concat((0,u.defaultLanguage)(g.language),'">')+"<head>"+"<title>".concat(g.iframeTitle,"</title>")+(g.iframeBaseUrl?'<base href="'.concat(g.iframeBaseUrl,'"/>'):"")+'</head><body class="jodit-wysiwyg"></body></html>'),y.close(),g.iframeCSSLinks&&g.iframeCSSLinks.forEach(function(w){var _=y.createElement("link");_.setAttribute("rel","stylesheet"),_.setAttribute("href",w),y.head&&y.head.appendChild(_)}),g.iframeStyle){var b=y.createElement("style");b.innerHTML=g.iframeStyle,y.head&&y.head.appendChild(b)}}).on("createEditor",function(){if(g.iframe){var v=p.c.element("iframe");v.style.display="block",v.src="about:blank",v.className="jodit-wysiwyg_iframe",v.setAttribute("allowtransparency","true"),v.setAttribute("tabindex",g.tabIndex.toString()),v.setAttribute("frameborder","0"),p.workplace.appendChild(v),p.iframe=v;var x=p.e.fire("generateDocumentStructure.iframe",null,p);return(0,u.callPromise)(x,function(){if(!p.iframe)return!1;var y=p.iframe.contentWindow.document;p.editorWindow=p.iframe.contentWindow;var b=function(){(0,u.attr)(y.body,"contenteditable",p.getMode()!==h.MODE_SOURCE&&!p.getReadOnly()||null)},w=function(C){var A=/<body.*<\/body>/im,T="{%%BODY%%}",k=A.exec(C);return k&&(C=C.replace(A,T).replace(/<span([^>]*?)>(.*?)<\/span>/gim,"").replace(/&lt;span([^&]*?)&gt;(.*?)&lt;\/span&gt;/gim,"").replace(T,k[0].replace(/(<body[^>]+?)min-height["'\s]*:[\s"']*[0-9]+(px|%)/im,"$1").replace(/(<body[^>]+?)([\s]*["'])?contenteditable["'\s]*=[\s"']*true["']?/im,"$1").replace(/<(style|script|span)[^>]+jodit[^>]+>.*?<\/\1>/g,"")).replace(/(class\s*=\s*)(['"])([^"']*)(jodit-wysiwyg|jodit)([^"']*\2)/g,"$1$2$3$5").replace(/(<[^<]+?)\sclass="[\s]*"/gim,"$1").replace(/(<[^<]+?)\sstyle="[\s;]*"/gim,"$1").replace(/(<[^<]+?)\sdir="[\s]*"/gim,"$1")),C};if(g.editHTMLDocumentMode){var _=p.element.tagName;if(_!=="TEXTAREA"&&_!=="INPUT")throw(0,d.error)("If enable `editHTMLDocumentMode` - source element should be INPUT or TEXTAREA");p.e.on("beforeGetNativeEditorValue",function(){return w(p.o.iframeDoctype+y.documentElement.outerHTML)}).on("beforeSetNativeEditorValue",function(C){var A=C.value;return!p.isLocked&&(/<(html|body)/i.test(A)?w(y.documentElement.outerHTML)!==w(A)&&(y.open(),y.write(p.o.iframeDoctype+w(A)),y.close(),p.editor=y.body,p.e.fire("safeHTML",p.editor),b(),p.e.fire("prepareWYSIWYGEditor"),p.e.stopPropagation("beforeSetNativeEditorValue")):y.body.innerHTML=A,!0)},{top:!0})}if(p.editor=y.body,p.e.on("afterSetMode afterInit afterAddPlace",b),g.height==="auto"){y.documentElement&&(y.documentElement.style.overflowY="hidden");var S=p.async.throttle(function(){if(p.editor&&p.iframe&&g.height==="auto"){var C=p.ew.getComputedStyle(p.editor),A=parseInt(C.marginTop||"0",10)+parseInt(C.marginBottom||"0",10);(0,u.css)(p.iframe,"height",p.editor.offsetHeight+A)}},p.defaultTimeout/2);if(p.e.on("change afterInit afterSetMode resize",S).on([p.iframe,p.ew,y.documentElement],"load",S).on(y,"readystatechange DOMContentLoaded",S),typeof ResizeObserver=="function"){var E=new ResizeObserver(S);E.observe(y.body),p.e.on("beforeDestruct",function(){E.unobserve(y.body)})}}return y.documentElement&&p.e.on(y.documentElement,"mousedown touchend",function(){p.s.isFocused()||(p.s.focus(),p.editor===y.body&&p.s.setCursorIn(y.body))}).on(p.ew,"mousedown touchstart keydown keyup touchend click mouseup mousemove scroll",function(C){var A;(A=p.events)===null||A===void 0||A.fire(p.ow,C)}),!1})}})}s(2509),a.iframe=m,f.pluginSystem.add("iframe",m)},18226:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.imageProcessor={replaceDataURIToBlobIdInView:!0}},92575:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.imageProcessor=void 0;var u=s(20255),d=s(40332),h=s(57549),f=s(43441),m=s(86893),p=s(17332);s(18226);var g="__jodit_imageprocessor_binded",v="__jodit_imageprocessor_bindedblob-id",x=function(y){function b(){return y!==null&&y.apply(this,arguments)||this}return u.__extends(b,y),b.prototype.afterInit=function(w){},b.prototype.beforeDestruct=function(w){var _,S,E=w.buffer.get(v);if(E){var C=Object.keys(E);try{for(var A=u.__values(C),T=A.next();!T.done;T=A.next())URL.revokeObjectURL(T.value)}catch(k){_={error:k}}finally{try{T&&!T.done&&(S=A.return)&&S.call(A)}finally{if(_)throw _.error}}w.buffer.delete(v)}},b.prototype.onAfterGetValueFromEditor=function(w,_){if(_!==m.SOURCE_CONSUMER)return this.onBeforeSetElementValue(w)},b.prototype.onBeforeSetElementValue=function(w){var _,S,E=this.jodit;if(E.o.imageProcessor.replaceDataURIToBlobIdInView){var C=E.buffer.get(v);if(C){var A=Object.keys(C);try{for(var T=u.__values(A),k=T.next();!k.done;k=T.next())for(var D=k.value;w.value.includes(D);)w.value=w.value.replace(D,C[D])}catch(M){_={error:M}}finally{try{k&&!k.done&&(S=T.return)&&S.call(T)}finally{if(_)throw _.error}}}}},b.prototype.afterChange=function(w){return u.__awaiter(this,void 0,Promise,function(){var _;return u.__generator(this,function(S){return(_=this.jodit).editor?((0,d.$$)("img",_.editor).forEach(function(E){(0,d.dataBind)(E,g)||((0,d.dataBind)(E,g,!0),E.complete||_.e.on(E,"load",function C(){var A;!_.isInDestruct&&((A=_.e)===null||A===void 0||A.fire("resize")),_.e.off(E,"load",C)}),E.src&&/^data:/.test(E.src)&&function(C,A){if(C.o.imageProcessor.replaceDataURIToBlobIdInView&&typeof ArrayBuffer<"u"&&typeof URL<"u"){var T=A.src,k=function(M){for(var P=atob(M.split(",")[1]),j=M.split(",")[0].split(":")[1].split(";")[0],O=new ArrayBuffer(P.length),I=new Uint8Array(O),N=0;P.length>N;N++)I[N]=P.charCodeAt(N);return new Blob([O],{type:j})}(T);A.src=URL.createObjectURL(k),C.e.fire("internalUpdate");var D=C.buffer.get(v)||{};D[A.src]=T,C.buffer.set(v,D)}}(_,E),_.e.on(E,"mousedown touchstart",function(){_.s.select(E)}))}),[2]):[2]})})},u.__decorate([(0,f.watch)(":afterGetValueFromEditor")],b.prototype,"onAfterGetValueFromEditor",null),u.__decorate([(0,f.watch)(":beforeSetElementValue")],b.prototype,"onBeforeSetElementValue",null),u.__decorate([(0,f.watch)([":change",":afterInit",":changePlace"]),(0,f.debounce)()],b.prototype,"afterChange",null),b}(h.Plugin);a.imageProcessor=x,p.pluginSystem.add("imageProcessor",x)},1601:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.image={dialogWidth:600,openOnDblClick:!0,editSrc:!0,useImageEditor:!0,editTitle:!0,editAlt:!0,editLink:!0,editSize:!0,editBorderRadius:!0,editMargins:!0,editClass:!0,availableClasses:[],editStyle:!0,editId:!0,editAlign:!0,showPreview:!0,selectImageAfterClose:!0}},15747:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.imageProperties=void 0;var u=s(20255);s(9947);var d=s(87837),h=s(40332),f=s(718),m=s(96516),p=s(43441),g=s(35503),v=s(17332),x=s(49391),y=s(27506),b=s(50109);s(1601);var w=function(E){return E=(0,h.trim)(E),/^[0-9]+$/.test(E)?E+"px":E},_=function(E){return/^[-+]?[0-9.]+px$/.test(E.toString())?parseFloat(E.toString()):E},S=function(E){function C(){var A=E!==null&&E.apply(this,arguments)||this;return A.state={image:new Image,get ratio(){return this.image.naturalWidth/this.image.naturalHeight||1},sizeIsLocked:!0,marginIsLocked:!0},A.activeTabState={__activeTab:"Image"},A}return u.__extends(C,E),C.prototype.onChangeMarginIsLocked=function(){var A=this;if(this.form){var T=(0,h.refs)(this.form),k=T.lockMargin;[T.marginRight,T.marginBottom,T.marginLeft].forEach(function(D){(0,h.attr)(D,"disabled",A.state.marginIsLocked||null)}),k.innerHTML=d.Icon.get(this.state.marginIsLocked?"lock":"unlock")}},C.prototype.onChangeSizeIsLocked=function(){if(this.form){var A=(0,h.refs)(this.form),T=A.lockSize,k=A.imageWidth;T.innerHTML=d.Icon.get(this.state.sizeIsLocked?"lock":"unlock"),T.classList.remove("jodit-properties__lock"),T.classList.remove("jodit-properties__unlock"),T.classList.add(this.state.sizeIsLocked?"jodit-properties__lock":"jodit-properties__unlock"),this.j.e.fire(k,"change")}},C.prototype.open=function(){return this.makeForm(),this.activeTabState.__activeTab="Image",this.j.e.fire("hidePopup"),(0,h.markOwner)(this.j,this.dialog.container),this.state.marginIsLocked=!0,this.state.sizeIsLocked=!0,this.onChangeMarginIsLocked(),this.onChangeSizeIsLocked(),this.updateValues(),this.dialog.open().setModal(!0).setPosition(),!1},C.prototype.makeForm=function(){var A=this;if(!this.dialog){this.dialog=this.j.dlg({minWidth:Math.min(400,screen.width),minHeight:590,buttons:["fullsize","dialog.close"]});var T=this.j,k=T.o,D=T.i18n.bind(T),M={check:(0,m.Button)(T,"ok","Apply","primary"),remove:(0,m.Button)(T,"bin","Delete")};T.e.on(this.dialog,"afterClose",function(){A.state.image.parentNode&&k.image.selectImageAfterClose&&T.s.select(A.state.image)}),M.remove.onAction(function(){T.s.removeNode(A.state.image),A.dialog.close()});var P=this.dialog;P.setHeader(D("Image properties"));var j=(0,x.form)(T);this.form=j,P.setContent(j);var O=(0,h.refs)(this.form).tabsBox;O&&O.appendChild((0,f.TabsWidget)(T,[{name:"Image",content:(0,y.mainTab)(T)},{name:"Advanced",content:(0,b.positionTab)(T)}],this.activeTabState)),M.check.onAction(this.onApply);var I=(0,h.refs)(this.form),N=I.editImage;T.e.on(I.changeImage,"click",this.openImagePopup),k.image.useImageEditor&&T.e.on(N,"click",this.openImageEditor);var L=(0,h.refs)(j),B=L.lockSize,R=L.lockMargin,z=L.imageWidth,W=L.imageHeight;B&&T.e.on(B,"click",function(){A.state.sizeIsLocked=!A.state.sizeIsLocked}),T.e.on(R,"click",function(H){A.state.marginIsLocked=!A.state.marginIsLocked,H.preventDefault()});var U=function(H){if((0,h.isNumeric)(z.value)&&(0,h.isNumeric)(W.value)){var X=parseFloat(z.value),K=parseFloat(W.value);H.target===z?W.value=Math.round(X/A.state.ratio).toString():z.value=Math.round(K*A.state.ratio).toString()}};T.e.on([z,W],"change keydown mousedown paste",function(H){A.state.sizeIsLocked&&T.async.setTimeout(U.bind(A,H),{timeout:T.defaultTimeout,label:"image-properties-changeSize"})}),P.setFooter([M.remove,M.check]),P.setSize(this.j.o.image.dialogWidth)}},C.prototype.updateValues=function(){var A,T,k=this,D=this.j.o,M=this.state.image,P=(0,h.refs)(this.form),j=P.marginTop,O=P.marginRight,I=P.marginBottom,N=P.marginLeft,L=P.imageSrc,B=P.id,R=P.classes,z=P.align,W=P.style,U=P.imageTitle,H=P.imageAlt,X=P.borderRadius,K=P.imageLink,Q=P.imageWidth,Y=P.imageHeight,$=P.imageLinkOpenInNewTab,J=P.imageViewSrc,ie=P.lockSize;P.lockMargin.checked=k.state.marginIsLocked,ie.checked=k.state.sizeIsLocked,L.value=(0,h.attr)(M,"src")||"",J&&(0,h.attr)(J,"src",(0,h.attr)(M,"src")||""),function(){U.value=(0,h.attr)(M,"title")||"",H.value=(0,h.attr)(M,"alt")||"";var ne=d.Dom.closest(M,"a",k.j.editor);ne?(K.value=(0,h.attr)(ne,"href")||"",$.checked=(0,h.attr)(ne,"target")==="_blank"):(K.value="",$.checked=!1)}(),A=(0,h.attr)(M,"width")||(0,h.css)(M,"width",!0)||!1,T=(0,h.attr)(M,"height")||(0,h.css)(M,"height",!0)||!1,Q.value=A!==!1?_(A).toString():M.offsetWidth.toString(),Y.value=T!==!1?_(T).toString():M.offsetHeight.toString(),k.state.sizeIsLocked=function(){if(!(0,h.isNumeric)(Q.value)||!(0,h.isNumeric)(Y.value))return!1;var ne=parseFloat(Q.value),ae=parseFloat(Y.value);return 1>Math.abs(ne-ae*k.state.ratio)}(),function(){if(D.image.editMargins){var ne=!0,ae=!1;[j,O,I,N].forEach(function(je){var Ee=(0,h.attr)(je,"data-ref")||"",we=M.style.getPropertyValue((0,h.kebabCase)(Ee));if(!we)return ae=!0,void(je.value="");/^[0-9]+(px)?$/.test(we)&&(we=parseInt(we,10)),je.value=we.toString()||"",(ae&&je.value||ne&&Ee!=="marginTop"&&je.value!==j.value)&&(ne=!1)}),k.state.marginIsLocked=ne}}(),R.value=((0,h.attr)(M,"class")||"").replace(/jodit_focused_image[\s]*/,""),B.value=(0,h.attr)(M,"id")||"",X.value=(parseInt(M.style.borderRadius||"0",10)||"0").toString(),M.style.cssFloat&&["left","right"].indexOf(M.style.cssFloat.toLowerCase())!==-1?z.value=(0,h.css)(M,"float"):(0,h.css)(M,"display")==="block"&&M.style.marginLeft==="auto"&&M.style.marginRight==="auto"&&(z.value="center"),W.value=(0,h.attr)(M,"style")||""},C.prototype.onApply=function(){var A=(0,h.refs)(this.form),T=A.imageSrc,k=A.borderRadius,D=A.imageTitle,M=A.imageAlt,P=A.imageLink,j=A.imageWidth,O=A.imageHeight,I=A.marginTop,N=A.marginRight,L=A.marginBottom,B=A.marginLeft,R=A.imageLinkOpenInNewTab,z=A.align,W=A.classes,U=A.id,H=this.j.o,X=this.state.image;if(H.image.editStyle&&(0,h.attr)(X,"style",A.style.value||null),!T.value)return d.Dom.safeRemove(X),void this.dialog.close();(0,h.attr)(X,"src",T.value),X.style.borderRadius=k.value!=="0"&&/^[0-9]+$/.test(k.value)?k.value+"px":"",(0,h.attr)(X,"title",D.value||null),(0,h.attr)(X,"alt",M.value||null);var K=d.Dom.closest(X,"a",this.j.editor);if(P.value?(K||(K=d.Dom.wrap(X,"a",this.j.createInside)),(0,h.attr)(K,"href",P.value),(0,h.attr)(K,"target",R.checked?"_blank":null)):K&&K.parentNode&&K.parentNode.replaceChild(X,K),j.value!==X.offsetWidth.toString()||O.value!==X.offsetHeight.toString()){var Q=(0,h.trim)(j.value)?w(j.value):null,Y=(0,h.trim)(O.value)?w(O.value):null;(0,h.css)(X,{width:Q,height:Y}),(0,h.attr)(X,"width",(0,h.attr)(X,"width")?Q:null),(0,h.attr)(X,"height",(0,h.attr)(X,"height")?Y:null)}var $=[I,N,L,B];H.image.editMargins&&(this.state.marginIsLocked?(0,h.css)(X,"margin",w(I.value)):$.forEach(function(J){var ie=(0,h.attr)(J,"data-ref")||"";(0,h.css)(X,ie,w(J.value))})),H.image.editClass&&(0,h.attr)(X,"class",W.value||null),H.image.editId&&(0,h.attr)(X,"id",U.value||null),H.image.editAlign&&(0,h.hAlignElement)(X,z.value),this.j.synchronizeValues(),this.dialog.close()},C.prototype.openImageEditor=function(){var A=this,T=(0,h.attr)(this.state.image,"src")||"",k=this.j.c.element("a"),D=function(){k.host===location.host||A.j.confirm("You can only edit your own images. Download this image on the host?",function(M){M&&A.j.uploader&&A.j.uploader.uploadRemoteImage(k.href.toString(),function(P){A.j.alert("The image has been successfully uploaded to the host!",function(){(0,h.isString)(P.newfilename)&&((0,h.attr)(A.state.image,"src",P.baseurl+P.newfilename),A.updateValues())})},function(P){A.j.alert("There was an error loading %s",P.message)})})};k.href=T,this.j.filebrowser.dataProvider.getPathByUrl(k.href.toString()).then(function(M){g.openImageEditor.call(A.j.filebrowser,k.href,M.name,M.path,M.source,function(){var P=new Date().getTime();(0,h.attr)(A.state.image,"src",T+(T.indexOf("?")!==-1?"":"?")+"&_tmp="+P.toString()),A.updateValues()},function(P){A.j.alert(P.message)})}).catch(function(M){A.j.alert(M.message,D)})},C.prototype.openImagePopup=function(A){var T=this,k=new d.Popup(this.j),D=(0,h.refs)(this.form).changeImage;k.setZIndex(this.dialog.getZIndex()+1),k.setContent((0,f.FileSelectorWidget)(this.j,{upload:function(M){M.files&&M.files.length&&(0,h.attr)(T.state.image,"src",M.baseurl+M.files[0]),T.updateValues(),k.close()},filebrowser:function(M){M&&(0,h.isArray)(M.files)&&M.files.length&&((0,h.attr)(T.state.image,"src",M.files[0]),k.close(),T.updateValues())}},this.state.image,k.close)).open(function(){return(0,h.position)(D)}),A.stopPropagation()},C.prototype.afterInit=function(A){var T=this,k=this;A.e.on("afterConstructor changePlace",function(){A.e.off(A.editor,".imageproperties").on(A.editor,"dblclick.imageproperties",function(D){var M=D.target;if(d.Dom.isTag(M,"img"))if(A.o.image.openOnDblClick){if(T.j.e.fire("openOnDblClick",M)===!1)return;k.state.image=M,A.o.readonly||(D.stopImmediatePropagation(),D.preventDefault(),k.open())}else D.stopImmediatePropagation(),A.s.select(M)})}).on("openImageProperties.imageproperties",function(D){T.state.image=D,T.open()})},C.prototype.beforeDestruct=function(A){this.dialog&&this.dialog.destruct(),A.e.off(A.editor,".imageproperties").off(".imageproperties")},u.__decorate([(0,p.watch)("state.marginIsLocked")],C.prototype,"onChangeMarginIsLocked",null),u.__decorate([(0,p.watch)("state.sizeIsLocked")],C.prototype,"onChangeSizeIsLocked",null),u.__decorate([p.autobind],C.prototype,"onApply",null),u.__decorate([p.autobind],C.prototype,"openImageEditor",null),u.__decorate([p.autobind],C.prototype,"openImagePopup",null),C}(d.Plugin);a.imageProperties=S,v.pluginSystem.add("imageProperties",S)},49391:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.form=void 0;var u=s(77904);a.form=function(d){var h=d.o.image,f=h.showPreview,m=h.editSize,p=u.Icon.get.bind(u.Icon);return d.c.fromHTML(`<form class="jodit-properties">
		<div class="jodit-grid jodit-grid_xs-column">
			<div class="jodit_col-lg-2-5 jodit_col-xs-5-5">
				<div class="jodit-properties_view_box">
					<div style="`.concat(f?"":"display:none",`" class="jodit-properties_image_view">
						<img data-ref="imageViewSrc" src="" alt=""/>
					</div>
					<div style="`).concat(m?"":"display:none",`" class="jodit-form__group jodit-properties_image_sizes">
						<input data-ref="imageWidth" type="text" class="jodit-input"/>
						<a data-ref="lockSize" class="jodit-properties__lock">`).concat(p("lock"),`</a>
						<input data-ref="imageHeight" type="text" class="imageHeight jodit-input"/>
					</div>
				</div>
			</div>
			<div data-ref="tabsBox" class="jodit_col-lg-3-5 jodit_col-xs-5-5"></div>
		</div>
	</form>`))}},27506:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.mainTab=void 0;var u=s(77904);a.mainTab=function(d){var h=d.o,f=d.i18n.bind(d),m=u.Icon.get.bind(u.Icon),p=h.filebrowser.ajax.url||h.uploader.url,g=h.image.useImageEditor;return d.c.fromHTML('<div style="'.concat(h.image.editSrc?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(f("Src"),`</label>
			<div class="jodit-input_group">
				<input data-ref="imageSrc" class="jodit-input" type="text"/>
				<div
					class="jodit-input_group-buttons"
					style="`).concat(p?"":"display: none",`"
				>
						<a
							data-ref="changeImage"
							class="jodit-button"
						>`).concat(m("image"),`</a>
						<a
							data-ref="editImage"
							class="jodit-button"
							style="`).concat(g?"":"display: none",`"
						>`).concat(m("crop"),`</a>
				</div>
			</div>
		</div>
		<div style="`).concat(h.image.editTitle?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(f("Title"),`</label>
			<input data-ref="imageTitle" type="text" class="jodit-input"/>
		</div>
		<div style="`).concat(h.image.editAlt?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(f("Alternative"),`</label>
			<input data-ref="imageAlt" type="text" class="jodit-input"/>
		</div>
		<div style="`).concat(h.image.editLink?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(f("Link"),`</label>
			<input data-ref="imageLink" type="text" class="jodit-input"/>
		</div>
		<div style="`).concat(h.image.editLink?"":"display:none",`" class="jodit-form__group">
			<label class="jodit_vertical_middle">
				<input data-ref="imageLinkOpenInNewTab" type="checkbox" class="jodit-checkbox"/>
				<span>`).concat(f("Open link in new tab"),`</span>
			</label>
		</div>`))}},50109:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.positionTab=void 0;var u=s(77904);a.positionTab=function(d){var h=d.o,f=d.i18n.bind(d),m=u.Icon.get.bind(u.Icon),p=[];return h.image.availableClasses.length>0?(p.push('<select data-ref="classes" class="jodit-input jodit-select">'),h.image.availableClasses.forEach(function(g){p.push(typeof g=="string"?'<option value="'.concat(g,'">').concat(g,"</option>"):'<option value="'.concat(g[0],'">').concat(g[1],"</option>"))}),p.push("</select>")):p.push('<input data-ref="classes" type="text" class="jodit-input"/>'),d.c.fromHTML('<div style="'.concat(h.image.editMargins?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(f("Margins"),`</label>
			<div class="jodit-grid jodit_vertical_middle">
				<input class="jodit_col-lg-1-5 jodit-input" data-ref="marginTop" type="text" placeholder="`).concat(f("top"),`"/>
				<a style="text-align: center;" data-ref="lockMargin" class="jodit-properties__lock jodit_col-lg-1-5">`).concat(m("lock"),`</a>
				<input disabled="true" class="jodit_col-lg-1-5 jodit-input" data-ref="marginRight" type="text" placeholder="`).concat(f("right"),`"/>
				<input disabled="true" class="jodit_col-lg-1-5 jodit-input" data-ref="marginBottom" type="text" placeholder="`).concat(f("bottom"),`"/>
				<input disabled="true" class="jodit_col-lg-1-5 jodit-input" data-ref="marginLeft" type="text" placeholder="`).concat(f("left"),`"/>
			</div>
		</div>
		<div
			style="`).concat(h.image.editAlign?"":"display:none",`"
			class="jodit-form__group"
		>
			<label>`).concat(f("Align"),`</label>
			<select data-ref="align" class="jodit-select">
				<option value="">`).concat(f("--Not Set--"),`</option>
				<option value="left">`).concat(f("Left"),`</option>
				<option value="center">`).concat(f("Center"),`</option>
				<option value="right">`).concat(f("Right"),`</option>
			</select>
		</div>
		<div style="`).concat(h.image.editStyle?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(f("Styles"),`</label>
			<input data-ref="style" type="text" class="jodit-input"/>
		</div>
		<div style="`).concat(h.image.editClass?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(f("Classes"),`</label>
			`).concat(p.join(""),`
		</div>
		<div style="`).concat(h.image.editId?"":"display:none",`" class="jodit-form__group">
			<label>Id</label>
			<input data-ref="id" type="text" class="jodit-input"/>
		</div>
		<div
			style="`).concat(h.image.editBorderRadius?"":"display:none",`"
			class="jodit-form__group"
		>
			<label>`).concat(f("Border radius"),`</label>
				<input data-ref="borderRadius" type="number" class="jodit-input"/>
		</div>`))}},67547:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.image=void 0;var u=s(20255),d=s(64968),h=s(40332),f=s(718),m=s(93166),p=s(17332);function g(v){v.registerButton({name:"image",group:"media"})}s(77904).Icon.set("image",s(53477)),m.Config.prototype.controls.image={popup:function(v,x,y,b){var w=null;return x&&!d.Dom.isText(x)&&d.Dom.isHTMLElement(x)&&(d.Dom.isTag(x,"img")||(0,h.$$)("img",x).length)&&(w=d.Dom.isTag(x,"img")?x:(0,h.$$)("img",x)[0]),v.s.save(),(0,f.FileSelectorWidget)(v,{filebrowser:function(_){v.s.restore(),_.files&&_.files.forEach(function(S){return v.s.insertImage(_.baseurl+S,null,v.o.imageDefaultWidth)}),b()},upload:!0,url:function(_,S){return u.__awaiter(void 0,void 0,void 0,function(){var E;return u.__generator(this,function(C){switch(C.label){case 0:return v.s.restore(),/^[a-z\d_-]+(\.[a-z\d_-]+)+/i.test(_)&&(_="//"+_),(E=w||v.createInside.element("img")).setAttribute("src",_),E.setAttribute("alt",S),w?[3,2]:[4,v.s.insertImage(E,null,v.o.imageDefaultWidth)];case 1:C.sent(),C.label=2;case 2:return b(),[2]}})})}},w,b)},tags:["img"],tooltip:"Insert Image"},a.image=g,p.pluginSystem.add("image",g)},2916:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(64968),h=s(77904),f=s(26011);h.Icon.set("indent",s(90053)).set("outdent",s(72230)),u.Config.prototype.controls.indent={tooltip:"Increase Indent"},u.Config.prototype.controls.outdent={isDisabled:function(m){var p=m.s.current();if(p){var g=d.Dom.closest(p,d.Dom.isBlock,m.editor);if(g){var v=(0,f.getKey)(m.o.direction,g);return!g.style[v]||0>=parseInt(g.style[v],10)}}return!0},tooltip:"Decrease Indent"},u.Config.prototype.indentMargin=10},26011:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getKey=void 0;var u=s(24263);a.getKey=function(d,h){return"".concat(u.Dom.isCell(h)?"padding":"margin").concat(d==="rtl"?"Right":"Left")}},71838:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.indent=void 0;var u=s(86893),d=s(64968),h=s(40332),f=s(17332);s(2916);var m=s(26011);function p(g){g.registerButton({name:"indent",group:"indent"}).registerButton({name:"outdent",group:"indent"});var v=function(x){var y=[];return g.s.eachSelection(function(b){g.s.save();var w=!!b&&d.Dom.up(b,d.Dom.isBlock,g.editor),_=g.o.enter;if(!w&&b&&(w=d.Dom.wrapInline(b,_!==u.BR?_:u.PARAGRAPH,g)),!w)return g.s.restore(),!1;var S=y.includes(w);if(w&&!S){var E=(0,m.getKey)(g.o.direction,w);y.push(w);var C=w.style[E]?parseInt(w.style[E],10):0;w.style[E]=(C+=g.o.indentMargin*(x==="outdent"?-1:1))>0?C+"px":"",(0,h.attr)(w,"style")||(0,h.attr)(w,"style",null)}g.s.restore()}),g.synchronizeValues(),!1};g.registerCommand("indent",{exec:v,hotkeys:["ctrl+]","cmd+]"]}),g.registerCommand("outdent",{exec:v,hotkeys:["ctrl+[","cmd+["]})}a.indent=p,f.pluginSystem.add("indent",p)},70022:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(55692),s(66031),s(91241),s(87565),s(60894),s(90302),s(92138),s(88412),s(79308),s(19268),s(30598),s(33122),s(10135),s(66994),s(54798),s(12908),s(65123),s(83228),s(43889),s(93300),s(67547),s(92575),s(15747),s(71838),s(54752),s(54452),s(46324),s(27738),s(61421),s(27582),s(76303),s(19806),s(52598),s(19483),s(15428),s(47224),s(83211),s(88297),s(72930),s(51197),s(2327),s(47608),s(90523),s(69257),s(14889),s(95323),s(37458),s(71003),s(86030),s(17002),s(1557),s(82808),s(48560),s(32246),s(45842),s(23308),s(19889),s(20728),s(96899),s(18238)},35387:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.toolbarInline=!0,u.Config.prototype.toolbarInlineForSelection=!1,u.Config.prototype.toolbarInlineDisableFor=[],u.Config.prototype.toolbarInlineDisabledButtons=["source"],d.Icon.set("addcolumn",s(78321)).set("addrow",s(77654)).set("merge",s(43371)).set("th",s(52242)).set("splitg",s(44563)).set("splitv",s(53183)).set("th-list",s(18548)),u.Config.prototype.popup={a:s(27487).Z,img:s(97425).default,cells:s(59500).Z,toolbar:s(55350).Z,jodit:s(66686).Z,iframe:s(66686).Z,"jodit-media":s(66686).Z,selection:["bold","underline","italic","ul","ol",`
`,"outdent","indent","fontsize","brush","cut",`
`,"paragraph","link","align","dots"]}},27487:function(c,a,s){var u=s(76502);a.Z=[{name:"eye",tooltip:"Open link",exec:function(d,h){var f=(0,u.attr)(h,"href");h&&f&&d.ow.open(f)}},{name:"link",tooltip:"Edit link",icon:"pencil"},"unlink","brush","file"]},59500:function(c,a,s){var u=s(10172),d=s(26911),h=s(718),f=function(m){return m.args&&(0,u.isString)(m.args[0])?m.args[0].toLowerCase():""};a.Z=[{name:"brush",popup:function(m,p,g,v){if((0,u.isJoditObject)(m)){var x=m.getInstance("Table",m.o).getAllSelectedCells();if(!x.length)return!1;var y=function(b){return(0,h.ColorPickerWidget)(m,function(w){x.forEach(function(_){(0,d.css)(_,b,w)}),m.lock(),m.synchronizeValues(),v(),m.unlock()},(0,d.css)(x[0],b))};return(0,h.TabsWidget)(m,[{name:"Background",content:y("background-color")},{name:"Text",content:y("color")},{name:"Border",content:y("border-color")}])}},tooltip:"Background"},{name:"valign",list:["Top","Middle","Bottom","Normal"],childTemplate:function(m,p,g){return g},exec:function(m,p,g){var v=f(g.control);m.getInstance("Table",m.o).getAllSelectedCells().forEach(function(x){(0,d.css)(x,"vertical-align",v==="normal"?"":v)})},tooltip:"Vertical align"},{name:"splitv",list:{tablesplitv:"Split vertical",tablesplitg:"Split horizontal"},tooltip:"Split"},{name:"align",icon:"left"},`
`,{name:"merge",command:"tablemerge",tooltip:"Merge"},{name:"addcolumn",list:{tableaddcolumnbefore:"Insert column before",tableaddcolumnafter:"Insert column after"},exec:function(m,p,g){var v=g.control;if((0,u.isJoditObject)(m)){var x=f(v);m.execCommand(x,!1,p)}},tooltip:"Add column"},{name:"addrow",list:{tableaddrowbefore:"Insert row above",tableaddrowafter:"Insert row below"},exec:function(m,p,g){var v=g.control;if((0,u.isJoditObject)(m)){var x=f(v);m.execCommand(x,!1,p)}},tooltip:"Add row"},{name:"delete",icon:"bin",list:{tablebin:"Delete table",tablebinrow:"Delete row",tablebincolumn:"Delete column",tableempty:"Empty cell"},exec:function(m,p,g){var v=g.control;if((0,u.isJoditObject)(m)){var x=f(v);m.execCommand(x,!1,p),m.e.fire("hidePopup")}},tooltip:"Delete"}]},66686:function(c,a,s){var u=s(97425);a.Z=[{name:"bin",tooltip:"Delete",exec:function(d,h){h&&d.s.removeNode(h)}},u.align]},97425:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.align=void 0;var u=s(64968),d=s(24421),h=s(26911),f=s(60303);a.align={name:"left",childTemplate:function(m,p,g){return g},list:["Left","Right","Center","Normal"],exec:function(m,p,g){var v=g.control;if(u.Dom.isTag(p,["img","jodit","jodit-media"])){var x=v.args&&(0,d.isString)(v.args[0])?v.args[0].toLowerCase():"";if(!x)return!1;(0,f.hAlignElement)(p,x),u.Dom.isTag(p,["jodit","jodit-media"])&&p.firstElementChild&&(0,f.hAlignElement)(p.firstElementChild,x),m.synchronizeValues(),m.e.fire("recalcPositionPopup")}},tooltip:"Horizontal align"},a.default=[{name:"delete",icon:"bin",tooltip:"Delete",exec:function(m,p){p&&m.s.removeNode(p)}},{name:"pencil",exec:function(m,p){p.tagName.toLowerCase()==="img"&&m.e.fire("openImageProperties",p)},tooltip:"Edit"},{name:"valign",list:["Top","Middle","Bottom","Normal"],tooltip:"Vertical align",exec:function(m,p,g){var v=g.control;if(u.Dom.isTag(p,"img")){var x=v.args&&(0,d.isString)(v.args[0])?v.args[0].toLowerCase():"";if(!x)return!1;(0,h.css)(p,"vertical-align",x==="normal"?"":x),m.e.fire("recalcPositionPopup")}}},a.align]},55350:function(c,a){a.Z=["bold","italic","|","ul","ol","eraser","|","fontsize","brush","paragraph","---","image","table",`
`,"link","|","align","|","undo","redo","|","copyformat","fullsize","---","dots"]},54752:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.inlinePopup=void 0;var u=s(20255);s(45109);var d=s(57549),h=s(81438),f=s(35799),m=s(40332),p=s(64968),g=s(2074),v=s(43441),x=s(17332);s(35387);var y=function(b){function w(){var _=b!==null&&b.apply(this,arguments)||this;return _.requires=["select"],_.type=null,_.popup=new f.Popup(_.jodit,!1),_.toolbar=(0,h.makeCollection)(_.jodit,_.popup),_.snapRange=null,_.elmsList=(0,m.keys)(_.j.o.popup,!1).filter(function(S){return!_.isExcludedTarget(S)}),_}return u.__extends(w,b),w.prototype.onClick=function(_){var S=this,E=this.elmsList,C=p.Dom.isTag(_,"img")?_:p.Dom.closest(_,E,this.j.editor);if(C&&this.canShowPopupForType(C.nodeName.toLowerCase()))return this.showPopup(function(){return(0,m.position)(C,S.j)},C.nodeName.toLowerCase(),C),!1},w.prototype.showPopup=function(_,S,E){if(S=S.toLowerCase(),!this.canShowPopupForType(S))return!1;if(this.type!==S||E!==this.previousTarget){this.previousTarget=E;var C=this.j.o.popup[S],A=void 0;A=(0,m.isFunction)(C)?C(this.j,E,this.popup.close):C,(0,m.isArray)(A)&&(this.toolbar.build(A,E),this.toolbar.buttonSize=this.j.o.toolbarButtonSize,A=this.toolbar.container),this.popup.setContent(A),this.type=S}return this.popup.open(_),!0},w.prototype.hidePopup=function(_){(0,m.isString)(_)&&_!==this.type||this.popup.close()},w.prototype.onOutsideClick=function(){this.popup.close()},w.prototype.canShowPopupForType=function(_){var S=this.j.o.popup[_.toLowerCase()];return!(this.j.o.readonly||!this.j.o.toolbarInline||!S||this.isExcludedTarget(_))},w.prototype.isExcludedTarget=function(_){return(0,m.splitArray)(this.j.o.toolbarInlineDisableFor).map(function(S){return S.toLowerCase()}).includes(_.toLowerCase())},w.prototype.afterInit=function(_){var S=this;this.j.e.on("getDiffButtons.mobile",function(E){if(S.toolbar===E){var C=S.toolbar.getButtonsNames();return(0,m.toArray)(_.registeredButtons).filter(function(A){return!S.j.o.toolbarInlineDisabledButtons.includes(A.name)}).filter(function(A){var T=(0,m.isString)(A)?A:A.name;return T&&T!=="|"&&T!==`
`&&!C.includes(T)})}}).on("hidePopup",this.hidePopup).on("showInlineToolbar",this.showInlineToolbar).on("showPopup",function(E,C,A){S.showPopup(C,A||((0,m.isString)(E)?E:E.nodeName),(0,m.isString)(E)?void 0:E)}).on("mousedown keydown",this.onSelectionStart).on("change",function(){S.popup.isOpened&&S.previousTarget&&!S.previousTarget.parentNode&&(S.hidePopup(),S.previousTarget=void 0)}).on([this.j.ew,this.j.ow],"mouseup keyup",this.onSelectionEnd),this.addListenersForElements()},w.prototype.onSelectionStart=function(){this.snapRange=this.j.s.range.cloneRange()},w.prototype.onSelectionEnd=function(_){if(!(_&&_.target&&g.UIElement.closestElement(_.target,f.Popup))){var S=this.snapRange,E=this.j.s.range;S&&!E.collapsed&&E.startContainer===S.startContainer&&E.startOffset===S.startOffset&&E.endContainer===S.endContainer&&E.endOffset===S.endOffset||this.onSelectionChange()}},w.prototype.onSelectionChange=function(){if(this.j.o.toolbarInlineForSelection){var _="selection",S=this.j.s.sel,E=this.j.s.range;S!=null&&S.isCollapsed||this.isSelectedTarget(E)||this.tableModule.getAllSelectedCells().length?this.type===_&&this.popup.isOpened&&this.hidePopup():this.j.s.current()&&this.showPopup(function(){return E.getBoundingClientRect()},_)}},w.prototype.isSelectedTarget=function(_){var S=_.startContainer;return p.Dom.isElement(S)&&S===_.endContainer&&p.Dom.isTag(S.childNodes[_.startOffset],(0,m.keys)(this.j.o.popup,!1))&&_.startOffset===_.endOffset-1},Object.defineProperty(w.prototype,"tableModule",{get:function(){return this.j.getInstance("Table",this.j.o)},enumerable:!1,configurable:!0}),w.prototype.beforeDestruct=function(_){_.e.off("showPopup").off([this.j.ew,this.j.ow],"mouseup keyup",this.onSelectionEnd),this.removeListenersForElements()},w.prototype._eventsList=function(){var _=this.elmsList;return _.map(function(S){return(0,m.camelCase)("click_".concat(S))}).concat(_.map(function(S){return(0,m.camelCase)("touchstart_".concat(S))})).join(" ")},w.prototype.addListenersForElements=function(){this.j.e.on(this._eventsList(),this.onClick)},w.prototype.removeListenersForElements=function(){this.j.e.off(this._eventsList(),this.onClick)},w.prototype.showInlineToolbar=function(_){var S=this;this.showPopup(function(){return _||S.j.s.range.getBoundingClientRect()},"toolbar")},u.__decorate([v.autobind],w.prototype,"onClick",null),u.__decorate([(0,v.wait)(function(_){return!_.j.isLocked})],w.prototype,"showPopup",null),u.__decorate([(0,v.watch)(":clickEditor"),v.autobind],w.prototype,"hidePopup",null),u.__decorate([(0,v.watch)(":outsideClick")],w.prototype,"onOutsideClick",null),u.__decorate([v.autobind],w.prototype,"onSelectionStart",null),u.__decorate([v.autobind],w.prototype,"onSelectionEnd",null),u.__decorate([(0,v.debounce)(function(_){return _.defaultTimeout})],w.prototype,"onSelectionChange",null),u.__decorate([v.autobind],w.prototype,"showInlineToolbar",null),w}(d.Plugin);a.inlinePopup=y,x.pluginSystem.add("inlinePopup",y)},54452:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.justify=void 0;var u=s(93166),d=s(24263),h=s(26911),f=s(60303),m=s(17332);function p(g){g.registerButton({name:"align",group:"indent"});var v=function(x){return g.s.focus(),g.s.eachSelection(function(y){if(y){var b=d.Dom.up(y,d.Dom.isBlock,g.editor);b||(b=d.Dom.wrapInline(y,g.o.enterBlock,g)),(0,f.alignElement)(x,b)}}),!1};g.registerCommand("justifyfull",v),g.registerCommand("justifyright",v),g.registerCommand("justifyleft",v),g.registerCommand("justifycenter",v)}s(77904).Icon.set("justify",s(87498)),u.Config.prototype.controls.align={name:"left",tooltip:"Align",update:function(g,v){var x=g.control,y=v.s.current();if(y){var b=d.Dom.closest(y,d.Dom.isBlock,v.editor)||v.editor,w=(0,h.css)(b,"text-align").toString();x.defaultValue&&x.defaultValue.indexOf(w)!==-1&&(w="left"),x.data&&x.data.currentValue!==w&&x.list&&x.list.indexOf(w)!==-1&&(v.o.textIcons?g.state.text=w:g.state.icon.name=w,x.data.currentValue=w)}},isActive:function(g,v){var x=g.s.current();if(x&&v.defaultValue){var y=d.Dom.closest(x,d.Dom.isBlock,g.editor)||g.editor;return v.defaultValue.indexOf((0,h.css)(y,"text-align").toString())===-1}return!1},defaultValue:["left","start","inherit"],data:{currentValue:"left"},list:["center","left","right","justify"]},u.Config.prototype.controls.center={command:"justifyCenter",css:{"text-align":"center"},tooltip:"Align Center"},u.Config.prototype.controls.justify={command:"justifyFull",css:{"text-align":"justify"},tooltip:"Align Justify"},u.Config.prototype.controls.left={command:"justifyLeft",css:{"text-align":"left"},tooltip:"Align Left"},u.Config.prototype.controls.right={command:"justifyRight",css:{"text-align":"right"},tooltip:"Align Right"},a.justify=p,m.pluginSystem.add("justify",p)},46324:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.keyArrowOutside=void 0;var u=s(20255),d=s(57549),h=s(43441),f=s(86893),m=s(24263),p=s(17332),g=function(v){function x(){return v!==null&&v.apply(this,arguments)||this}return u.__extends(x,v),x.prototype.afterInit=function(y){},x.prototype.beforeDestruct=function(y){},x.prototype.onKeyDownArrow=function(y){var b;if(y.key===f.KEY_RIGHT&&this.j.selection.isCollapsed()){var w=this.j.selection.range,_=w.endContainer,S=w.endOffset;if(m.Dom.isText(_)&&((b=_.nodeValue)===null||b===void 0?void 0:b.length)===S){var E=_.parentNode;m.Dom.isInlineBlock(E)&&!m.Dom.findNotEmptyNeighbor(E,!1,this.j.editor)&&m.Dom.after(E,this.j.createInside.text(f.NBSP_SPACE))}}},u.__decorate([(0,h.watch)(":keydown")],x.prototype,"onKeyDownArrow",null),x}(d.Plugin);a.keyArrowOutside=g,p.pluginSystem.add("keyArrowOutside",g)},19250:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.limitWords=!1,u.Config.prototype.limitChars=!1,u.Config.prototype.limitHTML=!1},27738:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.limit=void 0;var u=s(20255),d=s(57549),h=s(86893),f=s(43441),m=s(17332);s(19250);var p=function(v){function x(){return v!==null&&v.apply(this,arguments)||this}return u.__extends(x,v),x.prototype.afterInit=function(y){var b=this,w=y.o;if(y&&(w.limitWords||w.limitChars)){var _=null;y.e.off(".limit").on("beforePaste.limit",function(){_=y.history.snapshot.make()}).on("keydown.limit keyup.limit beforeEnter.limit",this.checkPreventKeyPressOrPaste).on("change.limit",this.checkPreventChanging).on("afterPaste.limit",function(){if(b.__shouldDenyInput(!0)&&_)return y.history.snapshot.restore(_),y.e.fire("denyPaste.limit"),!1})}},x.prototype.shouldPreventInsertHTML=function(y){return(!y||!(h.COMMAND_KEYS.includes(y.key)||y.ctrlKey||y.metaKey))&&this.__shouldDenyInput(!1)},x.prototype.__shouldDenyInput=function(y){var b=this.jodit,w=b.o,_=w.limitWords,S=w.limitChars,E=this.__splitWords(b.o.limitHTML?b.value:b.text);if(_&&g(E.length,_,y))return b.e.fire("denyWords.limit limit.limit"),!0;var C=!!(S&&g(E.join("").length,S,y));return C&&b.e.fire("denyChars.limit limit.limit"),C},x.prototype.checkPreventKeyPressOrPaste=function(y){if(this.shouldPreventInsertHTML(y))return!1},x.prototype.checkPreventChanging=function(y,b){var w=this.jodit;this.__shouldDenyInput(!0)&&(w.value=b)},x.prototype.__splitWords=function(y){return y.replace((0,h.INVISIBLE_SPACE_REG_EXP)(),"").split((0,h.SPACE_REG_EXP)()).filter(function(b){return b.length})},x.prototype.beforeDestruct=function(y){y.e.off(".limit")},u.__decorate([f.autobind],x.prototype,"checkPreventKeyPressOrPaste",null),u.__decorate([f.autobind],x.prototype,"checkPreventChanging",null),x}(d.Plugin);function g(v,x,y){return y?v>x:v>=x}a.limit=p,m.pluginSystem.add("limit",p)},29490:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(40332),h=s(77904);u.Config.prototype.defaultLineHeight=null,h.Icon.set("line-height",s(7986)),u.Config.prototype.controls.lineHeight={command:"applyLineHeight",tags:["ol"],tooltip:"Line height",list:[1,1.1,1.2,1.3,1.4,1.5,2],exec:function(f,m,p){return(0,d.memorizeExec)(f,m,{control:p.control},function(g){return g})}}},26752:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.zh_tw=a.zh_cn=a.tr=a.ru=a.pt_br=a.pl=a.nl=a.mn=a.ko=a.ja=a.it=a.id=a.hu=a.he=a.fr=a.fa=a.es=a.de=a.cs_cz=a.ar=void 0;var u=s(47762);a.ar=u;var d=s(97495);a.cs_cz=d;var h=s(80131);a.de=h;var f=s(1201);a.es=f;var m=s(89912);a.fa=m;var p=s(3405);a.fr=p;var g=s(14129);a.he=g;var v=s(93729);a.hu=v;var x=s(16106);a.id=x;var y=s(89690);a.it=y;var b=s(33216);a.ja=b;var w=s(17282);a.ko=w;var _=s(52841);a.mn=_;var S=s(91761);a.nl=S;var E=s(61675);a.pl=E;var C=s(69709);a.pt_br=C;var A=s(82591);a.ru=A;var T=s(87649);a.tr=T;var k=s(60268);a.zh_cn=k;var D=s(58214);a.zh_tw=D},61421:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.lineHeight=void 0;var u=s(20255),d=s(57549),h=s(40332),f=s(43441),m=s(24263),p=s(17332);s(29490);var g=function(v){function x(y){var b=v.call(this,y)||this;return b.buttons=[{name:"lineHeight",group:"font"}],(0,p.extendLang)(s(26752)),b}return u.__extends(x,v),x.prototype.afterInit=function(y){(0,h.css)(y.editor,{lineHeight:y.o.defaultLineHeight}),y.registerCommand("applyLineHeight",this.applyLineHeight)},x.prototype.applyLineHeight=function(y,b,w){var _,S=this.j,E=S.s,C=S.createInside,A=S.editor,T=S.o;E.isFocused()||E.focus(),E.save();var k=function(M){var P=m.Dom.closest(M,m.Dom.isBlock,A);P||(P=m.Dom.wrap(M,T.enter,C));var j=(0,h.css)(P,"lineHeight");_===void 0&&(_=j.toString()!==w.toString()),(0,h.css)(P,"lineHeight",_?w:null)};try{if(E.isCollapsed()){var D=C.fake();E.insertNode(D,!1,!1),k(D),m.Dom.safeRemove(D)}else E.eachSelection(k)}finally{E.restore()}},x.prototype.beforeDestruct=function(y){(0,h.css)(y.editor,{lineHeight:null})},u.__decorate([f.autobind],x.prototype,"applyLineHeight",null),x}(d.Plugin);a.lineHeight=g,p.pluginSystem.add("lineHeight",g)},56367:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(54238),h=s(24263),f=s(77904);u.Config.prototype.link={formTemplate:d.formTemplate,followOnDblClick:!1,processVideoLink:!0,processPastedLink:!0,noFollowCheckbox:!0,openInNewTabCheckbox:!0,modeClassName:"input",selectMultipleClassName:!0,selectSizeClassName:3,selectOptionsClassName:[],hotkeys:["ctrl+k","cmd+k"]},f.Icon.set("link",s(23075)).set("unlink",s(10655)),u.Config.prototype.controls.unlink={exec:function(m,p){var g=h.Dom.closest(p,"a",m.editor);g&&h.Dom.unwrap(g),m.synchronizeValues(),m.e.fire("hidePopup")},tooltip:"Unlink"},u.Config.prototype.controls.link={isActive:function(m){var p=m.s.current();return!!(p&&h.Dom.closest(p,"a",m.editor))},popup:function(m,p,g,v){return m.e.fire("generateLinkForm.link",p,v)},tags:["a"],tooltip:"Insert link"}},27582:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.link=void 0;var u=s(20255),d=s(64968),h=s(40332),f=s(57549),m=s(43441),p=s(17332);s(56367);var g=function(v){function x(){var y=v!==null&&v.apply(this,arguments)||this;return y.buttons=[{name:"link",group:"insert"}],y}return u.__extends(x,v),x.prototype.afterInit=function(y){var b=this;y.o.link.followOnDblClick&&y.e.on("dblclick.link",this.onDblClickOnLink),y.o.link.processPastedLink&&y.e.on("processPaste.link",this.onProcessPasteLink),y.e.on("generateLinkForm.link",this.__generateForm),y.registerCommand("openLinkDialog",{exec:function(){var w=y.dlg({resizable:!1}),_=b.__generateForm(y.s.current(),function(){w.close()});_.container.classList.add("jodit-dialog_alert"),w.setContent(_),w.open(),y.async.requestIdleCallback(function(){var S=(0,h.refs)(_.container).url_input;S==null||S.focus()})},hotkeys:y.o.link.hotkeys})},x.prototype.onDblClickOnLink=function(y){if(d.Dom.isTag(y.target,"a")){var b=(0,h.attr)(y.target,"href");b&&(location.href=b,y.preventDefault())}},x.prototype.onProcessPasteLink=function(y,b){var w=this.jodit;if((0,h.isURL)(b)&&w.o.link.processPastedLink){if(w.e.stopPropagation("processPaste"),w.o.link.processVideoLink){var _=(0,h.convertMediaUrlToVideoEmbed)(b);if(_!==b)return w.createInside.fromHTML(_)}if(w.s.isCollapsed()){var S=w.createInside.element("a");return S.setAttribute("href",b),S.textContent=b,w.e.fire("applyLink",w,S,null),S}return w.s.applyStyle(void 0,{element:"a",attributes:{href:b}}),!0}},x.prototype.__generateForm=function(y,b){var w,_=this.jodit,S=_.i18n.bind(_),E=_.o.link,C=E.openInNewTabCheckbox,A=E.noFollowCheckbox,T=E.formClassName,k=E.modeClassName,D=(0,E.formTemplate)(_),M=(0,h.isString)(D)?_.c.fromHTML(D,{target_checkbox_box:C,nofollow_checkbox_box:A}):D,P=d.Dom.isElement(M)?M:M.container,j=(0,h.refs)(P),O=j.insert,I=j.unlink,N=j.content_input_box,L=j.target_checkbox,B=j.nofollow_checkbox,R=j.url_input,z=d.Dom.isImage(y),W=j.content_input,U=j.className_input,H=j.className_select;W||(W=_.c.element("input",{type:"hidden",ref:"content_input"})),T&&P.classList.add(T),z&&d.Dom.hide(N);var X=function(){return w?w.innerText:(0,h.stripTags)(_.s.range.cloneContents(),_.ed)};if(w=!(!y||!d.Dom.closest(y,"a",_.editor))&&d.Dom.closest(y,"a",_.editor),!z&&y&&(W.value=X()),w){if(R.value=(0,h.attr)(w,"href")||"",k)switch(k){case"input":U&&(U.value=(0,h.attr)(w,"class")||"");break;case"select":if(H){for(var K=0;H.selectedOptions.length>K;K++){var Q=H.options.item(K);Q&&(Q.selected=!1)}((0,h.attr)(w,"class")||"").split(" ").forEach(function(J){if(J)for(var ie=0;H.options.length>ie;ie++){var ne=H.options.item(ie);ne!=null&&ne.value&&ne.value===J&&(ne.selected=!0)}})}}C&&L&&(L.checked=(0,h.attr)(w,"target")==="_blank"),A&&B&&(B.checked=(0,h.attr)(w,"rel")==="nofollow"),O.textContent=S("Update")}else d.Dom.hide(I);_.editor.normalize();var Y=_.history.snapshot.make();I&&_.e.on(I,"click",function(J){_.s.restore(),_.history.snapshot.restore(Y),w&&d.Dom.unwrap(w),_.synchronizeValues(),b(),J.preventDefault()});var $=function(){if(!R.value.trim().length)return R.focus(),R.classList.add("jodit_error"),!1;var J;_.s.restore(),_.s.removeMarkers(),_.editor.normalize(),_.history.snapshot.restore(Y);var ie=X()!==W.value.trim(),ne=_.createInside;if(w)J=[w];else{if(_.s.isCollapsed()){var ae=ne.element("a");_.s.insertNode(ae,!1,!1),J=[ae]}else{var je=_.s.current();J=d.Dom.isTag(je,["img"])?[d.Dom.wrap(je,"a",ne)]:_.s.wrapInTag("a")}J.forEach(function(Ee){return _.s.select(Ee)})}return J.forEach(function(Ee){var we;if((0,h.attr)(Ee,"href",R.value),k&&(U??H)){if(k==="input")U.value===""&&Ee.hasAttribute("class")&&(0,h.attr)(Ee,"class",null),U.value!==""&&(0,h.attr)(Ee,"class",U.value);else if(k==="select"){Ee.hasAttribute("class")&&(0,h.attr)(Ee,"class",null);for(var De=0;H.selectedOptions.length>De;De++){var Le=(we=H.selectedOptions.item(De))===null||we===void 0?void 0:we.value;Le&&Ee.classList.add(Le)}}}if(!z){var Ie=Ee.textContent;W.value.trim().length?ie&&(Ie=W.value):Ie=R.value,Ie!==Ee.textContent&&(Ee.textContent=Ie)}C&&L&&(0,h.attr)(Ee,"target",L.checked?"_blank":null),A&&B&&(0,h.attr)(Ee,"rel",B.checked?"nofollow":null),_.e.fire("applyLink",_,Ee,M)}),_.synchronizeValues(),b(),!1};return d.Dom.isElement(M)?_.e.on(M,"submit",function(J){return J.preventDefault(),J.stopImmediatePropagation(),$(),!1}):M.onSubmit($),M},x.prototype.beforeDestruct=function(y){y.e.off("generateLinkForm.link",this.__generateForm).off("dblclick.link",this.onDblClickOnLink).off("processPaste.link",this.onProcessPasteLink)},u.__decorate([m.autobind],x.prototype,"onDblClickOnLink",null),u.__decorate([m.autobind],x.prototype,"onProcessPasteLink",null),u.__decorate([m.autobind],x.prototype,"__generateForm",null),x}(f.Plugin);a.link=g,p.pluginSystem.add("link",g)},54238:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.formTemplate=void 0;var u=s(95963),d=s(96516);a.formTemplate=function(h){var f=h.o.link,m=f.openInNewTabCheckbox,p=f.noFollowCheckbox,g=f.modeClassName,v=f.selectSizeClassName,x=f.selectMultipleClassName,y=f.selectOptionsClassName;return new u.UIForm(h,[new u.UIBlock(h,[new u.UIInput(h,{name:"url",type:"text",ref:"url_input",label:"URL",placeholder:"http://",required:!0})]),new u.UIBlock(h,[new u.UIInput(h,{name:"content",ref:"content_input",label:"Text"})],{ref:"content_input_box"}),g?new u.UIBlock(h,[g==="input"?new u.UIInput(h,{name:"className",ref:"className_input",label:"Class name"}):g==="select"?new u.UISelect(h,{name:"className",ref:"className_select",label:"Class name",size:v,multiple:x,options:y}):null]):null,m?new u.UICheckbox(h,{name:"target",ref:"target_checkbox",label:"Open in new tab"}):null,p?new u.UICheckbox(h,{name:"nofollow",ref:"nofollow_checkbox",label:"No follow"}):null,new u.UIBlock(h,[new d.UIButton(h,{name:"unlink",variant:"default",text:"Unlink"}),new d.UIButton(h,{name:"insert",type:"submit",variant:"primary",text:"Insert"})],{align:"full"})])}},11737:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.mediaFakeTag="jodit-media",u.Config.prototype.mediaInFakeBlock=!0,u.Config.prototype.mediaBlocks=["video","audio"]},76303:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.media=void 0;var u=s(86893),d=s(76502),h=s(17332);function f(m){var p="jodit_fake_wrapper",g=m.options,v=g.mediaFakeTag,x=g.mediaBlocks;g.mediaInFakeBlock&&m.e.on("afterGetValueFromEditor",function(y){var b=new RegExp("<".concat(v,"[^>]+data-").concat(p,"[^>]+>([^]+?)</").concat(v,">"),"ig");b.test(y.value)&&(y.value=y.value.replace(b,"$1"))}).on("change afterInit afterSetMode changePlace",m.async.debounce(function(){m.isDestructed||m.getMode()===u.MODE_SOURCE||(0,d.$$)(x.join(","),m.editor).forEach(function(y){(0,d.dataBind)(y,p)||((0,d.dataBind)(y,p,!0),function(b){var w;if(b.parentNode&&(0,d.attr)(b.parentNode,"data-jodit_iframe_wrapper"))b=b.parentNode;else{var _=m.createInside.element(v,((w={"data-jodit-temp":1,contenteditable:!1,draggable:!0})["data-".concat(p)]=1,w));(0,d.attr)(_,"style",(0,d.attr)(b,"style")),_.style.display=b.style.display==="inline-block"?"inline-block":"block",_.style.width=b.offsetWidth+"px",_.style.height=b.offsetHeight+"px",b.parentNode&&b.parentNode.insertBefore(_,b),_.appendChild(b),b=_}m.e.off(b,"mousedown.select touchstart.select").on(b,"mousedown.select touchstart.select",function(){m.s.setCursorAfter(b)})}(y))})},m.defaultTimeout))}s(11737),a.media=f,h.pluginSystem.add("media",f)},8860:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(86893),h=s(81438),f=s(40332),m=s(72719);u.Config.prototype.mobileTapTimeout=300,u.Config.prototype.toolbarAdaptive=!0,u.Config.prototype.controls.dots={mode:d.MODE_SOURCE+d.MODE_WYSIWYG,popup:function(p,g,v,x,y){var b=v.data;return b===void 0&&(b={toolbar:(0,h.makeCollection)(p),rebuild:function(){var w;if(y){var _=p.e.fire("getDiffButtons.mobile",y.closest(m.ToolbarCollection));if(_&&b){b.toolbar.build((0,f.splitArray)(_));var S=((w=p.toolbar.firstButton)===null||w===void 0?void 0:w.container.offsetWidth)||36;b.toolbar.container.style.width=3*(S+4)+"px"}}}},v.data=b),b.rebuild(),b.toolbar},tooltip:"Show all"}},19806:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.mobile=void 0;var u=s(40332),d=s(97642),h=s(17332);function f(m){var p=0,g=(0,u.splitArray)(m.o.buttons);m.o.mobileTapTimeout&&m.e.on("touchend",function(v){if(v.changedTouches&&v.changedTouches.length){var x=new Date().getTime(),y=x-p;y>m.o.mobileTapTimeout&&(p=x,1.5*m.o.mobileTapTimeout>y&&m.s.insertCursorAtPoint(v.clientX,v.clientY))}}),m.e.on("getDiffButtons.mobile",function(v){if(v===m.toolbar){var x=(0,d.flatButtonsSet)((0,u.splitArray)(m.o.buttons),m),y=(0,d.flatButtonsSet)(g,m);return(0,u.toArray)(x).reduce(function(b,w){return y.has(w)||b.push(w),b},[])}}),m.o.toolbarAdaptive&&m.e.on("resize afterInit recalcAdaptive changePlace afterAddPlace",function(){var v;if(m.o.toolbar){var x=((v=m.container.parentElement)!==null&&v!==void 0?v:m.container).offsetWidth,y=(0,u.splitArray)(m.isFullSize||x>=m.o.sizeLG?m.o.buttons:m.o.sizeMD>x?m.o.sizeSM>x?m.o.buttonsXS:m.o.buttonsSM:m.o.buttonsMD);y.toString()!==g.toString()&&(g=y,m.e.fire("closeAllPopups"),m.toolbar.setRemoveButtons(m.o.removeButtons).build(g.concat(m.o.extraButtons)))}}).on(m.ow,"load resize",function(){return m.e.fire("recalcAdaptive")})}s(8860),a.mobile=f,h.pluginSystem.add("mobile",f)},73013:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(63122),h=function(f,m,p){var g,v=p.control,x="button".concat(v.command),y=(g=v.args&&v.args[0])!==null&&g!==void 0?g:(0,d.dataBind)(f,x);(0,d.dataBind)(f,x,y),f.execCommand(v.command,!1,y==="default"?null:y)};s(77904).Icon.set("ol",s(15476)).set("ul",s(59403)),u.Config.prototype.controls.ul={command:"insertUnorderedList",tags:["ul"],tooltip:"Insert Unordered List",list:{default:"Default",circle:"Circle",disc:"Dot",square:"Quadrate"},exec:h},u.Config.prototype.controls.ol={command:"insertOrderedList",tags:["ol"],tooltip:"Insert Ordered List",list:{default:"Default","lower-alpha":"Lower Alpha","lower-greek":"Lower Greek","lower-roman":"Lower Roman","upper-alpha":"Upper Alpha","upper-roman":"Upper Roman"},exec:h}},52598:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.orderedList=void 0;var u=s(20255),d=s(57549),h=s(43441),f=s(17332);s(73013);var m=function(p){function g(){var v=p!==null&&p.apply(this,arguments)||this;return v.buttons=[{name:"ul",group:"list"},{name:"ol",group:"list"}],v}return u.__extends(g,p),g.prototype.afterInit=function(v){v.registerCommand("insertUnorderedList",this.onCommand).registerCommand("insertOrderedList",this.onCommand)},g.prototype.onCommand=function(v,x,y){return this.jodit.s.applyStyle({listStyleType:y??null},{element:v==="insertunorderedlist"?"ul":"ol"}),this.jodit.synchronizeValues(),!1},g.prototype.beforeDestruct=function(v){},u.__decorate([h.autobind],g.prototype,"onCommand",null),g}(d.Plugin);a.orderedList=m,f.pluginSystem.add("orderedList",m)},47470:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(86893);u.Config.prototype.askBeforePasteFromWord=!0,u.Config.prototype.processPasteFromWord=!0,u.Config.prototype.defaultActionOnPasteFromWord=null,u.Config.prototype.pasteFromWordActionList=[{value:d.INSERT_AS_HTML,text:"Keep"},{value:d.INSERT_AS_TEXT,text:"Clean"},{value:d.INSERT_ONLY_TEXT,text:"Insert only Text"}]},15428:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.pasteFromWord=void 0;var u=s(20255),d=s(57549),h=s(40332),f=s(86893),m=s(43441),p=s(64280),g=s(17332);s(47470);var v=function(x){function y(){var b=x!==null&&x.apply(this,arguments)||this;return b.requires=["paste"],b}return u.__extends(y,x),y.prototype.afterInit=function(b){},y.prototype.beforeDestruct=function(b){},y.prototype.processWordHTML=function(b,w,_){var S=this,E=this.j,C=E.o,A=C.askBeforePasteFromWord,T=C.defaultActionOnPasteFromWord,k=C.defaultActionOnPaste,D=C.pasteFromWordActionList;return!(!C.processPasteFromWord||!(0,h.isHtmlFromWord)(w)||(A?(0,p.askInsertTypeDialog)(E,"The pasted content is coming from a Microsoft Word/Excel document. Do you want to keep the format or clean it up?","Word Paste Detected",function(M){S.insertFromWordByType(b,w,M,_)},D):this.insertFromWordByType(b,w,T||k,_),0))},y.prototype.insertFromWordByType=function(b,w,_,S){var E;switch(_){case f.INSERT_AS_HTML:w=(0,h.applyStyles)(w);var C=(E=this.j.events)===null||E===void 0?void 0:E.fire("beautifyHTML",w);(0,h.isString)(C)&&(w=C);break;case f.INSERT_AS_TEXT:w=(0,h.cleanFromWord)(w);break;case f.INSERT_ONLY_TEXT:w=(0,h.stripTags)((0,h.cleanFromWord)(w))}(0,p.pasteInsertHtml)(b,this.j,w)},u.__decorate([(0,m.watch)(":processHTML")],y.prototype,"processWordHTML",null),y}(d.Plugin);a.pasteFromWord=v,g.pluginSystem.add("pasteFromWord",v)},47224:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.pasteStorage=void 0;var u=s(20255);s(71708);var d=s(86893),h=s(85605),f=s(24263),m=s(40332),p=s(96031),g=s(17332),v=function(x){function y(){var b=x!==null&&x.apply(this,arguments)||this;return b.currentIndex=0,b.list=[],b.container=null,b.listBox=null,b.previewBox=null,b.dialog=null,b.paste=function(){if(b.j.s.focus(),b.j.s.insertHTML(b.list[b.currentIndex]),b.currentIndex!==0){var w=b.list[0];b.list[0]=b.list[b.currentIndex],b.list[b.currentIndex]=w}b.dialog&&b.dialog.close(),b.j.synchronizeValues(),b.j.e.fire("afterPaste")},b.onKeyDown=function(w){var _=b.currentIndex;[d.KEY_UP,d.KEY_DOWN,d.KEY_ENTER].indexOf(w.key)!==-1&&(w.key===d.KEY_UP&&(_===0?_=b.list.length-1:_-=1),w.key===d.KEY_DOWN&&(_===b.list.length-1?_=0:_+=1),w.key!==d.KEY_ENTER?(_!==b.currentIndex&&b.selectIndex(_),w.stopImmediatePropagation(),w.preventDefault()):b.paste())},b.selectIndex=function(w){b.listBox&&(0,m.toArray)(b.listBox.childNodes).forEach(function(_,S){_.classList.remove("jodit_active"),w===S&&b.previewBox&&(_.classList.add("jodit_active"),b.previewBox.innerHTML=b.list[w],_.focus())}),b.currentIndex=w},b.showDialog=function(){2>b.list.length||(b.dialog||b.createDialog(),b.listBox&&(b.listBox.innerHTML=""),b.previewBox&&(b.previewBox.innerHTML=""),b.list.forEach(function(w,_){var S=b.j.c.element("a");S.textContent=_+1+". "+w.replace((0,d.SPACE_REG_EXP)(),""),b.j.e.on(S,"keydown",b.onKeyDown),(0,m.attr)(S,"href","#"),(0,m.attr)(S,"data-index",_.toString()),(0,m.attr)(S,"tab-index","-1"),b.listBox&&b.listBox.appendChild(S)}),b.dialog&&b.dialog.open(),b.j.async.setTimeout(function(){b.selectIndex(0)},100))},b}return u.__extends(y,x),y.prototype.createDialog=function(){var b=this;this.dialog=this.j.dlg();var w=(0,p.Button)(this.j,"paste","Paste","primary");w.onAction(this.paste);var _=(0,p.Button)(this.j,"","Cancel");_.onAction(this.dialog.close),this.container=this.j.c.div(),this.container.classList.add("jodit-paste-storage"),this.listBox=this.j.c.div(),this.previewBox=this.j.c.div(),this.container.appendChild(this.listBox),this.container.appendChild(this.previewBox),this.dialog.setHeader(this.j.i18n("Choose Content to Paste")),this.dialog.setContent(this.container),this.dialog.setFooter([w,_]),this.j.e.on(this.listBox,"click dblclick",function(S){var E=S.target;return f.Dom.isTag(E,"a")&&E.hasAttribute("data-index")&&b.selectIndex(parseInt((0,m.attr)(E,"-index")||"0",10)),S.type==="dblclick"&&b.paste(),!1})},y.prototype.afterInit=function(){var b=this;this.j.e.off("afterCopy.paste-storage").on("pasteStorageList.paste-storage",function(){return b.list.length}).on("afterCopy.paste-storage",function(w){b.list.indexOf(w)!==-1&&b.list.splice(b.list.indexOf(w),1),b.list.unshift(w),b.list.length>5&&(b.list.length=5)}),this.j.registerCommand("showPasteStorage",{exec:this.showDialog,hotkeys:["ctrl+shift+v","cmd+shift+v"]})},y.prototype.beforeDestruct=function(){this.dialog&&this.dialog.destruct(),this.j.e.off(".paste-storage"),f.Dom.safeRemove(this.previewBox),f.Dom.safeRemove(this.listBox),f.Dom.safeRemove(this.container),this.container=null,this.listBox=null,this.previewBox=null,this.dialog=null,this.list=[]},y}(h.Plugin);a.pasteStorage=v,g.pluginSystem.add("pasteStorage",v)},24703:function(c,a,s){var u;Object.defineProperty(a,"__esModule",{value:!0});var d=s(20255),h=s(86893),f=s(93166),m=s(64280);f.Config.prototype.askBeforePasteHTML=!0,f.Config.prototype.processPasteHTML=!0,f.Config.prototype.pasteHTMLActionList=[{value:h.INSERT_AS_HTML,text:"Keep"},{value:h.INSERT_AS_TEXT,text:"Insert as Text"},{value:h.INSERT_ONLY_TEXT,text:"Insert only Text"}],f.Config.prototype.memorizeChoiceWhenPasteFragment=!1,f.Config.prototype.nl2brInPlainText=!0;var p="pasteStorage";f.Config.prototype.controls.paste={tooltip:"Paste from clipboard",exec:function(g,v,x){var y=x.control;return d.__awaiter(this,void 0,void 0,function(){var b,w,_,S,E;return d.__generator(this,function(C){switch(C.label){case 0:if(y.name===p)return g.execCommand("showPasteStorage"),[2];if(g.s.focus(),b="",w=!0,!navigator.clipboard)return[3,11];C.label=1;case 1:return C.trys.push([1,6,,7]),[4,navigator.clipboard.read()];case 2:return(_=C.sent())&&_.length?[4,_[0].getType(h.TEXT_PLAIN)]:[3,5];case 3:return S=C.sent(),[4,new Response(S).text()];case 4:b=C.sent(),C.label=5;case 5:return w=!1,[3,7];case 6:return C.sent(),[3,7];case 7:if(!w)return[3,11];C.label=8;case 8:return C.trys.push([8,10,,11]),[4,navigator.clipboard.readText()];case 9:return b=C.sent(),w=!1,[3,11];case 10:return C.sent(),[3,11];case 11:return w&&(b=g.buffer.get(h.CLIPBOARD_ID)||"",w=b.length===0),E=g.value,w?(g.ed.execCommand("paste"),!(w=E===g.value)&&g.e.fire("afterPaste")):b.length?((0,m.pasteInsertHtml)(null,g,b),g.e.fire("afterPaste")):w&&g.alert("Your browser doesn't support direct access to the clipboard.",function(){g.s.focus()}),[2]}})})},list:(u={},u[p]="Paste Storage",u),isChildDisabled:function(g){return 2>g.e.fire("pasteStorageList")}}},64280:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.askInsertTypeDialog=a.getAllTypes=a.pasteInsertHtml=void 0;var u=s(20255),d=s(10172),h=s(24263),f=s(86893),m=s(96031);a.pasteInsertHtml=function(p,g,v){if(!g.isInDestruct){(function(y){return!!(y&&y.type==="drop")})(p)&&g.s.insertCursorAtPoint(p.clientX,p.clientY);var x=g.e.fire("beforePasteInsert",v);!(0,d.isVoid)(x)&&((0,d.isString)(x)||(0,d.isNumber)(x)||h.Dom.isNode(x))&&(v=x),(0,d.isString)(v)&&(v=function(y){var b=(y=y.replace(/<meta[^>]+?>/g,"")).search(/<!--StartFragment-->/i);b!==-1&&(y=y.substring(b+20));var w=y.search(/<!--EndFragment-->/i);return w!==-1&&(y=y.substring(0,w)),y}(v)),g.s.insertHTML(v)}},a.getAllTypes=function(p){var g=p.types,v="";if((0,d.isArray)(g)||{}.toString.call(g)==="[object DOMStringList]")for(var x=0;g.length>x;x+=1)v+=g[x]+";";else v=(g||f.TEXT_PLAIN).toString()+";";return v},a.askInsertTypeDialog=function(p,g,v,x,y){if(p.e.fire("beforeOpenPasteDialog",g,v,x,y)!==!1){var b=p.confirm('<div style="word-break: normal; white-space: normal">'.concat(p.i18n(g),"</div>"),p.i18n(v)),w=y.map(function(S){var E=S.text,C=S.value;return(0,m.Button)(p,{text:E,name:E.toLowerCase(),tabIndex:0}).onAction(function(){b.close(),x(C)})});b.e.one(b,"afterClose",function(){p.s.isFocused()||p.s.focus()});var _=(0,m.Button)(p,{text:"Cancel",tabIndex:0}).onAction(function(){b.close()});return b.setFooter(u.__spreadArray(u.__spreadArray([],u.__read(w),!1),[_],!1)),w[0].focus(),w[0].state.variant="primary",p.e.fire("afterOpenPasteDialog",b,g,v,x,y),b}}},19483:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.paste=void 0;var u=s(20255),d=s(85605),h=s(86893),f=s(24263),m=s(43441),p=s(40332),g=s(17332),v=s(64280);s(24703);var x=function(y){function b(){var w=y!==null&&y.apply(this,arguments)||this;return w.pasteStack=new p.LimitedStack(20),w._isDialogOpened=!1,w}return u.__extends(b,y),b.prototype.afterInit=function(w){var _=this;w.e.on("paste.paste",this.onPaste).on("pasteStack.paste",function(S){return _.pasteStack.push(S)}),w.o.nl2brInPlainText&&this.j.e.on("processPaste.paste",this.onProcessPasteReplaceNl2Br)},b.prototype.beforeDestruct=function(w){w.e.off("paste.paste",this.onPaste).off("processPaste.paste",this.onProcessPasteReplaceNl2Br).off(".paste")},b.prototype.onPaste=function(w){try{if(this.customPasteProcess(w)===!1||this.j.e.fire("beforePaste",w)===!1)return w.preventDefault(),!1;this.defaultPasteProcess(w)}finally{this.j.e.fire("afterPaste",w)}},b.prototype.customPasteProcess=function(w){if(this.j.o.processPasteHTML){var _,S=(0,p.getDataTransfer)(w),E={html:S==null?void 0:S.getData(h.TEXT_HTML),plain:S==null?void 0:S.getData(h.TEXT_PLAIN),rtf:S==null?void 0:S.getData(h.TEXT_RTF)};for(_ in E){var C=E[_];if((0,p.isHTML)(C)&&(this.j.e.fire("processHTML",w,C,E)||this.processHTML(w,C)))return!1}}},b.prototype.defaultPasteProcess=function(w){var _=(0,p.getDataTransfer)(w),S=(_==null?void 0:_.getData(h.TEXT_HTML))||(_==null?void 0:_.getData(h.TEXT_PLAIN));if(_&&S&&(0,p.trim)(S)!==""){var E=this.j.e.fire("processPaste",w,S,(0,v.getAllTypes)(_));E!==void 0&&(S=E),((0,p.isString)(S)||f.Dom.isNode(S))&&this.insertByType(w,S,this.j.o.defaultActionOnPaste),w.preventDefault(),w.stopPropagation()}},b.prototype.processHTML=function(w,_){var S=this;if(this.j.o.askBeforePasteHTML){if(this.j.o.memorizeChoiceWhenPasteFragment){var E=this.pasteStack.find(function(A){return A.html===_});if(E)return this.insertByType(w,_,E.action||this.j.o.defaultActionOnPaste),!0}if(this._isDialogOpened)return!0;var C=(0,v.askInsertTypeDialog)(this.j,"Your code is similar to HTML. Keep as HTML?","Paste as HTML",function(A){S._isDialogOpened=!1,S.insertByType(w,_,A)},this.j.o.pasteHTMLActionList);return C&&(this._isDialogOpened=!0,C.e.on("beforeClose",function(){S._isDialogOpened=!1})),!0}return!1},b.prototype.insertByType=function(w,_,S){if(this.pasteStack.push({html:_,action:S}),(0,p.isString)(_))switch(this.j.buffer.set(h.CLIPBOARD_ID,_),S){case h.INSERT_CLEAR_HTML:_=(0,p.cleanFromWord)(_);break;case h.INSERT_ONLY_TEXT:_=(0,p.stripTags)(_);break;case h.INSERT_AS_TEXT:_=(0,p.htmlspecialchars)(_)}(0,v.pasteInsertHtml)(w,this.j,_)},b.prototype.onProcessPasteReplaceNl2Br=function(w,_,S){if(S===h.TEXT_PLAIN+";"&&!(0,p.isHTML)(_))return(0,p.nl2br)(_)},u.__decorate([m.autobind],b.prototype,"onPaste",null),u.__decorate([m.autobind],b.prototype,"onProcessPasteReplaceNl2Br",null),b}(d.Plugin);a.paste=x,g.pluginSystem.add("paste",x)},76952:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.showPlaceholder=!0,u.Config.prototype.placeholder="Type something",u.Config.prototype.useInputsPlaceholder=!0},83211:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.placeholder=a.isEditorEmpty=void 0;var u=s(20255);s(51629);var d=s(86893),h=s(67309),f=s(26911),m=s(37204),p=s(24263),g=s(85605),v=s(86893),x=s(43441),y=s(17332);function b(_){var S;if(!_.firstChild)return!0;var E=_.firstChild;if(v.INSEPARABLE_TAGS.has((S=E.nodeName)===null||S===void 0?void 0:S.toLowerCase())||/^(TABLE)$/i.test(E.nodeName))return!1;var C=p.Dom.next(E,function(A){return A&&!p.Dom.isEmptyTextNode(A)},_);return p.Dom.isText(E)&&!C?p.Dom.isEmptyTextNode(E):!C&&p.Dom.each(E,function(A){return!p.Dom.isTag(A,["ul","li","ol"])&&(p.Dom.isEmpty(A)||p.Dom.isTag(A,"br"))})}s(76952),a.isEditorEmpty=b;var w=function(_){function S(){var E=_!==null&&_.apply(this,arguments)||this;return E.addNativeListeners=function(){E.j.e.off(E.j.editor,"input.placeholder keydown.placeholder").on(E.j.editor,"input.placeholder keydown.placeholder",E.toggle)},E.addEvents=function(){var C=E.j;C.o.useInputsPlaceholder&&C.element.hasAttribute("placeholder")&&(E.placeholderElm.innerHTML=(0,h.attr)(C.element,"placeholder")||""),C.e.fire("placeholder",E.placeholderElm.innerHTML),C.e.off(".placeholder").on("changePlace.placeholder",E.addNativeListeners).on("change.placeholder focus.placeholder keyup.placeholder mouseup.placeholder keydown.placeholder mousedown.placeholder afterSetMode.placeholder changePlace.placeholder",E.toggle).on(window,"load",E.toggle),E.addNativeListeners(),E.toggle()},E}return u.__extends(S,_),S.prototype.afterInit=function(E){var C=this;E.o.showPlaceholder&&(this.placeholderElm=E.c.fromHTML('<span data-ref="placeholder" style="display: none;" class="jodit-placeholder">'.concat(E.i18n(E.o.placeholder),"</span>")),E.o.direction==="rtl"&&(this.placeholderElm.style.right="0px",this.placeholderElm.style.direction="rtl"),E.e.on("readonly",function(A){A?C.hide():C.toggle()}).on("changePlace",this.addEvents),this.addEvents())},S.prototype.show=function(){var E=this.j;if(!E.o.readonly){var C=0,A=0,T=E.s.current(),k=T&&p.Dom.closest(T,p.Dom.isBlock,E.editor)||E.editor,D=E.ew.getComputedStyle(k),M=E.ew.getComputedStyle(E.editor);E.workplace.appendChild(this.placeholderElm);var P=E.editor.firstChild;if(p.Dom.isElement(P)&&!(0,m.isMarker)(P)){var j=E.ew.getComputedStyle(P);C=parseInt(j.getPropertyValue("margin-top"),10),A=parseInt(j.getPropertyValue("margin-left"),10),this.placeholderElm.style.fontSize=parseInt(j.getPropertyValue("font-size"),10)+"px",this.placeholderElm.style.lineHeight=j.getPropertyValue("line-height")}else this.placeholderElm.style.fontSize=parseInt(D.getPropertyValue("font-size"),10)+"px",this.placeholderElm.style.lineHeight=D.getPropertyValue("line-height");(0,f.css)(this.placeholderElm,{display:"block",textAlign:D.getPropertyValue("text-align"),paddingTop:parseInt(M.paddingTop,10)+"px",paddingLeft:parseInt(M.paddingLeft,10)+"px",paddingRight:parseInt(M.paddingRight,10)+"px",marginTop:Math.max(parseInt(D.getPropertyValue("margin-top"),10),C),marginLeft:Math.max(parseInt(D.getPropertyValue("margin-left"),10),A)})}},S.prototype.hide=function(){p.Dom.safeRemove(this.placeholderElm)},S.prototype.toggle=function(){var E=this.j;E.editor&&!E.isInDestruct&&(E.getRealMode()===d.MODE_WYSIWYG&&b(E.editor)?this.show():this.hide())},S.prototype.beforeDestruct=function(E){this.hide(),E.e.off(".placeholder").off(window,"load",this.toggle)},u.__decorate([(0,x.debounce)(function(E){return E.defaultTimeout/10},!0)],S.prototype,"toggle",null),S}(g.Plugin);a.placeholder=w,y.pluginSystem.add("placeholder",w)},88297:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.poweredByJodit=void 0;var u=s(17332);function d(h){var f=h.o;f.hidePoweredByJodit||f.inline||!(f.showCharsCounter||f.showWordsCounter||f.showXPathInStatusbar)||h.hookStatus("ready",function(){h.statusbar.append(h.create.fromHTML(`<a
						tabindex="-1"
						style="text-transform: uppercase"
						class="jodit-status-bar-link"
						target="_blank"
						href="https://xdsoft.net/jodit/">
							Powered by Jodit
						</a>`),!0)})}a.poweredByJodit=d,u.pluginSystem.add("poweredByJodit",d)},72930:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.preview=void 0,s(54860);var u=s(93166),d=s(86893),h=s(21498),f=s(17332);function m(p){p.registerButton({name:"preview"}),p.registerCommand("preview",function(g,v,x){var y=p.dlg();y.setSize(1024,600).open("",p.i18n("Preview")).setModal(!0),(0,h.previewBox)(p,x,"px",y.getElm("content"))})}u.Config.prototype.controls.preview={icon:"eye",command:"preview",mode:d.MODE_SOURCE+d.MODE_WYSIWYG,tooltip:"Preview"},a.preview=m,f.pluginSystem.add("preview",m)},20137:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.generateCriticalCSS=void 0;var u=s(20255),d=s(1853);a.generateCriticalCSS=function(h){var f=function(p,g){return g===void 0&&(g=p.ownerDocument.styleSheets),(0,d.toArray)(g).map(function(v){try{return(0,d.toArray)(v.cssRules)}catch{}return[]}).flat().filter(function(v){try{return!!(v&&p.matches(v.selectorText))}catch{}return!1})},m=function(){function p(g,v,x){var y=this;this.css={};var b=x||{},w=function(_){var S=_.selectorText.split(",").map(function(T){return T.trim()}).sort().join(",");!y.css[S]&&(y.css[S]={});for(var E=_.style.cssText.split(/;(?![A-Za-z0-9])/),C=0;E.length>C;C++)if(E[C]){var A=E[C].split(":");A[0]=A[0].trim(),A[1]=A[1].trim(),y.css[S][A[0]]=A[1].replace(/var\(([^)]+)\)/g,function(T,k){var D=u.__read(k.split(","),2),M=D[0],P=D[1];return(h.ew.getComputedStyle(h.editor).getPropertyValue(M.trim())||P||T).trim()})}};(function(){for(var _=g.innerHeight,S=v.createTreeWalker(h.editor,NodeFilter.SHOW_ELEMENT,function(){return NodeFilter.FILTER_ACCEPT});S.nextNode();){var E=S.currentNode;if(_>E.getBoundingClientRect().top||b.scanFullPage){var C=f(E);if(C)for(var A=0;C.length>A;A++)w(C[A])}}})()}return p.prototype.generateCSS=function(){var g="";for(var v in this.css)if(!/:not\(/.test(v)){for(var x in g+=v+" { ",this.css[v])g+=x+": "+this.css[v][x]+"; ";g+=`}
`}return g},p}();try{return new m(h.ew,h.ed,{scanFullPage:!0}).generateCSS()}catch{}return""}},51197:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.print=void 0;var u=s(93166),d=s(17332),h=s(64968),f=s(93351),m=s(86893),p=s(17332),g=s(77904),v=s(20137),x=s(21498);function y(b){b.registerButton({name:"print"})}g.Icon.set("print",s(22860)),u.Config.prototype.controls.print={exec:function(b){var w=b.create.element("iframe");Object.assign(w.style,{position:"fixed",right:0,bottom:0,width:0,height:0,border:0}),(0,d.getContainer)(b,u.Config).appendChild(w);var _=function(){b.e.off(b.ow,"mousemove",_),h.Dom.safeRemove(w)},S=w.contentWindow;if(S){b.e.on(S,"onbeforeunload onafterprint",_).on(b.ow,"mousemove",_),b.o.iframe?(b.e.fire("generateDocumentStructure.iframe",S.document,b),S.document.body.innerHTML=b.value):(S.document.write('<!doctype html><html lang="'+(0,f.defaultLanguage)(b.o.language)+'"><head><title></title></head><style>'+(0,v.generateCriticalCSS)(b)+"</style><body></body></html>"),S.document.close(),(0,x.previewBox)(b,void 0,"px",S.document.body));var E=S.document.createElement("style");E.innerHTML=`@media print {
					body {
							-webkit-print-color-adjust: exact;
					}
			}`,S.document.head.appendChild(E),S.focus(),S.print()}},mode:m.MODE_SOURCE+m.MODE_WYSIWYG,tooltip:"Print"},a.print=y,p.pluginSystem.add("print",y)},2327:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.redoUndo=void 0;var u=s(20255),d=s(93166),h=s(86893),f=s(85605),m=s(17332);s(77904).Icon.set("redo",s(95600)).set("undo",s(76214)),d.Config.prototype.controls.redo={mode:h.MODE_SPLIT,isDisabled:function(g){return!g.history.canRedo()},tooltip:"Redo"},d.Config.prototype.controls.undo={mode:h.MODE_SPLIT,isDisabled:function(g){return!g.history.canUndo()},tooltip:"Undo"};var p=function(g){function v(){var x=g!==null&&g.apply(this,arguments)||this;return x.buttons=[{name:"undo",group:"history"},{name:"redo",group:"history"}],x}return u.__extends(v,g),v.prototype.beforeDestruct=function(){},v.prototype.afterInit=function(x){var y=function(b){return x.history[b](),!1};x.registerCommand("redo",{exec:y,hotkeys:["ctrl+y","ctrl+shift+z","cmd+y","cmd+shift+z"]}),x.registerCommand("undo",{exec:y,hotkeys:["ctrl+z","cmd+z"]})},v}(f.Plugin);a.redoUndo=p,m.pluginSystem.add("redoUndo",p)},52444:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.tableAllowCellResize=!0},47608:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.resizeCells=void 0;var u=s(20255);s(47818);var d=s(86893),h=s(87837),f=s(40332),m=s(43441),p=s(24263),g=s(17332);s(52444);var v="table_processor_observer-resize",x=function(y){function b(){var w=y!==null&&y.apply(this,arguments)||this;return w.selectMode=!1,w.resizeDelta=0,w.createResizeHandle=function(){w.resizeHandler||(w.resizeHandler=w.j.c.div("jodit-table-resizer"),w.j.e.on(w.resizeHandler,"mousedown.table touchstart.table",w.onHandleMouseDown).on(w.resizeHandler,"mouseenter.table",function(){w.j.async.clearTimeout(w.hideTimeout)}))},w.hideTimeout=0,w.drag=!1,w.minX=0,w.maxX=0,w.startX=0,w}return u.__extends(b,y),Object.defineProperty(b.prototype,"module",{get:function(){return this.j.getInstance("Table",this.j.o)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isRTL",{get:function(){return this.j.o.direction==="rtl"},enumerable:!1,configurable:!0}),b.prototype.showResizeHandle=function(){this.j.async.clearTimeout(this.hideTimeout),this.j.workplace.appendChild(this.resizeHandler)},b.prototype.hideResizeHandle=function(){var w=this;this.hideTimeout=this.j.async.setTimeout(function(){p.Dom.safeRemove(w.resizeHandler)},{timeout:this.j.defaultTimeout,label:"hideResizer"})},b.prototype.onHandleMouseDown=function(w){var _=this;if(!this.j.isLocked){this.drag=!0,this.j.e.on(this.j.ow,"mouseup.resize-cells touchend.resize-cells",this.onMouseUp).on(this.j.ew,"mousemove.table touchmove.table",this.onMouseMove),this.startX=w.clientX,this.j.lock(v),this.resizeHandler.classList.add("jodit-table-resizer_moved");var S,E=this.workTable.getBoundingClientRect();if(this.minX=0,this.maxX=1e6,this.wholeTable!=null)E=this.workTable.parentNode.getBoundingClientRect(),this.minX=E.left,this.maxX=this.minX+E.width;else{var C=h.Table.formalCoordinate(this.workTable,this.workCell,!0);h.Table.formalMatrix(this.workTable,function(A,T,k){C[1]===k&&(S=A.getBoundingClientRect(),_.minX=Math.max(S.left+d.NEARBY/2,_.minX)),C[1]+(_.isRTL?-1:1)===k&&(S=A.getBoundingClientRect(),_.maxX=Math.min(S.left+S.width-d.NEARBY/2,_.maxX))})}return!1}},b.prototype.onMouseMove=function(w){if(this.drag){this.j.e.fire("closeAllPopups");var _=w.clientX,S=(0,f.offset)(this.resizeHandler.parentNode||this.j.od.documentElement,this.j,this.j.od,!0);this.minX>_&&(_=this.minX),_>this.maxX&&(_=this.maxX),this.resizeDelta=_-this.startX+(this.j.o.iframe?S.left:0),this.resizeHandler.style.left=_-(this.j.o.iframe?0:S.left)+"px";var E=this.j.s.sel;E&&E.removeAllRanges()}},b.prototype.onMouseUp=function(w){(this.selectMode||this.drag)&&(this.selectMode=!1,this.j.unlock()),this.resizeHandler&&this.drag&&(this.drag=!1,this.j.e.off(this.j.ew,"mousemove.table touchmove.table",this.onMouseMove),this.resizeHandler.classList.remove("jodit-table-resizer_moved"),this.startX!==w.clientX&&(this.wholeTable==null?this.resizeColumns():this.resizeTable()),this.j.synchronizeValues(),this.j.s.focus())},b.prototype.resizeColumns=function(){var w=this.resizeDelta,_=[];h.Table.setColumnWidthByDelta(this.workTable,h.Table.formalCoordinate(this.workTable,this.workCell,!0)[1],w,!0,_);var S=(0,f.call)(this.isRTL?p.Dom.prev:p.Dom.next,this.workCell,p.Dom.isCell,this.workCell.parentNode);h.Table.setColumnWidthByDelta(this.workTable,h.Table.formalCoordinate(this.workTable,S)[1],-w,!1,_)},b.prototype.resizeTable=function(){var w=this.resizeDelta*(this.isRTL?-1:1),_=this.workTable.offsetWidth,S=(0,f.getContentWidth)(this.workTable.parentNode,this.j.ew),E=!this.wholeTable;if(this.isRTL?!E:E)this.workTable.style.width=(_+w)/S*100+"%";else{var C=this.isRTL?"marginRight":"marginLeft",A=parseInt(this.j.ew.getComputedStyle(this.workTable)[C]||"0",10);this.workTable.style.width=(_-w)/S*100+"%",this.workTable.style[C]=(A+w)/S*100+"%"}},b.prototype.setWorkCell=function(w,_){_===void 0&&(_=null),this.wholeTable=_,this.workCell=w,this.workTable=p.Dom.up(w,function(S){return p.Dom.isTag(S,"table")},this.j.editor)},b.prototype.calcHandlePosition=function(w,_,S,E){S===void 0&&(S=0),E===void 0&&(E=0);var C=(0,f.offset)(_,this.j,this.j.ed);if(S>d.NEARBY&&C.width-d.NEARBY>S)this.hideResizeHandle();else{var A=(0,f.offset)(this.j.workplace,this.j,this.j.od,!0),T=(0,f.offset)(w,this.j,this.j.ed);if(this.resizeHandler.style.left=(S>d.NEARBY?C.left+C.width:C.left)-A.left+E+"px",Object.assign(this.resizeHandler.style,{height:T.height+"px",top:T.top-A.top+"px"}),this.showResizeHandle(),S>d.NEARBY){var k=(0,f.call)(this.isRTL?p.Dom.prev:p.Dom.next,_,p.Dom.isCell,_.parentNode);this.setWorkCell(_,!!k&&null)}else{var D=(0,f.call)(this.isRTL?p.Dom.next:p.Dom.prev,_,p.Dom.isCell,_.parentNode);this.setWorkCell(D||_,!D||null)}}},b.prototype.afterInit=function(w){var _=this;w.o.tableAllowCellResize&&w.e.off(this.j.ow,".resize-cells").off(".resize-cells").on("change.resize-cells afterCommand.resize-cells afterSetMode.resize-cells",function(){(0,f.$$)("table",w.editor).forEach(_.observe)}).on(this.j.ow,"scroll.resize-cells",function(){if(_.drag){var S=p.Dom.up(_.workCell,function(C){return p.Dom.isTag(C,"table")},w.editor);if(S){var E=S.getBoundingClientRect();_.resizeHandler.style.top=E.top+"px"}}}).on("beforeSetMode.resize-cells",function(){_.module.getAllSelectedCells().forEach(function(S){_.module.removeSelection(S),h.Table.normalizeTable(p.Dom.closest(S,"table",w.editor))})})},b.prototype.observe=function(w){var _=this;(0,f.dataBind)(w,v)||((0,f.dataBind)(w,v,!0),this.j.e.on(w,"mouseleave.resize-cells",function(S){_.resizeHandler&&_.resizeHandler!==S.relatedTarget&&_.hideResizeHandle()}).on(w,"mousemove.resize-cells touchmove.resize-cells",this.j.async.throttle(function(S){if(!_.j.isLocked){var E=p.Dom.up(S.target,p.Dom.isCell,w);E&&_.calcHandlePosition(w,E,S.offsetX)}},{timeout:this.j.defaultTimeout})),this.createResizeHandle())},b.prototype.beforeDestruct=function(w){w.events&&(w.e.off(this.j.ow,".resize-cells"),w.e.off(".resize-cells"))},u.__decorate([m.autobind],b.prototype,"onHandleMouseDown",null),u.__decorate([m.autobind],b.prototype,"onMouseMove",null),u.__decorate([m.autobind],b.prototype,"onMouseUp",null),u.__decorate([m.autobind],b.prototype,"observe",null),b}(h.Plugin);a.resizeCells=x,g.pluginSystem.add("resizeCells",x)},91637:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.allowResizeX=!1,u.Config.prototype.allowResizeY=!0},90523:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.resizeHandler=void 0;var u=s(20255),d=s(57549),h=s(64968),f=s(43441),m=s(2074),p=s(17332);s(91637);var g=function(v){function x(){var y=v!==null&&v.apply(this,arguments)||this;return y.isResized=!1,y.start={x:0,y:0,w:0,h:0},y.handle=y.j.c.div("jodit-editor__resize",m.Icon.get("resize_handler")),y}return u.__extends(x,v),x.prototype.afterInit=function(y){var b=this,w=y.o,_=w.height,S=w.width,E=y.o.allowResizeY;_==="auto"&&S!=="auto"&&(E=!1),_==="auto"&&S==="auto"||!w.allowResizeX&&!E||(y.statusbar.setMod("resize-handle",!0),y.e.on("toggleFullSize.resizeHandler",function(){b.handle.style.display=y.isFullSize?"none":"block"}).on(this.handle,"mousedown touchstart",this.onHandleResizeStart).on(y.ow,"mouseup touchend",this.onHandleResizeEnd),y.container.appendChild(this.handle))},x.prototype.onHandleResizeStart=function(y){this.isResized=!0,this.start.x=y.clientX,this.start.y=y.clientY,this.start.w=this.j.container.offsetWidth,this.start.h=this.j.container.offsetHeight,this.j.lock(),this.j.e.on(this.j.ow,"mousemove touchmove",this.onHandleResize),y.preventDefault()},x.prototype.onHandleResize=function(y){this.isResized&&(this.j.o.allowResizeY&&this.j.e.fire("setHeight",this.start.h+y.clientY-this.start.y),this.j.o.allowResizeX&&this.j.e.fire("setWidth",this.start.w+y.clientX-this.start.x),this.j.e.fire("resize"))},x.prototype.onHandleResizeEnd=function(){this.isResized&&(this.isResized=!1,this.j.e.off(this.j.ow,"mousemove touchmove",this.onHandleResize),this.j.unlock())},x.prototype.beforeDestruct=function(){h.Dom.safeRemove(this.handle),this.j.e.off(this.j.ow,"mouseup touchsend",this.onHandleResizeEnd)},x.requires=["size"],u.__decorate([f.autobind],x)}(d.Plugin);a.resizeHandler=g,p.pluginSystem.add("resizeHandler",g)},36560:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.allowResizeTags=["img","iframe","table","jodit"],u.Config.prototype.resizer={showSize:!0,hideSizeTimeout:1e3,forImageChangeAttributes:!0,min_width:10,min_height:10,useAspectRatio:["img"]}},69257:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.resizer=void 0;var u=s(20255);s(6316);var d=s(86893),h=s(86893),f=s(24263),m=s(40332),p=s(85605),g=s(17332),v=s(43441),x=s(17332);s(36560);var y="__jodit-resizer_binded",b=function(w){function _(){var S=w!==null&&w.apply(this,arguments)||this;return S.LOCK_KEY="resizer",S.element=null,S.isResizeMode=!1,S.isShown=!1,S.startX=0,S.startY=0,S.width=0,S.height=0,S.ratio=0,S.rect=S.j.c.fromHTML('<div title="'.concat(S.j.i18n("Press Alt for custom resizing"),`" class="jodit-resizer">
				<div class="jodit-resizer__top-left"></div>
				<div class="jodit-resizer__top-right"></div>
				<div class="jodit-resizer__bottom-right"></div>
				<div class="jodit-resizer__bottom-left"></div>
				<span>100x100</span>
			</div>`)),S.sizeViewer=S.rect.getElementsByTagName("span")[0],S.pointerX=0,S.pointerY=0,S.isAltMode=!1,S.onClickElement=function(E){S.isResizeMode||S.element===E&&S.isShown||(S.element=E,S.show(),f.Dom.isTag(S.element,"img")&&!S.element.complete&&S.j.e.one(S.element,"load",S.updateSize))},S.updateSize=function(){if(!S.isInDestruct&&S.isShown&&S.element&&S.rect){var E=S.getWorkplacePosition(),C=(0,m.offset)(S.element,S.j,S.j.ed),A=parseInt(S.rect.style.left||"0",10),T=parseInt(S.rect.style.top||"0",10),k=C.top-E.top,D=C.left-E.left;T===k&&A===D&&S.rect.offsetWidth===S.element.offsetWidth&&S.rect.offsetHeight===S.element.offsetHeight||((0,m.css)(S.rect,{top:k,left:D,width:S.element.offsetWidth,height:S.element.offsetHeight}),S.j.events&&(S.j.e.fire(S.element,"changesize"),isNaN(A)||S.j.e.fire("resize")))}},S.hideSizeViewer=function(){S.sizeViewer.style.opacity="0"},S}return u.__extends(_,w),_.prototype.afterInit=function(S){var E=this;(0,m.$$)("div",this.rect).forEach(function(C){S.e.on(C,"mousedown.resizer touchstart.resizer",E.onStartResizing.bind(E,C))}),g.eventEmitter.on("hideHelpers",this.hide),S.e.on("readonly",function(C){C&&E.hide()}).on("afterInit changePlace",this.addEventListeners.bind(this)).on("afterGetValueFromEditor.resizer",function(C){var A=/<jodit[^>]+data-jodit_iframe_wrapper[^>]+>(.*?<iframe[^>]*>.*?<\/iframe>.*?)<\/jodit>/gi;A.test(C.value)&&(C.value=C.value.replace(A,"$1"))}).on("hideResizer",this.hide).on("change afterInit afterSetMode",this.onChangeEditor),this.addEventListeners(),this.onChangeEditor()},_.prototype.onEditorClick=function(S){for(var E=S.target,C=this.j,A=C.editor,T=C.options.allowResizeTags;E&&E!==A;){if(f.Dom.isTag(E,T))return this.bind(E),void this.onClickElement(E);E=E.parentNode}},_.prototype.addEventListeners=function(){var S=this,E=this.j;E.e.off(E.editor,".resizer").off(E.ow,".resizer").on(E.editor,"keydown.resizer",function(C){S.isShown&&C.key===d.KEY_DELETE&&S.element&&!f.Dom.isTag(S.element,"table")&&S.onDelete(C)}).on(E.ow,"resize.resizer",this.updateSize).on("resize.resizer",this.updateSize).on([E.ow,E.editor],"scroll.resizer",function(){S.isShown&&!S.isResizeMode&&S.hide()}).on(E.ow,"keydown.resizer",this.onKeyDown).on(E.ow,"keyup.resizer",this.onKeyUp).on(E.ow,"mouseup.resizer touchend.resizer",this.onClickOutside)},_.prototype.onStartResizing=function(S,E){if(!this.element||!this.element.parentNode)return this.hide(),!1;this.handle=S,E.cancelable&&E.preventDefault(),E.stopImmediatePropagation(),this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.ratio=this.width/this.height,this.isResizeMode=!0,this.startX=E.clientX,this.startY=E.clientY,this.pointerX=E.clientX,this.pointerY=E.clientY;var C=this.j;C.e.fire("hidePopup"),C.lock(this.LOCK_KEY),C.e.on(C.ow,"mousemove.resizer touchmove.resizer",this.onResize)},_.prototype.onEndResizing=function(){var S=this.j;S.unlock(),this.isResizeMode=!1,this.isAltMode=!1,S.synchronizeValues(),S.e.off(S.ow,"mousemove.resizer touchmove.resizer",this.onResize)},_.prototype.onResize=function(S){if(this.isResizeMode){if(!this.element)return;this.pointerX=S.clientX,this.pointerY=S.clientY;var E=void 0,C=void 0;if(this.j.options.iframe){var A=this.getWorkplacePosition();E=S.clientX+A.left-this.startX,C=S.clientY+A.top-this.startY}else E=this.pointerX-this.startX,C=this.pointerY-this.startY;var T=this.handle.className,k=0,D=0,M=this.j.o.resizer.useAspectRatio;!this.isAltMode&&(M===!0||Array.isArray(M)&&f.Dom.isTag(this.element,M))?(E?(k=this.width+(T.match(/left/)?-1:1)*E,D=Math.round(k/this.ratio)):(D=this.height+(T.match(/top/)?-1:1)*C,k=Math.round(D*this.ratio)),k>(0,m.innerWidth)(this.j.editor,this.j.ow)&&(k=(0,m.innerWidth)(this.j.editor,this.j.ow),D=Math.round(k/this.ratio))):(k=this.width+(T.match(/left/)?-1:1)*E,D=this.height+(T.match(/top/)?-1:1)*C),k>this.j.o.resizer.min_width&&this.applySize(this.element,"width",this.rect.parentNode.offsetWidth>k?k:"100%"),D>this.j.o.resizer.min_height&&this.applySize(this.element,"height",D),this.updateSize(),this.showSizeViewer(this.element.offsetWidth,this.element.offsetHeight),S.stopImmediatePropagation()}},_.prototype.onKeyDown=function(S){this.isAltMode=S.key===h.KEY_ALT,!this.isAltMode&&this.isResizeMode&&this.onEndResizing()},_.prototype.onKeyUp=function(){this.isAltMode&&this.isResizeMode&&this.element&&(this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.ratio=this.width/this.height,this.startX=this.pointerX,this.startY=this.pointerY),this.isAltMode=!1},_.prototype.onClickOutside=function(S){if(this.isShown){if(!this.isResizeMode)return this.hide();S.stopImmediatePropagation(),this.onEndResizing()}},_.prototype.getWorkplacePosition=function(){return(0,m.offset)(this.rect.parentNode||this.j.od.documentElement,this.j,this.j.od,!0)},_.prototype.applySize=function(S,E,C){var A=f.Dom.isImage(S)&&this.j.o.resizer.forImageChangeAttributes;A&&(0,m.attr)(S,E,C),A&&!S.style[E]||(0,m.css)(S,E,C)},_.prototype.onDelete=function(S){this.element&&(this.element.tagName!=="JODIT"?this.j.s.select(this.element):(f.Dom.safeRemove(this.element),this.hide(),S.preventDefault()))},_.prototype.onChangeEditor=function(){this.isShown&&(this.element&&this.element.parentNode?this.updateSize():this.hide()),(0,m.$$)("iframe",this.j.editor).forEach(this.bind)},_.prototype.bind=function(S){var E=this;if(f.Dom.isHTMLElement(S)&&this.j.o.allowResizeTags.includes(S.tagName.toLowerCase())&&!(0,m.dataBind)(S,y)){var C;if((0,m.dataBind)(S,y,!0),f.Dom.isTag(S,"iframe")){var A=S;f.Dom.isHTMLElement(S.parentNode)&&(0,m.attr)(S.parentNode,"-jodit_iframe_wrapper")?S=S.parentNode:(C=this.j.createInside.element("jodit",{"data-jodit-temp":1,contenteditable:!1,draggable:!0,"data-jodit_iframe_wrapper":1}),(0,m.attr)(C,"style",(0,m.attr)(S,"style")),(0,m.css)(C,{display:S.style.display==="inline-block"?"inline-block":"block",width:S.offsetWidth,height:S.offsetHeight}),S.parentNode&&S.parentNode.insertBefore(C,S),C.appendChild(S),this.j.e.on(C,"click",function(){(0,m.attr)(C,"data-jodit-wrapper_active",!0)}),S=C),this.j.e.off(S,"mousedown.select touchstart.select").on(S,"mousedown.select touchstart.select",function(){E.j.s.select(S)}).off(S,"changesize").on(S,"changesize",function(){A.setAttribute("width",S.offsetWidth+"px"),A.setAttribute("height",S.offsetHeight+"px")})}this.j.e.on(S,"dragstart",this.hide),h.IS_IE&&this.j.e.on(S,"mousedown",function(T){f.Dom.isTag(S,"img")&&T.preventDefault()})}},_.prototype.showSizeViewer=function(S,E){this.j.o.resizer.showSize&&(this.sizeViewer.offsetWidth>S||this.sizeViewer.offsetHeight>E?this.hideSizeViewer():(this.sizeViewer.style.opacity="1",this.sizeViewer.textContent="".concat(S," x ").concat(E),this.j.async.setTimeout(this.hideSizeViewer,{timeout:this.j.o.resizer.hideSizeTimeout,label:"hideSizeViewer"})))},_.prototype.show=function(){this.j.o.readonly||this.isShown||(this.isShown=!0,this.rect.parentNode||((0,m.markOwner)(this.j,this.rect),this.j.workplace.appendChild(this.rect)),this.j.isFullSize&&(this.rect.style.zIndex=(0,m.css)(this.j.container,"zIndex").toString()),this.updateSize())},_.prototype.hide=function(){this.isResizeMode||(this.isResizeMode=!1,this.isShown=!1,this.element=null,f.Dom.safeRemove(this.rect),(0,m.$$)("[data-jodit-wrapper_active='true']",this.j.editor).forEach(function(S){return(0,m.attr)(S,"data-jodit-wrapper_active",!1)}))},_.prototype.beforeDestruct=function(S){this.hide(),g.eventEmitter.off("hideHelpers",this.hide),S.e.off(this.j.ow,".resizer").off(".resizer")},u.__decorate([(0,v.watch)(":click")],_.prototype,"onEditorClick",null),u.__decorate([v.autobind],_.prototype,"onStartResizing",null),u.__decorate([v.autobind],_.prototype,"onEndResizing",null),u.__decorate([v.autobind],_.prototype,"onResize",null),u.__decorate([v.autobind],_.prototype,"onKeyDown",null),u.__decorate([v.autobind],_.prototype,"onKeyUp",null),u.__decorate([v.autobind],_.prototype,"onClickOutside",null),u.__decorate([(0,v.debounce)()],_.prototype,"onChangeEditor",null),u.__decorate([v.autobind],_.prototype,"bind",null),u.__decorate([v.autobind],_.prototype,"hide",null),_}(p.Plugin);a.resizer=b,x.pluginSystem.add("resizer",b)},61975:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(77904);s(59535),u.Config.prototype.useSearch=!0,u.Config.prototype.search={lazyIdleTimeout:0},d.Icon.set("search",s(41197)),u.Config.prototype.controls.find={tooltip:"Find",icon:"search",exec:function(h,f,m){var p=m.control;switch(p.args&&p.args[0]){case"findPrevious":h.e.fire("searchPrevious");break;case"findNext":h.e.fire("searchNext");break;case"replace":h.execCommand("openReplaceDialog");break;default:h.execCommand("openSearchDialog")}},list:{search:"Find",findNext:"Find Next",findPrevious:"Find Previous",replace:"Replace"},childTemplate:function(h,f,m){return m}}},73934:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(18562),a),u.__exportStar(s(3928),a)},18562:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.SentenceFinder=void 0;var u=s(20255),d=s(93163),h=function(){function f(m){m===void 0&&(m=d.fuzzySearchIndex),this.searchIndex=m,this.queue=[],this.value=""}return f.prototype.add=function(m){var p,g=((p=m.nodeValue)!==null&&p!==void 0?p:"").toLowerCase();if(g.length){var v=this.value.length;this.queue.push({startIndex:v,endIndex:v+g.length,node:m}),this.value+=g}},f.prototype.ranges=function(m,p){var g;p===void 0&&(p=0);var v=[],x=p,y=0,b=0;do if(y=(g=u.__read(this.searchIndex(m,this.value,x),2))[1],(x=g[0])!==-1){for(var w=void 0,_=0,S=void 0,E=0,C=b;this.queue.length>C;C+=1)if(!w&&this.queue[C].endIndex>x&&(w=this.queue[C].node,_=x-this.queue[C].startIndex),w&&this.queue[C].endIndex>=x+y){S=this.queue[C].node,E=x+y-this.queue[C].startIndex,b=C;break}w&&S&&v.push({startContainer:w,startOffset:_,endContainer:S,endOffset:E}),x+=y}while(x!==-1);return v.length===0?null:v},f}();a.SentenceFinder=h},3928:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isSelectionWrapper=a.clearSelectionWrappersFromHTML=a.clearSelectionWrappers=a.getSelectionWrappers=a.wrapRangesTextsInTmpSpan=void 0;var u=s(20255),d=s(24263),h=s(54188),f="jd-tmp-selection";function m(g){return(0,h.$$)("[".concat(f,"]"),g)}function p(g){return d.Dom.isElement(g)&&g.hasAttribute(f)}a.wrapRangesTextsInTmpSpan=function(g,v,x,y){var b,w,_;if(g.startContainer.nodeValue!=null&&g.endContainer.nodeValue!=null){var S=x.element("span",((b={})[f]=!0,b));d.Dom.markTemporary(S);var E=g.startContainer.nodeValue,C=0;if(g.startOffset!==0){var A=x.text(E.substring(0,g.startOffset));g.startContainer.nodeValue=E.substring(g.startOffset),d.Dom.before(g.startContainer,A),g.startContainer===g.endContainer&&(g.endOffset-=C=g.startOffset),g.startOffset=0}var T=g.endContainer.nodeValue;if(g.endOffset!==T.length){A=x.text(T.substring(g.endOffset)),g.endContainer.nodeValue=T.substring(0,g.endOffset),d.Dom.after(g.endContainer,A);try{for(var k=u.__values(v),D=k.next();!D.done;D=k.next()){var M=D.value;if(M.startContainer!==g.endContainer)break;M.startContainer=A,M.startOffset=M.startOffset-g.endOffset-C,M.endContainer===g.endContainer&&(M.endContainer=A,M.endOffset=M.endOffset-g.endOffset-C)}}catch(O){w={error:O}}finally{try{D&&!D.done&&(_=k.return)&&_.call(k)}finally{if(w)throw w.error}}g.endOffset=g.endContainer.nodeValue.length}var P=g.startContainer;do{if(!P||(d.Dom.isText(P)&&!p(P.parentNode)&&d.Dom.wrap(P,S.cloneNode(),x),P===g.endContainer))break;var j=P.firstChild||P.nextSibling;if(!j){for(;P&&!P.nextSibling&&P!==y;)P=P.parentNode;j=P==null?void 0:P.nextSibling}P=j}while(P&&P!==y)}},a.getSelectionWrappers=m,a.clearSelectionWrappers=function(g){m(g).forEach(function(v){return d.Dom.unwrap(v)})},a.clearSelectionWrappersFromHTML=function(g){return g.replace(RegExp("<span[^>]+".concat(f,"[^>]+>(.*?)</span>"),"g"),"$1")},a.isSelectionWrapper=p},59535:function(){},14889:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.search=void 0;var u=s(20255),d=s(64968),h=s(57549),f=s(43441),m=s(72235),p=s(40332),g=s(17332),v=s(73934);s(61975);var x=function(y){function b(){var w=y!==null&&y.apply(this,arguments)||this;return w.buttons=[{name:"find",group:"search"}],w.previousQuery="",w.drawPromise=null,w.walker=null,w.walkerCount=null,w.cache={},w.wrapFrameRequest=0,w}return u.__extends(b,y),Object.defineProperty(b.prototype,"ui",{get:function(){return new m.UISearch(this.j)},enumerable:!1,configurable:!0}),b.prototype.updateCounters=function(){return u.__awaiter(this,void 0,Promise,function(){var w;return u.__generator(this,function(_){switch(_.label){case 0:return this.ui.isOpened?(w=this.ui,[4,this.calcCounts(this.ui.query)]):[2];case 1:return w.count=_.sent(),[2]}})})},b.prototype.onPressReplaceButton=function(){this.findAndReplace(this.ui.query),this.updateCounters()},b.prototype.tryScrollToElement=function(w){var _=d.Dom.closest(w,d.Dom.isElement,this.j.editor);_||(_=d.Dom.prev(w,d.Dom.isElement,this.j.editor)),_&&_!==this.j.editor&&(0,p.scrollIntoViewIfNeeded)(_,this.j.editor,this.j.ed)},b.prototype.calcCounts=function(w){return u.__awaiter(this,void 0,Promise,function(){return u.__generator(this,function(_){switch(_.label){case 0:return[4,this.findQueryBounds(w,"walkerCount")];case 1:return[2,_.sent().length]}})})},b.prototype.findQueryBounds=function(w,_){return u.__awaiter(this,void 0,Promise,function(){var S;return u.__generator(this,function(E){return(S=this[_])&&S.break(),S=new d.LazyWalker(this.j.async,{timeout:this.j.o.search.lazyIdleTimeout}),this[_]=S,[2,this.find(S,w).catch(function(C){return[]})]})})},b.prototype.findAndReplace=function(w){return u.__awaiter(this,void 0,Promise,function(){var _,S,E,C,A;return u.__generator(this,function(T){switch(T.label){case 0:return[4,this.findQueryBounds(w,"walker")];case 1:if(!(_=T.sent()).length)return[2,!1];if((S=this.findCurrentIndexInRanges(_,this.j.s.range))===-1&&(S=0),!(E=_[S]))return[3,6];T.label=2;case 2:return T.trys.push([2,,4,5]),(C=this.j.ed.createRange()).setStart(E.startContainer,E.startOffset),C.setEnd(E.endContainer,E.endOffset),C.deleteContents(),A=this.j.createInside.text(this.ui.replace),d.Dom.safeInsertNode(C,A),(0,v.clearSelectionWrappers)(this.j.editor),this.j.s.setCursorAfter(A),this.tryScrollToElement(A),this.cache={},this.ui.currentIndex=S,[4,this.findAndSelect(w,!0).catch(function(k){return null})];case 3:return T.sent(),[3,5];case 4:return this.j.synchronizeValues(),[7];case 5:return this.j.e.fire("afterFindAndReplace"),[2,!0];case 6:return[2,!1]}})})},b.prototype.findAndSelect=function(w,_){var S;return u.__awaiter(this,void 0,Promise,function(){var E,C,A,T;return u.__generator(this,function(k){switch(k.label){case 0:return[4,this.findQueryBounds(w,"walker")];case 1:if(!(E=k.sent()).length)return[2,!1];if(this.previousQuery===w&&(0,v.getSelectionWrappers)(this.j.editor).length||((S=this.drawPromise)===null||S===void 0||S.rejectCallback(),this.j.async.cancelAnimationFrame(this.wrapFrameRequest),(0,v.clearSelectionWrappers)(this.j.editor),this.drawPromise=this.drawSelectionRanges(E)),this.previousQuery=w,this.ui.currentIndex=(C=(C=this.ui.currentIndex-1)==-1?0:_?C===E.length-1?0:C+1:C===0?E.length-1:C-1)+1,!(A=E[C]))return[3,4];T=this.j.ed.createRange();try{T.setStart(A.startContainer,A.startOffset),T.setEnd(A.endContainer,A.endOffset),this.j.s.selectRange(T)}catch{}return this.tryScrollToElement(A.startContainer),[4,this.updateCounters()];case 2:return k.sent(),[4,this.drawPromise];case 3:return k.sent(),this.j.e.fire("afterFindAndSelect"),[2,!0];case 4:return[2,!1]}})})},b.prototype.findCurrentIndexInRanges=function(w,_){return w.findIndex(function(S){return S.startContainer===_.startContainer&&S.startOffset===_.startOffset&&S.endContainer===_.startContainer&&S.endOffset===_.endOffset})},b.prototype.isValidCache=function(w){return u.__awaiter(this,void 0,Promise,function(){return u.__generator(this,function(_){switch(_.label){case 0:return[4,w];case 1:return[2,_.sent().every(function(S){var E,C,A,T;return S.startContainer.isConnected&&S.startOffset<=((C=(E=S.startContainer.nodeValue)===null||E===void 0?void 0:E.length)!==null&&C!==void 0?C:0)&&S.endContainer.isConnected&&S.endOffset<=((T=(A=S.endContainer.nodeValue)===null||A===void 0?void 0:A.length)!==null&&T!==void 0?T:0)})]}})})},b.prototype.find=function(w,_){return u.__awaiter(this,void 0,Promise,function(){var S,E,C=this;return u.__generator(this,function(A){switch(A.label){case 0:return _.length?(E=S=this.cache[_])?[4,this.isValidCache(S)]:[3,2]:[2,[]];case 1:E=A.sent(),A.label=2;case 2:return E?[2,S]:(this.cache[_]=this.j.async.promise(function(T){var k=new v.SentenceFinder(C.j.o.search.fuzzySearch);w.on("break",function(){T([])}).on("visit",function(D){return d.Dom.isText(D)&&k.add(D),!1}).on("end",function(){var D;T((D=k.ranges(_))!==null&&D!==void 0?D:[])}).setWork(C.j.editor)}),[2,this.cache[_]])}})})},b.prototype.drawSelectionRanges=function(w){var _=this,S=this.j,E=S.async,C=S.createInside,A=S.editor;E.cancelAnimationFrame(this.wrapFrameRequest);var T,k=u.__spreadArray([],u.__read(w),!1),D=0;return E.promise(function(M){var P=function(){do(T=k.shift())&&(0,v.wrapRangesTextsInTmpSpan)(T,k,C,A),D+=1;while(T&&5>=D);k.length?_.wrapFrameRequest=E.requestAnimationFrame(P):M()};P()})},b.prototype.onAfterGetValueFromEditor=function(w){w.value=(0,v.clearSelectionWrappersFromHTML)(w.value)},b.prototype.afterInit=function(w){var _=this;if(w.o.useSearch){var S=this;w.e.on("beforeSetMode.search",function(){_.ui.close()}).on(this.ui,"afterClose",function(){(0,v.clearSelectionWrappers)(w.editor),_.ui.currentIndex=0,_.ui.count=0,_.cache={}}).on("click",function(){_.ui.currentIndex=0,(0,v.clearSelectionWrappers)(w.editor)}).on("change.search",function(){_.cache={}}).on("keydown.search mousedown.search",w.async.debounce(function(){_.ui.selInfo&&(w.s.removeMarkers(),_.ui.selInfo=null),_.ui.isOpened&&_.updateCounters()},w.defaultTimeout)).on("searchNext.search searchPrevious.search",function(){return _.ui.isOpened||_.ui.open(),S.findAndSelect(S.ui.query,w.e.current==="searchNext").catch(function(E){})}).on("search.search",function(E,C){return C===void 0&&(C=!0),_.ui.currentIndex=0,S.findAndSelect(E||"",C).catch(function(A){})}),w.registerCommand("search",{exec:function(E,C,A){return A===void 0&&(A=!0),C&&S.findAndSelect(C,A).catch(function(T){}),!1}}).registerCommand("openSearchDialog",{exec:function(E,C){return S.ui.open(C),!1},hotkeys:["ctrl+f","cmd+f"]}).registerCommand("openReplaceDialog",{exec:function(E,C,A){return w.o.readonly||S.ui.open(C,A,!0),!1},hotkeys:["ctrl+h","cmd+h"]})}},b.prototype.beforeDestruct=function(w){this.ui.destruct(),w.e.off(".search")},u.__decorate([f.cache],b.prototype,"ui",null),u.__decorate([(0,f.watch)("ui:needUpdateCounters")],b.prototype,"updateCounters",null),u.__decorate([(0,f.watch)("ui:pressReplaceButton")],b.prototype,"onPressReplaceButton",null),u.__decorate([f.autobind],b.prototype,"findQueryBounds",null),u.__decorate([f.autobind],b.prototype,"findAndReplace",null),u.__decorate([f.autobind],b.prototype,"findAndSelect",null),u.__decorate([f.autobind],b.prototype,"find",null),u.__decorate([(0,f.watch)(":afterGetValueFromEditor")],b.prototype,"onAfterGetValueFromEditor",null),b}(h.Plugin);a.search=x,g.pluginSystem.add("search",x)},72235:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UISearch=void 0;var u=s(20255);s(88582);var d=s(2074),h=s(40332),f=s(86893),m=s(86893),p=s(43441),g=s(64968),v=function(x){function y(b){var w=x.call(this,b)||this;w.selInfo=null,w._currentIndex=0,w.isOpened=!1;var _=(0,h.refs)(w.container),S=_.replace,E=_.cancel,C=_.next,A=_.prev,T=_.replaceBtn,k=_.current,D=_.count;return w.queryInput=_.query,w.replaceInput=S,w.closeButton=E,w.replaceButton=T,w.currentBox=k,w.countBox=D,b.e.on(w.closeButton,"pointerdown",function(){return w.close(),!1}).on(w.queryInput,"input",function(){w.currentIndex=0}).on(w.queryInput,"pointerdown",function(){b.s.isFocused()&&(b.s.removeMarkers(),w.selInfo=b.s.save())}).on(w.replaceButton,"pointerdown",function(){return b.e.fire(w,"pressReplaceButton"),!1}).on(C,"pointerdown",function(){return b.e.fire("searchNext"),!1}).on(A,"pointerdown",function(){return b.e.fire("searchPrevious"),!1}).on(w.queryInput,"input",function(){w.setMod("empty-query",!(0,h.trim)(w.queryInput.value).length)}).on(w.queryInput,"keydown",w.j.async.debounce(function(M){M.key===m.KEY_ENTER?(M.preventDefault(),M.stopImmediatePropagation(),b.e.fire("searchNext")&&w.close()):b.e.fire(w,"needUpdateCounters")},w.j.defaultTimeout)),w}return u.__extends(y,x),y.prototype.className=function(){return"UISearch"},y.prototype.render=function(){return`<div>
			<div class="&__box">
				<div class="&__inputs">
					<input data-ref="query" tabindex="0" placeholder="~Search for~" type="text"/>
					<input data-ref="replace" tabindex="0" placeholder="~Replace with~" type="text"/>
				</div>
				<div class="&__counts">
					<span data-ref="counter-box">
						<span data-ref="current">0</span><span>/</span><span data-ref="count">0</span>
					</span>
				</div>
				<div class="&__buttons">
					<button data-ref="next" tabindex="0" type="button">`.concat(d.Icon.get("angle-down"),`</button>
					<button data-ref="prev" tabindex="0" type="button">`).concat(d.Icon.get("angle-up"),`</button>
					<button data-ref="cancel" tabindex="0" type="button">`).concat(d.Icon.get("cancel"),`</button>
					<button data-ref="replace-btn" tabindex="0" type="button" class="jodit-ui-button">~Replace~</button>
				</div>
			</div>
		</div>`)},Object.defineProperty(y.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(b){this._currentIndex=b,this.currentBox.innerText=b.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"count",{set:function(b){this.countBox.innerText=b.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"query",{get:function(){return this.queryInput.value},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"replace",{get:function(){return this.replaceInput.value},enumerable:!1,configurable:!0}),y.prototype.onEditorKeyDown=function(b){if(this.isOpened){var w=this.j;if(w.getRealMode()===f.MODE_WYSIWYG)switch(b.key){case m.KEY_ESC:this.close();break;case m.KEY_F3:this.queryInput.value&&(w.e.fire(b.shiftKey?"searchPrevious":"searchNext"),b.preventDefault())}}},y.prototype.open=function(b,w,_){_===void 0&&(_=!1),this.isOpened||(this.j.workplace.appendChild(this.container),this.isOpened=!0),this.calcSticky(this.j.e.fire("getStickyState.sticky")||!1),this.j.e.fire("hidePopup"),this.setMod("replace",_);var S=b??(this.j.s.sel||"").toString();S&&(this.queryInput.value=S),w&&(this.replaceInput.value=w),this.setMod("empty-query",!S.length),this.j.e.fire(this,"needUpdateCounters"),S?this.queryInput.select():this.queryInput.focus()},y.prototype.close=function(){this.isOpened&&(this.j.s.restore(),g.Dom.safeRemove(this.container),this.isOpened=!1,this.j.e.fire(this,"afterClose"))},y.prototype.calcSticky=function(b){if(this.isOpened)if(this.setMod("sticky",b),b){var w=(0,h.position)(this.j.toolbarContainer);(0,h.css)(this.container,{top:w.top+w.height,left:w.left+w.width})}else(0,h.css)(this.container,{top:null,left:null})},u.__decorate([(0,p.watch)([":keydown","queryInput:keydown"])],y.prototype,"onEditorKeyDown",null),u.__decorate([p.autobind],y.prototype,"open",null),u.__decorate([p.autobind],y.prototype,"close",null),u.__decorate([(0,p.watch)(":toggleSticky")],y.prototype,"calcSticky",null),u.__decorate([p.component],y)}(d.UIElement);a.UISearch=v},14189:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.tableAllowCellSelection=!0},37458:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.selectCells=void 0;var u=s(20255),d=s(57549),h=s(87837),f=s(24263),m=s(40332),p=s(86893),g=s(43441),v=s(17332);s(14189);var x="table_processor_observer",y="onMoveTableSelectCell",b=function(w){function _(){var S=w!==null&&w.apply(this,arguments)||this;return S.requires=["select"],S.selectedCell=null,S.isSelectionMode=!1,S}return u.__extends(_,w),Object.defineProperty(_.prototype,"module",{get:function(){return this.j.getInstance("Table",this.j.o)},enumerable:!1,configurable:!0}),_.prototype.afterInit=function(S){var E=this;S.o.tableAllowCellSelection&&S.e.on("keydown.select-cells",function(C){C.key===p.KEY_TAB&&E.unselectCells()}).on("beforeCommand.select-cells",this.onExecCommand).on("afterCommand.select-cells",this.onAfterCommand).on(["clickEditor","mousedownTd","mousedownTh","touchstartTd","touchstartTh"].map(function(C){return C+".select-cells"}).join(" "),this.onStartSelection).on("clickTr clickTbody",function(){var C,A=E.module.getAllSelectedCells().length;if(A)return A>1&&((C=E.j.s.sel)===null||C===void 0||C.removeAllRanges()),!1})},_.prototype.onStartSelection=function(S){if(!this.j.o.readonly&&(this.unselectCells(),S!==this.j.editor)){var E=f.Dom.closest(S,"table",this.j.editor);if(S&&E)return S.firstChild||S.appendChild(this.j.createInside.element("br")),this.isSelectionMode=!0,this.selectedCell=S,this.module.addSelection(S),this.j.e.on(E,"mousemove.select-cells touchmove.select-cells",this.j.async.throttle(this.onMove.bind(this,E),{label:y,timeout:this.j.defaultTimeout/2})).on(E,"mouseup.select-cells touchend.select-cells",this.onStopSelection.bind(this,E)),!1}},_.prototype.onOutsideClick=function(){this.selectedCell=null,this.onRemoveSelection()},_.prototype.onChange=function(){this.j.isLocked||this.isSelectionMode||this.onRemoveSelection()},_.prototype.onMove=function(S,E){var C,A=this;if((!this.j.o.readonly||this.j.isLocked)&&!this.j.isLockedNotBy(x)){var T=this.j.ed.elementFromPoint(E.clientX,E.clientY);if(T){var k=f.Dom.closest(T,["td","th"],S);if(k&&this.selectedCell){k!==this.selectedCell&&this.j.lock(x),this.unselectCells();for(var D=h.Table.getSelectedBound(S,[k,this.selectedCell]),M=h.Table.formalMatrix(S),P=D[0][0];D[1][0]>=P;P+=1)for(var j=D[0][1];D[1][1]>=j;j+=1)this.module.addSelection(M[P][j]);var O;this.module.getAllSelectedCells().length>1&&((C=this.j.s.sel)===null||C===void 0||C.removeAllRanges()),this.j.e.fire("hidePopup"),E.stopPropagation(),O=A.j.createInside.fromHTML('<div style="color:rgba(0,0,0,0.01);width:0;height:0">&nbsp;</div>'),k.appendChild(O),A.j.async.setTimeout(function(){var I;(I=O.parentNode)===null||I===void 0||I.removeChild(O)},A.j.defaultTimeout/5)}}}},_.prototype.onRemoveSelection=function(S){var E;if(!(!((E=S==null?void 0:S.buffer)===null||E===void 0)&&E.actionTrigger)&&!this.selectedCell&&this.module.getAllSelectedCells().length)return this.j.unlock(),this.unselectCells(),void this.j.e.fire("hidePopup","cells");this.isSelectionMode=!1,this.selectedCell=null},_.prototype.onStopSelection=function(S,E){var C=this;if(this.selectedCell){this.isSelectionMode=!1,this.j.unlock();var A=this.j.ed.elementFromPoint(E.clientX,E.clientY);if(A){var T=f.Dom.closest(A,["td","th"],S);if(T){var k=f.Dom.closest(T,"table",S);if(!k||k===S){var D=h.Table.getSelectedBound(S,[T,this.selectedCell]),M=h.Table.formalMatrix(S),P=M[D[1][0]][D[1][1]],j=M[D[0][0]][D[0][1]];this.j.e.fire("showPopup",S,function(){var O=(0,m.position)(j,C.j),I=(0,m.position)(P,C.j);return{left:O.left,top:O.top,width:I.left-O.left+I.width,height:I.top-O.top+I.height}},"cells"),(0,m.$$)("table",this.j.editor).forEach(function(O){C.j.e.off(O,"mousemove.select-cells touchmove.select-cells mouseup.select-cells touchend.select-cells")}),this.j.async.clearTimeout(y)}}}}},_.prototype.unselectCells=function(S){var E=this.module,C=E.getAllSelectedCells();C.length&&C.forEach(function(A){S&&S===A||E.removeSelection(A)})},_.prototype.onExecCommand=function(S){if(/table(splitv|splitg|merge|empty|bin|binrow|bincolumn|addcolumn|addrow)/.test(S)){S=S.replace("table","");var E=this.module.getAllSelectedCells();if(E.length){var C=u.__read(E,1)[0];if(!C)return;var A=f.Dom.closest(C,"table",this.j.editor);if(!A)return;switch(S){case"splitv":h.Table.splitVertical(A,this.j);break;case"splitg":h.Table.splitHorizontal(A,this.j);break;case"merge":h.Table.mergeSelected(A,this.j);break;case"empty":E.forEach(function(k){return f.Dom.detach(k)});break;case"bin":f.Dom.safeRemove(A);break;case"binrow":new Set(E.map(function(k){return k.parentNode})).forEach(function(k){h.Table.removeRow(A,k.rowIndex)});break;case"bincolumn":var T=new Set;E.reduce(function(k,D){return T.has(D.cellIndex)||(k.push(D),T.add(D.cellIndex)),k},[]).forEach(function(k){h.Table.removeColumn(A,k.cellIndex)});break;case"addcolumnafter":case"addcolumnbefore":h.Table.appendColumn(A,C.cellIndex,S==="addcolumnafter",this.j.createInside);break;case"addrowafter":case"addrowbefore":h.Table.appendRow(A,C.parentNode,S==="addrowafter",this.j.createInside)}}return!1}},_.prototype.onAfterCommand=function(S){/^justify/.test(S)&&this.module.getAllSelectedCells().forEach(function(E){return(0,m.alignElement)(S,E)})},_.prototype.beforeDestruct=function(S){this.onRemoveSelection(),S.e.off(".select-cells")},u.__decorate([g.autobind],_.prototype,"onStartSelection",null),u.__decorate([(0,g.watch)(":outsideClick")],_.prototype,"onOutsideClick",null),u.__decorate([(0,g.watch)(":change")],_.prototype,"onChange",null),u.__decorate([g.autobind],_.prototype,"onRemoveSelection",null),u.__decorate([g.autobind],_.prototype,"onStopSelection",null),u.__decorate([g.autobind],_.prototype,"onExecCommand",null),u.__decorate([g.autobind],_.prototype,"onAfterCommand",null),_}(d.Plugin);a.selectCells=b,v.pluginSystem.add("selectCells",b)},33100:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.select={normalizeSelectionBeforeCutAndCopy:!1}},95323:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.select=void 0;var u=s(20255),d=s(57549),h=s(43441),f=s(26596),m=s(24263),p=s(2074),g=s(17332);s(33100);var v=function(x){function y(){var b=x!==null&&x.apply(this,arguments)||this;return b.proxyEventsList=["click","mousedown","touchstart","mouseup","touchend"],b}return u.__extends(y,x),y.prototype.afterInit=function(b){var w=this;this.proxyEventsList.forEach(function(_){b.e.on(_+".select",w.onStartSelection)})},y.prototype.beforeDestruct=function(b){var w=this;this.proxyEventsList.forEach(function(_){b.e.on(_+".select",w.onStartSelection)})},y.prototype.onStartSelection=function(b){for(var w,_=this.j,S=b.target;w===void 0&&S&&S!==_.editor;)w=_.e.fire((0,f.camelCase)(b.type+"_"+S.nodeName.toLowerCase()),S,b),S=S.parentElement;b.type==="click"&&w===void 0&&S===_.editor&&_.e.fire(b.type+"Editor",S,b)},y.prototype.onOutsideClick=function(b){var w=this,_=b.target;m.Dom.up(_,function(S){return S===w.j.editor})||p.UIElement.closestElement(_,p.Popup)||this.j.e.fire("outsideClick",b)},y.prototype.beforeCommandCut=function(b){var w=this.j.s;if(b==="cut"&&!w.isCollapsed()){var _=w.current();_&&m.Dom.isOrContains(this.j.editor,_)&&this.onCopyNormalizeSelectionBound()}},y.prototype.onCopyNormalizeSelectionBound=function(b){var w=this.j,_=w.editor;w.o.select.normalizeSelectionBeforeCutAndCopy&&!w.s.isCollapsed()&&(!b||b.isTrusted&&m.Dom.isNode(b.target)&&m.Dom.isOrContains(_,b.target))&&this.jodit.s.expandSelection()},u.__decorate([h.autobind],y.prototype,"onStartSelection",null),u.__decorate([(0,h.watch)("ow:click")],y.prototype,"onOutsideClick",null),u.__decorate([(0,h.watch)([":beforeCommand"])],y.prototype,"beforeCommandCut",null),u.__decorate([(0,h.watch)([":copy",":cut"])],y.prototype,"onCopyNormalizeSelectionBound",null),y}(d.Plugin);a.select=v,g.pluginSystem.add("select",v)},53387:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.minWidth=200,u.Config.prototype.maxWidth="100%",u.Config.prototype.minHeight=200,u.Config.prototype.maxHeight="auto",u.Config.prototype.saveHeightInStorage=!1},71003:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.size=void 0;var u=s(20255);s(30962);var d=s(61817),h=s(26911),f=s(85605),m=s(43441),p=s(17332);s(53387);var g=function(v){function x(){var y=v!==null&&v.apply(this,arguments)||this;return y.__resizeWorkspaces=y.j.async.debounce(y.__resizeWorkspaceImd,y.j.defaultTimeout,!0),y}return u.__extends(x,v),x.prototype.afterInit=function(y){y.e.on("setHeight.size",this.__setHeight).on("setWidth.size",this.__setWidth).on("afterInit.size changePlace.size",this.__initialize,{top:!0}).on(y.ow,"load.size",this.__resizeWorkspaces).on("afterInit.size resize.size afterUpdateToolbar.size scroll.size afterResize.size",this.__resizeWorkspaces).on("toggleFullSize.size toggleToolbar.size",this.__resizeWorkspaceImd),this.__initialize()},x.prototype.__initialize=function(){var y=this.j;if(!y.o.inline){var b=y.o.height;if(y.o.saveHeightInStorage&&b!=="auto"){var w=y.storage.get("height");w&&(b=w)}(0,h.css)(y.editor,{minHeight:"100%"}),(0,h.css)(y.container,{minHeight:y.o.minHeight,maxHeight:y.o.maxHeight,minWidth:y.o.minWidth,maxWidth:y.o.maxWidth}),this.__setHeight(b),this.__setWidth(y.o.width)}},x.prototype.__setHeight=function(y){if((0,d.isNumber)(y)){var b=this.j.o,w=b.minHeight,_=b.maxHeight;(0,d.isNumber)(w)&&w>y&&(y=w),(0,d.isNumber)(_)&&y>_&&(y=_)}(0,h.css)(this.j.container,"height",y),this.j.o.saveHeightInStorage&&this.j.storage.set("height",y),this.__resizeWorkspaceImd()},x.prototype.__setWidth=function(y){if((0,d.isNumber)(y)){var b=this.j.o,w=b.minWidth,_=b.maxWidth;(0,d.isNumber)(w)&&w>y&&(y=w),(0,d.isNumber)(_)&&y>_&&(y=_)}(0,h.css)(this.j.container,"width",y),this.__resizeWorkspaceImd()},x.prototype.__getNotWorkHeight=function(){var y,b;return(((y=this.j.toolbarContainer)===null||y===void 0?void 0:y.offsetHeight)||0)+(((b=this.j.statusbar)===null||b===void 0?void 0:b.getHeight())||0)+2},x.prototype.__resizeWorkspaceImd=function(){if(this.j&&!this.j.isDestructed&&this.j.o&&!this.j.o.inline&&this.j.container&&this.j.container.parentNode){var y=((0,h.css)(this.j.container,"minHeight")||0)-this.__getNotWorkHeight();if((0,d.isNumber)(y)&&y>0&&([this.j.workplace,this.j.iframe,this.j.editor].map(function(w){w&&(0,h.css)(w,"minHeight",y)}),this.j.e.fire("setMinHeight",y)),(0,d.isNumber)(this.j.o.maxHeight)){var b=this.j.o.maxHeight-this.__getNotWorkHeight();[this.j.workplace,this.j.iframe,this.j.editor].map(function(w){w&&(0,h.css)(w,"maxHeight",b)}),this.j.e.fire("setMaxHeight",b)}this.j.container&&(0,h.css)(this.j.workplace,"height",this.j.o.height!=="auto"||this.j.isFullSize?this.j.container.offsetHeight-this.__getNotWorkHeight():"auto")}},x.prototype.beforeDestruct=function(y){y.e.off(y.ow,"load.size",this.__resizeWorkspaces).off(".size")},u.__decorate([(0,m.throttle)()],x.prototype,"__initialize",null),u.__decorate([m.autobind],x.prototype,"__resizeWorkspaceImd",null),u.__decorate([m.autobind],x)}(f.Plugin);a.size=g,p.pluginSystem.add("size",g)},13985:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(86893),h=s(77904);u.Config.prototype.beautifyHTML=!d.IS_IE,u.Config.prototype.sourceEditor="ace",u.Config.prototype.sourceEditorNativeOptions={showGutter:!0,theme:"ace/theme/idle_fingers",mode:"ace/mode/html",wrap:!0,highlightActiveLine:!0},u.Config.prototype.sourceEditorCDNUrlsJS=["https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.2/ace.js"],u.Config.prototype.beautifyHTMLCDNUrlsJS=["https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.4/beautify.min.js","https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.4/beautify-html.min.js"],h.Icon.set("source",s(9342)),u.Config.prototype.controls.source={mode:d.MODE_SPLIT,exec:function(f){f.toggleMode()},isActive:function(f){return f.getRealMode()===d.MODE_SOURCE},tooltip:"Change mode"}},34186:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.AceEditor=void 0;var u=s(20255),d=s(86893),h=s(40332),f=function(m){function p(){var g=m!==null&&m.apply(this,arguments)||this;return g.className="jodit_ace_editor",g.proxyOnBlur=function(v){g.j.e.fire("blur",v)},g.proxyOnFocus=function(v){g.j.e.fire("focus",v)},g.proxyOnMouseDown=function(v){g.j.e.fire("mousedown",v)},g}return u.__extends(p,m),p.prototype.aceExists=function(){return this.j.ow.ace!==void 0},p.prototype.getLastColumnIndex=function(g){return this.instance.session.getLine(g).length},p.prototype.getLastColumnIndices=function(){for(var g=this.instance.session.getLength(),v=[],x=0,y=0;g>y;y++)x+=this.getLastColumnIndex(y),y>0&&(x+=1),v[y]=x;return v},p.prototype.getRowColumnIndices=function(g){var v=this.getLastColumnIndices();if(v[0]>=g)return{row:0,column:g};for(var x=1,y=1;v.length>y;y++)g>v[y]&&(x=y+1);return{row:x,column:g-v[x-1]-1}},p.prototype.setSelectionRangeIndices=function(g,v){var x=this.getRowColumnIndices(g),y=this.getRowColumnIndices(v);this.instance.getSelection().setSelectionRange({start:x,end:y})},p.prototype.getIndexByRowColumn=function(g,v){return this.getLastColumnIndices()[g]-this.getLastColumnIndex(g)+v},p.prototype.init=function(g){var v=this,x=function(){if(v.instance===void 0&&v.aceExists()){var y=v.j.c.div("jodit-source__mirror-fake");v.container.appendChild(y),v.instance=g.ow.ace.edit(y),v.instance.setTheme(g.o.sourceEditorNativeOptions.theme),v.instance.renderer.setShowGutter(g.o.sourceEditorNativeOptions.showGutter),v.instance.getSession().setMode(g.o.sourceEditorNativeOptions.mode),v.instance.setHighlightActiveLine(g.o.sourceEditorNativeOptions.highlightActiveLine),v.instance.getSession().setUseWrapMode(!0),v.instance.setOption("indentedSoftWrap",!1),v.instance.setOption("wrap",g.o.sourceEditorNativeOptions.wrap),v.instance.getSession().setUseWorker(!1),v.instance.$blockScrolling=1/0,v.instance.on("change",v.toWYSIWYG),v.instance.on("focus",v.proxyOnFocus),v.instance.on("mousedown",v.proxyOnMouseDown),v.instance.on("blur",v.proxyOnBlur),g.getRealMode()!==d.MODE_WYSIWYG&&v.setValue(v.getValue());var b=v.j.async.debounce(function(){g.isInDestruct||(v.instance.setOption("maxLines",g.o.height!=="auto"?g.workplace.offsetHeight/v.instance.renderer.lineHeight:1/0),v.instance.resize())},2*v.j.defaultTimeout);g.e.on("afterResize afterSetMode",b),b(),v.onReady()}};g.e.on("afterSetMode",function(){g.getRealMode()!==d.MODE_SOURCE&&g.getMode()!==d.MODE_SPLIT||(v.fromWYSIWYG(),x())}),x(),this.aceExists()||(0,h.loadNext)(g,g.o.sourceEditorCDNUrlsJS).then(function(){g.isInDestruct||x()}).catch(function(){return null})},p.prototype.destruct=function(){var g,v;this.instance.off("change",this.toWYSIWYG),this.instance.off("focus",this.proxyOnFocus),this.instance.off("mousedown",this.proxyOnMouseDown),this.instance.destroy(),(v=(g=this.j)===null||g===void 0?void 0:g.events)===null||v===void 0||v.off("aceInited.source")},p.prototype.setValue=function(g){if(!this.j.o.editHTMLDocumentMode&&this.j.o.beautifyHTML){var v=this.j.e.fire("beautifyHTML",g);(0,h.isString)(v)&&(g=v)}this.instance.setValue(g),this.instance.clearSelection()},p.prototype.getValue=function(){return this.instance.getValue()},p.prototype.setReadOnly=function(g){this.instance.setReadOnly(g)},Object.defineProperty(p.prototype,"isFocused",{get:function(){return this.instance.isFocused()},enumerable:!1,configurable:!0}),p.prototype.focus=function(){this.instance.focus()},p.prototype.blur=function(){this.instance.blur()},p.prototype.getSelectionStart=function(){var g=this.instance.selection.getRange();return this.getIndexByRowColumn(g.start.row,g.start.column)},p.prototype.getSelectionEnd=function(){var g=this.instance.selection.getRange();return this.getIndexByRowColumn(g.end.row,g.end.column)},p.prototype.selectAll=function(){this.instance.selection.selectAll()},p.prototype.insertRaw=function(g){var v=this.instance.selection.getCursor(),x=this.instance.session.insert(v,g);this.instance.selection.setRange({start:v,end:x},!1)},p.prototype.setSelectionRange=function(g,v){this.setSelectionRangeIndices(g,v)},p.prototype.setPlaceHolder=function(g){},p.prototype.replaceUndoManager=function(){var g=this.jodit.history;this.instance.commands.addCommand({name:"Undo",bindKey:{win:"Ctrl-Z",mac:"Command-Z"},exec:function(){g.undo()}}),this.instance.commands.addCommand({name:"Redo",bindKey:{win:"Ctrl-Shift-Z",mac:"Command-Shift-Z"},exec:function(){g.redo()}})},p}(s(36729).SourceEditor);a.AceEditor=f},58633:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.TextAreaEditor=void 0;var u=s(20255),d=s(26911),h=s(24263),f=function(m){function p(){var g=m!==null&&m.apply(this,arguments)||this;return g.autosize=g.j.async.debounce(function(){g.instance.style.height="auto",g.instance.style.height=g.instance.scrollHeight+"px"},g.j.defaultTimeout),g}return u.__extends(p,m),p.prototype.init=function(g){var v=this;this.instance=g.c.element("textarea",{class:"jodit-source__mirror"}),this.container.appendChild(this.instance),g.e.on(this.instance,"mousedown keydown touchstart input",g.async.debounce(this.toWYSIWYG,g.defaultTimeout)).on("setMinHeight.source",function(x){(0,d.css)(v.instance,"minHeight",x)}).on(this.instance,"change keydown mousedown touchstart input",this.autosize).on("afterSetMode.source",this.autosize).on(this.instance,"mousedown focus",function(x){g.e.fire(x.type,x)}),this.autosize(),this.onReady()},p.prototype.destruct=function(){h.Dom.safeRemove(this.instance)},p.prototype.getValue=function(){return this.instance.value},p.prototype.setValue=function(g){this.instance.value=g},p.prototype.insertRaw=function(g){var v=this.getValue();if(0>this.getSelectionStart())this.setValue(v+g);else{var x=this.getSelectionStart(),y=this.getSelectionEnd();this.setValue(v.substring(0,x)+g+v.substring(y,v.length))}},p.prototype.getSelectionStart=function(){return this.instance.selectionStart},p.prototype.getSelectionEnd=function(){return this.instance.selectionEnd},p.prototype.setSelectionRange=function(g,v){v===void 0&&(v=g),this.instance.setSelectionRange(g,v)},Object.defineProperty(p.prototype,"isFocused",{get:function(){return this.instance===this.j.od.activeElement},enumerable:!1,configurable:!0}),p.prototype.focus=function(){this.instance.focus()},p.prototype.blur=function(){this.instance.blur()},p.prototype.setPlaceHolder=function(g){this.instance.setAttribute("placeholder",g)},p.prototype.setReadOnly=function(g){g?this.instance.setAttribute("readonly","true"):this.instance.removeAttribute("readonly")},p.prototype.selectAll=function(){this.instance.select()},p.prototype.replaceUndoManager=function(){var g=this,v=this.jodit.history;this.j.e.on(this.instance,"keydown",function(x){if((x.ctrlKey||x.metaKey)&&x.key==="z")return x.shiftKey?v.redo():v.undo(),g.setSelectionRange(g.getValue().length),!1})},p}(s(36729).SourceEditor);a.TextAreaEditor=f},52834:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(58633),a),u.__exportStar(s(34186),a)},94785:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.createSourceEditor=void 0;var u=s(40332),d=s(52834);a.createSourceEditor=function(h,f,m,p,g){var v;if((0,u.isFunction)(h))v=h(f);else switch(h){case"ace":if(!f.o.shadowRoot){v=new d.AceEditor(f,m,p,g);break}default:v=new d.TextAreaEditor(f,m,p,g)}return v.init(f),v.onReadyAlways(function(){v.setReadOnly(f.o.readonly)}),v}},36729:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.SourceEditor=void 0;var s=function(){function u(d,h,f,m){this.jodit=d,this.container=h,this.toWYSIWYG=f,this.fromWYSIWYG=m,this.className="",this.isReady=!1}return Object.defineProperty(u.prototype,"j",{get:function(){return this.jodit},enumerable:!1,configurable:!0}),u.prototype.onReady=function(){this.replaceUndoManager(),this.isReady=!0,this.j.e.fire(this,"ready")},u.prototype.onReadyAlways=function(d){var h;this.isReady?d():(h=this.j.events)===null||h===void 0||h.on(this,"ready",d)},u}();a.SourceEditor=s},86030:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.source=void 0;var u=s(20255);s(68197);var d=s(86893),h=s(86893),f=s(57549),m=s(24263),p=s(40332),g=s(43441),v=s(17332),x=s(94785);s(13985);var y=function(b){function w(){var _=b!==null&&b.apply(this,arguments)||this;return _.buttons=[{name:"source",group:"source"}],_.__lock=!1,_.__oldMirrorValue="",_.tempMarkerStart="{start-jodit-selection}",_.tempMarkerStartReg=/{start-jodit-selection}/g,_.tempMarkerEnd="{end-jodit-selection}",_.tempMarkerEndReg=/{end-jodit-selection}/g,_.getSelectionStart=function(){var S,E;return(E=(S=_.sourceEditor)===null||S===void 0?void 0:S.getSelectionStart())!==null&&E!==void 0?E:0},_.getSelectionEnd=function(){var S,E;return(E=(S=_.sourceEditor)===null||S===void 0?void 0:S.getSelectionEnd())!==null&&E!==void 0?E:0},_}return u.__extends(w,b),w.prototype.onInsertHTML=function(_){var S;if(!this.j.o.readonly&&!this.j.isEditorMode())return(S=this.sourceEditor)===null||S===void 0||S.insertRaw(_),this.toWYSIWYG(),!1},w.prototype.fromWYSIWYG=function(_){if(_===void 0&&(_=!1),!this.__lock||_===!0){this.__lock=!0;var S=this.j.getEditorValue(!1,h.SOURCE_CONSUMER);S!==this.getMirrorValue()&&this.setMirrorValue(S),this.__lock=!1}},w.prototype.toWYSIWYG=function(){if(!this.__lock){var _=this.getMirrorValue();_!==this.__oldMirrorValue&&(this.__lock=!0,this.j.value=_,this.__lock=!1,this.__oldMirrorValue=_)}},w.prototype.getNormalPosition=function(_,S){for(S=S.replace(/<(script|style|iframe)[^>]*>[^]*?<\/\1>/im,function(C){for(var A="",T=0;C.length>T;T+=1)A+=h.INVISIBLE_SPACE;return A});_>0&&S[_]===h.INVISIBLE_SPACE;)_--;for(var E=_;E>0;){if(S[--E]==="<"&&S[E+1]!==void 0&&S[E+1].match(/[\w/]+/i))return E;if(S[E]===">")return _}return _},w.prototype.clnInv=function(_){return _.replace(d.INVISIBLE_SPACE_REG_EXP(),"")},w.prototype.onSelectAll=function(_){var S;if(_.toLowerCase()==="selectall"&&this.j.getRealMode()===h.MODE_SOURCE)return(S=this.sourceEditor)===null||S===void 0||S.selectAll(),!1},w.prototype.getMirrorValue=function(){var _;return((_=this.sourceEditor)===null||_===void 0?void 0:_.getValue())||""},w.prototype.setMirrorValue=function(_){var S;(S=this.sourceEditor)===null||S===void 0||S.setValue(_)},w.prototype.setFocusToMirror=function(){var _;(_=this.sourceEditor)===null||_===void 0||_.focus()},w.prototype.saveSelection=function(){if(this.j.getRealMode()===d.MODE_WYSIWYG)this.j.s.save(),this.j.synchronizeValues(),this.fromWYSIWYG(!0);else{if(this.j.o.editHTMLDocumentMode)return;var _=this.getMirrorValue();if(this.getSelectionStart()===this.getSelectionEnd()){var S=this.j.s.marker(!0),E=this.getNormalPosition(this.getSelectionStart(),this.getMirrorValue());this.setMirrorValue(_.substring(0,E)+this.clnInv(S.outerHTML)+_.substring(E))}else{var C=this.j.s.marker(!0),A=this.j.s.marker(!1),T=(E=this.getNormalPosition(this.getSelectionStart(),_),this.getNormalPosition(this.getSelectionEnd(),_));this.setMirrorValue(_.substring(0,E)+this.clnInv(C.outerHTML)+_.substring(E,T-E)+this.clnInv(A.outerHTML)+_.substring(T))}this.toWYSIWYG()}},w.prototype.removeSelection=function(){if(this.j.getRealMode()===d.MODE_WYSIWYG)return this.__lock=!0,this.j.s.restore(),void(this.__lock=!1);var _=this.getMirrorValue(),S=0,E=0;try{if(_=_.replace(/<span[^>]+data-jodit-selection_marker=(["'])start\1[^>]*>[<>]*?<\/span>/gim,this.tempMarkerStart).replace(/<span[^>]+data-jodit-selection_marker=(["'])end\1[^>]*>[<>]*?<\/span>/gim,this.tempMarkerEnd),!this.j.o.editHTMLDocumentMode&&this.j.o.beautifyHTML){var C=this.j.e.fire("beautifyHTML",_);(0,p.isString)(C)&&(_=C)}if(E=S=_.indexOf(this.tempMarkerStart),_=_.replace(this.tempMarkerStartReg,""),S!==-1){var A=_.indexOf(this.tempMarkerEnd);A!==-1&&(E=A)}_=_.replace(this.tempMarkerEndReg,"")}finally{_=_.replace(this.tempMarkerEndReg,"").replace(this.tempMarkerStartReg,"")}this.setMirrorValue(_),this.setMirrorSelectionRange(S,E),this.toWYSIWYG(),this.setFocusToMirror()},w.prototype.setMirrorSelectionRange=function(_,S){var E;(E=this.sourceEditor)===null||E===void 0||E.setSelectionRange(_,S)},w.prototype.onReadonlyReact=function(){var _;(_=this.sourceEditor)===null||_===void 0||_.setReadOnly(this.j.o.readonly)},w.prototype.afterInit=function(_){var S=this;if(this.mirrorContainer=_.c.div("jodit-source"),_.workplace.appendChild(this.mirrorContainer),_.e.on("afterAddPlace changePlace afterInit",function(){_.workplace.appendChild(S.mirrorContainer)}),this.sourceEditor=(0,x.createSourceEditor)("area",_,this.mirrorContainer,this.toWYSIWYG,this.fromWYSIWYG),_.e.on(_.ow,"keydown",function(C){var A;C.key===h.KEY_ESC&&(!((A=S.sourceEditor)===null||A===void 0)&&A.isFocused)&&S.sourceEditor.blur()}),this.onReadonlyReact(),_.e.on("placeholder.source",function(C){var A;(A=S.sourceEditor)===null||A===void 0||A.setPlaceHolder(C)}).on("change.source",this.syncValueFromWYSIWYG).on("beautifyHTML",function(C){return C}),_.o.beautifyHTML){var E=function(){var C,A=_.ow.html_beautify;return!(!A||_.isInDestruct||((C=_.events)===null||C===void 0||C.off("beautifyHTML").on("beautifyHTML",function(T){return A(T)}),0))};E()||(0,p.loadNext)(_,_.o.beautifyHTMLCDNUrlsJS).then(E)}this.syncValueFromWYSIWYG(!0),this.initSourceEditor(_)},w.prototype.syncValueFromWYSIWYG=function(_){_===void 0&&(_=!1);var S=this.j;S.getMode()!==h.MODE_SPLIT&&S.getMode()!==h.MODE_SOURCE||this.fromWYSIWYG(_)},w.prototype.initSourceEditor=function(_){var S,E=this;if(_.o.sourceEditor!=="area"){var C=(0,x.createSourceEditor)(_.o.sourceEditor,_,this.mirrorContainer,this.toWYSIWYG,this.fromWYSIWYG);C.onReadyAlways(function(){var A,T;(A=E.sourceEditor)===null||A===void 0||A.destruct(),E.sourceEditor=C,E.syncValueFromWYSIWYG(!0),(T=_.events)===null||T===void 0||T.fire("sourceEditorReady",_)})}else(S=this.sourceEditor)===null||S===void 0||S.onReadyAlways(function(){var A;E.syncValueFromWYSIWYG(!0),(A=_.events)===null||A===void 0||A.fire("sourceEditorReady",_)})},w.prototype.beforeDestruct=function(){this.sourceEditor&&(this.sourceEditor.destruct(),delete this.sourceEditor),m.Dom.safeRemove(this.mirrorContainer)},u.__decorate([(0,g.watch)(":insertHTML.source")],w.prototype,"onInsertHTML",null),u.__decorate([g.autobind],w.prototype,"fromWYSIWYG",null),u.__decorate([g.autobind],w.prototype,"toWYSIWYG",null),u.__decorate([g.autobind],w.prototype,"getNormalPosition",null),u.__decorate([(0,g.watch)(":beforeCommand.source")],w.prototype,"onSelectAll",null),u.__decorate([(0,g.watch)(":beforeSetMode.source")],w.prototype,"saveSelection",null),u.__decorate([(0,g.watch)(":afterSetMode.source")],w.prototype,"removeSelection",null),u.__decorate([g.autobind],w.prototype,"setMirrorSelectionRange",null),u.__decorate([(0,g.watch)(":readonly.source")],w.prototype,"onReadonlyReact",null),u.__decorate([g.autobind],w.prototype,"syncValueFromWYSIWYG",null),w}(f.Plugin);a.source=y,v.pluginSystem.add("source",y)},50876:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.spellcheck=!1,d.Icon.set("spellcheck",s(69546)),u.Config.prototype.controls.spellcheck={isActive:function(h){return h.o.spellcheck},icon:s(69546),name:"spellcheck",command:"toggleSpellcheck",tooltip:"Spellcheck"}},87882:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.zh_tw=a.zh_cn=a.tr=a.ru=a.pt_br=a.pl=a.nl=a.mn=a.ko=a.ja=a.it=a.id=a.hu=a.he=a.fr=a.fa=a.es=a.de=a.cs_cz=a.ar=void 0;var u=s(5586);a.ar=u;var d=s(66023);a.cs_cz=d;var h=s(65860);a.de=h;var f=s(86055);a.es=f;var m=s(50037);a.fa=m;var p=s(7118);a.fr=p;var g=s(30298);a.he=g;var v=s(52107);a.hu=v;var x=s(31240);a.id=x;var y=s(4101);a.it=y;var b=s(69286);a.ja=b;var w=s(13402);a.ko=w;var _=s(1242);a.mn=_;var S=s(89574);a.nl=S;var E=s(63630);a.pl=E;var C=s(72212);a.pt_br=C;var A=s(82570);a.ru=A;var T=s(19323);a.tr=T;var k=s(50279);a.zh_cn=k;var D=s(98364);a.zh_tw=D},17002:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.spellcheck=void 0;var u=s(20255),d=s(57549),h=s(67309),f=s(43441),m=s(17332);s(50876);var p=function(g){function v(x){var y=g.call(this,x)||this;return y.buttons=[{group:"state",name:"spellcheck"}],(0,m.extendLang)(s(87882)),y}return u.__extends(v,g),v.prototype.afterInit=function(x){var y=this;x.e.on("afterInit afterAddPlace prepareWYSIWYGEditor",this.toggleSpellcheck),this.toggleSpellcheck(),x.registerCommand("toggleSpellcheck",function(){y.jodit.o.spellcheck=!y.jodit.o.spellcheck,y.toggleSpellcheck(),y.j.e.fire("updateToolbar")})},v.prototype.toggleSpellcheck=function(){(0,h.attr)(this.jodit.editor,"spellcheck",this.jodit.o.spellcheck)},v.prototype.beforeDestruct=function(x){},u.__decorate([f.autobind],v.prototype,"toggleSpellcheck",null),v}(d.Plugin);a.spellcheck=p,m.pluginSystem.add("spellcheck",p)},59818:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.showCharsCounter=!0,u.Config.prototype.countHTMLChars=!1,u.Config.prototype.showWordsCounter=!0},1557:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.stat=void 0;var u=s(20255),d=s(86893),h=s(85605),f=s(24263),m=s(17332);s(59818);var p=function(g){function v(){var x=g!==null&&g.apply(this,arguments)||this;return x.charCounter=null,x.wordCounter=null,x.reInit=function(){x.j.o.showCharsCounter&&x.charCounter&&x.j.statusbar.append(x.charCounter,!0),x.j.o.showWordsCounter&&x.wordCounter&&x.j.statusbar.append(x.wordCounter,!0),x.j.e.off("change keyup",x.calc).on("change keyup",x.calc),x.calc()},x.calc=x.j.async.throttle(function(){var y=x.j.text;if(x.j.o.showCharsCounter&&x.charCounter){var b=x.j.o.countHTMLChars?x.j.value:y.replace((0,d.SPACE_REG_EXP)(),"");x.charCounter.textContent=x.j.i18n("Chars: %d",b.length)}x.j.o.showWordsCounter&&x.wordCounter&&(x.wordCounter.textContent=x.j.i18n("Words: %d",y.replace((0,d.INVISIBLE_SPACE_REG_EXP)(),"").split((0,d.SPACE_REG_EXP)()).filter(function(w){return w.length}).length))},x.j.defaultTimeout),x}return u.__extends(v,g),v.prototype.afterInit=function(){this.charCounter=this.j.c.span(),this.wordCounter=this.j.c.span(),this.j.e.on("afterInit changePlace afterAddPlace",this.reInit),this.reInit()},v.prototype.beforeDestruct=function(){f.Dom.safeRemove(this.charCounter),f.Dom.safeRemove(this.wordCounter),this.j.e.off("afterInit changePlace afterAddPlace",this.reInit),this.charCounter=null,this.wordCounter=null},v}(h.Plugin);a.stat=p,m.pluginSystem.add("stat",p)},40790:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.toolbarSticky=!0,u.Config.prototype.toolbarDisableStickyForMobile=!0,u.Config.prototype.toolbarStickyOffset=0},82808:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.sticky=void 0;var u=s(20255);s(60057);var d=s(86893),h=s(85605),f=s(24263),m=s(40332),p=s(43441),g=s(17332);s(40790);var v=function(x){function y(){var b=x!==null&&x.apply(this,arguments)||this;return b.isToolbarSticked=!1,b.createDummy=function(w){d.IS_IE&&!b.dummyBox&&(b.dummyBox=b.j.c.div(),b.dummyBox.classList.add("jodit_sticky-dummy_toolbar"),b.j.container.insertBefore(b.dummyBox,w))},b.addSticky=function(w){b.isToolbarSticked||(b.createDummy(w),b.j.container.classList.add("jodit_sticky"),b.isToolbarSticked=!0),(0,m.css)(w,{top:b.j.o.toolbarStickyOffset||null,width:b.j.container.offsetWidth-2}),d.IS_IE&&b.dummyBox&&(0,m.css)(b.dummyBox,{height:w.offsetHeight})},b.removeSticky=function(w){b.isToolbarSticked&&((0,m.css)(w,{width:"",top:""}),b.j.container.classList.remove("jodit_sticky"),b.isToolbarSticked=!1)},b}return u.__extends(y,x),y.prototype.afterInit=function(b){var w=this;b.e.on(b.ow,"scroll.sticky wheel.sticky mousewheel.sticky resize.sticky",this.onScroll).on("getStickyState.sticky",function(){return w.isToolbarSticked})},y.prototype.onScroll=function(){var b=this.jodit,w=b.ow.pageYOffset||b.od.documentElement&&b.od.documentElement.scrollTop||0,_=(0,m.offset)(b.container,b,b.od,!0),S=b.getMode()===d.MODE_WYSIWYG&&w+b.o.toolbarStickyOffset>_.top&&_.top+_.height>w+b.o.toolbarStickyOffset&&!(b.o.toolbarDisableStickyForMobile&&this.isMobile());if(b.o.toolbarSticky&&b.o.toolbar===!0&&this.isToolbarSticked!==S){var E=b.toolbarContainer;E&&(S?this.addSticky(E):this.removeSticky(E)),b.e.fire("toggleSticky",S)}},y.prototype.isMobile=function(){return this.j&&this.j.options&&this.j.container&&this.j.o.sizeSM>=this.j.container.offsetWidth},y.prototype.beforeDestruct=function(b){this.dummyBox&&f.Dom.safeRemove(this.dummyBox),b.e.off(b.ow,"scroll.sticky wheel.sticky mousewheel.sticky resize.sticky",this.onScroll).off(".sticky")},u.__decorate([(0,p.throttle)()],y.prototype,"onScroll",null),y}(h.Plugin);a.sticky=v,g.pluginSystem.add("sticky",v)},31750:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.usePopupForSpecialCharacters=!1,u.Config.prototype.specialCharacters=["!","&quot;","#","$","%","&amp;","'","(",")","*","+","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&lt;","=","&gt;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","&euro;","&lsquo;","&rsquo;","&ldquo;","&rdquo;","&ndash;","&mdash;","&iexcl;","&cent;","&pound;","&curren;","&yen;","&brvbar;","&sect;","&uml;","&copy;","&ordf;","&laquo;","&raquo;","&not;","&reg;","&macr;","&deg;","&sup2;","&sup3;","&acute;","&micro;","&para;","&middot;","&cedil;","&sup1;","&ordm;","&frac14;","&frac12;","&frac34;","&iquest;","&Agrave;","&Aacute;","&Acirc;","&Atilde;","&Auml;","&Aring;","&AElig;","&Ccedil;","&Egrave;","&Eacute;","&Ecirc;","&Euml;","&Igrave;","&Iacute;","&Icirc;","&Iuml;","&ETH;","&Ntilde;","&Ograve;","&Oacute;","&Ocirc;","&Otilde;","&Ouml;","&times;","&Oslash;","&Ugrave;","&Uacute;","&Ucirc;","&Uuml;","&Yacute;","&THORN;","&szlig;","&agrave;","&aacute;","&acirc;","&atilde;","&auml;","&aring;","&aelig;","&ccedil;","&egrave;","&eacute;","&ecirc;","&euml;","&igrave;","&iacute;","&icirc;","&iuml;","&eth;","&ntilde;","&ograve;","&oacute;","&ocirc;","&otilde;","&ouml;","&divide;","&oslash;","&ugrave;","&uacute;","&ucirc;","&uuml;","&yacute;","&thorn;","&yuml;","&OElig;","&oelig;","&#372;","&#374","&#373","&#375;","&sbquo;","&#8219;","&bdquo;","&hellip;","&trade;","&#9658;","&bull;","&rarr;","&rArr;","&hArr;","&diams;","&asymp;"],d.Icon.set("symbols",s(43158)),u.Config.prototype.controls.symbols={hotkeys:["ctrl+shift+i","cmd+shift+i"],tooltip:"Insert Special Character",popup:function(h,f,m,p){var g=h.e.fire("generateSpecialCharactersTable.symbols");if(g){if(h.o.usePopupForSpecialCharacters){var v=h.c.div();return v.classList.add("jodit-symbols"),v.appendChild(g),h.e.on(g,"close_dialog",p),v}h.alert(g,"Select Special Character",void 0,"jodit-symbols").bindDestruct(h);var x=g.querySelector("a");x&&x.focus()}}}},21236:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.zh_tw=a.zh_cn=a.tr=a.ru=a.pt_br=a.pl=a.nl=a.mn=a.ko=a.ja=a.it=a.id=a.hu=a.he=a.fr=a.fa=a.es=a.de=a.cs_cz=a.ar=void 0;var u=s(54261);a.ar=u;var d=s(60425);a.cs_cz=d;var h=s(7057);a.de=h;var f=s(48356);a.es=f;var m=s(11428);a.fa=m;var p=s(29084);a.fr=p;var g=s(22876);a.he=g;var v=s(20890);a.hu=v;var x=s(75987);a.id=x;var y=s(60379);a.it=y;var b=s(99950);a.ja=b;var w=s(60934);a.ko=w;var _=s(45913);a.mn=_;var S=s(21994);a.nl=S;var E=s(38128);a.pl=E;var C=s(71515);a.pt_br=C;var A=s(58194);a.ru=A;var T=s(65802);a.tr=T;var k=s(86628);a.zh_cn=k;var D=s(32210);a.zh_tw=D},48560:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.symbols=void 0;var u=s(20255);s(33393);var d=s(86893),h=s(85605),f=s(24263),m=s(76502),p=s(17332);s(31750);var g=function(v){function x(y){var b=v.call(this,y)||this;return b.buttons=[{name:"symbols",group:"insert"}],b.countInRow=17,(0,p.extendLang)(s(21236)),b}return u.__extends(x,v),x.prototype.afterInit=function(y){var b=this;y.e.on("generateSpecialCharactersTable.symbols",function(){for(var w=y.c.fromHTML(`<div class="jodit-symbols__container">
						<div class="jodit-symbols__container_table">
							<table class="jodit-symbols__table"><tbody></tbody></table>
						</div>
						<div class="jodit-symbols__container_preview">
							<div class="jodit-symbols__preview"></div>
						</div>
					</div>`),_=w.querySelector(".jodit-symbols__preview"),S=w.querySelector("table").tBodies[0],E=[],C=0;y.o.specialCharacters.length>C;){for(var A=y.c.element("tr"),T=0;b.countInRow>T&&y.o.specialCharacters.length>C;T+=1,C+=1){var k=y.c.element("td"),D=y.c.fromHTML(`<a
									data-index="`.concat(C,`"
									data-index-j="`).concat(T,`"
									role="option"
									tabindex="-1"
							>`).concat(y.o.specialCharacters[C],"</a>"));E.push(D),k.appendChild(D),A.appendChild(k)}S.appendChild(A)}var M=b;return y.e.on(E,"focus",function(){_.innerHTML=this.innerHTML}).on(E,"mousedown",function(P){f.Dom.isTag(this,"a")&&(y.s.focus(),y.s.insertHTML(this.innerHTML),y.e.fire(this,"close_dialog"),P&&P.preventDefault(),P&&P.stopImmediatePropagation())}).on(E,"mouseenter",function(){f.Dom.isTag(this,"a")&&this.focus()}).on(E,"keydown",function(P){var j=P.target;if(f.Dom.isTag(j,"a")){var O=parseInt((0,m.attr)(j,"-index")||"0",10),I=parseInt((0,m.attr)(j,"data-index-j")||"0",10),N=void 0;switch(P.key){case d.KEY_UP:case d.KEY_DOWN:E[N=P.key===d.KEY_UP?O-M.countInRow:O+M.countInRow]===void 0&&(N=P.key===d.KEY_UP?Math.floor(E.length/M.countInRow)*M.countInRow+I:I)>E.length-1&&(N-=M.countInRow),E[N]&&E[N].focus();break;case d.KEY_RIGHT:case d.KEY_LEFT:E[N=P.key===d.KEY_LEFT?O-1:O+1]===void 0&&(N=P.key===d.KEY_LEFT?E.length-1:0),E[N]&&E[N].focus();break;case d.KEY_ENTER:y.e.fire(j,"mousedown"),P.stopImmediatePropagation(),P.preventDefault()}}}),w})},x.prototype.beforeDestruct=function(y){y.e.off("generateSpecialCharactersTable.symbols")},x}(h.Plugin);a.symbols=g,p.pluginSystem.add("symbols",g)},15797:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(41170),a)},41170:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.onTabInsideLi=void 0;var u=s(20255),d=s(24263);s(603),a.onTabInsideLi=function(h,f){if(f===void 0&&(f=!1),!h.o.tab.tabInsideLiInsertNewList)return!1;var m=u.__read(function(b){var w=b.createInside.fake(),_=b.createInside.fake(),S=b.s.range.cloneRange();S.collapse(!0),S.insertNode(w);var E=b.s.range.cloneRange();return E.collapse(!1),E.insertNode(_),[w,_]}(h),2),p=m[0],g=m[1];try{var v=function(b,w,_){var S=d.Dom.closest(w,"li",b.editor);return!!S&&!(!_&&!d.Dom.isTag(S.previousElementSibling,"li"))&&!(_&&!d.Dom.closest(S,"li",b.editor))&&S}(h,p,f);if(!v||!function(b,w,_){var S=d.Dom.closest(_,"li",w.editor);return!(!S||S!==b&&!b.contains(S))}(v,h,p))return!1;var x=d.Dom.closest(v,["ol","ul"],h.editor);return!(!x||f&&!d.Dom.closest(x,"li",h.editor)||(f?function(b,w,_){var S=d.Dom.closest(w,"li",b.editor),E=Array.from(w.children).filter(function(k){return d.Dom.isTag(k,"li")});d.Dom.after(S,_);var C=E.indexOf(_);if(C!==0&&E.length!==1||d.Dom.safeRemove(w),C!==E.length-1){var A=w.cloneNode();d.Dom.append(_,A);for(var T=C+1;E.length>T;T+=1)d.Dom.append(A,E[T])}}(h,x,v):function(b,w,_){var S=_.previousElementSibling,E=S.lastElementChild,C=d.Dom.isTag(E,w.tagName)?E:b.createInside.element(w.tagName,Array.from(w.attributes).reduce(function(A,T){return A[T.name]=T.value,A},{}));C.appendChild(_),E!==C&&S.appendChild(C)}(h,x,v),0))}finally{var y=h.s.createRange();y.setStartAfter(p),y.setEndBefore(g),h.s.selectRange(y),d.Dom.safeRemove(p),d.Dom.safeRemove(g)}return!1}},56198:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.tab={tabInsideLiInsertNewList:!0}},32246:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255),d=s(57549),h=s(43441),f=s(86893),m=s(17332),p=s(15797);s(56198);var g=function(v){function x(){return v!==null&&v.apply(this,arguments)||this}return u.__extends(x,v),x.prototype.afterInit=function(y){},x.prototype.__onTab=function(y){if(y.key===f.KEY_TAB&&this.__onShift(y.shiftKey))return!1},x.prototype.__onCommand=function(y){if((y==="indent"||y==="outdent")&&this.__onShift(y==="outdent"))return!1},x.prototype.__onShift=function(y){var b=(0,p.onTabInsideLi)(this.j,y);return b&&this.j.e.fire("afterTab",y),b},x.prototype.beforeDestruct=function(y){},u.__decorate([(0,h.watch)(":keydown.tab")],x.prototype,"__onTab",null),u.__decorate([(0,h.watch)(":beforeCommand.tab")],x.prototype,"__onCommand",null),x}(d.Plugin);m.pluginSystem.add("tab",g)},23308:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.tableKeyboardNavigation=void 0;var u=s(86893),d=s(24263),h=s(25120),f=s(17332);function m(p){p.e.off(".tableKeyboardNavigation").on("keydown.tableKeyboardNavigation",function(g){var v,x;if((g.key===u.KEY_TAB||g.key===u.KEY_LEFT||g.key===u.KEY_RIGHT||g.key===u.KEY_UP||g.key===u.KEY_DOWN)&&(v=p.s.current(),x=d.Dom.up(v,function(T){return T&&T.nodeName&&/^td|th$/i.test(T.nodeName)},p.editor))){var y=p.s.range;if(g.key===u.KEY_TAB||v===x||(g.key!==u.KEY_LEFT&&g.key!==u.KEY_UP||!(d.Dom.prev(v,function(T){return g.key===u.KEY_UP?d.Dom.isTag(T,"br"):!!T},x)||g.key!==u.KEY_UP&&d.Dom.isText(v)&&y.startOffset!==0))&&(g.key!==u.KEY_RIGHT&&g.key!==u.KEY_DOWN||!(d.Dom.next(v,function(T){return g.key===u.KEY_DOWN?d.Dom.isTag(T,"br"):!!T},x)||g.key!==u.KEY_DOWN&&d.Dom.isText(v)&&v.nodeValue&&y.startOffset!==v.nodeValue.length))){var b=d.Dom.up(x,function(T){return T&&/^table$/i.test(T.nodeName)},p.editor),w=null;switch(g.key){case u.KEY_TAB:case u.KEY_LEFT:var _=g.key===u.KEY_LEFT||g.shiftKey?"prev":"next";(w=d.Dom[_](x,function(T){return T&&/^td|th$/i.test(T.tagName)},b))||(h.Table.appendRow(b,_!=="next"&&b.querySelector("tr"),_==="next",p.createInside),w=d.Dom[_](x,d.Dom.isCell,b));break;case u.KEY_UP:case u.KEY_DOWN:var S=0,E=0,C=h.Table.formalMatrix(b,function(T,k,D){T===x&&(S=k,E=D)});g.key===u.KEY_UP?C[S-1]!==void 0&&(w=C[S-1][E]):C[S+1]!==void 0&&(w=C[S+1][E])}if(w){if(w.firstChild)g.key===u.KEY_TAB?p.s.select(w,!0):p.s.setCursorIn(w,g.key===u.KEY_RIGHT||g.key===u.KEY_DOWN);else{var A=p.createInside.element("br");w.appendChild(A),p.s.setCursorBefore(A)}return!1}}}})}a.tableKeyboardNavigation=m,f.pluginSystem.add("tableKeyboardNavigation",m)},30739:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(64968),h=s(76502),f=s(40332),m=s(77904);u.Config.prototype.table={selectionCellStyle:"border: 1px double #1e88e5 !important;",useExtraClassesOptions:!1},m.Icon.set("table",s(51716)),u.Config.prototype.controls.table={data:{cols:10,rows:10,classList:{"table table-bordered":"Bootstrap Bordered","table table-striped":"Bootstrap Striped","table table-dark":"Bootstrap Dark"}},popup:function(p,g,v,x,y){for(var b=v.data&&v.data.rows?v.data.rows:10,w=v.data&&v.data.cols?v.data.cols:10,_=p.c.fromHTML('<form class="jodit-form jodit-form__inserter"><div class="jodit-form__table-creator-box"><div class="jodit-form__container"></div><div class="jodit-form__options">'+function(){if(!p.o.table.useExtraClassesOptions)return"";var j=[];if(v.data){var O=v.data.classList;Object.keys(O).forEach(function(I){j.push('<label class="jodit_vertical_middle"><input class="jodit-checkbox" value="'.concat(I,'" type="checkbox"/>').concat(O[I],"</label>"))})}return j.join("")}()+'</div></div><label class="jodit-form__center"><span>1</span> &times; <span>1</span></label></form>'),S=_.querySelectorAll("span")[0],E=_.querySelectorAll("span")[1],C=_.querySelector(".jodit-form__container"),A=_.querySelector(".jodit-form__options"),T=[],k=b*w,D=0;k>D;D+=1)T[D]||T.push(p.c.element("span",{dataIndex:D}));if(p.e.on(C,"mousemove",function(j,O){var I=j.target;if(d.Dom.isTag(I,"span")){for(var N=O===void 0||isNaN(O)?parseInt((0,h.attr)(I,"-index")||"0",10):O||0,L=Math.ceil((N+1)/w),B=N%w+1,R=0;T.length>R;R+=1)T[R].className=R%w+1>B||L<Math.ceil((R+1)/w)?"":"jodit_hovered";E.textContent=B.toString(),S.textContent=L.toString()}}).on(C,"touchstart mousedown",function(j){var O=j.target;if(j.preventDefault(),j.stopImmediatePropagation(),d.Dom.isTag(O,"span")){var I=parseInt((0,h.attr)(O,"-index")||"0",10),N=Math.ceil((I+1)/w),L=I%w+1,B=p.createInside,R=B.element("tbody"),z=B.element("table");z.appendChild(R);for(var W,U,H=null,X=1;N>=X;X+=1){W=B.element("tr");for(var K=1;L>=K;K+=1)U=B.element("td"),H||(H=U),(0,f.css)(U,"width",(100/L).toFixed(4)+"%"),U.appendChild(B.element("br")),W.appendChild(B.text(`
`)),W.appendChild(B.text("	")),W.appendChild(U);R.appendChild(B.text(`
`)),R.appendChild(W)}(0,f.$$)("input[type=checkbox]:checked",A).forEach(function(Q){Q.value.split(/[\s]+/).forEach(function(Y){z.classList.add(Y)})}),p.editor.firstChild&&p.s.insertNode(B.text(`
`),!1,!1),p.s.insertNode(z,!1),H&&(p.s.setCursorIn(H),(0,f.scrollIntoViewIfNeeded)(H,p.editor,p.ed)),x()}}),y&&y.parentElement){for(D=0;b>D;D+=1){for(var M=p.c.div(),P=0;w>P;P+=1)M.appendChild(T[D*w+P]);C.appendChild(M)}T[0]&&(T[0].className="hovered")}return _},tooltip:"Insert table"}},45842:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.table=void 0,s(51057);var u=s(17332);function d(h){h.registerButton({name:"table",group:"insert"})}s(30739),a.table=d,u.pluginSystem.add("table",d)},79114:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(718),h=s(40332),f=s(95963),m=s(96516);s(77904).Icon.set("video",s(49222)),u.Config.prototype.controls.video={popup:function(p,g,v,x){var y=new f.UIForm(p,[new f.UIBlock(p,[new f.UIInput(p,{name:"url",required:!0,label:"URL",placeholder:"https://",validators:["url"]})]),new f.UIBlock(p,[(0,m.Button)(p,"","Insert","primary").onAction(function(){return y.submit()})])]),b=new f.UIForm(p,[new f.UIBlock(p,[new f.UITextArea(p,{name:"code",required:!0,label:"Embed code"})]),new f.UIBlock(p,[(0,m.Button)(p,"","Insert","primary").onAction(function(){return b.submit()})])]),w=[],_=function(S){p.s.restore(),p.s.insertHTML(S),x()};return p.s.save(),w.push({icon:"link",name:"Link",content:y.container},{icon:"source",name:"Code",content:b.container}),y.onSubmit(function(S){_((0,h.convertMediaUrlToVideoEmbed)(S.url))}),b.onSubmit(function(S){_(S.code)}),(0,d.TabsWidget)(p,w)},tags:["iframe"],tooltip:"Insert youtube/vimeo video"}},19889:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(17332);s(79114),u.pluginSystem.add("video",function(d){d.registerButton({name:"video",group:"media"})})},64401:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.wrapNodes={exclude:["hr","style","br"],emptyBlockAfterInit:!0}},20728:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255),d=s(57549),h=s(64968),f=s(24421),m=s(43441),p=s(17332);s(64401);var g=function(v){function x(){var y=v!==null&&v.apply(this,arguments)||this;return y.isSuitableStart=function(b){return h.Dom.isText(b)&&(0,f.isString)(b.nodeValue)&&/[^\s]/.test(b.nodeValue)||y.isNotClosed(b)&&!h.Dom.isTemporary(b)},y.isSuitable=function(b){return h.Dom.isText(b)||y.isNotClosed(b)},y.isNotClosed=function(b){return h.Dom.isElement(b)&&!(h.Dom.isBlock(b)||h.Dom.isTag(b,y.j.o.wrapNodes.exclude))},y}return u.__extends(x,v),x.prototype.afterInit=function(y){y.o.enter.toLowerCase()!=="br"&&y.e.on("drop.wtn focus.wtn keydown.wtn mousedown.wtn afterInit.wtn",this.preprocessInput,{top:!0}).on("afterInit.wtn postProcessSetEditorValue.wtn",this.postProcessSetEditorValue)},x.prototype.beforeDestruct=function(y){y.e.off(".wtn")},x.prototype.postProcessSetEditorValue=function(){var y=this.jodit;if(y.isEditorMode()){for(var b=y.editor.firstChild,w=!1;b;){if(b=this.checkAloneListLeaf(b,y),this.isSuitableStart(b)){w||y.s.save(),w=!0;var _=y.createInside.element(y.o.enter);for(h.Dom.before(b,_);b&&this.isSuitable(b);){var S=b.nextSibling;_.appendChild(b),b=S}_.normalize(),b=_}b=b&&b.nextSibling}w&&(y.s.restore(),y.e.current==="afterInit"&&y.e.fire("internalChange"))}},x.prototype.checkAloneListLeaf=function(y,b){var w=y,_=y;do{if(!h.Dom.isElement(_)||!h.Dom.isTag(_,"li")||h.Dom.isTag(_.parentElement,["ul","ol"]))break;var S=h.Dom.findNotEmptySibling(_,!1);h.Dom.isTag(w,"ul")?w.appendChild(_):w=h.Dom.wrap(_,"ul",b.createInside),_=S}while(_);return w},x.prototype.preprocessInput=function(){var y=this.jodit,b=y.e.current==="afterInit";if(y.isEditorMode()&&!y.editor.firstChild&&(y.o.wrapNodes.emptyBlockAfterInit||!b)){var w=y.createInside.element(y.o.enter),_=y.createInside.element("br");h.Dom.append(w,_),h.Dom.append(y.editor,w),y.s.isFocused()&&y.s.setCursorBefore(_),y.e.fire("internalChange")}},u.__decorate([m.autobind],x.prototype,"postProcessSetEditorValue",null),u.__decorate([m.autobind],x.prototype,"preprocessInput",null),x}(d.Plugin);p.pluginSystem.add("wrapNodes",g)},71707:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.showXPathInStatusbar=!0},18238:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);s(64618);var d=s(86893),h=s(60403),f=s(64968),m=s(40332),p=s(57549),g=s(81438),v=s(17332);s(71707);var x=function(y){function b(){var w=y!==null&&y.apply(this,arguments)||this;return w.onContext=function(_,S){return w.menu||(w.menu=new h.ContextMenu(w.j)),w.menu.show(S.clientX,S.clientY,[{icon:"bin",title:_===w.j.editor?"Clear":"Remove",exec:function(){_!==w.j.editor?f.Dom.safeRemove(_):w.j.value="",w.j.synchronizeValues()}},{icon:"select-all",title:"Select",exec:function(){w.j.s.select(_)}}]),!1},w.onSelectPath=function(_,S){w.j.s.focus();var E=(0,m.attr)(S.target,"-path")||"/";if(E==="/")return w.j.execCommand("selectall"),!1;try{var C=w.j.ed.evaluate(E,w.j.editor,null,XPathResult.ANY_TYPE,null).iterateNext();if(C)return w.j.s.select(C),!1}catch{}return w.j.s.select(_),!1},w.tpl=function(_,S,E,C){var A=w.j.c.fromHTML('<span class="jodit-xpath__item"><a role="button" data-path="'.concat(S,'" title="').concat(C,`" tabindex="-1"'>`).concat((0,m.trim)(E),"</a></span>")),T=A.firstChild;return w.j.e.on(T,"click",w.onSelectPath.bind(w,_)).on(T,"contextmenu",w.onContext.bind(w,_)),A},w.removeSelectAll=function(){w.selectAllButton&&(w.selectAllButton.destruct(),delete w.selectAllButton)},w.appendSelectAll=function(){w.removeSelectAll(),w.selectAllButton=(0,g.makeButton)(w.j,u.__assign({name:"selectall"},w.j.o.controls.selectall)),w.selectAllButton.state.size="tiny",w.container&&w.container.insertBefore(w.selectAllButton.container,w.container.firstChild)},w.calcPathImd=function(){if(!w.isDestructed){var _,S,E,C=w.j.s.current();w.container&&(w.container.innerHTML=d.INVISIBLE_SPACE),C&&f.Dom.up(C,function(A){A&&w.j.editor!==A&&!f.Dom.isText(A)&&(_=A.nodeName.toLowerCase(),S=(0,m.getXPathByElement)(A,w.j.editor).replace(/^\//,""),E=w.tpl(A,S,_,w.j.i18n("Select %s",_)),w.container&&w.container.insertBefore(E,w.container.firstChild))},w.j.editor),w.appendSelectAll()}},w.calcPath=w.j.async.debounce(w.calcPathImd,2*w.j.defaultTimeout),w}return u.__extends(b,y),b.prototype.afterInit=function(){var w=this;this.j.o.showXPathInStatusbar&&(this.container=this.j.c.div("jodit-xpath"),this.j.e.off(".xpath").on("mouseup.xpath change.xpath keydown.xpath changeSelection.xpath",this.calcPath).on("afterSetMode.xpath afterInit.xpath changePlace.xpath",function(){w.j.o.showXPathInStatusbar&&w.container&&(w.j.statusbar.append(w.container),w.j.getRealMode()===d.MODE_WYSIWYG?w.calcPath():(w.container&&(w.container.innerHTML=d.INVISIBLE_SPACE),w.appendSelectAll()))}),this.calcPath())},b.prototype.beforeDestruct=function(){this.j&&this.j.events&&this.j.e.off(".xpath"),this.removeSelectAll(),this.menu&&this.menu.destruct(),f.Dom.safeRemove(this.container),delete this.menu,delete this.container},b}(p.Plugin);v.pluginSystem.add("xpath",x)},89019:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(61227),s(690),s(66622),s(69220),s(10444),Array.prototype.includes||(Array.prototype.includes=function(u){return this.indexOf(u)>-1}),typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(u,d){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(u),f=1;arguments.length>f;f++){var m=arguments[f];if(m!=null)for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(h[p]=m[p])}return h},writable:!0,configurable:!0}),Array.prototype.find||(Array.prototype.find=function(u){return this.indexOf(u)>-1?u:void 0}),String.prototype.endsWith||(String.prototype.endsWith=function(u){return this[this.length-1]===u})},15261:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.valign=a.upload=a.update=a.unlock=a.settings=a.save=a.right=a.resize_handler=a.plus=a.pencil=a.ok=a.lock=a.left=a.info_circle=a.folder=a.file=a.eye=a.dots=a.chevron=a.check=a.center=a.cancel=a.bin=a.angle_up=a.angle_right=a.angle_left=a.angle_down=void 0;var u=s(1755);a.angle_down=u;var d=s(74911);a.angle_left=d;var h=s(8805);a.angle_right=h;var f=s(16547);a.angle_up=f;var m=s(10856);a.bin=m;var p=s(98441);a.cancel=p;var g=s(52488);a.center=g;var v=s(9370);a.check=v;var x=s(66543);a.chevron=x;var y=s(608);a.dots=y;var b=s(42840);a.eye=b;var w=s(79096);a.file=w;var _=s(33014);a.folder=_;var S=s(91677);a.info_circle=S;var E=s(8259);a.left=E;var C=s(64467);a.lock=C;var A=s(86934);a.ok=A;var T=s(76133);a.pencil=T;var k=s(45519);a.plus=k;var D=s(90265);a.resize_handler=D;var M=s(81279);a.right=M;var P=s(68899);a.save=P;var j=s(70744);a.settings=j;var O=s(19201);a.unlock=O;var I=s(84930);a.update=I;var N=s(99704);a.upload=N;var L=s(2304);a.valign=L},80078:function(c){c.exports={"copy-format":" "}},16986:function(c){c.exports={"copy-format":"Koprovat formt"}},59347:function(c){c.exports={"copy-format":"Format kopieren"}},63640:function(c){c.exports={"copy-format":"Copiar formato"}},53434:function(c){c.exports={"copy-format":"  "}},85638:function(c){c.exports={"copy-format":"Format de copie"}},31743:function(c){c.exports={"copy-format":" "}},66219:function(c){c.exports={"copy-format":"Formtum msols"}},50331:function(c){c.exports={"copy-format":"salin format"}},25582:function(c){c.exports={"copy-format":"Copia il formato"}},82066:function(c){c.exports={"copy-format":"copyformat"}},71925:function(c){c.exports={"copy-format":" "}},12689:function(c){c.exports={"copy-format":" "}},65274:function(c){c.exports={"copy-format":"opmaak kopiren"}},58548:function(c){c.exports={"copy-format":"format kopii"}},82958:function(c){c.exports={"copy-format":"Copiar formato"}},52315:function(c){c.exports={"copy-format":" "}},87727:function(c){c.exports={"copy-format":"Kopyalama Biimi"}},9396:function(c){c.exports={"copy-format":""}},28765:function(c){c.exports={"copy-format":""}},47762:function(c){c.exports={"Line height":" "}},97495:function(c){c.exports={"Line height":"Vka ry"}},80131:function(c){c.exports={"Line height":"Zeilenhhe"}},1201:function(c){c.exports={"Line height":"Altura de la lnea"}},89912:function(c){c.exports={"Line height":" "}},3405:function(c){c.exports={"Line height":"Hauteur de ligne"}},14129:function(c){c.exports={"Line height":" "}},93729:function(c){c.exports={"Line height":"Vonal magassga"}},16106:function(c){c.exports={"Line height":"Tinggi baris"}},89690:function(c){c.exports={"Line height":"Altezza linea"}},33216:function(c){c.exports={"Line height":""}},17282:function(c){c.exports={"Line height":" "}},52841:function(c){c.exports={"Line height":" "}},91761:function(c){c.exports={"Line height":"Lijnhoogte"}},61675:function(c){c.exports={"Line height":"Wysoko linii"}},69709:function(c){c.exports={"Line height":"Altura da linha"}},82591:function(c){c.exports={"Line height":" "}},87649:function(c){c.exports={"Line height":"izgi ykseklii"}},60268:function(c){c.exports={"Line height":""}},58214:function(c){c.exports={"Line height":""}},5586:function(c){c.exports={Spellcheck:" "}},66023:function(c){c.exports={Spellcheck:"Kontrola pravopisu"}},65860:function(c){c.exports={Spellcheck:"Rechtschreibprfung"}},86055:function(c){c.exports={Spellcheck:"Correccin ortogrfica"}},50037:function(c){c.exports={Spellcheck:" "}},7118:function(c){c.exports={Spellcheck:"Vrification Orthographique"}},30298:function(c){c.exports={Spellcheck:" "}},52107:function(c){c.exports={Spellcheck:"Helyesrs-ellenrzs"}},31240:function(c){c.exports={Spellcheck:"Spellchecking"}},4101:function(c){c.exports={Spellcheck:"Controllo ortografico"}},69286:function(c){c.exports={Spellcheck:""}},13402:function(c){c.exports={Spellcheck:" "}},1242:function(c){c.exports={Spellcheck:"  "}},89574:function(c){c.exports={Spellcheck:"Spellingcontrole"}},63630:function(c){c.exports={Spellcheck:"Sprawdzanie pisowni"}},72212:function(c){c.exports={Spellcheck:"Verificao ortogrfica"}},82570:function(c){c.exports={Spellcheck:" "}},19323:function(c){c.exports={Spellcheck:"Yazm denetimi"}},50279:function(c){c.exports={Spellcheck:""}},98364:function(c){c.exports={Spellcheck:""}},54261:function(c){c.exports={symbols:""}},60425:function(c){c.exports={symbols:"symbol"}},7057:function(c){c.exports={symbols:"Symbol"}},48356:function(c){c.exports={symbols:"Smbolo"}},11428:function(c){c.exports={symbols:""}},29084:function(c){c.exports={symbols:"caractre"}},22876:function(c){c.exports={symbols:" "}},20890:function(c){c.exports={symbols:"Szimblum"}},75987:function(c){c.exports={symbols:"simbol"}},60379:function(c){c.exports={symbols:"Simbolo"}},99950:function(c){c.exports={symbols:"symbol"}},60934:function(c){c.exports={symbols:""}},45913:function(c){c.exports={symbols:""}},21994:function(c){c.exports={symbols:"symbool"}},38128:function(c){c.exports={symbols:"symbol"}},71515:function(c){c.exports={symbols:"Smbolo"}},58194:function(c){c.exports={symbols:""}},65802:function(c){c.exports={symbols:"Sembol"}},86628:function(c){c.exports={symbols:""}},32210:function(c){c.exports={symbols:""}},52378:function(c){c.exports={assert(){}}}},i={};function o(c){var a=i[c];if(a!==void 0)return a.exports;var s=i[c]={exports:{}};return n[c].call(s.exports,s,s.exports,o),s.exports}o.m=n,r=[],o.O=function(c,a,s,u){if(!a){var d=1/0;for(p=0;r.length>p;p++){a=r[p][0],s=r[p][1],u=r[p][2];for(var h=!0,f=0;a.length>f;f++)(!1&u||d>=u)&&Object.keys(o.O).every(function(g){return o.O[g](a[f])})?a.splice(f--,1):(h=!1,d>u&&(d=u));if(h){r.splice(p--,1);var m=s();m!==void 0&&(c=m)}}return c}u=u||0;for(var p=r.length;p>0&&r[p-1][2]>u;p--)r[p]=r[p-1];r[p]=[a,s,u]},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=function(c,a){return Object.prototype.hasOwnProperty.call(c,a)},o.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},function(){var c={670:0};o.O.j=function(u){return c[u]===0};var a=function(u,d){var h,f,m=d[0],p=d[1],g=d[2],v=0;if(m.some(function(y){return c[y]!==0})){for(h in p)o.o(p,h)&&(o.m[h]=p[h]);if(g)var x=g(o)}for(u&&u(d);m.length>v;v++)o.o(c,f=m[v])&&c[f]&&c[f][0](),c[f]=0;return o.O(x)},s=self.webpackChunkjodit=self.webpackChunkjodit||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var l={};return function(){var c=l;Object.defineProperty(c,"__esModule",{value:!0}),c.CommitMode=c.Jodit=void 0,o(90176),typeof window<"u"&&o(89019);var a=o(37920);Object.defineProperty(c,"Jodit",{enumerable:!0,get:function(){return a.Jodit}});var s=o(26435),u=o(43441),d=o(86893),h=o(87837),f=o(15261);o(70022),o(91147),Object.keys(d).forEach(function(p){a.Jodit[p]=d[p]});var m=function(p){return p!=="__esModule"};Object.keys(f).filter(m).forEach(function(p){h.Icon.set(p.replace("_","-"),f[p])}),Object.keys(h).filter(m).forEach(function(p){a.Jodit.modules[p]=h[p]}),Object.keys(u).filter(m).forEach(function(p){a.Jodit.decorators[p]=u[p]}),["Confirm","Alert","Prompt"].forEach(function(p){a.Jodit[p]=h[p]}),Object.keys(s.default).filter(m).forEach(function(p){a.Jodit.lang[p]=s.default[p]}),c.CommitMode=function(){}}(),o.O(l)}()})}(ZM)),ZM.exports}(function(e,t){(function(r,n){e.exports=n(G,EGe())})(self,(r,n)=>(()=>{var i={922:a=>{a.exports=function(s){var u=[];return u.toString=function(){return this.map(function(d){var h="",f=d[5]!==void 0;return d[4]&&(h+="@supports (".concat(d[4],") {")),d[2]&&(h+="@media ".concat(d[2]," {")),f&&(h+="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {")),h+=s(d),f&&(h+="}"),d[2]&&(h+="}"),d[4]&&(h+="}"),h}).join("")},u.i=function(d,h,f,m,p){typeof d=="string"&&(d=[[null,d,void 0]]);var g={};if(f)for(var v=0;v<this.length;v++){var x=this[v][0];x!=null&&(g[x]=!0)}for(var y=0;y<d.length;y++){var b=[].concat(d[y]);f&&g[b[0]]||(p!==void 0&&(b[5]===void 0||(b[1]="@layer".concat(b[5].length>0?" ".concat(b[5]):""," {").concat(b[1],"}")),b[5]=p),h&&(b[2]&&(b[1]="@media ".concat(b[2]," {").concat(b[1],"}")),b[2]=h),m&&(b[4]?(b[1]="@supports (".concat(b[4],") {").concat(b[1],"}"),b[4]=m):b[4]="".concat(m)),u.push(b))}},u}},155:a=>{a.exports=function(s,u){return u||(u={}),s&&(s=String(s.__esModule?s.default:s),/^['"].*['"]$/.test(s)&&(s=s.slice(1,-1)),u.hash&&(s+=u.hash),/["'() \t\n]|(%20)/.test(s)||u.needQuotes?'"'.concat(s.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):s)}},499:a=>{a.exports=function(s){return s[1]}},428:(a,s,u)=>{var d=u(134);function h(){}function f(){}f.resetWarningCache=h,a.exports=function(){function m(v,x,y,b,w,_){if(_!==d){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}function p(){return m}m.isRequired=m;var g={array:m,bigint:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:p,element:m,elementType:m,instanceOf:p,node:m,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p,checkPropTypes:f,resetWarningCache:h};return g.PropTypes=g,g}},526:(a,s,u)=>{a.exports=u(428)()},134:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},472:(a,s,u)=>{u.d(s,{Z:()=>E});var d=u(499),h=u.n(d),f=u(922),m=u.n(f),p=u(155),g=u.n(p),v=new URL(u(456),u.b),x=new URL(u(963),u.b),y=new URL(u(910),u.b),b=m()(h()),w=g()(v),_=g()(x),S=g()(y);b.push([a.id,`/*!
 * jodit - Jodit is awesome and usefully wysiwyg editor with filebrowser
 * Author: Chupurnov <chupurnov@gmail.com> (https://xdsoft.net/)
 * Version: v3.24.7
 * Url: https://xdsoft.net/jodit/
 * License(s): MIT
 */
	.jodit-wysiwyg{outline:0}.jodit-wysiwyg ::-moz-selection, .jodit-wysiwyg::-moz-selection{background:#b5d6fd;color:#4c4c4c}.jodit-wysiwyg ::selection,.jodit-wysiwyg::selection{background:#b5d6fd;color:#4c4c4c}.jodit-container:not(.jodit_inline) .jodit-wysiwyg{margin:0;outline:0;overflow-x:auto;padding:8px;position:relative}.jodit-container:not(.jodit_inline) .jodit-wysiwyg img{max-width:100%;position:relative}.jodit-container:not(.jodit_inline) .jodit-wysiwyg jodit-media{position:relative}.jodit-container:not(.jodit_inline) .jodit-wysiwyg jodit-media *{position:relative;z-index:0}.jodit-container:not(.jodit_inline) .jodit-wysiwyg jodit-media:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:1}.jodit-form{color:#4c4c4c;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px}.jodit-form.jodit_error{border-color:#ff3b3b;-webkit-box-shadow:inset 0 0 3px 0 hsla(0,0%,74%,.3);box-shadow:inset 0 0 3px 0 hsla(0,0%,74%,.3)}@media (max-width:768px){.jodit-form{min-width:150px}}.jodit-form button{background:#d6d6d6;border:none;color:#4c4c4c;cursor:pointer;font-size:16px;height:36px;line-height:1;margin-bottom:8px;margin-top:8px;outline:none;padding:8px;text-decoration:none;-webkit-transition:background .2s ease 0s;-o-transition:background .2s ease 0s;transition:background .2s ease 0s}.jodit-form button:hover{background-color:#ecebe9;color:#4c4c4c}.jodit-form button:active{background:#ecebe9;color:#4c4c4c}.jodit-form label{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:8px;text-align:left;white-space:nowrap}.jodit-form label:last-child{margin-bottom:0}.jodit-form .jodit-form__center{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit .jodit-input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:1px solid #dadada;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit .jodit-select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:1px solid #dadada;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit .jodit-textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:1px solid #dadada;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit .jodit-input[disabled]{background-color:#f0f0f0;color:#dadada}.jodit .jodit-select[disabled]{background-color:#f0f0f0;color:#dadada}.jodit .jodit-textarea[disabled]{background-color:#f0f0f0;color:#dadada}.jodit .jodit-input_has-error_true{border-color:#ff3b3b}.jodit .jodit-select_has-error_true{border-color:#ff3b3b}.jodit .jodit-textarea_has-error_true{border-color:#ff3b3b}.jodit .jodit-input:focus{border-color:#66afe9;outline:0}.jodit-checkbox{border:0;cursor:pointer;height:16px;margin:0 calc(8px/2) 0 0;outline:none;padding:0;position:relative;width:16px;z-index:2}.jodit-select{background-image:url(`+w+');background-position:98% 50%;background-repeat:no-repeat;padding-right:calc(8px*2)}.jodit-textarea{height:auto}.jodit-form__group{min-width:180px}.jodit-textarea{min-width:180px}.jodit-form__group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.jodit-form__group{margin-bottom:8px}.jodit-form__group>label{margin-bottom:8px}.jodit-button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#dadada;border:0;border-radius:.25rem;color:#4c4c4c;cursor:pointer;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:calc(8px*4);-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;line-height:1;margin:0;padding:0 8px;position:relative;text-decoration:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:auto}.jodit-button svg{display:inline-block;height:24px;width:24px}.jodit-button svg+span{margin-left:calc(8px/2)}.jodit-button:active,.jodit-button:focus{outline:0}.jodit-button.disabled{opacity:.7}.jodit-buttons{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:8px}.jodit-button .jodit_icon,.jodit-button svg,.jodit-dialog__header .jodit_icon,.jodit-dialog__header svg{display:inline-block;height:16px;vertical-align:middle;width:16px}.jodit-switcher{display:inline-block;height:32px;position:relative;width:60px}.jodit-switcher input{height:0;opacity:0;width:0}.jodit-switcher .jodit-switcher__slider{background-color:#dadada;border-radius:32px;bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0;-webkit-transition:.4s;-o-transition:.4s;transition:.4s}.jodit-switcher .jodit-switcher__slider:before{background-color:#fff;border-radius:50%;bottom:4px;content:"";height:calc(32px - 4px*2);left:4px;position:absolute;-webkit-transition:.4s;-o-transition:.4s;transition:.4s;width:calc(32px - 4px*2)}input:checked+.jodit-switcher__slider{background-color:#2196f3}input:checked+.jodit-switcher__slider:before{-webkit-transform:translateX(calc(60px - 4px*2 - calc(32px - 4px*2)));-ms-transform:translateX(calc(60px - 4px*2 - calc(32px - 4px*2)));transform:translateX(calc(60px - 4px*2 - calc(32px - 4px*2)))}input:focus+.jodit-switcher__slider{-webkit-box-shadow:0 0 1px #2196f3;box-shadow:0 0 1px #2196f3}.jodit-button-group{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-button-group input{display:none}.jodit-button-group button{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.jodit-button-group button+button{margin-left:-1px}.jodit-button-group button:first-child,.jodit-button-group input:first-child+button{border-bottom-right-radius:0;border-right:0;border-top-right-radius:0}.jodit-button-group button:last-child,.jodit-button-group input:last-child+button{border-bottom-left-radius:0;border-left:0;border-top-left-radius:0}.jodit-button-group input[type=checkbox]:checked+button,.jodit-button-group input[type=checkbox]:not(:checked)+button+button{background-image:none;-webkit-box-shadow:inset 0 2px 4px rgba(0,0,0,.3),0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 2px 4px rgba(0,0,0,.3),0 1px 2px rgba(0,0,0,.05)}.jodit_text_icons .jodit_icon{font-size:14px;width:auto}.jodit_text_icons .jodit_icon:first-letter{text-transform:uppercase}.jodit_text_icons .jodit-tabs .jodit-tabs__buttons>a{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;width:auto}.jodit_text_icons .jodit-tabs .jodit-tabs__buttons>a i{width:auto}.jodit_text_icons.jodit-dialog .jodit-button{color:rgba(0,0,0,.75);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;padding:8px;width:auto}.jodit_text_icons.jodit-dialog .jodit-dialog__header a{color:rgba(0,0,0,.75);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;padding:8px;width:auto}.jodit_text_icons.jodit-dialog .jodit-button .jodit_icon,.jodit_text_icons.jodit-dialog .jodit-dialog__header a .jodit_icon{width:auto}.jodit-grid{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.jodit-grid.jodit-grid_column{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}@media (max-width:480px){.jodit-grid.jodit-grid_xs-column{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}.jodit-grid [class*=jodit_col-]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.jodit-grid .jodit_col-lg-5-5{width:100%}.jodit-grid .jodit_col-lg-4-5{width:80%}.jodit-grid .jodit_col-lg-3-5{width:60%}.jodit-grid .jodit_col-lg-2-5{width:40%}.jodit-grid .jodit_col-lg-1-5{width:20%}.jodit-grid .jodit_col-lg-4-4{width:100%}.jodit-grid .jodit_col-lg-3-4{width:75%}.jodit-grid .jodit_col-lg-2-4{width:50%}.jodit-grid .jodit_col-lg-1-4{width:25%}@media (max-width:992px){.jodit-grid .jodit_col-md-5-5{width:100%}.jodit-grid .jodit_col-md-4-5{width:80%}.jodit-grid .jodit_col-md-3-5{width:60%}.jodit-grid .jodit_col-md-2-5{width:40%}.jodit-grid .jodit_col-md-1-5{width:20%}.jodit-grid .jodit_col-md-4-4{width:100%}.jodit-grid .jodit_col-md-3-4{width:75%}.jodit-grid .jodit_col-md-2-4{width:50%}.jodit-grid .jodit_col-md-1-4{width:25%}}@media (max-width:768px){.jodit-grid .jodit_col-sm-5-5{width:100%}.jodit-grid .jodit_col-sm-4-5{width:80%}.jodit-grid .jodit_col-sm-3-5{width:60%}.jodit-grid .jodit_col-sm-2-5{width:40%}.jodit-grid .jodit_col-sm-1-5{width:20%}.jodit-grid .jodit_col-sm-4-4{width:100%}.jodit-grid .jodit_col-sm-3-4{width:75%}.jodit-grid .jodit_col-sm-2-4{width:50%}.jodit-grid .jodit_col-sm-1-4{width:25%}}@media (max-width:480px){.jodit-grid .jodit_col-xs-5-5{width:100%}.jodit-grid .jodit_col-xs-4-5{width:80%}.jodit-grid .jodit_col-xs-3-5{width:60%}.jodit-grid .jodit_col-xs-2-5{width:40%}.jodit-grid .jodit_col-xs-1-5{width:20%}.jodit-grid .jodit_col-xs-4-4{width:100%}.jodit-grid .jodit_col-xs-3-4{width:75%}.jodit-grid .jodit_col-xs-2-4{width:50%}.jodit-grid .jodit_col-xs-1-4{width:25%}}@-webkit-keyframes a{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes a{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.jodit-icon_loader{-webkit-animation:a 2s ease-out 0s infinite;animation:a 2s ease-out 0s infinite;background:url('+_+') no-repeat 50%;background-size:100% 100%;display:inline-block;height:48px;vertical-align:middle;width:48px;will-change:transform}.jodit-icon{fill:#4c4c4c;background:50% no-repeat;background-size:contain;height:14px;overflow:visible;-webkit-transform-origin:0 0!important;-ms-transform-origin:0 0!important;transform-origin:0 0!important;width:14px}.jodit-icon{stroke:#4c4c4c}.jodit-icon_close{stroke:#4c4c4c}svg.jodit-icon{height:auto;isolation:isolate}.jodit-icon_text{font-size:14px}.jodit,.jodit *,.jodit-container,.jodit-container *{-webkit-box-sizing:border-box;box-sizing:border-box}.jodit .jodit-workplace,.jodit-container .jodit-workplace{overflow:auto;position:relative}.jodit .jodit-workplace .jodit-wysiwyg,.jodit .jodit-workplace .jodit-wysiwyg_iframe,.jodit-container .jodit-workplace .jodit-wysiwyg,.jodit-container .jodit-workplace .jodit-wysiwyg_iframe{height:100%;width:100%}.jodit-wysiwyg [contenteditable=false]{cursor:default}.jodit-container:not(.jodit_inline){background-color:#f5f5f6;border:1px solid #dadada;border-radius:3px}.jodit-container:not(.jodit_inline) .jodit-workplace{background-color:#fff;border:0 solid #dadada;max-height:100%}.jodit-container:not(.jodit_inline).jodit_disabled{background:#dadada}.jodit-container:not(.jodit_inline).jodit_disabled .jodit-workplace{opacity:.4}.jodit_disabled,.jodit_lock{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.jodit_hidden{display:none!important}.jodit_vertical_middle{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-box,.jodit-context-menu{background:0 0;border:0;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.jodit-context-menu{-webkit-box-shadow:0 4px 1px -2px rgba(76,76,76,.2),0 3px 3px 0 rgba(76,76,76,.15),0 1px 4px 0 rgba(76,76,76,.13);box-shadow:0 4px 1px -2px rgba(76,76,76,.2),0 3px 3px 0 rgba(76,76,76,.15),0 1px 4px 0 rgba(76,76,76,.13);display:inline-block;position:fixed;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:10000001;z-index:30000005}.jodit-context-menu__content{overflow-scrolling:touch;background:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;max-height:300px;overflow:auto;padding:8px}.jodit-context-menu_padding_false .jodit-context-menu__content{padding:0}.jodit-context-menu_max-height_false .jodit-context-menu__content{max-height:-webkit-fit-content;max-height:-moz-fit-content;max-height:fit-content}.jodit-context-menu .jodit-ui-button{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-context-menu__actions{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px}.jodit-context-menu__actions button{width:100%}.jodit-context-menu_theme_dark .jodit-context-menu__content{background-color:#575757}.jodit-popup{background:0 0;border:0;-webkit-box-shadow:0 4px 1px -2px rgba(76,76,76,.2),0 3px 3px 0 rgba(76,76,76,.15),0 1px 4px 0 rgba(76,76,76,.13);box-shadow:0 4px 1px -2px rgba(76,76,76,.2),0 3px 3px 0 rgba(76,76,76,.15),0 1px 4px 0 rgba(76,76,76,.13);display:inline-block;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;position:fixed;-webkit-transform:translateZ(0);transform:translateZ(0);width:auto;z-index:10000001}.jodit-popup__content{overflow-scrolling:touch;background:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;max-height:300px;overflow:auto;padding:8px}.jodit-popup_padding_false .jodit-popup__content{padding:0}.jodit-popup_max-height_false .jodit-popup__content{max-height:-webkit-fit-content;max-height:-moz-fit-content;max-height:fit-content}.jodit-ui-button-icon-text__icon{display:none}.jodit-ui-button-icon-text__icon:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.jodit-ui-button-icon-text__text{display:none}.jodit-ui-button-icon-text__text:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-ui-button-icon-text_context_menu .jodit-ui-button-icon-text__text{-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;padding-left:8px;position:relative}.jodit-ui-button-icon-text_context_menu .jodit-ui-button-icon-text__text:before{border-left:1px solid #dadada;content:"";height:35px;left:0;position:absolute;top:calc(8px*-1)}.jodit-ui-button-icon-text__icon:not(:empty)+.jodit-ui-button-icon-text__text:not(:empty){margin-left:8px}.jodit-ui-button-icon-text__icon:empty+.jodit-ui-button-icon-text__text:not(:empty){padding:0 8px}.jodit-ui-button-clear,.jodit-ui-button_clear{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;font-style:normal;outline:0;padding:0;position:relative;text-align:center;text-decoration:none;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-ui-button-sizes{height:34px;min-width:34px}.jodit-ui-button-sizes .jodit-icon{height:14px;width:14px}.jodit-ui-button-sizes button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:34px;min-width:34px;padding:0}.jodit-ui-button-sizes_text-icons_true button{padding:0 8px}.jodit-ui-button-sizes_size_tiny{height:16px;min-width:16px}.jodit-ui-button-sizes_size_tiny .jodit-icon{height:8px;width:8px}.jodit-ui-button-sizes_size_tiny button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:16px;min-width:16px;padding:0}.jodit-ui-button-sizes_size_tiny_text-icons_true button{padding:0 8px}.jodit-ui-button-sizes_size_xsmall{height:22px;min-width:22px}.jodit-ui-button-sizes_size_xsmall .jodit-icon{height:10px;width:10px}.jodit-ui-button-sizes_size_xsmall button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:22px;min-width:22px;padding:0}.jodit-ui-button-sizes_size_xsmall_text-icons_true button{padding:0 8px}.jodit-ui-button-sizes_size_small{height:28px;min-width:28px}.jodit-ui-button-sizes_size_small .jodit-icon{height:12px;width:12px}.jodit-ui-button-sizes_size_small button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:28px;min-width:28px;padding:0}.jodit-ui-button-sizes_size_small_text-icons_true button{padding:0 8px}.jodit-ui-button-sizes_size_large{height:40px;min-width:40px}.jodit-ui-button-sizes_size_large .jodit-icon{height:16px;width:16px}.jodit-ui-button-sizes_size_large button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:40px;min-width:40px;padding:0}.jodit-ui-button-sizes_size_large_text-icons_true button{padding:0 8px}.jodit-ui-button-variants_variant_default{background-color:#e3e3e3;color:#212529}.jodit-ui-button-variants_variant_default svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_default [disabled]{opacity:.7}.jodit-ui-button-variants_variant_default:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-ui-button-variants_variant_default:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_default:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-ui-button-variants_variant_default:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_default:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-ui-button-variants_variant_primary{background-color:#007bff;color:#fff}.jodit-ui-button-variants_variant_primary svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_primary [disabled]{opacity:.7}.jodit-ui-button-variants_variant_primary:hover:not([disabled]){background-color:#0069d9;color:#fff}.jodit-ui-button-variants_variant_primary:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_primary:active:not([disabled]){background-color:#0062cc;color:#fff}.jodit-ui-button-variants_variant_primary:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_primary:focus:not([disabled]){outline:1px dashed #0062cc}.jodit-ui-button-variants_variant_secondary{background-color:#d8d8d8;border-radius:0;color:#212529}.jodit-ui-button-variants_variant_secondary svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_secondary [disabled]{opacity:.7}.jodit-ui-button-variants_variant_secondary:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-ui-button-variants_variant_secondary:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_secondary:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-ui-button-variants_variant_secondary:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_secondary:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-ui-button-variants_variant_success{background-color:#28a745;color:#fff}.jodit-ui-button-variants_variant_success svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_success [disabled]{opacity:.7}.jodit-ui-button-variants_variant_success:hover:not([disabled]){background-color:#218838;color:#fff}.jodit-ui-button-variants_variant_success:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_success:active:not([disabled]){background-color:#1e7e34;color:#fff}.jodit-ui-button-variants_variant_success:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_success:focus:not([disabled]){outline:1px dashed #1e7e34}.jodit-ui-button-variants_variant_danger{background-color:#dc3545;color:#fff}.jodit-ui-button-variants_variant_danger svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_danger [disabled]{opacity:.7}.jodit-ui-button-variants_variant_danger:hover:not([disabled]){background-color:#c82333;color:#fff}.jodit-ui-button-variants_variant_danger:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_danger:active:not([disabled]){background-color:#bd2130;color:#fff}.jodit-ui-button-variants_variant_danger:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_danger:focus:not([disabled]){outline:1px dashed #bd2130}.jodit-ui-button-style{border-radius:3px;padding:0 8px}.jodit-ui-button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,.75);display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-ui-button-style{-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,.75);display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-ui-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;border-radius:3px;-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer;font-style:normal;height:34px;min-width:34px;outline:0;padding:0;padding:0 8px;position:relative;text-align:center;text-decoration:none;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-ui-button:focus-visible:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-ui-button:hover:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-ui-button:active:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-ui-button[aria-pressed=true]:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-ui-button[aria-pressed=true]:hover:not([disabled]){background-color:hsla(0,0%,86%,.6)}.jodit-ui-button[disabled]{opacity:.3;pointer-events:none}.jodit-ui-button .jodit-icon{height:14px;width:14px}.jodit-ui-button button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:34px;min-width:34px;padding:0}.jodit-ui-button_text-icons_true button{padding:0 8px}.jodit-ui-button_size_tiny{height:16px;min-width:16px}.jodit-ui-button_size_tiny .jodit-icon{height:8px;width:8px}.jodit-ui-button_size_tiny button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:16px;min-width:16px;padding:0}.jodit-ui-button_size_tiny_text-icons_true button{padding:0 8px}.jodit-ui-button_size_xsmall{height:22px;min-width:22px}.jodit-ui-button_size_xsmall .jodit-icon{height:10px;width:10px}.jodit-ui-button_size_xsmall button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:22px;min-width:22px;padding:0}.jodit-ui-button_size_xsmall_text-icons_true button{padding:0 8px}.jodit-ui-button_size_small{height:28px;min-width:28px}.jodit-ui-button_size_small .jodit-icon{height:12px;width:12px}.jodit-ui-button_size_small button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:28px;min-width:28px;padding:0}.jodit-ui-button_size_small_text-icons_true button{padding:0 8px}.jodit-ui-button_size_large{height:40px;min-width:40px}.jodit-ui-button_size_large .jodit-icon{height:16px;width:16px}.jodit-ui-button_size_large button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:40px;min-width:40px;padding:0}.jodit-ui-button_size_large_text-icons_true button{padding:0 8px}.jodit-ui-button__icon{display:none}.jodit-ui-button__icon:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.jodit-ui-button__text{display:none}.jodit-ui-button__text:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-ui-button_context_menu .jodit-ui-button__text{-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;padding-left:8px;position:relative}.jodit-ui-button_context_menu .jodit-ui-button__text:before{border-left:1px solid #dadada;content:"";height:35px;left:0;position:absolute;top:calc(8px*-1)}.jodit-ui-button__icon:not(:empty)+.jodit-ui-button__text:not(:empty){margin-left:8px}.jodit-ui-button__icon:empty+.jodit-ui-button__text:not(:empty){padding:0 8px}.jodit-ui-button:focus:not([disabled]){outline:1px dashed #b5d6fd}.jodit-ui-button_variant_default{background-color:#e3e3e3;color:#212529}.jodit-ui-button_variant_default svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_default [disabled]{opacity:.7}.jodit-ui-button_variant_default:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-ui-button_variant_default:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_default:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-ui-button_variant_default:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_default:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-ui-button_variant_primary{background-color:#007bff;color:#fff}.jodit-ui-button_variant_primary svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_primary [disabled]{opacity:.7}.jodit-ui-button_variant_primary:hover:not([disabled]){background-color:#0069d9;color:#fff}.jodit-ui-button_variant_primary:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_primary:active:not([disabled]){background-color:#0062cc;color:#fff}.jodit-ui-button_variant_primary:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_primary:focus:not([disabled]){outline:1px dashed #0062cc}.jodit-ui-button_variant_secondary{background-color:#d8d8d8;border-radius:0;color:#212529}.jodit-ui-button_variant_secondary svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_secondary [disabled]{opacity:.7}.jodit-ui-button_variant_secondary:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-ui-button_variant_secondary:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_secondary:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-ui-button_variant_secondary:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_secondary:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-ui-button_variant_success{background-color:#28a745;color:#fff}.jodit-ui-button_variant_success svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_success [disabled]{opacity:.7}.jodit-ui-button_variant_success:hover:not([disabled]){background-color:#218838;color:#fff}.jodit-ui-button_variant_success:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_success:active:not([disabled]){background-color:#1e7e34;color:#fff}.jodit-ui-button_variant_success:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_success:focus:not([disabled]){outline:1px dashed #1e7e34}.jodit-ui-button_variant_danger{background-color:#dc3545;color:#fff}.jodit-ui-button_variant_danger svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_danger [disabled]{opacity:.7}.jodit-ui-button_variant_danger:hover:not([disabled]){background-color:#c82333;color:#fff}.jodit-ui-button_variant_danger:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_danger:active:not([disabled]){background-color:#bd2130;color:#fff}.jodit-ui-button_variant_danger:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_danger:focus:not([disabled]){outline:1px dashed #bd2130}.jodit-ui-list{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.jodit-ui-list_mode_vertical .jodit-ui-group{background-color:transparent;border:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.jodit-ui-list_mode_vertical .jodit-toolbar-button{height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2)}.jodit-ui-list_mode_vertical .jodit-toolbar-button__button{cursor:pointer;height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2);width:100%}.jodit-ui-list_mode_vertical .jodit-toolbar-button__text:not(:empty){-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left}.jodit-ui-separator{border-left:0;border-right:1px solid #dadada;cursor:default;margin:2px;padding:0}.jodit-ui-break{border-top:1px solid #dadada;-ms-flex-preferred-size:100%;flex-basis:100%;height:0!important;width:0}.jodit-ui-spacer{-webkit-box-flex:1;-ms-flex:1;flex:1}.jodit-ui-group{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-negative:0;flex-shrink:0;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:100%}.jodit-ui-group_line_true{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch}.jodit-ui-group_separated_true:not(:last-child):not(.jodit-ui-group_before-spacer_true):after{border-left:0;border-right:1px solid #dadada;content:"";cursor:default;margin:2px;padding:0}.jodit-ui-group:last-child{border-bottom:0}.jodit-ui-button-group{margin-bottom:8px}.jodit-ui-button-group__label{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-button-group__options{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.jodit-ui-button-group .jodit-ui-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.jodit-ui-button-group .jodit-ui-button+.jodit-ui-button{border-bottom-left-radius:0;border-left:1px solid hsla(0,0%,86%,.4);border-top-left-radius:0}.jodit-ui-button-group .jodit-ui-button[aria-pressed=true]:not([disabled]){background-color:#dcdcdc;border-left:0;-webkit-box-shadow:inset 0 0 3px 0 #4c4c4c;box-shadow:inset 0 0 3px 0 #4c4c4c;color:#4c4c4c;outline:0}.jodit-ui-button-group .jodit-ui-button[aria-pressed=true]:not([disabled])+.jodit-ui-button{border:0}.jodit-ui-tooltip{background:#727171;background-clip:padding-box;border-radius:2px;color:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-size:11px;line-height:1.4;max-width:120px;opacity:0;padding:calc(8px/4) calc(8px/2);position:fixed;text-rendering:optimizeLegibility;-webkit-transition:opacity .2s ease 0s;-o-transition:opacity .2s ease 0s;transition:opacity .2s ease 0s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:normal;width:auto;z-index:30000006}@media (max-width:768px){.jodit-ui-tooltip{display:none}}.jodit-ui-tooltip.jodit-ui-tooltip_visible_true{opacity:1}.jodit-dialog{border:0;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:0;position:absolute;width:0;will-change:left,top,width,height}.jodit-dialog_moved_true{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-dialog *{-webkit-box-sizing:border-box;box-sizing:border-box}.jodit-dialog .jodit_elfinder,.jodit-dialog .jodit_elfinder *{-webkit-box-sizing:initial;box-sizing:initial}.jodit-dialog__overlay{background-color:rgba(0,0,0,.5);display:none;height:100%;left:0;overflow:auto;position:fixed;text-align:center;top:0;white-space:nowrap;width:100%;z-index:20000003}.jodit-dialog_static_true .jodit-dialog__overlay{display:none}.jodit-dialog_active_true,.jodit-dialog_modal_true .jodit-dialog__overlay{display:block}.jodit-dialog__panel{background-color:#fff;-webkit-box-shadow:0 8px calc(8px*2) rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);box-shadow:0 8px calc(8px*2) rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column nowrap;flex-flow:column nowrap;left:0;max-height:100%;max-width:100%;min-height:100px;min-width:200px;position:fixed;text-align:left;top:0;white-space:normal;z-index:20000004}@media (max-width:480px){.jodit-dialog:not(.jodit-dialog_adaptive_false) .jodit-dialog__panel{height:100%!important;left:0!important;max-width:100%;top:0!important;width:100%!important}}.jodit-dialog_static_true{-webkit-box-sizing:border-box;box-sizing:border-box;display:block;height:auto;position:relative;width:auto;z-index:inherit}.jodit-dialog_static_true .jodit-dialog__panel{border:1px solid #dadada;-webkit-box-shadow:none;box-shadow:none;left:auto!important;position:relative;top:auto!important;width:100%!important;z-index:inherit}.jodit-dialog_theme_dark{background-color:#353535;color:#fff}.jodit-dialog_theme_dark .jodit-dialog__panel{background-color:#353535;color:#fff}.jodit-dialog__header{border-bottom:1px solid #dadada;cursor:move;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;min-height:50px;text-align:left}.jodit-dialog__header-title{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-negative:3;flex-shrink:3;font-size:18px;font-weight:400;line-height:48px;margin:0;padding:0 8px;vertical-align:top}.jodit-dialog__header-toolbar{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-negative:3;flex-shrink:3;font-size:18px;font-weight:400;line-height:48px;margin:0;padding:0 8px;vertical-align:top}@media (max-width:480px){.jodit-dialog__header-toolbar{padding-left:0}}.jodit-dialog__header-button{color:#222;-ms-flex-preferred-size:48px;flex-basis:48px;font-size:28px;height:48px;line-height:48px;text-align:center;text-decoration:none;-webkit-transition:background-color .2s ease 0s;-o-transition:background-color .2s ease 0s;transition:background-color .2s ease 0s}.jodit-dialog__header-button:hover{background-color:#ecebe9}.jodit-dialog__header .jodit_toolbar{background:transparent;border:0;-webkit-box-shadow:none;box-shadow:none}.jodit-dialog__header .jodit_toolbar>li.jodit-toolbar-button .jodit-input{padding-left:8px;width:auto}@media (max-width:480px){.jodit-dialog:not(.jodit-dialog_adaptive_false) .jodit-dialog__header{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}.jodit-dialog_slim_true .jodit-dialog__header{min-height:10px}.jodit-dialog_slim_true .jodit-dialog__header-title{padding:0 calc(8px/4)}.jodit-dialog_slim_true .jodit-dialog__header-toolbar{padding:0 calc(8px/4)}.jodit-dialog_theme_dark .jodit-dialog__header{border-color:#4c4c4c}.jodit-dialog_fullsize_true .jodit-dialog__header{cursor:default}.jodit-dialog__content{-webkit-box-flex:1;-ms-flex:1;flex:1;min-height:100px;overflow:auto}.jodit-dialog__content .jodit-form__group{margin-bottom:calc(8px*1.5);padding:0 8px}.jodit-dialog__content .jodit-form__group:first-child{margin-top:8px}.jodit-dialog__content .jodit-form__group label+.jodit-grid{margin-top:calc(8px/2)}.jodit-dialog__content .jodit-form__group label+.jodit-input_group{margin-top:calc(8px/2)}.jodit-dialog__content .jodit-form__group label+.jodit-select{margin-top:calc(8px/2)}.jodit-dialog__content .jodit-form__group label+input{margin-top:calc(8px/2)}.jodit-dialog__content .jodit-form__group .jodit-input_group{border-collapse:separate;display:table;width:100%}.jodit-dialog__content .jodit-form__group .jodit-input_group>*{display:table-cell;height:34px;vertical-align:middle}.jodit-dialog__content .jodit-form__group .jodit-input_group>input{margin:0!important}.jodit-dialog__content .jodit-form__group .jodit-input_group>input:not([class*=col-]){width:100%}.jodit-dialog__content .jodit-form__group .jodit-input_group-buttons{font-size:0;vertical-align:middle;white-space:nowrap;width:1%}.jodit-dialog__content .jodit-form__group .jodit-input_group-buttons>.jodit-button{border:1px solid #dadada;border-radius:0;height:34px;line-height:34px;margin-left:-1px}.jodit-dialog__footer{display:none;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:8px}.jodit-dialog__footer button{margin-right:calc(8px/2)}.jodit-dialog__footer button:last-child{margin-right:0}.jodit-dialog__column{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-dialog__resizer{display:none;position:relative}.jodit-dialog__resizer svg{fill:#a5a5a5;bottom:0;cursor:nwse-resize;height:12px;overflow:hidden;position:absolute;right:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:12px}.jodit-dialog_resizable_true .jodit-dialog__resizer{display:block}@media (max-width:480px){.jodit-dialog__resizer{display:none}}.jodit-dialog_prompt{max-width:300px;min-width:200px;padding:8px;word-break:break-all}.jodit-dialog_prompt label{display:block;margin-bottom:calc(8px/2)}.jodit-dialog_alert{max-width:300px;min-width:200px;padding:8px;word-break:break-all}.jodit-dialog_footer_true .jodit-dialog__footer{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit_fullsize .jodit-dialog__panel{bottom:0!important;height:100%!important;left:0!important;right:0!important;top:0!important;width:100%!important}.jodit_fullsize .jodit-dialog__panel .jodit-dialog__resizer{display:none}.jodit-dialog .jodit-ui-messages{z-index:20000004}.jodit-toolbar__box:not(:empty){background-color:#fff;border-bottom:1px solid #dadada;border-radius:3px 3px 0 0;overflow:hidden}.jodit-toolbar__box:not(:empty):not(:empty){background-color:#f9f9f9}.jodit-toolbar__box:not(:empty) .jodit-toolbar-editor-collection:after{background-color:#f9f9f9}.jodit-ui-messages{bottom:0;height:0;overflow:visible;position:absolute;right:0;width:0;z-index:3}.jodit-ui-message{background:#cfe2ff;border:1px solid #b6d4fe;border-radius:0.375rem;bottom:0;color:#084298;cursor:pointer;display:block;font-size:1rem;opacity:0;padding:0.5rem 1rem;position:absolute;right:calc(8px/2);-webkit-transition:opacity .1s linear,bottom .3s linear,-webkit-transform .1s ease-out;transition:opacity .1s linear,bottom .3s linear,-webkit-transform .1s ease-out;-o-transition:opacity .1s linear,bottom .3s linear,transform .1s ease-out;transition:opacity .1s linear,bottom .3s linear,transform .1s ease-out;transition:opacity .1s linear,bottom .3s linear,transform .1s ease-out,-webkit-transform .1s ease-out;white-space:pre}.jodit-ui-message_active_true{opacity:1}.jodit-ui-message:active{-webkit-transform:scale(.76);-ms-transform:scale(.76);transform:scale(.76)}.jodit-ui-message_variant_danger{background:#f8d7da;border-color:#f5c2c7;color:#842029}.jodit-ui-message_variant_error{background:#f8d7da;border-color:#f5c2c7;color:#842029}.jodit-ui-message_variant_secondary{background:#e2e3e5;border-color:#d3d6d8;color:#41464b}.jodit-ui-message_variant_success{background:#d1e7dd;border-color:#badbcc;color:#0f5132}.jodit-ui-label{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-input{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:8px}.jodit-ui-input__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:0;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit-ui-input__input[disabled]{background-color:#f0f0f0;color:#dadada}.jodit-ui-input__input_has-error_true{border-color:#ff3b3b}.jodit-ui-input__input:focus{outline:0}.jodit-ui-input_theme_dark .jodit-ui-input__input{background-color:#dadada}.jodit-ui-input_has-error_true .jodit-ui-input__input{border-color:#ff3b3b}.jodit-ui-input__error{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-input__label{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-input__error{color:#ff3b3b}.jodit-ui-input_has-error_true .jodit-ui-input__label{color:#ff3b3b}.jodit-ui-input__wrapper{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;border:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;min-width:200px}@media (max-width:480px){.jodit-ui-input__wrapper{min-width:140px}}.jodit-ui-input_theme_dark .jodit-ui-input__wrapper{background-color:#dadada;border-color:#dadada}.jodit-ui-input_focused_true .jodit-ui-input__wrapper{border-color:#1e88e5}.jodit-ui-input__icon:not(:empty){-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 8px}.jodit-ui-input__icon:not(:empty) svg{fill:#dadada;height:16px;width:16px}.jodit-ui-input__icon:not(:empty)+.jodit-ui-input__input{padding-left:0}.jodit-ui-input__clear{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;opacity:.8;padding:0 8px 0 0}.jodit-ui-input__clear:active{opacity:1;-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}.jodit-ui-input__clear svg{fill:#dadada;height:12px;width:12px}.jodit-ui-input_theme_dark .jodit-ui-input__clear svg{fill:#4c4c4c}.jodit-ui-input_theme_dark .jodit-ui-input__icon svg{fill:#4c4c4c}.jodit-ui-block .jodit-ui-input{margin-bottom:0}.jodit-ui-select{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:8px}.jodit-ui-select__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:0;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit-ui-select__input[disabled]{background-color:#f0f0f0;color:#dadada}.jodit-ui-select__input_has-error_true{border-color:#ff3b3b}.jodit-ui-select__input:focus{outline:0}.jodit-ui-select_theme_dark .jodit-ui-select__input{background-color:#dadada}.jodit-ui-select_has-error_true .jodit-ui-select__input{border-color:#ff3b3b}.jodit-ui-select__error{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-select__label{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-select__error{color:#ff3b3b}.jodit-ui-select_has-error_true .jodit-ui-select__label{color:#ff3b3b}.jodit-ui-select__wrapper{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;border:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;min-width:200px}@media (max-width:480px){.jodit-ui-select__wrapper{min-width:140px}}.jodit-ui-select_theme_dark .jodit-ui-select__wrapper{background-color:#dadada;border-color:#dadada}.jodit-ui-select_focused_true .jodit-ui-select__wrapper{border-color:#1e88e5}.jodit-ui-select__icon:not(:empty){-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 8px}.jodit-ui-select__icon:not(:empty) svg{fill:#dadada;height:16px;width:16px}.jodit-ui-select__icon:not(:empty)+.jodit-ui-select__input{padding-left:0}.jodit-ui-select__clear{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;opacity:.8;padding:0 8px 0 0}.jodit-ui-select__clear:active{opacity:1;-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}.jodit-ui-select__clear svg{fill:#dadada;height:12px;width:12px}.jodit-ui-select_theme_dark .jodit-ui-select__clear svg{fill:#4c4c4c}.jodit-ui-select_theme_dark .jodit-ui-select__icon svg{fill:#4c4c4c}.jodit-ui-select__input{background-image:url('+S+');background-position:98% 50%;background-repeat:no-repeat;padding-right:calc(8px*2)}.jodit-ui-select_size_tiny{margin-bottom:0}.jodit-ui-select_size_tiny .jodit-ui-select__input{height:calc(32px/1.8);line-height:calc(32px/1.8)}.jodit-ui-select_variant_outline .jodit-ui-select__wrapper{border:0}.jodit-ui-select_variant_outline .jodit-ui-select__wrapper select{outline:0}.jodit-ui-select_width_auto{width:auto}.jodit-ui-select_width_auto .jodit-ui-select__wrapper{min-width:auto}.jodit-ui-text-area{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:8px;width:100%}.jodit-ui-text-area__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:0;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit-ui-text-area__input[disabled]{background-color:#f0f0f0;color:#dadada}.jodit-ui-text-area__input_has-error_true{border-color:#ff3b3b}.jodit-ui-text-area__input:focus{outline:0}.jodit-ui-text-area_theme_dark .jodit-ui-text-area__input{background-color:#dadada}.jodit-ui-text-area_has-error_true .jodit-ui-text-area__input{border-color:#ff3b3b}.jodit-ui-text-area__error{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-text-area__label{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-text-area__error{color:#ff3b3b}.jodit-ui-text-area_has-error_true .jodit-ui-text-area__label{color:#ff3b3b}.jodit-ui-text-area__wrapper{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;border:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;min-width:200px}@media (max-width:480px){.jodit-ui-text-area__wrapper{min-width:140px}}.jodit-ui-text-area_theme_dark .jodit-ui-text-area__wrapper{background-color:#dadada;border-color:#dadada}.jodit-ui-text-area_focused_true .jodit-ui-text-area__wrapper{border-color:#1e88e5}.jodit-ui-text-area__icon:not(:empty){-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 8px}.jodit-ui-text-area__icon:not(:empty) svg{fill:#dadada;height:16px;width:16px}.jodit-ui-text-area__icon:not(:empty)+.jodit-ui-text-area__input{padding-left:0}.jodit-ui-text-area__clear{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;opacity:.8;padding:0 8px 0 0}.jodit-ui-text-area__clear:active{opacity:1;-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}.jodit-ui-text-area__clear svg{fill:#dadada;height:12px;width:12px}.jodit-ui-text-area_theme_dark .jodit-ui-text-area__clear svg{fill:#4c4c4c}.jodit-ui-text-area_theme_dark .jodit-ui-text-area__icon svg{fill:#4c4c4c}.jodit-ui-text-area__wrapper{-webkit-box-flex:1;-ms-flex:1;flex:1}.jodit-ui-text-area__input{height:100%;min-height:60px}.jodit-ui-checkbox{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-bottom:8px}.jodit-ui-checkbox__input{margin-right:8px}.jodit-ui-checkbox_switch_true .jodit-ui-checkbox__wrapper{display:inline-block;height:34px;margin-right:8px;position:relative;width:60px}.jodit-ui-checkbox_switch_true .jodit-ui-checkbox__wrapper input{height:0;opacity:0;width:0}.jodit-ui-checkbox_switch_true .jodit-ui-checkbox__switch-slider{background-color:#ccc;border-radius:34px;bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0;-webkit-transition:.4s;-o-transition:.4s;transition:.4s}.jodit-ui-checkbox_switch_true .jodit-ui-checkbox__switch-slider:before{background-color:#fff;border-radius:50%;bottom:4px;content:"";height:26px;left:4px;position:absolute;-webkit-transition:.4s;-o-transition:.4s;transition:.4s;width:26px}.jodit-ui-checkbox_switch_true.jodit-ui-checkbox_checked_true .jodit-ui-checkbox__switch-slider{background-color:#2196f3}.jodit-ui-checkbox_switch_true.jodit-ui-checkbox_checked_true .jodit-ui-checkbox__switch-slider:before{-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px)}.jodit-ui-checkbox_switch_true.jodit-ui-checkbox_focused_true .jodit-ui-checkbox__switch-slider{-webkit-box-shadow:0 0 1px #2196f3;box-shadow:0 0 1px #2196f3}.jodit-ui-block .jodit-ui-checkbox{margin-bottom:0}.jodit-ui-file-input{overflow:hidden;position:relative}.jodit-ui-file-input__input{bottom:0;cursor:pointer;font-size:400px;margin:0 calc(8px*-1) 0 0;opacity:0;padding:0;position:absolute;right:0;top:0}.jodit-ui-block{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;margin-bottom:8px}.jodit-ui-block_width_full{width:100%}.jodit-ui-block_align_full{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.jodit-ui-block_align_right{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.jodit-ui-block_padding_true{padding:8px}@-webkit-keyframes b{30%{opacity:.6}60%{opacity:0}to{opacity:.6}}@keyframes b{30%{opacity:.6}60%{opacity:0}to{opacity:.6}}.jodit-progress-bar{border-radius:1px;height:2px;left:0;opacity:.7;position:absolute;top:0;z-index:2147483647}.jodit-progress-bar div{background:#b91f1f;height:2px;position:relative;-webkit-transition:width .5s ease-out,opacity .5s linear;-o-transition:width .5s ease-out,opacity .5s linear;transition:width .5s ease-out,opacity .5s linear;will-change:width,opacity}.jodit-progress-bar div:after{-webkit-animation:b 2s ease-out 0s infinite;animation:b 2s ease-out 0s infinite;border-radius:100%;-webkit-box-shadow:#b91f1f 1px 0 6px 1px;box-shadow:#b91f1f 1px 0 6px 1px;content:"";display:inline-block;height:2px;opacity:.6;position:absolute;top:0}.jodit-progress-bar div:before{-webkit-animation:b 2s ease-out 0s infinite;animation:b 2s ease-out 0s infinite;border-radius:100%;-webkit-box-shadow:#b91f1f 1px 0 6px 1px;box-shadow:#b91f1f 1px 0 6px 1px;content:"";display:inline-block;height:2px;opacity:.6;position:absolute;top:0}.jodit-progress-bar div:before{clip:rect(-6px,90px,14px,-6px);right:-80px;width:180px}.jodit-progress-bar div:after{clip:rect(-6px,22px,14px,8px);right:0;width:20px}.jodit-toolbar-collection,.jodit-toolbar-editor-collection{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#dadada calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#dadada calc(14px + calc((14px - 4px)*2) + 2px*2));position:relative}.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#dadada calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#dadada calc(14px + calc((14px - 4px)*2) + 2px*2));position:relative}.jodit-toolbar-collection_mode_horizontal:after{background-color:#fff;bottom:0;content:"";display:block;height:1px;left:0;position:absolute;width:100%}.jodit-toolbar-editor-collection_mode_horizontal:after{background-color:#fff;bottom:0;content:"";display:block;height:1px;left:0;position:absolute;width:100%}.jodit-toolbar-collection_size_tiny.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px);background-image:repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px)}.jodit-toolbar-collection_size_tiny.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px);background-image:repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px)}.jodit-toolbar-editor-collection_size_tiny.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px);background-image:repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px)}.jodit-toolbar-editor-collection_size_tiny.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px);background-image:repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px)}.jodit-toolbar-collection_size_xsmall.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px);background-image:repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px)}.jodit-toolbar-collection_size_xsmall.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px);background-image:repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px)}.jodit-toolbar-editor-collection_size_xsmall.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px);background-image:repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px)}.jodit-toolbar-editor-collection_size_xsmall.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px);background-image:repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px)}.jodit-toolbar-collection_size_small.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px);background-image:repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px)}.jodit-toolbar-collection_size_small.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px);background-image:repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px)}.jodit-toolbar-editor-collection_size_small.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px);background-image:repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px)}.jodit-toolbar-editor-collection_size_small.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px);background-image:repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px)}.jodit-toolbar-collection_size_middle.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px);background-image:repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px)}.jodit-toolbar-collection_size_middle.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px);background-image:repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px)}.jodit-toolbar-editor-collection_size_middle.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px);background-image:repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px)}.jodit-toolbar-editor-collection_size_middle.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px);background-image:repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px)}.jodit-toolbar-collection_size_large.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px);background-image:repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px)}.jodit-toolbar-collection_size_large.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px);background-image:repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px)}.jodit-toolbar-editor-collection_size_large.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px);background-image:repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px)}.jodit-toolbar-editor-collection_size_large.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px);background-image:repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px)}.jodit-toolbar-collection_mode_vertical .jodit-ui-group,.jodit-toolbar-editor-collection_mode_vertical .jodit-ui-group{background-color:transparent;border:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.jodit-toolbar-collection_mode_vertical .jodit-toolbar-button{height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2)}.jodit-toolbar-editor-collection_mode_vertical .jodit-toolbar-button{height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2)}.jodit-toolbar-collection_mode_vertical .jodit-toolbar-button__button{cursor:pointer;height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2);width:100%}.jodit-toolbar-editor-collection_mode_vertical .jodit-toolbar-button__button{cursor:pointer;height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2);width:100%}.jodit-toolbar-collection_mode_vertical .jodit-toolbar-button__text:not(:empty),.jodit-toolbar-editor-collection_mode_vertical .jodit-toolbar-button__text:not(:empty){-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left}.jodit-toolbar-collection .jodit-toolbar-button{margin:2px 1px;padding:0}.jodit-toolbar-collection .jodit-toolbar-content{margin:2px 1px;padding:0}.jodit-toolbar-editor-collection .jodit-toolbar-button{margin:2px 1px;padding:0}.jodit-toolbar-editor-collection .jodit-toolbar-content{margin:2px 1px;padding:0}.jodit-dialog .jodit-toolbar-collection_mode_horizontal,.jodit-dialog .jodit-toolbar-editor-collection_mode_horizontal{background-image:none}.jodit-toolbar-button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid transparent;border-radius:3px;display:-webkit-box;display:-ms-flexbox;display:flex;height:34px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-width:34px;overflow:hidden}.jodit-toolbar-button__icon{display:none}.jodit-toolbar-button__icon:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.jodit-toolbar-button__text{display:none}.jodit-toolbar-button__text:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-toolbar-button_context_menu .jodit-toolbar-button__text{-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;padding-left:8px;position:relative}.jodit-toolbar-button_context_menu .jodit-toolbar-button__text:before{border-left:1px solid #dadada;content:"";height:35px;left:0;position:absolute;top:calc(8px*-1)}.jodit-toolbar-button__icon:not(:empty)+.jodit-toolbar-button__text:not(:empty){margin-left:8px}.jodit-toolbar-button__icon:empty+.jodit-toolbar-button__text:not(:empty){padding:0 8px;padding:0}.jodit-toolbar-button .jodit-icon{height:14px;width:14px}.jodit-toolbar-button button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:34px;min-width:34px;padding:0}.jodit-toolbar-button_text-icons_true button{padding:0 8px}.jodit-toolbar-button_size_tiny{height:16px;min-width:16px}.jodit-toolbar-button_size_tiny .jodit-icon{height:8px;width:8px}.jodit-toolbar-button_size_tiny button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:16px;min-width:16px;padding:0}.jodit-toolbar-button_size_tiny_text-icons_true button{padding:0 8px}.jodit-toolbar-button_size_xsmall{height:22px;min-width:22px}.jodit-toolbar-button_size_xsmall .jodit-icon{height:10px;width:10px}.jodit-toolbar-button_size_xsmall button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:22px;min-width:22px;padding:0}.jodit-toolbar-button_size_xsmall_text-icons_true button{padding:0 8px}.jodit-toolbar-button_size_small{height:28px;min-width:28px}.jodit-toolbar-button_size_small .jodit-icon{height:12px;width:12px}.jodit-toolbar-button_size_small button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:28px;min-width:28px;padding:0}.jodit-toolbar-button_size_small_text-icons_true button{padding:0 8px}.jodit-toolbar-button_size_large{height:40px;min-width:40px}.jodit-toolbar-button_size_large .jodit-icon{height:16px;width:16px}.jodit-toolbar-button_size_large button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:40px;min-width:40px;padding:0}.jodit-toolbar-button_size_large_text-icons_true button{padding:0 8px}.jodit-toolbar-button__button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;border-radius:3px;-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;color:rgba(0,0,0,.75);cursor:pointer;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;font-style:normal;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;outline:0;padding:0;padding:0 8px;position:relative;text-align:center;text-decoration:none;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-toolbar-button__button:focus-visible:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-button__button:hover:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-button__button:active:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-button__button[aria-pressed=true]:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-button__button[aria-pressed=true]:hover:not([disabled]){background-color:hsla(0,0%,86%,.6)}.jodit-toolbar-button__button[disabled]{opacity:.3;pointer-events:none}.jodit-toolbar-button__trigger{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:0 3px 3px 0;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;opacity:.4;width:14px}.jodit-toolbar-button__trigger:focus-visible:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-button__trigger:hover:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-button__trigger:active:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-button__trigger[aria-pressed=true]:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-button__trigger[aria-pressed=true]:hover:not([disabled]){background-color:hsla(0,0%,86%,.6)}.jodit-toolbar-button__trigger[disabled]{opacity:.3;pointer-events:none}.jodit-toolbar-button__trigger svg{width:10px}.jodit-toolbar-button_size_tiny .jodit-toolbar-button__trigger{width:8px}.jodit-toolbar-button_size_tiny .jodit-toolbar-button__trigger svg{width:4px}.jodit-toolbar-button_size_xsmall .jodit-toolbar-button__trigger{width:10px}.jodit-toolbar-button_size_xsmall .jodit-toolbar-button__trigger svg{width:6px}.jodit-toolbar-button_size_small .jodit-toolbar-button__trigger{width:12px}.jodit-toolbar-button_size_small .jodit-toolbar-button__trigger svg{width:8px}.jodit-toolbar-button_size_large .jodit-toolbar-button__trigger{width:16px}.jodit-toolbar-button_size_large .jodit-toolbar-button__trigger svg{width:12px}.jodit-toolbar-button_with-trigger_true .jodit-toolbar-button__button{border-radius:3px 0 0 3px}.jodit-toolbar-button_with-trigger_true:hover:not([disabled]){border-color:#dadada}.jodit-toolbar-button_stroke_false svg{stroke:none}.jodit-toolbar-content{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:1px solid transparent;border-radius:3px;-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;color:rgba(0,0,0,.75);cursor:pointer;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;font-style:normal;height:34px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-width:34px;outline:0;padding:0;position:relative;text-align:center;text-decoration:none;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-toolbar-content:focus-visible:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-content:hover:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-content:active:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-content[aria-pressed=true]:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-content[aria-pressed=true]:hover:not([disabled]){background-color:hsla(0,0%,86%,.6)}.jodit-toolbar-content[disabled]{opacity:.3;pointer-events:none}.jodit-toolbar-content .jodit-icon{height:14px;width:14px}.jodit-toolbar-content button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:34px;min-width:34px;padding:0}.jodit-toolbar-content_text-icons_true button{padding:0 8px}.jodit-toolbar-content_size_tiny{height:16px;min-width:16px}.jodit-toolbar-content_size_tiny .jodit-icon{height:8px;width:8px}.jodit-toolbar-content_size_tiny button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:16px;min-width:16px;padding:0}.jodit-toolbar-content_size_tiny_text-icons_true button{padding:0 8px}.jodit-toolbar-content_size_xsmall{height:22px;min-width:22px}.jodit-toolbar-content_size_xsmall .jodit-icon{height:10px;width:10px}.jodit-toolbar-content_size_xsmall button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:22px;min-width:22px;padding:0}.jodit-toolbar-content_size_xsmall_text-icons_true button{padding:0 8px}.jodit-toolbar-content_size_small{height:28px;min-width:28px}.jodit-toolbar-content_size_small .jodit-icon{height:12px;width:12px}.jodit-toolbar-content_size_small button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:28px;min-width:28px;padding:0}.jodit-toolbar-content_size_small_text-icons_true button{padding:0 8px}.jodit-toolbar-content_size_large{height:40px;min-width:40px}.jodit-toolbar-content_size_large .jodit-icon{height:16px;width:16px}.jodit-toolbar-content_size_large button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:40px;min-width:40px;padding:0}.jodit-toolbar-content_size_large_text-icons_true button{padding:0 8px}.jodit-toolbar-content__icon{display:none}.jodit-toolbar-content__icon:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.jodit-toolbar-content__text{display:none}.jodit-toolbar-content__text:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-toolbar-content_context_menu .jodit-toolbar-content__text{-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;padding-left:8px;position:relative}.jodit-toolbar-content_context_menu .jodit-toolbar-content__text:before{border-left:1px solid #dadada;content:"";height:35px;left:0;position:absolute;top:calc(8px*-1)}.jodit-toolbar-content__icon:not(:empty)+.jodit-toolbar-content__text:not(:empty){margin-left:8px}.jodit-toolbar-content__icon:empty+.jodit-toolbar-content__text:not(:empty){padding:0 8px}.jodit-toolbar-content:focus:not([disabled]){outline:1px dashed #b5d6fd}.jodit-toolbar-content_variant_default{background-color:#e3e3e3;color:#212529}.jodit-toolbar-content_variant_default svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_default [disabled]{opacity:.7}.jodit-toolbar-content_variant_default:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-toolbar-content_variant_default:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_default:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-toolbar-content_variant_default:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_default:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-toolbar-content_variant_primary{background-color:#007bff;color:#fff}.jodit-toolbar-content_variant_primary svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_primary [disabled]{opacity:.7}.jodit-toolbar-content_variant_primary:hover:not([disabled]){background-color:#0069d9;color:#fff}.jodit-toolbar-content_variant_primary:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_primary:active:not([disabled]){background-color:#0062cc;color:#fff}.jodit-toolbar-content_variant_primary:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_primary:focus:not([disabled]){outline:1px dashed #0062cc}.jodit-toolbar-content_variant_secondary{background-color:#d8d8d8;border-radius:0;color:#212529}.jodit-toolbar-content_variant_secondary svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_secondary [disabled]{opacity:.7}.jodit-toolbar-content_variant_secondary:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-toolbar-content_variant_secondary:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_secondary:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-toolbar-content_variant_secondary:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_secondary:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-toolbar-content_variant_success{background-color:#28a745;color:#fff}.jodit-toolbar-content_variant_success svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_success [disabled]{opacity:.7}.jodit-toolbar-content_variant_success:hover:not([disabled]){background-color:#218838;color:#fff}.jodit-toolbar-content_variant_success:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_success:active:not([disabled]){background-color:#1e7e34;color:#fff}.jodit-toolbar-content_variant_success:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_success:focus:not([disabled]){outline:1px dashed #1e7e34}.jodit-toolbar-content_variant_danger{background-color:#dc3545;color:#fff}.jodit-toolbar-content_variant_danger svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_danger [disabled]{opacity:.7}.jodit-toolbar-content_variant_danger:hover:not([disabled]){background-color:#c82333;color:#fff}.jodit-toolbar-content_variant_danger:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_danger:active:not([disabled]){background-color:#bd2130;color:#fff}.jodit-toolbar-content_variant_danger:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_danger:focus:not([disabled]){outline:1px dashed #bd2130}.jodit-toolbar-content:hover:not([disabled]){background-color:transparent;opacity:1;outline:0}.jodit-filebrowser{display:-webkit-box;display:-ms-flexbox;display:flex;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;height:100%}.jodit-filebrowser_no-files_true{padding:8px}@media (max-width:480px){.jodit-filebrowser{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-flow:column-reverse;flex-flow:column-reverse}}.jodit-dialog .jodit-dialog__header-title.jodit-filebrowser__title-box{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding-left:8px}.jodit-filebrowser-preview{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:auto;max-height:100%;max-width:Min(100%,1000px);min-height:Min(100%,500px);min-width:400px;position:relative;text-align:center}@media (max-width:768px){.jodit-filebrowser-preview{height:100%;max-height:100%;max-width:100%;min-height:auto;min-width:auto}}.jodit-filebrowser-preview__box{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-filebrowser-preview__navigation{cursor:pointer;height:100%;left:0;position:absolute;top:0}.jodit-filebrowser-preview__navigation_arrow_next{left:auto;right:0}.jodit-filebrowser-preview__navigation svg{fill:#9e9ba7;height:45px;position:relative;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);-webkit-transition:fill .3s linear;-o-transition:fill .3s linear;transition:fill .3s linear;width:45px}.jodit-filebrowser-preview__navigation:hover svg{fill:#000}.jodit-filebrowser-preview img{max-height:100%;max-width:100%}.jodit-image-editor{height:100%;overflow:hidden;padding:8px;width:100%}@media (max-width:768px){.jodit-image-editor{height:auto}}.jodit-image-editor>div,.jodit-image-editor>div>div{height:100%}@media (max-width:768px){.jodit-image-editor>div,.jodit-image-editor>div>div{height:auto;min-height:200px}}.jodit-image-editor *{-webkit-box-sizing:border-box;box-sizing:border-box}.jodit-image-editor .jodit-image-editor__slider-title{background-color:#f9f9f9;border-bottom:1px solid hsla(0,0%,62%,.31);color:#333;cursor:pointer;font-weight:700;line-height:1em;padding:.8em 1em;-o-text-overflow:ellipsis;text-overflow:ellipsis;text-shadow:#f3f3f3 0 1px 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.jodit-image-editor .jodit-image-editor__slider-title svg{display:inline-block;margin-right:8px;vertical-align:middle;width:16px}.jodit-image-editor .jodit-image-editor__slider-content{display:none}.jodit-image-editor .jodit-image-editor__slider.jodit-image-editor_active .jodit-image-editor__slider-title{background-color:#5d5d5d;color:#fff;text-shadow:#000 0 1px 0}.jodit-image-editor .jodit-image-editor__slider.jodit-image-editor_active .jodit-image-editor__slider-title svg{fill:#fff}.jodit-image-editor .jodit-image-editor__slider.jodit-image-editor_active .jodit-image-editor__slider-content{display:block}.jodit-image-editor__area{background-color:#eee;background-image:-o-linear-gradient(45deg,#dadada 25%,transparent 25%,transparent 75%,#dadada 75%,#dadada),-o-linear-gradient(45deg,#dadada 25%,transparent 25%,transparent 75%,#dadada 75%,#dadada);background-image:linear-gradient(45deg,#dadada 25%,transparent 25%,transparent 75%,#dadada 75%,#dadada),linear-gradient(45deg,#dadada 25%,transparent 25%,transparent 75%,#dadada 75%,#dadada);background-position:0 0,15px 15px;background-size:30px 30px;display:none;height:100%;overflow:hidden;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.jodit-image-editor__area.jodit-image-editor_active{display:block}.jodit-image-editor__area .jodit-image-editor__box{height:100%;overflow:hidden;pointer-events:none;position:relative;z-index:1}.jodit-image-editor__area .jodit-image-editor__box img{max-height:100%;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-image-editor__area .jodit-image-editor__croper{background-repeat:no-repeat;border:1px solid #fff;-webkit-box-shadow:0 0 11px #000;box-shadow:0 0 11px #000;height:100px;left:20px;pointer-events:none;position:absolute;top:8px;width:100px;z-index:2}.jodit-image-editor__area .jodit-image-editor__resizer{background-repeat:no-repeat;border:1px solid #fff;-webkit-box-shadow:0 0 11px #000;box-shadow:0 0 11px #000;height:100px;left:20px;pointer-events:none;position:absolute;top:8px;width:100px;z-index:2}.jodit-image-editor__area .jodit-image-editor__croper i.jodit_bottomright{background-color:#8c7878;border:1px solid #383838;border-radius:50%;bottom:calc(8px*-1);-webkit-box-shadow:0 0 11px #000;box-shadow:0 0 11px #000;cursor:se-resize;display:inline-block;height:20px;pointer-events:all;position:absolute;right:calc(8px*-1);width:20px;z-index:4}.jodit-image-editor__area .jodit-image-editor__resizer i.jodit_bottomright{background-color:#8c7878;border:1px solid #383838;border-radius:50%;bottom:calc(8px*-1);-webkit-box-shadow:0 0 11px #000;box-shadow:0 0 11px #000;cursor:se-resize;display:inline-block;height:20px;pointer-events:all;position:absolute;right:calc(8px*-1);width:20px;z-index:4}.jodit-image-editor__area .jodit-image-editor__croper i.jodit_bottomright:active,.jodit-image-editor__area .jodit-image-editor__resizer i.jodit_bottomright:active{border:1px solid #ff0}.jodit-image-editor__area.jodit-image-editor__area_crop{background:#eee;height:100%;line-height:100%;position:relative;text-align:center}.jodit-image-editor__area.jodit-image-editor__area_crop .jodit-image-editor__box{height:100%;line-height:100%;overflow:visible;pointer-events:all;text-align:left}.jodit-image-editor__area.jodit-image-editor__area_crop .jodit-image-editor__box img{height:100%;max-height:100%;max-width:100%;width:100%}.jodit-image-editor__area.jodit-image-editor__area_crop .jodit-image-editor__box:after{background:hsla(0,0%,100%,.3);bottom:0;content:"";left:0;margin:auto;position:absolute;right:0;top:0;z-index:1}.jodit-image-editor__area.jodit-image-editor__area_crop .jodit-image-editor__box .jodit-image-editor__croper{cursor:move;pointer-events:all}.jodit-image-editor__area.jodit-image-editor__area_crop .jodit-image-editor__box .jodit-image-editor__croper i.jodit-image-editor__sizes{background:rgba(0,0,0,.2);border-radius:.4em;bottom:-30px;color:#fff;display:block;font-size:12px;left:100%;padding:9px 6px;position:absolute;text-align:center;text-shadow:none;white-space:pre}.jodit-image-editor__area.jodit-image-editor__area_crop.jodit-image-editor_active{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-filebrowser-files{display:none;height:100%;overflow-anchor:auto;position:relative;vertical-align:top}.jodit-filebrowser-files .jodit-button{border-radius:0}.jodit-filebrowser-files_loading_true:before{content:"";height:100%;left:0;position:absolute;top:0;width:100%}.jodit-filebrowser-files_loading_true:after{-webkit-animation:a 2s ease-out 0s infinite;animation:a 2s ease-out 0s infinite;background:url('+_+') no-repeat 50%;background-size:100% 100%;content:"";display:inline-block;height:48px;left:50%;margin-left:calc(48px/-2);margin-top:calc(48px/-2);opacity:.7;position:absolute;top:50%;vertical-align:middle;width:48px;will-change:transform}.jodit-filebrowser-files_active_true{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-filebrowser-files::-webkit-scrollbar{width:calc(8px/2)}.jodit-filebrowser-files::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.jodit-filebrowser-files::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid #708090}.jodit-filebrowser-files_active_true{-ms-flex-line-pack:start;align-content:flex-start;-ms-flex-wrap:wrap;flex-wrap:wrap;overflow-y:auto;padding:calc(8px/2);width:100%}.jodit-filebrowser-files__item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:0;height:150px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:calc(8px/2);overflow:hidden;position:relative;text-align:center;-webkit-transition:border .1s linear,bottom .1s linear;-o-transition:border .1s linear,bottom .1s linear;transition:border .1s linear,bottom .1s linear;width:150px}@media (max-width:480px){.jodit-filebrowser-files__item{width:calc(50% - 8px)}}.jodit-filebrowser-files__item img{max-width:100%}.jodit-filebrowser-files__item:hover{border-color:#433b5c}.jodit-filebrowser-files__item_active_true{background-color:#b5b5b5;border-color:#1e88e5}.jodit-filebrowser-files__item_active_true .jodit-filebrowser-files__item-info{background-color:#b5b5b5;color:#fff;text-shadow:none}.jodit-filebrowser-files__item-info{background-color:#e9e9e9;bottom:0;color:#333;font-size:14px;left:0;line-height:16px;opacity:.85;overflow:visible;padding:.3em .6em;position:absolute;right:0;text-align:left;text-shadow:#eee 0 1px 0;-webkit-transition:opacity .4s ease;-o-transition:opacity .4s ease;transition:opacity .4s ease;white-space:normal}.jodit-filebrowser-files__item-info>span{display:block;font-size:.75em;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.jodit-filebrowser-files__item-info>span.jodit-filebrowser-files__item-info-filename{font-size:.9em;font-weight:700}.jodit-filebrowser-files__item:hover:not(.jodit-filebrowser-files__item_active_true) .jodit-filebrowser-files__item-info{bottom:-100px}.jodit-filebrowser-files_view_list{scroll-behavior:smooth}.jodit-filebrowser-files_view_list a{border-width:0 0 1px;display:block;height:26px;line-height:26px;margin:0;text-align:left;white-space:nowrap;width:100%}.jodit-filebrowser-files_view_list a img{display:inline-block;margin-left:4px;max-width:16px;min-width:16px;vertical-align:middle}.jodit-filebrowser-files_view_list a .jodit-filebrowser-files__item-info{background-color:transparent;display:inline-block;font-size:0;height:100%;line-height:inherit;margin-left:4px;padding:0;position:static;vertical-align:middle;width:calc(100% - 20px)}.jodit-filebrowser-files_view_list a .jodit-filebrowser-files__item-info>span{display:inline-block;font-size:12px;height:100%}.jodit-filebrowser-files_view_list a .jodit-filebrowser-files__item-info-filename{width:50%}.jodit-filebrowser-files_view_list a .jodit-filebrowser-files__item-info-filechanged,.jodit-filebrowser-files_view_list a .jodit-filebrowser-files__item-info-filesize{width:25%}.jodit-filebrowser-files_view_list a:hover{background-color:#433b5c}.jodit-filebrowser-files_view_list a:hover .jodit-filebrowser-files__item-info{color:#fff;text-shadow:none}.jodit-filebrowser-files_view_list a:before{content:"";display:inline-block;height:100%;vertical-align:middle}.jodit-filebrowser-tree{display:none;height:100%;overflow-anchor:auto;position:relative;vertical-align:top}.jodit-filebrowser-tree .jodit-button{border-radius:0}.jodit-filebrowser-tree_active_true{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-filebrowser-tree_loading_true:before{content:"";height:100%;left:0;position:absolute;top:0;width:100%}.jodit-filebrowser-tree_loading_true:after{-webkit-animation:a 2s ease-out 0s infinite;animation:a 2s ease-out 0s infinite;background:url('+_+') no-repeat 50%;background-size:100% 100%;content:"";display:inline-block;height:48px;left:50%;margin-left:calc(48px/-2);margin-top:calc(48px/-2);opacity:.7;position:absolute;top:50%;vertical-align:middle;width:48px;will-change:transform}.jodit-filebrowser-tree::-webkit-scrollbar{width:calc(8px/2)}.jodit-filebrowser-tree::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.jodit-filebrowser-tree::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid #708090}.jodit-filebrowser-tree_active_true{background-color:#3f3f3f;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;max-width:290px;min-width:200px;overflow-y:auto;width:31%;z-index:2}@media (max-width:480px){.jodit-filebrowser-tree_active_true{height:100px;max-width:100%;width:auto}}.jodit-filebrowser-tree_active_true::-webkit-scrollbar{width:calc(8px/2)}.jodit-filebrowser-tree_active_true::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.jodit-filebrowser-tree_active_true::-webkit-scrollbar-thumb{background-color:hsla(0,0%,50%,.5);outline:1px solid #708090}.jodit-filebrowser-tree__item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid #474747;color:#b1b1b1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;min-height:38px;padding:calc(8px/2) 8px;position:relative;text-decoration:none;-webkit-transition:background-color .2s ease 0s;-o-transition:background-color .2s ease 0s;transition:background-color .2s ease 0s;word-break:break-all}.jodit-filebrowser-tree__item-title{color:#b1b1b1;-webkit-box-flex:1;-ms-flex:1;flex:1}.jodit-filebrowser-tree__item .jodit-icon_folder{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:calc(12px + 4px);-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:calc(8px/2);opacity:.3;width:calc(12px + 4px)}.jodit-filebrowser-tree__item .jodit-icon_folder svg{fill:#b1b1b1!important;stroke:#b1b1b1!important;height:12px;width:12px}.jodit-filebrowser-tree__item .jodit-icon_folder:hover{background:#696969}.jodit-filebrowser-tree__item:hover{background-color:#ecebe9}.jodit-filebrowser-tree__item:hover-title{color:#222}.jodit-filebrowser-tree__item:hover i.jodit-icon_folder{opacity:.6}.jodit-filebrowser-tree__source-title{background:#5a5a5a;border-bottom:1px solid #484848;color:#969696;display:block;font-size:12px;padding:2px 4px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;word-break:break-all}a+.jodit-filebrowser-tree__source-title{margin-top:8px}.jodit-status-bar{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#f9f9f9;border-radius:0 0 3px 3px;color:rgba(0,0,0,.75);display:-webkit-box;display:-ms-flexbox;display:flex;font-size:11px;height:20px;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;overflow:hidden;padding:0 calc(8px/2);text-transform:uppercase}.jodit-status-bar_resize-handle_true{padding-right:14px}.jodit-status-bar:before{content:"";-webkit-box-flex:1;-ms-flex:auto;flex:auto;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.jodit-status-bar .jodit-status-bar__item{line-height:1.57142857em;margin:0 8px 0 0;-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0;padding:0}.jodit-status-bar .jodit-status-bar__item{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-size:11px}.jodit-status-bar .jodit-status-bar__item>span{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-size:11px}.jodit-status-bar .jodit-status-bar__item.jodit-status-bar__item-right{margin:0 0 0 8px;-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.jodit-status-bar .jodit-status-bar__item a{border-radius:3px;cursor:default;text-decoration:none}.jodit-status-bar .jodit-status-bar__item a:hover{background-color:#dadada;text-decoration:none}.jodit-status-bar a.jodit-status-bar-link{cursor:pointer}.jodit-status-bar a.jodit-status-bar-link{background-color:transparent;color:rgba(0,0,0,.75)}.jodit-status-bar a.jodit-status-bar-link:hover{background-color:transparent;color:rgba(0,0,0,.75)}.jodit-status-bar a.jodit-status-bar-link:visited{background-color:transparent;color:rgba(0,0,0,.75)}.jodit-status-bar a.jodit-status-bar-link:hover{text-decoration:underline}.jodit-workplace+.jodit-status-bar:not(:empty){border-top:1px solid #dadada}.jodit_disabled .jodit-status-bar{opacity:.4}.jodit-drag-and-drop__file-box{border:1px dashed #dadada;margin:8px 0;overflow:hidden;padding:25px 0;position:relative;text-align:center;width:100%}.jodit_uploadfile_button{border:1px dashed #dadada;margin:8px 0;overflow:hidden;padding:25px 0;position:relative;text-align:center;width:100%}.jodit-drag-and-drop__file-box:hover{background-color:#ecebe9}.jodit_uploadfile_button:hover{background-color:#ecebe9}.jodit-drag-and-drop__file-box input,.jodit_uploadfile_button input{bottom:0;cursor:pointer;font-size:400px;left:0;margin:0;opacity:0;padding:0;position:absolute;right:0;top:0}@media (max-width:768px){.jodit-drag-and-drop__file-box{max-width:100%;min-width:180px;width:auto}}.jodit-about{padding:20px}.jodit-about a{color:#459ce7;text-decoration:none}.jodit-about a:focus,.jodit-about a:hover{color:#23527c;outline:0;text-decoration:underline}.jodit-about div{margin-bottom:calc(8px/2)}.jodit-add-new-line{display:block;height:1px;outline:none;position:fixed;top:0;z-index:1}.jodit-add-new-line,.jodit-add-new-line *{-webkit-box-sizing:border-box;box-sizing:border-box}.jodit-add-new-line:after{background-color:#6b6b6b;content:"";display:block;height:1px;width:100%}.jodit-add-new-line span{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:hsla(40,7%,92%,.3);border:1px solid #6b6b6b;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:30px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;left:calc(100% - 30px);position:absolute;width:30px}.jodit-add-new-line span:hover{background:#ecebe9}.jodit-add-new-line_after span{bottom:0}.jodit-add-new-line svg{fill:#6b6b6b;width:16px}.jodit-source__mode .jodit-add-new-line{display:none!important}.jodit-color-picker{margin:0;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-color-picker__group{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:calc(8px/2);max-width:calc(24px*10);white-space:normal}.jodit-color-picker__color-item{border:1px solid transparent;display:block;height:24px;text-align:center;text-decoration:none;vertical-align:middle;width:24px}.jodit-color-picker__color-item:hover{border-color:#000}.jodit-color-picker__color-item:active{border:2px solid #1e88e5}.jodit-color-picker__color-item_active_true{border:2px solid #1e88e5}.jodit-color-picker__native svg{display:inline-block;height:16px;margin-right:4px;width:16px}.jodit-color-picker__native input{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:18px;padding:0;width:18px}.jodit-color-picker__native input[type=color]::-webkit-color-swatch-wrapper{padding:0}.jodit-color-picker__native input input[type=color]::-webkit-color-swatch{border:none}.jodit-tabs{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px}.jodit-tabs .jodit-tabs__buttons{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;line-height:18px;margin-bottom:calc(8px/2);margin-top:4px}.jodit-tabs .jodit-tabs__buttons>*{cursor:pointer;margin-left:calc(8px/2)}.jodit-tabs .jodit-tabs__buttons>:only-of-type{width:100%}.jodit-tabs .jodit-tabs__buttons>:first-child{margin-left:0}@media (max-width:480px){.jodit-tabs .jodit-tabs__buttons{display:block}.jodit-tabs .jodit-tabs__buttons>*{margin-left:0;width:100%}}.jodit-tabs__button{min-width:80px}.jodit-tabs__button_columns_3{width:33.33333%}.jodit-tabs__button_columns_2{width:50%}.jodit-tabs .jodit-tabs__wrapper .jodit-tab{display:none}.jodit-tabs .jodit-tabs__wrapper .jodit-tab.jodit-tab_active{display:block}.jodit-tabs .jodit-tabs__wrapper .jodit-tab.jodit-tab_empty{min-height:100px;min-width:220px}.jodit_fullsize-box_true{overflow:visible!important;position:static!important;z-index:100000!important}body.jodit_fullsize-box_true,html.jodit_fullsize-box_true{height:0!important;overflow:hidden!important;width:0!important}html.jodit_fullsize-box_true{position:fixed!important}.jodit_fullsize{bottom:0;left:0;max-width:none!important;position:absolute;right:0;top:0;z-index:100000}.jodit_fullsize .toolbar{width:100%!important}.jodit_fullsize .jodit__area,.jodit_fullsize .jodit_editor{height:100%}.jodit-properties__lock>svg,.jodit-properties__unlock>svg{fill:#222;display:inline-block;font-size:8px;font-style:normal;height:14px;line-height:14px;overflow:hidden;-webkit-transform-origin:0 0!important;-ms-transform-origin:0 0!important;transform-origin:0 0!important;vertical-align:middle;width:14px}.jodit-properties .jodit-properties_view_box{padding:8px}.jodit-properties .jodit-properties_view_box .jodit-properties_image_view{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#f6f6f6;display:-webkit-box;display:-ms-flexbox;display:flex;height:150px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:0 0 8px;padding:0}.jodit-properties .jodit-properties_view_box .jodit-properties_image_view img{max-height:100%;max-width:100%}.jodit-properties .jodit-properties_view_box .jodit-properties_image_sizes.jodit-form__group{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin:0!important;min-width:auto;padding:0!important}.jodit-properties .jodit-properties_view_box .jodit-properties_image_sizes.jodit-form__group a{cursor:pointer;display:inline-block}.jodit-properties .jodit-properties_view_box .jodit-properties_image_sizes.jodit-form__group .jodit-input{width:calc(50% - 8px)!important}.jodit-popup-inline__container{min-width:700px;z-index:1300}.jodit-paste-storage{max-width:600px;padding:8px}@media (max-width:768px){.jodit-paste-storage{max-width:100%}}.jodit-paste-storage>div{border:1px solid #dadada;max-height:300px;max-width:100%}.jodit-paste-storage>div:first-child{margin-bottom:8px}.jodit-paste-storage>div:first-child a{border:1px solid transparent;-webkit-box-sizing:border-box;box-sizing:border-box;color:#4c4c4c;display:block;margin:0;max-width:100%;outline:none;overflow:hidden;padding:calc(8px/2);text-decoration:none;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:pre}.jodit-paste-storage>div:first-child a.jodit_active{background-color:#575757;color:#fff}.jodit-paste-storage>div:first-child a:focus{outline:none}.jodit-paste-storage>div:last-child{overflow:auto;padding:8px}.jodit-paste-storage>div:last-child li,.jodit-paste-storage>div:last-child ul{margin:0}.jodit-placeholder{color:#a5a5a5;display:block;left:0;padding:8px;pointer-events:none;position:absolute;top:0;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;width:100%;z-index:1}.jodit__preview-box table{border:none;border-collapse:collapse;empty-cells:show;margin-bottom:1em;margin-top:1em;max-width:100%}.jodit__preview-box table tr{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit__preview-box table tr td{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit__preview-box table tr th{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit-table-resizer{cursor:col-resize;margin-left:calc(8px/-2);padding-left:calc(8px/2);padding-right:calc(8px/2);position:absolute;z-index:3}.jodit-table-resizer:after{border:0;content:"";display:block;height:100%;width:0}.jodit-table-resizer_moved{background-color:#b5d6fd;z-index:2}.jodit-table-resizer_moved:after{border-right:1px solid moved}[data-jodit_iframe_wrapper]{display:block;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[data-jodit_iframe_wrapper] iframe{position:relative}[data-jodit_iframe_wrapper]:after{background:transparent;bottom:0;content:"";cursor:pointer;display:block;left:0;position:absolute;right:0;top:0;z-index:1}[data-jodit_iframe_wrapper][data-jodit-wrapper_active=true] iframe{z-index:2}.jodit_lock [data-jodit-wrapper_active=true] iframe{z-index:1}.jodit-resizer{font-size:0;height:100px;left:0;outline:3px solid #98c1f1;pointer-events:none;position:absolute;top:0;width:100px}.jodit-resizer,.jodit-resizer *{-webkit-box-sizing:border-box;box-sizing:border-box}.jodit-resizer>span{background-color:#a5a5a5;color:#fff;display:inline-block;font-size:12px;height:24px;left:50%;line-height:24px;margin-left:calc(70px/-2);margin-top:calc(24px/-2);opacity:0;overflow:visible;position:absolute;text-align:center;top:50%;-webkit-transition:opacity .2s linear;-o-transition:opacity .2s linear;transition:opacity .2s linear;width:70px}.jodit-resizer>div{background-color:#5ba4f3;display:inline-block;height:10px;pointer-events:all;position:absolute;width:10px;z-index:4}.jodit-resizer>div:hover{background-color:#537ebb}.jodit-resizer>div:first-child{cursor:nwse-resize;left:calc(10px/-2);top:calc(10px/-2)}.jodit-resizer>div:nth-child(2){cursor:nesw-resize;right:calc(10px/-2);top:calc(10px/-2)}.jodit-resizer>div:nth-child(3){bottom:calc(10px/-2);cursor:nwse-resize;right:calc(10px/-2)}.jodit-resizer>div:nth-child(4){bottom:calc(10px/-2);cursor:nesw-resize;left:calc(10px/-2)}.jodit-ui-search{height:0;position:absolute;right:0;top:0;width:0}.jodit-ui-search_sticky_true{position:fixed}.jodit-ui-search__box{background-color:#f9f9f9;border:solid #dadada;border-width:0 0 1px 1px;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:100vw;padding:calc(8px/2);position:absolute;right:0;width:320px}.jodit-ui-search__box input{background-color:transparent;border:0;height:100%;margin:0;outline:none;padding:0 8px;width:100%}.jodit-ui-search__box input[data-ref=replace]{display:none}.jodit-ui-search__box input:not(:focus)+input:not(:focus){border-top:1px solid #dadada}.jodit-ui-search__buttons{height:30px}.jodit-ui-search__counts{height:30px}.jodit-ui-search__inputs{height:30px}.jodit-ui-search__inputs{padding-right:calc(8px/2);width:60%}.jodit-ui-search__counts{border-left:1px solid #dadada;color:#dadada;width:15%}.jodit-ui-search__buttons,.jodit-ui-search__counts{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-ui-search__buttons{-webkit-box-flex:1;-ms-flex:1;flex:1;padding-left:0}.jodit-ui-search__buttons button{background-color:transparent;border:1px solid transparent;height:100%;margin-right:1%;width:32%}.jodit-ui-search__buttons button[data-ref=replace-btn]{border:1px solid #dadada;display:none;margin-top:2px;width:100%}.jodit-ui-search__buttons button:hover{background-color:#ecebe9}.jodit-ui-search__buttons button:focus{border:1px solid rgba(181,214,253,.995)}.jodit-ui-search__buttons button:active{border:1px solid #b5d6fd;-webkit-transform:scale(0.95);-ms-transform:scale(0.95);transform:scale(0.95)}.jodit-ui-search_empty-query_true [data-ref=next],.jodit-ui-search_empty-query_true [data-ref=prev]{opacity:.5}.jodit-ui-search_replace_true .jodit-ui-search__counts{height:calc(30px*2)}.jodit-ui-search_replace_true .jodit-ui-search__inputs{height:calc(30px*2)}.jodit-ui-search_replace_true .jodit-ui-search__counts input{height:50%;-webkit-transition:background-color 0.1s linear;-o-transition:background-color 0.1s linear;transition:background-color 0.1s linear}.jodit-ui-search_replace_true .jodit-ui-search__inputs input{height:50%;-webkit-transition:background-color 0.1s linear;-o-transition:background-color 0.1s linear;transition:background-color 0.1s linear}.jodit-ui-search_replace_true .jodit-ui-search__counts input:focus{-webkit-box-shadow:inset 0 0 3px 0 #dadada;box-shadow:inset 0 0 3px 0 #dadada}.jodit-ui-search_replace_true .jodit-ui-search__inputs input:focus{-webkit-box-shadow:inset 0 0 3px 0 #dadada;box-shadow:inset 0 0 3px 0 #dadada}.jodit-ui-search_replace_true .jodit-ui-search__counts input[data-ref=replace],.jodit-ui-search_replace_true .jodit-ui-search__inputs input[data-ref=replace]{display:block}.jodit-ui-search_replace_true .jodit-ui-search__buttons{-ms-flex-wrap:wrap;flex-wrap:wrap}.jodit-ui-search_replace_true .jodit-ui-search__buttons button[data-ref=replace-btn]{display:block}[jd-tmp-selection]{background-color:#7fffd4}.jodit-container:not(.jodit_inline){min-height:100px}.jodit-container:not(.jodit_inline) .jodit-workplace{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:auto;min-height:50px;overflow:hidden}.jodit-container:not(.jodit_inline) .jodit-editor__resize{position:relative}.jodit-container:not(.jodit_inline) .jodit-editor__resize svg{fill:#a5a5a5;bottom:0;cursor:nwse-resize;height:12px;overflow:hidden;position:absolute;right:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:12px}.jodit-source{background-color:#323232;display:none;-webkit-box-flex:1;-ms-flex:auto;flex:auto;overflow:auto;position:relative}.jodit-source,.jodit-source .jodit-source__mirror-fake{min-height:100%}.jodit-source *{font:12px/normal Monaco,Menlo,Ubuntu Mono,Consolas,source-code-pro,monospace}.jodit-container.jodit-source__mode .jodit-wysiwyg,.jodit-container.jodit-source__mode .jodit-wysiwyg_iframe{display:none!important}.jodit-container.jodit-source__mode .jodit-source{display:block!important}.jodit-container.jodit_split_mode .jodit-workplace{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.jodit-container.jodit_split_mode .jodit-source,.jodit-container.jodit_split_mode .jodit-wysiwyg,.jodit-container.jodit_split_mode .jodit-wysiwyg_iframe{display:block!important;-webkit-box-flex:1;-ms-flex:1;flex:1;width:50%}.jodit-source__mirror{background:#323232;border:0;-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;color:#f0f0f0;height:100%;line-height:1.5;font:12px/normal Monaco,Menlo,Ubuntu Mono,Consolas,source-code-pro,monospace;margin:0;min-height:100%;outline:none;overflow:auto;padding:8px;resize:none;-moz-tab-size:2em;-o-tab-size:2em;tab-size:2em;white-space:pre-wrap;width:100%;z-index:2}.jodit-source__mirror::-moz-selection{background:#bdbdbd}.jodit-source__mirror::selection{background:#bdbdbd}.jodit_sticky-dummy_toolbar{display:none}.jodit_sticky>.jodit-toolbar__box{border-bottom:1px solid #dadada;left:auto;position:fixed;position:sticky;top:0;z-index:3}.jodit_sticky .jodit_sticky-dummy_toolbar{display:block}.jodit-symbols{padding:8px;width:460px}.jodit-symbols__container{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-symbols__container_table{width:88%}.jodit-symbols__container_preview{width:12%}.jodit-symbols__preview{border:1px solid #dadada;font-size:34px;padding:20px 0;text-align:center}.jodit-symbols__table{border:0;border-spacing:0;table-layout:fixed}.jodit-symbols__table td{padding:0}.jodit-symbols__table td a{border:1px solid transparent;-webkit-box-sizing:border-box;box-sizing:border-box;color:#4c4c4c;cursor:pointer;display:inline-block;font-size:16px;height:calc(18px*1.2);line-height:calc(18px*1.2);text-align:center;text-decoration:none;vertical-align:top;width:calc(18px*1.2)}.jodit-symbols__table td a:focus{outline:2px solid #dadada}.jodit-symbols__table td a:hover{outline:2px solid #dadada}.jodit-context table,.jodit-wysiwyg table{border:none;border-collapse:collapse;empty-cells:show;margin-bottom:1em;margin-top:1em;max-width:100%}.jodit-context table tr,.jodit-wysiwyg table tr{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-context table tr td{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit-context table tr th{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit-wysiwyg table tr td{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit-wysiwyg table tr th{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit-form__inserter .jodit-form__table-creator-box{display:-webkit-box;display:-ms-flexbox;display:flex}@media (max-width:768px){.jodit-form__inserter .jodit-form__table-creator-box{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__container{font-size:0;margin:0;min-width:180px;padding:0}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__container>div>span{border:1px solid #dadada;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;height:18px;margin-bottom:2px;margin-left:2px;vertical-align:top;width:18px}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__container>div>span:first-child{margin-left:0}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__container>div>span.jodit_hovered{background:#7a450f;border-color:#7a450f}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__options{font-size:14px}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__options label{padding-top:0;text-align:left}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__options label input{margin-right:8px}.jodit-form__inserter label{font-size:14px;margin:0;padding:8px;text-align:center}.jodit-xpath{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;margin-left:calc(8px/-2)}.jodit-xpath__item{display:-webkit-box;display:-ms-flexbox;display:flex;height:11px;line-height:calc(11px - 1px)}.jodit-xpath__item a{color:#4c4c4c;font-size:11px;margin-left:2px;outline:0;padding:0 3px}.jodit-dialog_theme_dark .jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2))}.jodit-dialog_theme_dark .jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2))}.jodit_theme_dark .jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2))}.jodit_theme_dark .jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2))}.jodit-dialog_theme_dark .jodit-toolbar-collection_mode_horizontal:after{background-color:#6b6b6b}.jodit-dialog_theme_dark .jodit-toolbar-editor-collection_mode_horizontal:after{background-color:#6b6b6b}.jodit_theme_dark .jodit-toolbar-collection_mode_horizontal:after{background-color:#6b6b6b}.jodit_theme_dark .jodit-toolbar-editor-collection_mode_horizontal:after{background-color:#6b6b6b}.jodit-dialog_theme_dark .jodit-toolbar__box:not(:empty){border-color:#6b6b6b}.jodit_theme_dark .jodit-toolbar__box:not(:empty){border-color:#6b6b6b}.jodit-dialog_theme_dark .jodit-toolbar__box:not(:empty) .jodit-toolbar-editor-collection:after{background-color:#6b6b6b}.jodit_theme_dark .jodit-toolbar__box:not(:empty) .jodit-toolbar-editor-collection:after{background-color:#6b6b6b}.jodit-dialog_theme_dark .jodit-ui-group_separated_true:not(:last-child):not(.jodit-ui-group_before-spacer_true):after{border-right-color:#6b6b6b}.jodit_theme_dark .jodit-ui-group_separated_true:not(:last-child):not(.jodit-ui-group_before-spacer_true):after{border-right-color:#6b6b6b}.jodit-dialog_theme_dark.jodit-container{background-color:#575757;border-color:#6b6b6b}.jodit_theme_dark.jodit-container{background-color:#575757;border-color:#6b6b6b}.jodit-dialog_theme_dark.jodit-container.jodit_disabled{background-color:#575757}.jodit_theme_dark.jodit-container.jodit_disabled{background-color:#575757}.jodit-dialog_theme_dark.jodit-container:not(.jodit_inline) .jodit-workplace{border-color:#575757}.jodit_theme_dark.jodit-container:not(.jodit_inline) .jodit-workplace{border-color:#575757}.jodit-dialog_theme_dark .jodit-popup__content{background:#787878}.jodit_theme_dark .jodit-popup__content{background:#787878}.jodit-dialog_theme_dark .jodit-toolbar-button__text{color:#d1cccc}.jodit-dialog_theme_dark .jodit-ui-button__text{color:#d1cccc}.jodit_theme_dark .jodit-toolbar-button__text{color:#d1cccc}.jodit_theme_dark .jodit-ui-button__text{color:#d1cccc}.jodit-dialog_theme_dark .jodit-toolbar-button:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-toolbar-button__button:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-toolbar-button__trigger:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-ui-button:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-ui-button__button:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-ui-button__trigger:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-toolbar-button:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-toolbar-button__button:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-toolbar-button__trigger:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-ui-button:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-ui-button__button:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-ui-button__trigger:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-status-bar{background-color:#5f5c5c;border-color:#6b6b6b;color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty){background-color:#5f5c5c;border-color:#6b6b6b;color:#d1cccc}.jodit_theme_dark .jodit-status-bar{background-color:#5f5c5c;border-color:#6b6b6b;color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty){background-color:#5f5c5c;border-color:#6b6b6b;color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar{color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar .jodit-status-bar__item a{color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar .jodit-status-bar__item span{color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar a.jodit-status-bar-link{color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar a.jodit-status-bar-link:hover{color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar a.jodit-status-bar-link:visited{color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty){color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) .jodit-status-bar__item a{color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) .jodit-status-bar__item span{color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link{color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link:hover{color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link:visited{color:#d1cccc}.jodit_theme_dark .jodit-status-bar{color:#d1cccc}.jodit_theme_dark .jodit-status-bar .jodit-status-bar__item a{color:#d1cccc}.jodit_theme_dark .jodit-status-bar .jodit-status-bar__item span{color:#d1cccc}.jodit_theme_dark .jodit-status-bar a.jodit-status-bar-link{color:#d1cccc}.jodit_theme_dark .jodit-status-bar a.jodit-status-bar-link:hover{color:#d1cccc}.jodit_theme_dark .jodit-status-bar a.jodit-status-bar-link:visited{color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty){color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) .jodit-status-bar__item a{color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) .jodit-status-bar__item span{color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link{color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link:hover{color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link:visited{color:#d1cccc}.jodit-dialog_theme_dark .jodit-toolbar__box:not(:empty){background:#5f5c5c}.jodit_theme_dark .jodit-toolbar__box:not(:empty){background:#5f5c5c}.jodit-dialog_theme_dark .jodit-icon{fill:silver;stroke:silver}.jodit-dialog_theme_dark .jodit-toolbar-button .jodit-toolbar-button__trigger{fill:silver;stroke:silver}.jodit-dialog_theme_dark .jodit__upload-button svg{fill:silver;stroke:silver}.jodit_theme_dark .jodit-icon{fill:silver;stroke:silver}.jodit_theme_dark .jodit-toolbar-button .jodit-toolbar-button__trigger{fill:silver;stroke:silver}.jodit_theme_dark .jodit__upload-button svg{fill:silver;stroke:silver}.jodit-dialog_theme_dark .jodit-icon-close{stroke:silver}.jodit_theme_dark .jodit-icon-close{stroke:silver}.jodit-dialog_theme_dark .jodit-wysiwyg{background-color:#575757;color:#d1cccc}.jodit-dialog_theme_dark .jodit-wysiwyg_iframe{background-color:#575757;color:#d1cccc}.jodit_theme_dark .jodit-wysiwyg{background-color:#575757;color:#d1cccc}.jodit_theme_dark .jodit-wysiwyg_iframe{background-color:#575757;color:#d1cccc}.jodit-dialog_theme_dark .jodit-form input[type=text]{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit-dialog_theme_dark .jodit-form input[type=url]{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit-dialog_theme_dark .jodit-form textarea{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit_theme_dark .jodit-form input[type=text]{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit_theme_dark .jodit-form input[type=url]{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit_theme_dark .jodit-form textarea{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit-dialog_theme_dark .jodit-form button{background-color:hsla(0,0%,41%,.75);color:#d1cccc}.jodit_theme_dark .jodit-form button{background-color:hsla(0,0%,41%,.75);color:#d1cccc}.jodit-dialog_theme_dark .jodit-placeholder{color:hsla(0,5%,81%,.8)}.jodit_theme_dark .jodit-placeholder{color:hsla(0,5%,81%,.8)}.jodit-dialog_theme_dark .jodit-drag-and-drop__file-box{color:#d1cccc}.jodit-dialog_theme_dark .jodit_uploadfile_button{color:#d1cccc}.jodit_theme_dark .jodit-drag-and-drop__file-box{color:#d1cccc}.jodit_theme_dark .jodit_uploadfile_button{color:#d1cccc}.jodit-dialog_theme_dark .jodit-drag-and-drop__file-box:hover{background-color:hsla(0,0%,41%,.75)}.jodit-dialog_theme_dark .jodit_uploadfile_button:hover{background-color:hsla(0,0%,41%,.75)}.jodit_theme_dark .jodit-drag-and-drop__file-box:hover{background-color:hsla(0,0%,41%,.75)}.jodit_theme_dark .jodit_uploadfile_button:hover{background-color:hsla(0,0%,41%,.75)}.jodit-dialog_theme_dark .jodit-add-new-line:before{border-top-color:#686767}.jodit_theme_dark .jodit-add-new-line:before{border-top-color:#686767}.jodit-dialog_theme_dark .jodit-add-new-line span{background:hsla(0,0%,41%,.75);border-color:#686767}.jodit_theme_dark .jodit-add-new-line span{background:hsla(0,0%,41%,.75);border-color:#686767}.jodit-dialog_theme_dark .jodit-add-new-line span svg{fill:#d1cccc}.jodit_theme_dark .jodit-add-new-line span svg{fill:#d1cccc}.jodit-dialog_theme_dark .jodit-resizer>i{background:hsla(0,0%,41%,.75);border-color:silver}.jodit_theme_dark .jodit-resizer>i{background:hsla(0,0%,41%,.75);border-color:silver}.jodit-dialog_theme_dark .jodit-input{background-color:#787878;border-color:#444;color:#444}.jodit-dialog_theme_dark .jodit-select{background-color:#787878;border-color:#444;color:#444}.jodit_theme_dark .jodit-input{background-color:#787878;border-color:#444;color:#444}.jodit_theme_dark .jodit-select{background-color:#787878;border-color:#444;color:#444}.jodit-dialog_theme_dark.jodit-dialog{background-color:#575757}.jodit_theme_dark.jodit-dialog{background-color:#575757}.jodit-dialog_theme_dark.jodit-dialog .jodit-dialog__header{border-color:#444}.jodit-dialog_theme_dark.jodit-dialog .jodit-filebrowser__files.active .jodit-filebrowser__files-item{border-color:#444}.jodit_theme_dark.jodit-dialog .jodit-dialog__header{border-color:#444}.jodit_theme_dark.jodit-dialog .jodit-filebrowser__files.active .jodit-filebrowser__files-item{border-color:#444}.jodit-dialog_theme_dark.jodit-dialog .jodit-filebrowser__files.active .jodit-filebrowser__files-item-info{background-color:#d1cccc}.jodit_theme_dark.jodit-dialog .jodit-filebrowser__files.active .jodit-filebrowser__files-item-info{background-color:#d1cccc}',""]);const E=b},379:a=>{var s=[];function u(f){for(var m=-1,p=0;p<s.length;p++)if(s[p].identifier===f){m=p;break}return m}function d(f,m){for(var p={},g=[],v=0;v<f.length;v++){var x=f[v],y=m.base?x[0]+m.base:x[0],b=p[y]||0,w="".concat(y," ").concat(b);p[y]=b+1;var _=u(w),S={css:x[1],media:x[2],sourceMap:x[3],supports:x[4],layer:x[5]};if(_!==-1)s[_].references++,s[_].updater(S);else{var E=h(S,m);m.byIndex=v,s.splice(v,0,{identifier:w,updater:E,references:1})}g.push(w)}return g}function h(f,m){var p=m.domAPI(m);return p.update(f),function(g){if(g){if(g.css===f.css&&g.media===f.media&&g.sourceMap===f.sourceMap&&g.supports===f.supports&&g.layer===f.layer)return;p.update(f=g)}else p.remove()}}a.exports=function(f,m){var p=d(f=f||[],m=m||{});return function(g){g=g||[];for(var v=0;v<p.length;v++){var x=u(p[v]);s[x].references--}for(var y=d(g,m),b=0;b<p.length;b++){var w=u(p[b]);s[w].references===0&&(s[w].updater(),s.splice(w,1))}p=y}}},569:a=>{var s={};a.exports=function(u,d){var h=function(f){if(s[f]===void 0){var m=document.querySelector(f);if(window.HTMLIFrameElement&&m instanceof window.HTMLIFrameElement)try{m=m.contentDocument.head}catch{m=null}s[f]=m}return s[f]}(u);if(!h)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");h.appendChild(d)}},216:a=>{a.exports=function(s){var u=document.createElement("style");return s.setAttributes(u,s.attributes),s.insert(u,s.options),u}},565:(a,s,u)=>{a.exports=function(d){var h=u.nc;h&&d.setAttribute("nonce",h)}},795:a=>{a.exports=function(s){var u=s.insertStyleElement(s);return{update:function(d){(function(h,f,m){var p="";m.supports&&(p+="@supports (".concat(m.supports,") {")),m.media&&(p+="@media ".concat(m.media," {"));var g=m.layer!==void 0;g&&(p+="@layer".concat(m.layer.length>0?" ".concat(m.layer):""," {")),p+=m.css,g&&(p+="}"),m.media&&(p+="}"),m.supports&&(p+="}");var v=m.sourceMap;v&&typeof btoa<"u"&&(p+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),f.styleTagTransform(p,h,f.options)})(u,s,d)},remove:function(){(function(d){if(d.parentNode===null)return!1;d.parentNode.removeChild(d)})(u)}}}},589:a=>{a.exports=function(s,u){if(u.styleSheet)u.styleSheet.cssText=s;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(s))}}},963:a=>{a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAABRsSURBVHja7F1/aJfVGn/33RgUg8FiNfK2WCykyS7GLoYyUbwYipZMumgLo+iPS9HlXhSHkRXdislESxMz0mapuaFo2myjkfnNlTQ2FJdTu8NvLVcrdbpcfGvxrfs823m/vXt3fjznvOedzr0PPJzzPe+7d+97Ps95nuc851fGAw884CD98ccfI1Jqmc3UpEyQz4FkMqRTgYshn8fymZ57SyGbzf5mENIOz9+ngE9Atg/SLkhPQHoWeEDn3SmpSZlJnvf7ypUrTpb7IyMjY+gGN6WWmaY84l2T3c+u58D1csjOgvwsyBdBvsDRo2zgMl/ZNM59vcAJ4Dj8nzikLa5QmBLv28YCfPd3li7gPHBMwKdcEwhCJgN6FoLOWJtUgiWovALG04FXsbI44xbgw8AplbaU/Q+ZQNgGf0gA/JWhC1aQyle1eN91rPRKKKuEsjzZvSph0m2RiutpIYRrfZC8B+l7kB6jgq0CnQIy9X39v2NYQW5FeUFQlQVN/aALyiYBPw/5M5B+Dvw02vMggqcDukEl57F3xHf9H747+4bA5oD6dzqaYEgAqIDbBl9RhvZ4H/B5yL+IDp3oXhmwNkm3lTLn80VIz+O3QFqm2/rHwgeI6QDOa006LZ3Q4lHNNwK3AVeYAD4WgmHQUivYNzWyb7xufICYaavXVbuKZ6MXfwRVJ+TnXW+Am/oMnNaO3/Y5pPitcyh/a6LqtXwAt+J01LVFEzAJ0jpIj7JunJYd1wHchnBQHUSC3Uan8WPgPVgHlBiBCcAkH4Da2i2DjwGZlcy5W0K17zLwVb9NgaY4iJpawJs+BCnWwUo3SKXT4oOAP8IHCFsIfMCguj8JaQ2kOaaA227d10ALuIR1gHVxErjctPtHBd8btSR3A4MIgSePAZxqVPeQlthq7ZRuZVABCVkLuGkJpGgKsY4ybfUEVO84qhsoAzSgrUfHZ1UQVe99B6o2oMYdwg7latAq5iROGoueQExW6UE0gCe/ANIh9SZ6jqkWsN3STZ0rHWEgpkNmEvILxqQbSAXaAPxqSBswQkbpbpo6fGPR0m3GBYjBIIwqNjCTEAr4wkBQUA0AjKNrdZCu0okAqgQhTKCDhFxV91BNgsDuYx3WQZptG3xtDUCJEDKvthGuLVEJlq4gUMyAylfQERadPrhKOHTmB3Ces4RFEXNsgW8UClbZcEhxqPQIpHOord2k1ZsAH4YvYNJXN3EgWX4Ocw4LbIEvDQSJfADJtULWxSuj+BBUP4DaC6D0DkyFg6JKTVo/5brvXqzbo2zSi3af3/9bGgrW1Ar5kH4MXEzVHEHVf5CuYZC4fti9AoI/gXX8Eda5Tp9f9I4xWWsnOoc5zNMv1okjmKp/vzay3epNJ4+YmALdoWBPWTHksc5zTU1AekqYt7LcWTruTYTZQdmQHoB0GuXv/de8L8e7xrsuA8kPNtx3AZIOxp3APc7wvD6kvi+//DLh3nvPPfegWs1jf4dBGGxpOA+hlOXzgw7VBjEBnDKcs4jzDOZDOmjqD2SJQFGBx9JaSOcQ7xVO2RIJhf86AfB+Z3huHs7Ra2pra+ugtubTp0+jMLgC0e6/ftddd6EgzMO5iGwSaq4NITCdLczy6GzXAj8KnDIxAaM0AKeViwCtgbRSNgGUJwQyDaACngO4w6S/CXgb8KEvvvgiFUaw59y5c64mWXvnnXdmsijdYxjpdP6cXh6oS0g1Bb48zpFEzValA3663pcuXaoleSzFltBIlWhRmWx+v6yMcQJ4PU7A/Oyzz/qca0R33HEHrjlAEJa73rns24JqA0keTUGTjglIJpNOxsMPP6wLfiGkx53hxRbcewwXc1BAx0u4gGMNcP2nn36acq4juv322ytZ5K7UlhBo5LER3AvcTXU60wKgYbsyWTCi3LTV6wLvKesGrvrkk0/qneucCgoKHoJkHbxvYRAhMMij/zMbVzZRTMAvv/wycj4AoRv4Mk7oII4HkLp+vC6drwxt/FrgKeMBfKTe3t69UMFTgPG9B3WcQdMeBsvjhJJqnYGqjMrKSmr/tZxNWAi87o9i+1l5O6SPNjc3dzrjlPLz83HyC/aWpqk0gWZUUHZtJvxuUZmAtAYgtHycr/a6qIXz2DQI5OH1UDRjPIOPdOHChU6o+JmQXW+68JYS4vUB/bozvN5RGAImdwPZA3AC51RKrMAfyBHFGCRBnz4oe7ypqemgc4PQxYsX0YytuOWWW3BRaa3DWd0U1A/w/Z4KvBx4jcoExAitE6dzPStr3RR/QKQ5fOUJ4PsaGxtvGPC9dOnSJfyu+7ALa9MJFPx+lkU05YNBBDVdg0uwKc4eAWCZ83cC8jM+/PDDLucGpr6+Pvy+GWz/ASs9AMFvd7ax1ATEFOBjmLdSBraN3gBwHHhmQ0NDrzMB6PLly73MUYubOs3EiB/GJebyTEB6QogCnGrV6KAFR7AVeP4HH3ww4EwgunLlCn7vfACi1UQDqMb5PWUvm5qAB3HESXNomKz2GaOHv/DAgQNJZwJSf38/fvdC3J5G1iPQnf3jK5sGvx80MQHP69hxHWZ/2wN8//vvv3/BmcD0008/XWCaoEcUJ6C0eoUWeFbXBOBCzTKKJ2/YExgEXrRv374eJyLn6tWrWA+LAJRBy+o/rQUQUx0TsFwzRKzLK/bu3dseQf8nDQwMYH2sCOL0ibx9Vr6cagIKmf0nxe8pguC7vn/Pnj2bIshH088//4z1st+m+veUI6ZFFBOwLGj/XqIh0O4/HkEtJgDmcZ4/EED9e69VKk0ACoDN1u/jqrq6uv4IZjElk0msnypbwPs0wTKVCUBnYbLuMC5REA7v3r37vQhikhBgPTWrTAEFeB9NZt3C0SbAr/6DdPM4jF7/PyNotUzBU26vgAo8x+7zri3jmgAgnOJdKYrVB9QEb+zcubMrgpVOv/76K9bXGzrACwTJfw1D+9k8EzAXOE8GviEPAK+JIDXSAlhvA7yWTWztvMfiXM65PBNQrgLfUBi2v/vuu70RnPo0ODjYC0BtN3D2VNfLR5gAz04eRn17yb0p4A0RlIEI6y+la/MV1xf4fYACSEtDiP031dbWRrY/AP32229dAGCTrs1XrHHEaesFXh+gXCfooyEM2yIIrdC2ADZ/1D1eM+CagHLJ5ExTxrl9hyLsrDiDWI99EjApgPvLRwhAmQh4HV/Axwe3bt06GMEXnFKpFK4tOBgQcH95WdoEAE01nc8Xi8VEArA3gs4q7VWpfsHaCpEg4GrnoeXhOEKUw3u4yZYqbGo4Lk2KR5hZpcOsXjO9GIm0AYFycTErmoDJVLWu0Tto3bJly0CEmT36/fffkzh/UKfVE3yLkix3Xx+v5FjYaaslgiwUZxDrdbrm38guF6EAFFKAF5kEwcFPrRFcoVCrIdAiKsSlYUWqFi/zBwTXOiKsQqGOIKe1cQRmSAPkmYIv0ADY9Yuif+GYgC5Wv9kB1L6X8lAA8k3BFwhB94YNG1IRXPYJutwpINwBpNjSI/O5AhDQGUxEUIVKCRMBEGiFIQG4yX+Daf+fPacvwihUM2Czfm/KcgMLtjZZhudEY//hks2VVJlZ7tJvi5SMMApVA9gMsOVkXYvDFiO6fggFACUqJ6qKcaMBbD5uAH2AlE0fIKJxRSnUAGizcykePtWzjOo1VA2gpa0V2CVRALBbURDwQV4qiGAKVQDyLZ571JfFum0lFqTJvScvgilUytPxAxSY9boawMbD3OtFEUahaoAinQap0gA4JSzhPswSFz733HOZEVT2KZlMYr0WesGV7KpOoQRqgG6DVi4rx5EqjFWfjSCz3vqLHd9IoGyYnoBjNwpAwhBoWXlpJAChCECpv66p5ycJBCSBcwI7daZ7E83FtAiuUGgaT/WLACaYhk4MBCVk0UDKWb2c3+URVqFogOm8OqccqMW5d+Dmm29OuGsDOyw7gmUvvfRSFBCySFevXsX6LBO1cIoG8NEQ5u7KoFbLi0Kz3fODI7JGeHbwTSJADcxCq1cAWnR39yYIQUWEmVX1X2G6SYTgnhavABwL0uoF91dUV1dnR9AFp/7+fjysq0IGvIEGODYkAOwa7t/XYXl3kDzgBRF8Vgg3eczT2SqGYP97vBoA83ELrd6/WPSJCDsr6v8Jw91BRdfS6za9ewQ1qVo9RQv47plXU1NTHEFoTpcvX8aTwueJgKdoAI4wpE8Y9e4SdtgdGLK4S1gm8L8jGAO1fqy/TNmiUE1hQIwPj9AADOQk7ugRdJ9ADj+2bt26aI6AAV26dAnr7THqnsFEYTgEnBRtFl0fwk6hOcCrIjiNaBXOAKIcuq3hG4w4fTXma+lNOEHEZFs4hcA8+eqrr0a+gAZdvHgRbf+TsrMDDMxBr2v/eT7A0L5+8HN7AKdPFhncHMGqZftfB84Wga0yBwKtsN1hk4B5PsCIrd0C2HwRz924cWNlBK2afvzxx0rX89c5Qo4gCNv85bwDI7r8XUKqynfL/KmHazZt2pQbQSymH374AffuqeEB7gWXCrzHFCCmXf5niE4NWxPkJFAJ41GmtRHMUtWP9TNJdYScgQZYo3NoFEYF21WmgAq8776KzZs3Px1BPZq+//57rJcKXhg3oClo90b/qCeHvqLjA2j6B+u2bNlSFkH+J3333XdlAMo6ntq3cJroK6K4gOzgyP2oBaj2nqIdPGXYKzjw5ptvToqgd5yenh5U+Qcgmy07UdxQA7QD7xfFClSnh68Oelag6H5n+Fj6j9566638iQz++fPn8wGMRq/dV4EviwVwrq0W9QpUJsAdINof5LRQxfNLgBu2bt06IaePffvttzjDp8EZ3r6dDL7sQEkfyAdVW82rjo9H/hdkB2y2ft89eEB149tvvz2hlqh/8803OazlTzMFX6ENcKLvU7LgEMUEuIc9vqLb+inBJE8ezyo+un379gkxaPT111/jdx4FEGbJwOd1A2VdQ9896Pj1qIJDMSJI6yHpNGnpGlHFqVgp77zzzg29tjCRSBQx8KfKWrmJBvDkO4HXU3oI7pQwFUDpc/8s9ABk14uB23bs2HFDTiU7d+7cAqj4NrbESxtojeAQYjWoOnyaqwF4AsFSnDm81lT1y2YZ+cpwLmHDzp07a3bt2nVDTCrt6urKBq5hDl8eBXCTHgGjtWxTaVK8IEYFjKWrvVPIdU8VE2kMgUCsBD6ye/fukvEM/ldffVUCFX4EsitVtl3UYjU0wDHg1dQIodQJFJShKXgE0j5dLaACn6MJkKcDH6+rq6uur68fV72EM2fO5Jw9e7YasseBp5u0cKoQsDxO9Vrqqn6R2hdGAjWEoBvSR03B9wPNA95HGDVcBXxqz549D40H8E+fPo3vecoZntGTreqzmwgBRyDw2Plu3TBxxmuvvcYFUQYwy+OQ5UoV6DITQzEJnGsdbLSyfvHixdfVptSnTp2qZMJaqtsVVtWbAiP0zap498ryt956q5OxYcMGyj/gpbhbxS5IlwSJBQQYYsZVzWtREBYtWnTN9ic+efIkOq1LmM9SZDKplioQgrJ6ZpZTVODd32kBIEoZL0UvvdFdCBoUfGo8gXM0/UHgHTireeHChaFrhePHj+N0dzxqdxnwg2xwS0vD6YIvwAOnd89nvhkZeJduu+02J2Pjxo0UKZO9GM7w+cjdFMIgCmiqAXj39bO5DPFYLNY8b948ayeXtLW1lbIT1mcxzjVZUGtqCjh44Bj/34H7ZXjJhCItAAHAd1Mc0fvcPYAqCPhBhIHDF5jP0MF2QkmwE02HTMjs2bPTpqOlpSXPVeHABSwoVcLsOebzTWZH2fADOClO7ZqB3yfDTWUSUACyiHZG9UJY0SiNH7PKIjsiqt6BooegIhTMOYxHUTweN3q26EAN/wkr3t+qvEaKczbvxzoXPcf7brL/a9oNFKXYPZzpnUpGlX6dbqHIDIRNlIWXsuibbjdQkGLdzoQ0YfJ/uJFAamsndllw19HZzDlxVGFmkcqilFnSEFotnnKNOlZPGQX0lWOdzoa01xR47nCwDtBEpwbHoedj94wy0KSKCOoIQhgaQrXZgkoYdMCXPAvrcr57WITuXEHlcLCu00cQGjza7BEcRjbRAFSNQAXXVAh0zuY1BV/Q2r3pekixnz+oGRomvVtMV9Vr3I/98RXAC73LzoM4grIWb1sIxgp8iSnAOlsIKdZhynB8QG8wiKIBDPyCQ5C9F0cRKY6gDFwZ2DaFIEzwCS3e3b/nXlzKras1dFr/KA2go/5FLVRwfzdzDtfodgupZoFqGohbqIYGPsH+Yx3NxF6V7D2omkXlmMZM1T8PDMXfoUl4BruKkHaaaANbtj2MnoEJ+L6/72RdvGe8Kt9kjqBOj4SsAUyvce7BCSV/Ba6C/EBYXcSg5oIKtqkj5ikbgLSKqfwWaheRWqZ6j1gIAFPuQW2AI3lTIN0b1CSonMSwYgCU6wqQ8NunsOHcQcozVKZIVwhiKjVuMEihY0YwevgPSDG0eUy3ezjWYOsEhRRAHWPf/A93Egc1MKTj+FGEIGZhIEgJiMzPYPlmHNxgjmLTtRSCsOw+o2YWzcNvbTYIBVsVgrQGsAW+6cCSJx9nUcS/QbrfVAjCDgQZ/P1+yOM33Q9pPMizqCaAKgSxsMCntk6B2sdVyYsh/QvwC7hriY4QhCkUGi0e3/kF/AYow29pJ8YArJkAihDEwgRfVyNw8rif7X+B74Y8qs03nOGNDq0IgQ3Afff0sXecAfm72bv3UFoxpdWbtH7V32cFcfgoLcyCEKQdJ9zVHNL/AM9ijOP808MYD/CP7UvuO8ZGP+OMB3nP4T1PNfYvey/KXAPKd2XpevA27iWYANk9g8yZamblOa5A4FQtZ/jEsjybWsBTaX1sQkbcA/iACAQd0E2EQgU8RUiyKC02qGnQjS6qwPP9LQJwiLFLuUwQcBuaIiYQuBjTPc8wk/32VtYJFq104xQnmLlJMPuNNr3fUEuQQtDUVm8DeNcc/F+AAQBKd8HaIWdjwQAAAABJRU5ErkJggg=="},910:a=>{a.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0Ljk1IDEwIj48ZGVmcz48c3R5bGU+LmNscy0ye2ZpbGw6IzQ0NH08L3N0eWxlPjwvZGVmcz48cGF0aCBzdHlsZT0iZmlsbDojZmZmIiBkPSJNMCAwaDQuOTV2MTBIMHoiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Im0xLjQxIDQuNjcgMS4wNy0xLjQ5IDEuMDYgMS40OUgxLjQxek0zLjU0IDUuMzMgMi40OCA2LjgyIDEuNDEgNS4zM2gyLjEzeiIvPjwvc3ZnPg=="},456:a=>{a.exports="data:image/svg+xml;charset=utf-8,%3Csvg id=%27Layer_1%27 data-name=%27Layer 1%27 xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 4.95 10%27%3E%3Cdefs%3E%3Cstyle%3E.cls-2{fill:%23444}%3C/style%3E%3C/defs%3E%3Cpath style=%27fill:%23fff%27 d=%27M0 0h4.95v10H0z%27/%3E%3Cpath class=%27cls-2%27 d=%27m1.41 4.67 1.07-1.49 1.06 1.49H1.41zM3.54 5.33 2.48 6.82 1.41 5.33h2.13z%27/%3E%3C/svg%3E"},342:a=>{a.exports=n},787:a=>{a.exports=r}},o={};function l(a){var s=o[a];if(s!==void 0)return s.exports;var u=o[a]={id:a,exports:{}};return i[a](u,u.exports,l),u.exports}l.m=i,l.n=a=>{var s=a&&a.__esModule?()=>a.default:()=>a;return l.d(s,{a:s}),s},l.d=(a,s)=>{for(var u in s)l.o(s,u)&&!l.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:s[u]})},l.o=(a,s)=>Object.prototype.hasOwnProperty.call(a,s),l.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},l.b=document.baseURI||self.location.href,l.nc=void 0;var c={};return(()=>{l.r(c),l.d(c,{Jodit:()=>d.Jodit,default:()=>k});var a=l(787),s=l.n(a),u=l(526),d=l(342),h=l(379),f=l.n(h),m=l(795),p=l.n(m),g=l(569),v=l.n(g),x=l(565),y=l.n(x),b=l(216),w=l.n(b),_=l(589),S=l.n(_),E=l(472),C={};C.styleTagTransform=S(),C.setAttributes=y(),C.insert=v().bind(null,"head"),C.domAPI=p(),C.insertStyleElement=w(),f()(E.Z,C),E.Z&&E.Z.locals&&E.Z.locals;var A=d.Jodit.modules.Helpers.isFunction,T=(0,a.forwardRef)(function(D,M){var P=D.className,j=D.config,O=D.id,I=D.name,N=D.onBlur,L=D.onChange,B=D.tabIndex,R=D.value,z=D.editorRef,W=(0,a.useRef)(null);(0,a.useLayoutEffect)(function(){M&&(A(M)?M(W.current):M.current=W.current)},[W,M]),(0,a.useEffect)(function(){var H=W.current,X=d.Jodit.make(H,j);return W.current=X,A(z)&&z(X),function(){X&&X.destruct(),W.current=H}},[j,z]);var U=function(H){var X=(0,a.useRef)();return(0,a.useEffect)(function(){X.current=H},[H]),X.current}(P);return(0,a.useEffect)(function(){var H,X,K=(H=W.current)===null||H===void 0||(X=H.container)===null||X===void 0?void 0:X.classList;U!==P&&typeof U=="string"&&U.split(/\s+/).forEach(function(Q){return K==null?void 0:K.remove(Q)}),P&&typeof P=="string"&&P.split(/\s+/).forEach(function(Q){return K==null?void 0:K.add(Q)})},[P,U]),(0,a.useEffect)(function(){W.current.workplace&&(W.current.workplace.tabIndex=B||-1)},[B]),(0,a.useEffect)(function(){if(W.current.events&&(N||L)){var H=function(K){return N&&N(W.current.value,K)},X=function(K){return L&&L(K)};return W.current.events.on("blur",H).on("change",X),function(){var K,Q;(K=W.current)===null||K===void 0||(Q=K.events)===null||Q===void 0||Q.off("blur",H).off("change",X)}}},[N,L]),(0,a.useEffect)(function(){var H=function(){var X;W.current&&(W==null||(X=W.current)===null||X===void 0?void 0:X.value)!==R&&(W.current.value=R)};W.current&&(W.current.isReady?H():W.current.waitForReady().then(H))},[R]),s().createElement("div",{className:"jodit-react-container"},s().createElement("textarea",{name:I,id:O,ref:W}))});T.displayName="JoditEditor",T.propTypes={className:u.string,config:u.object,id:u.string,name:u.string,onBlur:u.func,onChange:u.func,editorRef:u.func,tabIndex:u.number,value:u.string};const k=T})(),c})())})(WZ);var AGe=WZ.exports;const CGe=il(AGe);function GZ(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=GZ(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function bd(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=GZ(e))&&(n&&(n+=" "),n+=t);return n}const vy=e=>typeof e=="number"&&!isNaN(e),Tf=e=>typeof e=="string",Vo=e=>typeof e=="function",Qw=e=>Tf(e)||Vo(e)?e:null,eT=e=>G.isValidElement(e)||Tf(e)||Vo(e)||vy(e);function MGe(e,t,r){r===void 0&&(r=300);const{scrollHeight:n,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,r)})})}function a3(e){let{enter:t,exit:r,appendPosition:n=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(l){let{children:c,position:a,preventExitTransition:s,done:u,nodeRef:d,isIn:h}=l;const f=n?`${t}--${a}`:t,m=n?`${r}--${a}`:r,p=G.useRef(0);return G.useLayoutEffect(()=>{const g=d.current,v=f.split(" "),x=y=>{y.target===d.current&&(g.dispatchEvent(new Event("d")),g.removeEventListener("animationend",x),g.removeEventListener("animationcancel",x),p.current===0&&y.type!=="animationcancel"&&g.classList.remove(...v))};g.classList.add(...v),g.addEventListener("animationend",x),g.addEventListener("animationcancel",x)},[]),G.useEffect(()=>{const g=d.current,v=()=>{g.removeEventListener("animationend",v),i?MGe(g,u,o):u()};h||(s?v():(p.current=1,g.className+=` ${m}`,g.addEventListener("animationend",v)))},[h]),Et.createElement(Et.Fragment,null,c)}}function DU(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Ka={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const r=this.list.get(e).filter(n=>n!==t);return this.list.set(e,r),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const r=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(r)})}},ow=e=>{let{theme:t,type:r,...n}=e;return Et.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...n})},tT={info:function(e){return Et.createElement(ow,{...e},Et.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Et.createElement(ow,{...e},Et.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Et.createElement(ow,{...e},Et.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Et.createElement(ow,{...e},Et.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Et.createElement("div",{className:"Toastify__spinner"})}};function TGe(e){const[,t]=G.useReducer(f=>f+1,0),[r,n]=G.useState([]),i=G.useRef(null),o=G.useRef(new Map).current,l=f=>r.indexOf(f)!==-1,c=G.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:l,getToast:f=>o.get(f)}).current;function a(f){let{containerId:m}=f;const{limit:p}=c.props;!p||m&&c.containerId!==m||(c.count-=c.queue.length,c.queue=[])}function s(f){n(m=>f==null?[]:m.filter(p=>p!==f))}function u(){const{toastContent:f,toastProps:m,staleId:p}=c.queue.shift();h(f,m,p)}function d(f,m){let{delay:p,staleId:g,...v}=m;if(!eT(f)||function(k){return!i.current||c.props.enableMultiContainer&&k.containerId!==c.props.containerId||o.has(k.toastId)&&k.updateId==null}(v))return;const{toastId:x,updateId:y,data:b}=v,{props:w}=c,_=()=>s(x),S=y==null;S&&c.count++;const E={...w,style:w.toastStyle,key:c.toastKey++,...Object.fromEntries(Object.entries(v).filter(k=>{let[D,M]=k;return M!=null})),toastId:x,updateId:y,data:b,closeToast:_,isIn:!1,className:Qw(v.className||w.toastClassName),bodyClassName:Qw(v.bodyClassName||w.bodyClassName),progressClassName:Qw(v.progressClassName||w.progressClassName),autoClose:!v.isLoading&&(C=v.autoClose,A=w.autoClose,C===!1||vy(C)&&C>0?C:A),deleteToast(){const k=DU(o.get(x),"removed");o.delete(x),Ka.emit(4,k);const D=c.queue.length;if(c.count=x==null?c.count-c.displayedToast:c.count-1,c.count<0&&(c.count=0),D>0){const M=x==null?c.props.limit:1;if(D===1||M===1)c.displayedToast++,u();else{const P=M>D?D:M;c.displayedToast=P;for(let j=0;j<P;j++)u()}}else t()}};var C,A;E.iconOut=function(k){let{theme:D,type:M,isLoading:P,icon:j}=k,O=null;const I={theme:D,type:M};return j===!1||(Vo(j)?O=j(I):G.isValidElement(j)?O=G.cloneElement(j,I):Tf(j)||vy(j)?O=j:P?O=tT.spinner():(N=>N in tT)(M)&&(O=tT[M](I))),O}(E),Vo(v.onOpen)&&(E.onOpen=v.onOpen),Vo(v.onClose)&&(E.onClose=v.onClose),E.closeButton=w.closeButton,v.closeButton===!1||eT(v.closeButton)?E.closeButton=v.closeButton:v.closeButton===!0&&(E.closeButton=!eT(w.closeButton)||w.closeButton);let T=f;G.isValidElement(f)&&!Tf(f.type)?T=G.cloneElement(f,{closeToast:_,toastProps:E,data:b}):Vo(f)&&(T=f({closeToast:_,toastProps:E,data:b})),w.limit&&w.limit>0&&c.count>w.limit&&S?c.queue.push({toastContent:T,toastProps:E,staleId:g}):vy(p)?setTimeout(()=>{h(T,E,g)},p):h(T,E,g)}function h(f,m,p){const{toastId:g}=m;p&&o.delete(p);const v={content:f,props:m};o.set(g,v),n(x=>[...x,g].filter(y=>y!==p)),Ka.emit(4,DU(v,v.props.updateId==null?"added":"updated"))}return G.useEffect(()=>(c.containerId=e.containerId,Ka.cancelEmit(3).on(0,d).on(1,f=>i.current&&s(f)).on(5,a).emit(2,c),()=>{o.clear(),Ka.emit(3,c)}),[]),G.useEffect(()=>{c.props=e,c.isToastActive=l,c.displayedToast=r.length}),{getToastToRender:function(f){const m=new Map,p=Array.from(o.values());return e.newestOnTop&&p.reverse(),p.forEach(g=>{const{position:v}=g.props;m.has(v)||m.set(v,[]),m.get(v).push(g)}),Array.from(m,g=>f(g[0],g[1]))},containerRef:i,isToastActive:l}}function jU(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function IU(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function PGe(e){const[t,r]=G.useState(!1),[n,i]=G.useState(!1),o=G.useRef(null),l=G.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,c=G.useRef(e),{autoClose:a,pauseOnHover:s,closeToast:u,onClick:d,closeOnClick:h}=e;function f(b){if(e.draggable){b.nativeEvent.type==="touchstart"&&b.nativeEvent.preventDefault(),l.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",x),document.addEventListener("touchmove",v),document.addEventListener("touchend",x);const w=o.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=w.getBoundingClientRect(),w.style.transition="",l.x=jU(b.nativeEvent),l.y=IU(b.nativeEvent),e.draggableDirection==="x"?(l.start=l.x,l.removalDistance=w.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=w.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function m(b){if(l.boundingRect){const{top:w,bottom:_,left:S,right:E}=l.boundingRect;b.nativeEvent.type!=="touchend"&&e.pauseOnHover&&l.x>=S&&l.x<=E&&l.y>=w&&l.y<=_?g():p()}}function p(){r(!0)}function g(){r(!1)}function v(b){const w=o.current;l.canDrag&&w&&(l.didMove=!0,t&&g(),l.x=jU(b),l.y=IU(b),l.delta=e.draggableDirection==="x"?l.x-l.start:l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),w.style.transform=`translate${e.draggableDirection}(${l.delta}px)`,w.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function x(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",x);const b=o.current;if(l.canDrag&&l.didMove&&b){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return i(!0),void e.closeToast();b.style.transition="transform 0.2s, opacity 0.2s",b.style.transform=`translate${e.draggableDirection}(0)`,b.style.opacity="1"}}G.useEffect(()=>{c.current=e}),G.useEffect(()=>(o.current&&o.current.addEventListener("d",p,{once:!0}),Vo(e.onOpen)&&e.onOpen(G.isValidElement(e.children)&&e.children.props),()=>{const b=c.current;Vo(b.onClose)&&b.onClose(G.isValidElement(b.children)&&b.children.props)}),[]),G.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||g(),window.addEventListener("focus",p),window.addEventListener("blur",g)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",p),window.removeEventListener("blur",g))}),[e.pauseOnFocusLoss]);const y={onMouseDown:f,onTouchStart:f,onMouseUp:m,onTouchEnd:m};return a&&s&&(y.onMouseEnter=g,y.onMouseLeave=p),h&&(y.onClick=b=>{d&&d(b),l.canCloseOnClick&&u()}),{playToast:p,pauseToast:g,isRunning:t,preventExitTransition:n,toastRef:o,eventHandlers:y}}function qZ(e){let{closeToast:t,theme:r,ariaLabel:n="close"}=e;return Et.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":n},Et.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Et.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function kGe(e){let{delay:t,isRunning:r,closeToast:n,type:i="default",hide:o,className:l,style:c,controlledProgress:a,progress:s,rtl:u,isIn:d,theme:h}=e;const f=o||a&&s===0,m={...c,animationDuration:`${t}ms`,animationPlayState:r?"running":"paused",opacity:f?0:1};a&&(m.transform=`scaleX(${s})`);const p=bd("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),g=Vo(l)?l({rtl:u,type:i,defaultClassName:p}):bd(p,l);return Et.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:g,style:m,[a&&s>=1?"onTransitionEnd":"onAnimationEnd"]:a&&s<1?null:()=>{d&&n()}})}const DGe=e=>{const{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:i}=PGe(e),{closeButton:o,children:l,autoClose:c,onClick:a,type:s,hideProgressBar:u,closeToast:d,transition:h,position:f,className:m,style:p,bodyClassName:g,bodyStyle:v,progressClassName:x,progressStyle:y,updateId:b,role:w,progress:_,rtl:S,toastId:E,deleteToast:C,isIn:A,isLoading:T,iconOut:k,closeOnClick:D,theme:M}=e,P=bd("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${s}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":D}),j=Vo(m)?m({rtl:S,position:f,type:s,defaultClassName:P}):bd(P,m),O=!!_||!c,I={closeToast:d,type:s,theme:M};let N=null;return o===!1||(N=Vo(o)?o(I):G.isValidElement(o)?G.cloneElement(o,I):qZ(I)),Et.createElement(h,{isIn:A,done:C,position:f,preventExitTransition:r,nodeRef:n},Et.createElement("div",{id:E,onClick:a,className:j,...i,style:p,ref:n},Et.createElement("div",{...A&&{role:w},className:Vo(g)?g({type:s}):bd("Toastify__toast-body",g),style:v},k!=null&&Et.createElement("div",{className:bd("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},k),Et.createElement("div",null,l)),N,Et.createElement(kGe,{...b&&!O?{key:`pb-${b}`}:{},rtl:S,theme:M,delay:c,isRunning:t,isIn:A,closeToast:d,hide:u,type:s,style:y,className:x,controlledProgress:O,progress:_||0})))},s3=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},jGe=a3(s3("bounce",!0));a3(s3("slide",!0));a3(s3("zoom"));a3(s3("flip"));const OU=G.forwardRef((e,t)=>{const{getToastToRender:r,containerRef:n,isToastActive:i}=TGe(e),{className:o,style:l,rtl:c,containerId:a}=e;function s(u){const d=bd("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":c});return Vo(o)?o({position:u,rtl:c,defaultClassName:d}):bd(d,Qw(o))}return G.useEffect(()=>{t&&(t.current=n.current)},[]),Et.createElement("div",{ref:n,className:"Toastify",id:a},r((u,d)=>{const h=d.length?{...l}:{...l,pointerEvents:"none"};return Et.createElement("div",{className:s(u),style:h,key:`container-${u}`},d.map((f,m)=>{let{content:p,props:g}=f;return Et.createElement(DGe,{...g,isIn:i(g.toastId),style:{...g.style,"--nth":m+1,"--len":d.length},key:`toast-${g.key}`},p)}))}))});OU.displayName="ToastContainer",OU.defaultProps={position:"top-right",transition:jGe,autoClose:5e3,closeButton:qZ,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let rT,Eh=new Map,Rv=[],IGe=1;function YZ(){return""+IGe++}function OGe(e){return e&&(Tf(e.toastId)||vy(e.toastId))?e.toastId:YZ()}function yy(e,t){return Eh.size>0?Ka.emit(0,e,t):Rv.push({content:e,options:t}),t.toastId}function Z2(e,t){return{...t,type:t&&t.type||e,toastId:OGe(t)}}function aw(e){return(t,r)=>yy(t,Z2(e,r))}function qr(e,t){return yy(e,Z2("default",t))}qr.loading=(e,t)=>yy(e,Z2("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),qr.promise=function(e,t,r){let n,{pending:i,error:o,success:l}=t;i&&(n=Tf(i)?qr.loading(i,r):qr.loading(i.render,{...r,...i}));const c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,d,h)=>{if(d==null)return void qr.dismiss(n);const f={type:u,...c,...r,data:h},m=Tf(d)?{render:d}:d;return n?qr.update(n,{...f,...m}):qr(m.render,{...f,...m}),h},s=Vo(e)?e():e;return s.then(u=>a("success",l,u)).catch(u=>a("error",o,u)),s},qr.success=aw("success"),qr.info=aw("info"),qr.error=aw("error"),qr.warning=aw("warning"),qr.warn=qr.warning,qr.dark=(e,t)=>yy(e,Z2("default",{theme:"dark",...t})),qr.dismiss=e=>{Eh.size>0?Ka.emit(1,e):Rv=Rv.filter(t=>e!=null&&t.options.toastId!==e)},qr.clearWaitingQueue=function(e){return e===void 0&&(e={}),Ka.emit(5,e)},qr.isActive=e=>{let t=!1;return Eh.forEach(r=>{r.isToastActive&&r.isToastActive(e)&&(t=!0)}),t},qr.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const r=function(n,i){let{containerId:o}=i;const l=Eh.get(o||rT);return l&&l.getToast(n)}(e,t);if(r){const{props:n,content:i}=r,o={delay:100,...n,...t,toastId:t.toastId||e,updateId:YZ()};o.toastId!==e&&(o.staleId=e);const l=o.render||i;delete o.render,yy(l,o)}},0)},qr.done=e=>{qr.update(e,{progress:1})},qr.onChange=e=>(Ka.on(4,e),()=>{Ka.off(4,e)}),qr.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},qr.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ka.on(2,e=>{rT=e.containerId||e,Eh.set(rT,e),Rv.forEach(t=>{Ka.emit(0,t.content,t.options)}),Rv=[]}).on(3,e=>{Eh.delete(e.containerId||e),Eh.size===0&&Ka.off(0).off(1).off(5)});var XZ={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,n(c)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)t.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(XZ);var RGe=XZ.exports;const kg=il(RGe);function eS(e){"@babel/helpers - typeof";return eS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eS(e)}var LGe;function Pf(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:LGe;return t?e.split(" ").map(function(r){return t[r]||r}).join(" "):e}var RU={};function LU(e){RU[e]||(typeof console<"u"&&console.error(e),RU[e]=!0)}var zGe=(typeof window>"u"?"undefined":eS(window))==="object"&&window.Element||function(){};function NGe(e,t,r){if(!(e[t]instanceof zGe))return new Error("Invalid prop `"+t+"` supplied to `"+r+"`. Expected prop to be an instance of Element. Validation failed.")}$e.oneOfType([$e.string,$e.func,NGe,$e.shape({current:$e.any})]);var ob=$e.oneOfType([$e.func,$e.string,$e.shape({$$typeof:$e.symbol,render:$e.func}),$e.arrayOf($e.oneOfType([$e.func,$e.string,$e.shape({$$typeof:$e.symbol,render:$e.func})]))]);function BGe(e){var t=eS(e);return e!=null&&(t==="object"||t==="function")}var FGe=["className","cssModule","fluid","tag"];function F5(){return F5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F5.apply(this,arguments)}function UGe(e,t){if(e==null)return{};var r=VGe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VGe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var HGe={tag:ob,fluid:$e.oneOfType([$e.bool,$e.string]),className:$e.string,cssModule:$e.object};function $Z(e){var t=e.className,r=e.cssModule,n=e.fluid,i=e.tag,o=i===void 0?"div":i,l=UGe(e,FGe),c="container";n===!0?c="container-fluid":n&&(c="container-".concat(n));var a=Pf(kg(t,c),r);return Et.createElement(o,F5({},l,{className:a}))}$Z.propTypes=HGe;var WGe=["className","cssModule","variant","innerRef"];function U5(){return U5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U5.apply(this,arguments)}function zU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GGe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zU(Object(r),!0).forEach(function(n){qGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qGe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YGe(e,t){if(e==null)return{};var r=XGe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XGe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var $Ge={active:$e.bool,"aria-label":$e.string,onClick:$e.func,variant:$e.oneOf(["white"]),className:$e.string,cssModule:$e.object,innerRef:$e.oneOfType([$e.object,$e.string,$e.func])};function KZ(e){var t=e.className;e.cssModule;var r=e.variant,n=e.innerRef,i=YGe(e,WGe),o=Pf(kg(t,"btn-close",r&&"btn-close-".concat(r)));return Et.createElement("button",U5({ref:n,type:"button",className:o},GGe({"aria-label":"close"},i)))}KZ.propTypes=$Ge;var KGe=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"];function V5(){return V5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V5.apply(this,arguments)}function QGe(e,t){if(e==null)return{};var r=JGe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JGe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var ZGe={active:$e.bool,"aria-label":$e.string,block:$e.bool,children:$e.node,className:$e.string,cssModule:$e.object,close:$e.bool,color:$e.string,disabled:$e.bool,innerRef:$e.oneOfType([$e.object,$e.func,$e.string]),onClick:$e.func,outline:$e.bool,size:$e.string,tag:ob};function H5(e){var t=G.useCallback(function(x){if(e.disabled){x.preventDefault();return}if(e.onClick)return e.onClick(x)},[e.onClick,e.disabled]),r=e.active,n=e["aria-label"],i=e.block,o=e.className,l=e.close,c=e.cssModule,a=e.color,s=a===void 0?"secondary":a,u=e.outline,d=e.size,h=e.tag,f=h===void 0?"button":h,m=e.innerRef,p=QGe(e,KGe);if(l)return Et.createElement(KZ,p);var g="btn".concat(u?"-outline":"","-").concat(s),v=Pf(kg(o,"btn",g,d?"btn-".concat(d):!1,i?"d-block w-100":!1,{active:r,disabled:e.disabled}),c);return p.href&&f==="button"&&(f="a"),Et.createElement(f,V5({type:f==="button"&&p.onClick?"button":void 0},p,{className:v,ref:m,onClick:t,"aria-label":n}))}H5.propTypes=ZGe;function W5(e){"@babel/helpers - typeof";return W5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W5(e)}var eqe=["className","cssModule","tag","innerRef"];function G5(){return G5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G5.apply(this,arguments)}function tqe(e,t){if(e==null)return{};var r=rqe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rqe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function nqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iqe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oqe(e,t,r){return t&&iqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q5(e,t)}function q5(e,t){return q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q5(e,t)}function sqe(e){var t=cqe();return function(){var n=tS(e),i;if(t){var o=tS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return lqe(this,i)}}function lqe(e,t){if(t&&(W5(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y5(e)}function Y5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tS(e){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tS(e)}var uqe={children:$e.node,tag:ob,innerRef:$e.oneOfType([$e.object,$e.func,$e.string]),className:$e.string,cssModule:$e.object},QZ=function(e){aqe(r,e);var t=sqe(r);function r(n){var i;return nqe(this,r),i=t.call(this,n),i.getRef=i.getRef.bind(Y5(i)),i.submit=i.submit.bind(Y5(i)),i}return oqe(r,[{key:"getRef",value:function(i){this.props.innerRef&&this.props.innerRef(i),this.ref=i}},{key:"submit",value:function(){this.ref&&this.ref.submit()}},{key:"render",value:function(){var i=this.props,o=i.className,l=i.cssModule,c=i.tag,a=c===void 0?"form":c,s=i.innerRef,u=tqe(i,eqe),d=Pf(o,l);return Et.createElement(a,G5({},u,{ref:s,className:d}))}}]),r}(G.Component);QZ.propTypes=uqe;function X5(e){"@babel/helpers - typeof";return X5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X5(e)}var dqe=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"];function $5(){return $5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$5.apply(this,arguments)}function hqe(e,t){if(e==null)return{};var r=fqe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fqe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function pqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mqe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gqe(e,t,r){return t&&mqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K5(e,t)}function K5(e,t){return K5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K5(e,t)}function yqe(e){var t=xqe();return function(){var n=rS(e),i;if(t){var o=rS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return bqe(this,i)}}function bqe(e,t){if(t&&(X5(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q5(e)}function Q5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rS(e){return rS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rS(e)}var wqe={children:$e.node,type:$e.string,size:$e.oneOfType([$e.number,$e.string]),bsSize:$e.string,valid:$e.bool,invalid:$e.bool,tag:ob,innerRef:$e.oneOfType([$e.object,$e.func,$e.string]),plaintext:$e.bool,addon:$e.bool,className:$e.string,cssModule:$e.object},J5=function(e){vqe(r,e);var t=yqe(r);function r(n){var i;return pqe(this,r),i=t.call(this,n),i.getRef=i.getRef.bind(Q5(i)),i.focus=i.focus.bind(Q5(i)),i}return gqe(r,[{key:"getRef",value:function(i){this.props.innerRef&&this.props.innerRef(i),this.ref=i}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var i=this.props,o=i.className,l=i.cssModule,c=i.type,a=c===void 0?"text":c,s=i.bsSize,u=i.valid,d=i.invalid,h=i.tag,f=i.addon,m=i.plaintext,p=i.innerRef,g=hqe(i,dqe),v=["switch","radio","checkbox"].indexOf(a)>-1,x=/\D/g,y=a==="textarea",b=a==="select",w=a==="range",_=h||(b||y?a:"input"),S="form-control";m?(S="".concat(S,"-plaintext"),_=h||"input"):w?S="form-range":b?S="form-select":v&&(f?S=null:S="form-check-input"),g.size&&x.test(g.size)&&(LU(`Please use the prop "bsSize" instead of the "size" to bootstrap's input sizing.`),s=g.size,delete g.size);var E=Pf(kg(o,d&&"is-invalid",u&&"is-valid",s?b?"form-select-".concat(s):"form-control-".concat(s):!1,S),l);return(_==="input"||h&&typeof h=="function")&&(g.type=a==="switch"?"checkbox":a),g.children&&!(m||a==="select"||typeof _!="string"||_==="select")&&(LU('Input with a type of "'.concat(a,'" cannot have children. Please use "value"/"defaultValue" instead.')),delete g.children),Et.createElement(_,$5({},g,{ref:p,className:E,"aria-invalid":d}))}}]),r}(Et.Component);J5.propTypes=wqe;var _qe=["className","cssModule","hidden","widths","tag","check","size","for"];function Z5(){return Z5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z5.apply(this,arguments)}function nT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sqe(e,t){if(e==null)return{};var r=Eqe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eqe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Aqe=["xs","sm","md","lg","xl","xxl"],iT=$e.oneOfType([$e.number,$e.string]),Ip=$e.oneOfType([$e.bool,$e.string,$e.number,$e.shape({size:iT,order:iT,offset:iT})]),Cqe={children:$e.node,hidden:$e.bool,check:$e.bool,size:$e.string,for:$e.string,tag:ob,className:$e.string,cssModule:$e.object,xs:Ip,sm:Ip,md:Ip,lg:Ip,xl:Ip,xxl:Ip,widths:$e.array},NU=function(t,r,n){return n===!0||n===""?t?"col":"col-".concat(r):n==="auto"?t?"col-auto":"col-".concat(r,"-auto"):t?"col-".concat(n):"col-".concat(r,"-").concat(n)};function Lv(e){var t=e.className,r=e.cssModule,n=e.hidden,i=e.widths,o=i===void 0?Aqe:i,l=e.tag,c=l===void 0?"label":l,a=e.check,s=e.size,u=e.for,d=Sqe(e,_qe),h=[];o.forEach(function(g,v){var x=e[g];if(delete d[g],!(!x&&x!=="")){var y=!v,b;if(BGe(x)){var w,_=y?"-":"-".concat(g,"-");b=NU(y,g,x.size),h.push(Pf(kg((w={},nT(w,b,x.size||x.size===""),nT(w,"order".concat(_).concat(x.order),x.order||x.order===0),nT(w,"offset".concat(_).concat(x.offset),x.offset||x.offset===0),w))),r)}else b=NU(y,g,x),h.push(b)}});var f=s||h.length,m=!(a||f),p=Pf(kg(t,n?"visually-hidden":!1,a?"form-check-label":!1,s?"col-form-label-".concat(s):!1,h,f?"col-form-label":!1,m?"form-label":!1),r);return Et.createElement(c,Z5({htmlFor:u},d,{className:p}))}Lv.propTypes=Cqe;const Mqe=()=>{const e=Lg(),t=G.useRef(null),[r,n]=G.useState({title:"",tag:"",content:""}),i=async a=>{if(a.preventDefault(),r.title.trim()===""){qr.error("Post title is required !!");return}if(r.content.trim()===""){qr.error("Post content is required !!");return}console.log(r);try{const s=new FormData;s.append("title",r.title),s.append("tags",r.tag),s.append("desc",r.content),s.append("image",a.target.image.files[0]),console.log(s.tags);const u=await Eu.post("http://localhost:3000/api/v1/post/addPost",s,{headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"http://localhost:5173/"}});console.log(u),e("/empower")}catch(s){console.log(s)}},o=a=>{n({...r,[a.target.name]:a.target.value})},l=a=>{n({...r,tag:a.target.value})},c=a=>{n({...r,content:a})};return F.jsx("div",{className:"wrapper",children:F.jsx("div",{className:"textedit-cont",children:F.jsxs("div",{className:"card-body",children:[F.jsx("h3",{className:"custom-heading",children:"What is going on in your mind?"}),F.jsxs(QZ,{onSubmit:i,children:[F.jsxs("div",{className:"head-3",children:[F.jsxs("div",{className:"my-3",children:[F.jsx(Lv,{htmlFor:"title",className:"custom-label",children:"Post Title"}),F.jsx(J5,{type:"text",id:"title",placeholder:"Enter here",className:"custom-input",name:"title",onChange:o})]}),F.jsxs("div",{className:"my-3",children:[" ",F.jsx(Lv,{htmlFor:"tag",className:"custom-label",children:"Tag:"}),F.jsxs("select",{className:"type-select",onChange:l,children:[F.jsx("option",{className:"type-option",value:"",children:"Select Type"}),F.jsx("option",{className:"type-option",value:"type1",children:"Type 1"}),F.jsx("option",{className:"type-option",value:"type2",children:"Type 2"})]})]})]}),F.jsxs("div",{className:"my-3",children:[F.jsx(Lv,{htmlFor:"content",className:"custom-label",children:"Post Content"}),F.jsx(CGe,{ref:t,value:r.content,onChange:a=>c(a)})]}),F.jsxs("div",{className:"mt-3",children:[F.jsx(Lv,{htmlFor:"image",className:"custom-label",children:"Select Post Banner"}),F.jsx(J5,{id:"image",type:"file"})]}),F.jsxs($Z,{className:"text-center",children:[F.jsx(H5,{type:"submit",className:"rounded-0",color:"primary",children:"Create Post"}),F.jsx(H5,{className:"rounded-0 ms-2",color:"danger",children:"Reset Content"})]})]})]})})})},Tqe="/womenBG.jpg",Pqe="/wT.jpg",kqe="/sp.jpg",Dqe="/kN.jpg",jqe=()=>{const e=[{title:"Arundhati Bhattacharya ",img:"path/to/image1.jpg",desc:"Arundhati Bhattacharya, a luminary in the Indian tech industry, is making waves as the CEO of Salesforce India. With a trailblazing career that includes being the first woman Chairperson of the State Bank of India, Bhattacharya is a driving force in technological innovation and digital transformation in banking.",socialLinks:[{url:"https://twitter.com/example1",icon:"twitter"},{url:"https://facebook.com/example1",icon:"linkedIn"}]},{title:"Debjani Ghosh ",img:"path/to/image2.jpg",desc:`Leading the National Association of Software and Service Companies, Debjani Ghosh is a key advocate for Indias IT sector. Her focus on digitalization and gender diversity has marked her as a pivotal figure in shaping the industrys contribution to Indias economic landscape.
      `,socialLinks:[{url:"https://twitter.com/example1",icon:"twitter"},{url:"https://facebook.com/example1",icon:"linkedIn"}]},{title:"Falguni Nayar",img:"path/to/image3.jpg",desc:`From a successful career in investment banking to founding Nykaa, Falguni Nayar has transformed the landscape of Indian e-commerce in beauty and fashion. Under her guidance, Nykaa has become a household name, synonymous with quality and style.
      `,socialLinks:[{url:"https://twitter.com/example1",icon:"twitter"},{url:"https://facebook.com/example1",icon:"linkedIn"}]},{title:"Vinita Gupta",img:"path/to/image4.jpg",desc:`Steering Lupin Limited, a global pharmaceutical giant, Vinita Gupta is a powerhouse in the industry. Her strategic vision has been instrumental in Lupins global expansion and positioning as a formidable player in the pharmaceutical world.
     `,socialLinks:[{url:"https://twitter.com/example1",icon:"twitter"},{url:"https://facebook.com/example1",icon:"linkedIn"}]}];return F.jsxs("div",{className:"empower-cont",children:[F.jsxs("div",{className:"empower-title",children:[F.jsxs("div",{className:"empower-head",children:[F.jsxs("h1",{children:["Empow",F.jsx("span",{style:{color:"hotpink"},children:"HER "})]}),F.jsxs("p",{style:{color:"white",fontSize:"26px"},children:["The Ultimate Hub for Women's Growth and Leadership.",F.jsx("br",{}),"A portal for growth, netwoking and all things good!!"]}),F.jsx("button",{className:"readmore2",style:{color:"white"},children:"Read more"})]}),F.jsx("img",{src:Tqe,alt:""})]}),F.jsx("div",{className:"filler",children:F.jsx("h1",{children:" Our Aim"})}),F.jsxs("div",{className:"empower-hero",children:[F.jsxs("div",{className:"herosec",children:[F.jsxs("div",{className:"herosec1",children:[F.jsx("h2",{children:"Connecting Women across Professions"}),F.jsx("p",{className:"hero-desc",children:"Create a vibrant network that connects aspiring women professionals with experienced mentors. This platform is designed to facilitate mentorship and guidance, crucial for career development and personal growth, and helps women navigate through their professional landscapes.?"})]}),F.jsx("img",{src:Pqe,alt:""})]}),F.jsxs("div",{className:"herosec2",children:[F.jsxs("div",{className:"herosec1",children:[F.jsx("h2",{children:"Tailored Support for Women's Career Journeys"}),F.jsx("p",{className:"hero-desc",children:"Provide specialized support and resources that address the unique challenges faced by women in the workforce. This section is committed to equipping women with essential tools and advice for their career advancement, ensuring their success and growth in professional settings."})]}),F.jsx("img",{src:kqe,alt:""})]}),F.jsxs("div",{className:"herosec",children:[F.jsxs("div",{className:"herosec1",children:[F.jsx("h2",{children:"Knowledge Sharing by Inspirational Women"}),F.jsx("p",{className:"hero-desc",children:"Cultivate a space where distinguished women leaders share their knowledge through blogs and articles. This feature is focused on empowering women by offering insights, experiences, and practical advice from successful figures in various fields, creating a community of informed and empowered women professionals."})]}),F.jsx("img",{src:Dqe,alt:""})]})]}),F.jsx("div",{className:"filler",children:F.jsx("h1",{children:" Top Women Voices"})}),F.jsx("div",{className:"empower-profiles",style:{display:"flex",flexWrap:"wrap"},children:e.map(t=>F.jsx(G_,{title:t.title,img:t.img,desc:t.desc,socialLinks:t.socialLinks},t.title))}),F.jsx("div",{className:"filler",children:F.jsx("h1",{children:" Top Stories"})}),F.jsx(SGe,{}),F.jsxs($h,{to:"/createPost",children:[F.jsx(Yle,{})," Add Post"]})]})},Iqe=({onButtonClick:e,job:t,jobID:r})=>{const[n,i]=G.useState(),[o,l]=G.useState({jobTitle:"",jobLocation:"",noOfOpenings:"",minExperience:"",maxExperience:"",monthlySalary:"",offerBonus:!1,jobDescription:"",skills:"",age:"",preferredLanguage:"",preferredIndustry:"",jobTimings:"",interviewDetails:""}),c=s=>{const{name:u,value:d,type:h,checked:f}=s.target;l(m=>({...m,[u]:h==="checkbox"?f:d}))},a=async s=>{s.preventDefault();try{const u=await Eu.post("http://localhost:3000/api/v1/job/addJob",o,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:5173/"}});console.log("Job creation initiated"),i(u),console.log(u),t(u.data.data.jobId),console.log("Job ID:",n)}catch(u){console.log(u)}e("aboutJob")};return F.jsx("div",{className:"addjob-cont",children:F.jsxs("form",{onSubmit:a,className:"add-job",children:[F.jsx("h1",{children:"Basic Job Details"}),F.jsxs("div",{className:"sec1",children:[F.jsxs("label",{htmlFor:"jobTitle",children:["Job Title",F.jsx("input",{type:"text",name:"jobTitle",id:"jobTitle",value:o.jobTitle,onChange:c})]}),F.jsx("label",{htmlFor:"jobLocation",children:"Job Location"}),F.jsxs("select",{name:"jobLocation",id:"jobLocation",value:o.jobLocation,onChange:c,children:[F.jsx("option",{value:"",children:"Pick your city"}),F.jsx("option",{value:"Delhi",children:"Delhi"}),F.jsx("option",{value:"Mumbai",children:"Mumbai"}),F.jsx("option",{value:"Noida",children:"Noida"}),F.jsx("option",{value:"Bengaluru",children:"Bengaluru"}),F.jsx("option",{value:"Pune",children:"Pune"})]}),F.jsxs("label",{htmlFor:"noOfOpenings",children:["No Of Openings",F.jsx("input",{type:"number",name:"noOfOpenings",id:"noOfOpenings",placeholder:"Eg .2",value:o.noOfOpenings,onChange:c})]})]}),F.jsx("h1",{children:"Candidate Requirement"}),F.jsxs("div",{className:"sec1",children:[F.jsxs("div",{className:"job-drop",children:[F.jsxs("label",{htmlFor:"minExperience",children:["Minimum Experience",F.jsxs("select",{name:"minExperience",id:"minExperience",value:o.minExperience,onChange:c,children:[F.jsx("option",{value:"Fresher",children:"Fresher"}),F.jsx("option",{value:"6 Months",children:"6 Months"}),F.jsx("option",{value:"1 year",children:"1 year"}),F.jsx("option",{value:"2 years",children:"2 years"}),F.jsx("option",{value:"3 years",children:"3 years"}),F.jsx("option",{value:"4 years",children:"4 years"}),F.jsx("option",{value:"5 years",children:"5 years"})]})]}),F.jsxs("label",{htmlFor:"maxExperience",children:["Maximum Experience",F.jsxs("select",{name:"maxExperience",id:"maxExperience",value:o.maxExperience,onChange:c,children:[F.jsx("option",{value:"Fresher",children:"Fresher"}),F.jsx("option",{value:"6 Months",children:"6 Months"}),F.jsx("option",{value:"1 year",children:"1 year"}),F.jsx("option",{value:"2 years",children:"2 years"}),F.jsx("option",{value:"3 years",children:"3 years"}),F.jsx("option",{value:"4 years",children:"4 years"}),F.jsx("option",{value:"5 years",children:"5 years"})]})]})]}),F.jsxs("label",{htmlFor:"monthlySalary",children:["Monthly In-hand Salary",F.jsx("input",{type:"range",name:"monthlySalary",id:"monthlySalary",value:o.monthlySalary,onChange:c})]}),F.jsxs("label",{htmlFor:"offerBonus",children:["Do you offer bonus in addition to monthly salary?",F.jsxs("div",{className:"checkbox-label",children:[F.jsxs("label",{htmlFor:"offerBonusYes",children:["Yes",F.jsx("input",{type:"checkbox",name:"offerBonus",id:"offerBonusYes",checked:o.offerBonus,onChange:c})]}),F.jsxs("label",{htmlFor:"offerBonusNo",children:["No",F.jsx("input",{type:"checkbox",name:"offerBonus",id:"offerBonusNo",checked:!o.offerBonus,onChange:c})]})]})]}),F.jsxs("label",{htmlFor:"jobDescription",children:["Job Info / Job Description",F.jsx("textarea",{name:"jobDescription",id:"jobDescription",cols:"20",rows:"10",value:o.jobDescription,onChange:c})]}),F.jsxs("label",{htmlFor:"skills",children:["Skills",F.jsx("input",{type:"text",name:"skills",id:"skills",value:o.skills,onChange:c})]})]}),F.jsx("h1",{children:"Personal details, Education, additional info"}),F.jsxs("div",{className:"sec1",children:[F.jsxs("label",{htmlFor:"age",children:["Age",F.jsx("input",{type:"number",name:"age",id:"age",value:o.age,onChange:c})]}),F.jsxs("label",{htmlFor:"preferredLanguage",children:["Preferred Language",F.jsx("input",{type:"text",name:"preferredLanguage",id:"preferredLanguage",value:o.preferredLanguage,onChange:c})]}),F.jsxs("label",{htmlFor:"preferredIndustry",children:["Preferred Industry",F.jsx("input",{type:"text",name:"preferredIndustry",id:"preferredIndustry",value:o.preferredIndustry,onChange:c})]})]}),F.jsx("h2",{children:"Timings"}),F.jsxs("div",{className:"sec1",children:[F.jsxs("label",{htmlFor:"jobTimings",children:["Job Timings",F.jsx("textarea",{name:"jobTimings",id:"jobTimings",cols:"10",rows:"10",placeholder:"9:30 AM - 6:30 PM | Monday to Saturday",value:o.jobTimings,onChange:c})]}),F.jsxs("label",{htmlFor:"interviewDetails",children:["Interview Details",F.jsx("textarea",{name:"interviewDetails",id:"interviewDetails",cols:"10",rows:"10",placeholder:"9:30 AM - 6:30 PM | Monday to Saturday",value:o.interviewDetails,onChange:c})]})]}),F.jsx("button",{type:"submit",className:"add-job-but",onClick:a,children:"Submit"})]})})},Oqe=({onButtonClick:e,jobID:t})=>{const[r,n]=G.useState(""),[i,o]=G.useState(""),[l,c]=G.useState(""),[a,s]=G.useState(""),[u,d]=G.useState(""),h=async()=>{console.log({companyName:r,contactPersonName:i,phoneNumber:l,emailId:a,jobAddress:u}),console.log(t);try{const f=await Eu.post(`http://localhost:3000/api/v1/company/addCompany/${t}`,{companyName:r,contactPersonName:i,phoneNumber:l,emailId:a,jobAddress:u},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:5173/"}});console.log("Job created with Company"),console.log(f.data)}catch(f){console.log(f)}e("confrm")};return F.jsxs(F.Fragment,{children:[F.jsx("h1",{className:"comp-head",children:"About Your Company"}),F.jsxs("div",{className:"sec1",children:[F.jsxs("label",{htmlFor:"",children:["Company Name",F.jsx("input",{type:"text",placeholder:"Eg. Cyber info tech",value:r,onChange:f=>n(f.target.value)})]}),F.jsxs("label",{htmlFor:"",children:["Contact Person Name",F.jsx("input",{type:"text",placeholder:"Eg. Abhishek",value:i,onChange:f=>o(f.target.value)})]}),F.jsxs("label",{htmlFor:"",children:["Phone Number",F.jsx("input",{type:"tel",placeholder:"Eg. +698969",value:l,onChange:f=>c(f.target.value)})]}),F.jsxs("label",{htmlFor:"",children:["Email Id",F.jsx("input",{type:"email",placeholder:"Eg. Labhi@lmail.com",value:a,onChange:f=>s(f.target.value)})]}),F.jsxs("label",{htmlFor:"",children:["Job Address",F.jsx("textarea",{name:"",id:"",cols:"30",rows:"10",value:u,onChange:f=>d(f.target.value)})]}),F.jsx("button",{type:"button",onClick:h,className:"add-job-but",children:"Post Job"})]})]})},Rqe=()=>{const e=Lg(),t=()=>{e("/js")};return F.jsxs("div",{className:"confirmation-box dark-theme",children:[F.jsxs("p",{children:["Hello! The job has been posted,",F.jsx("br",{})," ",F.jsx("br",{}),"Thanks for registering your company with us."]}),F.jsx("button",{className:"confirm-button",onClick:t,children:"Confirm"})]})};var Lqe=function(e,t,r,n,i,o,l,c){if(!e){var a;if(t===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[r,n,i,o,l,c],u=0;a=new Error(t.replace(/%s/g,function(){return s[u++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}},zqe=Lqe,ek={exports:{}},tk={exports:{}},sw={exports:{}},BU;function Nqe(){return BU||(BU=1,function(e,t){t.__esModule=!0,t.default=r;function r(n,i){return n.classList?!!i&&n.classList.contains(i):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+i+" ")!==-1}e.exports=t.default}(sw,sw.exports)),sw.exports}(function(e,t){var r=nj;t.__esModule=!0,t.default=i;var n=r(Nqe());function i(o,l){o.classList?o.classList.add(l):(0,n.default)(o,l)||(typeof o.className=="string"?o.className=o.className+" "+l:o.setAttribute("class",(o.className&&o.className.baseVal||"")+" "+l))}e.exports=t.default})(tk,tk.exports);var Bqe=tk.exports;function FU(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Fqe=function(t,r){t.classList?t.classList.remove(r):typeof t.className=="string"?t.className=FU(t.className,r):t.setAttribute("class",FU(t.className&&t.className.baseVal||"",r))},ho={};function JZ(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function ZZ(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function eee(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}JZ.__suppressDeprecationWarning=!0;ZZ.__suppressDeprecationWarning=!0;eee.__suppressDeprecationWarning=!0;function Uqe(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,i=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var o=e.displayName||e.name,l=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+l+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=JZ,t.componentWillReceiveProps=ZZ),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=eee;var c=t.componentDidUpdate;t.componentDidUpdate=function(s,u,d){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;c.call(this,s,u,h)}}return e}const Vqe=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Uqe},Symbol.toStringTag,{value:"Module"})),tee=sc(Vqe);ho.__esModule=!0;ho.default=ho.EXITING=ho.ENTERED=ho.ENTERING=ho.EXITED=ho.UNMOUNTED=void 0;var Hqe=qqe(R1),oT=ree(G),Wqe=ree(Og),Gqe=tee;function ree(e){return e&&e.__esModule?e:{default:e}}function qqe(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}function Yqe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Xqe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var zv="unmounted";ho.UNMOUNTED=zv;var Ah="exited";ho.EXITED=Ah;var Ch="entering";ho.ENTERING=Ch;var Hp="entered";ho.ENTERED=Hp;var rk="exiting";ho.EXITING=rk;var fc=function(e){Xqe(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var l=i.transitionGroup,c=l&&!l.isMounting?n.enter:n.appear,a;return o.appearStatus=null,n.in?c?(a=Ah,o.appearStatus=Ch):a=Hp:n.unmountOnExit||n.mountOnEnter?a=zv:a=Ah,o.state={status:a},o.nextCallback=null,o}var r=t.prototype;return r.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===zv?{status:Ah}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Ch&&l!==Hp&&(o=Ch):(l===Ch||l===Hp)&&(o=rk)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,l,c;return o=l=c=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:c}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null){this.cancelNextCallback();var l=Wqe.default.findDOMNode(this);o===Ch?this.performEnter(l,i):this.performExit(l)}else this.props.unmountOnExit&&this.state.status===Ah&&this.setState({status:zv})},r.performEnter=function(i,o){var l=this,c=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:o,s=this.getTimeouts(),u=a?s.appear:s.enter;if(!o&&!c){this.safeSetState({status:Hp},function(){l.props.onEntered(i)});return}this.props.onEnter(i,a),this.safeSetState({status:Ch},function(){l.props.onEntering(i,a),l.onTransitionEnd(i,u,function(){l.safeSetState({status:Hp},function(){l.props.onEntered(i,a)})})})},r.performExit=function(i){var o=this,l=this.props.exit,c=this.getTimeouts();if(!l){this.safeSetState({status:Ah},function(){o.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:rk},function(){o.props.onExiting(i),o.onTransitionEnd(i,c.exit,function(){o.safeSetState({status:Ah},function(){o.props.onExited(i)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,o.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},r.onTransitionEnd=function(i,o,l){this.setNextCallback(l);var c=o==null&&!this.props.addEndListener;if(!i||c){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(i,this.nextCallback),o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var i=this.state.status;if(i===zv)return null;var o=this.props,l=o.children,c=Yqe(o,["children"]);if(delete c.in,delete c.mountOnEnter,delete c.unmountOnExit,delete c.appear,delete c.enter,delete c.exit,delete c.timeout,delete c.addEndListener,delete c.onEnter,delete c.onEntering,delete c.onEntered,delete c.onExit,delete c.onExiting,delete c.onExited,typeof l=="function")return l(i,c);var a=oT.default.Children.only(l);return oT.default.cloneElement(a,c)},t}(oT.default.Component);fc.contextTypes={transitionGroup:Hqe.object};fc.childContextTypes={transitionGroup:function(){}};fc.propTypes={};function Op(){}fc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Op,onEntering:Op,onEntered:Op,onExit:Op,onExiting:Op,onExited:Op};fc.UNMOUNTED=0;fc.EXITED=1;fc.ENTERING=2;fc.ENTERED=3;fc.EXITING=4;var $qe=(0,Gqe.polyfill)(fc);ho.default=$qe;(function(e,t){t.__esModule=!0,t.default=void 0,c(R1);var r=l(Bqe),n=l(Fqe),i=l(G),o=l(ho);function l(m){return m&&m.__esModule?m:{default:m}}function c(m){if(m&&m.__esModule)return m;var p={};if(m!=null){for(var g in m)if(Object.prototype.hasOwnProperty.call(m,g)){var v=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(m,g):{};v.get||v.set?Object.defineProperty(p,g,v):p[g]=m[g]}}return p.default=m,p}function a(){return a=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var g=arguments[p];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(m[v]=g[v])}return m},a.apply(this,arguments)}function s(m,p){m.prototype=Object.create(p.prototype),m.prototype.constructor=m,m.__proto__=p}var u=function(p,g){return p&&g&&g.split(" ").forEach(function(v){return(0,r.default)(p,v)})},d=function(p,g){return p&&g&&g.split(" ").forEach(function(v){return(0,n.default)(p,v)})},h=function(m){s(p,m);function p(){for(var v,x=arguments.length,y=new Array(x),b=0;b<x;b++)y[b]=arguments[b];return v=m.call.apply(m,[this].concat(y))||this,v.onEnter=function(w,_){var S=v.getClassNames(_?"appear":"enter"),E=S.className;v.removeClasses(w,"exit"),u(w,E),v.props.onEnter&&v.props.onEnter(w,_)},v.onEntering=function(w,_){var S=v.getClassNames(_?"appear":"enter"),E=S.activeClassName;v.reflowAndAddClass(w,E),v.props.onEntering&&v.props.onEntering(w,_)},v.onEntered=function(w,_){var S=v.getClassNames("appear").doneClassName,E=v.getClassNames("enter").doneClassName,C=_?S+" "+E:E;v.removeClasses(w,_?"appear":"enter"),u(w,C),v.props.onEntered&&v.props.onEntered(w,_)},v.onExit=function(w){var _=v.getClassNames("exit"),S=_.className;v.removeClasses(w,"appear"),v.removeClasses(w,"enter"),u(w,S),v.props.onExit&&v.props.onExit(w)},v.onExiting=function(w){var _=v.getClassNames("exit"),S=_.activeClassName;v.reflowAndAddClass(w,S),v.props.onExiting&&v.props.onExiting(w)},v.onExited=function(w){var _=v.getClassNames("exit"),S=_.doneClassName;v.removeClasses(w,"exit"),u(w,S),v.props.onExited&&v.props.onExited(w)},v.getClassNames=function(w){var _=v.props.classNames,S=typeof _=="string",E=S&&_?_+"-":"",C=S?E+w:_[w],A=S?C+"-active":_[w+"Active"],T=S?C+"-done":_[w+"Done"];return{className:C,activeClassName:A,doneClassName:T}},v}var g=p.prototype;return g.removeClasses=function(x,y){var b=this.getClassNames(y),w=b.className,_=b.activeClassName,S=b.doneClassName;w&&d(x,w),_&&d(x,_),S&&d(x,S)},g.reflowAndAddClass=function(x,y){y&&(x&&x.scrollTop,u(x,y))},g.render=function(){var x=a({},this.props);return delete x.classNames,i.default.createElement(o.default,a({},x,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},p}(i.default.Component);h.defaultProps={classNames:""},h.propTypes={};var f=h;t.default=f,e.exports=t.default})(ek,ek.exports);var Kqe=ek.exports,nk={exports:{}},ik={exports:{}},p0={};p0.__esModule=!0;p0.getChildMapping=cI;p0.mergeChildMappings=nee;p0.getInitialChildMapping=Qqe;p0.getNextChildMapping=Jqe;var Fc=G;function cI(e,t){var r=function(o){return t&&(0,Fc.isValidElement)(o)?t(o):o},n=Object.create(null);return e&&Fc.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function nee(e,t){e=e||{},t=t||{};function r(u){return u in t?t[u]:e[u]}var n=Object.create(null),i=[];for(var o in e)o in t?i.length&&(n[o]=i,i=[]):i.push(o);var l,c={};for(var a in t){if(n[a])for(l=0;l<n[a].length;l++){var s=n[a][l];c[n[a][l]]=r(s)}c[a]=r(a)}for(l=0;l<i.length;l++)c[i[l]]=r(i[l]);return c}function qh(e,t,r){return r[t]!=null?r[t]:e.props[t]}function Qqe(e,t){return cI(e.children,function(r){return(0,Fc.cloneElement)(r,{onExited:t.bind(null,r),in:!0,appear:qh(r,"appear",e),enter:qh(r,"enter",e),exit:qh(r,"exit",e)})})}function Jqe(e,t,r){var n=cI(e.children),i=nee(t,n);return Object.keys(i).forEach(function(o){var l=i[o];if((0,Fc.isValidElement)(l)){var c=o in t,a=o in n,s=t[o],u=(0,Fc.isValidElement)(s)&&!s.props.in;a&&(!c||u)?i[o]=(0,Fc.cloneElement)(l,{onExited:r.bind(null,l),in:!0,exit:qh(l,"exit",e),enter:qh(l,"enter",e)}):!a&&c&&!u?i[o]=(0,Fc.cloneElement)(l,{in:!1}):a&&c&&(0,Fc.isValidElement)(s)&&(i[o]=(0,Fc.cloneElement)(l,{onExited:r.bind(null,l),in:s.props.in,exit:qh(l,"exit",e),enter:qh(l,"enter",e)}))}}),i}(function(e,t){t.__esModule=!0,t.default=void 0;var r=l(R1),n=l(G),i=tee,o=p0;function l(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(p==null)return{};var v={},x=Object.keys(p),y,b;for(b=0;b<x.length;b++)y=x[b],!(g.indexOf(y)>=0)&&(v[y]=p[y]);return v}function a(){return a=Object.assign||function(p){for(var g=1;g<arguments.length;g++){var v=arguments[g];for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(p[x]=v[x])}return p},a.apply(this,arguments)}function s(p,g){p.prototype=Object.create(g.prototype),p.prototype.constructor=p,p.__proto__=g}function u(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}var d=Object.values||function(p){return Object.keys(p).map(function(g){return p[g]})},h={component:"div",childFactory:function(g){return g}},f=function(p){s(g,p);function g(x,y){var b;b=p.call(this,x,y)||this;var w=b.handleExited.bind(u(u(b)));return b.state={handleExited:w,firstRender:!0},b}var v=g.prototype;return v.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},v.componentDidMount=function(){this.appeared=!0,this.mounted=!0},v.componentWillUnmount=function(){this.mounted=!1},g.getDerivedStateFromProps=function(y,b){var w=b.children,_=b.handleExited,S=b.firstRender;return{children:S?(0,o.getInitialChildMapping)(y,_):(0,o.getNextChildMapping)(y,w,_),firstRender:!1}},v.handleExited=function(y,b){var w=(0,o.getChildMapping)(this.props.children);y.key in w||(y.props.onExited&&y.props.onExited(b),this.mounted&&this.setState(function(_){var S=a({},_.children);return delete S[y.key],{children:S}}))},v.render=function(){var y=this.props,b=y.component,w=y.childFactory,_=c(y,["component","childFactory"]),S=d(this.state.children).map(w);return delete _.appear,delete _.enter,delete _.exit,b===null?S:n.default.createElement(b,_,S)},g}(n.default.Component);f.childContextTypes={transitionGroup:r.default.object.isRequired},f.propTypes={},f.defaultProps=h;var m=(0,i.polyfill)(f);t.default=m,e.exports=t.default})(ik,ik.exports);var iee=ik.exports;(function(e,t){t.__esModule=!0,t.default=void 0,o(R1);var r=o(G),n=Og,i=o(iee);function o(u){return u&&u.__esModule?u:{default:u}}function l(u,d){if(u==null)return{};var h={},f=Object.keys(u),m,p;for(p=0;p<f.length;p++)m=f[p],!(d.indexOf(m)>=0)&&(h[m]=u[m]);return h}function c(u,d){u.prototype=Object.create(d.prototype),u.prototype.constructor=u,u.__proto__=d}var a=function(u){c(d,u);function d(){for(var f,m=arguments.length,p=new Array(m),g=0;g<m;g++)p[g]=arguments[g];return f=u.call.apply(u,[this].concat(p))||this,f.handleEnter=function(){for(var v=arguments.length,x=new Array(v),y=0;y<v;y++)x[y]=arguments[y];return f.handleLifecycle("onEnter",0,x)},f.handleEntering=function(){for(var v=arguments.length,x=new Array(v),y=0;y<v;y++)x[y]=arguments[y];return f.handleLifecycle("onEntering",0,x)},f.handleEntered=function(){for(var v=arguments.length,x=new Array(v),y=0;y<v;y++)x[y]=arguments[y];return f.handleLifecycle("onEntered",0,x)},f.handleExit=function(){for(var v=arguments.length,x=new Array(v),y=0;y<v;y++)x[y]=arguments[y];return f.handleLifecycle("onExit",1,x)},f.handleExiting=function(){for(var v=arguments.length,x=new Array(v),y=0;y<v;y++)x[y]=arguments[y];return f.handleLifecycle("onExiting",1,x)},f.handleExited=function(){for(var v=arguments.length,x=new Array(v),y=0;y<v;y++)x[y]=arguments[y];return f.handleLifecycle("onExited",1,x)},f}var h=d.prototype;return h.handleLifecycle=function(m,p,g){var v,x=this.props.children,y=r.default.Children.toArray(x)[p];y.props[m]&&(v=y.props)[m].apply(v,g),this.props[m]&&this.props[m]((0,n.findDOMNode)(this))},h.render=function(){var m=this.props,p=m.children,g=m.in,v=l(m,["children","in"]),x=r.default.Children.toArray(p),y=x[0],b=x[1];return delete v.onEnter,delete v.onEntering,delete v.onEntered,delete v.onExit,delete v.onExiting,delete v.onExited,r.default.createElement(i.default,v,g?r.default.cloneElement(y,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(b,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},d}(r.default.Component);a.propTypes={};var s=a;t.default=s,e.exports=t.default})(nk,nk.exports);var Zqe=nk.exports,eYe=l3(Kqe),tYe=l3(Zqe),rYe=l3(iee),nYe=l3(ho);function l3(e){return e&&e.__esModule?e:{default:e}}var iYe={Transition:nYe.default,TransitionGroup:rYe.default,ReplaceTransition:tYe.default,CSSTransition:eYe.default},Jw,oee,vv,Bs=G,aee=(vv=zqe)&&typeof vv=="object"&&"default"in vv?vv.default:vv,oYe=iYe,UU={scale:{entering:{transform:"translateX(-50%) scale(1.5)"},entered:{transform:"translateX(-50%) scale(1)"},exiting:{transform:"translateX(-50%) scale(1.5)"},exited:{transform:"translateX(-50%) scale(1)"}},rotate:{entering:{transform:"translateX(-50%) rotate(360deg)"},entered:{transform:"translateX(-50%) rotate(0deg)"},exiting:{transform:"translateX(-50%) rotate(0deg)"},exited:{transform:"translateX(-50%) rotate(360deg)"}},skew:{entering:{transform:"translateX(-50%) skewX(20deg)"},entered:{transform:"translateX(-50%) skewX(0deg)"},exiting:{transform:"translateX(-50%) skewX(20deg)"},exited:{transform:"translateX(-50%) skewX(0deg)"}}};function see(e){return(e>100||e<0||typeof e!="number")&&console.warn("[react-step-progress-bar]: The value passed to percent or position needs to be a number between 0 and 100 (passed value: "+e+")."),Math.min(100,Math.max(e,0))}var aYe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.render=function(){var r=this.props,n=r.accomplished,i=r.index,o=r.children,l=r.transition;l===void 0&&(l=null);var c=r.transitionDuration;c===void 0&&(c=300);var a=see(r.position),s={left:a+"%",transitionDuration:c+"ms"};return Bs.createElement(oYe.Transition,{in:n,timeout:c},function(u){return l&&(aee(UU[l]!=null,l+" is not listed in the built-in transitions."),s=Object.assign({},s,UU[l][u])),Bs.createElement("div",{className:"RSPBstep",style:s},o({accomplished:n,position:a,transitionState:u,index:i}))})},t}(Bs.Component),sYe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.render=function(){var r=this.props,n=r.percent,i=r.children,o=r.stepPositions;o===void 0&&(o=[]);var l=r.unfilledBackground;l===void 0&&(l=null);var c=r.filledBackground;c===void 0&&(c=null);var a=r.width;a===void 0&&(a=null);var s=r.height;s===void 0&&(s=null);var u=r.hasStepZero;u===void 0&&(u=!0);var d=r.text;d===void 0&&(d=null),aee(!(o.length>0&&o.length!==Bs.Children.count(i)),"When specifying a stepPositions props, the number of children must match the length of the positions array.");var h=see(n);return Bs.createElement("div",{className:"RSPBprogressBar",style:{background:l,width:a,height:s}},Bs.Children.map(i,function(f,m){var p=o.length>0?o[m]:function(g,v,x){return x?100/(g-1)*v:100/g*(v+1)}(Bs.Children.count(i),m,u);return Bs.cloneElement(f,{accomplished:p<=h,position:p,index:m})}),d?Bs.createElement("div",{className:"RSPBprogressBarText"},d):null,Bs.createElement("div",{className:"RSPBprogression",style:{background:c,width:h+"%"}}))},t}(Bs.Component);oee=sYe,Jw=aYe;const lYe=({page:e,onPageNumberClick:t})=>{var r=0;return e==="addJob"?r=33:e==="aboutJob"?r=67:e==="confrm"?r=100:r=0,F.jsxs(oee,{percent:r,children:[F.jsx(Jw,{children:({accomplished:n,index:i})=>F.jsx("div",{className:`indexedStep ${n?"accomplished":null}`,onClick:()=>t("1"),children:i+1})}),F.jsx(Jw,{children:({accomplished:n,index:i})=>F.jsx("div",{className:`indexedStep ${n?"accomplished":null}`,onClick:()=>t("2"),children:i+1})}),F.jsx(Jw,{children:({accomplished:n,index:i})=>F.jsx("div",{className:`indexedStep ${n?"accomplished":null}`,onClick:()=>t("3"),children:i+1})})]})},lee="/jb.jpg",cYe=()=>{const[e,t]=G.useState("addJob"),[r,n]=G.useState(""),i=c=>{t(c)},o=c=>{n(c)},l=c=>{switch(c){case"1":t("addJob");break;case"2":t("aboutJob");break;case"3":t("cnfrm");break;case"4":alert("Ooops! Seems like you did not fill the form.");break;default:t("1")}};return F.jsxs("div",{className:"job-cont",children:[F.jsxs("div",{className:"job-cont-head",children:[F.jsxs("div",{className:"header",children:[F.jsx("h2",{children:"JOb Posting Made Easy"}),F.jsx("p",{children:"Simplify your hiring process with our user-friendly job posting platform. Create, edit, and publish job listings effortlessly, reaching a wider audience to find the perfect candidates for your team"}),F.jsx("button",{className:"read-btn",children:F.jsx("a",{href:"#fr",style:{textDecoration:"none",color:"black"},children:"Post a Job"})})]}),F.jsx("div",{className:"img_section",children:F.jsx("img",{src:lee,alt:"",className:"img_about"})})]}),F.jsxs("div",{className:"job-cont-form",id:"fr",children:[F.jsx("h2",{children:"Post a Job in minutes. Start with Recruitments Easily"}),F.jsx(lYe,{page:e,onPageNumberClick:l}),{addJob:F.jsx(Iqe,{onButtonClick:i,job:o,jobID:r}),aboutJob:F.jsx(Oqe,{onButtonClick:i,job:o,jobID:r}),confrm:F.jsx(Rqe,{onButtonClick:i})}[e]]})]})};function uYe(e){return Br({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M11.999 0c-2.25 0-4.5.06-6.6.21a5.57 5.57 0 00-5.19 5.1c-.24 3.21-.27 6.39-.06 9.6a5.644 5.644 0 005.7 5.19h3.15v-3.9h-3.15c-.93.03-1.74-.63-1.83-1.56-.18-3-.15-6 .06-9 .06-.84.72-1.47 1.56-1.53 2.04-.15 4.2-.21 6.36-.21s4.32.09 6.36.18c.81.06 1.5.69 1.56 1.53.24 3 .24 6 .06 9-.12.93-.9 1.62-1.83 1.59h-3.15l-6 3.9V24l6-3.9h3.15c2.97.03 5.46-2.25 5.7-5.19.21-3.18.18-6.39-.03-9.57a5.57 5.57 0 00-5.19-5.1c-2.13-.18-4.38-.24-6.63-.24zm-5.04 8.76c-.36 0-.66.3-.66.66v2.34c0 .33.18.63.48.78 1.62.78 3.42 1.2 5.22 1.26 1.8-.06 3.6-.48 5.22-1.26.3-.15.48-.45.48-.78V9.42c0-.09-.03-.15-.09-.21a.648.648 0 00-.87-.36c-1.5.66-3.12 1.02-4.77 1.05-1.65-.03-3.27-.42-4.77-1.08a.566.566 0 00-.24-.06z"}}]})(e)}function dYe(e){return Br({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 320L192 192m0 128l128-128"}}]})(e)}const hYe=({clos:e})=>{const[t,r]=G.useState([]),[n,i]=G.useState(""),o=G.useRef(null),l=async()=>{if(n.trim()){r(c=>[...c,{text:n,type:"user"}]),i("");try{console.log(n);const c=await Eu.post("https://4166-2409-4071-2308-217b-51a0-e976-9bb7-5ecd.ngrok-free.app/webhook",{text:n},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:5173"}});console.log(c),r(a=>[...a,{text:c.data,type:"chatbot"}]),o.current.scrollTop=o.current.scrollHeight}catch(c){console.error("Error processing message:",c)}}};return F.jsx(e1e,{component:"main",maxWidth:"xs",style:{marginTop:"50px",background:"black"},children:F.jsxs(uX,{elevation:3,style:{padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",background:"rgba(60, 60, 60, 0.329)",color:"white",width:"400px",maxHeight:"400px"},children:[F.jsxs("div",{className:"inline-head",style:{display:"flex ",alignItems:"center",justifyContent:"space-around",width:"100%"},children:[F.jsx("h2",{style:{color:"aqua"},children:" InfoBOT "}),F.jsx("span",{children:F.jsx(dYe,{style:{fontSize:"2rem",color:"red",cursor:"pointer"},onClick:e})})]}),F.jsx(Wye,{ref:o,style:{width:"410px",marginTop:"20px",paddingTop:"20px",paddingBottom:"20px",maxHeight:"600px",overflowY:"auto",border:"1px solid #ccc",background:"black"},children:t.map((c,a)=>F.jsx("div",{style:{textAlign:c.type==="chatbot"?"left":"right",marginBottom:"24px"},children:F.jsx(eye,{component:"span",variant:"body1",style:{color:c.type==="chatbot"?"white":"lime",padding:"8px",borderRadius:"7px"},children:c.text})},a))}),F.jsxs(LA,{container:!0,spacing:2,style:{marginTop:"20px"},children:[F.jsx(LA,{item:!0,xs:8,children:F.jsx(rxe,{variant:"outlined",fullWidth:!0,placeholder:"Type your message...",value:n,onChange:c=>i(c.target.value),style:{color:"white",background:"gray"}})}),F.jsx(LA,{item:!0,xs:4,children:F.jsx(Zye,{variant:"contained",color:"primary",fullWidth:!0,onClick:l,style:{padding:"13px"},children:"Send"})})]})]})})},fYe=()=>{const[e,t]=G.useState();return G.useEffect(()=>{(async()=>{try{const n=await Eu.post("http://localhost:3000/api/v1/job/fetchLastAddedJob",{headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"http://localhost:5173/"}});console.log(n),t(n.data.data)}catch(n){console.log(n)}})()},[]),F.jsx(F.Fragment,{children:e&&F.jsxs("div",{className:"job-post-card",children:[F.jsx("h2",{children:e.jobTitle}),F.jsxs("div",{className:"top-line",children:[F.jsxs("p",{children:[F.jsx(DG,{})," ",F.jsx("span",{children:e.jobLocation})]}),F.jsxs("p",{children:[F.jsx(yD,{})," ",e.jobTimings]})]}),F.jsx("p",{children:e.jobDescription}),F.jsx("p",{children:e.interviewDetails}),F.jsxs("div",{className:"top-line",children:[F.jsxs("p",{children:["Experience: ",e.minExperience," - ",e.maxExperience]}),F.jsxs("p",{children:[" ",F.jsx(kG,{})," ",F.jsx("span",{children:e.monthlySalary})," "]})," "]}),F.jsxs("p",{children:["Preferred Language: ",e.preferredLanguage]}),F.jsxs("p",{children:["Skills: ",e.skills]})]})})},pYe=()=>{G.useEffect(()=>{},[]),G.useState([]);const[e,t]=G.useState(!1),r=()=>{t(!e)};return F.jsxs("div",{className:"js-cont",children:[F.jsxs("div",{className:"job-cont-head",children:[F.jsxs("div",{className:"header",children:[F.jsx("h2",{children:"JOb Posting Made Easy"}),F.jsx("p",{children:"Simplify your hiring process with our user-friendly job posting platform. Create, edit, and publish job listings effortlessly, reaching a wider audience to find the perfect candidates for your team"}),F.jsx("button",{className:"read-btn",children:F.jsx($h,{to:"/job",style:{color:"black"},children:"Post a Job"})})]}),F.jsx("div",{className:"img_section",children:F.jsx("img",{src:lee,alt:"",className:"img_about"})})]}),F.jsx(fYe,{}),F.jsx("h3",{className:"my-projects",children:"Listed Users"}),F.jsx("div",{className:"js-users-cont",children:oxe.map((n,i)=>F.jsxs("div",{className:"user-card",children:[F.jsx("h3",{children:n.name}),F.jsx("p",{children:n.desc}),F.jsx("a",{href:n.resume,children:"Link to Resume"}),F.jsx("span",{children:n.country}),F.jsx("span",{children:n.email})]},i))}),F.jsxs("div",{className:"js-chatbot",children:[!e&&F.jsx(uYe,{className:"bot-icon",onClick:r}),e&&F.jsx(hYe,{clos:r})]})]})};function mYe(){wS();const e=rie([{path:"/",element:F.jsx(qFe,{}),children:[{path:"/auth",element:F.jsx(spe,{})},{path:"/sign",element:F.jsx(lxe,{})},{path:"/home",element:F.jsx(BFe,{})},{path:"/about",element:F.jsx(iZ,{})},{path:"/hero",element:F.jsx(oZ,{})},{path:"/createPost",element:F.jsx(Mqe,{})},{path:"/job",element:F.jsx(cYe,{})},{path:"/user",element:F.jsx(sxe,{})},{path:"/userProfile",element:F.jsx(ffe,{})},{path:"/addproject",element:F.jsx(hfe,{})},{path:"/empower",element:F.jsx(jqe,{})},{path:"/js",element:F.jsx(pYe,{})}]}]);return F.jsx(F.Fragment,{children:F.jsx(vW,{children:F.jsx(die,{router:e})})})}aT.createRoot(document.getElementById("root")).render(F.jsx(Et.StrictMode,{children:F.jsx(vW,{children:F.jsx(mYe,{})})}))});export default gYe();
